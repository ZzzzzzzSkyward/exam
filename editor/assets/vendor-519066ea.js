function e(e,t){const n=Object.create(null),i=e.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}const t=e("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt"),n=e("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function i(e){return!!e||""===e}function r(e){if(D(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],o=M(i)?a(i):r(i);if(o)for(const e in o)t[e]=o[e]}return t}return M(e)||I(e)?e:void 0}const o=/;(?![^(]*\))/g,s=/:(.+)/;function a(e){const t={};return e.split(o).forEach((e=>{if(e){const n=e.split(s);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function l(e){let t="";if(M(e))t=e;else if(D(e))for(let n=0;n<e.length;n++){const i=l(e[n]);i&&(t+=i+" ")}else if(I(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const c=e("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot"),u=e("svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view"),h=e("area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr");function d(e,t){if(e===t)return!0;let n=T(e),i=T(t);if(n||i)return!(!n||!i)&&e.getTime()===t.getTime();if(n=D(e),i=D(t),n||i)return!(!n||!i)&&function(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=d(e[i],t[i]);return n}(e,t);if(n=I(e),i=I(t),n||i){if(!n||!i)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){const i=e.hasOwnProperty(n),r=t.hasOwnProperty(n);if(i&&!r||!i&&r||!d(e[n],t[n]))return!1}}return String(e)===String(t)}function f(e,t){return e.findIndex((e=>d(e,t)))}const p=(e,t)=>t&&t.__v_isRef?p(e,t.value):E(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:L(t)?{[`Set(${t.size})`]:[...t.values()]}:!I(t)||D(t)||P(t)?t:String(t),g={},m=[],v=()=>{},y=()=>!1,b=/^on[^a-z]/,_=e=>b.test(e),w=e=>e.startsWith("onUpdate:"),C=Object.assign,x=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},k=Object.prototype.hasOwnProperty,S=(e,t)=>k.call(e,t),D=Array.isArray,E=e=>"[object Map]"===R(e),L=e=>"[object Set]"===R(e),T=e=>e instanceof Date,N=e=>"function"==typeof e,M=e=>"string"==typeof e,A=e=>"symbol"==typeof e,I=e=>null!==e&&"object"==typeof e,O=e=>I(e)&&N(e.then)&&N(e.catch),F=Object.prototype.toString,R=e=>F.call(e),P=e=>"[object Object]"===R(e),B=e=>M(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,j=e(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),z=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},V=/-(\w)/g,W=z((e=>e.replace(V,((e,t)=>t?t.toUpperCase():"")))),H=/\B([A-Z])/g,U=z((e=>e.replace(H,"-$1").toLowerCase())),$=z((e=>e.charAt(0).toUpperCase()+e.slice(1))),q=z((e=>e?`on${$(e)}`:"")),K=(e,t)=>!Object.is(e,t),Y=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},G=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},X=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Z;let J;const Q=[];class ee{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&J&&(this.parent=J,this.index=(J.scopes||(J.scopes=[])).push(this)-1)}run(e){if(this.active)try{return this.on(),e()}finally{this.off()}}on(){this.active&&(Q.push(this),J=this)}off(){this.active&&(Q.pop(),J=Q[Q.length-1])}stop(e){if(this.active){if(this.effects.forEach((e=>e.stop())),this.cleanups.forEach((e=>e())),this.scopes&&this.scopes.forEach((e=>e.stop(!0))),this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.active=!1}}}function te(e,t){(t=t||J)&&t.active&&t.effects.push(e)}const ne=e=>{const t=new Set(e);return t.w=0,t.n=0,t},ie=e=>(e.w&ae)>0,re=e=>(e.n&ae)>0,oe=new WeakMap;let se=0,ae=1;const le=[];let ce;const ue=Symbol(""),he=Symbol("");class de{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],te(this,n)}run(){if(!this.active)return this.fn();if(!le.includes(this))try{return le.push(ce=this),ge.push(pe),pe=!0,ae=1<<++se,se<=30?(({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=ae})(this):fe(this),this.fn()}finally{se<=30&&(e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const r=t[i];ie(r)&&!re(r)?r.delete(e):t[n++]=r,r.w&=~ae,r.n&=~ae}t.length=n}})(this),ae=1<<--se,ve(),le.pop();const e=le.length;ce=e>0?le[e-1]:void 0}}stop(){this.active&&(fe(this),this.onStop&&this.onStop(),this.active=!1)}}function fe(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let pe=!0;const ge=[];function me(){ge.push(pe),pe=!1}function ve(){const e=ge.pop();pe=void 0===e||e}function ye(e,t,n){if(!be())return;let i=oe.get(e);i||oe.set(e,i=new Map);let r=i.get(n);r||i.set(n,r=ne()),_e(r)}function be(){return pe&&void 0!==ce}function _e(e,t){let n=!1;se<=30?re(e)||(e.n|=ae,n=!ie(e)):n=!e.has(ce),n&&(e.add(ce),ce.deps.push(e))}function we(e,t,n,i,r,o){const s=oe.get(e);if(!s)return;let a=[];if("clear"===t)a=[...s.values()];else if("length"===n&&D(e))s.forEach(((e,t)=>{("length"===t||t>=i)&&a.push(e)}));else switch(void 0!==n&&a.push(s.get(n)),t){case"add":D(e)?B(n)&&a.push(s.get("length")):(a.push(s.get(ue)),E(e)&&a.push(s.get(he)));break;case"delete":D(e)||(a.push(s.get(ue)),E(e)&&a.push(s.get(he)));break;case"set":E(e)&&a.push(s.get(ue))}if(1===a.length)a[0]&&Ce(a[0]);else{const e=[];for(const t of a)t&&e.push(...t);Ce(ne(e))}}function Ce(e,t){for(const n of D(e)?e:[...e])(n!==ce||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const xe=e("__proto__,__v_isRef,__isVue"),ke=new Set(Object.getOwnPropertyNames(Symbol).map((e=>Symbol[e])).filter(A)),Se=Me(),De=Me(!1,!0),Ee=Me(!0),Le=Me(!0,!0),Te=Ne();function Ne(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=vt(this);for(let t=0,r=this.length;t<r;t++)ye(n,0,t+"");const i=n[t](...e);return-1===i||!1===i?n[t](...e.map(vt)):i}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){me();const n=vt(this)[t].apply(this,e);return ve(),n}})),e}function Me(e=!1,t=!1){return function(n,i,r){if("__v_isReactive"===i)return!e;if("__v_isReadonly"===i)return e;if("__v_raw"===i&&r===(e?t?lt:at:t?st:ot).get(n))return n;const o=D(n);if(!e&&o&&S(Te,i))return Reflect.get(Te,i,r);const s=Reflect.get(n,i,r);if(A(i)?ke.has(i):xe(i))return s;if(e||ye(n,0,i),t)return s;if(xt(s)){return!o||!B(i)?s.value:s}return I(s)?e?dt(s):ut(s):s}}function Ae(e=!1){return function(t,n,i,r){let o=t[n];if(!e&&(i=vt(i),o=vt(o),!D(t)&&xt(o)&&!xt(i)))return o.value=i,!0;const s=D(t)&&B(n)?Number(n)<t.length:S(t,n),a=Reflect.set(t,n,i,r);return t===vt(r)&&(s?K(i,o)&&we(t,"set",n,i):we(t,"add",n,i)),a}}const Ie={get:Se,set:Ae(),deleteProperty:function(e,t){const n=S(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&we(e,"delete",t,void 0),i},has:function(e,t){const n=Reflect.has(e,t);return A(t)&&ke.has(t)||ye(e,0,t),n},ownKeys:function(e){return ye(e,0,D(e)?"length":ue),Reflect.ownKeys(e)}},Oe={get:Ee,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},Fe=C({},Ie,{get:De,set:Ae(!0)}),Re=C({},Oe,{get:Le}),Pe=e=>e,Be=e=>Reflect.getPrototypeOf(e);function je(e,t,n=!1,i=!1){const r=vt(e=e.__v_raw),o=vt(t);t!==o&&!n&&ye(r,0,t),!n&&ye(r,0,o);const{has:s}=Be(r),a=i?Pe:n?_t:bt;return s.call(r,t)?a(e.get(t)):s.call(r,o)?a(e.get(o)):void(e!==r&&e.get(t))}function ze(e,t=!1){const n=this.__v_raw,i=vt(n),r=vt(e);return e!==r&&!t&&ye(i,0,e),!t&&ye(i,0,r),e===r?n.has(e):n.has(e)||n.has(r)}function Ve(e,t=!1){return e=e.__v_raw,!t&&ye(vt(e),0,ue),Reflect.get(e,"size",e)}function We(e){e=vt(e);const t=vt(this);return Be(t).has.call(t,e)||(t.add(e),we(t,"add",e,e)),this}function He(e,t){t=vt(t);const n=vt(this),{has:i,get:r}=Be(n);let o=i.call(n,e);o||(e=vt(e),o=i.call(n,e));const s=r.call(n,e);return n.set(e,t),o?K(t,s)&&we(n,"set",e,t):we(n,"add",e,t),this}function Ue(e){const t=vt(this),{has:n,get:i}=Be(t);let r=n.call(t,e);r||(e=vt(e),r=n.call(t,e)),i&&i.call(t,e);const o=t.delete(e);return r&&we(t,"delete",e,void 0),o}function $e(){const e=vt(this),t=0!==e.size,n=e.clear();return t&&we(e,"clear",void 0,void 0),n}function qe(e,t){return function(n,i){const r=this,o=r.__v_raw,s=vt(o),a=t?Pe:e?_t:bt;return!e&&ye(s,0,ue),o.forEach(((e,t)=>n.call(i,a(e),a(t),r)))}}function Ke(e,t,n){return function(...i){const r=this.__v_raw,o=vt(r),s=E(o),a="entries"===e||e===Symbol.iterator&&s,l="keys"===e&&s,c=r[e](...i),u=n?Pe:t?_t:bt;return!t&&ye(o,0,l?he:ue),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:a?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}function Ye(e){return function(...t){return"delete"!==e&&this}}function Ge(){const e={get(e){return je(this,e)},get size(){return Ve(this)},has:ze,add:We,set:He,delete:Ue,clear:$e,forEach:qe(!1,!1)},t={get(e){return je(this,e,!1,!0)},get size(){return Ve(this)},has:ze,add:We,set:He,delete:Ue,clear:$e,forEach:qe(!1,!0)},n={get(e){return je(this,e,!0)},get size(){return Ve(this,!0)},has(e){return ze.call(this,e,!0)},add:Ye("add"),set:Ye("set"),delete:Ye("delete"),clear:Ye("clear"),forEach:qe(!0,!1)},i={get(e){return je(this,e,!0,!0)},get size(){return Ve(this,!0)},has(e){return ze.call(this,e,!0)},add:Ye("add"),set:Ye("set"),delete:Ye("delete"),clear:Ye("clear"),forEach:qe(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((r=>{e[r]=Ke(r,!1,!1),n[r]=Ke(r,!0,!1),t[r]=Ke(r,!1,!0),i[r]=Ke(r,!0,!0)})),[e,n,t,i]}const[Xe,Ze,Je,Qe]=Ge();function et(e,t){const n=t?e?Qe:Je:e?Ze:Xe;return(t,i,r)=>"__v_isReactive"===i?!e:"__v_isReadonly"===i?e:"__v_raw"===i?t:Reflect.get(S(n,i)&&i in t?n:t,i,r)}const tt={get:et(!1,!1)},nt={get:et(!1,!0)},it={get:et(!0,!1)},rt={get:et(!0,!0)},ot=new WeakMap,st=new WeakMap,at=new WeakMap,lt=new WeakMap;function ct(e){return e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((e=>R(e).slice(8,-1))(e))}function ut(e){return e&&e.__v_isReadonly?e:ft(e,!1,Ie,tt,ot)}function ht(e){return ft(e,!1,Fe,nt,st)}function dt(e){return ft(e,!0,Oe,it,at)}function ft(e,t,n,i,r){if(!I(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const o=r.get(e);if(o)return o;const s=ct(e);if(0===s)return e;const a=new Proxy(e,2===s?i:n);return r.set(e,a),a}function pt(e){return gt(e)?pt(e.__v_raw):!(!e||!e.__v_isReactive)}function gt(e){return!(!e||!e.__v_isReadonly)}function mt(e){return pt(e)||gt(e)}function vt(e){const t=e&&e.__v_raw;return t?vt(t):e}function yt(e){return G(e,"__v_skip",!0),e}const bt=e=>I(e)?ut(e):e,_t=e=>I(e)?dt(e):e;function wt(e){be()&&((e=vt(e)).dep||(e.dep=ne()),_e(e.dep))}function Ct(e,t){(e=vt(e)).dep&&Ce(e.dep)}function xt(e){return Boolean(e&&!0===e.__v_isRef)}function kt(e){return Dt(e,!1)}function St(e){return Dt(e,!0)}function Dt(e,t){return xt(e)?e:new Et(e,t)}class Et{constructor(e,t){this._shallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:vt(e),this._value=t?e:bt(e)}get value(){return wt(this),this._value}set value(e){e=this._shallow?e:vt(e),K(e,this._rawValue)&&(this._rawValue=e,this._value=this._shallow?e:bt(e),Ct(this))}}function Lt(e){return xt(e)?e.value:e}const Tt={get:(e,t,n)=>Lt(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return xt(r)&&!xt(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function Nt(e){return pt(e)?e:new Proxy(e,Tt)}class Mt{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:t,set:n}=e((()=>wt(this)),(()=>Ct(this)));this._get=t,this._set=n}get value(){return this._get()}set value(e){this._set(e)}}class At{constructor(e,t){this._object=e,this._key=t,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(e){this._object[this._key]=e}}function It(e,t){const n=e[t];return xt(n)?n:new At(e,t)}class Ot{constructor(e,t,n){this._setter=t,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new de(e,(()=>{this._dirty||(this._dirty=!0,Ct(this))})),this.__v_isReadonly=n}get value(){const e=vt(this);return wt(e),e._dirty&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Ft(e,t){let n,i;const r=N(e);r?(n=e,i=v):(n=e.get,i=e.set);return new Ot(n,i,r||!i)}let Rt;Promise.resolve();let Pt=[];function Bt(e,t,...n){const i=e.vnode.props||g;let r=n;const o=t.startsWith("update:"),s=o&&t.slice(7);if(s&&s in i){const e=`${"modelValue"===s?"model":s}Modifiers`,{number:t,trim:o}=i[e]||g;o?r=n.map((e=>e.trim())):t&&(r=n.map(X))}let a,l=i[a=q(t)]||i[a=q(W(t))];!l&&o&&(l=i[a=q(U(t))]),l&&jr(l,e,6,r);const c=i[a+"Once"];if(c){if(e.emitted){if(e.emitted[a])return}else e.emitted={};e.emitted[a]=!0,jr(c,e,6,r)}}function jt(e,t,n=!1){const i=t.emitsCache,r=i.get(e);if(void 0!==r)return r;const o=e.emits;let s={},a=!1;if(!N(e)){const i=e=>{const n=jt(e,t,!0);n&&(a=!0,C(s,n))};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}return o||a?(D(o)?o.forEach((e=>s[e]=null)):C(s,o),i.set(e,s),s):(i.set(e,null),null)}function zt(e,t){return!(!e||!_(t))&&(t=t.slice(2).replace(/Once$/,""),S(e,t[0].toLowerCase()+t.slice(1))||S(e,U(t))||S(e,t))}let Vt=null,Wt=null;function Ht(e){const t=Vt;return Vt=e,Wt=e&&e.type.__scopeId||null,t}function Ut(e,t=Vt,n){if(!t)return e;if(e._n)return e;const i=(...n)=>{i._d&&Ui(-1);const r=Ht(t),o=e(...n);return Ht(r),i._d&&Ui(1),o};return i._n=!0,i._c=!0,i._d=!0,i}function $t(e){const{type:t,vnode:n,proxy:i,withProxy:r,props:o,propsOptions:[s],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:d,setupState:f,ctx:p,inheritAttrs:g}=e;let m,v;const y=Ht(e);try{if(4&n.shapeFlag){const e=r||i;m=rr(u.call(e,e,h,o,f,d,p)),v=l}else{const e=t;0,m=rr(e.length>1?e(o,{attrs:l,slots:a,emit:c}):e(o,null)),v=t.props?l:qt(l)}}catch(_){ji.length=0,zr(_,e,1),m=er(Pi)}let b=m;if(v&&!1!==g){const e=Object.keys(v),{shapeFlag:t}=b;e.length&&7&t&&(s&&e.some(w)&&(v=Kt(v,s)),b=nr(b,v))}return n.dirs&&(b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(b.transition=n.transition),m=b,Ht(y),m}const qt=e=>{let t;for(const n in e)("class"===n||"style"===n||_(n))&&((t||(t={}))[n]=e[n]);return t},Kt=(e,t)=>{const n={};for(const i in e)w(i)&&i.slice(9)in t||(n[i]=e[i]);return n};function Yt(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const o=i[r];if(t[o]!==e[o]&&!zt(n,o))return!0}return!1}function Gt({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Xt={name:"Suspense",__isSuspense:!0,process(e,t,n,i,r,o,s,a,l,c){null==e?function(e,t,n,i,r,o,s,a,l){const{p:c,o:{createElement:u}}=l,h=u("div"),d=e.suspense=Qt(e,r,i,t,h,n,o,s,a,l);c(null,d.pendingBranch=e.ssContent,h,null,i,d,o,s),d.deps>0?(Jt(e,"onPending"),Jt(e,"onFallback"),c(null,e.ssFallback,t,n,i,null,o,s),nn(d,e.ssFallback)):d.resolve()}(t,n,i,r,o,s,a,l,c):function(e,t,n,i,r,o,s,a,{p:l,um:c,o:{createElement:u}}){const h=t.suspense=e.suspense;h.vnode=t,t.el=e.el;const d=t.ssContent,f=t.ssFallback,{activeBranch:p,pendingBranch:g,isInFallback:m,isHydrating:v}=h;if(g)h.pendingBranch=d,Gi(d,g)?(l(g,d,h.hiddenContainer,null,r,h,o,s,a),h.deps<=0?h.resolve():m&&(l(p,f,n,i,r,null,o,s,a),nn(h,f))):(h.pendingId++,v?(h.isHydrating=!1,h.activeBranch=g):c(g,r,h),h.deps=0,h.effects.length=0,h.hiddenContainer=u("div"),m?(l(null,d,h.hiddenContainer,null,r,h,o,s,a),h.deps<=0?h.resolve():(l(p,f,n,i,r,null,o,s,a),nn(h,f))):p&&Gi(d,p)?(l(p,d,n,i,r,h,o,s,a),h.resolve(!0)):(l(null,d,h.hiddenContainer,null,r,h,o,s,a),h.deps<=0&&h.resolve()));else if(p&&Gi(d,p))l(p,d,n,i,r,h,o,s,a),nn(h,d);else if(Jt(t,"onPending"),h.pendingBranch=d,h.pendingId++,l(null,d,h.hiddenContainer,null,r,h,o,s,a),h.deps<=0)h.resolve();else{const{timeout:e,pendingId:t}=h;e>0?setTimeout((()=>{h.pendingId===t&&h.fallback(f)}),e):0===e&&h.fallback(f)}}(e,t,n,i,r,s,a,l,c)},hydrate:function(e,t,n,i,r,o,s,a,l){const c=t.suspense=Qt(t,i,n,e.parentNode,document.createElement("div"),null,r,o,s,a,!0),u=l(e,c.pendingBranch=t.ssContent,n,c,o,s);0===c.deps&&c.resolve();return u},create:Qt,normalize:function(e){const{shapeFlag:t,children:n}=e,i=32&t;e.ssContent=en(i?n.default:n),e.ssFallback=i?en(n.fallback):er(Pi)}},Zt=Xt;function Jt(e,t){const n=e.props&&e.props[t];N(n)&&n()}function Qt(e,t,n,i,r,o,s,a,l,c,u=!1){const{p:h,m:d,um:f,n:p,o:{parentNode:g,remove:m}}=c,v=X(e.props&&e.props.timeout),y={vnode:e,parent:t,parentComponent:n,isSVG:s,container:i,hiddenContainer:r,anchor:o,deps:0,pendingId:0,timeout:"number"==typeof v?v:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:u,isUnmounted:!1,effects:[],resolve(e=!1){const{vnode:t,activeBranch:n,pendingBranch:i,pendingId:r,effects:o,parentComponent:s,container:a}=y;if(y.isHydrating)y.isHydrating=!1;else if(!e){const e=n&&i.transition&&"out-in"===i.transition.mode;e&&(n.transition.afterLeave=()=>{r===y.pendingId&&d(i,a,t,0)});let{anchor:t}=y;n&&(t=p(n),f(n,s,y,!0)),e||d(i,a,t,0)}nn(y,i),y.pendingBranch=null,y.isInFallback=!1;let l=y.parent,c=!1;for(;l;){if(l.pendingBranch){l.effects.push(...o),c=!0;break}l=l.parent}c||ro(o),y.effects=[],Jt(t,"onResolve")},fallback(e){if(!y.pendingBranch)return;const{vnode:t,activeBranch:n,parentComponent:i,container:r,isSVG:o}=y;Jt(t,"onFallback");const s=p(n),c=()=>{y.isInFallback&&(h(null,e,r,s,i,null,o,a,l),nn(y,e))},u=e.transition&&"out-in"===e.transition.mode;u&&(n.transition.afterLeave=c),y.isInFallback=!0,f(n,i,null,!0),u||c()},move(e,t,n){y.activeBranch&&d(y.activeBranch,e,t,n),y.container=e},next:()=>y.activeBranch&&p(y.activeBranch),registerDep(e,t){const n=!!y.pendingBranch;n&&y.deps++;const i=e.vnode.el;e.asyncDep.catch((t=>{zr(t,e,0)})).then((r=>{if(e.isUnmounted||y.isUnmounted||y.pendingId!==e.suspenseId)return;e.asyncResolved=!0;const{vnode:o}=e;Dr(e,r,!1),i&&(o.el=i);const a=!i&&e.subTree.el;t(e,o,g(i||e.subTree.el),i?null:p(e.subTree),y,s,l),a&&m(a),Gt(e,o.el),n&&0==--y.deps&&y.resolve()}))},unmount(e,t){y.isUnmounted=!0,y.activeBranch&&f(y.activeBranch,n,e,t),y.pendingBranch&&f(y.pendingBranch,n,e,t)}};return y}function en(e){let t;if(N(e)){const n=Hi&&e._c;n&&(e._d=!1,Vi()),e=e(),n&&(e._d=!0,t=zi,Wi())}if(D(e)){const t=function(e){let t;for(let n=0;n<e.length;n++){const i=e[n];if(!Yi(i))return;if(i.type!==Pi||"v-if"===i.children){if(t)return;t=i}}return t}(e);e=t}return e=rr(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter((t=>t!==e))),e}function tn(e,t){t&&t.pendingBranch?D(e)?t.effects.push(...e):t.effects.push(e):ro(e)}function nn(e,t){e.activeBranch=t;const{vnode:n,parentComponent:i}=e,r=n.el=t.el;i&&i.subTree===n&&(i.vnode.el=r,Gt(i,r))}function rn(e,t){if(vr){let n=vr.provides;const i=vr.parent&&vr.parent.provides;i===n&&(n=vr.provides=Object.create(i)),n[e]=t}else;}function on(e,t,n=!1){const i=vr||Vt;if(i){const r=null==i.parent?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&N(t)?t.call(i.proxy):t}}function sn(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Mn((()=>{e.isMounted=!0})),On((()=>{e.isUnmounting=!0})),e}const an=[Function,Array],ln={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:an,onEnter:an,onAfterEnter:an,onEnterCancelled:an,onBeforeLeave:an,onLeave:an,onAfterLeave:an,onLeaveCancelled:an,onBeforeAppear:an,onAppear:an,onAfterAppear:an,onAppearCancelled:an},setup(e,{slots:t}){const n=yr(),i=sn();let r;return()=>{const o=t.default&&pn(t.default(),!0);if(!o||!o.length)return;const s=vt(e),{mode:a}=s,l=o[0];if(i.isLeaving)return hn(l);const c=dn(l);if(!c)return hn(l);const u=un(c,s,i,n);fn(c,u);const h=n.subTree,d=h&&dn(h);let f=!1;const{getTransitionKey:p}=c.type;if(p){const e=p();void 0===r?r=e:e!==r&&(r=e,f=!0)}if(d&&d.type!==Pi&&(!Gi(c,d)||f)){const e=un(d,s,i,n);if(fn(d,e),"out-in"===a)return i.isLeaving=!0,e.afterLeave=()=>{i.isLeaving=!1,n.update()},hn(l);"in-out"===a&&c.type!==Pi&&(e.delayLeave=(e,t,n)=>{cn(i,d)[String(d.key)]=d,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=n})}return l}}};function cn(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function un(e,t,n,i){const{appear:r,mode:o,persisted:s=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:h,onLeave:d,onAfterLeave:f,onLeaveCancelled:p,onBeforeAppear:g,onAppear:m,onAfterAppear:v,onAppearCancelled:y}=t,b=String(e.key),_=cn(n,e),w=(e,t)=>{e&&jr(e,i,9,t)},C={mode:o,persisted:s,beforeEnter(t){let i=a;if(!n.isMounted){if(!r)return;i=g||a}t._leaveCb&&t._leaveCb(!0);const o=_[b];o&&Gi(e,o)&&o.el._leaveCb&&o.el._leaveCb(),w(i,[t])},enter(e){let t=l,i=c,o=u;if(!n.isMounted){if(!r)return;t=m||l,i=v||c,o=y||u}let s=!1;const a=e._enterCb=t=>{s||(s=!0,w(t?o:i,[e]),C.delayedLeave&&C.delayedLeave(),e._enterCb=void 0)};t?(t(e,a),t.length<=1&&a()):a()},leave(t,i){const r=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return i();w(h,[t]);let o=!1;const s=t._leaveCb=n=>{o||(o=!0,i(),w(n?p:f,[t]),t._leaveCb=void 0,_[r]===e&&delete _[r])};_[r]=e,d?(d(t,s),d.length<=1&&s()):s()},clone:e=>un(e,t,n,i)};return C}function hn(e){if(yn(e))return(e=nr(e)).children=null,e}function dn(e){return yn(e)?e.children?e.children[0]:void 0:e}function fn(e,t){6&e.shapeFlag&&e.component?fn(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function pn(e,t=!1){let n=[],i=0;for(let r=0;r<e.length;r++){const o=e[r];o.type===Fi?(128&o.patchFlag&&i++,n=n.concat(pn(o.children,t))):(t||o.type!==Pi)&&n.push(o)}if(i>1)for(let r=0;r<n.length;r++)n[r].patchFlag=-2;return n}function gn(e){return N(e)?{setup:e,name:e.name}:e}const mn=e=>!!e.type.__asyncLoader;function vn(e,{vnode:{ref:t,props:n,children:i}}){const r=er(e,n,i);return r.ref=t,r}const yn=e=>e.type.__isKeepAlive,bn={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=yr(),i=n.ctx;if(!i.renderer)return t.default;const r=new Map,o=new Set;let s=null;const a=n.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:h}}}=i,d=h("div");function f(e){Dn(e),u(e,n,a)}function p(e){r.forEach(((t,n)=>{const i=Ar(t.type);!i||e&&e(i)||g(n)}))}function g(e){const t=r.get(e);s&&t.type===s.type?s&&Dn(s):f(t),r.delete(e),o.delete(e)}i.activate=(e,t,n,i,r)=>{const o=e.component;c(e,t,n,0,a),l(o.vnode,e,t,n,o,a,i,e.slotScopeIds,r),vi((()=>{o.isDeactivated=!1,o.a&&Y(o.a);const t=e.props&&e.props.onVnodeMounted;t&&Ci(t,o.parent,e)}),a)},i.deactivate=e=>{const t=e.component;c(e,d,null,1,a),vi((()=>{t.da&&Y(t.da);const n=e.props&&e.props.onVnodeUnmounted;n&&Ci(n,t.parent,e),t.isDeactivated=!0}),a)},fo((()=>[e.include,e.exclude]),(([e,t])=>{e&&p((t=>wn(e,t))),t&&p((e=>!wn(t,e)))}),{flush:"post",deep:!0});let m=null;const v=()=>{null!=m&&r.set(m,En(n.subTree))};return Mn(v),In(v),On((()=>{r.forEach((e=>{const{subTree:t,suspense:i}=n,r=En(t);if(e.type!==r.type)f(e);else{Dn(r);const e=r.component.da;e&&vi(e,i)}}))})),()=>{if(m=null,!t.default)return null;const n=t.default(),i=n[0];if(n.length>1)return s=null,n;if(!(Yi(i)&&(4&i.shapeFlag||128&i.shapeFlag)))return s=null,i;let a=En(i);const l=a.type,c=Ar(mn(a)?a.type.__asyncResolved||{}:l),{include:u,exclude:h,max:d}=e;if(u&&(!c||!wn(u,c))||h&&c&&wn(h,c))return s=a,i;const f=null==a.key?l:a.key,p=r.get(f);return a.el&&(a=nr(a),128&i.shapeFlag&&(i.ssContent=a)),m=f,p?(a.el=p.el,a.component=p.component,a.transition&&fn(a,a.transition),a.shapeFlag|=512,o.delete(f),o.add(f)):(o.add(f),d&&o.size>parseInt(d,10)&&g(o.values().next().value)),a.shapeFlag|=256,s=a,i}}},_n=bn;function wn(e,t){return D(e)?e.some((e=>wn(e,t))):M(e)?e.split(",").indexOf(t)>-1:!!e.test&&e.test(t)}function Cn(e,t){kn(e,"a",t)}function xn(e,t){kn(e,"da",t)}function kn(e,t,n=vr){const i=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}e()});if(Ln(t,i,n),n){let e=n.parent;for(;e&&e.parent;)yn(e.parent.vnode)&&Sn(i,t,n,e),e=e.parent}}function Sn(e,t,n,i){const r=Ln(t,e,i,!0);Fn((()=>{x(i[t],r)}),n)}function Dn(e){let t=e.shapeFlag;256&t&&(t-=256),512&t&&(t-=512),e.shapeFlag=t}function En(e){return 128&e.shapeFlag?e.ssContent:e}function Ln(e,t,n=vr,i=!1){if(n){const r=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;me(),br(n);const r=jr(t,n,e,i);return _r(),ve(),r});return i?r.unshift(o):r.push(o),o}}const Tn=e=>(t,n=vr)=>(!kr||"sp"===e)&&Ln(e,t,n),Nn=Tn("bm"),Mn=Tn("m"),An=Tn("bu"),In=Tn("u"),On=Tn("bum"),Fn=Tn("um"),Rn=Tn("sp"),Pn=Tn("rtg"),Bn=Tn("rtc");function jn(e,t=vr){Ln("ec",e,t)}let zn=!0;function Vn(e){const t=Un(e),n=e.proxy,i=e.ctx;zn=!1,t.beforeCreate&&Wn(t.beforeCreate,e,"bc");const{data:r,computed:o,methods:s,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:d,beforeUpdate:f,updated:p,activated:g,deactivated:m,beforeDestroy:y,beforeUnmount:b,destroyed:_,unmounted:w,render:C,renderTracked:x,renderTriggered:k,errorCaptured:S,serverPrefetch:E,expose:L,inheritAttrs:T,components:M,directives:A,filters:O}=t;if(c&&function(e,t,n=v,i=!1){D(e)&&(e=Yn(e));for(const r in e){const n=e[r];let o;o=I(n)?"default"in n?on(n.from||r,n.default,!0):on(n.from||r):on(n),xt(o)&&i?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:e=>o.value=e}):t[r]=o}}(c,i,null,e.appContext.config.unwrapInjectedRef),s)for(const v in s){const e=s[v];N(e)&&(i[v]=e.bind(n))}if(r){const t=r.call(n,n);I(t)&&(e.data=ut(t))}if(zn=!0,o)for(const D in o){const e=o[D],t=Ft({get:N(e)?e.bind(n,n):N(e.get)?e.get.bind(n,n):v,set:!N(e)&&N(e.set)?e.set.bind(n):v});Object.defineProperty(i,D,{enumerable:!0,configurable:!0,get:()=>t.value,set:e=>t.value=e})}if(a)for(const v in a)Hn(a[v],i,n,v);if(l){const e=N(l)?l.call(n):l;Reflect.ownKeys(e).forEach((t=>{rn(t,e[t])}))}function F(e,t){D(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(u&&Wn(u,e,"c"),F(Nn,h),F(Mn,d),F(An,f),F(In,p),F(Cn,g),F(xn,m),F(jn,S),F(Bn,x),F(Pn,k),F(On,b),F(Fn,w),F(Rn,E),D(L))if(L.length){const t=e.exposed||(e.exposed={});L.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});C&&e.render===v&&(e.render=C),null!=T&&(e.inheritAttrs=T),M&&(e.components=M),A&&(e.directives=A)}function Wn(e,t,n){jr(D(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function Hn(e,t,n,i){const r=i.includes(".")?mo(n,i):()=>n[i];if(M(e)){const n=t[e];N(n)&&fo(r,n)}else if(N(e))fo(r,e.bind(n));else if(I(e))if(D(e))e.forEach((e=>Hn(e,t,n,i)));else{const i=N(e.handler)?e.handler.bind(n):t[e.handler];N(i)&&fo(r,i,e)}}function Un(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,a=o.get(t);let l;return a?l=a:r.length||n||i?(l={},r.length&&r.forEach((e=>$n(l,e,s,!0))),$n(l,t,s)):l=t,o.set(t,l),l}function $n(e,t,n,i=!1){const{mixins:r,extends:o}=t;o&&$n(e,o,n,!0),r&&r.forEach((t=>$n(e,t,n,!0)));for(const s in t)if(i&&"expose"===s);else{const i=qn[s]||n&&n[s];e[s]=i?i(e[s],t[s]):t[s]}return e}const qn={data:Kn,props:Xn,emits:Xn,methods:Xn,computed:Xn,beforeCreate:Gn,created:Gn,beforeMount:Gn,mounted:Gn,beforeUpdate:Gn,updated:Gn,beforeDestroy:Gn,beforeUnmount:Gn,destroyed:Gn,unmounted:Gn,activated:Gn,deactivated:Gn,errorCaptured:Gn,serverPrefetch:Gn,components:Xn,directives:Xn,watch:function(e,t){if(!e)return t;if(!t)return e;const n=C(Object.create(null),e);for(const i in t)n[i]=Gn(e[i],t[i]);return n},provide:Kn,inject:function(e,t){return Xn(Yn(e),Yn(t))}};function Kn(e,t){return t?e?function(){return C(N(e)?e.call(this,this):e,N(t)?t.call(this,this):t)}:t:e}function Yn(e){if(D(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Gn(e,t){return e?[...new Set([].concat(e,t))]:t}function Xn(e,t){return e?C(C(Object.create(null),e),t):t}function Zn(e,t,n,i){const[r,o]=e.propsOptions;let s,a=!1;if(t)for(let l in t){if(j(l))continue;const c=t[l];let u;r&&S(r,u=W(l))?o&&o.includes(u)?(s||(s={}))[u]=c:n[u]=c:zt(e.emitsOptions,l)||c!==i[l]&&(i[l]=c,a=!0)}if(o){const t=vt(n),i=s||g;for(let s=0;s<o.length;s++){const a=o[s];n[a]=Jn(r,t,a,i[a],e,!S(i,a))}}return a}function Jn(e,t,n,i,r,o){const s=e[n];if(null!=s){const e=S(s,"default");if(e&&void 0===i){const e=s.default;if(s.type!==Function&&N(e)){const{propsDefaults:o}=r;n in o?i=o[n]:(br(r),i=o[n]=e.call(null,t),_r())}else i=e}s[0]&&(o&&!e?i=!1:!s[1]||""!==i&&i!==U(n)||(i=!0))}return i}function Qn(e,t,n=!1){const i=t.propsCache,r=i.get(e);if(r)return r;const o=e.props,s={},a=[];let l=!1;if(!N(e)){const i=e=>{l=!0;const[n,i]=Qn(e,t,!0);C(s,n),i&&a.push(...i)};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}if(!o&&!l)return i.set(e,m),m;if(D(o))for(let u=0;u<o.length;u++){const e=W(o[u]);ei(e)&&(s[e]=g)}else if(o)for(const u in o){const e=W(u);if(ei(e)){const t=o[u],n=s[e]=D(t)||N(t)?{type:t}:t;if(n){const t=ii(Boolean,n.type),i=ii(String,n.type);n[0]=t>-1,n[1]=i<0||t<i,(t>-1||S(n,"default"))&&a.push(e)}}}const c=[s,a];return i.set(e,c),c}function ei(e){return"$"!==e[0]}function ti(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function ni(e,t){return ti(e)===ti(t)}function ii(e,t){return D(t)?t.findIndex((t=>ni(t,e))):N(t)&&ni(t,e)?0:-1}const ri=e=>"_"===e[0]||"$stable"===e,oi=e=>D(e)?e.map(rr):[rr(e)],si=(e,t,n)=>{const i=Ut(((...e)=>oi(t(...e))),n);return i._c=!1,i},ai=(e,t,n)=>{const i=e._ctx;for(const r in e){if(ri(r))continue;const n=e[r];if(N(n))t[r]=si(0,n,i);else if(null!=n){const e=oi(n);t[r]=()=>e}}},li=(e,t)=>{const n=oi(t);e.slots.default=()=>n};function ci(e,t,n,i){const r=e.dirs,o=t&&t.dirs;for(let s=0;s<r.length;s++){const a=r[s];o&&(a.oldValue=o[s].value);let l=a.dir[i];l&&(me(),jr(l,n,8,[e.el,a,e,t]),ve())}}function ui(){return{app:null,config:{isNativeTag:y,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let hi=0;function di(e,t){return function(n,i=null){null==i||I(i)||(i=null);const r=ui(),o=new Set;let s=!1;const a=r.app={_uid:hi++,_component:n,_props:i,_container:null,_context:r,_instance:null,version:Co,get config(){return r.config},set config(e){},use:(e,...t)=>(o.has(e)||(e&&N(e.install)?(o.add(e),e.install(a,...t)):N(e)&&(o.add(e),e(a,...t))),a),mixin:e=>(r.mixins.includes(e)||r.mixins.push(e),a),component:(e,t)=>t?(r.components[e]=t,a):r.components[e],directive:(e,t)=>t?(r.directives[e]=t,a):r.directives[e],mount(o,l,c){if(!s){const u=er(n,i);return u.appContext=r,l&&t?t(u,o):e(u,o,c),s=!0,a._container=o,o.__vue_app__=a,Nr(u.component)||u.component.proxy}},unmount(){s&&(e(null,a._container),delete a._container.__vue_app__)},provide:(e,t)=>(r.provides[e]=t,a)};return a}}let fi=!1;const pi=e=>/svg/.test(e.namespaceURI)&&"foreignObject"!==e.tagName,gi=e=>8===e.nodeType;function mi(e){const{mt:t,p:n,o:{patchProp:i,nextSibling:r,parentNode:o,remove:s,insert:a,createComment:l}}=e,c=(n,i,s,a,l,g=!1)=>{const m=gi(n)&&"["===n.data,v=()=>f(n,i,s,a,l,m),{type:y,ref:b,shapeFlag:_}=i,w=n.nodeType;i.el=n;let C=null;switch(y){case Ri:3!==w?C=v():(n.data!==i.children&&(fi=!0,n.data=i.children),C=r(n));break;case Pi:C=8!==w||m?v():r(n);break;case Bi:if(1===w){C=n;const e=!i.children.length;for(let t=0;t<i.staticCount;t++)e&&(i.children+=C.outerHTML),t===i.staticCount-1&&(i.anchor=C),C=r(C);return C}C=v();break;case Fi:C=m?d(n,i,s,a,l,g):v();break;default:if(1&_)C=1!==w||i.type.toLowerCase()!==n.tagName.toLowerCase()?v():u(n,i,s,a,l,g);else if(6&_){i.slotScopeIds=l;const e=o(n);if(t(i,e,null,s,a,pi(e),g),C=m?p(n):r(n),mn(i)){let t;m?(t=er(Fi),t.anchor=C?C.previousSibling:e.lastChild):t=3===n.nodeType?ir(""):er("div"),t.el=n,i.component.subTree=t}}else 64&_?C=8!==w?v():i.type.hydrate(n,i,s,a,l,g,e,h):128&_&&(C=i.type.hydrate(n,i,s,a,pi(o(n)),l,g,e,c))}return null!=b&&wi(b,null,a,i),C},u=(e,t,n,r,o,a)=>{a=a||!!t.dynamicChildren;const{type:l,props:c,patchFlag:u,shapeFlag:d,dirs:f}=t,p="input"===l&&f||"option"===l;if(p||-1!==u){if(f&&ci(t,null,n,"created"),c)if(p||!a||48&u)for(const t in c)(p&&t.endsWith("value")||_(t)&&!j(t))&&i(e,t,null,c[t],!1,void 0,n);else c.onClick&&i(e,"onClick",null,c.onClick,!1,void 0,n);let l;if((l=c&&c.onVnodeBeforeMount)&&Ci(l,n,t),f&&ci(t,null,n,"beforeMount"),((l=c&&c.onVnodeMounted)||f)&&tn((()=>{l&&Ci(l,n,t),f&&ci(t,null,n,"mounted")}),r),16&d&&(!c||!c.innerHTML&&!c.textContent)){let i=h(e.firstChild,t,e,n,r,o,a);for(;i;){fi=!0;const e=i;i=i.nextSibling,s(e)}}else 8&d&&e.textContent!==t.children&&(fi=!0,e.textContent=t.children)}return e.nextSibling},h=(e,t,i,r,o,s,a)=>{a=a||!!t.dynamicChildren;const l=t.children,u=l.length;for(let h=0;h<u;h++){const t=a?l[h]:l[h]=rr(l[h]);if(e)e=c(e,t,r,o,s,a);else{if(t.type===Ri&&!t.children)continue;fi=!0,n(null,t,i,null,r,o,pi(i),s)}}return e},d=(e,t,n,i,s,c)=>{const{slotScopeIds:u}=t;u&&(s=s?s.concat(u):u);const d=o(e),f=h(r(e),t,d,n,i,s,c);return f&&gi(f)&&"]"===f.data?r(t.anchor=f):(fi=!0,a(t.anchor=l("]"),d,f),f)},f=(e,t,i,a,l,c)=>{if(fi=!0,t.el=null,c){const t=p(e);for(;;){const n=r(e);if(!n||n===t)break;s(n)}}const u=r(e),h=o(e);return s(e),n(null,t,h,u,i,a,pi(h),l),u},p=e=>{let t=0;for(;e;)if((e=r(e))&&gi(e)&&("["===e.data&&t++,"]"===e.data)){if(0===t)return r(e);t--}return e};return[(e,t)=>{if(!t.hasChildNodes())return n(null,e,t),void so();fi=!1,c(t.firstChild,e,null,null,null),so(),fi&&console.error("Hydration completed but contains mismatches.")},c]}const vi=tn;function yi(e){return _i(e)}function bi(e){return _i(e,mi)}function _i(e,t){(Z||(Z="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})).__VUE__=!0;const{insert:n,remove:i,patchProp:r,createElement:o,createText:s,createComment:a,setText:l,setElementText:c,parentNode:u,nextSibling:h,setScopeId:d=v,cloneNode:f,insertStaticContent:p}=e,y=(e,t,n,i=null,r=null,o=null,s=!1,a=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!Gi(e,t)&&(i=X(e),H(e,r,o,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:h}=t;switch(c){case Ri:b(e,t,n,i);break;case Pi:_(e,t,n,i);break;case Bi:null==e&&w(t,n,i,s);break;case Fi:M(e,t,n,i,r,o,s,a,l);break;default:1&h?x(e,t,n,i,r,o,s,a,l):6&h?A(e,t,n,i,r,o,s,a,l):(64&h||128&h)&&c.process(e,t,n,i,r,o,s,a,l,Q)}null!=u&&r&&wi(u,e&&e.ref,o,t||e,!t)},b=(e,t,i,r)=>{if(null==e)n(t.el=s(t.children),i,r);else{const n=t.el=e.el;t.children!==e.children&&l(n,t.children)}},_=(e,t,i,r)=>{null==e?n(t.el=a(t.children||""),i,r):t.el=e.el},w=(e,t,n,i)=>{[e.el,e.anchor]=p(e.children,t,n,i)},x=(e,t,n,i,r,o,s,a,l)=>{s=s||"svg"===t.type,null==e?k(t,n,i,r,o,s,a,l):L(e,t,r,o,s,a,l)},k=(e,t,i,s,a,l,u,h)=>{let d,p;const{type:g,props:m,shapeFlag:v,transition:y,patchFlag:b,dirs:_}=e;if(e.el&&void 0!==f&&-1===b)d=e.el=f(e.el);else{if(d=e.el=o(e.type,l,m&&m.is,m),8&v?c(d,e.children):16&v&&E(e.children,d,null,s,a,l&&"foreignObject"!==g,u,h),_&&ci(e,null,s,"created"),m){for(const t in m)"value"===t||j(t)||r(d,t,null,m[t],l,e.children,s,a,G);"value"in m&&r(d,"value",null,m.value),(p=m.onVnodeBeforeMount)&&Ci(p,s,e)}D(d,e,e.scopeId,u,s)}_&&ci(e,null,s,"beforeMount");const w=(!a||a&&!a.pendingBranch)&&y&&!y.persisted;w&&y.beforeEnter(d),n(d,t,i),((p=m&&m.onVnodeMounted)||w||_)&&vi((()=>{p&&Ci(p,s,e),w&&y.enter(d),_&&ci(e,null,s,"mounted")}),a)},D=(e,t,n,i,r)=>{if(n&&d(e,n),i)for(let o=0;o<i.length;o++)d(e,i[o]);if(r){if(t===r.subTree){const t=r.vnode;D(e,t,t.scopeId,t.slotScopeIds,r.parent)}}},E=(e,t,n,i,r,o,s,a,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=a?or(e[c]):rr(e[c]);y(null,l,t,n,i,r,o,s,a)}},L=(e,t,n,i,o,s,a)=>{const l=t.el=e.el;let{patchFlag:u,dynamicChildren:h,dirs:d}=t;u|=16&e.patchFlag;const f=e.props||g,p=t.props||g;let m;(m=p.onVnodeBeforeUpdate)&&Ci(m,n,t,e),d&&ci(t,e,n,"beforeUpdate");const v=o&&"foreignObject"!==t.type;if(h?T(e.dynamicChildren,h,l,n,i,v,s):a||P(e,t,l,null,n,i,v,s,!1),u>0){if(16&u)N(l,t,f,p,n,i,o);else if(2&u&&f.class!==p.class&&r(l,"class",null,p.class,o),4&u&&r(l,"style",f.style,p.style,o),8&u){const s=t.dynamicProps;for(let t=0;t<s.length;t++){const a=s[t],c=f[a],u=p[a];u===c&&"value"!==a||r(l,a,c,u,o,e.children,n,i,G)}}1&u&&e.children!==t.children&&c(l,t.children)}else a||null!=h||N(l,t,f,p,n,i,o);((m=p.onVnodeUpdated)||d)&&vi((()=>{m&&Ci(m,n,t,e),d&&ci(t,e,n,"updated")}),i)},T=(e,t,n,i,r,o,s)=>{for(let a=0;a<t.length;a++){const l=e[a],c=t[a],h=l.el&&(l.type===Fi||!Gi(l,c)||70&l.shapeFlag)?u(l.el):n;y(l,c,h,null,i,r,o,s,!0)}},N=(e,t,n,i,o,s,a)=>{if(n!==i){for(const l in i){if(j(l))continue;const c=i[l],u=n[l];c!==u&&"value"!==l&&r(e,l,u,c,a,t.children,o,s,G)}if(n!==g)for(const l in n)j(l)||l in i||r(e,l,n[l],null,a,t.children,o,s,G);"value"in i&&r(e,"value",n.value,i.value)}},M=(e,t,i,r,o,a,l,c,u)=>{const h=t.el=e?e.el:s(""),d=t.anchor=e?e.anchor:s("");let{patchFlag:f,dynamicChildren:p,slotScopeIds:g}=t;g&&(c=c?c.concat(g):g),null==e?(n(h,i,r),n(d,i,r),E(t.children,i,d,o,a,l,c,u)):f>0&&64&f&&p&&e.dynamicChildren?(T(e.dynamicChildren,p,i,o,a,l,c),(null!=t.key||o&&t===o.subTree)&&xi(e,t,!0)):P(e,t,i,d,o,a,l,c,u)},A=(e,t,n,i,r,o,s,a,l)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?r.ctx.activate(t,n,i,s,l):I(t,n,i,r,o,s,l):O(e,t,l)},I=(e,t,n,i,r,o,s)=>{const a=e.component=mr(e,i,r);if(yn(e)&&(a.ctx.renderer=Q),Sr(a),a.asyncDep){if(r&&r.registerDep(a,F),!e.el){const e=a.subTree=er(Pi);_(null,e,t,n)}}else F(a,e,t,n,r,o,s)},O=(e,t,n)=>{const i=t.component=e.component;if(function(e,t,n){const{props:i,children:r,component:o}=e,{props:s,children:a,patchFlag:l}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!r&&!a||a&&a.$stable)||i!==s&&(i?!s||Yt(i,s,c):!!s);if(1024&l)return!0;if(16&l)return i?Yt(i,s,c):!!s;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(s[n]!==i[n]&&!zt(c,n))return!0}}return!1}(e,t,n)){if(i.asyncDep&&!i.asyncResolved)return void R(i,t,n);i.next=t,function(e){const t=Hr.indexOf(e);t>Ur&&Hr.splice(t,1)}(i.update),i.update()}else t.component=e.component,t.el=e.el,i.vnode=t},F=(e,t,n,i,r,o,s)=>{const a=new de((()=>{if(e.isMounted){let t,{next:n,bu:i,u:l,parent:c,vnode:h}=e,d=n;a.allowRecurse=!1,n?(n.el=h.el,R(e,n,s)):n=h,i&&Y(i),(t=n.props&&n.props.onVnodeBeforeUpdate)&&Ci(t,c,n,h),a.allowRecurse=!0;const f=$t(e),p=e.subTree;e.subTree=f,y(p,f,u(p.el),X(p),e,r,o),n.el=f.el,null===d&&Gt(e,f.el),l&&vi(l,r),(t=n.props&&n.props.onVnodeUpdated)&&vi((()=>Ci(t,c,n,h)),r)}else{let s;const{el:l,props:c}=t,{bm:u,m:h,parent:d}=e,f=mn(t);if(a.allowRecurse=!1,u&&Y(u),!f&&(s=c&&c.onVnodeBeforeMount)&&Ci(s,d,t),a.allowRecurse=!0,l&&te){const n=()=>{e.subTree=$t(e),te(l,e.subTree,e,r,null)};f?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{const s=e.subTree=$t(e);y(null,s,n,i,e,r,o),t.el=s.el}if(h&&vi(h,r),!f&&(s=c&&c.onVnodeMounted)){const e=t;vi((()=>Ci(s,d,e)),r)}256&t.shapeFlag&&e.a&&vi(e.a,r),e.isMounted=!0,t=n=i=null}}),(()=>to(e.update)),e.scope),l=e.update=a.run.bind(a);l.id=e.uid,a.allowRecurse=l.allowRecurse=!0,l()},R=(e,t,n)=>{t.component=e;const i=e.vnode.props;e.vnode=t,e.next=null,function(e,t,n,i){const{props:r,attrs:o,vnode:{patchFlag:s}}=e,a=vt(r),[l]=e.propsOptions;let c=!1;if(!(i||s>0)||16&s){let i;Zn(e,t,r,o)&&(c=!0);for(const o in a)t&&(S(t,o)||(i=U(o))!==o&&S(t,i))||(l?!n||void 0===n[o]&&void 0===n[i]||(r[o]=Jn(l,a,o,void 0,e,!0)):delete r[o]);if(o!==a)for(const e in o)t&&S(t,e)||(delete o[e],c=!0)}else if(8&s){const n=e.vnode.dynamicProps;for(let i=0;i<n.length;i++){let s=n[i];const u=t[s];if(l)if(S(o,s))u!==o[s]&&(o[s]=u,c=!0);else{const t=W(s);r[t]=Jn(l,a,t,u,e,!1)}else u!==o[s]&&(o[s]=u,c=!0)}}c&&we(e,"set","$attrs")}(e,t.props,i,n),((e,t,n)=>{const{vnode:i,slots:r}=e;let o=!0,s=g;if(32&i.shapeFlag){const e=t._;e?n&&1===e?o=!1:(C(r,t),n||1!==e||delete r._):(o=!t.$stable,ai(t,r)),s=t}else t&&(li(e,t),s={default:1});if(o)for(const a in r)ri(a)||a in s||delete r[a]})(e,t.children,n),me(),oo(void 0,e.update),ve()},P=(e,t,n,i,r,o,s,a,l=!1)=>{const u=e&&e.children,h=e?e.shapeFlag:0,d=t.children,{patchFlag:f,shapeFlag:p}=t;if(f>0){if(128&f)return void z(u,d,n,i,r,o,s,a,l);if(256&f)return void B(u,d,n,i,r,o,s,a,l)}8&p?(16&h&&G(u,r,o),d!==u&&c(n,d)):16&h?16&p?z(u,d,n,i,r,o,s,a,l):G(u,r,o,!0):(8&h&&c(n,""),16&p&&E(d,n,i,r,o,s,a,l))},B=(e,t,n,i,r,o,s,a,l)=>{t=t||m;const c=(e=e||m).length,u=t.length,h=Math.min(c,u);let d;for(d=0;d<h;d++){const i=t[d]=l?or(t[d]):rr(t[d]);y(e[d],i,n,null,r,o,s,a,l)}c>u?G(e,r,o,!0,!1,h):E(t,n,i,r,o,s,a,l,h)},z=(e,t,n,i,r,o,s,a,l)=>{let c=0;const u=t.length;let h=e.length-1,d=u-1;for(;c<=h&&c<=d;){const i=e[c],u=t[c]=l?or(t[c]):rr(t[c]);if(!Gi(i,u))break;y(i,u,n,null,r,o,s,a,l),c++}for(;c<=h&&c<=d;){const i=e[h],c=t[d]=l?or(t[d]):rr(t[d]);if(!Gi(i,c))break;y(i,c,n,null,r,o,s,a,l),h--,d--}if(c>h){if(c<=d){const e=d+1,h=e<u?t[e].el:i;for(;c<=d;)y(null,t[c]=l?or(t[c]):rr(t[c]),n,h,r,o,s,a,l),c++}}else if(c>d)for(;c<=h;)H(e[c],r,o,!0),c++;else{const f=c,p=c,g=new Map;for(c=p;c<=d;c++){const e=t[c]=l?or(t[c]):rr(t[c]);null!=e.key&&g.set(e.key,c)}let v,b=0;const _=d-p+1;let w=!1,C=0;const x=new Array(_);for(c=0;c<_;c++)x[c]=0;for(c=f;c<=h;c++){const i=e[c];if(b>=_){H(i,r,o,!0);continue}let u;if(null!=i.key)u=g.get(i.key);else for(v=p;v<=d;v++)if(0===x[v-p]&&Gi(i,t[v])){u=v;break}void 0===u?H(i,r,o,!0):(x[u-p]=c+1,u>=C?C=u:w=!0,y(i,t[u],n,null,r,o,s,a,l),b++)}const k=w?function(e){const t=e.slice(),n=[0];let i,r,o,s,a;const l=e.length;for(i=0;i<l;i++){const l=e[i];if(0!==l){if(r=n[n.length-1],e[r]<l){t[i]=r,n.push(i);continue}for(o=0,s=n.length-1;o<s;)a=o+s>>1,e[n[a]]<l?o=a+1:s=a;l<e[n[o]]&&(o>0&&(t[i]=n[o-1]),n[o]=i)}}o=n.length,s=n[o-1];for(;o-- >0;)n[o]=s,s=t[s];return n}(x):m;for(v=k.length-1,c=_-1;c>=0;c--){const e=p+c,h=t[e],d=e+1<u?t[e+1].el:i;0===x[c]?y(null,h,n,d,r,o,s,a,l):w&&(v<0||c!==k[v]?V(h,n,d,2):v--)}}},V=(e,t,i,r,o=null)=>{const{el:s,type:a,transition:l,children:c,shapeFlag:u}=e;if(6&u)return void V(e.component.subTree,t,i,r);if(128&u)return void e.suspense.move(t,i,r);if(64&u)return void a.move(e,t,i,Q);if(a===Fi){n(s,t,i);for(let e=0;e<c.length;e++)V(c[e],t,i,r);return void n(e.anchor,t,i)}if(a===Bi)return void(({el:e,anchor:t},i,r)=>{let o;for(;e&&e!==t;)o=h(e),n(e,i,r),e=o;n(t,i,r)})(e,t,i);if(2!==r&&1&u&&l)if(0===r)l.beforeEnter(s),n(s,t,i),vi((()=>l.enter(s)),o);else{const{leave:e,delayLeave:r,afterLeave:o}=l,a=()=>n(s,t,i),c=()=>{e(s,(()=>{a(),o&&o()}))};r?r(s,a,c):c()}else n(s,t,i)},H=(e,t,n,i=!1,r=!1)=>{const{type:o,props:s,ref:a,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:h,dirs:d}=e;if(null!=a&&wi(a,null,n,e,!0),256&u)return void t.ctx.deactivate(e);const f=1&u&&d,p=!mn(e);let g;if(p&&(g=s&&s.onVnodeBeforeUnmount)&&Ci(g,t,e),6&u)K(e.component,n,i);else{if(128&u)return void e.suspense.unmount(n,i);f&&ci(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,r,Q,i):c&&(o!==Fi||h>0&&64&h)?G(c,t,n,!1,!0):(o===Fi&&384&h||!r&&16&u)&&G(l,t,n),i&&$(e)}(p&&(g=s&&s.onVnodeUnmounted)||f)&&vi((()=>{g&&Ci(g,t,e),f&&ci(e,null,t,"unmounted")}),n)},$=e=>{const{type:t,el:n,anchor:r,transition:o}=e;if(t===Fi)return void q(n,r);if(t===Bi)return void(({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=h(e),i(e),e=n;i(t)})(e);const s=()=>{i(n),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&e.shapeFlag&&o&&!o.persisted){const{leave:t,delayLeave:i}=o,r=()=>t(n,s);i?i(e.el,s,r):r()}else s()},q=(e,t)=>{let n;for(;e!==t;)n=h(e),i(e),e=n;i(t)},K=(e,t,n)=>{const{bum:i,scope:r,update:o,subTree:s,um:a}=e;i&&Y(i),r.stop(),o&&(o.active=!1,H(s,e,t,n)),a&&vi(a,t),vi((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},G=(e,t,n,i=!1,r=!1,o=0)=>{for(let s=o;s<e.length;s++)H(e[s],t,n,i,r)},X=e=>6&e.shapeFlag?X(e.component.subTree):128&e.shapeFlag?e.suspense.next():h(e.anchor||e.el),J=(e,t,n)=>{null==e?t._vnode&&H(t._vnode,null,null,!0):y(t._vnode||null,e,t,null,null,null,n),so(),t._vnode=e},Q={p:y,um:H,m:V,r:$,mt:I,mc:E,pc:P,pbc:T,n:X,o:e};let ee,te;return t&&([ee,te]=t(Q)),{render:J,hydrate:ee,createApp:di(J,ee)}}function wi(e,t,n,i,r=!1){if(D(e))return void e.forEach(((e,o)=>wi(e,t&&(D(t)?t[o]:t),n,i,r)));if(mn(i)&&!r)return;const o=4&i.shapeFlag?Nr(i.component)||i.component.proxy:i.el,s=r?null:o,{i:a,r:l}=e,c=t&&t.r,u=a.refs===g?a.refs={}:a.refs,h=a.setupState;if(null!=c&&c!==l&&(M(c)?(u[c]=null,S(h,c)&&(h[c]=null)):xt(c)&&(c.value=null)),M(l)){const e=()=>{u[l]=s,S(h,l)&&(h[l]=s)};s?(e.id=-1,vi(e,n)):e()}else if(xt(l)){const e=()=>{l.value=s};s?(e.id=-1,vi(e,n)):e()}else N(l)&&Br(l,a,12,[s,u])}function Ci(e,t,n,i=null){jr(e,t,7,[n,i])}function xi(e,t,n=!1){const i=e.children,r=t.children;if(D(i)&&D(r))for(let o=0;o<i.length;o++){const e=i[o];let t=r[o];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=r[o]=or(r[o]),t.el=e.el),n||xi(e,t))}}const ki=e=>e&&(e.disabled||""===e.disabled),Si=e=>"undefined"!=typeof SVGElement&&e instanceof SVGElement,Di=(e,t)=>{const n=e&&e.to;if(M(n)){if(t){return t(n)}return null}return n},Ei={__isTeleport:!0,process(e,t,n,i,r,o,s,a,l,c){const{mc:u,pc:h,pbc:d,o:{insert:f,querySelector:p,createText:g,createComment:m}}=c,v=ki(t.props);let{shapeFlag:y,children:b,dynamicChildren:_}=t;if(null==e){const e=t.el=g(""),c=t.anchor=g("");f(e,n,i),f(c,n,i);const h=t.target=Di(t.props,p),d=t.targetAnchor=g("");h&&(f(d,h),s=s||Si(h));const m=(e,t)=>{16&y&&u(b,e,t,r,o,s,a,l)};v?m(n,c):h&&m(h,d)}else{t.el=e.el;const i=t.anchor=e.anchor,u=t.target=e.target,f=t.targetAnchor=e.targetAnchor,g=ki(e.props),m=g?n:u,y=g?i:f;if(s=s||Si(u),_?(d(e.dynamicChildren,_,m,r,o,s,a),xi(e,t,!0)):l||h(e,t,m,y,r,o,s,a,!1),v)g||Li(t,n,i,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=Di(t.props,p);e&&Li(t,e,null,c,0)}else g&&Li(t,u,f,c,1)}},remove(e,t,n,i,{um:r,o:{remove:o}},s){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:h,props:d}=e;if(h&&o(u),(s||!ki(d))&&(o(c),16&a))for(let f=0;f<l.length;f++){const e=l[f];r(e,t,n,!0,!!e.dynamicChildren)}},move:Li,hydrate:function(e,t,n,i,r,o,{o:{nextSibling:s,parentNode:a,querySelector:l}},c){const u=t.target=Di(t.props,l);if(u){const l=u._lpa||u.firstChild;16&t.shapeFlag&&(ki(t.props)?(t.anchor=c(s(e),t,a(e),n,i,r,o),t.targetAnchor=l):(t.anchor=s(e),t.targetAnchor=c(l,t,u,n,i,r,o)),u._lpa=t.targetAnchor&&s(t.targetAnchor))}return t.anchor&&s(t.anchor)}};function Li(e,t,n,{o:{insert:i},m:r},o=2){0===o&&i(e.targetAnchor,t,n);const{el:s,anchor:a,shapeFlag:l,children:c,props:u}=e,h=2===o;if(h&&i(s,t,n),(!h||ki(u))&&16&l)for(let d=0;d<c.length;d++)r(c[d],t,n,2);h&&i(a,t,n)}const Ti=Ei;function Ni(e,t){return Ii("components",e,!0,t)||e}const Mi=Symbol();function Ai(e){return M(e)?Ii("components",e,!1)||e:e||Mi}function Ii(e,t,n=!0,i=!1){const r=Vt||vr;if(r){const n=r.type;if("components"===e){const e=Ar(n);if(e&&(e===t||e===W(t)||e===$(W(t))))return n}const o=Oi(r[e]||n[e],t)||Oi(r.appContext[e],t);return!o&&i?n:o}}function Oi(e,t){return e&&(e[t]||e[W(t)]||e[$(W(t))])}const Fi=Symbol(void 0),Ri=Symbol(void 0),Pi=Symbol(void 0),Bi=Symbol(void 0),ji=[];let zi=null;function Vi(e=!1){ji.push(zi=e?null:[])}function Wi(){ji.pop(),zi=ji[ji.length-1]||null}let Hi=1;function Ui(e){Hi+=e}function $i(e){return e.dynamicChildren=Hi>0?zi||m:null,Wi(),Hi>0&&zi&&zi.push(e),e}function qi(e,t,n,i,r,o){return $i(Qi(e,t,n,i,r,o,!0))}function Ki(e,t,n,i,r){return $i(er(e,t,n,i,r,!0))}function Yi(e){return!!e&&!0===e.__v_isVNode}function Gi(e,t){return e.type===t.type&&e.key===t.key}const Xi="__vInternal",Zi=({key:e})=>null!=e?e:null,Ji=({ref:e})=>null!=e?M(e)||xt(e)||N(e)?{i:Vt,r:e}:e:null;function Qi(e,t=null,n=null,i=0,r=null,o=(e===Fi?0:1),s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Zi(t),ref:t&&Ji(t),scopeId:Wt,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null};return a?(sr(l,n),128&o&&e.normalize(l)):n&&(l.shapeFlag|=M(n)?8:16),Hi>0&&!s&&zi&&(l.patchFlag>0||6&o)&&32!==l.patchFlag&&zi.push(l),l}const er=function(e,t=null,n=null,i=0,o=null,s=!1){e&&e!==Mi||(e=Pi);if(Yi(e)){const i=nr(e,t,!0);return n&&sr(i,n),i}a=e,N(a)&&"__vccOpts"in a&&(e=e.__vccOpts);var a;if(t){t=tr(t);let{class:e,style:n}=t;e&&!M(e)&&(t.class=l(e)),I(n)&&(mt(n)&&!D(n)&&(n=C({},n)),t.style=r(n))}const c=M(e)?1:(e=>e.__isSuspense)(e)?128:(e=>e.__isTeleport)(e)?64:I(e)?4:N(e)?2:0;return Qi(e,t,n,i,o,c,s,!0)};function tr(e){return e?mt(e)||Xi in e?C({},e):e:null}function nr(e,t,n=!1){const{props:i,ref:r,patchFlag:o,children:s}=e,a=t?ar(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Zi(a),ref:t&&t.ref?n&&r?D(r)?r.concat(Ji(t)):[r,Ji(t)]:Ji(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fi?-1===o?16:16|o:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&nr(e.ssContent),ssFallback:e.ssFallback&&nr(e.ssFallback),el:e.el,anchor:e.anchor}}function ir(e=" ",t=0){return er(Ri,null,e,t)}function rr(e){return null==e||"boolean"==typeof e?er(Pi):D(e)?er(Fi,null,e.slice()):"object"==typeof e?or(e):er(Ri,null,String(e))}function or(e){return null===e.el||e.memo?e:nr(e)}function sr(e,t){let n=0;const{shapeFlag:i}=e;if(null==t)t=null;else if(D(t))n=16;else if("object"==typeof t){if(65&i){const n=t.default;return void(n&&(n._c&&(n._d=!1),sr(e,n()),n._c&&(n._d=!0)))}{n=32;const i=t._;i||Xi in t?3===i&&Vt&&(1===Vt.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=Vt}}else N(t)?(t={default:t,_ctx:Vt},n=32):(t=String(t),64&i?(n=16,t=[ir(t)]):n=8);e.children=t,e.shapeFlag|=n}function ar(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const e in i)if("class"===e)t.class!==i.class&&(t.class=l([t.class,i.class]));else if("style"===e)t.style=r([t.style,i.style]);else if(_(e)){const n=t[e],r=i[e];n===r||D(n)&&n.includes(r)||(t[e]=n?[].concat(n,r):r)}else""!==e&&(t[e]=i[e])}return t}function lr(e,t,n,i){let r;const o=n&&n[i];if(D(e)||M(e)){r=new Array(e.length);for(let n=0,i=e.length;n<i;n++)r[n]=t(e[n],n,void 0,o&&o[n])}else if("number"==typeof e){r=new Array(e);for(let n=0;n<e;n++)r[n]=t(n+1,n,void 0,o&&o[n])}else if(I(e))if(e[Symbol.iterator])r=Array.from(e,((e,n)=>t(e,n,void 0,o&&o[n])));else{const n=Object.keys(e);r=new Array(n.length);for(let i=0,s=n.length;i<s;i++){const s=n[i];r[i]=t(e[s],s,i,o&&o[i])}}else r=[];return n&&(n[i]=r),r}function cr(e){return e.some((e=>!Yi(e)||e.type!==Pi&&!(e.type===Fi&&!cr(e.children))))?e:null}const ur=e=>e?wr(e)?Nr(e)||e.proxy:ur(e.parent):null,hr=C(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ur(e.parent),$root:e=>ur(e.root),$emit:e=>e.emit,$options:e=>Un(e),$forceUpdate:e=>()=>to(e.update),$nextTick:e=>eo.bind(e.proxy),$watch:e=>go.bind(e)}),dr={get({_:e},t){const{ctx:n,setupState:i,data:r,props:o,accessCache:s,type:a,appContext:l}=e;let c;if("$"!==t[0]){const a=s[t];if(void 0!==a)switch(a){case 0:return i[t];case 1:return r[t];case 3:return n[t];case 2:return o[t]}else{if(i!==g&&S(i,t))return s[t]=0,i[t];if(r!==g&&S(r,t))return s[t]=1,r[t];if((c=e.propsOptions[0])&&S(c,t))return s[t]=2,o[t];if(n!==g&&S(n,t))return s[t]=3,n[t];zn&&(s[t]=4)}}const u=hr[t];let h,d;return u?("$attrs"===t&&ye(e,0,t),u(e)):(h=a.__cssModules)&&(h=h[t])?h:n!==g&&S(n,t)?(s[t]=3,n[t]):(d=l.config.globalProperties,S(d,t)?d[t]:void 0)},set({_:e},t,n){const{data:i,setupState:r,ctx:o}=e;if(r!==g&&S(r,t))r[t]=n;else if(i!==g&&S(i,t))i[t]=n;else if(S(e.props,t))return!1;return("$"!==t[0]||!(t.slice(1)in e))&&(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:r,propsOptions:o}},s){let a;return void 0!==n[s]||e!==g&&S(e,s)||t!==g&&S(t,s)||(a=o[0])&&S(a,s)||S(i,s)||S(hr,s)||S(r.config.globalProperties,s)}},fr=C({},dr,{get(e,t){if(t!==Symbol.unscopables)return dr.get(e,t,e)},has:(e,n)=>"_"!==n[0]&&!t(n)}),pr=ui();let gr=0;function mr(e,t,n){const i=e.type,r=(t?t.appContext:e.appContext)||pr,o={uid:gr++,vnode:e,type:i,parent:t,appContext:r,root:null,next:null,subTree:null,update:null,scope:new ee(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Qn(i,r),emitsOptions:jt(i,r),emit:null,emitted:null,propsDefaults:g,inheritAttrs:i.inheritAttrs,ctx:g,data:g,props:g,attrs:g,slots:g,refs:g,setupState:g,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Bt.bind(null,o),e.ce&&e.ce(o),o}let vr=null;const yr=()=>vr||Vt,br=e=>{vr=e,e.scope.on()},_r=()=>{vr&&vr.scope.off(),vr=null};function wr(e){return 4&e.vnode.shapeFlag}let Cr,xr,kr=!1;function Sr(e,t=!1){kr=t;const{props:n,children:i}=e.vnode,r=wr(e);!function(e,t,n,i=!1){const r={},o={};G(o,Xi,1),e.propsDefaults=Object.create(null),Zn(e,t,r,o);for(const s in e.propsOptions[0])s in r||(r[s]=void 0);n?e.props=i?r:ht(r):e.type.props?e.props=r:e.props=o,e.attrs=o}(e,n,r,t),((e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=vt(t),G(t,"_",n)):ai(t,e.slots={})}else e.slots={},t&&li(e,t);G(e.slots,Xi,1)})(e,i);const o=r?function(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=yt(new Proxy(e.ctx,dr));const{setup:i}=n;if(i){const n=e.setupContext=i.length>1?Tr(e):null;br(e),me();const r=Br(i,e,0,[e.props,n]);if(ve(),_r(),O(r)){if(r.then(_r,_r),t)return r.then((n=>{Dr(e,n,t)})).catch((t=>{zr(t,e,0)}));e.asyncDep=r}else Dr(e,r,t)}else Lr(e,t)}(e,t):void 0;return kr=!1,o}function Dr(e,t,n){N(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:I(t)&&(e.setupState=Nt(t)),Lr(e,n)}function Er(e){Cr=e,xr=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,fr))}}function Lr(e,t,n){const i=e.type;if(!e.render){if(!t&&Cr&&!i.render){const t=i.template;if(t){const{isCustomElement:n,compilerOptions:r}=e.appContext.config,{delimiters:o,compilerOptions:s}=i,a=C(C({isCustomElement:n,delimiters:o},r),s);i.render=Cr(t,a)}}e.render=i.render||v,xr&&xr(e)}br(e),me(),Vn(e),ve(),_r()}function Tr(e){const t=t=>{e.exposed=t||{}};let n;return{get attrs(){return n||(n=function(e){return new Proxy(e.attrs,{get:(t,n)=>(ye(e,0,"$attrs"),t[n])})}(e))},slots:e.slots,emit:e.emit,expose:t}}function Nr(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Nt(yt(e.exposed)),{get:(t,n)=>n in t?t[n]:n in hr?hr[n](e):void 0}))}const Mr=/(?:^|[-_])(\w)/g;function Ar(e){return N(e)&&e.displayName||e.name}function Ir(e,t,n=!1){let i=Ar(t);if(!i&&t.__file){const e=t.__file.match(/([^/\\]+)\.\w+$/);e&&(i=e[1])}if(!i&&e&&e.parent){const n=e=>{for(const n in e)if(e[n]===t)return n};i=n(e.components||e.parent.type.components)||n(e.appContext.components)}return i?i.replace(Mr,(e=>e.toUpperCase())).replace(/[-_]/g,""):n?"App":"Anonymous"}const Or=[];function Fr(e,...t){me();const n=Or.length?Or[Or.length-1].component:null,i=n&&n.appContext.config.warnHandler,r=function(){let e=Or[Or.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const i=e.component&&e.component.parent;e=i&&i.vnode}return t}();if(i)Br(i,n,11,[e+t.join(""),n&&n.proxy,r.map((({vnode:e})=>`at <${Ir(n,e.type)}>`)).join("\n"),r]);else{const n=[`[Vue warn]: ${e}`,...t];r.length&&n.push("\n",...function(e){const t=[];return e.forEach(((e,n)=>{t.push(...0===n?[]:["\n"],...function({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",i=!!e.component&&null==e.component.parent,r=` at <${Ir(e.component,e.type,i)}`,o=">"+n;return e.props?[r,...Rr(e.props),o]:[r+o]}(e))})),t}(r)),console.warn(...n)}ve()}function Rr(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach((n=>{t.push(...Pr(n,e[n]))})),n.length>3&&t.push(" ..."),t}function Pr(e,t,n){return M(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):"number"==typeof t||"boolean"==typeof t||null==t?n?t:[`${e}=${t}`]:xt(t)?(t=Pr(e,vt(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):N(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=vt(t),n?t:[`${e}=`,t])}function Br(e,t,n,i){let r;try{r=i?e(...i):e()}catch(o){zr(o,t,n)}return r}function jr(e,t,n,i){if(N(e)){const r=Br(e,t,n,i);return r&&O(r)&&r.catch((e=>{zr(e,t,n)})),r}const r=[];for(let o=0;o<e.length;o++)r.push(jr(e[o],t,n,i));return r}function zr(e,t,n,i=!0){t&&t.vnode;if(t){let i=t.parent;const r=t.proxy,o=n;for(;i;){const t=i.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,r,o))return;i=i.parent}const s=t.appContext.config.errorHandler;if(s)return void Br(s,null,10,[e,r,o])}!function(e,t,n,i=!0){console.error(e)}(e,0,0,i)}let Vr=!1,Wr=!1;const Hr=[];let Ur=0;const $r=[];let qr=null,Kr=0;const Yr=[];let Gr=null,Xr=0;const Zr=Promise.resolve();let Jr=null,Qr=null;function eo(e){const t=Jr||Zr;return e?t.then(this?e.bind(this):e):t}function to(e){Hr.length&&Hr.includes(e,Vr&&e.allowRecurse?Ur+1:Ur)||e===Qr||(null==e.id?Hr.push(e):Hr.splice(function(e){let t=Ur+1,n=Hr.length;for(;t<n;){const i=t+n>>>1;ao(Hr[i])<e?t=i+1:n=i}return t}(e.id),0,e),no())}function no(){Vr||Wr||(Wr=!0,Jr=Zr.then(lo))}function io(e,t,n,i){D(e)?n.push(...e):t&&t.includes(e,e.allowRecurse?i+1:i)||n.push(e),no()}function ro(e){io(e,Gr,Yr,Xr)}function oo(e,t=null){if($r.length){for(Qr=t,qr=[...new Set($r)],$r.length=0,Kr=0;Kr<qr.length;Kr++)qr[Kr]();qr=null,Kr=0,Qr=null,oo(e,t)}}function so(e){if(Yr.length){const e=[...new Set(Yr)];if(Yr.length=0,Gr)return void Gr.push(...e);for(Gr=e,Gr.sort(((e,t)=>ao(e)-ao(t))),Xr=0;Xr<Gr.length;Xr++)Gr[Xr]();Gr=null,Xr=0}}const ao=e=>null==e.id?1/0:e.id;function lo(e){Wr=!1,Vr=!0,oo(e),Hr.sort(((e,t)=>ao(e)-ao(t)));try{for(Ur=0;Ur<Hr.length;Ur++){const e=Hr[Ur];e&&!1!==e.active&&Br(e,null,14)}}finally{Ur=0,Hr.length=0,so(),Vr=!1,Jr=null,(Hr.length||$r.length||Yr.length)&&lo(e)}}function co(e,t){return po(e,null,t)}function uo(e,t){return po(e,null,{flush:"post"})}const ho={};function fo(e,t,n){return po(e,t,n)}function po(e,t,{immediate:n,deep:i,flush:r,onTrack:o,onTrigger:s}=g){const a=vr;let l,c,u=!1,h=!1;if(xt(e)?(l=()=>e.value,u=!!e._shallow):pt(e)?(l=()=>e,i=!0):D(e)?(h=!0,u=e.some(pt),l=()=>e.map((e=>xt(e)?e.value:pt(e)?vo(e):N(e)?Br(e,a,2):void 0))):l=N(e)?t?()=>Br(e,a,2):()=>{if(!a||!a.isUnmounted)return c&&c(),jr(e,a,3,[d])}:v,t&&i){const e=l;l=()=>vo(e())}let d=e=>{c=y.onStop=()=>{Br(e,a,4)}};if(kr)return d=v,t?n&&jr(t,a,3,[l(),h?[]:void 0,d]):l(),v;let f=h?[]:ho;const p=()=>{if(y.active)if(t){const e=y.run();(i||u||(h?e.some(((e,t)=>K(e,f[t]))):K(e,f)))&&(c&&c(),jr(t,a,3,[e,f===ho?void 0:f,d]),f=e)}else y.run()};let m;p.allowRecurse=!!t,m="sync"===r?p:"post"===r?()=>vi(p,a&&a.suspense):()=>{!a||a.isMounted?function(e){io(e,qr,$r,Kr)}(p):p()};const y=new de(l,m);return t?n?p():f=y.run():"post"===r?vi(y.run.bind(y),a&&a.suspense):y.run(),()=>{y.stop(),a&&a.scope&&x(a.scope.effects,y)}}function go(e,t,n){const i=this.proxy,r=M(e)?e.includes(".")?mo(i,e):()=>i[e]:e.bind(i,i);let o;N(t)?o=t:(o=t.handler,n=t);const s=vr;br(this);const a=po(r,o.bind(i),n);return s?br(s):_r(),a}function mo(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function vo(e,t){if(!I(e)||e.__v_skip)return e;if((t=t||new Set).has(e))return e;if(t.add(e),xt(e))vo(e.value,t);else if(D(e))for(let n=0;n<e.length;n++)vo(e[n],t);else if(L(e)||E(e))e.forEach((e=>{vo(e,t)}));else if(P(e))for(const n in e)vo(e[n],t);return e}function yo(){const e=yr();return e.setupContext||(e.setupContext=Tr(e))}function bo(e,t,n){const i=arguments.length;return 2===i?I(t)&&!D(t)?Yi(t)?er(e,null,[t]):er(e,t):er(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):3===i&&Yi(n)&&(n=[n]),er(e,t,n))}const _o=Symbol("");function wo(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let i=0;i<n.length;i++)if(n[i]!==t[i])return!1;return Hi>0&&zi&&zi.push(e),!0}const Co="3.2.22",xo={createComponentInstance:mr,setupComponent:Sr,renderComponentRoot:$t,setCurrentRenderingInstance:Ht,isVNode:Yi,normalizeVNode:rr},ko="undefined"!=typeof document?document:null,So=new Map,Do={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r=t?ko.createElementNS("http://www.w3.org/2000/svg",e):ko.createElement(e,n?{is:n}:void 0);return"select"===e&&i&&null!=i.multiple&&r.setAttribute("multiple",i.multiple),r},createText:e=>ko.createTextNode(e),createComment:e=>ko.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ko.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,i){const r=n?n.previousSibling:t.lastChild;let o=So.get(e);if(!o){const t=ko.createElement("template");if(t.innerHTML=i?`<svg>${e}</svg>`:e,o=t.content,i){const e=o.firstChild;for(;e.firstChild;)o.appendChild(e.firstChild);o.removeChild(e)}So.set(e,o)}return t.insertBefore(o.cloneNode(!0),n),[r?r.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};const Eo=/\s*!important$/;function Lo(e,t,n){if(D(n))n.forEach((n=>Lo(e,t,n)));else if(t.startsWith("--"))e.setProperty(t,n);else{const i=function(e,t){const n=No[t];if(n)return n;let i=W(t);if("filter"!==i&&i in e)return No[t]=i;i=$(i);for(let r=0;r<To.length;r++){const n=To[r]+i;if(n in e)return No[t]=n}return t}(e,t);Eo.test(n)?e.setProperty(U(i),n.replace(Eo,""),"important"):e[i]=n}}const To=["Webkit","Moz","ms"],No={};const Mo="http://www.w3.org/1999/xlink";let Ao=Date.now,Io=!1;if("undefined"!=typeof window){Ao()>document.createEvent("Event").timeStamp&&(Ao=()=>performance.now());const e=navigator.userAgent.match(/firefox\/(\d+)/i);Io=!!(e&&Number(e[1])<=53)}let Oo=0;const Fo=Promise.resolve(),Ro=()=>{Oo=0};function Po(e,t,n,i){e.addEventListener(t,n,i)}function Bo(e,t,n,i,r=null){const o=e._vei||(e._vei={}),s=o[t];if(i&&s)s.value=i;else{const[n,a]=function(e){let t;if(jo.test(e)){let n;for(t={};n=e.match(jo);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[U(e.slice(2)),t]}(t);if(i){const s=o[t]=function(e,t){const n=e=>{const i=e.timeStamp||Ao();(Io||i>=n.attached-1)&&jr(function(e,t){if(D(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e(t)))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=(()=>Oo||(Fo.then(Ro),Oo=Ao()))(),n}(i,r);Po(e,n,s,a)}else s&&(!function(e,t,n,i){e.removeEventListener(t,n,i)}(e,n,s,a),o[t]=void 0)}}const jo=/(?:Once|Passive|Capture)$/;const zo=/^on[a-z]/;function Vo(e,t){const n=gn(e);class i extends Ho{constructor(e){super(n,e,t)}}return i.def=n,i}const Wo="undefined"!=typeof HTMLElement?HTMLElement:class{};class Ho extends Wo{constructor(e,t={},n){super(),this._def=e,this._props=t,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&n?n(this._createVNode(),this.shadowRoot):this.attachShadow({mode:"open"})}connectedCallback(){this._connected=!0,this._instance||this._resolveDef()}disconnectedCallback(){this._connected=!1,eo((()=>{this._connected||(js(null,this.shadowRoot),this._instance=null)}))}_resolveDef(){if(this._resolved)return;this._resolved=!0;for(let n=0;n<this.attributes.length;n++)this._setAttr(this.attributes[n].name);new MutationObserver((e=>{for(const t of e)this._setAttr(t.attributeName)})).observe(this,{attributes:!0});const e=e=>{const{props:t,styles:n}=e,i=!D(t),r=t?i?Object.keys(t):t:[];let o;if(i)for(const s in this._props){const e=t[s];(e===Number||e&&e.type===Number)&&(this._props[s]=X(this._props[s]),(o||(o=Object.create(null)))[s]=!0)}this._numberProps=o;for(const s of Object.keys(this))"_"!==s[0]&&this._setProp(s,this[s],!0,!1);for(const s of r.map(W))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(e){this._setProp(s,e)}});this._applyStyles(n),this._update()},t=this._def.__asyncLoader;t?t().then(e):e(this._def)}_setAttr(e){let t=this.getAttribute(e);this._numberProps&&this._numberProps[e]&&(t=X(t)),this._setProp(W(e),t,!1)}_getProp(e){return this._props[e]}_setProp(e,t,n=!0,i=!0){t!==this._props[e]&&(this._props[e]=t,i&&this._instance&&this._update(),n&&(!0===t?this.setAttribute(U(e),""):"string"==typeof t||"number"==typeof t?this.setAttribute(U(e),t+""):t||this.removeAttribute(U(e))))}_update(){js(this._createVNode(),this.shadowRoot)}_createVNode(){const e=er(this._def,C({},this._props));return this._instance||(e.ce=e=>{this._instance=e,e.isCE=!0,e.emit=(e,...t)=>{this.dispatchEvent(new CustomEvent(e,{detail:t}))};let t=this;for(;t=t&&(t.parentNode||t.host);)if(t instanceof Ho){e.parent=t._instance;break}}),e}_applyStyles(e){e&&e.forEach((e=>{const t=document.createElement("style");t.textContent=e,this.shadowRoot.appendChild(t)}))}}function Uo(e,t){if(128&e.shapeFlag){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push((()=>{Uo(n.activeBranch,t)}))}for(;e.component;)e=e.component.subTree;if(1&e.shapeFlag&&e.el)$o(e.el,t);else if(e.type===Fi)e.children.forEach((e=>Uo(e,t)));else if(e.type===Bi){let{el:n,anchor:i}=e;for(;n&&($o(n,t),n!==i);)n=n.nextSibling}}function $o(e,t){if(1===e.nodeType){const n=e.style;for(const e in t)n.setProperty(`--${e}`,t[e])}}const qo=(e,{slots:t})=>bo(ln,Zo(e),t);qo.displayName="Transition";const Ko={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Yo=qo.props=C({},ln.props,Ko),Go=(e,t=[])=>{D(e)?e.forEach((e=>e(...t))):e&&e(...t)},Xo=e=>!!e&&(D(e)?e.some((e=>e.length>1)):e.length>1);function Zo(e){const t={};for(const C in e)C in Ko||(t[C]=e[C]);if(!1===e.css)return t;const{name:n="v",type:i,duration:r,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:c=s,appearToClass:u=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=e,p=function(e){if(null==e)return null;if(I(e))return[Jo(e.enter),Jo(e.leave)];{const t=Jo(e);return[t,t]}}(r),g=p&&p[0],m=p&&p[1],{onBeforeEnter:v,onEnter:y,onEnterCancelled:b,onLeave:_,onLeaveCancelled:w,onBeforeAppear:x=v,onAppear:k=y,onAppearCancelled:S=b}=t,D=(e,t,n)=>{es(e,t?u:a),es(e,t?c:s),n&&n()},E=(e,t)=>{es(e,f),es(e,d),t&&t()},L=e=>(t,n)=>{const r=e?k:y,s=()=>D(t,e,n);Go(r,[t,s]),ts((()=>{es(t,e?l:o),Qo(t,e?u:a),Xo(r)||is(t,i,g,s)}))};return C(t,{onBeforeEnter(e){Go(v,[e]),Qo(e,o),Qo(e,s)},onBeforeAppear(e){Go(x,[e]),Qo(e,l),Qo(e,c)},onEnter:L(!1),onAppear:L(!0),onLeave(e,t){const n=()=>E(e,t);Qo(e,h),ls(),Qo(e,d),ts((()=>{es(e,h),Qo(e,f),Xo(_)||is(e,i,m,n)})),Go(_,[e,n])},onEnterCancelled(e){D(e,!1),Go(b,[e])},onAppearCancelled(e){D(e,!0),Go(S,[e])},onLeaveCancelled(e){E(e),Go(w,[e])}})}function Jo(e){return X(e)}function Qo(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function es(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function ts(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let ns=0;function is(e,t,n,i){const r=e._endId=++ns,o=()=>{r===e._endId&&i()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:l}=rs(e,t);if(!s)return i();const c=s+"end";let u=0;const h=()=>{e.removeEventListener(c,d),o()},d=t=>{t.target===e&&++u>=l&&h()};setTimeout((()=>{u<l&&h()}),a+1),e.addEventListener(c,d)}function rs(e,t){const n=window.getComputedStyle(e),i=e=>(n[e]||"").split(", "),r=i("transitionDelay"),o=i("transitionDuration"),s=ss(r,o),a=i("animationDelay"),l=i("animationDuration"),c=ss(a,l);let u=null,h=0,d=0;"transition"===t?s>0&&(u="transition",h=s,d=o.length):"animation"===t?c>0&&(u="animation",h=c,d=l.length):(h=Math.max(s,c),u=h>0?s>c?"transition":"animation":null,d=u?"transition"===u?o.length:l.length:0);return{type:u,timeout:h,propCount:d,hasTransform:"transition"===u&&/\b(transform|all)(,|$)/.test(n.transitionProperty)}}function ss(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map(((t,n)=>as(t)+as(e[n]))))}function as(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function ls(){return document.body.offsetHeight}const cs=new WeakMap,us=new WeakMap,hs={name:"TransitionGroup",props:C({},Yo,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=yr(),i=sn();let r,o;return In((()=>{if(!r.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!function(e,t,n){const i=e.cloneNode();e._vtc&&e._vtc.forEach((e=>{e.split(/\s+/).forEach((e=>e&&i.classList.remove(e)))}));n.split(/\s+/).forEach((e=>e&&i.classList.add(e))),i.style.display="none";const r=1===t.nodeType?t:t.parentNode;r.appendChild(i);const{hasTransform:o}=rs(i);return r.removeChild(i),o}(r[0].el,n.vnode.el,t))return;r.forEach(fs),r.forEach(ps);const i=r.filter(gs);ls(),i.forEach((e=>{const n=e.el,i=n.style;Qo(n,t),i.transform=i.webkitTransform=i.transitionDuration="";const r=n._moveCb=e=>{e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener("transitionend",r),n._moveCb=null,es(n,t))};n.addEventListener("transitionend",r)}))})),()=>{const s=vt(e),a=Zo(s);let l=s.tag||Fi;r=o,o=t.default?pn(t.default()):[];for(let e=0;e<o.length;e++){const t=o[e];null!=t.key&&fn(t,un(t,a,i,n))}if(r)for(let e=0;e<r.length;e++){const t=r[e];fn(t,un(t,a,i,n)),cs.set(t,t.el.getBoundingClientRect())}return er(l,null,o)}}},ds=hs;function fs(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function ps(e){us.set(e,e.el.getBoundingClientRect())}function gs(e){const t=cs.get(e),n=us.get(e),i=t.left-n.left,r=t.top-n.top;if(i||r){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${i}px,${r}px)`,t.transitionDuration="0s",e}}const ms=e=>{const t=e.props["onUpdate:modelValue"];return D(t)?e=>Y(t,e):t};function vs(e){e.target.composing=!0}function ys(e){const t=e.target;t.composing&&(t.composing=!1,function(e,t){const n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}(t,"input"))}const bs={created(e,{modifiers:{lazy:t,trim:n,number:i}},r){e._assign=ms(r);const o=i||r.props&&"number"===r.props.type;Po(e,t?"change":"input",(t=>{if(t.target.composing)return;let i=e.value;n?i=i.trim():o&&(i=X(i)),e._assign(i)})),n&&Po(e,"change",(()=>{e.value=e.value.trim()})),t||(Po(e,"compositionstart",vs),Po(e,"compositionend",ys),Po(e,"change",ys))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:i,number:r}},o){if(e._assign=ms(o),e.composing)return;if(document.activeElement===e){if(n)return;if(i&&e.value.trim()===t)return;if((r||"number"===e.type)&&X(e.value)===t)return}const s=null==t?"":t;e.value!==s&&(e.value=s)}},_s={deep:!0,created(e,t,n){e._assign=ms(n),Po(e,"change",(()=>{const t=e._modelValue,n=Ss(e),i=e.checked,r=e._assign;if(D(t)){const e=f(t,n),o=-1!==e;if(i&&!o)r(t.concat(n));else if(!i&&o){const n=[...t];n.splice(e,1),r(n)}}else if(L(t)){const e=new Set(t);i?e.add(n):e.delete(n),r(e)}else r(Ds(e,i))}))},mounted:ws,beforeUpdate(e,t,n){e._assign=ms(n),ws(e,t,n)}};function ws(e,{value:t,oldValue:n},i){e._modelValue=t,D(t)?e.checked=f(t,i.props.value)>-1:L(t)?e.checked=t.has(i.props.value):t!==n&&(e.checked=d(t,Ds(e,!0)))}const Cs={created(e,{value:t},n){e.checked=d(t,n.props.value),e._assign=ms(n),Po(e,"change",(()=>{e._assign(Ss(e))}))},beforeUpdate(e,{value:t,oldValue:n},i){e._assign=ms(i),t!==n&&(e.checked=d(t,i.props.value))}},xs={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const r=L(t);Po(e,"change",(()=>{const t=Array.prototype.filter.call(e.options,(e=>e.selected)).map((e=>n?X(Ss(e)):Ss(e)));e._assign(e.multiple?r?new Set(t):t:t[0])})),e._assign=ms(i)},mounted(e,{value:t}){ks(e,t)},beforeUpdate(e,t,n){e._assign=ms(n)},updated(e,{value:t}){ks(e,t)}};function ks(e,t){const n=e.multiple;if(!n||D(t)||L(t)){for(let i=0,r=e.options.length;i<r;i++){const r=e.options[i],o=Ss(r);if(n)D(t)?r.selected=f(t,o)>-1:r.selected=t.has(o);else if(d(Ss(r),t))return void(e.selectedIndex!==i&&(e.selectedIndex=i))}n||-1===e.selectedIndex||(e.selectedIndex=-1)}}function Ss(e){return"_value"in e?e._value:e.value}function Ds(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Es={created(e,t,n){Ls(e,t,n,null,"created")},mounted(e,t,n){Ls(e,t,n,null,"mounted")},beforeUpdate(e,t,n,i){Ls(e,t,n,i,"beforeUpdate")},updated(e,t,n,i){Ls(e,t,n,i,"updated")}};function Ls(e,t,n,i,r){let o;switch(e.tagName){case"SELECT":o=xs;break;case"TEXTAREA":o=bs;break;default:switch(n.props&&n.props.type){case"checkbox":o=_s;break;case"radio":o=Cs;break;default:o=bs}}const s=o[r];s&&s(e,t,n,i)}const Ts=["ctrl","shift","alt","meta"],Ns={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>Ts.some((n=>e[`${n}Key`]&&!t.includes(n)))},Ms={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},As={beforeMount(e,{value:t},{transition:n}){e._vod="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):Is(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),Is(e,!0),i.enter(e)):i.leave(e,(()=>{Is(e,!1)})):Is(e,t))},beforeUnmount(e,{value:t}){Is(e,t)}};function Is(e,t){e.style.display=t?e._vod:"none"}const Os=C({patchProp:(e,t,r,o,s=!1,a,l,c,u)=>{"class"===t?function(e,t,n){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}(e,o,s):"style"===t?function(e,t,n){const i=e.style,r=M(n);if(n&&!r){for(const e in n)Lo(i,e,n[e]);if(t&&!M(t))for(const e in t)null==n[e]&&Lo(i,e,"")}else{const o=i.display;r?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=o)}}(e,r,o):_(t)?w(t)||Bo(e,t,0,o,l):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,n,i){if(i)return"innerHTML"===t||"textContent"===t||!!(t in e&&zo.test(t)&&N(n));if("spellcheck"===t||"draggable"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if(zo.test(t)&&M(n))return!1;return t in e}(e,t,o,s))?function(e,t,n,r,o,s,a){if("innerHTML"===t||"textContent"===t)return r&&a(r,o,s),void(e[t]=null==n?"":n);if("value"===t&&"PROGRESS"!==e.tagName){e._value=n;const i=null==n?"":n;return e.value!==i&&(e.value=i),void(null==n&&e.removeAttribute(t))}if(""===n||null==n){const r=typeof e[t];if("boolean"===r)return void(e[t]=i(n));if(null==n&&"string"===r)return e[t]="",void e.removeAttribute(t);if("number"===r){try{e[t]=0}catch(l){}return void e.removeAttribute(t)}}try{e[t]=n}catch(nR){}}(e,t,o,a,l,c,u):("true-value"===t?e._trueValue=o:"false-value"===t&&(e._falseValue=o),function(e,t,r,o,s){if(o&&t.startsWith("xlink:"))null==r?e.removeAttributeNS(Mo,t.slice(6,t.length)):e.setAttributeNS(Mo,t,r);else{const o=n(t);null==r||o&&!i(r)?e.removeAttribute(t):e.setAttribute(t,o?"":r)}}(e,t,o,s))}},Do);let Fs,Rs=!1;function Ps(){return Fs||(Fs=yi(Os))}function Bs(){return Fs=Rs?Fs:bi(Os),Rs=!0,Fs}const js=(...e)=>{Ps().render(...e)},zs=(...e)=>{Bs().hydrate(...e)},Vs=(...e)=>{const t=Ps().createApp(...e),{mount:n}=t;return t.mount=e=>{const i=Ws(e);if(!i)return;const r=t._component;N(r)||r.render||r.template||(r.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t};function Ws(e){if(M(e)){return document.querySelector(e)}return e}let Hs=!1;var Us=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Transition:qo,TransitionGroup:ds,VueElement:Ho,createApp:Vs,createSSRApp:(...e)=>{const t=Bs().createApp(...e),{mount:n}=t;return t.mount=e=>{const t=Ws(e);if(t)return n(t,!0,t instanceof SVGElement)},t},defineCustomElement:Vo,defineSSRCustomElement:e=>Vo(e,zs),hydrate:zs,initDirectivesForSSR:()=>{Hs||(Hs=!0,bs.getSSRProps=({value:e})=>({value:e}),Cs.getSSRProps=({value:e},t)=>{if(t.props&&d(t.props.value,e))return{checked:!0}},_s.getSSRProps=({value:e},t)=>{if(D(e)){if(t.props&&f(e,t.props.value)>-1)return{checked:!0}}else if(L(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},As.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}})},render:js,useCssModule:function(e="$style"){{const t=yr();if(!t)return g;const n=t.type.__cssModules;if(!n)return g;const i=n[e];return i||g}},useCssVars:function(e){const t=yr();if(!t)return;const n=()=>Uo(t.subTree,e(t.proxy));uo(n),Mn((()=>{const e=new MutationObserver(n);e.observe(t.subTree.el.parentNode,{childList:!0}),Fn((()=>e.disconnect()))}))},vModelCheckbox:_s,vModelDynamic:Es,vModelRadio:Cs,vModelSelect:xs,vModelText:bs,vShow:As,withKeys:(e,t)=>n=>{if(!("key"in n))return;const i=U(n.key);return t.some((e=>e===i||Ms[e]===i))?e(n):void 0},withModifiers:(e,t)=>(n,...i)=>{for(let e=0;e<t.length;e++){const i=Ns[t[e]];if(i&&i(n,t))return}return e(n,...i)},EffectScope:ee,ReactiveEffect:de,computed:Ft,customRef:function(e){return new Mt(e)},effect:function(e,t){e.effect&&(e=e.effect.fn);const n=new de(e);t&&(C(n,t),t.scope&&te(n,t.scope)),t&&t.lazy||n.run();const i=n.run.bind(n);return i.effect=n,i},effectScope:function(e){return new ee(e)},getCurrentScope:function(){return J},isProxy:mt,isReactive:pt,isReadonly:gt,isRef:xt,markRaw:yt,onScopeDispose:function(e){J&&J.cleanups.push(e)},proxyRefs:Nt,reactive:ut,readonly:dt,ref:kt,shallowReactive:ht,shallowReadonly:function(e){return ft(e,!0,Re,rt,lt)},shallowRef:St,stop:function(e){e.effect.stop()},toRaw:vt,toRef:It,toRefs:function(e){const t=D(e)?new Array(e.length):{};for(const n in e)t[n]=It(e,n);return t},triggerRef:function(e){Ct(e)},unref:Lt,camelize:W,capitalize:$,normalizeClass:l,normalizeProps:function(e){if(!e)return null;let{class:t,style:n}=e;return t&&!M(t)&&(e.class=l(t)),n&&(e.style=r(n)),e},normalizeStyle:r,toDisplayString:e=>null==e?"":D(e)||I(e)&&(e.toString===F||!N(e.toString))?JSON.stringify(e,p,2):String(e),toHandlerKey:q,BaseTransition:ln,Comment:Pi,Fragment:Fi,KeepAlive:_n,Static:Bi,Suspense:Zt,Teleport:Ti,Text:Ri,callWithAsyncErrorHandling:jr,callWithErrorHandling:Br,cloneVNode:nr,compatUtils:null,createBlock:Ki,createCommentVNode:function(e="",t=!1){return t?(Vi(),Ki(Pi,null,e)):er(Pi,null,e)},createElementBlock:qi,createElementVNode:Qi,createHydrationRenderer:bi,createPropsRestProxy:function(e,t){const n={};for(const i in e)t.includes(i)||Object.defineProperty(n,i,{enumerable:!0,get:()=>e[i]});return n},createRenderer:yi,createSlots:function(e,t){for(let n=0;n<t.length;n++){const i=t[n];if(D(i))for(let t=0;t<i.length;t++)e[i[t].name]=i[t].fn;else i&&(e[i.name]=i.fn)}return e},createStaticVNode:function(e,t){const n=er(Bi,null,e);return n.staticCount=t,n},createTextVNode:ir,createVNode:er,defineAsyncComponent:function(e){N(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:i,delay:r=200,timeout:o,suspensible:s=!0,onError:a}=e;let l,c=null,u=0;const h=()=>{let e;return c||(e=c=t().catch((e=>{if(e=e instanceof Error?e:new Error(String(e)),a)return new Promise(((t,n)=>{a(e,(()=>t((u++,c=null,h()))),(()=>n(e)),u+1)}));throw e})).then((t=>e!==c&&c?c:(t&&(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),l=t,t))))};return gn({name:"AsyncComponentWrapper",__asyncLoader:h,get __asyncResolved(){return l},setup(){const e=vr;if(l)return()=>vn(l,e);const t=t=>{c=null,zr(t,e,13,!i)};if(s&&e.suspense||kr)return h().then((t=>()=>vn(t,e))).catch((e=>(t(e),()=>i?er(i,{error:e}):null)));const a=kt(!1),u=kt(),d=kt(!!r);return r&&setTimeout((()=>{d.value=!1}),r),null!=o&&setTimeout((()=>{if(!a.value&&!u.value){const e=new Error(`Async component timed out after ${o}ms.`);t(e),u.value=e}}),o),h().then((()=>{a.value=!0,e.parent&&yn(e.parent.vnode)&&to(e.parent.update)})).catch((e=>{t(e),u.value=e})),()=>a.value&&l?vn(l,e):u.value&&i?er(i,{error:u.value}):n&&!d.value?er(n):void 0}})},defineComponent:gn,defineEmits:function(){return null},defineExpose:function(e){},defineProps:function(){return null},get devtools(){return Rt},getCurrentInstance:yr,getTransitionRawChildren:pn,guardReactiveProps:tr,h:bo,handleError:zr,initCustomFormatter:function(){},inject:on,isMemoSame:wo,isRuntimeOnly:()=>!Cr,isVNode:Yi,mergeDefaults:function(e,t){const n=D(e)?e.reduce(((e,t)=>(e[t]={},e)),{}):e;for(const i in t){const e=n[i];e?D(e)||N(e)?n[i]={type:e,default:t[i]}:e.default=t[i]:null===e&&(n[i]={default:t[i]})}return n},mergeProps:ar,nextTick:eo,onActivated:Cn,onBeforeMount:Nn,onBeforeUnmount:On,onBeforeUpdate:An,onDeactivated:xn,onErrorCaptured:jn,onMounted:Mn,onRenderTracked:Bn,onRenderTriggered:Pn,onServerPrefetch:Rn,onUnmounted:Fn,onUpdated:In,openBlock:Vi,popScopeId:function(){Wt=null},provide:rn,pushScopeId:function(e){Wt=e},queuePostFlushCb:ro,registerRuntimeCompiler:Er,renderList:lr,renderSlot:function(e,t,n={},i,r){if(Vt.isCE)return er("slot","default"===t?null:{name:t},i&&i());let o=e[t];o&&o._c&&(o._d=!1),Vi();const s=o&&cr(o(n)),a=Ki(Fi,{key:n.key||`_${t}`},s||(i?i():[]),s&&1===e._?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a},resolveComponent:Ni,resolveDirective:function(e){return Ii("directives",e)},resolveDynamicComponent:Ai,resolveFilter:null,resolveTransitionHooks:un,setBlockTracking:Ui,setDevtoolsHook:function e(t,n){var i,r;if(Rt=t,Rt)Rt.enabled=!0,Pt.forEach((({event:e,args:t})=>Rt.emit(e,...t))),Pt=[];else if("undefined"!=typeof window&&window.HTMLElement&&!(null===(r=null===(i=window.navigator)||void 0===i?void 0:i.userAgent)||void 0===r?void 0:r.includes("jsdom"))){(n.__VUE_DEVTOOLS_HOOK_REPLAY__=n.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push((t=>{e(t,n)})),setTimeout((()=>{Rt||(n.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Pt=[])}),3e3)}else Pt=[]},setTransitionHooks:fn,ssrContextKey:_o,ssrUtils:xo,toHandlers:function(e){const t={};for(const n in e)t[q(n)]=e[n];return t},transformVNodeArgs:function(e){},useAttrs:function(){return yo().attrs},useSSRContext:()=>{{const e=on(_o);return e||Fr("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),e}},useSlots:function(){return yo().slots},useTransitionState:sn,version:Co,warn:Fr,watch:fo,watchEffect:co,watchPostEffect:uo,watchSyncEffect:function(e,t){return po(e,null,{flush:"sync"})},withAsyncContext:function(e){const t=yr();let n=e();return _r(),O(n)&&(n=n.catch((e=>{throw br(t),e}))),[n,()=>br(t)]},withCtx:Ut,withDefaults:function(e,t){return null},withDirectives:function(e,t){if(null===Vt)return e;const n=Vt.proxy,i=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[e,o,s,a=g]=t[r];N(e)&&(e={mounted:e,updated:e}),e.deep&&vo(o),i.push({dir:e,instance:n,value:o,oldValue:void 0,arg:s,modifiers:a})}return e},withMemo:function(e,t,n,i){const r=n[i];if(r&&wo(r,e))return r;const o=t();return o.memo=e.slice(),n[i]=o},withScopeId:e=>Ut});function $s(e){throw e}function qs(e){}function Ks(e,t,n,i){const r=new SyntaxError(String(e));return r.code=e,r.loc=t,r}const Ys=Symbol(""),Gs=Symbol(""),Xs=Symbol(""),Zs=Symbol(""),Js=Symbol(""),Qs=Symbol(""),ea=Symbol(""),ta=Symbol(""),na=Symbol(""),ia=Symbol(""),ra=Symbol(""),oa=Symbol(""),sa=Symbol(""),aa=Symbol(""),la=Symbol(""),ca=Symbol(""),ua=Symbol(""),ha=Symbol(""),da=Symbol(""),fa=Symbol(""),pa=Symbol(""),ga=Symbol(""),ma=Symbol(""),va=Symbol(""),ya=Symbol(""),ba=Symbol(""),_a=Symbol(""),wa=Symbol(""),Ca=Symbol(""),xa=Symbol(""),ka=Symbol(""),Sa=Symbol(""),Da=Symbol(""),Ea=Symbol(""),La=Symbol(""),Ta=Symbol(""),Na=Symbol(""),Ma=Symbol(""),Aa=Symbol(""),Ia={[Ys]:"Fragment",[Gs]:"Teleport",[Xs]:"Suspense",[Zs]:"KeepAlive",[Js]:"BaseTransition",[Qs]:"openBlock",[ea]:"createBlock",[ta]:"createElementBlock",[na]:"createVNode",[ia]:"createElementVNode",[ra]:"createCommentVNode",[oa]:"createTextVNode",[sa]:"createStaticVNode",[aa]:"resolveComponent",[la]:"resolveDynamicComponent",[ca]:"resolveDirective",[ua]:"resolveFilter",[ha]:"withDirectives",[da]:"renderList",[fa]:"renderSlot",[pa]:"createSlots",[ga]:"toDisplayString",[ma]:"mergeProps",[va]:"normalizeClass",[ya]:"normalizeStyle",[ba]:"normalizeProps",[_a]:"guardReactiveProps",[wa]:"toHandlers",[Ca]:"camelize",[xa]:"capitalize",[ka]:"toHandlerKey",[Sa]:"setBlockTracking",[Da]:"pushScopeId",[Ea]:"popScopeId",[La]:"withCtx",[Ta]:"unref",[Na]:"isRef",[Ma]:"withMemo",[Aa]:"isMemoSame"};const Oa={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function Fa(e,t,n,i,r,o,s,a=!1,l=!1,c=!1,u=Oa){return e&&(a?(e.helper(Qs),e.helper(ul(e.inSSR,c))):e.helper(cl(e.inSSR,c)),s&&e.helper(ha)),{type:13,tag:t,props:n,children:i,patchFlag:r,dynamicProps:o,directives:s,isBlock:a,disableTracking:l,isComponent:c,loc:u}}function Ra(e,t=Oa){return{type:17,loc:t,elements:e}}function Pa(e,t=Oa){return{type:15,loc:t,properties:e}}function Ba(e,t){return{type:16,loc:Oa,key:M(e)?ja(e,!0):e,value:t}}function ja(e,t=!1,n=Oa,i=0){return{type:4,loc:n,content:e,isStatic:t,constType:t?3:i}}function za(e,t=Oa){return{type:8,loc:t,children:e}}function Va(e,t=[],n=Oa){return{type:14,loc:n,callee:e,arguments:t}}function Wa(e,t,n=!1,i=!1,r=Oa){return{type:18,params:e,returns:t,newline:n,isSlot:i,loc:r}}function Ha(e,t,n,i=!0){return{type:19,test:e,consequent:t,alternate:n,newline:i,loc:Oa}}const Ua=e=>4===e.type&&e.isStatic,$a=(e,t)=>e===t||e===U(t);function qa(e){return $a(e,"Teleport")?Gs:$a(e,"Suspense")?Xs:$a(e,"KeepAlive")?Zs:$a(e,"BaseTransition")?Js:void 0}const Ka=/^\d|[^\$\w]/,Ya=e=>!Ka.test(e),Ga=/[A-Za-z_$\xA0-\uFFFF]/,Xa=/[\.\?\w$\xA0-\uFFFF]/,Za=/\s+[.[]\s*|\s*[.[]\s+/g,Ja=e=>{e=e.trim().replace(Za,(e=>e.trim()));let t=0,n=[],i=0,r=0,o=null;for(let s=0;s<e.length;s++){const a=e.charAt(s);switch(t){case 0:if("["===a)n.push(t),t=1,i++;else if("("===a)n.push(t),t=2,r++;else if(!(0===s?Ga:Xa).test(a))return!1;break;case 1:"'"===a||'"'===a||"`"===a?(n.push(t),t=3,o=a):"["===a?i++:"]"===a&&(--i||(t=n.pop()));break;case 2:if("'"===a||'"'===a||"`"===a)n.push(t),t=3,o=a;else if("("===a)r++;else if(")"===a){if(s===e.length-1)return!1;--r||(t=n.pop())}break;case 3:a===o&&(t=n.pop(),o=null)}}return!i&&!r};function Qa(e,t,n){const i={source:e.source.slice(t,t+n),start:el(e.start,e.source,t),end:e.end};return null!=n&&(i.end=el(e.start,e.source,t+n)),i}function el(e,t,n=t.length){return tl(C({},e),t,n)}function tl(e,t,n=t.length){let i=0,r=-1;for(let o=0;o<n;o++)10===t.charCodeAt(o)&&(i++,r=o);return e.offset+=n,e.line+=i,e.column=-1===r?e.column+n:n-r,e}function nl(e,t,n=!1){for(let i=0;i<e.props.length;i++){const r=e.props[i];if(7===r.type&&(n||r.exp)&&(M(t)?r.name===t:t.test(r.name)))return r}}function il(e,t,n=!1,i=!1){for(let r=0;r<e.props.length;r++){const o=e.props[r];if(6===o.type){if(n)continue;if(o.name===t&&(o.value||i))return o}else if("bind"===o.name&&(o.exp||i)&&rl(o.arg,t))return o}}function rl(e,t){return!(!e||!Ua(e)||e.content!==t)}function ol(e){return 5===e.type||2===e.type}function sl(e){return 7===e.type&&"slot"===e.name}function al(e){return 1===e.type&&3===e.tagType}function ll(e){return 1===e.type&&2===e.tagType}function cl(e,t){return e||t?na:ia}function ul(e,t){return e||t?ea:ta}const hl=new Set([ba,_a]);function dl(e,t=[]){if(e&&!M(e)&&14===e.type){const n=e.callee;if(!M(n)&&hl.has(n))return dl(e.arguments[0],t.concat(e))}return[e,t]}function fl(e,t,n){let i;let r,o=13===e.type?e.props:e.arguments[2],s=[];if(o&&!M(o)&&14===o.type){const e=dl(o);o=e[0],s=e[1],r=s[s.length-1]}if(null==o||M(o))i=Pa([t]);else if(14===o.type){const e=o.arguments[0];M(e)||15!==e.type?o.callee===wa?i=Va(n.helper(ma),[Pa([t]),o]):o.arguments.unshift(Pa([t])):e.properties.unshift(t),!i&&(i=o)}else if(15===o.type){let e=!1;if(4===t.key.type){const n=t.key.content;e=o.properties.some((e=>4===e.key.type&&e.key.content===n))}e||o.properties.unshift(t),i=o}else i=Va(n.helper(ma),[Pa([t]),o]),r&&r.callee===_a&&(r=s[s.length-2]);13===e.type?r?r.arguments[0]=i:e.props=i:r?r.arguments[0]=i:e.arguments[2]=i}function pl(e,t){return`_${t}_${e.replace(/[^\w]/g,((t,n)=>"-"===t?"_":e.charCodeAt(n).toString()))}`}function gl(e,{helper:t,removeHelper:n,inSSR:i}){e.isBlock||(e.isBlock=!0,n(cl(i,e.isComponent)),t(Qs),t(ul(i,e.isComponent)))}function ml(e,t){const n=t.options?t.options.compatConfig:t.compatConfig,i=n&&n[e];return"MODE"===e?i||3:i}function vl(e,t){const n=ml("MODE",t),i=ml(e,t);return 3===n?!0===i:!1!==i}function yl(e,t,n,...i){return vl(e,t)}const bl=/&(gt|lt|amp|apos|quot);/g,_l={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},wl={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:y,isPreTag:y,isCustomElement:y,decodeEntities:e=>e.replace(bl,((e,t)=>_l[t])),onError:$s,onWarn:qs,comments:!1};function Cl(e,t={}){const n=function(e,t){const n=C({},wl);let i;for(i in t)n[i]=void 0===t[i]?wl[i]:t[i];return{options:n,column:1,line:1,offset:0,originalSource:e,source:e,inPre:!1,inVPre:!1,onWarn:n.onWarn}}(e,t),i=Rl(n);return function(e,t=Oa){return{type:0,children:e,helpers:[],components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:t}}(xl(n,0,[]),Pl(n,i))}function xl(e,t,n){const i=Bl(n),r=i?i.ns:0,o=[];for(;!Ul(e,t,n);){const s=e.source;let a;if(0===t||1===t)if(!e.inVPre&&jl(s,e.options.delimiters[0]))a=Il(e,t);else if(0===t&&"<"===s[0])if(1===s.length)Hl(e,5,1);else if("!"===s[1])jl(s,"\x3c!--")?a=Dl(e):jl(s,"<!DOCTYPE")?a=El(e):jl(s,"<![CDATA[")?0!==r?a=Sl(e,n):(Hl(e,1),a=El(e)):(Hl(e,11),a=El(e));else if("/"===s[1])if(2===s.length)Hl(e,5,2);else{if(">"===s[2]){Hl(e,14,2),zl(e,3);continue}if(/[a-z]/i.test(s[2])){Hl(e,23),Nl(e,1,i);continue}Hl(e,12,2),a=El(e)}else/[a-z]/i.test(s[1])?(a=Ll(e,n),vl("COMPILER_NATIVE_TEMPLATE",e)&&a&&"template"===a.tag&&!a.props.some((e=>7===e.type&&Tl(e.name)))&&(a=a.children)):"?"===s[1]?(Hl(e,21,1),a=El(e)):Hl(e,12,1);if(a||(a=Ol(e,t)),D(a))for(let e=0;e<a.length;e++)kl(o,a[e]);else kl(o,a)}let s=!1;if(2!==t&&1!==t){const t="preserve"!==e.options.whitespace;for(let n=0;n<o.length;n++){const i=o[n];if(e.inPre||2!==i.type)3!==i.type||e.options.comments||(s=!0,o[n]=null);else if(/[^\t\r\n\f ]/.test(i.content))t&&(i.content=i.content.replace(/[\t\r\n\f ]+/g," "));else{const e=o[n-1],r=o[n+1];!e||!r||t&&(3===e.type||3===r.type||1===e.type&&1===r.type&&/[\r\n]/.test(i.content))?(s=!0,o[n]=null):i.content=" "}}if(e.inPre&&i&&e.options.isPreTag(i.tag)){const e=o[0];e&&2===e.type&&(e.content=e.content.replace(/^\r?\n/,""))}}return s?o.filter(Boolean):o}function kl(e,t){if(2===t.type){const n=Bl(e);if(n&&2===n.type&&n.loc.end.offset===t.loc.start.offset)return n.content+=t.content,n.loc.end=t.loc.end,void(n.loc.source+=t.loc.source)}e.push(t)}function Sl(e,t){zl(e,9);const n=xl(e,3,t);return 0===e.source.length?Hl(e,6):zl(e,3),n}function Dl(e){const t=Rl(e);let n;const i=/--(\!)?>/.exec(e.source);if(i){i.index<=3&&Hl(e,0),i[1]&&Hl(e,10),n=e.source.slice(4,i.index);const t=e.source.slice(0,i.index);let r=1,o=0;for(;-1!==(o=t.indexOf("\x3c!--",r));)zl(e,o-r+1),o+4<t.length&&Hl(e,16),r=o+1;zl(e,i.index+i[0].length-r+1)}else n=e.source.slice(4),zl(e,e.source.length),Hl(e,7);return{type:3,content:n,loc:Pl(e,t)}}function El(e){const t=Rl(e),n="?"===e.source[1]?1:2;let i;const r=e.source.indexOf(">");return-1===r?(i=e.source.slice(n),zl(e,e.source.length)):(i=e.source.slice(n,r),zl(e,r+1)),{type:3,content:i,loc:Pl(e,t)}}function Ll(e,t){const n=e.inPre,i=e.inVPre,r=Bl(t),o=Nl(e,0,r),s=e.inPre&&!n,a=e.inVPre&&!i;if(o.isSelfClosing||e.options.isVoidTag(o.tag))return s&&(e.inPre=!1),a&&(e.inVPre=!1),o;t.push(o);const l=e.options.getTextMode(o,r),c=xl(e,l,t);t.pop();{const t=o.props.find((e=>6===e.type&&"inline-template"===e.name));if(t&&yl("COMPILER_INLINE_TEMPLATE",e,t.loc)){const n=Pl(e,o.loc.end);t.value={type:2,content:n.source,loc:n}}}if(o.children=c,$l(e.source,o.tag))Nl(e,1,r);else if(Hl(e,24,0,o.loc.start),0===e.source.length&&"script"===o.tag.toLowerCase()){const t=c[0];t&&jl(t.loc.source,"\x3c!--")&&Hl(e,8)}return o.loc=Pl(e,o.loc.start),s&&(e.inPre=!1),a&&(e.inVPre=!1),o}const Tl=e("if,else,else-if,for,slot");function Nl(e,t,n){const i=Rl(e),r=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(e.source),o=r[1],s=e.options.getNamespace(o,n);zl(e,r[0].length),Vl(e);const a=Rl(e),l=e.source;e.options.isPreTag(o)&&(e.inPre=!0);let c=Ml(e,t);0===t&&!e.inVPre&&c.some((e=>7===e.type&&"pre"===e.name))&&(e.inVPre=!0,C(e,a),e.source=l,c=Ml(e,t).filter((e=>"v-pre"!==e.name)));let u=!1;if(0===e.source.length?Hl(e,9):(u=jl(e.source,"/>"),1===t&&u&&Hl(e,4),zl(e,u?2:1)),1===t)return;let h=0;return e.inVPre||("slot"===o?h=2:"template"===o?c.some((e=>7===e.type&&Tl(e.name)))&&(h=3):function(e,t,n){const i=n.options;if(i.isCustomElement(e))return!1;if("component"===e||/^[A-Z]/.test(e)||qa(e)||i.isBuiltInComponent&&i.isBuiltInComponent(e)||i.isNativeTag&&!i.isNativeTag(e))return!0;for(let r=0;r<t.length;r++){const e=t[r];if(6===e.type){if("is"===e.name&&e.value){if(e.value.content.startsWith("vue:"))return!0;if(yl("COMPILER_IS_ON_ELEMENT",n,e.loc))return!0}}else{if("is"===e.name)return!0;if("bind"===e.name&&rl(e.arg,"is")&&yl("COMPILER_IS_ON_ELEMENT",n,e.loc))return!0}}}(o,c,e)&&(h=1)),{type:1,ns:s,tag:o,tagType:h,props:c,isSelfClosing:u,children:[],loc:Pl(e,i),codegenNode:void 0}}function Ml(e,t){const n=[],i=new Set;for(;e.source.length>0&&!jl(e.source,">")&&!jl(e.source,"/>");){if(jl(e.source,"/")){Hl(e,22),zl(e,1),Vl(e);continue}1===t&&Hl(e,3);const r=Al(e,i);6===r.type&&r.value&&"class"===r.name&&(r.value.content=r.value.content.replace(/\s+/g," ").trim()),0===t&&n.push(r),/^[^\t\r\n\f />]/.test(e.source)&&Hl(e,15),Vl(e)}return n}function Al(e,t){const n=Rl(e),i=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(e.source)[0];t.has(i)&&Hl(e,2),t.add(i),"="===i[0]&&Hl(e,19);{const t=/["'<]/g;let n;for(;n=t.exec(i);)Hl(e,17,n.index)}let r;zl(e,i.length),/^[\t\r\n\f ]*=/.test(e.source)&&(Vl(e),zl(e,1),Vl(e),r=function(e){const t=Rl(e);let n;const i=e.source[0],r='"'===i||"'"===i;if(r){zl(e,1);const t=e.source.indexOf(i);-1===t?n=Fl(e,e.source.length,4):(n=Fl(e,t,4),zl(e,1))}else{const t=/^[^\t\r\n\f >]+/.exec(e.source);if(!t)return;const i=/["'<=`]/g;let r;for(;r=i.exec(t[0]);)Hl(e,18,r.index);n=Fl(e,t[0].length,4)}return{content:n,isQuoted:r,loc:Pl(e,t)}}(e),r||Hl(e,13));const o=Pl(e,n);if(!e.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(i)){const t=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(i);let s,a=jl(i,"."),l=t[1]||(a||jl(i,":")?"bind":jl(i,"@")?"on":"slot");if(t[2]){const r="slot"===l,o=i.lastIndexOf(t[2]),a=Pl(e,Wl(e,n,o),Wl(e,n,o+t[2].length+(r&&t[3]||"").length));let c=t[2],u=!0;c.startsWith("[")?(u=!1,c.endsWith("]")?c=c.slice(1,c.length-1):(Hl(e,27),c=c.slice(1))):r&&(c+=t[3]||""),s={type:4,content:c,isStatic:u,constType:u?3:0,loc:a}}if(r&&r.isQuoted){const e=r.loc;e.start.offset++,e.start.column++,e.end=el(e.start,r.content),e.source=e.source.slice(1,-1)}const c=t[3]?t[3].slice(1).split("."):[];return a&&c.push("prop"),"bind"===l&&s&&c.includes("sync")&&yl("COMPILER_V_BIND_SYNC",e,0,s.loc.source)&&(l="model",c.splice(c.indexOf("sync"),1)),{type:7,name:l,exp:r&&{type:4,content:r.content,isStatic:!1,constType:0,loc:r.loc},arg:s,modifiers:c,loc:o}}return!e.inVPre&&jl(i,"v-")&&Hl(e,26),{type:6,name:i,value:r&&{type:2,content:r.content,loc:r.loc},loc:o}}function Il(e,t){const[n,i]=e.options.delimiters,r=e.source.indexOf(i,n.length);if(-1===r)return void Hl(e,25);const o=Rl(e);zl(e,n.length);const s=Rl(e),a=Rl(e),l=r-n.length,c=e.source.slice(0,l),u=Fl(e,l,t),h=u.trim(),d=u.indexOf(h);d>0&&tl(s,c,d);return tl(a,c,l-(u.length-h.length-d)),zl(e,i.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:h,loc:Pl(e,s,a)},loc:Pl(e,o)}}function Ol(e,t){const n=3===t?["]]>"]:["<",e.options.delimiters[0]];let i=e.source.length;for(let o=0;o<n.length;o++){const t=e.source.indexOf(n[o],1);-1!==t&&i>t&&(i=t)}const r=Rl(e);return{type:2,content:Fl(e,i,t),loc:Pl(e,r)}}function Fl(e,t,n){const i=e.source.slice(0,t);return zl(e,t),2===n||3===n||-1===i.indexOf("&")?i:e.options.decodeEntities(i,4===n)}function Rl(e){const{column:t,line:n,offset:i}=e;return{column:t,line:n,offset:i}}function Pl(e,t,n){return{start:t,end:n=n||Rl(e),source:e.originalSource.slice(t.offset,n.offset)}}function Bl(e){return e[e.length-1]}function jl(e,t){return e.startsWith(t)}function zl(e,t){const{source:n}=e;tl(e,n,t),e.source=n.slice(t)}function Vl(e){const t=/^[\t\r\n\f ]+/.exec(e.source);t&&zl(e,t[0].length)}function Wl(e,t,n){return el(t,e.originalSource.slice(t.offset,n),n)}function Hl(e,t,n,i=Rl(e)){n&&(i.offset+=n,i.column+=n),e.options.onError(Ks(t,{start:i,end:i,source:""}))}function Ul(e,t,n){const i=e.source;switch(t){case 0:if(jl(i,"</"))for(let e=n.length-1;e>=0;--e)if($l(i,n[e].tag))return!0;break;case 1:case 2:{const e=Bl(n);if(e&&$l(i,e.tag))return!0;break}case 3:if(jl(i,"]]>"))return!0}return!i}function $l(e,t){return jl(e,"</")&&e.slice(2,2+t.length).toLowerCase()===t.toLowerCase()&&/[\t\r\n\f />]/.test(e[2+t.length]||">")}function ql(e,t){Yl(e,t,Kl(e,e.children[0]))}function Kl(e,t){const{children:n}=e;return 1===n.length&&1===t.type&&!ll(t)}function Yl(e,t,n=!1){let i=!0;const{children:r}=e,o=r.length;let s=0;for(let a=0;a<r.length;a++){const e=r[a];if(1===e.type&&0===e.tagType){const r=n?0:Gl(e,t);if(r>0){if(r<3&&(i=!1),r>=2){e.codegenNode.patchFlag="-1",e.codegenNode=t.hoist(e.codegenNode),s++;continue}}else{const n=e.codegenNode;if(13===n.type){const i=ec(n);if((!i||512===i||1===i)&&Jl(e,t)>=2){const i=Ql(e);i&&(n.props=t.hoist(i))}n.dynamicProps&&(n.dynamicProps=t.hoist(n.dynamicProps))}}}else if(12===e.type){const n=Gl(e.content,t);n>0&&(n<3&&(i=!1),n>=2&&(e.codegenNode=t.hoist(e.codegenNode),s++))}if(1===e.type){const n=1===e.tagType;n&&t.scopes.vSlot++,Yl(e,t),n&&t.scopes.vSlot--}else if(11===e.type)Yl(e,t,1===e.children.length);else if(9===e.type)for(let n=0;n<e.branches.length;n++)Yl(e.branches[n],t,1===e.branches[n].children.length)}i&&s&&t.transformHoist&&t.transformHoist(r,t,e),s&&s===o&&1===e.type&&0===e.tagType&&e.codegenNode&&13===e.codegenNode.type&&D(e.codegenNode.children)&&(e.codegenNode.children=t.hoist(Ra(e.codegenNode.children)))}function Gl(e,t){const{constantCache:n}=t;switch(e.type){case 1:if(0!==e.tagType)return 0;const i=n.get(e);if(void 0!==i)return i;const r=e.codegenNode;if(13!==r.type)return 0;if(ec(r))return n.set(e,0),0;{let i=3;const o=Jl(e,t);if(0===o)return n.set(e,0),0;o<i&&(i=o);for(let r=0;r<e.children.length;r++){const o=Gl(e.children[r],t);if(0===o)return n.set(e,0),0;o<i&&(i=o)}if(i>1)for(let r=0;r<e.props.length;r++){const o=e.props[r];if(7===o.type&&"bind"===o.name&&o.exp){const r=Gl(o.exp,t);if(0===r)return n.set(e,0),0;r<i&&(i=r)}}return r.isBlock&&(t.removeHelper(Qs),t.removeHelper(ul(t.inSSR,r.isComponent)),r.isBlock=!1,t.helper(cl(t.inSSR,r.isComponent))),n.set(e,i),i}case 2:case 3:return 3;default:return 0;case 5:case 12:return Gl(e.content,t);case 4:return e.constType;case 8:let o=3;for(let n=0;n<e.children.length;n++){const i=e.children[n];if(M(i)||A(i))continue;const r=Gl(i,t);if(0===r)return 0;r<o&&(o=r)}return o}}const Xl=new Set([va,ya,ba,_a]);function Zl(e,t){if(14===e.type&&!M(e.callee)&&Xl.has(e.callee)){const n=e.arguments[0];if(4===n.type)return Gl(n,t);if(14===n.type)return Zl(n,t)}return 0}function Jl(e,t){let n=3;const i=Ql(e);if(i&&15===i.type){const{properties:e}=i;for(let i=0;i<e.length;i++){const{key:r,value:o}=e[i],s=Gl(r,t);if(0===s)return s;let a;if(s<n&&(n=s),a=4===o.type?Gl(o,t):14===o.type?Zl(o,t):0,0===a)return a;a<n&&(n=a)}}return n}function Ql(e){const t=e.codegenNode;if(13===t.type)return t.props}function ec(e){const t=e.patchFlag;return t?parseInt(t,10):void 0}function tc(e,{filename:t="",prefixIdentifiers:n=!1,hoistStatic:i=!1,cacheHandlers:r=!1,nodeTransforms:o=[],directiveTransforms:s={},transformHoist:a=null,isBuiltInComponent:l=v,isCustomElement:c=v,expressionPlugins:u=[],scopeId:h=null,slotted:d=!0,ssr:f=!1,inSSR:p=!1,ssrCssVars:m="",bindingMetadata:y=g,inline:b=!1,isTS:_=!1,onError:w=$s,onWarn:C=qs,compatConfig:x}){const k=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),S={selfName:k&&$(W(k[1])),prefixIdentifiers:n,hoistStatic:i,cacheHandlers:r,nodeTransforms:o,directiveTransforms:s,transformHoist:a,isBuiltInComponent:l,isCustomElement:c,expressionPlugins:u,scopeId:h,slotted:d,ssr:f,inSSR:p,ssrCssVars:m,bindingMetadata:y,inline:b,isTS:_,onError:w,onWarn:C,compatConfig:x,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(e){const t=S.helpers.get(e)||0;return S.helpers.set(e,t+1),e},removeHelper(e){const t=S.helpers.get(e);if(t){const n=t-1;n?S.helpers.set(e,n):S.helpers.delete(e)}},helperString:e=>`_${Ia[S.helper(e)]}`,replaceNode(e){S.parent.children[S.childIndex]=S.currentNode=e},removeNode(e){const t=S.parent.children,n=e?t.indexOf(e):S.currentNode?S.childIndex:-1;e&&e!==S.currentNode?S.childIndex>n&&(S.childIndex--,S.onNodeRemoved()):(S.currentNode=null,S.onNodeRemoved()),S.parent.children.splice(n,1)},onNodeRemoved:()=>{},addIdentifiers(e){},removeIdentifiers(e){},hoist(e){M(e)&&(e=ja(e)),S.hoists.push(e);const t=ja(`_hoisted_${S.hoists.length}`,!1,e.loc,2);return t.hoisted=e,t},cache:(e,t=!1)=>function(e,t,n=!1){return{type:20,index:e,value:t,isVNode:n,loc:Oa}}(S.cached++,e,t)};return S.filters=new Set,S}function nc(e,t){const n=tc(e,t);ic(e,n),t.hoistStatic&&ql(e,n),t.ssr||function(e,t){const{helper:n}=t,{children:i}=e;if(1===i.length){const n=i[0];if(Kl(e,n)&&n.codegenNode){const i=n.codegenNode;13===i.type&&gl(i,t),e.codegenNode=i}else e.codegenNode=n}else if(i.length>1){let i=64;e.codegenNode=Fa(t,n(Ys),void 0,e.children,i+"",void 0,void 0,!0,void 0,!1)}}(e,n),e.helpers=[...n.helpers.keys()],e.components=[...n.components],e.directives=[...n.directives],e.imports=n.imports,e.hoists=n.hoists,e.temps=n.temps,e.cached=n.cached,e.filters=[...n.filters]}function ic(e,t){t.currentNode=e;const{nodeTransforms:n}=t,i=[];for(let o=0;o<n.length;o++){const r=n[o](e,t);if(r&&(D(r)?i.push(...r):i.push(r)),!t.currentNode)return;e=t.currentNode}switch(e.type){case 3:t.ssr||t.helper(ra);break;case 5:t.ssr||t.helper(ga);break;case 9:for(let n=0;n<e.branches.length;n++)ic(e.branches[n],t);break;case 10:case 11:case 1:case 0:!function(e,t){let n=0;const i=()=>{n--};for(;n<e.children.length;n++){const r=e.children[n];M(r)||(t.parent=e,t.childIndex=n,t.onNodeRemoved=i,ic(r,t))}}(e,t)}t.currentNode=e;let r=i.length;for(;r--;)i[r]()}function rc(e,t){const n=M(e)?t=>t===e:t=>e.test(t);return(e,i)=>{if(1===e.type){const{props:r}=e;if(3===e.tagType&&r.some(sl))return;const o=[];for(let s=0;s<r.length;s++){const a=r[s];if(7===a.type&&n(a.name)){r.splice(s,1),s--;const n=t(e,a,i);n&&o.push(n)}}return o}}}function oc(e,t={}){const n=function(e,{mode:t="function",prefixIdentifiers:n="module"===t,sourceMap:i=!1,filename:r="template.vue.html",scopeId:o=null,optimizeImports:s=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:u=!1,isTS:h=!1,inSSR:d=!1}){const f={mode:t,prefixIdentifiers:n,sourceMap:i,filename:r,scopeId:o,optimizeImports:s,runtimeGlobalName:a,runtimeModuleName:l,ssrRuntimeModuleName:c,ssr:u,isTS:h,inSSR:d,source:e.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper:e=>`_${Ia[e]}`,push(e,t){f.code+=e},indent(){p(++f.indentLevel)},deindent(e=!1){e?--f.indentLevel:p(--f.indentLevel)},newline(){p(f.indentLevel)}};function p(e){f.push("\n"+"  ".repeat(e))}return f}(e,t);t.onContextCreated&&t.onContextCreated(n);const{mode:i,push:r,prefixIdentifiers:o,indent:s,deindent:a,newline:l,scopeId:c,ssr:u}=n,h=e.helpers.length>0,d=!o&&"module"!==i;!function(e,t){const{ssr:n,prefixIdentifiers:i,push:r,newline:o,runtimeModuleName:s,runtimeGlobalName:a,ssrRuntimeModuleName:l}=t,c=a,u=e=>`${Ia[e]}: _${Ia[e]}`;if(e.helpers.length>0&&(r(`const _Vue = ${c}\n`),e.hoists.length)){r(`const { ${[na,ia,ra,oa,sa].filter((t=>e.helpers.includes(t))).map(u).join(", ")} } = _Vue\n`)}(function(e,t){if(!e.length)return;t.pure=!0;const{push:n,newline:i,helper:r,scopeId:o,mode:s}=t;i();for(let a=0;a<e.length;a++){const r=e[a];r&&(n(`const _hoisted_${a+1} = `),cc(r,t),i())}t.pure=!1})(e.hoists,t),o(),r("return ")}(e,n);if(r(`function ${u?"ssrRender":"render"}(${(u?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ")}) {`),s(),d&&(r("with (_ctx) {"),s(),h&&(r(`const { ${e.helpers.map((e=>`${Ia[e]}: _${Ia[e]}`)).join(", ")} } = _Vue`),r("\n"),l())),e.components.length&&(sc(e.components,"component",n),(e.directives.length||e.temps>0)&&l()),e.directives.length&&(sc(e.directives,"directive",n),e.temps>0&&l()),e.filters&&e.filters.length&&(l(),sc(e.filters,"filter",n),l()),e.temps>0){r("let ");for(let t=0;t<e.temps;t++)r(`${t>0?", ":""}_temp${t}`)}return(e.components.length||e.directives.length||e.temps)&&(r("\n"),l()),u||r("return "),e.codegenNode?cc(e.codegenNode,n):r("null"),d&&(a(),r("}")),a(),r("}"),{ast:e,code:n.code,preamble:"",map:n.map?n.map.toJSON():void 0}}function sc(e,t,{helper:n,push:i,newline:r,isTS:o}){const s=n("filter"===t?ua:"component"===t?aa:ca);for(let a=0;a<e.length;a++){let n=e[a];const l=n.endsWith("__self");l&&(n=n.slice(0,-6)),i(`const ${pl(n,t)} = ${s}(${JSON.stringify(n)}${l?", true":""})${o?"!":""}`),a<e.length-1&&r()}}function ac(e,t){const n=e.length>3||!1;t.push("["),n&&t.indent(),lc(e,t,n),n&&t.deindent(),t.push("]")}function lc(e,t,n=!1,i=!0){const{push:r,newline:o}=t;for(let s=0;s<e.length;s++){const a=e[s];M(a)?r(a):D(a)?ac(a,t):cc(a,t),s<e.length-1&&(n?(i&&r(","),o()):i&&r(", "))}}function cc(e,t){if(M(e))t.push(e);else if(A(e))t.push(t.helper(e));else switch(e.type){case 1:case 9:case 11:case 12:cc(e.codegenNode,t);break;case 2:!function(e,t){t.push(JSON.stringify(e.content),e)}(e,t);break;case 4:uc(e,t);break;case 5:!function(e,t){const{push:n,helper:i,pure:r}=t;r&&n("/*#__PURE__*/");n(`${i(ga)}(`),cc(e.content,t),n(")")}(e,t);break;case 8:hc(e,t);break;case 3:!function(e,t){const{push:n,helper:i,pure:r}=t;r&&n("/*#__PURE__*/");n(`${i(ra)}(${JSON.stringify(e.content)})`,e)}(e,t);break;case 13:!function(e,t){const{push:n,helper:i,pure:r}=t,{tag:o,props:s,children:a,patchFlag:l,dynamicProps:c,directives:u,isBlock:h,disableTracking:d,isComponent:f}=e;u&&n(i(ha)+"(");h&&n(`(${i(Qs)}(${d?"true":""}), `);r&&n("/*#__PURE__*/");const p=h?ul(t.inSSR,f):cl(t.inSSR,f);n(i(p)+"(",e),lc(function(e){let t=e.length;for(;t--&&null==e[t];);return e.slice(0,t+1).map((e=>e||"null"))}([o,s,a,l,c]),t),n(")"),h&&n(")");u&&(n(", "),cc(u,t),n(")"))}(e,t);break;case 14:!function(e,t){const{push:n,helper:i,pure:r}=t,o=M(e.callee)?e.callee:i(e.callee);r&&n("/*#__PURE__*/");n(o+"(",e),lc(e.arguments,t),n(")")}(e,t);break;case 15:!function(e,t){const{push:n,indent:i,deindent:r,newline:o}=t,{properties:s}=e;if(!s.length)return void n("{}",e);const a=s.length>1||!1;n(a?"{":"{ "),a&&i();for(let l=0;l<s.length;l++){const{key:e,value:i}=s[l];dc(e,t),n(": "),cc(i,t),l<s.length-1&&(n(","),o())}a&&r(),n(a?"}":" }")}(e,t);break;case 17:!function(e,t){ac(e.elements,t)}(e,t);break;case 18:!function(e,t){const{push:n,indent:i,deindent:r}=t,{params:o,returns:s,body:a,newline:l,isSlot:c}=e;c&&n(`_${Ia[La]}(`);n("(",e),D(o)?lc(o,t):o&&cc(o,t);n(") => "),(l||a)&&(n("{"),i());s?(l&&n("return "),D(s)?ac(s,t):cc(s,t)):a&&cc(a,t);(l||a)&&(r(),n("}"));c&&(e.isNonScopedSlot&&n(", undefined, true"),n(")"))}(e,t);break;case 19:!function(e,t){const{test:n,consequent:i,alternate:r,newline:o}=e,{push:s,indent:a,deindent:l,newline:c}=t;if(4===n.type){const e=!Ya(n.content);e&&s("("),uc(n,t),e&&s(")")}else s("("),cc(n,t),s(")");o&&a(),t.indentLevel++,o||s(" "),s("? "),cc(i,t),t.indentLevel--,o&&c(),o||s(" "),s(": ");const u=19===r.type;u||t.indentLevel++;cc(r,t),u||t.indentLevel--;o&&l(!0)}(e,t);break;case 20:!function(e,t){const{push:n,helper:i,indent:r,deindent:o,newline:s}=t;n(`_cache[${e.index}] || (`),e.isVNode&&(r(),n(`${i(Sa)}(-1),`),s());n(`_cache[${e.index}] = `),cc(e.value,t),e.isVNode&&(n(","),s(),n(`${i(Sa)}(1),`),s(),n(`_cache[${e.index}]`),o());n(")")}(e,t);break;case 21:lc(e.body,t,!0,!1)}}function uc(e,t){const{content:n,isStatic:i}=e;t.push(i?JSON.stringify(n):n,e)}function hc(e,t){for(let n=0;n<e.children.length;n++){const i=e.children[n];M(i)?t.push(i):cc(i,t)}}function dc(e,t){const{push:n}=t;if(8===e.type)n("["),hc(e,t),n("]");else if(e.isStatic){n(Ya(e.content)?e.content:JSON.stringify(e.content),e)}else n(`[${e.content}]`,e)}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments,typeof,void".split(",").join("\\b|\\b")+"\\b");const fc=rc(/^(if|else|else-if)$/,((e,t,n)=>function(e,t,n,i){if(!("else"===t.name||t.exp&&t.exp.content.trim())){const i=t.exp?t.exp.loc:e.loc;n.onError(Ks(28,t.loc)),t.exp=ja("true",!1,i)}if("if"===t.name){const r=pc(e,t),o={type:9,loc:e.loc,branches:[r]};if(n.replaceNode(o),i)return i(o,r,!0)}else{const r=n.parent.children;let o=r.indexOf(e);for(;o-- >=-1;){const s=r[o];if(!s||2!==s.type||s.content.trim().length){if(s&&9===s.type){"else-if"===t.name&&void 0===s.branches[s.branches.length-1].condition&&n.onError(Ks(30,e.loc)),n.removeNode();const r=pc(e,t);s.branches.push(r);const o=i&&i(s,r,!1);ic(r,n),o&&o(),n.currentNode=null}else n.onError(Ks(30,e.loc));break}n.removeNode(s)}}}(e,t,n,((e,t,i)=>{const r=n.parent.children;let o=r.indexOf(e),s=0;for(;o-- >=0;){const e=r[o];e&&9===e.type&&(s+=e.branches.length)}return()=>{if(i)e.codegenNode=gc(t,s,n);else{const i=function(e){for(;;)if(19===e.type){if(19!==e.alternate.type)return e;e=e.alternate}else 20===e.type&&(e=e.value)}(e.codegenNode);i.alternate=gc(t,s+e.branches.length-1,n)}}}))));function pc(e,t){return{type:10,loc:e.loc,condition:"else"===t.name?void 0:t.exp,children:3!==e.tagType||nl(e,"for")?[e]:e.children,userKey:il(e,"key")}}function gc(e,t,n){return e.condition?Ha(e.condition,mc(e,t,n),Va(n.helper(ra),['""',"true"])):mc(e,t,n)}function mc(e,t,n){const{helper:i}=n,r=Ba("key",ja(`${t}`,!1,Oa,2)),{children:o}=e,s=o[0];if(1!==o.length||1!==s.type){if(1===o.length&&11===s.type){const e=s.codegenNode;return fl(e,r,n),e}{let t=64;return Fa(n,i(Ys),Pa([r]),o,t+"",void 0,void 0,!0,!1,!1,e.loc)}}{const e=s.codegenNode,t=14===(a=e).type&&a.callee===Ma?a.arguments[1].returns:a;return 13===t.type&&gl(t,n),fl(t,r,n),e}var a}const vc=rc("for",((e,t,n)=>{const{helper:i,removeHelper:r}=n;return function(e,t,n,i){if(!t.exp)return void n.onError(Ks(31,t.loc));const r=wc(t.exp);if(!r)return void n.onError(Ks(32,t.loc));const{addIdentifiers:o,removeIdentifiers:s,scopes:a}=n,{source:l,value:c,key:u,index:h}=r,d={type:11,loc:t.loc,source:l,valueAlias:c,keyAlias:u,objectIndexAlias:h,parseResult:r,children:al(e)?e.children:[e]};n.replaceNode(d),a.vFor++;const f=i&&i(d);return()=>{a.vFor--,f&&f()}}(e,t,n,(t=>{const o=Va(i(da),[t.source]),s=nl(e,"memo"),a=il(e,"key"),l=a&&(6===a.type?ja(a.value.content,!0):a.exp),c=a?Ba("key",l):null,u=4===t.source.type&&t.source.constType>0,h=u?64:a?128:256;return t.codegenNode=Fa(n,i(Ys),void 0,o,h+"",void 0,void 0,!0,!u,!1,e.loc),()=>{let a;const h=al(e),{children:d}=t,f=1!==d.length||1!==d[0].type,p=ll(e)?e:h&&1===e.children.length&&ll(e.children[0])?e.children[0]:null;if(p?(a=p.codegenNode,h&&c&&fl(a,c,n)):f?a=Fa(n,i(Ys),c?Pa([c]):void 0,e.children,"64",void 0,void 0,!0,void 0,!1):(a=d[0].codegenNode,h&&c&&fl(a,c,n),a.isBlock!==!u&&(a.isBlock?(r(Qs),r(ul(n.inSSR,a.isComponent))):r(cl(n.inSSR,a.isComponent))),a.isBlock=!u,a.isBlock?(i(Qs),i(ul(n.inSSR,a.isComponent))):i(cl(n.inSSR,a.isComponent))),s){const e=Wa(xc(t.parseResult,[ja("_cached")]));e.body={type:21,body:[za(["const _memo = (",s.exp,")"]),za(["if (_cached",...l?[" && _cached.key === ",l]:[],` && ${n.helperString(Aa)}(_cached, _memo)) return _cached`]),za(["const _item = ",a]),ja("_item.memo = _memo"),ja("return _item")],loc:Oa},o.arguments.push(e,ja("_cache"),ja(String(n.cached++)))}else o.arguments.push(Wa(xc(t.parseResult),a,!0))}}))}));const yc=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,bc=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,_c=/^\(|\)$/g;function wc(e,t){const n=e.loc,i=e.content,r=i.match(yc);if(!r)return;const[,o,s]=r,a={source:Cc(n,s.trim(),i.indexOf(s,o.length)),value:void 0,key:void 0,index:void 0};let l=o.trim().replace(_c,"").trim();const c=o.indexOf(l),u=l.match(bc);if(u){l=l.replace(bc,"").trim();const e=u[1].trim();let t;if(e&&(t=i.indexOf(e,c+l.length),a.key=Cc(n,e,t)),u[2]){const r=u[2].trim();r&&(a.index=Cc(n,r,i.indexOf(r,a.key?t+e.length:c+l.length)))}}return l&&(a.value=Cc(n,l,c)),a}function Cc(e,t,n){return ja(t,!1,Qa(e,n,t.length))}function xc({value:e,key:t,index:n},i=[]){return function(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map(((e,t)=>e||ja("_".repeat(t+1),!1)))}([e,t,n,...i])}const kc=ja("undefined",!1),Sc=(e,t)=>{if(1===e.type&&(1===e.tagType||3===e.tagType)){const n=nl(e,"slot");if(n)return n.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},Dc=(e,t,n)=>Wa(e,t,!1,!0,t.length?t[0].loc:n);function Ec(e,t,n=Dc){t.helper(La);const{children:i,loc:r}=e,o=[],s=[];let a=t.scopes.vSlot>0||t.scopes.vFor>0;const l=nl(e,"slot",!0);if(l){const{arg:e,exp:t}=l;e&&!Ua(e)&&(a=!0),o.push(Ba(e||ja("default",!0),n(t,i,r)))}let c=!1,u=!1;const h=[],d=new Set;for(let g=0;g<i.length;g++){const e=i[g];let r;if(!al(e)||!(r=nl(e,"slot",!0))){3!==e.type&&h.push(e);continue}if(l){t.onError(Ks(37,r.loc));break}c=!0;const{children:f,loc:p}=e,{arg:m=ja("default",!0),exp:v,loc:y}=r;let b;Ua(m)?b=m?m.content:"default":a=!0;const _=n(v,f,p);let w,C,x;if(w=nl(e,"if"))a=!0,s.push(Ha(w.exp,Lc(m,_),kc));else if(C=nl(e,/^else(-if)?$/,!0)){let e,n=g;for(;n--&&(e=i[n],3===e.type););if(e&&al(e)&&nl(e,"if")){i.splice(g,1),g--;let e=s[s.length-1];for(;19===e.alternate.type;)e=e.alternate;e.alternate=C.exp?Ha(C.exp,Lc(m,_),kc):Lc(m,_)}else t.onError(Ks(30,C.loc))}else if(x=nl(e,"for")){a=!0;const e=x.parseResult||wc(x.exp);e?s.push(Va(t.helper(da),[e.source,Wa(xc(e),Lc(m,_),!0)])):t.onError(Ks(32,x.loc))}else{if(b){if(d.has(b)){t.onError(Ks(38,y));continue}d.add(b),"default"===b&&(u=!0)}o.push(Ba(m,_))}}if(!l){const e=(e,i)=>{const o=n(e,i,r);return t.compatConfig&&(o.isNonScopedSlot=!0),Ba("default",o)};c?h.length&&h.some((e=>Nc(e)))&&(u?t.onError(Ks(39,h[0].loc)):o.push(e(void 0,h))):o.push(e(void 0,i))}const f=a?2:Tc(e.children)?3:1;let p=Pa(o.concat(Ba("_",ja(f+"",!1))),r);return s.length&&(p=Va(t.helper(pa),[p,Ra(s)])),{slots:p,hasDynamicSlots:a}}function Lc(e,t){return Pa([Ba("name",e),Ba("fn",t)])}function Tc(e){for(let t=0;t<e.length;t++){const n=e[t];switch(n.type){case 1:if(2===n.tagType||Tc(n.children))return!0;break;case 9:if(Tc(n.branches))return!0;break;case 10:case 11:if(Tc(n.children))return!0}}return!1}function Nc(e){return 2!==e.type&&12!==e.type||(2===e.type?!!e.content.trim():Nc(e.content))}const Mc=new WeakMap,Ac=(e,t)=>function(){if(1!==(e=t.currentNode).type||0!==e.tagType&&1!==e.tagType)return;const{tag:n,props:i}=e,r=1===e.tagType;let o=r?function(e,t,n=!1){let{tag:i}=e;const r=Rc(i),o=il(e,"is");if(o)if(r||vl("COMPILER_IS_ON_ELEMENT",t)){const e=6===o.type?o.value&&ja(o.value.content,!0):o.exp;if(e)return Va(t.helper(la),[e])}else 6===o.type&&o.value.content.startsWith("vue:")&&(i=o.value.content.slice(4));const s=!r&&nl(e,"is");if(s&&s.exp)return Va(t.helper(la),[s.exp]);const a=qa(i)||t.isBuiltInComponent(i);if(a)return n||t.helper(a),a;return t.helper(aa),t.components.add(i),pl(i,"component")}(e,t):`"${n}"`;let s,a,l,c,u,h,d=0,f=I(o)&&o.callee===la||o===Gs||o===Xs||!r&&("svg"===n||"foreignObject"===n||il(e,"key",!0));if(i.length>0){const n=Ic(e,t);s=n.props,d=n.patchFlag,u=n.dynamicPropNames;const i=n.directives;h=i&&i.length?Ra(i.map((e=>function(e,t){const n=[],i=Mc.get(e);i?n.push(t.helperString(i)):(t.helper(ca),t.directives.add(e.name),n.push(pl(e.name,"directive")));const{loc:r}=e;e.exp&&n.push(e.exp);e.arg&&(e.exp||n.push("void 0"),n.push(e.arg));if(Object.keys(e.modifiers).length){e.arg||(e.exp||n.push("void 0"),n.push("void 0"));const t=ja("true",!1,r);n.push(Pa(e.modifiers.map((e=>Ba(e,t))),r))}return Ra(n,e.loc)}(e,t)))):void 0}if(e.children.length>0){o===Zs&&(f=!0,d|=1024);if(r&&o!==Gs&&o!==Zs){const{slots:n,hasDynamicSlots:i}=Ec(e,t);a=n,i&&(d|=1024)}else if(1===e.children.length&&o!==Gs){const n=e.children[0],i=n.type,r=5===i||8===i;r&&0===Gl(n,t)&&(d|=1),a=r||2===i?n:e.children}else a=e.children}0!==d&&(l=String(d),u&&u.length&&(c=function(e){let t="[";for(let n=0,i=e.length;n<i;n++)t+=JSON.stringify(e[n]),n<i-1&&(t+=", ");return t+"]"}(u))),e.codegenNode=Fa(t,o,s,a,l,c,h,!!f,!1,r,e.loc)};function Ic(e,t,n=e.props,i=!1){const{tag:r,loc:o}=e,s=1===e.tagType;let a=[];const l=[],c=[];let u=0,h=!1,d=!1,f=!1,p=!1,g=!1,m=!1;const v=[],y=({key:e,value:n})=>{if(Ua(e)){const i=e.content,r=_(i);if(s||!r||"onclick"===i.toLowerCase()||"onUpdate:modelValue"===i||j(i)||(p=!0),r&&j(i)&&(m=!0),20===n.type||(4===n.type||8===n.type)&&Gl(n,t)>0)return;"ref"===i?h=!0:"class"===i?d=!0:"style"===i?f=!0:"key"===i||v.includes(i)||v.push(i),!s||"class"!==i&&"style"!==i||v.includes(i)||v.push(i)}else g=!0};for(let _=0;_<n.length;_++){const u=n[_];if(6===u.type){const{loc:e,name:n,value:i}=u;let o=ja(i?i.content:"",!0,i?i.loc:e);if("ref"===n&&(h=!0),"is"===n&&(Rc(r)||i&&i.content.startsWith("vue:")||vl("COMPILER_IS_ON_ELEMENT",t)))continue;a.push(Ba(ja(n,!0,Qa(e,0,n.length)),o))}else{const{name:n,arg:h,exp:d,loc:f}=u,p="bind"===n,m="on"===n;if("slot"===n){s||t.onError(Ks(40,f));continue}if("once"===n||"memo"===n)continue;if("is"===n||p&&rl(h,"is")&&(Rc(r)||vl("COMPILER_IS_ON_ELEMENT",t)))continue;if(m&&i)continue;if(!h&&(p||m)){if(g=!0,d)if(a.length&&(l.push(Pa(Oc(a),o)),a=[]),p){if(vl("COMPILER_V_BIND_OBJECT_ORDER",t)){l.unshift(d);continue}l.push(d)}else l.push({type:14,loc:f,callee:t.helper(wa),arguments:[d]});else t.onError(Ks(p?34:35,f));continue}const v=t.directiveTransforms[n];if(v){const{props:n,needRuntime:r}=v(u,e,t);!i&&n.forEach(y),a.push(...n),r&&(c.push(u),A(r)&&Mc.set(u,r))}else c.push(u)}6===u.type&&"ref"===u.name&&t.scopes.vFor>0&&yl("COMPILER_V_FOR_REF",t,u.loc)&&a.push(Ba(ja("refInFor",!0),ja("true",!1)))}let b;if(l.length?(a.length&&l.push(Pa(Oc(a),o)),b=l.length>1?Va(t.helper(ma),l,o):l[0]):a.length&&(b=Pa(Oc(a),o)),g?u|=16:(d&&!s&&(u|=2),f&&!s&&(u|=4),v.length&&(u|=8),p&&(u|=32)),0!==u&&32!==u||!(h||m||c.length>0)||(u|=512),!t.inSSR&&b)switch(b.type){case 15:let e=-1,n=-1,i=!1;for(let t=0;t<b.properties.length;t++){const r=b.properties[t].key;Ua(r)?"class"===r.content?e=t:"style"===r.content&&(n=t):r.isHandlerKey||(i=!0)}const r=b.properties[e],o=b.properties[n];i?b=Va(t.helper(ba),[b]):(r&&!Ua(r.value)&&(r.value=Va(t.helper(va),[r.value])),!o||Ua(o.value)||!f&&17!==o.value.type||(o.value=Va(t.helper(ya),[o.value])));break;case 14:break;default:b=Va(t.helper(ba),[Va(t.helper(_a),[b])])}return{props:b,directives:c,patchFlag:u,dynamicPropNames:v}}function Oc(e){const t=new Map,n=[];for(let i=0;i<e.length;i++){const r=e[i];if(8===r.key.type||!r.key.isStatic){n.push(r);continue}const o=r.key.content,s=t.get(o);s?("style"===o||"class"===o||_(o))&&Fc(s,r):(t.set(o,r),n.push(r))}return n}function Fc(e,t){17===e.value.type?e.value.elements.push(t.value):e.value=Ra([e.value,t.value],e.loc)}function Rc(e){return"component"===e||"Component"===e}const Pc=/-(\w)/g,Bc=(e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))})((e=>e.replace(Pc,((e,t)=>t?t.toUpperCase():"")))),jc=(e,t)=>{if(ll(e)){const{children:n,loc:i}=e,{slotName:r,slotProps:o}=function(e,t){let n,i='"default"';const r=[];for(let o=0;o<e.props.length;o++){const t=e.props[o];6===t.type?t.value&&("name"===t.name?i=JSON.stringify(t.value.content):(t.name=Bc(t.name),r.push(t))):"bind"===t.name&&rl(t.arg,"name")?t.exp&&(i=t.exp):("bind"===t.name&&t.arg&&Ua(t.arg)&&(t.arg.content=Bc(t.arg.content)),r.push(t))}if(r.length>0){const{props:i,directives:o}=Ic(e,t,r);n=i,o.length&&t.onError(Ks(36,o[0].loc))}return{slotName:i,slotProps:n}}(e,t),s=[t.prefixIdentifiers?"_ctx.$slots":"$slots",r,"{}","undefined","true"];let a=2;o&&(s[2]=o,a=3),n.length&&(s[3]=Wa([],n,!1,!1,i),a=4),t.scopeId&&!t.slotted&&(a=5),s.splice(a),e.codegenNode=Va(t.helper(fa),s,i)}};const zc=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,Vc=(e,t,n,i)=>{const{loc:r,modifiers:o,arg:s}=e;let a;if(e.exp||o.length||n.onError(Ks(35,r)),4===s.type)if(s.isStatic){const e=s.content;a=ja(q(W(e)),!0,s.loc)}else a=za([`${n.helperString(ka)}(`,s,")"]);else a=s,a.children.unshift(`${n.helperString(ka)}(`),a.children.push(")");let l=e.exp;l&&!l.content.trim()&&(l=void 0);let c=n.cacheHandlers&&!l&&!n.inVOnce;if(l){const e=Ja(l.content),t=!(e||zc.test(l.content)),n=l.content.includes(";");(t||c&&e)&&(l=za([`${t?"$event":"(...args)"} => ${n?"{":"("}`,l,n?"}":")"]))}let u={props:[Ba(a,l||ja("() => {}",!1,r))]};return i&&(u=i(u)),c&&(u.props[0].value=n.cache(u.props[0].value)),u.props.forEach((e=>e.key.isHandlerKey=!0)),u},Wc=(e,t,n)=>{const{exp:i,modifiers:r,loc:o}=e,s=e.arg;return 4!==s.type?(s.children.unshift("("),s.children.push(') || ""')):s.isStatic||(s.content=`${s.content} || ""`),r.includes("camel")&&(4===s.type?s.isStatic?s.content=W(s.content):s.content=`${n.helperString(Ca)}(${s.content})`:(s.children.unshift(`${n.helperString(Ca)}(`),s.children.push(")"))),n.inSSR||(r.includes("prop")&&Hc(s,"."),r.includes("attr")&&Hc(s,"^")),!i||4===i.type&&!i.content.trim()?(n.onError(Ks(34,o)),{props:[Ba(s,ja("",!0,o))]}):{props:[Ba(s,i)]}},Hc=(e,t)=>{4===e.type?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},Uc=(e,t)=>{if(0===e.type||1===e.type||11===e.type||10===e.type)return()=>{const n=e.children;let i,r=!1;for(let e=0;e<n.length;e++){const t=n[e];if(ol(t)){r=!0;for(let r=e+1;r<n.length;r++){const o=n[r];if(!ol(o)){i=void 0;break}i||(i=n[e]={type:8,loc:t.loc,children:[t]}),i.children.push(" + ",o),n.splice(r,1),r--}}}if(r&&(1!==n.length||0!==e.type&&(1!==e.type||0!==e.tagType||e.props.find((e=>7===e.type&&!t.directiveTransforms[e.name]))||"template"===e.tag)))for(let e=0;e<n.length;e++){const i=n[e];if(ol(i)||8===i.type){const r=[];2===i.type&&" "===i.content||r.push(i),t.ssr||0!==Gl(i,t)||r.push("1"),n[e]={type:12,content:i,loc:i.loc,codegenNode:Va(t.helper(oa),r)}}}}},$c=new WeakSet,qc=(e,t)=>{if(1===e.type&&nl(e,"once",!0)){if($c.has(e)||t.inVOnce)return;return $c.add(e),t.inVOnce=!0,t.helper(Sa),()=>{t.inVOnce=!1;const e=t.currentNode;e.codegenNode&&(e.codegenNode=t.cache(e.codegenNode,!0))}}},Kc=(e,t,n)=>{const{exp:i,arg:r}=e;if(!i)return n.onError(Ks(41,e.loc)),Yc();const o=i.loc.source,s=4===i.type?i.content:o;n.bindingMetadata[o];if(!s.trim()||!Ja(s))return n.onError(Ks(42,i.loc)),Yc();const a=r||ja("modelValue",!0),l=r?Ua(r)?`onUpdate:${r.content}`:za(['"onUpdate:" + ',r]):"onUpdate:modelValue";let c;c=za([`${n.isTS?"($event: any)":"$event"} => ((`,i,") = $event)"]);const u=[Ba(a,e.exp),Ba(l,c)];if(e.modifiers.length&&1===t.tagType){const t=e.modifiers.map((e=>(Ya(e)?e:JSON.stringify(e))+": true")).join(", "),n=r?Ua(r)?`${r.content}Modifiers`:za([r,' + "Modifiers"']):"modelModifiers";u.push(Ba(n,ja(`{ ${t} }`,!1,e.loc,2)))}return Yc(u)};function Yc(e=[]){return{props:e}}const Gc=/[\w).+\-_$\]]/,Xc=(e,t)=>{vl("COMPILER_FILTER",t)&&(5===e.type&&Zc(e.content,t),1===e.type&&e.props.forEach((e=>{7===e.type&&"for"!==e.name&&e.exp&&Zc(e.exp,t)})))};function Zc(e,t){if(4===e.type)Jc(e,t);else for(let n=0;n<e.children.length;n++){const i=e.children[n];"object"==typeof i&&(4===i.type?Jc(i,t):8===i.type?Zc(e,t):5===i.type&&Zc(i.content,t))}}function Jc(e,t){const n=e.content;let i,r,o,s,a=!1,l=!1,c=!1,u=!1,h=0,d=0,f=0,p=0,g=[];for(o=0;o<n.length;o++)if(r=i,i=n.charCodeAt(o),a)39===i&&92!==r&&(a=!1);else if(l)34===i&&92!==r&&(l=!1);else if(c)96===i&&92!==r&&(c=!1);else if(u)47===i&&92!==r&&(u=!1);else if(124!==i||124===n.charCodeAt(o+1)||124===n.charCodeAt(o-1)||h||d||f){switch(i){case 34:l=!0;break;case 39:a=!0;break;case 96:c=!0;break;case 40:f++;break;case 41:f--;break;case 91:d++;break;case 93:d--;break;case 123:h++;break;case 125:h--}if(47===i){let e,t=o-1;for(;t>=0&&(e=n.charAt(t)," "===e);t--);e&&Gc.test(e)||(u=!0)}}else void 0===s?(p=o+1,s=n.slice(0,o).trim()):m();function m(){g.push(n.slice(p,o).trim()),p=o+1}if(void 0===s?s=n.slice(0,o).trim():0!==p&&m(),g.length){for(o=0;o<g.length;o++)s=Qc(s,g[o],t);e.content=s}}function Qc(e,t,n){n.helper(ua);const i=t.indexOf("(");if(i<0)return n.filters.add(t),`${pl(t,"filter")}(${e})`;{const r=t.slice(0,i),o=t.slice(i+1);return n.filters.add(r),`${pl(r,"filter")}(${e}${")"!==o?","+o:o}`}}const eu=new WeakSet,tu=(e,t)=>{if(1===e.type){const n=nl(e,"memo");if(!n||eu.has(e))return;return eu.add(e),()=>{const i=e.codegenNode||t.currentNode.codegenNode;i&&13===i.type&&(1!==e.tagType&&gl(i,t),e.codegenNode=Va(t.helper(Ma),[n.exp,Wa(void 0,i),"_cache",String(t.cached++)]))}}};function nu(e,t={}){const n=t.onError||$s,i="module"===t.mode;!0===t.prefixIdentifiers?n(Ks(46)):i&&n(Ks(47));t.cacheHandlers&&n(Ks(48)),t.scopeId&&!i&&n(Ks(49));const r=M(e)?Cl(e,t):e,[o,s]=[[qc,fc,tu,vc,Xc,jc,Ac,Sc,Uc],{on:Vc,bind:Wc,model:Kc}];return nc(r,C({},t,{prefixIdentifiers:false,nodeTransforms:[...o,...t.nodeTransforms||[]],directiveTransforms:C({},s,t.directiveTransforms||{})})),oc(r,C({},t,{prefixIdentifiers:false}))}const iu=Symbol(""),ru=Symbol(""),ou=Symbol(""),su=Symbol(""),au=Symbol(""),lu=Symbol(""),cu=Symbol(""),uu=Symbol(""),hu=Symbol(""),du=Symbol("");var fu;let pu;fu={[iu]:"vModelRadio",[ru]:"vModelCheckbox",[ou]:"vModelText",[su]:"vModelSelect",[au]:"vModelDynamic",[lu]:"withModifiers",[cu]:"withKeys",[uu]:"vShow",[hu]:"Transition",[du]:"TransitionGroup"},Object.getOwnPropertySymbols(fu).forEach((e=>{Ia[e]=fu[e]}));const gu=e("style,iframe,script,noscript",!0),mu={isVoidTag:h,isNativeTag:e=>c(e)||u(e),isPreTag:e=>"pre"===e,decodeEntities:function(e,t=!1){return pu||(pu=document.createElement("div")),t?(pu.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,pu.children[0].getAttribute("foo")):(pu.innerHTML=e,pu.textContent)},isBuiltInComponent:e=>$a(e,"Transition")?hu:$a(e,"TransitionGroup")?du:void 0,getNamespace(e,t){let n=t?t.ns:0;if(t&&2===n)if("annotation-xml"===t.tag){if("svg"===e)return 1;t.props.some((e=>6===e.type&&"encoding"===e.name&&null!=e.value&&("text/html"===e.value.content||"application/xhtml+xml"===e.value.content)))&&(n=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&"mglyph"!==e&&"malignmark"!==e&&(n=0);else t&&1===n&&("foreignObject"!==t.tag&&"desc"!==t.tag&&"title"!==t.tag||(n=0));if(0===n){if("svg"===e)return 1;if("math"===e)return 2}return n},getTextMode({tag:e,ns:t}){if(0===t){if("textarea"===e||"title"===e)return 1;if(gu(e))return 2}return 0}},vu=(e,t)=>{const n=a(e);return ja(JSON.stringify(n),!1,t,3)};function yu(e,t){return Ks(e,t)}const bu=e("passive,once,capture"),_u=e("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),wu=e("left,right"),Cu=e("onkeyup,onkeydown,onkeypress",!0),xu=(e,t)=>Ua(e)&&"onclick"===e.content.toLowerCase()?ja(t,!0):4!==e.type?za(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,ku=(e,t)=>{1!==e.type||0!==e.tagType||"script"!==e.tag&&"style"!==e.tag||(t.onError(yu(60,e.loc)),t.removeNode())},Su=[e=>{1===e.type&&e.props.forEach(((t,n)=>{6===t.type&&"style"===t.name&&t.value&&(e.props[n]={type:7,name:"bind",arg:ja("style",!0,t.loc),exp:vu(t.value.content,t.loc),modifiers:[],loc:t.loc})}))}],Du={cloak:()=>({props:[]}),html:(e,t,n)=>{const{exp:i,loc:r}=e;return i||n.onError(yu(50,r)),t.children.length&&(n.onError(yu(51,r)),t.children.length=0),{props:[Ba(ja("innerHTML",!0,r),i||ja("",!0))]}},text:(e,t,n)=>{const{exp:i,loc:r}=e;return i||n.onError(yu(52,r)),t.children.length&&(n.onError(yu(53,r)),t.children.length=0),{props:[Ba(ja("textContent",!0),i?Va(n.helperString(ga),[i],r):ja("",!0))]}},model:(e,t,n)=>{const i=Kc(e,t,n);if(!i.props.length||1===t.tagType)return i;e.arg&&n.onError(yu(55,e.arg.loc));const{tag:r}=t,o=n.isCustomElement(r);if("input"===r||"textarea"===r||"select"===r||o){let s=ou,a=!1;if("input"===r||o){const i=il(t,"type");if(i){if(7===i.type)s=au;else if(i.value)switch(i.value.content){case"radio":s=iu;break;case"checkbox":s=ru;break;case"file":a=!0,n.onError(yu(56,e.loc))}}else(function(e){return e.props.some((e=>!(7!==e.type||"bind"!==e.name||e.arg&&4===e.arg.type&&e.arg.isStatic)))})(t)&&(s=au)}else"select"===r&&(s=su);a||(i.needRuntime=n.helper(s))}else n.onError(yu(54,e.loc));return i.props=i.props.filter((e=>!(4===e.key.type&&"modelValue"===e.key.content))),i},on:(e,t,n)=>Vc(e,0,n,(t=>{const{modifiers:i}=e;if(!i.length)return t;let{key:r,value:o}=t.props[0];const{keyModifiers:s,nonKeyModifiers:a,eventOptionModifiers:l}=((e,t,n,i)=>{const r=[],o=[],s=[];for(let a=0;a<t.length;a++){const i=t[a];"native"===i&&yl("COMPILER_V_ON_NATIVE",n)||bu(i)?s.push(i):wu(i)?Ua(e)?Cu(e.content)?r.push(i):o.push(i):(r.push(i),o.push(i)):_u(i)?o.push(i):r.push(i)}return{keyModifiers:r,nonKeyModifiers:o,eventOptionModifiers:s}})(r,i,n,e.loc);if(a.includes("right")&&(r=xu(r,"onContextmenu")),a.includes("middle")&&(r=xu(r,"onMouseup")),a.length&&(o=Va(n.helper(lu),[o,JSON.stringify(a)])),!s.length||Ua(r)&&!Cu(r.content)||(o=Va(n.helper(cu),[o,JSON.stringify(s)])),l.length){const e=l.map($).join("");r=Ua(r)?ja(`${r.content}${e}`,!0):za(["(",r,`) + "${e}"`])}return{props:[Ba(r,o)]}})),show:(e,t,n)=>{const{exp:i,loc:r}=e;return i||n.onError(yu(58,r)),{props:[],needRuntime:n.helper(uu)}}};const Eu=Object.create(null);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function Lu(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function Tu(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(nR){o(nR)}}function a(e){try{l(i.throw(e))}catch(nR){o(nR)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))}function Nu(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)}function Mu(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n}Er((function(e,t){if(!M(e)){if(!e.nodeType)return v;e=e.innerHTML}const n=e,i=Eu[n];if(i)return i;if("#"===e[0]){const t=document.querySelector(e);e=t?t.innerHTML:""}const{code:r}=function(e,t={}){return nu(e,C({},mu,t,{nodeTransforms:[ku,...Su,...t.nodeTransforms||[]],directiveTransforms:C({},Du,t.directiveTransforms||{}),transformHoist:null}))}(e,C({hoistStatic:!0,onError:void 0,onWarn:v},t)),o=new Function("Vue",r)(Us);return o._rc=!0,Eu[n]=o}));const Au=(e,t)=>"function"==typeof t?"[Function]":t,Iu=e=>JSON.stringify(e,Au),Ou=()=>new Error("Stack over flow, cannot pop on an empty stack."),Fu=()=>{const e=new Map;return{getSlice:t=>{const n=e.get(t.id);if(!n)throw i=t.sliceName,new Error(`Context "${i}" not found, do you forget to inject it?`);var i;return n},sliceMap:e}},Ru=(e,t)=>{const n=Symbol("Context"),i=(t,i=(e=>Array.isArray(e)?[...e]:"object"==typeof e?Object.assign({},e):e)(e))=>{let r=i;const o={id:n,set:e=>{r=e},get:()=>r,update:e=>{r=e(r)}};return t.set(n,o),o};return i.sliceName=t,i.id=n,i._typeInfo=()=>{throw new Error("Should not call a context out of the plugin.")},i};var Pu,Bu,ju,zu;class Vu{constructor(e,t){Pu.set(this,void 0),Bu.set(this,void 0),this.use=e=>Nu(this,Pu,"f").getSlice(e),this.get=e=>this.use(e).get(),this.set=(e,t)=>this.use(e).set(t),this.update=(e,t)=>this.use(e).update(t),this.timing=e=>Nu(this,Bu,"f").get(e),this.wait=e=>this.timing(e)(),this.done=e=>this.timing(e).done(),this.waitTimers=e=>Tu(this,void 0,void 0,(function*(){yield Promise.all(this.get(e).map((e=>this.wait(e))))})),Mu(this,Pu,e,"f"),Mu(this,Bu,t,"f")}}Pu=new WeakMap,Bu=new WeakMap;class Wu{constructor(e,t){ju.set(this,void 0),zu.set(this,void 0),this.inject=(e,t)=>(e(Nu(this,ju,"f").sliceMap,t),this),this.record=e=>(e(Nu(this,zu,"f").store),this),Mu(this,ju,e,"f"),Mu(this,zu,t,"f")}}ju=new WeakMap,zu=new WeakMap;const Hu=()=>{const e=new Map;return{store:e,get:t=>{const n=e.get(t.id);if(!n)throw new Error("Timer not found, do you forget to record it?");return n}}},Uu=(e,t=3e3)=>{const n=Symbol("Timer"),i=i=>{const r=Symbol(e),o=()=>new Promise(((n,i)=>{setTimeout((()=>{i(`Timing ${e} timeout.`)}),t),addEventListener(e,(e=>{e instanceof CustomEvent&&e.detail.id===r&&n(void 0)}))}));return o.done=()=>{const t=new CustomEvent(e,{detail:{id:r}});dispatchEvent(t)},i.set(n,o),o};return i.id=n,i};function $u(e){this.content=e}$u.prototype={constructor:$u,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var i=n&&n!=e?this.remove(n):this,r=i.find(e),o=i.content.slice();return-1==r?o.push(n||e,t):(o[r+1]=t,n&&(o[r]=n)),new $u(o)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new $u(n)},addToStart:function(e,t){return new $u([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new $u(n)},addBefore:function(e,t,n){var i=this.remove(t),r=i.content.slice(),o=i.find(e);return r.splice(-1==o?r.length:o,0,t,n),new $u(r)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=$u.from(e)).size?new $u(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=$u.from(e)).size?new $u(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=$u.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},get size(){return this.content.length>>1}},$u.from=function(e){if(e instanceof $u)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new $u(t)};var qu=$u;function Ku(e,t,n){for(var i=0;;i++){if(i==e.childCount||i==t.childCount)return e.childCount==t.childCount?null:n;var r=e.child(i),o=t.child(i);if(r!=o){if(!r.sameMarkup(o))return n;if(r.isText&&r.text!=o.text){for(var s=0;r.text[s]==o.text[s];s++)n++;return n}if(r.content.size||o.content.size){var a=Ku(r.content,o.content,n+1);if(null!=a)return a}n+=r.nodeSize}else n+=r.nodeSize}}function Yu(e,t,n,i){for(var r=e.childCount,o=t.childCount;;){if(0==r||0==o)return r==o?null:{a:n,b:i};var s=e.child(--r),a=t.child(--o),l=s.nodeSize;if(s!=a){if(!s.sameMarkup(a))return{a:n,b:i};if(s.isText&&s.text!=a.text){for(var c=0,u=Math.min(s.text.length,a.text.length);c<u&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,i--;return{a:n,b:i}}if(s.content.size||a.content.size){var h=Yu(s.content,a.content,n-1,i-1);if(h)return h}n-=l,i-=l}else n-=l,i-=l}}var Gu=function(e,t){if(this.content=e,this.size=t||0,null==t)for(var n=0;n<e.length;n++)this.size+=e[n].nodeSize},Xu={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};Gu.prototype.nodesBetween=function(e,t,n,i,r){void 0===i&&(i=0);for(var o=0,s=0;s<t;o++){var a=this.content[o],l=s+a.nodeSize;if(l>e&&!1!==n(a,i+s,r,o)&&a.content.size){var c=s+1;a.nodesBetween(Math.max(0,e-c),Math.min(a.content.size,t-c),n,i+c)}s=l}},Gu.prototype.descendants=function(e){this.nodesBetween(0,this.size,e)},Gu.prototype.textBetween=function(e,t,n,i){var r="",o=!0;return this.nodesBetween(e,t,(function(s,a){s.isText?(r+=s.text.slice(Math.max(e,a)-a,t-a),o=!n):s.isLeaf&&i?(r+="function"==typeof i?i(s):i,o=!n):!o&&s.isBlock&&(r+=n,o=!0)}),0),r},Gu.prototype.append=function(e){if(!e.size)return this;if(!this.size)return e;var t=this.lastChild,n=e.firstChild,i=this.content.slice(),r=0;for(t.isText&&t.sameMarkup(n)&&(i[i.length-1]=t.withText(t.text+n.text),r=1);r<e.content.length;r++)i.push(e.content[r]);return new Gu(i,this.size+e.size)},Gu.prototype.cut=function(e,t){if(null==t&&(t=this.size),0==e&&t==this.size)return this;var n=[],i=0;if(t>e)for(var r=0,o=0;o<t;r++){var s=this.content[r],a=o+s.nodeSize;a>e&&((o<e||a>t)&&(s=s.isText?s.cut(Math.max(0,e-o),Math.min(s.text.length,t-o)):s.cut(Math.max(0,e-o-1),Math.min(s.content.size,t-o-1))),n.push(s),i+=s.nodeSize),o=a}return new Gu(n,i)},Gu.prototype.cutByIndex=function(e,t){return e==t?Gu.empty:0==e&&t==this.content.length?this:new Gu(this.content.slice(e,t))},Gu.prototype.replaceChild=function(e,t){var n=this.content[e];if(n==t)return this;var i=this.content.slice(),r=this.size+t.nodeSize-n.nodeSize;return i[e]=t,new Gu(i,r)},Gu.prototype.addToStart=function(e){return new Gu([e].concat(this.content),this.size+e.nodeSize)},Gu.prototype.addToEnd=function(e){return new Gu(this.content.concat(e),this.size+e.nodeSize)},Gu.prototype.eq=function(e){if(this.content.length!=e.content.length)return!1;for(var t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0},Xu.firstChild.get=function(){return this.content.length?this.content[0]:null},Xu.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},Xu.childCount.get=function(){return this.content.length},Gu.prototype.child=function(e){var t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t},Gu.prototype.maybeChild=function(e){return this.content[e]},Gu.prototype.forEach=function(e){for(var t=0,n=0;t<this.content.length;t++){var i=this.content[t];e(i,n,t),n+=i.nodeSize}},Gu.prototype.findDiffStart=function(e,t){return void 0===t&&(t=0),Ku(this,e,t)},Gu.prototype.findDiffEnd=function(e,t,n){return void 0===t&&(t=this.size),void 0===n&&(n=e.size),Yu(this,e,t,n)},Gu.prototype.findIndex=function(e,t){if(void 0===t&&(t=-1),0==e)return Ju(0,e);if(e==this.size)return Ju(this.content.length,e);if(e>this.size||e<0)throw new RangeError("Position "+e+" outside of fragment ("+this+")");for(var n=0,i=0;;n++){var r=i+this.child(n).nodeSize;if(r>=e)return r==e||t>0?Ju(n+1,r):Ju(n,i);i=r}},Gu.prototype.toString=function(){return"<"+this.toStringInner()+">"},Gu.prototype.toStringInner=function(){return this.content.join(", ")},Gu.prototype.toJSON=function(){return this.content.length?this.content.map((function(e){return e.toJSON()})):null},Gu.fromJSON=function(e,t){if(!t)return Gu.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new Gu(t.map(e.nodeFromJSON))},Gu.fromArray=function(e){if(!e.length)return Gu.empty;for(var t,n=0,i=0;i<e.length;i++){var r=e[i];n+=r.nodeSize,i&&r.isText&&e[i-1].sameMarkup(r)?(t||(t=e.slice(0,i)),t[t.length-1]=r.withText(t[t.length-1].text+r.text)):t&&t.push(r)}return new Gu(t||e,n)},Gu.from=function(e){if(!e)return Gu.empty;if(e instanceof Gu)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Gu([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(Gu.prototype,Xu);var Zu={index:0,offset:0};function Ju(e,t){return Zu.index=e,Zu.offset=t,Zu}function Qu(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;var n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(var i=0;i<e.length;i++)if(!Qu(e[i],t[i]))return!1}else{for(var r in e)if(!(r in t)||!Qu(e[r],t[r]))return!1;for(var o in t)if(!(o in e))return!1}return!0}Gu.empty=new Gu([],0);var eh=function(e,t){this.type=e,this.attrs=t};function th(e){var t=Error.call(this,e);return t.__proto__=th.prototype,t}eh.prototype.addToSet=function(e){for(var t,n=!1,i=0;i<e.length;i++){var r=e[i];if(this.eq(r))return e;if(this.type.excludes(r.type))t||(t=e.slice(0,i));else{if(r.type.excludes(this.type))return e;!n&&r.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),n=!0),t&&t.push(r)}}return t||(t=e.slice()),n||t.push(this),t},eh.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e},eh.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1},eh.prototype.eq=function(e){return this==e||this.type==e.type&&Qu(this.attrs,e.attrs)},eh.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return e},eh.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");var n=e.marks[t.type];if(!n)throw new RangeError("There is no mark type "+t.type+" in this schema");return n.create(t.attrs)},eh.sameSet=function(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0},eh.setFrom=function(e){if(!e||0==e.length)return eh.none;if(e instanceof eh)return[e];var t=e.slice();return t.sort((function(e,t){return e.type.rank-t.type.rank})),t},eh.none=[],th.prototype=Object.create(Error.prototype),th.prototype.constructor=th,th.prototype.name="ReplaceError";var nh=function(e,t,n){this.content=e,this.openStart=t,this.openEnd=n},ih={size:{configurable:!0}};function rh(e,t,n){var i=e.findIndex(t),r=i.index,o=i.offset,s=e.maybeChild(r),a=e.findIndex(n),l=a.index,c=a.offset;if(o==t||s.isText){if(c!=n&&!e.child(l).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=l)throw new RangeError("Removing non-flat range");return e.replaceChild(r,s.copy(rh(s.content,t-o-1,n-o-1)))}function oh(e,t,n,i){var r=e.findIndex(t),o=r.index,s=r.offset,a=e.maybeChild(o);if(s==t||a.isText)return i&&!i.canReplace(o,o,n)?null:e.cut(0,t).append(n).append(e.cut(t));var l=oh(a.content,t-s-1,n);return l&&e.replaceChild(o,a.copy(l))}function sh(e,t,n){if(n.openStart>e.depth)throw new th("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new th("Inconsistent open depths");return ah(e,t,n,0)}function ah(e,t,n,i){var r=e.index(i),o=e.node(i);if(r==t.index(i)&&i<e.depth-n.openStart){var s=ah(e,t,n,i+1);return o.copy(o.content.replaceChild(r,s))}if(n.content.size){if(n.openStart||n.openEnd||e.depth!=i||t.depth!=i){var a=function(e,t){for(var n=t.depth-e.openStart,i=t.node(n).copy(e.content),r=n-1;r>=0;r--)i=t.node(r).copy(Gu.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}(n,e);return dh(o,fh(e,a.start,a.end,t,i))}var l=e.parent,c=l.content;return dh(l,c.cut(0,e.parentOffset).append(n.content).append(c.cut(t.parentOffset)))}return dh(o,ph(e,t,i))}function lh(e,t){if(!t.type.compatibleContent(e.type))throw new th("Cannot join "+t.type.name+" onto "+e.type.name)}function ch(e,t,n){var i=e.node(n);return lh(i,t.node(n)),i}function uh(e,t){var n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function hh(e,t,n,i){var r=(t||e).node(n),o=0,s=t?t.index(n):r.childCount;e&&(o=e.index(n),e.depth>n?o++:e.textOffset&&(uh(e.nodeAfter,i),o++));for(var a=o;a<s;a++)uh(r.child(a),i);t&&t.depth==n&&t.textOffset&&uh(t.nodeBefore,i)}function dh(e,t){if(!e.type.validContent(t))throw new th("Invalid content for node "+e.type.name);return e.copy(t)}function fh(e,t,n,i,r){var o=e.depth>r&&ch(e,t,r+1),s=i.depth>r&&ch(n,i,r+1),a=[];return hh(null,e,r,a),o&&s&&t.index(r)==n.index(r)?(lh(o,s),uh(dh(o,fh(e,t,n,i,r+1)),a)):(o&&uh(dh(o,ph(e,t,r+1)),a),hh(t,n,r,a),s&&uh(dh(s,ph(n,i,r+1)),a)),hh(i,null,r,a),new Gu(a)}function ph(e,t,n){var i=[];(hh(null,e,n,i),e.depth>n)&&uh(dh(ch(e,t,n+1),ph(e,t,n+1)),i);return hh(t,null,n,i),new Gu(i)}ih.size.get=function(){return this.content.size-this.openStart-this.openEnd},nh.prototype.insertAt=function(e,t){var n=oh(this.content,e+this.openStart,t,null);return n&&new nh(n,this.openStart,this.openEnd)},nh.prototype.removeBetween=function(e,t){return new nh(rh(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)},nh.prototype.eq=function(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd},nh.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},nh.prototype.toJSON=function(){if(!this.content.size)return null;var e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e},nh.fromJSON=function(e,t){if(!t)return nh.empty;var n=t.openStart||0,i=t.openEnd||0;if("number"!=typeof n||"number"!=typeof i)throw new RangeError("Invalid input for Slice.fromJSON");return new nh(Gu.fromJSON(e,t.content),n,i)},nh.maxOpen=function(e,t){void 0===t&&(t=!0);for(var n=0,i=0,r=e.firstChild;r&&!r.isLeaf&&(t||!r.type.spec.isolating);r=r.firstChild)n++;for(var o=e.lastChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.lastChild)i++;return new nh(e,n,i)},Object.defineProperties(nh.prototype,ih),nh.empty=new nh(Gu.empty,0,0);var gh=function(e,t,n){this.pos=e,this.path=t,this.depth=t.length/3-1,this.parentOffset=n},mh={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};gh.prototype.resolveDepth=function(e){return null==e?this.depth:e<0?this.depth+e:e},mh.parent.get=function(){return this.node(this.depth)},mh.doc.get=function(){return this.node(0)},gh.prototype.node=function(e){return this.path[3*this.resolveDepth(e)]},gh.prototype.index=function(e){return this.path[3*this.resolveDepth(e)+1]},gh.prototype.indexAfter=function(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)},gh.prototype.start=function(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1},gh.prototype.end=function(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size},gh.prototype.before=function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]},gh.prototype.after=function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize},mh.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},mh.nodeAfter.get=function(){var e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;var n=this.pos-this.path[this.path.length-1],i=e.child(t);return n?e.child(t).cut(n):i},mh.nodeBefore.get=function(){var e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)},gh.prototype.posAtIndex=function(e,t){t=this.resolveDepth(t);for(var n=this.path[3*t],i=0==t?0:this.path[3*t-1]+1,r=0;r<e;r++)i+=n.child(r).nodeSize;return i},gh.prototype.marks=function(){var e=this.parent,t=this.index();if(0==e.content.size)return eh.none;if(this.textOffset)return e.child(t).marks;var n=e.maybeChild(t-1),i=e.maybeChild(t);if(!n){var r=n;n=i,i=r}for(var o=n.marks,s=0;s<o.length;s++)!1!==o[s].type.spec.inclusive||i&&o[s].isInSet(i.marks)||(o=o[s--].removeFromSet(o));return o},gh.prototype.marksAcross=function(e){var t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;for(var n=t.marks,i=e.parent.maybeChild(e.index()),r=0;r<n.length;r++)!1!==n[r].type.spec.inclusive||i&&n[r].isInSet(i.marks)||(n=n[r--].removeFromSet(n));return n},gh.prototype.sharedDepth=function(e){for(var t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0},gh.prototype.blockRange=function(e,t){if(void 0===e&&(e=this),e.pos<this.pos)return e.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new _h(this,e,n)},gh.prototype.sameParent=function(e){return this.pos-this.parentOffset==e.pos-e.parentOffset},gh.prototype.max=function(e){return e.pos>this.pos?e:this},gh.prototype.min=function(e){return e.pos<this.pos?e:this},gh.prototype.toString=function(){for(var e="",t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset},gh.resolve=function(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");for(var n=[],i=0,r=t,o=e;;){var s=o.content.findIndex(r),a=s.index,l=s.offset,c=r-l;if(n.push(o,a,i+l),!c)break;if((o=o.child(a)).isText)break;r=c-1,i+=l+1}return new gh(t,n,r)},gh.resolveCached=function(e,t){for(var n=0;n<vh.length;n++){var i=vh[n];if(i.pos==t&&i.doc==e)return i}var r=vh[yh]=gh.resolve(e,t);return yh=(yh+1)%bh,r},Object.defineProperties(gh.prototype,mh);var vh=[],yh=0,bh=12,_h=function(e,t,n){this.$from=e,this.$to=t,this.depth=n},wh={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};wh.start.get=function(){return this.$from.before(this.depth+1)},wh.end.get=function(){return this.$to.after(this.depth+1)},wh.parent.get=function(){return this.$from.node(this.depth)},wh.startIndex.get=function(){return this.$from.index(this.depth)},wh.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(_h.prototype,wh);var Ch=Object.create(null),xh=function(e,t,n,i){this.type=e,this.attrs=t,this.content=n||Gu.empty,this.marks=i||eh.none},kh={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};kh.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},kh.childCount.get=function(){return this.content.childCount},xh.prototype.child=function(e){return this.content.child(e)},xh.prototype.maybeChild=function(e){return this.content.maybeChild(e)},xh.prototype.forEach=function(e){this.content.forEach(e)},xh.prototype.nodesBetween=function(e,t,n,i){void 0===i&&(i=0),this.content.nodesBetween(e,t,n,i,this)},xh.prototype.descendants=function(e){this.nodesBetween(0,this.content.size,e)},kh.textContent.get=function(){return this.textBetween(0,this.content.size,"")},xh.prototype.textBetween=function(e,t,n,i){return this.content.textBetween(e,t,n,i)},kh.firstChild.get=function(){return this.content.firstChild},kh.lastChild.get=function(){return this.content.lastChild},xh.prototype.eq=function(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)},xh.prototype.sameMarkup=function(e){return this.hasMarkup(e.type,e.attrs,e.marks)},xh.prototype.hasMarkup=function(e,t,n){return this.type==e&&Qu(this.attrs,t||e.defaultAttrs||Ch)&&eh.sameSet(this.marks,n||eh.none)},xh.prototype.copy=function(e){return void 0===e&&(e=null),e==this.content?this:new this.constructor(this.type,this.attrs,e,this.marks)},xh.prototype.mark=function(e){return e==this.marks?this:new this.constructor(this.type,this.attrs,this.content,e)},xh.prototype.cut=function(e,t){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))},xh.prototype.slice=function(e,t,n){if(void 0===t&&(t=this.content.size),void 0===n&&(n=!1),e==t)return nh.empty;var i=this.resolve(e),r=this.resolve(t),o=n?0:i.sharedDepth(t),s=i.start(o),a=i.node(o).content.cut(i.pos-s,r.pos-s);return new nh(a,i.depth-o,r.depth-o)},xh.prototype.replace=function(e,t,n){return sh(this.resolve(e),this.resolve(t),n)},xh.prototype.nodeAt=function(e){for(var t=this;;){var n=t.content.findIndex(e),i=n.index,r=n.offset;if(!(t=t.maybeChild(i)))return null;if(r==e||t.isText)return t;e-=r+1}},xh.prototype.childAfter=function(e){var t=this.content.findIndex(e),n=t.index,i=t.offset;return{node:this.content.maybeChild(n),index:n,offset:i}},xh.prototype.childBefore=function(e){if(0==e)return{node:null,index:0,offset:0};var t=this.content.findIndex(e),n=t.index,i=t.offset;if(i<e)return{node:this.content.child(n),index:n,offset:i};var r=this.content.child(n-1);return{node:r,index:n-1,offset:i-r.nodeSize}},xh.prototype.resolve=function(e){return gh.resolveCached(this,e)},xh.prototype.resolveNoCache=function(e){return gh.resolve(this,e)},xh.prototype.rangeHasMark=function(e,t,n){var i=!1;return t>e&&this.nodesBetween(e,t,(function(e){return n.isInSet(e.marks)&&(i=!0),!i})),i},kh.isBlock.get=function(){return this.type.isBlock},kh.isTextblock.get=function(){return this.type.isTextblock},kh.inlineContent.get=function(){return this.type.inlineContent},kh.isInline.get=function(){return this.type.isInline},kh.isText.get=function(){return this.type.isText},kh.isLeaf.get=function(){return this.type.isLeaf},kh.isAtom.get=function(){return this.type.isAtom},xh.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Dh(this.marks,e)},xh.prototype.contentMatchAt=function(e){var t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t},xh.prototype.canReplace=function(e,t,n,i,r){void 0===n&&(n=Gu.empty),void 0===i&&(i=0),void 0===r&&(r=n.childCount);var o=this.contentMatchAt(e).matchFragment(n,i,r),s=o&&o.matchFragment(this.content,t);if(!s||!s.validEnd)return!1;for(var a=i;a<r;a++)if(!this.type.allowsMarks(n.child(a).marks))return!1;return!0},xh.prototype.canReplaceWith=function(e,t,n,i){if(i&&!this.type.allowsMarks(i))return!1;var r=this.contentMatchAt(e).matchType(n),o=r&&r.matchFragment(this.content,t);return!!o&&o.validEnd},xh.prototype.canAppend=function(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)},xh.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var e=eh.none,t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!eh.sameSet(e,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map((function(e){return e.type.name})));this.content.forEach((function(e){return e.check()}))},xh.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map((function(e){return e.toJSON()}))),e},xh.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}var i=Gu.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,i,n)},Object.defineProperties(xh.prototype,kh);var Sh=function(e){function t(t,n,i,r){if(e.call(this,t,n,null,r),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return t.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Dh(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},t.prototype.textBetween=function(e,t){return this.text.slice(e,t)},n.nodeSize.get=function(){return this.text.length},t.prototype.mark=function(e){return e==this.marks?this:new t(this.type,this.attrs,this.text,e)},t.prototype.withText=function(e){return e==this.text?this:new t(this.type,this.attrs,e,this.marks)},t.prototype.cut=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.text.length),0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))},t.prototype.eq=function(e){return this.sameMarkup(e)&&this.text==e.text},t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.text=this.text,t},Object.defineProperties(t.prototype,n),t}(xh);function Dh(e,t){for(var n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}var Eh=function(e){this.validEnd=e,this.next=[],this.wrapCache=[]},Lh={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};Eh.parse=function(e,t){var n=new Th(e,t);if(null==n.next)return Eh.empty;var i=Mh(n);n.next&&n.err("Unexpected trailing text");var r=function(e){var t=Object.create(null);return n(Ph(e,0));function n(i){var r=[];i.forEach((function(t){e[t].forEach((function(t){var n=t.term,i=t.to;if(n){var o=r.indexOf(n),s=o>-1&&r[o+1];Ph(e,i).forEach((function(e){s||r.push(n,s=[]),-1==s.indexOf(e)&&s.push(e)}))}}))}));for(var o=t[i.join(",")]=new Eh(i.indexOf(e.length-1)>-1),s=0;s<r.length;s+=2){var a=r[s+1].sort(Rh);o.next.push(r[s],t[a.join(",")]||n(a))}return o}}(function(e){var t=[[]];return r(o(e,0),n()),t;function n(){return t.push([])-1}function i(e,n,i){var r={term:i,to:n};return t[e].push(r),r}function r(e,t){e.forEach((function(e){return e.to=t}))}function o(e,t){if("choice"==e.type)return e.exprs.reduce((function(e,n){return e.concat(o(n,t))}),[]);if("seq"==e.type)for(var s=0;;s++){var a=o(e.exprs[s],t);if(s==e.exprs.length-1)return a;r(a,t=n())}else{if("star"==e.type){var l=n();return i(t,l),r(o(e.expr,l),l),[i(l)]}if("plus"==e.type){var c=n();return r(o(e.expr,t),c),r(o(e.expr,c),c),[i(c)]}if("opt"==e.type)return[i(t)].concat(o(e.expr,t));if("range"==e.type){for(var u=t,h=0;h<e.min;h++){var d=n();r(o(e.expr,u),d),u=d}if(-1==e.max)r(o(e.expr,u),u);else for(var f=e.min;f<e.max;f++){var p=n();i(u,p),r(o(e.expr,u),p),u=p}return[i(u)]}if("name"==e.type)return[i(t,null,e.value)]}}}(i));return function(e,t){for(var n=0,i=[e];n<i.length;n++){for(var r=i[n],o=!r.validEnd,s=[],a=0;a<r.next.length;a+=2){var l=r.next[a],c=r.next[a+1];s.push(l.name),!o||l.isText||l.hasRequiredAttrs()||(o=!1),-1==i.indexOf(c)&&i.push(c)}o&&t.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(r,n),r},Eh.prototype.matchType=function(e){for(var t=0;t<this.next.length;t+=2)if(this.next[t]==e)return this.next[t+1];return null},Eh.prototype.matchFragment=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.childCount);for(var i=this,r=t;i&&r<n;r++)i=i.matchType(e.child(r).type);return i},Lh.inlineContent.get=function(){var e=this.next[0];return!!e&&e.isInline},Lh.defaultType.get=function(){for(var e=0;e<this.next.length;e+=2){var t=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}},Eh.prototype.compatible=function(e){for(var t=0;t<this.next.length;t+=2)for(var n=0;n<e.next.length;n+=2)if(this.next[t]==e.next[n])return!0;return!1},Eh.prototype.fillBefore=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=0);var i=[this];return function r(o,s){var a=o.matchFragment(e,n);if(a&&(!t||a.validEnd))return Gu.from(s.map((function(e){return e.createAndFill()})));for(var l=0;l<o.next.length;l+=2){var c=o.next[l],u=o.next[l+1];if(!c.isText&&!c.hasRequiredAttrs()&&-1==i.indexOf(u)){i.push(u);var h=r(u,s.concat(c));if(h)return h}}}(this,[])},Eh.prototype.findWrapping=function(e){for(var t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];var n=this.computeWrapping(e);return this.wrapCache.push(e,n),n},Eh.prototype.computeWrapping=function(e){for(var t=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var i=n.shift(),r=i.match;if(r.matchType(e)){for(var o=[],s=i;s.type;s=s.via)o.push(s.type);return o.reverse()}for(var a=0;a<r.next.length;a+=2){var l=r.next[a];l.isLeaf||l.hasRequiredAttrs()||l.name in t||i.type&&!r.next[a+1].validEnd||(n.push({match:l.contentMatch,type:l,via:i}),t[l.name]=!0)}}},Lh.edgeCount.get=function(){return this.next.length>>1},Eh.prototype.edge=function(e){var t=e<<1;if(t>=this.next.length)throw new RangeError("There's no "+e+"th edge in this content match");return{type:this.next[t],next:this.next[t+1]}},Eh.prototype.toString=function(){var e=[];return function t(n){e.push(n);for(var i=1;i<n.next.length;i+=2)-1==e.indexOf(n.next[i])&&t(n.next[i])}(this),e.map((function(t,n){for(var i=n+(t.validEnd?"*":" ")+" ",r=0;r<t.next.length;r+=2)i+=(r?", ":"")+t.next[r].name+"->"+e.indexOf(t.next[r+1]);return i})).join("\n")},Object.defineProperties(Eh.prototype,Lh),Eh.empty=new Eh(!0);var Th=function(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()},Nh={next:{configurable:!0}};function Mh(e){var t=[];do{t.push(Ah(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function Ah(e){var t=[];do{t.push(Ih(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function Ih(e){for(var t=function(e){if(e.eat("(")){var t=Mh(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){var n=function(e,t){var n=e.nodeTypes,i=n[t];if(i)return[i];var r=[];for(var o in n){var s=n[o];s.groups.indexOf(t)>-1&&r.push(s)}0==r.length&&e.err("No node type or group '"+t+"' found");return r}(e,e.next).map((function(t){return null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t}}));return e.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}e.err("Unexpected token '"+e.next+"'")}(e);;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=Fh(e,t)}return t}function Oh(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");var t=Number(e.next);return e.pos++,t}function Fh(e,t){var n=Oh(e),i=n;return e.eat(",")&&(i="}"!=e.next?Oh(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:i,expr:t}}function Rh(e,t){return t-e}function Ph(e,t){var n=[];return function t(i){var r=e[i];if(1==r.length&&!r[0].term)return t(r[0].to);n.push(i);for(var o=0;o<r.length;o++){var s=r[o],a=s.term,l=s.to;a||-1!=n.indexOf(l)||t(l)}}(t),n.sort(Rh)}function Bh(e){var t=Object.create(null);for(var n in e){var i=e[n];if(!i.hasDefault)return null;t[n]=i.default}return t}function jh(e,t){var n=Object.create(null);for(var i in e){var r=t&&t[i];if(void 0===r){var o=e[i];if(!o.hasDefault)throw new RangeError("No value supplied for attribute "+i);r=o.default}n[i]=r}return n}function zh(e){var t=Object.create(null);if(e)for(var n in e)t[n]=new Hh(e[n]);return t}Nh.next.get=function(){return this.tokens[this.pos]},Th.prototype.eat=function(e){return this.next==e&&(this.pos++||!0)},Th.prototype.err=function(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")},Object.defineProperties(Th.prototype,Nh);var Vh=function(e,t,n){this.name=e,this.schema=t,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=zh(n.attrs),this.defaultAttrs=Bh(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e},Wh={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};Wh.isInline.get=function(){return!this.isBlock},Wh.isTextblock.get=function(){return this.isBlock&&this.inlineContent},Wh.isLeaf.get=function(){return this.contentMatch==Eh.empty},Wh.isAtom.get=function(){return this.isLeaf||this.spec.atom},Vh.prototype.hasRequiredAttrs=function(){for(var e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1},Vh.prototype.compatibleContent=function(e){return this==e||this.contentMatch.compatible(e.contentMatch)},Vh.prototype.computeAttrs=function(e){return!e&&this.defaultAttrs?this.defaultAttrs:jh(this.attrs,e)},Vh.prototype.create=function(e,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new xh(this,this.computeAttrs(e),Gu.from(t),eh.setFrom(n))},Vh.prototype.createChecked=function(e,t,n){if(t=Gu.from(t),!this.validContent(t))throw new RangeError("Invalid content for node "+this.name);return new xh(this,this.computeAttrs(e),t,eh.setFrom(n))},Vh.prototype.createAndFill=function(e,t,n){if(e=this.computeAttrs(e),(t=Gu.from(t)).size){var i=this.contentMatch.fillBefore(t);if(!i)return null;t=i.append(t)}var r=this.contentMatch.matchFragment(t).fillBefore(Gu.empty,!0);return r?new xh(this,e,t.append(r),eh.setFrom(n)):null},Vh.prototype.validContent=function(e){var t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(var n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0},Vh.prototype.allowsMarkType=function(e){return null==this.markSet||this.markSet.indexOf(e)>-1},Vh.prototype.allowsMarks=function(e){if(null==this.markSet)return!0;for(var t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0},Vh.prototype.allowedMarks=function(e){if(null==this.markSet)return e;for(var t,n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:eh.empty:e},Vh.compile=function(e,t){var n=Object.create(null);e.forEach((function(e,i){return n[e]=new Vh(e,t,i)}));var i=t.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var r in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(Vh.prototype,Wh);var Hh=function(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default},Uh={isRequired:{configurable:!0}};Uh.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(Hh.prototype,Uh);var $h=function(e,t,n,i){this.name=e,this.schema=n,this.spec=i,this.attrs=zh(i.attrs),this.rank=t,this.excluded=null;var r=Bh(this.attrs);this.instance=r&&new eh(this,r)};$h.prototype.create=function(e){return!e&&this.instance?this.instance:new eh(this,jh(this.attrs,e))},$h.compile=function(e,t){var n=Object.create(null),i=0;return e.forEach((function(e,r){return n[e]=new $h(e,i++,t,r)})),n},$h.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e},$h.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e[t]},$h.prototype.excludes=function(e){return this.excluded.indexOf(e)>-1};var qh=function(e){for(var t in this.spec={},e)this.spec[t]=e[t];this.spec.nodes=qu.from(e.nodes),this.spec.marks=qu.from(e.marks),this.nodes=Vh.compile(this.spec.nodes,this),this.marks=$h.compile(this.spec.marks,this);var n=Object.create(null);for(var i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");var r=this.nodes[i],o=r.spec.content||"",s=r.spec.marks;r.contentMatch=n[o]||(n[o]=Eh.parse(o,this.nodes)),r.inlineContent=r.contentMatch.inlineContent,r.markSet="_"==s?null:s?Kh(this,s.split(" ")):""!=s&&r.inlineContent?null:[]}for(var a in this.marks){var l=this.marks[a],c=l.spec.excludes;l.excluded=null==c?[l]:""==c?[]:Kh(this,c.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};function Kh(e,t){for(var n=[],i=0;i<t.length;i++){var r=t[i],o=e.marks[r],s=o;if(o)n.push(o);else for(var a in e.marks){var l=e.marks[a];("_"==r||l.spec.group&&l.spec.group.split(" ").indexOf(r)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[i]+"'")}return n}qh.prototype.node=function(e,t,n,i){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof Vh))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,i)},qh.prototype.text=function(e,t){var n=this.nodes.text;return new Sh(n,n.defaultAttrs,e,eh.setFrom(t))},qh.prototype.mark=function(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)},qh.prototype.nodeFromJSON=function(e){return xh.fromJSON(this,e)},qh.prototype.markFromJSON=function(e){return eh.fromJSON(this,e)},qh.prototype.nodeType=function(e){var t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t};var Yh=function(e,t){var n=this;this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach((function(e){e.tag?n.tags.push(e):e.style&&n.styles.push(e)})),this.normalizeLists=!this.tags.some((function(t){if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;var n=e.nodes[t.node];return n.contentMatch.matchType(n)}))};Yh.prototype.parse=function(e,t){void 0===t&&(t={});var n=new ed(this,t,!1);return n.addAll(e,null,t.from,t.to),n.finish()},Yh.prototype.parseSlice=function(e,t){void 0===t&&(t={});var n=new ed(this,t,!0);return n.addAll(e,null,t.from,t.to),nh.maxOpen(n.finish())},Yh.prototype.matchTag=function(e,t,n){for(var i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){var r=this.tags[i];if(nd(e,r.tag)&&(void 0===r.namespace||e.namespaceURI==r.namespace)&&(!r.context||t.matchesContext(r.context))){if(r.getAttrs){var o=r.getAttrs(e);if(!1===o)continue;r.attrs=o}return r}}},Yh.prototype.matchStyle=function(e,t,n,i){for(var r=i?this.styles.indexOf(i)+1:0;r<this.styles.length;r++){var o=this.styles[r];if(!(0!=o.style.indexOf(e)||o.context&&!n.matchesContext(o.context)||o.style.length>e.length&&(61!=o.style.charCodeAt(e.length)||o.style.slice(e.length+1)!=t))){if(o.getAttrs){var s=o.getAttrs(t);if(!1===s)continue;o.attrs=s}return o}}},Yh.schemaRules=function(e){var t=[];function n(e){for(var n=null==e.priority?50:e.priority,i=0;i<t.length;i++){var r=t[i];if((null==r.priority?50:r.priority)<n)break}t.splice(i,0,e)}var i=function(t){var i=e.marks[t].spec.parseDOM;i&&i.forEach((function(e){n(e=id(e)),e.mark=t}))};for(var r in e.marks)i(r);var o;for(var s in e.nodes)o=void 0,(o=e.nodes[s].spec.parseDOM)&&o.forEach((function(e){n(e=id(e)),e.node=s}));return t},Yh.fromSchema=function(e){return e.cached.domParser||(e.cached.domParser=new Yh(e,Yh.schemaRules(e)))};var Gh={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Xh={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Zh={ol:!0,ul:!0};function Jh(e){return(e?1:0)|("full"===e?2:0)}var Qh=function(e,t,n,i,r,o,s){this.type=e,this.attrs=t,this.solid=r,this.match=o||(4&s?null:e.contentMatch),this.options=s,this.content=[],this.marks=n,this.activeMarks=eh.none,this.pendingMarks=i,this.stashMarks=[]};Qh.prototype.findWrapping=function(e){if(!this.match){if(!this.type)return[];var t=this.type.contentMatch.fillBefore(Gu.from(e));if(!t){var n,i=this.type.contentMatch;return(n=i.findWrapping(e.type))?(this.match=i,n):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)},Qh.prototype.finish=function(e){if(!(1&this.options)){var t,n=this.content[this.content.length-1];n&&n.isText&&(t=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-t[0].length)))}var i=Gu.from(this.content);return!e&&this.match&&(i=i.append(this.match.fillBefore(Gu.empty,!0))),this.type?this.type.create(this.attrs,i,this.marks):i},Qh.prototype.popFromStashMark=function(e){for(var t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]},Qh.prototype.applyPending=function(e){for(var t=0,n=this.pendingMarks;t<n.length;t++){var i=n[t];(this.type?this.type.allowsMarkType(i.type):rd(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}},Qh.prototype.inlineContext=function(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Gh.hasOwnProperty(e.parentNode.nodeName.toLowerCase())};var ed=function(e,t,n){this.parser=e,this.options=t,this.isOpen=n;var i,r=t.topNode,o=Jh(t.preserveWhitespace)|(n?4:0);i=r?new Qh(r.type,r.attrs,eh.none,eh.none,!0,t.topMatch||r.type.contentMatch,o):new Qh(n?null:e.schema.topNodeType,null,eh.none,eh.none,!0,null,o),this.nodes=[i],this.open=0,this.find=t.findPositions,this.needsBlock=!1},td={top:{configurable:!0},currentPos:{configurable:!0}};function nd(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function id(e){var t={};for(var n in e)t[n]=e[n];return t}function rd(e,t){var n=t.schema.nodes,i=function(i){var r=n[i];if(r.allowsMarkType(e)){var o=[],s=function(e){o.push(e);for(var n=0;n<e.edgeCount;n++){var i=e.edge(n),r=i.type,a=i.next;if(r==t)return!0;if(o.indexOf(a)<0&&s(a))return!0}};return s(r.contentMatch)?{v:!0}:void 0}};for(var r in n){var o=i(r);if(o)return o.v}}td.top.get=function(){return this.nodes[this.open]},ed.prototype.addDOM=function(e){if(3==e.nodeType)this.addTextNode(e);else if(1==e.nodeType){var t=e.getAttribute("style"),n=t?this.readStyles(function(e){var t,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,i=[];for(;t=n.exec(e);)i.push(t[1],t[2].trim());return i}(t)):null,i=this.top;if(null!=n)for(var r=0;r<n.length;r++)this.addPendingMark(n[r]);if(this.addElement(e),null!=n)for(var o=0;o<n.length;o++)this.removePendingMark(n[o],i)}},ed.prototype.addTextNode=function(e){var t=e.nodeValue,n=this.top;if(2&n.options||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(1&n.options)t=2&n.options?t.replace(/\r\n?/g,"\n"):t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){var i=n.content[n.content.length-1],r=e.previousSibling;(!i||r&&"BR"==r.nodeName||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)},ed.prototype.addElement=function(e,t){var n,i=e.nodeName.toLowerCase();Zh.hasOwnProperty(i)&&this.parser.normalizeLists&&function(e){for(var t=e.firstChild,n=null;t;t=t.nextSibling){var i=1==t.nodeType?t.nodeName.toLowerCase():null;i&&Zh.hasOwnProperty(i)&&n?(n.appendChild(t),t=n):"li"==i?n=t:i&&(n=null)}}(e);var r=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(n=this.parser.matchTag(e,this,t));if(r?r.ignore:Xh.hasOwnProperty(i))this.findInside(e),this.ignoreFallback(e);else if(!r||r.skip||r.closeParent){r&&r.closeParent?this.open=Math.max(0,this.open-1):r&&r.skip.nodeType&&(e=r.skip);var o,s=this.top,a=this.needsBlock;if(Gh.hasOwnProperty(i))o=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);this.addAll(e),o&&this.sync(s),this.needsBlock=a}else this.addElementByRule(e,r,!1===r.consuming?n:null)},ed.prototype.leafFallback=function(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))},ed.prototype.ignoreFallback=function(e){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))},ed.prototype.readStyles=function(e){var t=eh.none;e:for(var n=0;n<e.length;n+=2)for(var i=null;;){var r=this.parser.matchStyle(e[n],e[n+1],this,i);if(!r)continue e;if(r.ignore)return null;if(t=this.parser.schema.marks[r.mark].create(r.attrs).addToSet(t),!1!==r.consuming)break;i=r}return t},ed.prototype.addElementByRule=function(e,t,n){var i,r,o,s=this;t.node?(r=this.parser.schema.nodes[t.node]).isLeaf?this.insertNode(r.create(t.attrs))||this.leafFallback(e):i=this.enter(r,t.attrs,t.preserveWhitespace):(o=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(o));var a=this.top;if(r&&r.isLeaf)this.findInside(e);else if(n)this.addElement(e,n);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach((function(e){return s.insertNode(e)}));else{var l=t.contentElement;"string"==typeof l?l=e.querySelector(l):"function"==typeof l&&(l=l(e)),l||(l=e),this.findAround(e,l,!0),this.addAll(l,i)}i&&(this.sync(a),this.open--),o&&this.removePendingMark(o,a)},ed.prototype.addAll=function(e,t,n,i){for(var r=n||0,o=n?e.childNodes[n]:e.firstChild,s=null==i?null:e.childNodes[i];o!=s;o=o.nextSibling,++r)this.findAtPoint(e,r),this.addDOM(o),t&&Gh.hasOwnProperty(o.nodeName.toLowerCase())&&this.sync(t);this.findAtPoint(e,r)},ed.prototype.findPlace=function(e){for(var t,n,i=this.open;i>=0;i--){var r=this.nodes[i],o=r.findWrapping(e);if(o&&(!t||t.length>o.length)&&(t=o,n=r,!o.length))break;if(r.solid)break}if(!t)return!1;this.sync(n);for(var s=0;s<t.length;s++)this.enterInner(t[s],null,!1);return!0},ed.prototype.insertNode=function(e){if(e.isInline&&this.needsBlock&&!this.top.type){var t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(e)){this.closeExtra();var n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));for(var i=n.activeMarks,r=0;r<e.marks.length;r++)n.type&&!n.type.allowsMarkType(e.marks[r].type)||(i=e.marks[r].addToSet(i));return n.content.push(e.mark(i)),!0}return!1},ed.prototype.enter=function(e,t,n){var i=this.findPlace(e.create(t));return i&&this.enterInner(e,t,!0,n),i},ed.prototype.enterInner=function(e,t,n,i){this.closeExtra();var r=this.top;r.applyPending(e),r.match=r.match&&r.match.matchType(e,t);var o=null==i?-5&r.options:Jh(i);4&r.options&&0==r.content.length&&(o|=4),this.nodes.push(new Qh(e,t,r.activeMarks,r.pendingMarks,n,null,o)),this.open++},ed.prototype.closeExtra=function(e){var t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}},ed.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},ed.prototype.sync=function(e){for(var t=this.open;t>=0;t--)if(this.nodes[t]==e)return void(this.open=t)},td.currentPos.get=function(){this.closeExtra();for(var e=0,t=this.open;t>=0;t--){for(var n=this.nodes[t].content,i=n.length-1;i>=0;i--)e+=n[i].nodeSize;t&&e++}return e},ed.prototype.findAtPoint=function(e,t){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)},ed.prototype.findInside=function(e){if(this.find)for(var t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)},ed.prototype.findAround=function(e,t,n){if(e!=t&&this.find)for(var i=0;i<this.find.length;i++){if(null==this.find[i].pos&&1==e.nodeType&&e.contains(this.find[i].node))t.compareDocumentPosition(this.find[i].node)&(n?2:4)&&(this.find[i].pos=this.currentPos)}},ed.prototype.findInText=function(e){if(this.find)for(var t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))},ed.prototype.matchesContext=function(e){var t=this;if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);var n=e.split("/"),i=this.options.context,r=!(this.isOpen||i&&i.parent.type!=this.nodes[0].type),o=-(i?i.depth+1:0)+(r?0:1),s=function(e,a){for(;e>=0;e--){var l=n[e];if(""==l){if(e==n.length-1||0==e)continue;for(;a>=o;a--)if(s(e-1,a))return!0;return!1}var c=a>0||0==a&&r?t.nodes[a].type:i&&a>=o?i.node(a-o).type:null;if(!c||c.name!=l&&-1==c.groups.indexOf(l))return!1;a--}return!0};return s(n.length-1,this.open)},ed.prototype.textblockFromContext=function(){var e=this.options.context;if(e)for(var t=e.depth;t>=0;t--){var n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var i in this.parser.schema.nodes){var r=this.parser.schema.nodes[i];if(r.isTextblock&&r.defaultAttrs)return r}},ed.prototype.addPendingMark=function(e){var t=function(e,t){for(var n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)},ed.prototype.removePendingMark=function(e,t){for(var n=this.open;n>=0;n--){var i=this.nodes[n];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);var r=i.popFromStashMark(e);r&&i.type&&i.type.allowsMarkType(r.type)&&(i.activeMarks=r.addToSet(i.activeMarks))}if(i==t)break}},Object.defineProperties(ed.prototype,td);var od=function(e,t){this.nodes=e||{},this.marks=t||{}};function sd(e){var t={};for(var n in e){var i=e[n].spec.toDOM;i&&(t[n]=i)}return t}function ad(e){return e.document||window.document}od.prototype.serializeFragment=function(e,t,n){var i=this;void 0===t&&(t={}),n||(n=ad(t).createDocumentFragment());var r=n,o=null;return e.forEach((function(e){if(o||e.marks.length){o||(o=[]);for(var n=0,s=0;n<o.length&&s<e.marks.length;){var a=e.marks[s];if(i.marks[a.type.name]){if(!a.eq(o[n])||!1===a.type.spec.spanning)break;n+=2,s++}else s++}for(;n<o.length;)r=o.pop(),o.pop();for(;s<e.marks.length;){var l=e.marks[s++],c=i.serializeMark(l,e.isInline,t);c&&(o.push(l,r),r.appendChild(c.dom),r=c.contentDOM||c.dom)}}r.appendChild(i.serializeNodeInner(e,t))})),n},od.prototype.serializeNodeInner=function(e,t){void 0===t&&(t={});var n=od.renderSpec(ad(t),this.nodes[e.type.name](e)),i=n.dom,r=n.contentDOM;if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");t.onContent?t.onContent(e,r,t):this.serializeFragment(e.content,t,r)}return i},od.prototype.serializeNode=function(e,t){void 0===t&&(t={});for(var n=this.serializeNodeInner(e,t),i=e.marks.length-1;i>=0;i--){var r=this.serializeMark(e.marks[i],e.isInline,t);r&&((r.contentDOM||r.dom).appendChild(n),n=r.dom)}return n},od.prototype.serializeMark=function(e,t,n){void 0===n&&(n={});var i=this.marks[e.type.name];return i&&od.renderSpec(ad(n),i(e,t))},od.renderSpec=function(e,t,n){if(void 0===n&&(n=null),"string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;var i=t[0],r=i.indexOf(" ");r>0&&(n=i.slice(0,r),i=i.slice(r+1));var o=null,s=n?e.createElementNS(n,i):e.createElement(i),a=t[1],l=1;if(a&&"object"==typeof a&&null==a.nodeType&&!Array.isArray(a))for(var c in l=2,a)if(null!=a[c]){var u=c.indexOf(" ");u>0?s.setAttributeNS(c.slice(0,u),c.slice(u+1),a[c]):s.setAttribute(c,a[c])}for(var h=l;h<t.length;h++){var d=t[h];if(0===d){if(h<t.length-1||h>l)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}var f=od.renderSpec(e,d,n),p=f.dom,g=f.contentDOM;if(s.appendChild(p),g){if(o)throw new RangeError("Multiple content holes");o=g}}return{dom:s,contentDOM:o}},od.fromSchema=function(e){return e.cached.domSerializer||(e.cached.domSerializer=new od(this.nodesFromSchema(e),this.marksFromSchema(e)))},od.nodesFromSchema=function(e){var t=sd(e.nodes);return t.text||(t.text=function(e){return e.text}),t},od.marksFromSchema=function(e){return sd(e.marks)};var ld=Math.pow(2,16);function cd(e){return 65535&e}var ud=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=null),this.pos=e,this.deleted=t,this.recover=n},hd=function(e,t){void 0===t&&(t=!1),this.ranges=e,this.inverted=t};hd.prototype.recover=function(e){var t=0,n=cd(e);if(!this.inverted)for(var i=0;i<n;i++)t+=this.ranges[3*i+2]-this.ranges[3*i+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/ld}(e)},hd.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},hd.prototype.map=function(e,t){return void 0===t&&(t=1),this._map(e,t,!0)},hd.prototype._map=function(e,t,n){for(var i=0,r=this.inverted?2:1,o=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var a=this.ranges[s]-(this.inverted?i:0);if(a>e)break;var l=this.ranges[s+r],c=this.ranges[s+o],u=a+l;if(e<=u){var h=a+i+((l?e==a?-1:e==u?1:t:t)<0?0:c);if(n)return h;var d=e==(t<0?a:u)?null:s/3+(e-a)*ld;return new ud(h,t<0?e!=a:e!=u,d)}i+=c-l}return n?e+i:new ud(e+i)},hd.prototype.touches=function(e,t){for(var n=0,i=cd(t),r=this.inverted?2:1,o=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var a=this.ranges[s]-(this.inverted?n:0);if(a>e)break;var l=this.ranges[s+r];if(e<=a+l&&s==3*i)return!0;n+=this.ranges[s+o]-l}return!1},hd.prototype.forEach=function(e){for(var t=this.inverted?2:1,n=this.inverted?1:2,i=0,r=0;i<this.ranges.length;i+=3){var o=this.ranges[i],s=o-(this.inverted?r:0),a=o+(this.inverted?0:r),l=this.ranges[i+t],c=this.ranges[i+n];e(s,s+l,a,a+c),r+=c-l}},hd.prototype.invert=function(){return new hd(this.ranges,!this.inverted)},hd.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},hd.offset=function(e){return 0==e?hd.empty:new hd(e<0?[0,-e,0]:[0,0,e])},hd.empty=new hd([]);var dd=function(e,t,n,i){this.maps=e||[],this.from=n||0,this.to=null==i?this.maps.length:i,this.mirror=t};function fd(e){var t=Error.call(this,e);return t.__proto__=fd.prototype,t}dd.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.maps.length),new dd(this.maps,this.mirror,e,t)},dd.prototype.copy=function(){return new dd(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},dd.prototype.appendMap=function(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)},dd.prototype.appendMapping=function(e){for(var t=0,n=this.maps.length;t<e.maps.length;t++){var i=e.getMirror(t);this.appendMap(e.maps[t],null!=i&&i<t?n+i:null)}},dd.prototype.getMirror=function(e){if(this.mirror)for(var t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]},dd.prototype.setMirror=function(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)},dd.prototype.appendMappingInverted=function(e){for(var t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){var i=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=i&&i>t?n-i-1:null)}},dd.prototype.invert=function(){var e=new dd;return e.appendMappingInverted(this),e},dd.prototype.map=function(e,t){if(void 0===t&&(t=1),this.mirror)return this._map(e,t,!0);for(var n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e},dd.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},dd.prototype._map=function(e,t,n){for(var i=!1,r=this.from;r<this.to;r++){var o=this.maps[r].mapResult(e,t);if(null!=o.recover){var s=this.getMirror(r);if(null!=s&&s>r&&s<this.to){r=s,e=this.maps[s].recover(o.recover);continue}}o.deleted&&(i=!0),e=o.pos}return n?e:new ud(e,i)},fd.prototype=Object.create(Error.prototype),fd.prototype.constructor=fd,fd.prototype.name="TransformError";var pd=function(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new dd},gd={before:{configurable:!0},docChanged:{configurable:!0}};function md(){throw new Error("Override me")}gd.before.get=function(){return this.docs.length?this.docs[0]:this.doc},pd.prototype.step=function(e){var t=this.maybeStep(e);if(t.failed)throw new fd(t.failed);return this},pd.prototype.maybeStep=function(e){var t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t},gd.docChanged.get=function(){return this.steps.length>0},pd.prototype.addStep=function(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t},Object.defineProperties(pd.prototype,gd);var vd=Object.create(null),yd=function(){};yd.prototype.apply=function(e){return md()},yd.prototype.getMap=function(){return hd.empty},yd.prototype.invert=function(e){return md()},yd.prototype.map=function(e){return md()},yd.prototype.merge=function(e){return null},yd.prototype.toJSON=function(){return md()},yd.fromJSON=function(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=vd[t.stepType];if(!n)throw new RangeError("No step type "+t.stepType+" defined");return n.fromJSON(e,t)},yd.jsonID=function(e,t){if(e in vd)throw new RangeError("Duplicate use of step JSON ID "+e);return vd[e]=t,t.prototype.jsonID=e,t};var bd=function(e,t){this.doc=e,this.failed=t};bd.ok=function(e){return new bd(e,null)},bd.fail=function(e){return new bd(null,e)},bd.fromReplace=function(e,t,n,i){try{return bd.ok(e.replace(t,n,i))}catch(nR){if(nR instanceof th)return bd.fail(nR.message);throw nR}};var _d=function(e){function t(t,n,i,r){e.call(this),this.from=t,this.to=n,this.slice=i,this.structure=!!r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){return this.structure&&Cd(e,this.from,this.to)?bd.fail("Structure replace would overwrite content"):bd.fromReplace(e,this.from,this.to,this.slice)},t.prototype.getMap=function(){return new hd([this.from,this.to-this.from,this.slice.size])},t.prototype.invert=function(e){return new t(this.from,this.from+this.slice.size,e.slice(this.from,this.to))},t.prototype.map=function(e){var n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted?null:new t(n.pos,Math.max(n.pos,i.pos),this.slice)},t.prototype.merge=function(e){if(!(e instanceof t)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;var n=this.slice.size+e.slice.size==0?nh.empty:new nh(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new t(e.from,this.to,n,this.structure)}var i=this.slice.size+e.slice.size==0?nh.empty:new nh(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new t(this.from,this.to+(e.to-e.from),i,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new t(n.from,n.to,nh.fromJSON(e,n.slice),!!n.structure)},t}(yd);yd.jsonID("replace",_d);var wd=function(e){function t(t,n,i,r,o,s,a){e.call(this),this.from=t,this.to=n,this.gapFrom=i,this.gapTo=r,this.slice=o,this.insert=s,this.structure=!!a}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){if(this.structure&&(Cd(e,this.from,this.gapFrom)||Cd(e,this.gapTo,this.to)))return bd.fail("Structure gap-replace would overwrite content");var t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return bd.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,t.content);return n?bd.fromReplace(e,this.from,this.to,n):bd.fail("Content does not fit in gap")},t.prototype.getMap=function(){return new hd([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},t.prototype.invert=function(e){var n=this.gapTo-this.gapFrom;return new t(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1),r=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return n.deleted&&i.deleted||r<n.pos||o>i.pos?null:new t(n.pos,i.pos,r,o,this.slice,this.insert,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new t(n.from,n.to,n.gapFrom,n.gapTo,nh.fromJSON(e,n.slice),n.insert,!!n.structure)},t}(yd);function Cd(e,t,n){for(var i=e.resolve(t),r=n-t,o=i.depth;r>0&&o>0&&i.indexAfter(o)==i.node(o).childCount;)o--,r--;if(r>0)for(var s=i.node(o).maybeChild(i.indexAfter(o));r>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,r--}return!1}function xd(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function kd(e){for(var t=e.parent.content.cutByIndex(e.startIndex,e.endIndex),n=e.depth;;--n){var i=e.$from.node(n),r=e.$from.index(n),o=e.$to.indexAfter(n);if(n<e.depth&&i.canReplace(r,o,t))return n;if(0==n||i.type.spec.isolating||!xd(i,r,o))break}}function Sd(e,t,n,i){void 0===i&&(i=e);var r=function(e,t){var n=e.parent,i=e.startIndex,r=e.endIndex,o=n.contentMatchAt(i).findWrapping(t);if(!o)return null;var s=o.length?o[0]:t;return n.canReplaceWith(i,r,s)?o:null}(e,t),o=r&&function(e,t){var n=e.parent,i=e.startIndex,r=e.endIndex,o=n.child(i),s=t.contentMatch.findWrapping(o.type);if(!s)return null;for(var a=(s.length?s[s.length-1]:t).contentMatch,l=i;a&&l<r;l++)a=a.matchType(n.child(l).type);if(!a||!a.validEnd)return null;return s}(i,t);return o?r.map(Dd).concat({type:t,attrs:n}).concat(o.map(Dd)):null}function Dd(e){return{type:e,attrs:null}}function Ed(e,t,n,i){void 0===n&&(n=1);var r=e.resolve(t),o=r.depth-n,s=i&&i[i.length-1]||r.parent;if(o<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!s.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(var a=r.depth-1,l=n-2;a>o;a--,l--){var c=r.node(a),u=r.index(a);if(c.type.spec.isolating)return!1;var h=c.content.cutByIndex(u,c.childCount),d=i&&i[l]||c;if(d!=c&&(h=h.replaceChild(0,d.type.create(d.attrs))),!c.canReplace(u+1,c.childCount)||!d.type.validContent(h))return!1}var f=r.indexAfter(o),p=i&&i[0];return r.node(o).canReplaceWith(f,f,p?p.type:r.node(o+1).type)}function Ld(e,t){var n,i,r=e.resolve(t),o=r.index();return n=r.nodeBefore,i=r.nodeAfter,n&&i&&!n.isLeaf&&n.canAppend(i)&&r.parent.canReplace(o,o+1)}function Td(e,t,n){for(var i=[],r=0;r<e.childCount;r++){var o=e.child(r);o.content.size&&(o=o.copy(Td(o.content,t,o))),o.isInline&&(o=t(o,n,r)),i.push(o)}return Gu.fromArray(i)}yd.jsonID("replaceAround",wd),pd.prototype.lift=function(e,t){for(var n=e.$from,i=e.$to,r=e.depth,o=n.before(r+1),s=i.after(r+1),a=o,l=s,c=Gu.empty,u=0,h=r,d=!1;h>t;h--)d||n.index(h)>0?(d=!0,c=Gu.from(n.node(h).copy(c)),u++):a--;for(var f=Gu.empty,p=0,g=r,m=!1;g>t;g--)m||i.after(g+1)<i.end(g)?(m=!0,f=Gu.from(i.node(g).copy(f)),p++):l++;return this.step(new wd(a,l,o,s,new nh(c.append(f),u,p),c.size-u,!0))},pd.prototype.wrap=function(e,t){for(var n=Gu.empty,i=t.length-1;i>=0;i--)n=Gu.from(t[i].type.create(t[i].attrs,n));var r=e.start,o=e.end;return this.step(new wd(r,o,r,o,new nh(n,0,0),t.length,!0))},pd.prototype.setBlockType=function(e,t,n,i){var r=this;if(void 0===t&&(t=e),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var o=this.steps.length;return this.doc.nodesBetween(e,t,(function(e,t){if(e.isTextblock&&!e.hasMarkup(n,i)&&function(e,t,n){var i=e.resolve(t),r=i.index();return i.parent.canReplaceWith(r,r+1,n)}(r.doc,r.mapping.slice(o).map(t),n)){r.clearIncompatible(r.mapping.slice(o).map(t,1),n);var s=r.mapping.slice(o),a=s.map(t,1),l=s.map(t+e.nodeSize,1);return r.step(new wd(a,l,a+1,l-1,new nh(Gu.from(n.create(i,null,e.marks)),0,0),1,!0)),!1}})),this},pd.prototype.setNodeMarkup=function(e,t,n,i){var r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at given position");t||(t=r.type);var o=t.create(n,null,i||r.marks);if(r.isLeaf)return this.replaceWith(e,e+r.nodeSize,o);if(!t.validContent(r.content))throw new RangeError("Invalid content for node type "+t.name);return this.step(new wd(e,e+r.nodeSize,e+1,e+r.nodeSize-1,new nh(Gu.from(o),0,0),1,!0))},pd.prototype.split=function(e,t,n){void 0===t&&(t=1);for(var i=this.doc.resolve(e),r=Gu.empty,o=Gu.empty,s=i.depth,a=i.depth-t,l=t-1;s>a;s--,l--){r=Gu.from(i.node(s).copy(r));var c=n&&n[l];o=Gu.from(c?c.type.create(c.attrs,o):i.node(s).copy(o))}return this.step(new _d(e,e,new nh(r.append(o),t,t),!0))},pd.prototype.join=function(e,t){void 0===t&&(t=1);var n=new _d(e-t,e+t,nh.empty,!0);return this.step(n)};var Nd=function(e){function t(t,n,i){e.call(this),this.from=t,this.to=n,this.mark=i}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),i=e.resolve(this.from),r=i.node(i.sharedDepth(this.to)),o=new nh(Td(n.content,(function(e,n){return e.isAtom&&n.type.allowsMarkType(t.mark.type)?e.mark(t.mark.addToSet(e.marks)):e}),r),n.openStart,n.openEnd);return bd.fromReplace(e,this.from,this.to,o)},t.prototype.invert=function(){return new Md(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new t(n.pos,i.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(yd);yd.jsonID("addMark",Nd);var Md=function(e){function t(t,n,i){e.call(this),this.from=t,this.to=n,this.mark=i}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),i=new nh(Td(n.content,(function(e){return e.mark(t.mark.removeFromSet(e.marks))})),n.openStart,n.openEnd);return bd.fromReplace(e,this.from,this.to,i)},t.prototype.invert=function(){return new Nd(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new t(n.pos,i.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(yd);function Ad(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}yd.jsonID("removeMark",Md),pd.prototype.addMark=function(e,t,n){var i=this,r=[],o=[],s=null,a=null;return this.doc.nodesBetween(e,t,(function(i,l,c){if(i.isInline){var u=i.marks;if(!n.isInSet(u)&&c.type.allowsMarkType(n.type)){for(var h=Math.max(l,e),d=Math.min(l+i.nodeSize,t),f=n.addToSet(u),p=0;p<u.length;p++)u[p].isInSet(f)||(s&&s.to==h&&s.mark.eq(u[p])?s.to=d:r.push(s=new Md(h,d,u[p])));a&&a.to==h?a.to=d:o.push(a=new Nd(h,d,n))}}})),r.forEach((function(e){return i.step(e)})),o.forEach((function(e){return i.step(e)})),this},pd.prototype.removeMark=function(e,t,n){var i=this;void 0===n&&(n=null);var r=[],o=0;return this.doc.nodesBetween(e,t,(function(i,s){if(i.isInline){o++;var a=null;if(n instanceof $h)for(var l,c=i.marks;l=n.isInSet(c);)(a||(a=[])).push(l),c=l.removeFromSet(c);else n?n.isInSet(i.marks)&&(a=[n]):a=i.marks;if(a&&a.length)for(var u=Math.min(s+i.nodeSize,t),h=0;h<a.length;h++){for(var d=a[h],f=void 0,p=0;p<r.length;p++){var g=r[p];g.step==o-1&&d.eq(r[p].style)&&(f=g)}f?(f.to=u,f.step=o):r.push({style:d,from:Math.max(s,e),to:u,step:o})}}})),r.forEach((function(e){return i.step(new Md(e.from,e.to,e.style))})),this},pd.prototype.clearIncompatible=function(e,t,n){void 0===n&&(n=t.contentMatch);for(var i=this.doc.nodeAt(e),r=[],o=e+1,s=0;s<i.childCount;s++){var a=i.child(s),l=o+a.nodeSize,c=n.matchType(a.type,a.attrs);if(c){n=c;for(var u=0;u<a.marks.length;u++)t.allowsMarkType(a.marks[u].type)||this.step(new Md(o,l,a.marks[u]))}else r.push(new _d(o,l,nh.empty));o=l}if(!n.validEnd){var h=n.fillBefore(Gu.empty,!0);this.replace(o,o,new nh(h,0,0))}for(var d=r.length-1;d>=0;d--)this.step(r[d]);return this},pd.prototype.replace=function(e,t,n){void 0===t&&(t=e),void 0===n&&(n=nh.empty);var i=function(e,t,n,i){if(void 0===n&&(n=t),void 0===i&&(i=nh.empty),t==n&&!i.size)return null;var r=e.resolve(t),o=e.resolve(n);return Ad(r,o,i)?new _d(t,n,i):new Id(r,o,i).fit()}(this.doc,e,t,n);return i&&this.step(i),this},pd.prototype.replaceWith=function(e,t,n){return this.replace(e,t,new nh(Gu.from(n),0,0))},pd.prototype.delete=function(e,t){return this.replace(e,t,nh.empty)},pd.prototype.insert=function(e,t){return this.replaceWith(e,e,t)};var Id=function(e,t,n){this.$to=t,this.$from=e,this.unplaced=n,this.frontier=[];for(var i=0;i<=e.depth;i++){var r=e.node(i);this.frontier.push({type:r.type,match:r.contentMatchAt(e.indexAfter(i))})}this.placed=Gu.empty;for(var o=e.depth;o>0;o--)this.placed=Gu.from(e.node(o).copy(this.placed))},Od={depth:{configurable:!0}};function Fd(e,t,n){return 0==t?e.cutByIndex(n):e.replaceChild(0,e.firstChild.copy(Fd(e.firstChild.content,t-1,n)))}function Rd(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(Rd(e.lastChild.content,t-1,n)))}function Pd(e,t){for(var n=0;n<t;n++)e=e.firstChild.content;return e}function Bd(e,t,n){if(t<=0)return e;var i=e.content;return t>1&&(i=i.replaceChild(0,Bd(i.firstChild,t-1,1==i.childCount?n-1:0))),t>0&&(i=e.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(e.type.contentMatch.matchFragment(i).fillBefore(Gu.empty,!0)))),e.copy(i)}function jd(e,t,n,i,r){var o=e.node(t),s=r?e.indexAfter(t):e.index(t);if(s==o.childCount&&!n.compatibleContent(o.type))return null;var a=i.fillBefore(o.content,!0,s);return a&&!function(e,t,n){for(var i=n;i<t.childCount;i++)if(!e.allowsMarks(t.child(i).marks))return!0;return!1}(n,o.content,s)?a:null}function zd(e,t,n,i,r){if(t<n){var o=e.firstChild;e=e.replaceChild(0,o.copy(zd(o.content,t+1,n,i,o)))}if(t>i){var s=r.contentMatchAt(0),a=s.fillBefore(e).append(e);e=a.append(s.matchFragment(a).fillBefore(Gu.empty,!0))}return e}function Vd(e,t){for(var n=[],i=Math.min(e.depth,t.depth);i>=0;i--){var r=e.start(i);if(r<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(r==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==r-1)&&n.push(i)}return n}Od.depth.get=function(){return this.frontier.length-1},Id.prototype.fit=function(){for(;this.unplaced.size;){var e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}var t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,i=this.$from,r=this.close(t<0?this.$to:i.doc.resolve(t));if(!r)return null;for(var o=this.placed,s=i.depth,a=r.depth;s&&a&&1==o.childCount;)o=o.firstChild.content,s--,a--;var l=new nh(o,s,a);return t>-1?new wd(i.pos,t,this.$to.pos,this.$to.end(),l,n):l.size||i.pos!=this.$to.pos?new _d(i.pos,r.pos,l):void 0},Id.prototype.findFittable=function(){for(var e=1;e<=2;e++)for(var t=this.unplaced.openStart;t>=0;t--)for(var n=void 0,i=(t?(n=Pd(this.unplaced.content,t-1).firstChild).content:this.unplaced.content).firstChild,r=this.depth;r>=0;r--){var o=this.frontier[r],s=o.type,a=o.match,l=void 0,c=void 0;if(1==e&&(i?a.matchType(i.type)||(c=a.fillBefore(Gu.from(i),!1)):s.compatibleContent(n.type)))return{sliceDepth:t,frontierDepth:r,parent:n,inject:c};if(2==e&&i&&(l=a.findWrapping(i.type)))return{sliceDepth:t,frontierDepth:r,parent:n,wrap:l};if(n&&a.matchType(n.type))break}},Id.prototype.openMore=function(){var e=this.unplaced,t=e.content,n=e.openStart,i=e.openEnd,r=Pd(t,n);return!(!r.childCount||r.firstChild.isLeaf)&&(this.unplaced=new nh(t,n+1,Math.max(i,r.size+n>=t.size-i?n+1:0)),!0)},Id.prototype.dropNode=function(){var e=this.unplaced,t=e.content,n=e.openStart,i=e.openEnd,r=Pd(t,n);if(r.childCount<=1&&n>0){var o=t.size-n<=n+r.size;this.unplaced=new nh(Fd(t,n-1,1),n-1,o?n-1:i)}else this.unplaced=new nh(Fd(t,n,1),n,i)},Id.prototype.placeNodes=function(e){for(var t=e.sliceDepth,n=e.frontierDepth,i=e.parent,r=e.inject,o=e.wrap;this.depth>n;)this.closeFrontierNode();if(o)for(var s=0;s<o.length;s++)this.openFrontierNode(o[s]);var a=this.unplaced,l=i?i.content:a.content,c=a.openStart-t,u=0,h=[],d=this.frontier[n],f=d.match,p=d.type;if(r){for(var g=0;g<r.childCount;g++)h.push(r.child(g));f=f.matchFragment(r)}for(var m=l.size+t-(a.content.size-a.openEnd);u<l.childCount;){var v=l.child(u),y=f.matchType(v.type);if(!y)break;(++u>1||0==c||v.content.size)&&(f=y,h.push(Bd(v.mark(p.allowedMarks(v.marks)),1==u?c:0,u==l.childCount?m:-1)))}var b=u==l.childCount;b||(m=-1),this.placed=Rd(this.placed,n,Gu.from(h)),this.frontier[n].match=f,b&&m<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var _=0,w=l;_<m;_++){var C=w.lastChild;this.frontier.push({type:C.type,match:C.contentMatchAt(C.childCount)}),w=C.content}this.unplaced=b?0==t?nh.empty:new nh(Fd(a.content,t-1,1),t-1,m<0?a.openEnd:t-1):new nh(Fd(a.content,t,u),a.openStart,a.openEnd)},Id.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var e,t=this.frontier[this.depth];if(!t.type.isTextblock||!jd(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;for(var n=this.$to.depth,i=this.$to.after(n);n>1&&i==this.$to.end(--n);)++i;return i},Id.prototype.findCloseLevel=function(e){e:for(var t=Math.min(this.depth,e.depth);t>=0;t--){var n=this.frontier[t],i=n.match,r=n.type,o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),s=jd(e,t,r,i,o);if(s){for(var a=t-1;a>=0;a--){var l=this.frontier[a],c=l.match,u=jd(e,a,l.type,c,!0);if(!u||u.childCount)continue e}return{depth:t,fit:s,move:o?e.doc.resolve(e.after(t+1)):e}}}},Id.prototype.close=function(e){var t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Rd(this.placed,t.depth,t.fit)),e=t.move;for(var n=t.depth+1;n<=e.depth;n++){var i=e.node(n),r=i.type.contentMatch.fillBefore(i.content,!0,e.index(n));this.openFrontierNode(i.type,i.attrs,r)}return e},Id.prototype.openFrontierNode=function(e,t,n){var i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Rd(this.placed,this.depth,Gu.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})},Id.prototype.closeFrontierNode=function(){var e=this.frontier.pop().match.fillBefore(Gu.empty,!0);e.childCount&&(this.placed=Rd(this.placed,this.frontier.length,e))},Object.defineProperties(Id.prototype,Od),pd.prototype.replaceRange=function(e,t,n){if(!n.size)return this.deleteRange(e,t);var i=this.doc.resolve(e),r=this.doc.resolve(t);if(Ad(i,r,n))return this.step(new _d(e,t,n));var o=Vd(i,this.doc.resolve(t));0==o[o.length-1]&&o.pop();var s=-(i.depth+1);o.unshift(s);for(var a=i.depth,l=i.pos-1;a>0;a--,l--){var c=i.node(a).type.spec;if(c.defining||c.isolating)break;o.indexOf(a)>-1?s=a:i.before(a)==l&&o.splice(1,0,-a)}for(var u=o.indexOf(s),h=[],d=n.openStart,f=n.content,p=0;;p++){var g=f.firstChild;if(h.push(g),p==n.openStart)break;f=g.content}d>0&&h[d-1].type.spec.defining&&i.node(u).type!=h[d-1].type?d-=1:d>=2&&h[d-1].isTextblock&&h[d-2].type.spec.defining&&i.node(u).type!=h[d-2].type&&(d-=2);for(var m=n.openStart;m>=0;m--){var v=(m+d+1)%(n.openStart+1),y=h[v];if(y)for(var b=0;b<o.length;b++){var _=o[(b+u)%o.length],w=!0;_<0&&(w=!1,_=-_);var C=i.node(_-1),x=i.index(_-1);if(C.canReplaceWith(x,x,y.type,y.marks))return this.replace(i.before(_),w?r.after(_):t,new nh(zd(n.content,0,n.openStart,v),v,n.openEnd))}}for(var k=this.steps.length,S=o.length-1;S>=0&&(this.replace(e,t,n),!(this.steps.length>k));S--){var D=o[S];D<0||(e=i.before(D),t=r.after(D))}return this},pd.prototype.replaceRangeWith=function(e,t,n){if(!n.isInline&&e==t&&this.doc.resolve(e).parent.content.size){var i=function(e,t,n){var i=e.resolve(t);if(i.parent.canReplaceWith(i.index(),i.index(),n))return t;if(0==i.parentOffset)for(var r=i.depth-1;r>=0;r--){var o=i.index(r);if(i.node(r).canReplaceWith(o,o,n))return i.before(r+1);if(o>0)return null}if(i.parentOffset==i.parent.content.size)for(var s=i.depth-1;s>=0;s--){var a=i.indexAfter(s);if(i.node(s).canReplaceWith(a,a,n))return i.after(s+1);if(a<i.node(s).childCount)return null}}(this.doc,e,n.type);null!=i&&(e=t=i)}return this.replaceRange(e,t,new nh(Gu.from(n),0,0))},pd.prototype.deleteRange=function(e,t){for(var n=this.doc.resolve(e),i=this.doc.resolve(t),r=Vd(n,i),o=0;o<r.length;o++){var s=r[o],a=o==r.length-1;if(a&&0==s||n.node(s).type.contentMatch.validEnd)return this.delete(n.start(s),i.end(s));if(s>0&&(a||n.node(s-1).canReplace(n.index(s-1),i.indexAfter(s-1))))return this.delete(n.before(s),i.after(s))}for(var l=1;l<=n.depth&&l<=i.depth;l++)if(e-n.start(l)==n.depth-l&&t>n.end(l)&&i.end(l)-t!=i.depth-l)return this.delete(n.before(l),t);return this.delete(e,t)};var Wd=Object.create(null),Hd=function(e,t,n){this.ranges=n||[new $d(e.min(t),e.max(t))],this.$anchor=e,this.$head=t},Ud={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};Ud.anchor.get=function(){return this.$anchor.pos},Ud.head.get=function(){return this.$head.pos},Ud.from.get=function(){return this.$from.pos},Ud.to.get=function(){return this.$to.pos},Ud.$from.get=function(){return this.ranges[0].$from},Ud.$to.get=function(){return this.ranges[0].$to},Ud.empty.get=function(){for(var e=this.ranges,t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0},Hd.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},Hd.prototype.replace=function(e,t){void 0===t&&(t=nh.empty);for(var n=t.content.lastChild,i=null,r=0;r<t.openEnd;r++)i=n,n=n.lastChild;for(var o=e.steps.length,s=this.ranges,a=0;a<s.length;a++){var l=s[a],c=l.$from,u=l.$to,h=e.mapping.slice(o);e.replaceRange(h.map(c.pos),h.map(u.pos),a?nh.empty:t),0==a&&Qd(e,o,(n?n.isInline:i&&i.isTextblock)?-1:1)}},Hd.prototype.replaceWith=function(e,t){for(var n=e.steps.length,i=this.ranges,r=0;r<i.length;r++){var o=i[r],s=o.$from,a=o.$to,l=e.mapping.slice(n),c=l.map(s.pos),u=l.map(a.pos);r?e.deleteRange(c,u):(e.replaceRangeWith(c,u,t),Qd(e,n,t.isInline?-1:1))}},Hd.findFrom=function(e,t,n){var i=e.parent.inlineContent?new qd(e):Jd(e.node(0),e.parent,e.pos,e.index(),t,n);if(i)return i;for(var r=e.depth-1;r>=0;r--){var o=t<0?Jd(e.node(0),e.node(r),e.before(r+1),e.index(r),t,n):Jd(e.node(0),e.node(r),e.after(r+1),e.index(r)+1,t,n);if(o)return o}},Hd.near=function(e,t){return void 0===t&&(t=1),this.findFrom(e,t)||this.findFrom(e,-t)||new Xd(e.node(0))},Hd.atStart=function(e){return Jd(e,e,0,0,1)||new Xd(e)},Hd.atEnd=function(e){return Jd(e,e,e.content.size,e.childCount,-1)||new Xd(e)},Hd.fromJSON=function(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=Wd[t.type];if(!n)throw new RangeError("No selection type "+t.type+" defined");return n.fromJSON(e,t)},Hd.jsonID=function(e,t){if(e in Wd)throw new RangeError("Duplicate use of selection JSON ID "+e);return Wd[e]=t,t.prototype.jsonID=e,t},Hd.prototype.getBookmark=function(){return qd.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(Hd.prototype,Ud),Hd.prototype.visible=!0;var $d=function(e,t){this.$from=e,this.$to=t},qd=function(e){function t(t,n){void 0===n&&(n=t),e.call(this,t,n)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},t.prototype.map=function(n,i){var r=n.resolve(i.map(this.head));if(!r.parent.inlineContent)return e.near(r);var o=n.resolve(i.map(this.anchor));return new t(o.parent.inlineContent?o:r,r)},t.prototype.replace=function(t,n){if(void 0===n&&(n=nh.empty),e.prototype.replace.call(this,t,n),n==nh.empty){var i=this.$from.marksAcross(this.$to);i&&t.ensureMarks(i)}},t.prototype.eq=function(e){return e instanceof t&&e.anchor==this.anchor&&e.head==this.head},t.prototype.getBookmark=function(){return new Kd(this.anchor,this.head)},t.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},t.fromJSON=function(e,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new t(e.resolve(n.anchor),e.resolve(n.head))},t.create=function(e,t,n){void 0===n&&(n=t);var i=e.resolve(t);return new this(i,n==t?i:e.resolve(n))},t.between=function(n,i,r){var o=n.pos-i.pos;if(r&&!o||(r=o>=0?1:-1),!i.parent.inlineContent){var s=e.findFrom(i,r,!0)||e.findFrom(i,-r,!0);if(!s)return e.near(i,r);i=s.$head}return n.parent.inlineContent||(0==o||(n=(e.findFrom(n,-r,!0)||e.findFrom(n,r,!0)).$anchor).pos<i.pos!=o<0)&&(n=i),new t(n,i)},Object.defineProperties(t.prototype,n),t}(Hd);Hd.jsonID("text",qd);var Kd=function(e,t){this.anchor=e,this.head=t};Kd.prototype.map=function(e){return new Kd(e.map(this.anchor),e.map(this.head))},Kd.prototype.resolve=function(e){return qd.between(e.resolve(this.anchor),e.resolve(this.head))};var Yd=function(e){function t(t){var n=t.nodeAfter,i=t.node(0).resolve(t.pos+n.nodeSize);e.call(this,t,i),this.node=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(n,i){var r=i.mapResult(this.anchor),o=r.deleted,s=r.pos,a=n.resolve(s);return o?e.near(a):new t(a)},t.prototype.content=function(){return new nh(Gu.from(this.node),0,0)},t.prototype.eq=function(e){return e instanceof t&&e.anchor==this.anchor},t.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},t.prototype.getBookmark=function(){return new Gd(this.anchor)},t.fromJSON=function(e,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new t(e.resolve(n.anchor))},t.create=function(e,t){return new this(e.resolve(t))},t.isSelectable=function(e){return!e.isText&&!1!==e.type.spec.selectable},t}(Hd);Yd.prototype.visible=!1,Hd.jsonID("node",Yd);var Gd=function(e){this.anchor=e};Gd.prototype.map=function(e){var t=e.mapResult(this.anchor),n=t.deleted,i=t.pos;return n?new Kd(i,i):new Gd(i)},Gd.prototype.resolve=function(e){var t=e.resolve(this.anchor),n=t.nodeAfter;return n&&Yd.isSelectable(n)?new Yd(t):Hd.near(t)};var Xd=function(e){function t(t){e.call(this,t.resolve(0),t.resolve(t.content.size))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.replace=function(t,n){if(void 0===n&&(n=nh.empty),n==nh.empty){t.delete(0,t.doc.content.size);var i=e.atStart(t.doc);i.eq(t.selection)||t.setSelection(i)}else e.prototype.replace.call(this,t,n)},t.prototype.toJSON=function(){return{type:"all"}},t.fromJSON=function(e){return new t(e)},t.prototype.map=function(e){return new t(e)},t.prototype.eq=function(e){return e instanceof t},t.prototype.getBookmark=function(){return Zd},t}(Hd);Hd.jsonID("all",Xd);var Zd={map:function(){return this},resolve:function(e){return new Xd(e)}};function Jd(e,t,n,i,r,o){if(t.inlineContent)return qd.create(e,n);for(var s=i-(r>0?0:1);r>0?s<t.childCount:s>=0;s+=r){var a=t.child(s);if(a.isAtom){if(!o&&Yd.isSelectable(a))return Yd.create(e,n-(r<0?a.nodeSize:0))}else{var l=Jd(e,a,n+r,r<0?a.childCount:0,r,o);if(l)return l}n+=a.nodeSize*r}}function Qd(e,t,n){var i=e.steps.length-1;if(!(i<t)){var r,o=e.steps[i];if(o instanceof _d||o instanceof wd)e.mapping.maps[i].forEach((function(e,t,n,i){null==r&&(r=i)})),e.setSelection(Hd.near(e.doc.resolve(r),n))}}var ef=function(e){function t(t){e.call(this,t.doc),this.time=Date.now(),this.curSelection=t.selection,this.curSelectionFor=0,this.storedMarks=t.storedMarks,this.updated=0,this.meta=Object.create(null)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},t.prototype.setSelection=function(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this},n.selectionSet.get=function(){return(1&this.updated)>0},t.prototype.setStoredMarks=function(e){return this.storedMarks=e,this.updated|=2,this},t.prototype.ensureMarks=function(e){return eh.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this},t.prototype.addStoredMark=function(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))},t.prototype.removeStoredMark=function(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(2&this.updated)>0},t.prototype.addStep=function(t,n){e.prototype.addStep.call(this,t,n),this.updated=-3&this.updated,this.storedMarks=null},t.prototype.setTime=function(e){return this.time=e,this},t.prototype.replaceSelection=function(e){return this.selection.replace(this,e),this},t.prototype.replaceSelectionWith=function(e,t){var n=this.selection;return!1!==t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||eh.none))),n.replaceWith(this,e),this},t.prototype.deleteSelection=function(){return this.selection.replace(this),this},t.prototype.insertText=function(e,t,n){void 0===n&&(n=t);var i=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();if(!e)return this.deleteRange(t,n);var r=this.storedMarks;if(!r){var o=this.doc.resolve(t);r=n==t?o.marks():o.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,i.text(e,r)),this.selection.empty||this.setSelection(Hd.near(this.selection.$to)),this},t.prototype.setMeta=function(e,t){return this.meta["string"==typeof e?e:e.key]=t,this},t.prototype.getMeta=function(e){return this.meta["string"==typeof e?e:e.key]},n.isGeneric.get=function(){for(var e in this.meta)return!1;return!0},t.prototype.scrollIntoView=function(){return this.updated|=4,this},n.scrolledIntoView.get=function(){return(4&this.updated)>0},Object.defineProperties(t.prototype,n),t}(pd);function tf(e,t){return t&&e?e.bind(t):e}var nf=function(e,t,n){this.name=e,this.init=tf(t.init,n),this.apply=tf(t.apply,n)},rf=[new nf("doc",{init:function(e){return e.doc||e.schema.topNodeType.createAndFill()},apply:function(e){return e.doc}}),new nf("selection",{init:function(e,t){return e.selection||Hd.atStart(t.doc)},apply:function(e){return e.selection}}),new nf("storedMarks",{init:function(e){return e.storedMarks||null},apply:function(e,t,n,i){return i.selection.$cursor?e.storedMarks:null}}),new nf("scrollToSelection",{init:function(){return 0},apply:function(e,t){return e.scrolledIntoView?t+1:t}})],of=function(e,t){var n=this;this.schema=e,this.fields=rf.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),t&&t.forEach((function(e){if(n.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");n.plugins.push(e),n.pluginsByKey[e.key]=e,e.spec.state&&n.fields.push(new nf(e.key,e.spec.state,e))}))},sf=function(e){this.config=e},af={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};af.schema.get=function(){return this.config.schema},af.plugins.get=function(){return this.config.plugins},sf.prototype.apply=function(e){return this.applyTransaction(e).state},sf.prototype.filterTransaction=function(e,t){void 0===t&&(t=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=t){var i=this.config.plugins[n];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0},sf.prototype.applyTransaction=function(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};for(var t=[e],n=this.applyInner(e),i=null;;){for(var r=!1,o=0;o<this.config.plugins.length;o++){var s=this.config.plugins[o];if(s.spec.appendTransaction){var a=i?i[o].n:0,l=i?i[o].state:this,c=a<t.length&&s.spec.appendTransaction.call(s,a?t.slice(a):t,l,n);if(c&&n.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(var u=0;u<this.config.plugins.length;u++)i.push(u<o?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),r=!0}i&&(i[o]={state:n,n:t.length})}}if(!r)return{state:n,transactions:t}}},sf.prototype.applyInner=function(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var t=new sf(this.config),n=this.config.fields,i=0;i<n.length;i++){var r=n[i];t[r.name]=r.apply(e,this[r.name],this,t)}for(var o=0;o<lf.length;o++)lf[o](this,e,t);return t},af.tr.get=function(){return new ef(this)},sf.create=function(e){for(var t=new of(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new sf(t),i=0;i<t.fields.length;i++)n[t.fields[i].name]=t.fields[i].init(e,n);return n},sf.prototype.reconfigure=function(e){for(var t=new of(this.schema,e.plugins),n=t.fields,i=new sf(t),r=0;r<n.length;r++){var o=n[r].name;i[o]=this.hasOwnProperty(o)?this[o]:n[r].init(e,i)}return i},sf.prototype.toJSON=function(e){var t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map((function(e){return e.toJSON()}))),e&&"object"==typeof e)for(var n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var i=e[n],r=i.spec.state;r&&r.toJSON&&(t[n]=r.toJSON.call(i,this[i.key]))}return t},sf.fromJSON=function(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");var i=new of(e.schema,e.plugins),r=new sf(i);return i.fields.forEach((function(i){if("doc"==i.name)r.doc=xh.fromJSON(e.schema,t.doc);else if("selection"==i.name)r.selection=Hd.fromJSON(r.doc,t.selection);else if("storedMarks"==i.name)t.storedMarks&&(r.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(var o in n){var s=n[o],a=s.spec.state;if(s.key==i.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(t,o))return void(r[i.name]=a.fromJSON.call(s,e,t[o],r))}r[i.name]=i.init(e,r)}})),r},sf.addApplyListener=function(e){lf.push(e)},sf.removeApplyListener=function(e){var t=lf.indexOf(e);t>-1&&lf.splice(t,1)},Object.defineProperties(sf.prototype,af);var lf=[];function cf(e,t,n){for(var i in e){var r=e[i];r instanceof Function?r=r.bind(t):"handleDOMEvents"==i&&(r=cf(r,t,{})),n[i]=r}return n}var uf=function(e){this.props={},e.props&&cf(e.props,this,this.props),this.spec=e,this.key=e.key?e.key.key:df("plugin")};uf.prototype.getState=function(e){return e[this.key]};var hf=Object.create(null);function df(e){return e in hf?e+"$"+ ++hf[e]:(hf[e]=0,e+"$")}var ff=function(e){void 0===e&&(e="key"),this.key=df(e)};function pf(e,t){return!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0)}function gf(e,t,n){for(;e;e="start"==t?e.firstChild:e.lastChild){if(e.isTextblock)return!0;if(n&&1!=e.childCount)return!1}return!1}function mf(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function vf(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){var n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}function yf(e,t){var n=e.selection,i=n.$head,r=n.$anchor;return!(!i.parent.type.spec.code||!i.sameParent(r))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)}function bf(e){for(var t=0;t<e.edgeCount;t++){var n=e.edge(t).type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function _f(e,t,n){var i,r,o=t.nodeBefore,s=t.nodeAfter;if(o.type.spec.isolating||s.type.spec.isolating)return!1;if(function(e,t,n){var i=t.nodeBefore,r=t.nodeAfter,o=t.index();return!(!(i&&r&&i.type.compatibleContent(r.type))||(!i.content.size&&t.parent.canReplace(o-1,o)?(n&&n(e.tr.delete(t.pos-i.nodeSize,t.pos).scrollIntoView()),0):!t.parent.canReplace(o,o+1)||!r.isTextblock&&!Ld(e.doc,t.pos)||(n&&n(e.tr.clearIncompatible(t.pos,i.type,i.contentMatchAt(i.childCount)).join(t.pos).scrollIntoView()),0)))}(e,t,n))return!0;var a=t.parent.canReplace(t.index(),t.index()+1);if(a&&(i=(r=o.contentMatchAt(o.childCount)).findWrapping(s.type))&&r.matchType(i[0]||s.type).validEnd){if(n){for(var l=t.pos+s.nodeSize,c=Gu.empty,u=i.length-1;u>=0;u--)c=Gu.from(i[u].create(null,c));c=Gu.from(o.copy(c));var h=e.tr.step(new wd(t.pos-1,l,t.pos,l,new nh(c,1,0),i.length,!0)),d=l+2*i.length;Ld(h.doc,d)&&h.join(d),n(h.scrollIntoView())}return!0}var f=Hd.findFrom(t,1),p=f&&f.$from.blockRange(f.$to),g=p&&kd(p);if(null!=g&&g>=t.depth)return n&&n(e.tr.lift(p,g).scrollIntoView()),!0;if(a&&gf(s,"start",!0)&&gf(o,"end")){for(var m=o,v=[];v.push(m),!m.isTextblock;)m=m.lastChild;for(var y=s,b=1;!y.isTextblock;y=y.firstChild)b++;if(m.canReplace(m.childCount,m.childCount,y.content)){if(n){for(var _=Gu.empty,w=v.length-1;w>=0;w--)_=Gu.from(v[w].copy(_));n(e.tr.step(new wd(t.pos-v.length,t.pos+s.nodeSize,t.pos+b,t.pos+s.nodeSize-b,new nh(_,v.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function wf(e,t){return function(n,i){var r=n.selection,o=r.$from,s=r.$to,a=o.blockRange(s),l=a&&Sd(a,e,t);return!!l&&(i&&i(n.tr.wrap(a,l).scrollIntoView()),!0)}}function Cf(e,t){return function(n,i){var r=n.selection,o=r.from,s=r.to,a=!1;return n.doc.nodesBetween(o,s,(function(i,r){if(a)return!1;if(i.isTextblock&&!i.hasMarkup(e,t))if(i.type==e)a=!0;else{var o=n.doc.resolve(r),s=o.index();a=o.parent.canReplaceWith(s,s+1,e)}})),!!a&&(i&&i(n.tr.setBlockType(o,s,e,t).scrollIntoView()),!0)}}function xf(e,t){return function(n,i){var r=n.selection,o=r.empty,s=r.$cursor,a=r.ranges;if(o&&!s||!function(e,t,n){for(var i=function(i){var r=t[i],o=r.$from,s=r.$to,a=0==o.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(o.pos,s.pos,(function(e){if(a)return!1;a=e.inlineContent&&e.type.allowsMarkType(n)})),a)return{v:!0}},r=0;r<t.length;r++){var o=i(r);if(o)return o.v}return!1}(n.doc,a,e))return!1;if(i)if(s)e.isInSet(n.storedMarks||s.marks())?i(n.tr.removeStoredMark(e)):i(n.tr.addStoredMark(e.create(t)));else{for(var l=!1,c=n.tr,u=0;!l&&u<a.length;u++){var h=a[u],d=h.$from,f=h.$to;l=n.doc.rangeHasMark(d.pos,f.pos,e)}for(var p=0;p<a.length;p++){var g=a[p],m=g.$from,v=g.$to;if(l)c.removeMark(m.pos,v.pos,e);else{var y=m.pos,b=v.pos,_=m.nodeAfter,w=v.nodeBefore,C=_&&_.isText?/^\s*/.exec(_.text)[0].length:0,x=w&&w.isText?/\s*$/.exec(w.text)[0].length:0;y+C<b&&(y+=C,b-=x),c.addMark(y,b,e.create(t))}}i(c.scrollIntoView())}return!0}}function kf(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return function(t,n,i){for(var r=0;r<e.length;r++)if(e[r](t,n,i))return!0;return!1}}ff.prototype.get=function(e){return e.config.pluginsByKey[this.key]},ff.prototype.getState=function(e){return e[this.key]};var Sf=kf(pf,(function(e,t,n){var i=e.selection.$cursor;if(!i||(n?!n.endOfTextblock("backward",e):i.parentOffset>0))return!1;var r=mf(i);if(!r){var o=i.blockRange(),s=o&&kd(o);return null!=s&&(t&&t(e.tr.lift(o,s).scrollIntoView()),!0)}var a=r.nodeBefore;if(!a.type.spec.isolating&&_f(e,r,t))return!0;if(0==i.parent.content.size&&(gf(a,"end")||Yd.isSelectable(a))){if(t){var l=e.tr.deleteRange(i.before(),i.after());l.setSelection(gf(a,"end")?Hd.findFrom(l.doc.resolve(l.mapping.map(r.pos,-1)),-1):Yd.create(l.doc,r.pos-a.nodeSize)),t(l.scrollIntoView())}return!0}return!(!a.isAtom||r.depth!=i.depth-1)&&(t&&t(e.tr.delete(r.pos-a.nodeSize,r.pos).scrollIntoView()),!0)}),(function(e,t,n){var i=e.selection,r=i.$head,o=r;if(!i.empty)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;o=mf(r)}var s=o&&o.nodeBefore;return!(!s||!Yd.isSelectable(s))&&(t&&t(e.tr.setSelection(Yd.create(e.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)})),Df=kf(pf,(function(e,t,n){var i=e.selection.$cursor;if(!i||(n?!n.endOfTextblock("forward",e):i.parentOffset<i.parent.content.size))return!1;var r=vf(i);if(!r)return!1;var o=r.nodeAfter;if(_f(e,r,t))return!0;if(0==i.parent.content.size&&(gf(o,"start")||Yd.isSelectable(o))){if(t){var s=e.tr.deleteRange(i.before(),i.after());s.setSelection(gf(o,"start")?Hd.findFrom(s.doc.resolve(s.mapping.map(r.pos)),1):Yd.create(s.doc,s.mapping.map(r.pos))),t(s.scrollIntoView())}return!0}return!(!o.isAtom||r.depth!=i.depth-1)&&(t&&t(e.tr.delete(r.pos,r.pos+o.nodeSize).scrollIntoView()),!0)}),(function(e,t,n){var i=e.selection,r=i.$head,o=r;if(!i.empty)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;o=vf(r)}var s=o&&o.nodeAfter;return!(!s||!Yd.isSelectable(s))&&(t&&t(e.tr.setSelection(Yd.create(e.doc,o.pos)).scrollIntoView()),!0)})),Ef={Enter:kf(yf,(function(e,t){var n=e.selection,i=n.$from,r=n.$to;if(n instanceof Xd||i.parent.inlineContent||r.parent.inlineContent)return!1;var o=bf(r.parent.contentMatchAt(r.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){var s=(!i.parentOffset&&r.index()<r.parent.childCount?i:r).pos,a=e.tr.insert(s,o.createAndFill());a.setSelection(qd.create(a.doc,s+1)),t(a.scrollIntoView())}return!0}),(function(e,t){var n=e.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var i=n.before();if(Ed(e.doc,i))return t&&t(e.tr.split(i).scrollIntoView()),!0}var r=n.blockRange(),o=r&&kd(r);return null!=o&&(t&&t(e.tr.lift(r,o).scrollIntoView()),!0)}),(function(e,t){var n=e.selection,i=n.$from,r=n.$to;if(e.selection instanceof Yd&&e.selection.node.isBlock)return!(!i.parentOffset||!Ed(e.doc,i.pos))&&(t&&t(e.tr.split(i.pos).scrollIntoView()),!0);if(!i.parent.isBlock)return!1;if(t){var o=r.parentOffset==r.parent.content.size,s=e.tr;(e.selection instanceof qd||e.selection instanceof Xd)&&s.deleteSelection();var a=0==i.depth?null:bf(i.node(-1).contentMatchAt(i.indexAfter(-1))),l=o&&a?[{type:a}]:null,c=Ed(s.doc,s.mapping.map(i.pos),1,l);if(l||c||!Ed(s.doc,s.mapping.map(i.pos),1,a&&[{type:a}])||(l=[{type:a}],c=!0),c&&(s.split(s.mapping.map(i.pos),1,l),!o&&!i.parentOffset&&i.parent.type!=a)){var u=s.mapping.map(i.before()),h=s.doc.resolve(u);i.node(-1).canReplaceWith(h.index(),h.index()+1,a)&&s.setNodeMarkup(s.mapping.map(i.before()),a)}t(s.scrollIntoView())}return!0})),"Mod-Enter":function(e,t){var n=e.selection,i=n.$head,r=n.$anchor;if(!i.parent.type.spec.code||!i.sameParent(r))return!1;var o=i.node(-1),s=i.indexAfter(-1),a=bf(o.contentMatchAt(s));if(!o.canReplaceWith(s,s,a))return!1;if(t){var l=i.after(),c=e.tr.replaceWith(l,l,a.createAndFill());c.setSelection(Hd.near(c.doc.resolve(l),1)),t(c.scrollIntoView())}return!0},Backspace:Sf,"Mod-Backspace":Sf,"Shift-Backspace":Sf,Delete:Df,"Mod-Delete":Df,"Mod-a":function(e,t){return t&&t(e.tr.setSelection(new Xd(e.doc))),!0}},Lf={"Ctrl-h":Ef.Backspace,"Alt-Backspace":Ef["Mod-Backspace"],"Ctrl-d":Ef.Delete,"Ctrl-Alt-Backspace":Ef["Mod-Delete"],"Alt-Delete":Ef["Mod-Delete"],"Alt-d":Ef["Mod-Delete"]};for(var Tf in Ef)Lf[Tf]=Ef[Tf];var Nf=("undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform())?Lf:Ef,Mf=function(e,t){var n;this.match=e,this.handler="string"==typeof t?(n=t,function(e,t,i,r){var o=n;if(t[1]){var s=t[0].lastIndexOf(t[1]);o+=t[0].slice(s+t[1].length);var a=(i+=s)-r;a>0&&(o=t[0].slice(s-a,s)+o,i=r)}return e.tr.insertText(o,i,r)}):t};function Af(e){var t=e.rules,n=new uf({state:{init:function(){return null},apply:function(e,t){var n=e.getMeta(this);return n||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput:function(e,i,r,o){return If(e,i,r,o,t,n)},handleDOMEvents:{compositionend:function(e){setTimeout((function(){var i=e.state.selection.$cursor;i&&If(e,i.pos,i.pos,"",t,n)}))}}},isInputRules:!0});return n}function If(e,t,n,i,r,o){if(e.composing)return!1;var s=e.state,a=s.doc.resolve(t);if(a.parent.type.spec.code)return!1;for(var l=a.parent.textBetween(Math.max(0,a.parentOffset-500),a.parentOffset,null,"")+i,c=0;c<r.length;c++){var u=r[c].match.exec(l),h=u&&r[c].handler(s,u,t-(u[0].length-i.length),n);if(h)return e.dispatch(h.setMeta(o,{transform:h,from:t,to:n,text:i})),!0}return!1}function Of(e,t,n,i){return new Mf(e,(function(e,r,o,s){var a=n instanceof Function?n(r):n,l=e.tr.delete(o,s),c=l.doc.resolve(o).blockRange(),u=c&&Sd(c,t,a);if(!u)return null;l.wrap(c,u);var h=l.doc.resolve(o-1).nodeBefore;return h&&h.type==t&&Ld(l.doc,o-1)&&(!i||i(r,h))&&l.join(o-1),l}))}function Ff(e,t,n){return new Mf(e,(function(e,i,r,o){var s=e.doc.resolve(r),a=n instanceof Function?n(i):n;return s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t)?e.tr.delete(r,o).setBlockType(r,r,t,a):null}))}new Mf(/--$/,""),new Mf(/\.\.\.$/,""),new Mf(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,""),new Mf(/"$/,""),new Mf(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,""),new Mf(/'$/,"");for(var Rf={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},Pf={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},Bf="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),jf="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),zf="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),Vf="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),Wf="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Hf=Bf&&(Vf||+Bf[1]<57)||zf&&Vf,Uf=0;Uf<10;Uf++)Rf[48+Uf]=Rf[96+Uf]=String(Uf);for(Uf=1;Uf<=24;Uf++)Rf[Uf+111]="F"+Uf;for(Uf=65;Uf<=90;Uf++)Rf[Uf]=String.fromCharCode(Uf+32),Pf[Uf]=String.fromCharCode(Uf);for(var $f in Rf)Pf.hasOwnProperty($f)||(Pf[$f]=Rf[$f]);var qf="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function Kf(e){var t,n,i,r,o=e.split(/-(?!$)/),s=o[o.length-1];"Space"==s&&(s=" ");for(var a=0;a<o.length-1;a++){var l=o[a];if(/^(cmd|meta|m)$/i.test(l))r=!0;else if(/^a(lt)?$/i.test(l))t=!0;else if(/^(c|ctrl|control)$/i.test(l))n=!0;else if(/^s(hift)?$/i.test(l))i=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);qf?r=!0:n=!0}}return t&&(s="Alt-"+s),n&&(s="Ctrl-"+s),r&&(s="Meta-"+s),i&&(s="Shift-"+s),s}function Yf(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}function Gf(e){return new uf({props:{handleKeyDown:Xf(e)}})}function Xf(e){var t=function(e){var t=Object.create(null);for(var n in e)t[Kf(n)]=e[n];return t}(e);return function(e,n){var i,r=function(e){var t=!(Hf&&(e.ctrlKey||e.altKey||e.metaKey)||(jf||Wf)&&e.shiftKey&&e.key&&1==e.key.length)&&e.key||(e.shiftKey?Pf:Rf)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(n),o=1==r.length&&" "!=r,s=t[Yf(r,n,!o)];if(s&&s(e.state,e.dispatch,e))return!0;if(o&&(n.shiftKey||n.altKey||n.metaKey||r.charCodeAt(0)>127)&&(i=Rf[n.keyCode])&&i!=r){var a=t[Yf(i,n,!0)];if(a&&a(e.state,e.dispatch,e))return!0}else if(o&&n.shiftKey){var l=t[Yf(r,n,!0)];if(l&&l(e.state,e.dispatch,e))return!0}return!1}}var Zf={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var Jf=/Edge\/(\d+)/.exec(navigator.userAgent),Qf=/MSIE \d/.test(navigator.userAgent),ep=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),tp=Zf.ie=!!(Qf||ep||Jf);Zf.ie_version=Qf?document.documentMode||6:ep?+ep[1]:Jf?+Jf[1]:null,Zf.gecko=!tp&&/gecko\/(\d+)/i.test(navigator.userAgent),Zf.gecko_version=Zf.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var np=!tp&&/Chrome\/(\d+)/.exec(navigator.userAgent);Zf.chrome=!!np,Zf.chrome_version=np&&+np[1],Zf.safari=!tp&&/Apple Computer/.test(navigator.vendor),Zf.ios=Zf.safari&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),Zf.mac=Zf.ios||/Mac/.test(navigator.platform),Zf.android=/Android \d/.test(navigator.userAgent),Zf.webkit="webkitFontSmoothing"in document.documentElement.style,Zf.webkit_version=Zf.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var ip=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},rp=function(e){var t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t},op=null,sp=function(e,t,n){var i=op||(op=document.createRange());return i.setEnd(e,null==n?e.nodeValue.length:n),i.setStart(e,t||0),i},ap=function(e,t,n,i){return n&&(cp(e,t,n,i,-1)||cp(e,t,n,i,1))},lp=/^(img|br|input|textarea|hr)$/i;function cp(e,t,n,i,r){for(;;){if(e==n&&t==i)return!0;if(t==(r<0?0:up(e))){var o=e.parentNode;if(1!=o.nodeType||hp(e)||lp.test(e.nodeName)||"false"==e.contentEditable)return!1;t=ip(e)+(r<0?0:1),e=o}else{if(1!=e.nodeType)return!1;if("false"==(e=e.childNodes[t+(r<0?-1:0)]).contentEditable)return!1;t=r<0?up(e):0}}}function up(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function hp(e){for(var t,n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}var dp=function(e){var t=e.isCollapsed;return t&&Zf.chrome&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(t=!1),t};function fp(e,t){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function pp(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function gp(e,t){return"number"==typeof e?e:e[t]}function mp(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,i=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*i}}function vp(e,t,n){for(var i=e.someProp("scrollThreshold")||0,r=e.someProp("scrollMargin")||5,o=e.dom.ownerDocument,s=n||e.dom;s;s=rp(s))if(1==s.nodeType){var a=s==o.body||1!=s.nodeType,l=a?pp(o):mp(s),c=0,u=0;if(t.top<l.top+gp(i,"top")?u=-(l.top-t.top+gp(r,"top")):t.bottom>l.bottom-gp(i,"bottom")&&(u=t.bottom-l.bottom+gp(r,"bottom")),t.left<l.left+gp(i,"left")?c=-(l.left-t.left+gp(r,"left")):t.right>l.right-gp(i,"right")&&(c=t.right-l.right+gp(r,"right")),c||u)if(a)o.defaultView.scrollBy(c,u);else{var h=s.scrollLeft,d=s.scrollTop;u&&(s.scrollTop+=u),c&&(s.scrollLeft+=c);var f=s.scrollLeft-h,p=s.scrollTop-d;t={left:t.left-f,top:t.top-p,right:t.right-f,bottom:t.bottom-p}}if(a)break}}function yp(e){for(var t=[],n=e.ownerDocument;e&&(t.push({dom:e,top:e.scrollTop,left:e.scrollLeft}),e!=n);e=rp(e));return t}function bp(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=i.dom,o=i.top,s=i.left;r.scrollTop!=o+t&&(r.scrollTop=o+t),r.scrollLeft!=s&&(r.scrollLeft=s)}}var _p=null;function wp(e,t){for(var n,i,r=2e8,o=0,s=t.top,a=t.top,l=e.firstChild,c=0;l;l=l.nextSibling,c++){var u=void 0;if(1==l.nodeType)u=l.getClientRects();else{if(3!=l.nodeType)continue;u=sp(l).getClientRects()}for(var h=0;h<u.length;h++){var d=u[h];if(d.top<=s&&d.bottom>=a){s=Math.max(d.bottom,s),a=Math.min(d.top,a);var f=d.left>t.left?d.left-t.left:d.right<t.left?t.left-d.right:0;if(f<r){n=l,r=f,i=f&&3==n.nodeType?{left:d.right<t.left?d.right:d.left,top:t.top}:t,1==l.nodeType&&f&&(o=c+(t.left>=(d.left+d.right)/2?1:0));continue}}!n&&(t.left>=d.right&&t.top>=d.top||t.left>=d.left&&t.top>=d.bottom)&&(o=c+1)}}return n&&3==n.nodeType?function(e,t){for(var n=e.nodeValue.length,i=document.createRange(),r=0;r<n;r++){i.setEnd(e,r+1),i.setStart(e,r);var o=Sp(i,1);if(o.top!=o.bottom&&Cp(t,o))return{node:e,offset:r+(t.left>=(o.left+o.right)/2?1:0)}}return{node:e,offset:0}}(n,i):!n||r&&1==n.nodeType?{node:e,offset:o}:wp(n,i)}function Cp(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function xp(e,t,n){var i=e.childNodes.length;if(i&&n.top<n.bottom)for(var r=Math.max(0,Math.min(i-1,Math.floor(i*(t.top-n.top)/(n.bottom-n.top))-2)),o=r;;){var s=e.childNodes[o];if(1==s.nodeType)for(var a=s.getClientRects(),l=0;l<a.length;l++){var c=a[l];if(Cp(t,c))return xp(s,t,c)}if((o=(o+1)%i)==r)break}return e}function kp(e,t){var n,i,r,o,s=e.dom.ownerDocument;if(s.caretPositionFromPoint)try{var a=s.caretPositionFromPoint(t.left,t.top);a&&(r=(n=a).offsetNode,o=n.offset)}catch(m){}if(!r&&s.caretRangeFromPoint){var l=s.caretRangeFromPoint(t.left,t.top);l&&(r=(i=l).startContainer,o=i.startOffset)}var c,u=(e.root.elementFromPoint?e.root:s).elementFromPoint(t.left,t.top+1);if(!u||!e.dom.contains(1!=u.nodeType?u.parentNode:u)){var h=e.dom.getBoundingClientRect();if(!Cp(t,h))return null;if(!(u=xp(e.dom,t,h)))return null}if(Zf.safari)for(var d=u;r&&d;d=rp(d))d.draggable&&(r=o=null);if(u=function(e,t){var n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(u,t),r){if(Zf.gecko&&1==r.nodeType&&(o=Math.min(o,r.childNodes.length))<r.childNodes.length){var f,p=r.childNodes[o];"IMG"==p.nodeName&&(f=p.getBoundingClientRect()).right<=t.left&&f.bottom>t.top&&o++}r==e.dom&&o==r.childNodes.length-1&&1==r.lastChild.nodeType&&t.top>r.lastChild.getBoundingClientRect().bottom?c=e.state.doc.content.size:0!=o&&1==r.nodeType&&"BR"==r.childNodes[o-1].nodeName||(c=function(e,t,n,i){for(var r=-1,o=t;o!=e.dom;){var s=e.docView.nearestDesc(o,!0);if(!s)return null;if(s.node.isBlock&&s.parent){var a=s.dom.getBoundingClientRect();if(a.left>i.left||a.top>i.top)r=s.posBefore;else{if(!(a.right<i.left||a.bottom<i.top))break;r=s.posAfter}}o=s.dom.parentNode}return r>-1?r:e.docView.posFromDOM(t,n)}(e,r,o,t))}null==c&&(c=function(e,t,n){var i=wp(t,n),r=i.node,o=i.offset,s=-1;if(1==r.nodeType&&!r.firstChild){var a=r.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return e.docView.posFromDOM(r,o,s)}(e,u,t));var g=e.docView.nearestDesc(u,!0);return{pos:c,inside:g?g.posAtStart-g.border:-1}}function Sp(e,t){var n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}var Dp=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Ep(e,t,n){var i=e.docView.domFromPos(t,n<0?-1:1),r=i.node,o=i.offset,s=Zf.webkit||Zf.gecko;if(3==r.nodeType){if(!s||!Dp.test(r.nodeValue)&&(n<0?o:o!=r.nodeValue.length)){var a=o,l=o,c=n<0?1:-1;return n<0&&!o?(l++,c=-1):n>=0&&o==r.nodeValue.length?(a--,c=1):n<0?a--:l++,Lp(Sp(sp(r,a,l),c),c<0)}var u=Sp(sp(r,o,o),n);if(Zf.gecko&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){var h=Sp(sp(r,o-1,o-1),-1);if(h.top==u.top){var d=Sp(sp(r,o,o+1),-1);if(d.top!=u.top)return Lp(d,d.left<h.left)}}return u}if(!e.state.doc.resolve(t).parent.inlineContent){if(o&&(n<0||o==up(r))){var f=r.childNodes[o-1];if(1==f.nodeType)return Tp(f.getBoundingClientRect(),!1)}if(o<up(r)){var p=r.childNodes[o];if(1==p.nodeType)return Tp(p.getBoundingClientRect(),!0)}return Tp(r.getBoundingClientRect(),n>=0)}if(o&&(n<0||o==up(r))){var g=r.childNodes[o-1],m=3==g.nodeType?sp(g,up(g)-(s?0:1)):1!=g.nodeType||"BR"==g.nodeName&&g.nextSibling?null:g;if(m)return Lp(Sp(m,1),!1)}if(o<up(r)){for(var v=r.childNodes[o];v.pmViewDesc&&v.pmViewDesc.ignoreForCoords;)v=v.nextSibling;var y=v?3==v.nodeType?sp(v,0,s?0:1):1==v.nodeType?v:null:null;if(y)return Lp(Sp(y,-1),!0)}return Lp(Sp(3==r.nodeType?sp(r):r,-n),n>=0)}function Lp(e,t){if(0==e.width)return e;var n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function Tp(e,t){if(0==e.height)return e;var n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function Np(e,t,n){var i=e.state,r=e.root.activeElement;i!=t&&e.updateState(t),r!=e.dom&&e.focus();try{return n()}finally{i!=t&&e.updateState(i),r!=e.dom&&r&&r.focus()}}var Mp=/[\u0590-\u08ac]/;var Ap=null,Ip=null,Op=!1;function Fp(e,t,n){return Ap==t&&Ip==n?Op:(Ap=t,Ip=n,Op="up"==n||"down"==n?function(e,t,n){var i=t.selection,r="up"==n?i.$from:i.$to;return Np(e,t,(function(){for(var t=e.docView.domFromPos(r.pos,"up"==n?-1:1).node;;){var i=e.docView.nearestDesc(t,!0);if(!i)break;if(i.node.isBlock){t=i.dom;break}t=i.dom.parentNode}for(var o=Ep(e,r.pos,1),s=t.firstChild;s;s=s.nextSibling){var a=void 0;if(1==s.nodeType)a=s.getClientRects();else{if(3!=s.nodeType)continue;a=sp(s,0,s.nodeValue.length).getClientRects()}for(var l=0;l<a.length;l++){var c=a[l];if(c.bottom>c.top+1&&("up"==n?o.top-c.top>2*(c.bottom-o.top):c.bottom-o.bottom>2*(o.bottom-c.top)))return!1}}return!0}))}(e,t,n):function(e,t,n){var i=t.selection.$head;if(!i.parent.isTextblock)return!1;var r=i.parentOffset,o=!r,s=r==i.parent.content.size,a=e.root.getSelection();return Mp.test(i.parent.textContent)&&a.modify?Np(e,t,(function(){var t=a.getRangeAt(0),r=a.focusNode,o=a.focusOffset,s=a.caretBidiLevel;a.modify("move",n,"character");var l=!(i.depth?e.docView.domAfterPos(i.before()):e.dom).contains(1==a.focusNode.nodeType?a.focusNode:a.focusNode.parentNode)||r==a.focusNode&&o==a.focusOffset;return a.removeAllRanges(),a.addRange(t),null!=s&&(a.caretBidiLevel=s),l})):"left"==n||"backward"==n?o:s}(e,t,n))}var Rp=function(e,t,n,i){this.parent=e,this.children=t,this.dom=n,n.pmViewDesc=this,this.contentDOM=i,this.dirty=0},Pp={size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0},domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};Rp.prototype.matchesWidget=function(){return!1},Rp.prototype.matchesMark=function(){return!1},Rp.prototype.matchesNode=function(){return!1},Rp.prototype.matchesHack=function(e){return!1},Rp.prototype.parseRule=function(){return null},Rp.prototype.stopEvent=function(){return!1},Pp.size.get=function(){for(var e=0,t=0;t<this.children.length;t++)e+=this.children[t].size;return e},Pp.border.get=function(){return 0},Rp.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var e=0;e<this.children.length;e++)this.children[e].destroy()},Rp.prototype.posBeforeChild=function(e){for(var t=0,n=this.posAtStart;t<this.children.length;t++){var i=this.children[t];if(i==e)return n;n+=i.size}},Pp.posBefore.get=function(){return this.parent.posBeforeChild(this)},Pp.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},Pp.posAfter.get=function(){return this.posBefore+this.size},Pp.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},Rp.prototype.localPosFromDOM=function(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){var i,r;if(e==this.contentDOM)i=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&(!(r=i.pmViewDesc)||r.parent!=this);)i=i.previousSibling;return i?this.posBeforeChild(r)+r.size:this.posAtStart}var o,s;if(e==this.contentDOM)o=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&(!(s=o.pmViewDesc)||s.parent!=this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}var a;if(e==this.dom&&this.contentDOM)a=t>ip(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(var l=e;;l=l.parentNode){if(l==this.dom){a=!1;break}if(l.parentNode.firstChild!=l)break}if(null==a&&t==e.childNodes.length)for(var c=e;;c=c.parentNode){if(c==this.dom){a=!0;break}if(c.parentNode.lastChild!=c)break}}return(null==a?n>0:a)?this.posAtEnd:this.posAtStart},Rp.prototype.nearestDesc=function(e,t){for(var n=!0,i=e;i;i=i.parentNode){var r=this.getDesc(i);if(r&&(!t||r.node)){if(!n||!r.nodeDOM||(1==r.nodeDOM.nodeType?r.nodeDOM.contains(1==e.nodeType?e:e.parentNode):r.nodeDOM==e))return r;n=!1}}},Rp.prototype.getDesc=function(e){for(var t=e.pmViewDesc,n=t;n;n=n.parent)if(n==this)return t},Rp.prototype.posFromDOM=function(e,t,n){for(var i=e;i;i=i.parentNode){var r=this.getDesc(i);if(r)return r.localPosFromDOM(e,t,n)}return-1},Rp.prototype.descAt=function(e){for(var t=0,n=0;t<this.children.length;t++){var i=this.children[t],r=n+i.size;if(n==e&&r!=n){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<r)return i.descAt(e-n-i.border);n=r}},Rp.prototype.domFromPos=function(e,t){if(!this.contentDOM)return{node:this.dom,offset:0};for(var n=0,i=0,r=0;n<this.children.length;n++){var o=this.children[n],s=r+o.size;if(s>e||o instanceof $p){i=e-r;break}r=s}if(i)return this.children[n].domFromPos(i-this.children[n].border,t);for(var a=void 0;n&&!(a=this.children[n-1]).size&&a instanceof jp&&a.widget.type.side>=0;n--);if(t<=0){for(var l,c=!0;(l=n?this.children[n-1]:null)&&l.dom.parentNode!=this.contentDOM;n--,c=!1);return l&&t&&c&&!l.border&&!l.domAtom?l.domFromPos(l.size,t):{node:this.contentDOM,offset:l?ip(l.dom)+1:0}}for(var u,h=!0;(u=n<this.children.length?this.children[n]:null)&&u.dom.parentNode!=this.contentDOM;n++,h=!1);return u&&h&&!u.border&&!u.domAtom?u.domFromPos(0,t):{node:this.contentDOM,offset:u?ip(u.dom):this.contentDOM.childNodes.length}},Rp.prototype.parseRange=function(e,t,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var i=-1,r=-1,o=n,s=0;;s++){var a=this.children[s],l=o+a.size;if(-1==i&&e<=l){var c=o+a.border;if(e>=c&&t<=l-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(e,t,c);e=o;for(var u=s;u>0;u--){var h=this.children[u-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){i=ip(h.dom)+1;break}e-=h.size}-1==i&&(i=0)}if(i>-1&&(l>t||s==this.children.length-1)){t=l;for(var d=s+1;d<this.children.length;d++){var f=this.children[d];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){r=ip(f.dom);break}t+=f.size}-1==r&&(r=this.contentDOM.childNodes.length);break}o=l}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:r}},Rp.prototype.emptyChildAt=function(e){if(this.border||!this.contentDOM||!this.children.length)return!1;var t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)},Rp.prototype.domAfterPos=function(e){var t=this.domFromPos(e,0),n=t.node,i=t.offset;if(1!=n.nodeType||i==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[i]},Rp.prototype.setSelection=function(e,t,n,i){for(var r=Math.min(e,t),o=Math.max(e,t),s=0,a=0;s<this.children.length;s++){var l=this.children[s],c=a+l.size;if(r>a&&o<c)return l.setSelection(e-a-l.border,t-a-l.border,n,i);a=c}var u=this.domFromPos(e,e?-1:1),h=t==e?u:this.domFromPos(t,t?-1:1),d=n.getSelection(),f=!1;if((Zf.gecko||Zf.safari)&&e==t){var p=u.node,g=u.offset;if(3==p.nodeType){if((f=g&&"\n"==p.nodeValue[g-1])&&g==p.nodeValue.length)for(var m=p,v=void 0;m;m=m.parentNode){if(v=m.nextSibling){"BR"==v.nodeName&&(u=h={node:v.parentNode,offset:ip(v)+1});break}var y=m.pmViewDesc;if(y&&y.node&&y.node.isBlock)break}}else{var b=p.childNodes[g-1];f=b&&("BR"==b.nodeName||"false"==b.contentEditable)}}if(Zf.gecko&&d.focusNode&&d.focusNode!=h.node&&1==d.focusNode.nodeType){var _=d.focusNode.childNodes[d.focusOffset];_&&"false"==_.contentEditable&&(i=!0)}if(i||f&&Zf.safari||!ap(u.node,u.offset,d.anchorNode,d.anchorOffset)||!ap(h.node,h.offset,d.focusNode,d.focusOffset)){var w=!1;if((d.extend||e==t)&&!f){d.collapse(u.node,u.offset);try{e!=t&&d.extend(h.node,h.offset),w=!0}catch(k){if(!(k instanceof DOMException))throw k}}if(!w){if(e>t){var C=u;u=h,h=C}var x=document.createRange();x.setEnd(h.node,h.offset),x.setStart(u.node,u.offset),d.removeAllRanges(),d.addRange(x)}}},Rp.prototype.ignoreMutation=function(e){return!this.contentDOM&&"selection"!=e.type},Pp.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},Rp.prototype.markDirty=function(e,t){for(var n=0,i=0;i<this.children.length;i++){var r=this.children[i],o=n+r.size;if(n==o?e<=o&&t>=n:e<o&&t>n){var s=n+r.border,a=o-r.border;if(e>=s&&t<=a)return this.dirty=e==n||t==o?2:1,void(e!=s||t!=a||!r.contentLost&&r.dom.parentNode==this.contentDOM?r.markDirty(e-s,t-s):r.dirty=3);r.dirty=r.dom==r.contentDOM&&r.dom.parentNode==this.contentDOM?2:3}n=o}this.dirty=2},Rp.prototype.markParentsDirty=function(){for(var e=1,t=this.parent;t;t=t.parent,e++){var n=1==e?2:1;t.dirty<n&&(t.dirty=n)}},Pp.domAtom.get=function(){return!1},Pp.ignoreForCoords.get=function(){return!1},Object.defineProperties(Rp.prototype,Pp);var Bp=[],jp=function(e){function t(t,n,i,r){var o,s=n.type.toDOM;if("function"==typeof s&&(s=s(i,(function(){return o?o.parent?o.parent.posBeforeChild(o):void 0:r}))),!n.type.spec.raw){if(1!=s.nodeType){var a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable=!1,s.classList.add("ProseMirror-widget")}e.call(this,t,Bp,s,null),this.widget=n,o=this}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={domAtom:{configurable:!0}};return t.prototype.matchesWidget=function(e){return 0==this.dirty&&e.type.eq(this.widget.type)},t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.stopEvent=function(e){var t=this.widget.spec.stopEvent;return!!t&&t(e)},t.prototype.ignoreMutation=function(e){return"selection"!=e.type||this.widget.spec.ignoreSelection},t.prototype.destroy=function(){this.widget.type.destroy(this.dom),e.prototype.destroy.call(this)},n.domAtom.get=function(){return!0},Object.defineProperties(t.prototype,n),t}(Rp),zp=function(e){function t(t,n,i,r){e.call(this,t,Bp,n,null),this.textDOM=i,this.text=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},t.prototype.localPosFromDOM=function(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t},t.prototype.domFromPos=function(e){return{node:this.textDOM,offset:e}},t.prototype.ignoreMutation=function(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue},Object.defineProperties(t.prototype,n),t}(Rp),Vp=function(e){function t(t,n,i,r){e.call(this,t,[],i,r),this.mark=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.create=function(e,n,i,r){var o=r.nodeViews[n.type.name],s=o&&o(n,r,i);return s&&s.dom||(s=od.renderSpec(document,n.type.spec.toDOM(n,i))),new t(e,n,s.dom,s.contentDOM||s.dom)},t.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},t.prototype.matchesMark=function(e){return 3!=this.dirty&&this.mark.eq(e)},t.prototype.markDirty=function(t,n){if(e.prototype.markDirty.call(this,t,n),0!=this.dirty){for(var i=this.parent;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=0}},t.prototype.slice=function(e,n,i){var r=t.create(this.parent,this.mark,!0,i),o=this.children,s=this.size;n<s&&(o=rg(o,n,s,i)),e>0&&(o=rg(o,0,e,i));for(var a=0;a<o.length;a++)o[a].parent=r;return r.children=o,r},t}(Rp),Wp=function(e){function t(t,n,i,r,o,s,a,l,c){e.call(this,t,n.isLeaf?Bp:[],o,s),this.nodeDOM=a,this.node=n,this.outerDeco=i,this.innerDeco=r,s&&this.updateChildren(l,c)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0},border:{configurable:!0},domAtom:{configurable:!0}};return t.create=function(e,n,i,r,o,s){var a,l,c=o.nodeViews[n.type.name],u=c&&c(n,o,(function(){return l?l.parent?l.parent.posBeforeChild(l):void 0:s}),i,r),h=u&&u.dom,d=u&&u.contentDOM;if(n.isText)if(h){if(3!=h.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else h=document.createTextNode(n.text);else h||(h=(a=od.renderSpec(document,n.type.spec.toDOM(n))).dom,d=a.contentDOM);d||n.isText||"BR"==h.nodeName||(h.hasAttribute("contenteditable")||(h.contentEditable=!1),n.type.spec.draggable&&(h.draggable=!0));var f=h;return h=Qp(h,i,n),u?l=new qp(e,n,i,r,h,d,f,u,o,s+1):n.isText?new Up(e,n,i,r,h,f,o):new t(e,n,i,r,h,d,f,o,s+1)},t.prototype.parseRule=function(){var e=this;if(this.node.type.spec.reparseInView)return null;var t={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(t.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?t.contentElement=this.contentDOM:t.getContent=function(){return e.contentDOM?Gu.empty:e.node.content},t},t.prototype.matchesNode=function(e,t,n){return 0==this.dirty&&e.eq(this.node)&&eg(t,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},t.prototype.updateChildren=function(e,t){var n=this,i=this.node.inlineContent,r=t,o=e.composing&&this.localCompositionInfo(e,t),s=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new ng(this,s&&s.node);!function(e,t,n,i){var r=t.locals(e),o=0;if(0==r.length){for(var s=0;s<e.childCount;s++){var a=e.child(s);i(a,r,t.forChild(o,a),s),o+=a.nodeSize}return}for(var l=0,c=[],u=null,h=0;;){if(l<r.length&&r[l].to==o){for(var d=r[l++],f=void 0;l<r.length&&r[l].to==o;)(f||(f=[d])).push(r[l++]);if(f){f.sort(ig);for(var p=0;p<f.length;p++)n(f[p],h,!!u)}else n(d,h,!!u)}var g=void 0,m=void 0;if(u)m=-1,g=u,u=null;else{if(!(h<e.childCount))break;m=h,g=e.child(h++)}for(var v=0;v<c.length;v++)c[v].to<=o&&c.splice(v--,1);for(;l<r.length&&r[l].from<=o&&r[l].to>o;)c.push(r[l++]);var y=o+g.nodeSize;if(g.isText){var b=y;l<r.length&&r[l].from<b&&(b=r[l].from);for(var _=0;_<c.length;_++)c[_].to<b&&(b=c[_].to);b<y&&(u=g.cut(b-o),g=g.cut(0,b-o),y=b,m=-1)}i(g,c.length?g.isInline&&!g.isLeaf?c.filter((function(e){return!e.inline})):c.slice():Bp,t.forChild(o,g),m),o=y}}(this.node,this.innerDeco,(function(t,o,s){t.spec.marks?l.syncToMarks(t.spec.marks,i,e):t.type.side>=0&&!s&&l.syncToMarks(o==n.node.childCount?eh.none:n.node.child(o).marks,i,e),l.placeWidget(t,e,r)}),(function(t,n,s,c){var u;l.syncToMarks(t.marks,i,e),l.findNodeMatch(t,n,s,c)||a&&e.state.selection.from>r&&e.state.selection.to<r+t.nodeSize&&(u=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(t,n,s,u,e)||l.updateNextNode(t,n,s,e,c)||l.addNode(t,n,s,e,r),r+=t.nodeSize})),l.syncToMarks(Bp,i,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||2==this.dirty)&&(s&&this.protectLocalComposition(e,s),Kp(this.contentDOM,this.children,e),Zf.ios&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){var t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))},t.prototype.localCompositionInfo=function(e,t){var n=e.state.selection,i=n.from,r=n.to;if(!(!(e.state.selection instanceof qd)||i<t||r>t+this.node.content.size)){var o=e.root.getSelection(),s=function(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];t=up(e=e.childNodes[t-1])}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}(o.focusNode,o.focusOffset);if(s&&this.dom.contains(s.parentNode)){if(this.node.inlineContent){var a=s.nodeValue,l=function(e,t,n,i){for(var r=0,o=0;r<e.childCount&&o<=i;){var s=e.child(r++),a=o;if(o+=s.nodeSize,s.isText){for(var l=s.text;r<e.childCount;){var c=e.child(r++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=n){var u=l.lastIndexOf(t,i-a);if(u>=0&&u+t.length+a>=n)return a+u}}}return-1}(this.node.content,a,i-t,r-t);return l<0?null:{node:s,pos:l,text:a}}return{node:s,pos:-1}}}},t.prototype.protectLocalComposition=function(e,t){var n=t.node,i=t.pos,r=t.text;if(!this.getDesc(n)){for(var o=n;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=null)}var s=new zp(this,o,n,r);e.compositionNodes.push(s),this.children=rg(this.children,i,i+r.length,e,s)}},t.prototype.update=function(e,t,n,i){return!(3==this.dirty||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,i),!0)},t.prototype.updateInner=function(e,t,n,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=0},t.prototype.updateOuterDeco=function(e){if(!eg(e,this.outerDeco)){var t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=Zp(this.dom,this.nodeDOM,Xp(this.outerDeco,this.node,t),Xp(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=e}},t.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},t.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")},n.domAtom.get=function(){return this.node.isAtom},Object.defineProperties(t.prototype,n),t}(Rp);function Hp(e,t,n,i,r){return Qp(i,t,e),new Wp(null,e,t,n,i,i,i,r,0)}var Up=function(e){function t(t,n,i,r,o,s,a){e.call(this,t,n,i,r,o,null,s,a)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={domAtom:{configurable:!0}};return t.prototype.parseRule=function(){for(var e=this.nodeDOM.parentNode;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}},t.prototype.update=function(e,t,n,i){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=0,!0)},t.prototype.inParent=function(){for(var e=this.parent.contentDOM,t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1},t.prototype.domFromPos=function(e){return{node:this.nodeDOM,offset:e}},t.prototype.localPosFromDOM=function(t,n,i){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):e.prototype.localPosFromDOM.call(this,t,n,i)},t.prototype.ignoreMutation=function(e){return"characterData"!=e.type&&"selection"!=e.type},t.prototype.slice=function(e,n,i){var r=this.node.cut(e,n),o=document.createTextNode(r.text);return new t(this.parent,r,this.outerDeco,this.innerDeco,o,o,i)},t.prototype.markDirty=function(t,n){e.prototype.markDirty.call(this,t,n),this.dom==this.nodeDOM||0!=t&&n!=this.nodeDOM.nodeValue.length||(this.dirty=3)},n.domAtom.get=function(){return!1},Object.defineProperties(t.prototype,n),t}(Wp),$p=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};return t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.matchesHack=function(e){return 0==this.dirty&&this.dom.nodeName==e},n.domAtom.get=function(){return!0},n.ignoreForCoords.get=function(){return"IMG"==this.dom.nodeName},Object.defineProperties(t.prototype,n),t}(Rp),qp=function(e){function t(t,n,i,r,o,s,a,l,c,u){e.call(this,t,n,i,r,o,s,a,c,u),this.spec=l}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.update=function(t,n,i,r){if(3==this.dirty)return!1;if(this.spec.update){var o=this.spec.update(t,n,i);return o&&this.updateInner(t,n,i,r),o}return!(!this.contentDOM&&!t.isLeaf)&&e.prototype.update.call(this,t,n,i,r)},t.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():e.prototype.selectNode.call(this)},t.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():e.prototype.deselectNode.call(this)},t.prototype.setSelection=function(t,n,i,r){this.spec.setSelection?this.spec.setSelection(t,n,i):e.prototype.setSelection.call(this,t,n,i,r)},t.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),e.prototype.destroy.call(this)},t.prototype.stopEvent=function(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)},t.prototype.ignoreMutation=function(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):e.prototype.ignoreMutation.call(this,t)},t}(Wp);function Kp(e,t,n){for(var i=e.firstChild,r=!1,o=0;o<t.length;o++){var s=t[o],a=s.dom;if(a.parentNode==e){for(;a!=i;)i=tg(i),r=!0;i=i.nextSibling}else r=!0,e.insertBefore(a,i);if(s instanceof Vp){var l=i?i.previousSibling:e.lastChild;Kp(s.contentDOM,s.children,n),i=l?l.nextSibling:e.firstChild}}for(;i;)i=tg(i),r=!0;r&&n.trackWrites==e&&(n.trackWrites=null)}function Yp(e){e&&(this.nodeName=e)}Yp.prototype=Object.create(null);var Gp=[new Yp];function Xp(e,t,n){if(0==e.length)return Gp;for(var i=n?Gp[0]:new Yp,r=[i],o=0;o<e.length;o++){var s=e[o].type.attrs;if(s)for(var a in s.nodeName&&r.push(i=new Yp(s.nodeName)),s){var l=s[a];null!=l&&(n&&1==r.length&&r.push(i=new Yp(t.isInline?"span":"div")),"class"==a?i.class=(i.class?i.class+" ":"")+l:"style"==a?i.style=(i.style?i.style+";":"")+l:"nodeName"!=a&&(i[a]=l))}}return r}function Zp(e,t,n,i){if(n==Gp&&i==Gp)return t;for(var r=t,o=0;o<i.length;o++){var s=i[o],a=n[o];if(o){var l=void 0;a&&a.nodeName==s.nodeName&&r!=e&&(l=r.parentNode)&&l.tagName.toLowerCase()==s.nodeName||((l=document.createElement(s.nodeName)).pmIsDeco=!0,l.appendChild(r),a=Gp[0]),r=l}Jp(r,a||Gp[0],s)}return r}function Jp(e,t,n){for(var i in t)"class"==i||"style"==i||"nodeName"==i||i in n||e.removeAttribute(i);for(var r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){for(var o=t.class?t.class.split(" ").filter(Boolean):Bp,s=n.class?n.class.split(" ").filter(Boolean):Bp,a=0;a<o.length;a++)-1==s.indexOf(o[a])&&e.classList.remove(o[a]);for(var l=0;l<s.length;l++)-1==o.indexOf(s[l])&&e.classList.add(s[l]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style)for(var c,u=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;c=u.exec(t.style);)e.style.removeProperty(c[1]);n.style&&(e.style.cssText+=n.style)}}function Qp(e,t,n){return Zp(e,e,Gp,Xp(t,n,1!=e.nodeType))}function eg(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function tg(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}var ng=function(e,t){this.top=e,this.lock=t,this.index=0,this.stack=[],this.changed=!1,this.preMatch=function(e,t){for(var n=e.childCount,i=t.length,r=new Map;n>0&&i>0;i--){var o=t[i-1],s=o.node;if(s){if(s!=e.child(n-1))break;--n,r.set(o,n)}}return{index:n,matched:r}}(e.node.content,e.children)};function ig(e,t){return e.type.side-t.type.side}function rg(e,t,n,i,r){for(var o=[],s=0,a=0;s<e.length;s++){var l=e[s],c=a,u=a+=l.size;c>=n||u<=t?o.push(l):(c<t&&o.push(l.slice(0,t-c,i)),r&&(o.push(r),r=null),u>n&&o.push(l.slice(n-c,l.size,i)))}return o}function og(e,t){var n=e.root.getSelection(),i=e.state.doc;if(!n.focusNode)return null;var r=e.docView.nearestDesc(n.focusNode),o=r&&0==r.size,s=e.docView.posFromDOM(n.focusNode,n.focusOffset);if(s<0)return null;var a,l,c=i.resolve(s);if(dp(n)){for(a=c;r&&!r.node;)r=r.parent;if(r&&r.node.isAtom&&Yd.isSelectable(r.node)&&r.parent&&(!r.node.isInline||!function(e,t,n){for(var i=0==t,r=t==up(e);i||r;){if(e==n)return!0;var o=ip(e);if(!(e=e.parentNode))return!1;i=i&&0==o,r=r&&o==up(e)}}(n.focusNode,n.focusOffset,r.dom))){var u=r.posBefore;l=new Yd(s==u?c:i.resolve(u))}}else{var h=e.docView.posFromDOM(n.anchorNode,n.anchorOffset);if(h<0)return null;a=i.resolve(h)}l||(l=pg(e,a,c,"pointer"==t||e.state.selection.head<c.pos&&!o?1:-1));return l}function sg(e){return e.editable?e.hasFocus():gg(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function ag(e,t){var n=e.state.selection;if(dg(e,n),sg(e)){if(!t&&e.mouseDown&&e.mouseDown.allowDefault)return e.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection();if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){var t=e.root.getSelection(),n=document.createRange(),i=e.cursorWrapper.dom,r="IMG"==i.nodeName;r?n.setEnd(i.parentNode,ip(i)+1):n.setEnd(i,0);n.collapse(!1),t.removeAllRanges(),t.addRange(n),!r&&!e.state.selection.visible&&Zf.ie&&Zf.ie_version<=11&&(i.disabled=!0,i.disabled=!1)}(e);else{var i,r,o=n.anchor,s=n.head;!lg||n instanceof qd||(n.$from.parent.inlineContent||(i=cg(e,n.from)),n.empty||n.$from.parent.inlineContent||(r=cg(e,n.to))),e.docView.setSelection(o,s,e.root,t),lg&&(i&&hg(i),r&&hg(r)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){var t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.hideSelectionGuard);var n=e.root.getSelection(),i=n.anchorNode,r=n.anchorOffset;t.addEventListener("selectionchange",e.hideSelectionGuard=function(){n.anchorNode==i&&n.anchorOffset==r||(t.removeEventListener("selectionchange",e.hideSelectionGuard),setTimeout((function(){sg(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")}),20))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}ng.prototype.destroyBetween=function(e,t){if(e!=t){for(var n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}},ng.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},ng.prototype.syncToMarks=function(e,t,n){for(var i=0,r=this.stack.length>>1,o=Math.min(r,e.length);i<o&&(i==r-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&!1!==e[i].type.spec.spanning;)i++;for(;i<r;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),r--;for(;r<e.length;){this.stack.push(this.top,this.index+1);for(var s=-1,a=this.index;a<Math.min(this.index+3,this.top.children.length);a++)if(this.top.children[a].matchesMark(e[r])){s=a;break}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{var l=Vp.create(this.top,e[r],t,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,r++}},ng.prototype.findNodeMatch=function(e,t,n,i){var r=this.top.children,o=-1;if(i>=this.preMatch.index){for(var s=this.index;s<r.length;s++)if(this.preMatch.matched.get(r[s])==i){r[s].matchesNode(e,t,n)&&(o=s);break}}else for(var a=this.index,l=Math.min(r.length,a+5);a<l;a++){var c=r[a];if(c.matchesNode(e,t,n)&&!this.preMatch.matched.has(c)){o=a;break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)},ng.prototype.updateNodeAt=function(e,t,n,i,r){return!!this.top.children[i].update(e,t,n,r)&&(this.destroyBetween(this.index,i),this.index=i+1,!0)},ng.prototype.findIndexWithChild=function(e){for(;;){var t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){var n=e.pmViewDesc;if(n)for(var i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==n)return i;return-1}e=t}},ng.prototype.updateNextNode=function(e,t,n,i,r){for(var o=this.index;o<this.top.children.length;o++){var s=this.top.children[o];if(s instanceof Wp){var a=this.preMatch.matched.get(s);if(null!=a&&a!=r)return!1;var l=s.dom;if(!(this.lock&&(l==this.lock||1==l.nodeType&&l.contains(this.lock.parentNode))&&!(e.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==e.text&&3!=s.dirty&&eg(t,s.outerDeco)))&&s.update(e,t,n,i))return this.destroyBetween(this.index,o),s.dom!=l&&(this.changed=!0),this.index++,!0;break}}return!1},ng.prototype.addNode=function(e,t,n,i,r){this.top.children.splice(this.index++,0,Wp.create(this.top,e,t,n,i,r)),this.changed=!0},ng.prototype.placeWidget=function(e,t,n){var i=this.index<this.top.children.length?this.top.children[this.index]:null;if(!i||!i.matchesWidget(e)||e!=i.widget&&i.widget.type.toDOM.parentNode){var r=new jp(this.top,e,t,n);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++},ng.prototype.addTextblockHacks=function(){for(var e=this.top.children[this.index-1];e instanceof Vp;)e=e.children[e.children.length-1];e&&e instanceof Up&&!/\n$/.test(e.node.text)||((Zf.safari||Zf.chrome)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG"),this.addHackNode("BR"))},ng.prototype.addHackNode=function(e){if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack(e))this.index++;else{var t=document.createElement(e);"IMG"==e&&(t.className="ProseMirror-separator"),"BR"==e&&(t.className="ProseMirror-trailingBreak"),this.top.children.splice(this.index++,0,new $p(this.top,Bp,t,null)),this.changed=!0}};var lg=Zf.safari||Zf.chrome&&Zf.chrome_version<63;function cg(e,t){var n=e.docView.domFromPos(t,0),i=n.node,r=n.offset,o=r<i.childNodes.length?i.childNodes[r]:null,s=r?i.childNodes[r-1]:null;if(Zf.safari&&o&&"false"==o.contentEditable)return ug(o);if(!(o&&"false"!=o.contentEditable||s&&"false"!=s.contentEditable)){if(o)return ug(o);if(s)return ug(s)}}function ug(e){return e.contentEditable="true",Zf.safari&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function hg(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function dg(e,t){if(t instanceof Yd){var n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(fg(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else fg(e)}function fg(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=null)}function pg(e,t,n,i){return e.someProp("createSelectionBetween",(function(i){return i(e,t,n)}))||qd.between(t,n,i)}function gg(e){var t=e.root.getSelection();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(n){return!1}}function mg(e,t){var n=e.selection,i=n.$anchor,r=n.$head,o=t>0?i.max(r):i.min(r),s=o.parent.inlineContent?o.depth?e.doc.resolve(t>0?o.after():o.before()):null:o;return s&&Hd.findFrom(s,t)}function vg(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function yg(e,t,n){var i=e.state.selection;if(!(i instanceof qd)){if(i instanceof Yd&&i.node.isInline)return vg(e,new qd(t>0?i.$to:i.$from));var r=mg(e.state,t);return!!r&&vg(e,r)}if(!i.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){var o=mg(e.state,t);return!!(o&&o instanceof Yd)&&vg(e,o)}if(!(Zf.mac&&n.indexOf("m")>-1)){var s,a=i.$head,l=a.textOffset?null:t<0?a.nodeBefore:a.nodeAfter;if(!l||l.isText)return!1;var c=t<0?a.pos-l.nodeSize:a.pos;return!!(l.isAtom||(s=e.docView.descAt(c))&&!s.contentDOM)&&(Yd.isSelectable(l)?vg(e,new Yd(t<0?e.state.doc.resolve(a.pos-l.nodeSize):a)):!!Zf.webkit&&vg(e,new qd(e.state.doc.resolve(t<0?c:c+l.nodeSize))))}}function bg(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function _g(e){var t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function wg(e){var t=e.root.getSelection(),n=t.focusNode,i=t.focusOffset;if(n){var r,o,s=!1;for(Zf.gecko&&1==n.nodeType&&i<bg(n)&&_g(n.childNodes[i])&&(s=!0);;)if(i>0){if(1!=n.nodeType)break;var a=n.childNodes[i-1];if(_g(a))r=n,o=--i;else{if(3!=a.nodeType)break;i=(n=a).nodeValue.length}}else{if(xg(n))break;for(var l=n.previousSibling;l&&_g(l);)r=n.parentNode,o=ip(l),l=l.previousSibling;if(l)i=bg(n=l);else{if((n=n.parentNode)==e.dom)break;i=0}}s?kg(e,t,n,i):r&&kg(e,t,r,o)}}function Cg(e){var t=e.root.getSelection(),n=t.focusNode,i=t.focusOffset;if(n){for(var r,o,s=bg(n);;)if(i<s){if(1!=n.nodeType)break;if(!_g(n.childNodes[i]))break;r=n,o=++i}else{if(xg(n))break;for(var a=n.nextSibling;a&&_g(a);)r=a.parentNode,o=ip(a)+1,a=a.nextSibling;if(a)i=0,s=bg(n=a);else{if((n=n.parentNode)==e.dom)break;i=s=0}}r&&kg(e,t,r,o)}}function xg(e){var t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function kg(e,t,n,i){if(dp(t)){var r=document.createRange();r.setEnd(n,i),r.setStart(n,i),t.removeAllRanges(),t.addRange(r)}else t.extend&&t.extend(n,i);e.domObserver.setCurSelection();var o=e.state;setTimeout((function(){e.state==o&&ag(e)}),50)}function Sg(e,t,n){var i=e.state.selection;if(i instanceof qd&&!i.empty||n.indexOf("s")>-1)return!1;if(Zf.mac&&n.indexOf("m")>-1)return!1;var r=i.$from,o=i.$to;if(!r.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){var s=mg(e.state,t);if(s&&s instanceof Yd)return vg(e,s)}if(!r.parent.inlineContent){var a=t<0?r:o,l=i instanceof Xd?Hd.near(a,t):Hd.findFrom(a,t);return!!l&&vg(e,l)}return!1}function Dg(e,t){if(!(e.state.selection instanceof qd))return!0;var n=e.state.selection,i=n.$head,r=n.$anchor,o=n.empty;if(!i.sameParent(r))return!0;if(!o)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;var s=!i.textOffset&&(t<0?i.nodeBefore:i.nodeAfter);if(s&&!s.isText){var a=e.state.tr;return t<0?a.delete(i.pos-s.nodeSize,i.pos):a.delete(i.pos,i.pos+s.nodeSize),e.dispatch(a),!0}return!1}function Eg(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function Lg(e,t){var n=t.keyCode,i=function(e){var t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);return 8==n||Zf.mac&&72==n&&"c"==i?Dg(e,-1)||wg(e):46==n||Zf.mac&&68==n&&"c"==i?Dg(e,1)||Cg(e):13==n||27==n||(37==n?yg(e,-1,i)||wg(e):39==n?yg(e,1,i)||Cg(e):38==n?Sg(e,-1,i)||wg(e):40==n?function(e){if(Zf.safari&&!(e.state.selection.$head.parentOffset>0)){var t=e.root.getSelection(),n=t.focusNode,i=t.focusOffset;if(n&&1==n.nodeType&&0==i&&n.firstChild&&"false"==n.firstChild.contentEditable){var r=n.firstChild;Eg(e,r,!0),setTimeout((function(){return Eg(e,r,!1)}),20)}}}(e)||Sg(e,1,i)||Cg(e):i==(Zf.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}function Tg(e){var t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(Zf.safari&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(e.parentNode.lastChild==e||Zf.safari&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0}}function Ng(e,t,n,i,r){if(t<0){var o=e.lastSelectionTime>Date.now()-50?e.lastSelectionOrigin:null,s=og(e,o);if(s&&!e.state.selection.eq(s)){var a=e.state.tr.setSelection(s);"pointer"==o?a.setMeta("pointer",!0):"key"==o&&a.scrollIntoView(),e.dispatch(a)}}else{var l=e.state.doc.resolve(t),c=l.sharedDepth(n);t=l.before(c+1),n=e.state.doc.resolve(n).after(c+1);var u=e.state.selection,h=function(e,t,n){var i=e.docView.parseRange(t,n),r=i.node,o=i.fromOffset,s=i.toOffset,a=i.from,l=i.to,c=e.root.getSelection(),u=null,h=c.anchorNode;if(h&&e.dom.contains(1==h.nodeType?h:h.parentNode)&&(u=[{node:h,offset:c.anchorOffset}],dp(c)||u.push({node:c.focusNode,offset:c.focusOffset})),Zf.chrome&&8===e.lastKeyCode)for(var d=s;d>o;d--){var f=r.childNodes[d-1],p=f.pmViewDesc;if("BR"==f.nodeName&&!p){s=d;break}if(!p||p.size)break}var g=e.state.doc,m=e.someProp("domParser")||Yh.fromSchema(e.state.schema),v=g.resolve(a),y=null,b=m.parse(r,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:o,to:s,preserveWhitespace:!v.parent.type.spec.code||"full",editableContent:!0,findPositions:u,ruleFromNode:Tg,context:v});if(u&&null!=u[0].pos){var _=u[0].pos,w=u[1]&&u[1].pos;null==w&&(w=_),y={anchor:_+a,head:w+a}}return{doc:b,sel:y,from:a,to:l}}(e,t,n);if(Zf.chrome&&e.cursorWrapper&&h.sel&&h.sel.anchor==e.cursorWrapper.deco.from){var d=e.cursorWrapper.deco.type.toDOM.nextSibling,f=d&&d.nodeValue?d.nodeValue.length:1;h.sel={anchor:h.sel.anchor+f,head:h.sel.anchor+f}}var p,g,m=e.state.doc,v=m.slice(h.from,h.to);8===e.lastKeyCode&&Date.now()-100<e.lastKeyCodeTime?(p=e.state.selection.to,g="end"):(p=e.state.selection.from,g="start"),e.lastKeyCode=null;var y=function(e,t,n,i,r){var o=e.findDiffStart(t,n);if(null==o)return null;var s=e.findDiffEnd(t,n+e.size,n+t.size),a=s.a,l=s.b;if("end"==r){i-=a+Math.max(0,o-Math.min(a,l))-o}if(a<o&&e.size<t.size){l=(o-=i<=o&&i>=a?o-i:0)+(l-a),a=o}else if(l<o){a=(o-=i<=o&&i>=l?o-i:0)+(a-l),l=o}return{start:o,endA:a,endB:l}}(v.content,h.doc.content,h.from,p,g);if(!y){if(!(i&&u instanceof qd&&!u.empty&&u.$head.sameParent(u.$anchor))||e.composing||h.sel&&h.sel.anchor!=h.sel.head){if((Zf.ios&&e.lastIOSEnter>Date.now()-225||Zf.android)&&r.some((function(e){return"DIV"==e.nodeName||"P"==e.nodeName}))&&e.someProp("handleKeyDown",(function(t){return t(e,fp(13,"Enter"))})))return void(e.lastIOSEnter=0);if(h.sel){var b=Mg(e,e.state.doc,h.sel);b&&!b.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(b))}return}y={start:u.from,endA:u.to,endB:u.to}}e.domChangeCount++,e.state.selection.from<e.state.selection.to&&y.start==y.endB&&e.state.selection instanceof qd&&(y.start>e.state.selection.from&&y.start<=e.state.selection.from+2?y.start=e.state.selection.from:y.endA<e.state.selection.to&&y.endA>=e.state.selection.to-2&&(y.endB+=e.state.selection.to-y.endA,y.endA=e.state.selection.to)),Zf.ie&&Zf.ie_version<=11&&y.endB==y.start+1&&y.endA==y.start&&y.start>h.from&&" "==h.doc.textBetween(y.start-h.from-1,y.start-h.from+1)&&(y.start--,y.endA--,y.endB--);var _,w=h.doc.resolveNoCache(y.start-h.from),C=h.doc.resolveNoCache(y.endB-h.from),x=w.sameParent(C)&&w.parent.inlineContent;if((Zf.ios&&e.lastIOSEnter>Date.now()-225&&(!x||r.some((function(e){return"DIV"==e.nodeName||"P"==e.nodeName})))||!x&&w.pos<h.doc.content.size&&(_=Hd.findFrom(h.doc.resolve(w.pos+1),1,!0))&&_.head==C.pos)&&e.someProp("handleKeyDown",(function(t){return t(e,fp(13,"Enter"))})))e.lastIOSEnter=0;else if(e.state.selection.anchor>y.start&&function(e,t,n,i,r){if(!i.parent.isTextblock||n-t<=r.pos-i.pos||Ag(i,!0,!1)<r.pos)return!1;var o=e.resolve(t);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;var s=e.resolve(Ag(o,!0,!0));if(!s.parent.isTextblock||s.pos>n||Ag(s,!0,!1)<n)return!1;return i.parent.content.cut(i.parentOffset).eq(s.parent.content)}(m,y.start,y.endA,w,C)&&e.someProp("handleKeyDown",(function(t){return t(e,fp(8,"Backspace"))})))Zf.android&&Zf.chrome&&e.domObserver.suppressSelectionUpdates();else{Zf.chrome&&Zf.android&&y.toB==y.from&&(e.lastAndroidDelete=Date.now()),Zf.android&&!x&&w.start()!=C.start()&&0==C.parentOffset&&w.depth==C.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==y.endA&&(y.endB-=2,C=h.doc.resolveNoCache(y.endB-h.from),setTimeout((function(){e.someProp("handleKeyDown",(function(t){return t(e,fp(13,"Enter"))}))}),20));var k,S,D,E,L=y.start,T=y.endA;if(x)if(w.pos==C.pos)Zf.ie&&Zf.ie_version<=11&&0==w.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((function(){return ag(e)}),20)),k=e.state.tr.delete(L,T),S=m.resolve(y.start).marksAcross(m.resolve(y.endA));else if(y.endA==y.endB&&(E=m.resolve(y.start))&&(D=function(e,t){for(var n,i,r,o=e.firstChild.marks,s=t.firstChild.marks,a=o,l=s,c=0;c<s.length;c++)a=s[c].removeFromSet(a);for(var u=0;u<o.length;u++)l=o[u].removeFromSet(l);if(1==a.length&&0==l.length)i=a[0],n="add",r=function(e){return e.mark(i.addToSet(e.marks))};else{if(0!=a.length||1!=l.length)return null;i=l[0],n="remove",r=function(e){return e.mark(i.removeFromSet(e.marks))}}for(var h=[],d=0;d<t.childCount;d++)h.push(r(t.child(d)));if(Gu.from(h).eq(e))return{mark:i,type:n}}(w.parent.content.cut(w.parentOffset,C.parentOffset),E.parent.content.cut(E.parentOffset,y.endA-E.start()))))k=e.state.tr,"add"==D.type?k.addMark(L,T,D.mark):k.removeMark(L,T,D.mark);else if(w.parent.child(w.index()).isText&&w.index()==C.index()-(C.textOffset?0:1)){var N=w.parent.textBetween(w.parentOffset,C.parentOffset);if(e.someProp("handleTextInput",(function(t){return t(e,L,T,N)})))return;k=e.state.tr.insertText(N,L,T)}if(k||(k=e.state.tr.replace(L,T,h.doc.slice(y.start-h.from,y.endB-h.from))),h.sel){var M=Mg(e,k.doc,h.sel);M&&!(Zf.chrome&&Zf.android&&e.composing&&M.empty&&(y.start!=y.endB||e.lastAndroidDelete<Date.now()-100)&&(M.head==L||M.head==k.mapping.map(T)-1)||Zf.ie&&M.empty&&M.head==L)&&k.setSelection(M)}S&&k.ensureMarks(S),e.dispatch(k.scrollIntoView())}}}function Mg(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:pg(e,t.resolve(n.anchor),t.resolve(n.head))}function Ag(e,t,n){for(var i=e.depth,r=t?e.end():e.pos;i>0&&(t||e.indexAfter(i)==e.node(i).childCount);)i--,r++,t=!1;if(n)for(var o=e.node(i).maybeChild(e.indexAfter(i));o&&!o.isLeaf;)o=o.firstChild,r++;return r}function Ig(e,t){for(var n=[],i=t.content,r=t.openStart,o=t.openEnd;r>1&&o>1&&1==i.childCount&&1==i.firstChild.childCount;){r--,o--;var s=i.firstChild;n.push(s.type.name,s.attrs!=s.type.defaultAttrs?s.attrs:null),i=s.content}var a=e.someProp("clipboardSerializer")||od.fromSchema(e.state.schema),l=Wg(),c=l.createElement("div");c.appendChild(a.serializeFragment(i,{document:l}));for(var u,h=c.firstChild;h&&1==h.nodeType&&(u=zg[h.nodeName.toLowerCase()]);){for(var d=u.length-1;d>=0;d--){for(var f=l.createElement(u[d]);c.firstChild;)f.appendChild(c.firstChild);c.appendChild(f),"tbody"!=u[d]&&(r++,o++)}h=c.firstChild}return h&&1==h.nodeType&&h.setAttribute("data-pm-slice",r+" "+o+" "+JSON.stringify(n)),{dom:c,text:e.someProp("clipboardTextSerializer",(function(e){return e(t)}))||t.content.textBetween(0,t.content.size,"\n\n")}}function Og(e,t,n,i,r){var o,s,a=r.parent.type.spec.code;if(!n&&!t)return null;var l=t&&(i||a||!n);if(l){if(e.someProp("transformPastedText",(function(e){t=e(t,a||i)})),a)return t?new nh(Gu.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):nh.empty;var c=e.someProp("clipboardTextParser",(function(e){return e(t,r,i)}));if(c)s=c;else{var u=r.marks(),h=e.state.schema,d=od.fromSchema(h);o=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach((function(e){var t=o.appendChild(document.createElement("p"));e&&t.appendChild(d.serializeNode(h.text(e,u)))}))}}else e.someProp("transformPastedHTML",(function(e){n=e(n)})),o=function(e){var t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));var n,i=Wg().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e);(n=r&&zg[r[1].toLowerCase()])&&(e=n.map((function(e){return"<"+e+">"})).join("")+e+n.map((function(e){return"</"+e+">"})).reverse().join(""));if(i.innerHTML=e,n)for(var o=0;o<n.length;o++)i=i.querySelector(n[o])||i;return i}(n),Zf.webkit&&function(e){for(var t=e.querySelectorAll(Zf.chrome?"span:not([class]):not([style])":"span.Apple-converted-space"),n=0;n<t.length;n++){var i=t[n];1==i.childNodes.length&&""==i.textContent&&i.parentNode&&i.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),i)}}(o);var f=o&&o.querySelector("[data-pm-slice]"),p=f&&/^(\d+) (\d+) (.*)/.exec(f.getAttribute("data-pm-slice"));if(!s){var g=e.someProp("clipboardParser")||e.someProp("domParser")||Yh.fromSchema(e.state.schema);s=g.parseSlice(o,{preserveWhitespace:!(!l&&!p),context:r,ruleFromNode:function(e){if("BR"==e.nodeName&&!e.nextSibling)return{ignore:!0}}})}if(p)s=function(e,t){if(!e.size)return e;var n,i=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(nR){return e}for(var r=e.content,o=e.openStart,s=e.openEnd,a=n.length-2;a>=0;a-=2){var l=i.nodes[n[a]];if(!l||l.hasRequiredAttrs())break;r=Gu.from(l.create(n[a+1],r)),o++,s++}return new nh(r,o,s)}(jg(s,+p[1],+p[2]),p[3]);else if(s=nh.maxOpen(function(e,t){if(e.childCount<2)return e;for(var n=function(n){var i=t.node(n).contentMatchAt(t.index(n)),r=void 0,o=[];if(e.forEach((function(e){if(o){var t,n=i.findWrapping(e.type);if(!n)return o=null;if(t=o.length&&r.length&&Rg(n,r,e,o[o.length-1],0))o[o.length-1]=t;else{o.length&&(o[o.length-1]=Pg(o[o.length-1],r.length));var s=Fg(e,n);o.push(s),i=i.matchType(s.type,s.attrs),r=n}}})),o)return{v:Gu.from(o)}},i=t.depth;i>=0;i--){var r=n(i);if(r)return r.v}return e}(s.content,r),!0),s.openStart||s.openEnd){for(var m=0,v=0,y=s.content.firstChild;m<s.openStart&&!y.type.spec.isolating;m++,y=y.firstChild);for(var b=s.content.lastChild;v<s.openEnd&&!b.type.spec.isolating;v++,b=b.lastChild);s=jg(s,m,v)}return e.someProp("transformPasted",(function(e){s=e(s)})),s}function Fg(e,t,n){void 0===n&&(n=0);for(var i=t.length-1;i>=n;i--)e=t[i].create(null,Gu.from(e));return e}function Rg(e,t,n,i,r){if(r<e.length&&r<t.length&&e[r]==t[r]){var o=Rg(e,t,n,i.lastChild,r+1);if(o)return i.copy(i.content.replaceChild(i.childCount-1,o));if(i.contentMatchAt(i.childCount).matchType(r==e.length-1?n.type:e[r+1]))return i.copy(i.content.append(Gu.from(Fg(n,e,r+1))))}}function Pg(e,t){if(0==t)return e;var n=e.content.replaceChild(e.childCount-1,Pg(e.lastChild,t-1)),i=e.contentMatchAt(e.childCount).fillBefore(Gu.empty,!0);return e.copy(n.append(i))}function Bg(e,t,n,i,r,o){var s=t<0?e.firstChild:e.lastChild,a=s.content;return r<i-1&&(a=Bg(a,t,n,i,r+1,o)),r>=n&&(a=t<0?s.contentMatchAt(0).fillBefore(a,e.childCount>1||o<=r).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(Gu.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(a))}function jg(e,t,n){return t<e.openStart&&(e=new nh(Bg(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new nh(Bg(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}var zg={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},Vg=null;function Wg(){return Vg||(Vg=document.implementation.createHTMLDocument("title"))}var Hg={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Ug=Zf.ie&&Zf.ie_version<=11,$g=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};$g.prototype.set=function(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset},$g.prototype.eq=function(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset};var qg=function(e,t){var n=this;this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver((function(e){for(var t=0;t<e.length;t++)n.queue.push(e[t]);Zf.ie&&Zf.ie_version<=11&&e.some((function(e){return"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length}))?n.flushSoon():n.flush()})),this.currentSelection=new $g,Ug&&(this.onCharData=function(e){n.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};qg.prototype.flushSoon=function(){var e=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){e.flushingSoon=-1,e.flush()}),20))},qg.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},qg.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,Hg),Ug&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},qg.prototype.stop=function(){var e=this;if(this.observer){var t=this.observer.takeRecords();if(t.length){for(var n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout((function(){return e.flush()}),20)}this.observer.disconnect()}Ug&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},qg.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},qg.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},qg.prototype.suppressSelectionUpdates=function(){var e=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return e.suppressingSelectionUpdates=!1}),50)},qg.prototype.onSelectionChange=function(){if((!(e=this.view).editable||e.root.activeElement==e.dom)&&gg(e)){var e;if(this.suppressingSelectionUpdates)return ag(this.view);if(Zf.ie&&Zf.ie_version<=11&&!this.view.state.selection.empty){var t=this.view.root.getSelection();if(t.focusNode&&ap(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}},qg.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},qg.prototype.ignoreSelectionChange=function(e){if(0==e.rangeCount)return!0;var t=e.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(t);return n&&n.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0},qg.prototype.flush=function(){if(this.view.docView&&!(this.flushingSoon>-1)){var e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);var t=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(t)&&gg(this.view)&&!this.ignoreSelectionChange(t),i=-1,r=-1,o=!1,s=[];if(this.view.editable)for(var a=0;a<e.length;a++){var l=this.registerMutation(e[a],s);l&&(i=i<0?l.from:Math.min(l.from,i),r=r<0?l.to:Math.max(l.to,r),l.typeOver&&(o=!0))}if(Zf.gecko&&s.length>1){var c=s.filter((function(e){return"BR"==e.nodeName}));if(2==c.length){var u=c[0],h=c[1];u.parentNode&&u.parentNode.parentNode==h.parentNode?h.remove():u.remove()}}(i>-1||n)&&(i>-1&&(this.view.docView.markDirty(i,r),function(e){if(Kg)return;Kg=!0,"normal"==getComputedStyle(e.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package.")}(this.view)),this.handleDOMChange(i,r,o,s),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(t)||ag(this.view),this.currentSelection.set(t))}},qg.prototype.registerMutation=function(e,t){if(t.indexOf(e.target)>-1)return null;var n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(var i=0;i<e.addedNodes.length;i++)t.push(e.addedNodes[i]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};var r=e.previousSibling,o=e.nextSibling;if(Zf.ie&&Zf.ie_version<=11&&e.addedNodes.length)for(var s=0;s<e.addedNodes.length;s++){var a=e.addedNodes[s],l=a.previousSibling,c=a.nextSibling;(!l||Array.prototype.indexOf.call(e.addedNodes,l)<0)&&(r=l),(!c||Array.prototype.indexOf.call(e.addedNodes,c)<0)&&(o=c)}var u=r&&r.parentNode==e.target?ip(r)+1:0,h=n.localPosFromDOM(e.target,u,-1),d=o&&o.parentNode==e.target?ip(o):e.target.childNodes.length;return{from:h,to:n.localPosFromDOM(e.target,d,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}};var Kg=!1;var Yg={},Gg={};function Xg(e,t){e.lastSelectionOrigin=t,e.lastSelectionTime=Date.now()}function Zg(e){e.someProp("handleDOMEvents",(function(t){for(var n in t)e.eventHandlers[n]||e.dom.addEventListener(n,e.eventHandlers[n]=function(t){return Jg(e,t)})}))}function Jg(e,t){return e.someProp("handleDOMEvents",(function(n){var i=n[t.type];return!!i&&(i(e,t)||t.defaultPrevented)}))}function Qg(e){return{left:e.clientX,top:e.clientY}}function em(e,t,n,i,r){if(-1==i)return!1;for(var o=e.state.doc.resolve(i),s=function(i){if(e.someProp(t,(function(t){return i>o.depth?t(e,n,o.nodeAfter,o.before(i),r,!0):t(e,n,o.node(i),o.before(i),r,!1)})))return{v:!0}},a=o.depth+1;a>0;a--){var l=s(a);if(l)return l.v}return!1}function tm(e,t,n){e.focused||e.focus();var i=e.state.tr.setSelection(t);"pointer"==n&&i.setMeta("pointer",!0),e.dispatch(i)}function nm(e,t,n,i,r){return em(e,"handleClickOn",t,n,i)||e.someProp("handleClick",(function(n){return n(e,t,i)}))||(r?function(e,t){if(-1==t)return!1;var n,i,r=e.state.selection;r instanceof Yd&&(n=r.node);for(var o=e.state.doc.resolve(t),s=o.depth+1;s>0;s--){var a=s>o.depth?o.nodeAfter:o.node(s);if(Yd.isSelectable(a)){i=n&&r.$from.depth>0&&s>=r.$from.depth&&o.before(r.$from.depth+1)==r.$from.pos?o.before(r.$from.depth):o.before(s);break}}return null!=i&&(tm(e,Yd.create(e.state.doc,i),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;var n=e.state.doc.resolve(t),i=n.nodeAfter;return!!(i&&i.isAtom&&Yd.isSelectable(i))&&(tm(e,new Yd(n),"pointer"),!0)}(e,n))}function im(e,t,n,i){return em(e,"handleDoubleClickOn",t,n,i)||e.someProp("handleDoubleClick",(function(n){return n(e,t,i)}))}function rm(e,t,n,i){return em(e,"handleTripleClickOn",t,n,i)||e.someProp("handleTripleClick",(function(n){return n(e,t,i)}))||function(e,t,n){if(0!=n.button)return!1;var i=e.state.doc;if(-1==t)return!!i.inlineContent&&(tm(e,qd.create(i,0,i.content.size),"pointer"),!0);for(var r=i.resolve(t),o=r.depth+1;o>0;o--){var s=o>r.depth?r.nodeAfter:r.node(o),a=r.before(o);if(s.inlineContent)tm(e,qd.create(i,a+1,a+1+s.content.size),"pointer");else{if(!Yd.isSelectable(s))continue;tm(e,Yd.create(i,a),"pointer")}return!0}}(e,n,i)}function om(e){return dm(e)}Gg.keydown=function(e,t){if(e.shiftKey=16==t.keyCode||t.shiftKey,!lm(e,t))if(229!=t.keyCode&&e.domObserver.forceFlush(),e.lastKeyCode=t.keyCode,e.lastKeyCodeTime=Date.now(),!Zf.ios||13!=t.keyCode||t.ctrlKey||t.altKey||t.metaKey)e.someProp("handleKeyDown",(function(n){return n(e,t)}))||Lg(e,t)?t.preventDefault():Xg(e,"key");else{var n=Date.now();e.lastIOSEnter=n,e.lastIOSEnterFallbackTimeout=setTimeout((function(){e.lastIOSEnter==n&&(e.someProp("handleKeyDown",(function(t){return t(e,fp(13,"Enter"))})),e.lastIOSEnter=0)}),200)}},Gg.keyup=function(e,t){16==t.keyCode&&(e.shiftKey=!1)},Gg.keypress=function(e,t){if(!(lm(e,t)||!t.charCode||t.ctrlKey&&!t.altKey||Zf.mac&&t.metaKey))if(e.someProp("handleKeyPress",(function(n){return n(e,t)})))t.preventDefault();else{var n=e.state.selection;if(!(n instanceof qd&&n.$from.sameParent(n.$to))){var i=String.fromCharCode(t.charCode);e.someProp("handleTextInput",(function(t){return t(e,n.$from.pos,n.$to.pos,i)}))||e.dispatch(e.state.tr.insertText(i).scrollIntoView()),t.preventDefault()}}};var sm=Zf.mac?"metaKey":"ctrlKey";Yg.mousedown=function(e,t){e.shiftKey=t.shiftKey;var n=om(e),i=Date.now(),r="singleClick";i-e.lastClick.time<500&&function(e,t){var n=t.x-e.clientX,i=t.y-e.clientY;return n*n+i*i<100}(t,e.lastClick)&&!t[sm]&&("singleClick"==e.lastClick.type?r="doubleClick":"doubleClick"==e.lastClick.type&&(r="tripleClick")),e.lastClick={time:i,x:t.clientX,y:t.clientY,type:r};var o=e.posAtCoords(Qg(t));o&&("singleClick"==r?(e.mouseDown&&e.mouseDown.done(),e.mouseDown=new am(e,o,t,n)):("doubleClick"==r?im:rm)(e,o.pos,o.inside,t)?t.preventDefault():Xg(e,"pointer"))};var am=function(e,t,n,i){var r,o,s=this;if(this.view=e,this.startDoc=e.state.doc,this.pos=t,this.event=n,this.flushed=i,this.selectNode=n[sm],this.allowDefault=n.shiftKey,this.delayedSelectionSync=!1,t.inside>-1)r=e.state.doc.nodeAt(t.inside),o=t.inside;else{var a=e.state.doc.resolve(t.pos);r=a.parent,o=a.depth?a.before():0}this.mightDrag=null;var l=i?null:n.target,c=l?e.docView.nearestDesc(l,!0):null;this.target=c?c.dom:null;var u=e.state.selection;(0==n.button&&r.type.spec.draggable&&!1!==r.type.spec.selectable||u instanceof Yd&&u.from<=o&&u.to>o)&&(this.mightDrag={node:r,pos:o,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&Zf.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){s.view.mouseDown==s&&s.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Xg(e,"pointer")};function lm(e,t){return!!e.composing||!!(Zf.safari&&Math.abs(t.timeStamp-e.compositionEndedAt)<500)&&(e.compositionEndedAt=-2e8,!0)}am.prototype.done=function(){var e=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((function(){return ag(e.view)})),this.view.mouseDown=null},am.prototype.up=function(e){if(this.done(),this.view.dom.contains(3==e.target.nodeType?e.target.parentNode:e.target)){var t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Qg(e))),this.allowDefault||!t?Xg(this.view,"pointer"):nm(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||Zf.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||Zf.chrome&&!(this.view.state.selection instanceof qd)&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(tm(this.view,Hd.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):Xg(this.view,"pointer")}},am.prototype.move=function(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),Xg(this.view,"pointer"),0==e.buttons&&this.done()},Yg.touchdown=function(e){om(e),Xg(e,"pointer")},Yg.contextmenu=function(e){return om(e)};var cm=Zf.android?5e3:-1;function um(e,t){clearTimeout(e.composingTimeout),t>-1&&(e.composingTimeout=setTimeout((function(){return dm(e)}),t))}function hm(e){var t;for(e.composing&&(e.composing=!1,e.compositionEndedAt=((t=document.createEvent("Event")).initEvent("event",!0,!0),t.timeStamp));e.compositionNodes.length>0;)e.compositionNodes.pop().markParentsDirty()}function dm(e,t){if(e.domObserver.forceFlush(),hm(e),t||e.docView.dirty){var n=og(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}Gg.compositionstart=Gg.compositionupdate=function(e){if(!e.composing){e.domObserver.flush();var t=e.state,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(e){return!1===e.type.spec.inclusive}))))e.markCursor=e.state.storedMarks||n.marks(),dm(e,!0),e.markCursor=null;else if(dm(e),Zf.gecko&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var i=e.root.getSelection(),r=i.focusNode,o=i.focusOffset;r&&1==r.nodeType&&0!=o;){var s=o<0?r.lastChild:r.childNodes[o-1];if(!s)break;if(3==s.nodeType){i.collapse(s,s.nodeValue.length);break}r=s,o=-1}e.composing=!0}um(e,cm)},Gg.compositionend=function(e,t){e.composing&&(e.composing=!1,e.compositionEndedAt=t.timeStamp,um(e,20))};var fm=Zf.ie&&Zf.ie_version<15||Zf.ios&&Zf.webkit_version<604;function pm(e,t,n,i){var r=Og(e,t,n,e.shiftKey,e.state.selection.$from);if(e.someProp("handlePaste",(function(t){return t(e,i,r||nh.empty)})))return!0;if(!r)return!1;var o=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(r),s=o?e.state.tr.replaceSelectionWith(o,e.shiftKey):e.state.tr.replaceSelection(r);return e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Yg.copy=Gg.cut=function(e,t){var n=e.state.selection,i="cut"==t.type;if(!n.empty){var r=fm?null:t.clipboardData,o=Ig(e,n.content()),s=o.dom,a=o.text;r?(t.preventDefault(),r.clearData(),r.setData("text/html",s.innerHTML),r.setData("text/plain",a)):function(e,t){if(e.dom.parentNode){var n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";var i=getSelection(),r=document.createRange();r.selectNodeContents(t),e.dom.blur(),i.removeAllRanges(),i.addRange(r),setTimeout((function(){n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}}(e,s),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},Gg.paste=function(e,t){var n=fm?null:t.clipboardData;n&&pm(e,n.getData("text/plain"),n.getData("text/html"),t)?t.preventDefault():function(e,t){if(e.dom.parentNode){var n=e.shiftKey||e.state.selection.$from.parent.type.spec.code,i=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus(),setTimeout((function(){e.focus(),i.parentNode&&i.parentNode.removeChild(i),n?pm(e,i.value,null,t):pm(e,i.textContent,i.innerHTML,t)}),50)}}(e,t)};var gm=function(e,t){this.slice=e,this.move=t},mm=Zf.mac?"altKey":"ctrlKey";for(var vm in Yg.dragstart=function(e,t){var n=e.mouseDown;if(n&&n.done(),t.dataTransfer){var i=e.state.selection,r=i.empty?null:e.posAtCoords(Qg(t));if(r&&r.pos>=i.from&&r.pos<=(i instanceof Yd?i.to-1:i.to));else if(n&&n.mightDrag)e.dispatch(e.state.tr.setSelection(Yd.create(e.state.doc,n.mightDrag.pos)));else if(t.target&&1==t.target.nodeType){var o=e.docView.nearestDesc(t.target,!0);o&&o.node.type.spec.draggable&&o!=e.docView&&e.dispatch(e.state.tr.setSelection(Yd.create(e.state.doc,o.posBefore)))}var s=e.state.selection.content(),a=Ig(e,s),l=a.dom,c=a.text;t.dataTransfer.clearData(),t.dataTransfer.setData(fm?"Text":"text/html",l.innerHTML),t.dataTransfer.effectAllowed="copyMove",fm||t.dataTransfer.setData("text/plain",c),e.dragging=new gm(s,!t[mm])}},Yg.dragend=function(e){var t=e.dragging;window.setTimeout((function(){e.dragging==t&&(e.dragging=null)}),50)},Gg.dragover=Gg.dragenter=function(e,t){return t.preventDefault()},Gg.drop=function(e,t){var n=e.dragging;if(e.dragging=null,t.dataTransfer){var i=e.posAtCoords(Qg(t));if(i){var r=e.state.doc.resolve(i.pos);if(r){var o=n&&n.slice;o?e.someProp("transformPasted",(function(e){o=e(o)})):o=Og(e,t.dataTransfer.getData(fm?"Text":"text/plain"),fm?null:t.dataTransfer.getData("text/html"),!1,r);var s=n&&!t[mm];if(e.someProp("handleDrop",(function(n){return n(e,t,o||nh.empty,s)})))t.preventDefault();else if(o){t.preventDefault();var a=o?function(e,t,n){var i=e.resolve(t);if(!n.content.size)return t;for(var r=n.content,o=0;o<n.openStart;o++)r=r.firstChild.content;for(var s=1;s<=(0==n.openStart&&n.size?2:1);s++)for(var a=i.depth;a>=0;a--){var l=a==i.depth?0:i.pos<=(i.start(a+1)+i.end(a+1))/2?-1:1,c=i.index(a)+(l>0?1:0),u=i.node(a),h=!1;if(1==s)h=u.canReplace(c,c,r);else{var d=u.contentMatchAt(c).findWrapping(r.firstChild.type);h=d&&u.canReplaceWith(c,c,d[0])}if(h)return 0==l?i.pos:l<0?i.before(a+1):i.after(a+1)}return null}(e.state.doc,r.pos,o):r.pos;null==a&&(a=r.pos);var l=e.state.tr;s&&l.deleteSelection();var c=l.mapping.map(a),u=0==o.openStart&&0==o.openEnd&&1==o.content.childCount,h=l.doc;if(u?l.replaceRangeWith(c,c,o.content.firstChild):l.replaceRange(c,c,o),!l.doc.eq(h)){var d=l.doc.resolve(c);if(u&&Yd.isSelectable(o.content.firstChild)&&d.nodeAfter&&d.nodeAfter.sameMarkup(o.content.firstChild))l.setSelection(new Yd(d));else{var f=l.mapping.map(a);l.mapping.maps[l.mapping.maps.length-1].forEach((function(e,t,n,i){return f=i})),l.setSelection(pg(e,d,l.doc.resolve(f)))}e.focus(),e.dispatch(l.setMeta("uiEvent","drop"))}}}}}},Yg.focus=function(e){e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((function(){e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.root.getSelection())&&ag(e)}),20))},Yg.blur=function(e,t){e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),t.relatedTarget&&e.dom.contains(t.relatedTarget)&&e.domObserver.currentSelection.set({}),e.focused=!1)},Yg.beforeinput=function(e,t){if(Zf.chrome&&Zf.android&&"deleteContentBackward"==t.inputType){var n=e.domChangeCount;setTimeout((function(){if(e.domChangeCount==n&&(e.dom.blur(),e.focus(),!e.someProp("handleKeyDown",(function(t){return t(e,fp(8,"Backspace"))})))){var t=e.state.selection.$cursor;t&&t.pos>0&&e.dispatch(e.state.tr.delete(t.pos-1,t.pos).scrollIntoView())}}),50)}},Gg)Yg[vm]=Gg[vm];function ym(e,t){if(e==t)return!0;for(var n in e)if(e[n]!==t[n])return!1;for(var i in t)if(!(i in e))return!1;return!0}var bm=function(e,t){this.spec=t||Sm,this.side=this.spec.side||0,this.toDOM=e};bm.prototype.map=function(e,t,n,i){var r=e.mapResult(t.from+i,this.side<0?-1:1),o=r.pos;return r.deleted?null:new Cm(o-n,o-n,this)},bm.prototype.valid=function(){return!0},bm.prototype.eq=function(e){return this==e||e instanceof bm&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&ym(this.spec,e.spec))},bm.prototype.destroy=function(e){this.spec.destroy&&this.spec.destroy(e)};var _m=function(e,t){this.spec=t||Sm,this.attrs=e};_m.prototype.map=function(e,t,n,i){var r=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-n,o=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-n;return r>=o?null:new Cm(r,o,this)},_m.prototype.valid=function(e,t){return t.from<t.to},_m.prototype.eq=function(e){return this==e||e instanceof _m&&ym(this.attrs,e.attrs)&&ym(this.spec,e.spec)},_m.is=function(e){return e.type instanceof _m};var wm=function(e,t){this.spec=t||Sm,this.attrs=e};wm.prototype.map=function(e,t,n,i){var r=e.mapResult(t.from+i,1);if(r.deleted)return null;var o=e.mapResult(t.to+i,-1);return o.deleted||o.pos<=r.pos?null:new Cm(r.pos-n,o.pos-n,this)},wm.prototype.valid=function(e,t){var n,i=e.content.findIndex(t.from),r=i.index,o=i.offset;return o==t.from&&!(n=e.child(r)).isText&&o+n.nodeSize==t.to},wm.prototype.eq=function(e){return this==e||e instanceof wm&&ym(this.attrs,e.attrs)&&ym(this.spec,e.spec)};var Cm=function(e,t,n){this.from=e,this.to=t,this.type=n},xm={spec:{configurable:!0},inline:{configurable:!0}};Cm.prototype.copy=function(e,t){return new Cm(e,t,this.type)},Cm.prototype.eq=function(e,t){return void 0===t&&(t=0),this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to},Cm.prototype.map=function(e,t,n){return this.type.map(e,this,t,n)},Cm.widget=function(e,t,n){return new Cm(e,e,new bm(t,n))},Cm.inline=function(e,t,n,i){return new Cm(e,t,new _m(n,i))},Cm.node=function(e,t,n,i){return new Cm(e,t,new wm(n,i))},xm.spec.get=function(){return this.type.spec},xm.inline.get=function(){return this.type instanceof _m},Object.defineProperties(Cm.prototype,xm);var km=[],Sm={},Dm=function(e,t){this.local=e&&e.length?e:km,this.children=t&&t.length?t:km};Dm.create=function(e,t){return t.length?Am(t,e,0,Sm):Em},Dm.prototype.find=function(e,t,n){var i=[];return this.findInner(null==e?0:e,null==t?1e9:t,i,0,n),i},Dm.prototype.findInner=function(e,t,n,i,r){for(var o=0;o<this.local.length;o++){var s=this.local[o];s.from<=t&&s.to>=e&&(!r||r(s.spec))&&n.push(s.copy(s.from+i,s.to+i))}for(var a=0;a<this.children.length;a+=3)if(this.children[a]<t&&this.children[a+1]>e){var l=this.children[a]+1;this.children[a+2].findInner(e-l,t-l,n,i+l,r)}},Dm.prototype.map=function(e,t,n){return this==Em||0==e.maps.length?this:this.mapInner(e,t,0,0,n||Sm)},Dm.prototype.mapInner=function(e,t,n,i,r){for(var o,s=0;s<this.local.length;s++){var a=this.local[s].map(e,n,i);a&&a.type.valid(t,a)?(o||(o=[])).push(a):r.onRemove&&r.onRemove(this.local[s].spec)}return this.children.length?function(e,t,n,i,r,o,s){for(var a=e.slice(),l=function(e,t,n,i){for(var s=0;s<a.length;s+=3){var l=a[s+1],c=void 0;-1==l||e>l+o||(t>=a[s]+o?a[s+1]=-1:n>=r&&(c=i-n-(t-e))&&(a[s]+=c,a[s+1]+=c))}},c=0;c<n.maps.length;c++)n.maps[c].forEach(l);for(var u=!1,h=0;h<a.length;h+=3)if(-1==a[h+1]){var d=n.map(e[h]+o),f=d-r;if(f<0||f>=i.content.size){u=!0;continue}var p=n.map(e[h+1]+o,-1)-r,g=i.content.findIndex(f),m=g.index,v=g.offset,y=i.maybeChild(m);if(y&&v==f&&v+y.nodeSize==p){var b=a[h+2].mapInner(n,y,d+1,e[h]+o+1,s);b!=Em?(a[h]=f,a[h+1]=p,a[h+2]=b):(a[h+1]=-2,u=!0)}else u=!0}if(u){var _=function(e,t,n,i,r,o,s){function a(e,t){for(var o=0;o<e.local.length;o++){var l=e.local[o].map(i,r,t);l?n.push(l):s.onRemove&&s.onRemove(e.local[o].spec)}for(var c=0;c<e.children.length;c+=3)a(e.children[c+2],e.children[c]+t+1)}for(var l=0;l<e.length;l+=3)-1==e[l+1]&&a(e[l+2],t[l]+o+1);return n}(a,e,t||[],n,r,o,s),w=Am(_,i,0,s);t=w.local;for(var C=0;C<a.length;C+=3)a[C+1]<0&&(a.splice(C,3),C-=3);for(var x=0,k=0;x<w.children.length;x+=3){for(var S=w.children[x];k<a.length&&a[k]<S;)k+=3;a.splice(k,0,w.children[x],w.children[x+1],w.children[x+2])}}return new Dm(t&&t.sort(Im),a)}(this.children,o,e,t,n,i,r):o?new Dm(o.sort(Im)):Em},Dm.prototype.add=function(e,t){return t.length?this==Em?Dm.create(e,t):this.addInner(e,t,0):this},Dm.prototype.addInner=function(e,t,n){var i,r=this,o=0;e.forEach((function(e,s){var a,l=s+n;if(a=Nm(t,e,l)){for(i||(i=r.children.slice());o<i.length&&i[o]<s;)o+=3;i[o]==s?i[o+2]=i[o+2].addInner(e,a,l+1):i.splice(o,0,s,s+e.nodeSize,Am(a,e,l+1,Sm)),o+=3}}));for(var s=Tm(o?Mm(t):t,-n),a=0;a<s.length;a++)s[a].type.valid(e,s[a])||s.splice(a--,1);return new Dm(s.length?this.local.concat(s).sort(Im):this.local,i||this.children)},Dm.prototype.remove=function(e){return 0==e.length||this==Em?this:this.removeInner(e,0)},Dm.prototype.removeInner=function(e,t){for(var n=this.children,i=this.local,r=0;r<n.length;r+=3){for(var o=void 0,s=n[r]+t,a=n[r+1]+t,l=0,c=void 0;l<e.length;l++)(c=e[l])&&c.from>s&&c.to<a&&(e[l]=null,(o||(o=[])).push(c));if(o){n==this.children&&(n=this.children.slice());var u=n[r+2].removeInner(o,s+1);u!=Em?n[r+2]=u:(n.splice(r,3),r-=3)}}if(i.length)for(var h=0,d=void 0;h<e.length;h++)if(d=e[h])for(var f=0;f<i.length;f++)i[f].eq(d,t)&&(i==this.local&&(i=this.local.slice()),i.splice(f--,1));return n==this.children&&i==this.local?this:i.length||n.length?new Dm(i,n):Em},Dm.prototype.forChild=function(e,t){if(this==Em)return this;if(t.isLeaf)return Dm.empty;for(var n,i,r=0;r<this.children.length;r+=3)if(this.children[r]>=e){this.children[r]==e&&(n=this.children[r+2]);break}for(var o=e+1,s=o+t.content.size,a=0;a<this.local.length;a++){var l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof _m){var c=Math.max(o,l.from)-o,u=Math.min(s,l.to)-o;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){var h=new Dm(i.sort(Im));return n?new Lm([h,n]):h}return n||Em},Dm.prototype.eq=function(e){if(this==e)return!0;if(!(e instanceof Dm)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(var t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0},Dm.prototype.locals=function(e){return Om(this.localsInner(e))},Dm.prototype.localsInner=function(e){if(this==Em)return km;if(e.inlineContent||!this.local.some(_m.is))return this.local;for(var t=[],n=0;n<this.local.length;n++)this.local[n].type instanceof _m||t.push(this.local[n]);return t};var Em=new Dm;Dm.empty=Em,Dm.removeOverlap=Om;var Lm=function(e){this.members=e};function Tm(e,t){if(!t||!e.length)return e;for(var n=[],i=0;i<e.length;i++){var r=e[i];n.push(new Cm(r.from+t,r.to+t,r.type))}return n}function Nm(e,t,n){if(t.isLeaf)return null;for(var i=n+t.nodeSize,r=null,o=0,s=void 0;o<e.length;o++)(s=e[o])&&s.from>n&&s.to<i&&((r||(r=[])).push(s),e[o]=null);return r}function Mm(e){for(var t=[],n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function Am(e,t,n,i){var r=[],o=!1;t.forEach((function(t,s){var a=Nm(e,t,s+n);if(a){o=!0;var l=Am(a,t,n+s+1,i);l!=Em&&r.push(s,s+t.nodeSize,l)}}));for(var s=Tm(o?Mm(e):e,-n).sort(Im),a=0;a<s.length;a++)s[a].type.valid(t,s[a])||(i.onRemove&&i.onRemove(s[a].spec),s.splice(a--,1));return s.length||r.length?new Dm(s,r):Em}function Im(e,t){return e.from-t.from||e.to-t.to}function Om(e){for(var t=e,n=0;n<t.length-1;n++){var i=t[n];if(i.from!=i.to)for(var r=n+1;r<t.length;r++){var o=t[r];if(o.from!=i.from){o.from<i.to&&(t==e&&(t=e.slice()),t[n]=i.copy(i.from,o.from),Fm(t,r,i.copy(o.from,i.to)));break}o.to!=i.to&&(t==e&&(t=e.slice()),t[r]=o.copy(o.from,i.to),Fm(t,r+1,o.copy(i.to,o.to)))}}return t}function Fm(e,t,n){for(;t<e.length&&Im(n,e[t])>0;)t++;e.splice(t,0,n)}function Rm(e){var t=[];return e.someProp("decorations",(function(n){var i=n(e.state);i&&i!=Em&&t.push(i)})),e.cursorWrapper&&t.push(Dm.create(e.state.doc,[e.cursorWrapper.deco])),Lm.from(t)}Lm.prototype.map=function(e,t){var n=this.members.map((function(n){return n.map(e,t,Sm)}));return Lm.from(n)},Lm.prototype.forChild=function(e,t){if(t.isLeaf)return Dm.empty;for(var n=[],i=0;i<this.members.length;i++){var r=this.members[i].forChild(e,t);r!=Em&&(r instanceof Lm?n=n.concat(r.members):n.push(r))}return Lm.from(n)},Lm.prototype.eq=function(e){if(!(e instanceof Lm)||e.members.length!=this.members.length)return!1;for(var t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0},Lm.prototype.locals=function(e){for(var t,n=!0,i=0;i<this.members.length;i++){var r=this.members[i].localsInner(e);if(r.length)if(t){n&&(t=t.slice(),n=!1);for(var o=0;o<r.length;o++)t.push(r[o])}else t=r}return t?Om(n?t:t.sort(Im)):km},Lm.from=function(e){switch(e.length){case 0:return Em;case 1:return e[0];default:return new Lm(e)}};var Pm=function(e,t){this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(Hm),this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):e.apply?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Vm(this),this.markCursor=null,this.cursorWrapper=null,zm(this),this.nodeViews=Wm(this),this.docView=Hp(this.state.doc,jm(this),Rm(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function(e){e.shiftKey=!1,e.mouseDown=null,e.lastKeyCode=null,e.lastKeyCodeTime=0,e.lastClick={time:0,x:0,y:0,type:""},e.lastSelectionOrigin=null,e.lastSelectionTime=0,e.lastIOSEnter=0,e.lastIOSEnterFallbackTimeout=null,e.lastAndroidDelete=0,e.composing=!1,e.composingTimeout=null,e.compositionNodes=[],e.compositionEndedAt=-2e8,e.domObserver=new qg(e,(function(t,n,i,r){return Ng(e,t,n,i,r)})),e.domObserver.start(),e.domChangeCount=0,e.eventHandlers=Object.create(null);var t=function(t){var n=Yg[t];e.dom.addEventListener(t,e.eventHandlers[t]=function(t){!function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(var n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}(e,t)||Jg(e,t)||!e.editable&&t.type in Gg||n(e,t)})};for(var n in Yg)t(n);Zf.safari&&e.dom.addEventListener("input",(function(){return null})),Zg(e)}(this),this.prevDirectPlugins=[],this.pluginViews=[],this.updatePluginViews()},Bm={props:{configurable:!0},root:{configurable:!0},isDestroyed:{configurable:!0}};function jm(e){var t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),t.translate="no",e.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(e.state)),n)for(var i in n)"class"==i&&(t.class+=" "+n[i]),"style"==i?t.style=(t.style?t.style+";":"")+n[i]:t[i]||"contenteditable"==i||"nodeName"==i||(t[i]=String(n[i]))})),[Cm.node(0,e.state.doc.content.size,t)]}function zm(e){if(e.markCursor){var t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),e.cursorWrapper={dom:t,deco:Cm.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function Vm(e){return!e.someProp("editable",(function(t){return!1===t(e.state)}))}function Wm(e){var t={};return e.someProp("nodeViews",(function(e){for(var n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])})),t}function Hm(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}function Um(e,t){return new Mf(e,((e,n,i,r)=>{const{tr:o}=e,s=n.length;let a=i,l=r;if(n[s-1]){const c=n[0],u=n[s-1],h=n[s-2],d=i+c.indexOf(h),f=d+h.length-1,p=d+h.lastIndexOf(u),g=p+u.length,m=function(e,t,n){let i=[];return n.doc.nodesBetween(e,t,((e,t)=>{i=[...i,...e.marks.map((n=>({start:t,end:t+e.nodeSize,mark:n})))]})),i}(i,r,e).filter((e=>e.mark.type.excludes(t))).filter((e=>e.end>d));if(m.length)return null;g<f&&o.delete(g,f),p>d&&o.delete(d,p),a=d,l=a+u.length}return o.addMark(a,l,t.create()),o.removeStoredMark(t),o}))}Bm.props.get=function(){if(this._props.state!=this.state){var e=this._props;for(var t in this._props={},e)this._props[t]=e[t];this._props.state=this.state}return this._props},Pm.prototype.update=function(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Zg(this),this._props=e,e.plugins&&(e.plugins.forEach(Hm),this.directPlugins=e.plugins),this.updateStateInner(e.state,!0)},Pm.prototype.setProps=function(e){var t={};for(var n in this._props)t[n]=this._props[n];for(var i in t.state=this.state,e)t[i]=e[i];this.update(t)},Pm.prototype.updateState=function(e){this.updateStateInner(e,this.state.plugins!=e.plugins)},Pm.prototype.updateStateInner=function(e,t){var n=this,i=this.state,r=!1,o=!1;if(e.storedMarks&&this.composing&&(hm(this),o=!0),this.state=e,t){var s=Wm(this);(function(e,t){var n=0,i=0;for(var r in e){if(e[r]!=t[r])return!0;n++}for(var o in t)i++;return n!=i})(s,this.nodeViews)&&(this.nodeViews=s,r=!0),Zg(this)}this.editable=Vm(this),zm(this);var a=Rm(this),l=jm(this),c=t?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",u=r||!this.docView.matchesNode(e.doc,l,a);!u&&e.selection.eq(i.selection)||(o=!0);var h,d,f,p,g,m,v,y,b,_,w,C="preserve"==c&&o&&null==this.dom.style.overflowAnchor&&function(e){for(var t,n,i=e.dom.getBoundingClientRect(),r=Math.max(0,i.top),o=(i.left+i.right)/2,s=r+1;s<Math.min(innerHeight,i.bottom);s+=5){var a=e.root.elementFromPoint(o,s);if(a!=e.dom&&e.dom.contains(a)){var l=a.getBoundingClientRect();if(l.top>=r-20){t=a,n=l.top;break}}}return{refDOM:t,refTop:n,stack:yp(e.dom)}}(this);if(o){this.domObserver.stop();var x=u&&(Zf.ie||Zf.chrome)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&(p=i.selection,g=e.selection,m=Math.min(p.$anchor.sharedDepth(p.head),g.$anchor.sharedDepth(g.head)),p.$anchor.start(m)!=g.$anchor.start(m));if(u){var k=Zf.chrome?this.trackWrites=this.root.getSelection().focusNode:null;!r&&this.docView.update(e.doc,l,a,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Hp(e.doc,l,a,this.dom,this)),k&&!this.trackWrites&&(x=!0)}x||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&(h=this,d=h.docView.domFromPos(h.state.selection.anchor,0),f=h.root.getSelection(),ap(d.node,d.offset,f.anchorNode,f.anchorOffset)))?ag(this,x):(dg(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(i),"reset"==c)this.dom.scrollTop=0;else if("to selection"==c){var S=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(e){return e(n)}))||(e.selection instanceof Yd?vp(this,this.docView.domAfterPos(e.selection.from).getBoundingClientRect(),S):vp(this,this.coordsAtPos(e.selection.head,1),S))}else C&&(y=(v=C).refDOM,b=v.refTop,_=v.stack,w=y?y.getBoundingClientRect().top:0,bp(_,0==w?0:w-b))},Pm.prototype.destroyPluginViews=function(){for(var e;e=this.pluginViews.pop();)e.destroy&&e.destroy()},Pm.prototype.updatePluginViews=function(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(var t=0;t<this.pluginViews.length;t++){var n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var i=0;i<this.directPlugins.length;i++){var r=this.directPlugins[i];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(var o=0;o<this.state.plugins.length;o++){var s=this.state.plugins[o];s.spec.view&&this.pluginViews.push(s.spec.view(this))}}},Pm.prototype.someProp=function(e,t){var n,i=this._props&&this._props[e];if(null!=i&&(n=t?t(i):i))return n;for(var r=0;r<this.directPlugins.length;r++){var o=this.directPlugins[r].props[e];if(null!=o&&(n=t?t(o):o))return n}var s=this.state.plugins;if(s)for(var a=0;a<s.length;a++){var l=s[a].props[e];if(null!=l&&(n=t?t(l):l))return n}},Pm.prototype.hasFocus=function(){return this.root.activeElement==this.dom},Pm.prototype.focus=function(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(_p)return e.focus(_p);var t=yp(e);e.focus(null==_p?{get preventScroll(){return _p={preventScroll:!0},!0}}:void 0),_p||(_p=!1,bp(t,0))}(this.dom),ag(this),this.domObserver.start()},Bm.root.get=function(){var e=this._root;if(null==e)for(var t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=function(){return document.getSelection()}),this._root=t;return e||document},Pm.prototype.posAtCoords=function(e){return kp(this,e)},Pm.prototype.coordsAtPos=function(e,t){return void 0===t&&(t=1),Ep(this,e,t)},Pm.prototype.domAtPos=function(e,t){return void 0===t&&(t=0),this.docView.domFromPos(e,t)},Pm.prototype.nodeDOM=function(e){var t=this.docView.descAt(e);return t?t.nodeDOM:null},Pm.prototype.posAtDOM=function(e,t,n){void 0===n&&(n=-1);var i=this.docView.posFromDOM(e,t,n);if(null==i)throw new RangeError("DOM position not inside the editor");return i},Pm.prototype.endOfTextblock=function(e,t){return Fp(this,t||this.state,e)},Pm.prototype.destroy=function(){this.docView&&(!function(e){for(var t in e.domObserver.stop(),e.eventHandlers)e.dom.removeEventListener(t,e.eventHandlers[t]);clearTimeout(e.composingTimeout),clearTimeout(e.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Rm(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},Bm.isDestroyed.get=function(){return null==this.docView},Pm.prototype.dispatchEvent=function(e){return function(e,t){Jg(e,t)||!Yg[t.type]||!e.editable&&t.type in Gg||Yg[t.type](e,t)}(this,e)},Pm.prototype.dispatch=function(e){var t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))},Object.defineProperties(Pm.prototype,Bm);const $m=(e,t,n)=>{var i;const r=e.state,{from:o}=r.selection,s=e.domAtPos(o).node;if(!(s instanceof HTMLElement))throw new Error;const a=s.getBoundingClientRect(),l=t.getBoundingClientRect(),c=null===(i=t.parentElement)||void 0===i?void 0:i.getBoundingClientRect();if(!c)throw new Error;const[u,h]=n(a,l,c);t.style.top=u+"px",t.style.left=h+"px"},qm=(e,t,n)=>{var i;const r=e.state,{from:o,to:s}=r.selection,a=e.coordsAtPos(o),l=e.coordsAtPos(s),c=t.getBoundingClientRect(),u=null===(i=t.parentElement)||void 0===i?void 0:i.getBoundingClientRect();if(!u)throw new Error;const[h,d]=n(a,l,c,u);t.style.top=h+"px",t.style.left=d+"px"},Km=e=>Object.assign(Object.create(e),e).setTime(Date.now()),Ym=e=>t=>(e=>t=>{for(let n=t.depth;n>0;n--){const i=t.node(n);if(e(i))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:i}}})(e)(t.$from),Gm=(e,t)=>{if(!(e instanceof Yd))return;const{node:n,$from:i}=e;return((e,t)=>Array.isArray(e)&&e.indexOf(t.type)>-1||t.type===e)(t,n)?{node:n,pos:i.pos,start:i.start(i.depth),depth:i.depth}:void 0};function Xm(e){if(e)throw e}var Zm="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Jm=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},Qm=Object.prototype.hasOwnProperty,ev=Object.prototype.toString,tv=Object.defineProperty,nv=Object.getOwnPropertyDescriptor,iv=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===ev.call(e)},rv=function(e){if(!e||"[object Object]"!==ev.call(e))return!1;var t,n=Qm.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&Qm.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!i)return!1;for(t in e);return void 0===t||Qm.call(e,t)},ov=function(e,t){tv&&"__proto__"===t.name?tv(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},sv=function(e,t){if("__proto__"===t){if(!Qm.call(e,t))return;if(nv)return nv(e,t).value}return e[t]},av=function e(){var t,n,i,r,o,s,a=arguments[0],l=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[1]||{},l=2),(null==a||"object"!=typeof a&&"function"!=typeof a)&&(a={});l<c;++l)if(null!=(t=arguments[l]))for(n in t)i=sv(a,n),a!==(r=sv(t,n))&&(u&&r&&(rv(r)||(o=iv(r)))?(o?(o=!1,s=i&&iv(i)?i:[]):s=i&&rv(i)?i:{},ov(a,{name:n,newValue:e(u,s,r)})):void 0!==r&&ov(a,{name:n,newValue:r}));return a};
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function lv(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function cv(){const e=[],t={run:function(...t){let n=-1;const i=t.pop();if("function"!=typeof i)throw new TypeError("Expected function as last argument, not "+i);!function r(o,...s){const a=e[++n];let l=-1;if(o)i(o);else{for(;++l<t.length;)null!==s[l]&&void 0!==s[l]||(s[l]=t[l]);t=s,a?function(e,t){let n;return i;function i(...t){const i=e.length>t.length;let a;i&&t.push(r);try{a=e(...t)}catch(o){const t=o;if(i&&n)throw t;return r(t)}i||(a instanceof Promise?a.then(s,r):a instanceof Error?r(a):s(a))}function r(e,...i){n||(n=!0,t(e,...i))}function s(e){r(null,e)}}(a,r)(...s):i(null,...s)}}(null,...t)},use:function(n){if("function"!=typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}var uv={}.hasOwnProperty;function hv(e){return e&&"object"==typeof e?uv.call(e,"position")||uv.call(e,"type")?fv(e.position):uv.call(e,"start")||uv.call(e,"end")?fv(e):uv.call(e,"line")||uv.call(e,"column")?dv(e):"":""}function dv(e){return pv(e&&e.line)+":"+pv(e&&e.column)}function fv(e){return dv(e&&e.start)+"-"+dv(e&&e.end)}function pv(e){return e&&"number"==typeof e?e:1}class gv extends Error{constructor(e,t,n){var i,r=[null,null],o={start:{line:null,column:null},end:{line:null,column:null}};super(),"string"==typeof t&&(n=t,t=null),"string"==typeof n&&(-1===(i=n.indexOf(":"))?r[1]=n:(r[0]=n.slice(0,i),r[1]=n.slice(i+1))),t&&("type"in t||"position"in t?t.position&&(o=t.position):"start"in t||"end"in t?o=t:("line"in t||"column"in t)&&(o.start=t)),this.name=hv(t)||"1:1",this.message="object"==typeof e?e.message:e,this.stack="object"==typeof e?e.stack:"",this.reason=this.message,this.line=o.start.line,this.column=o.start.column,this.source=r[0],this.ruleId=r[1],this.position=o,this.file,this.fatal,this.url,this.note}}gv.prototype.file="",gv.prototype.name="",gv.prototype.reason="",gv.prototype.message="",gv.prototype.stack="",gv.prototype.fatal=null,gv.prototype.column=null,gv.prototype.line=null,gv.prototype.source=null,gv.prototype.ruleId=null,gv.prototype.position=null;const mv={basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');vv(e);let n,i=0,r=-1,o=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;o--;)if(47===e.charCodeAt(o)){if(n){i=o+1;break}}else r<0&&(n=!0,r=o+1);return r<0?"":e.slice(i,r)}if(t===e)return"";let s=-1,a=t.length-1;for(;o--;)if(47===e.charCodeAt(o)){if(n){i=o+1;break}}else s<0&&(n=!0,s=o+1),a>-1&&(e.charCodeAt(o)===t.charCodeAt(a--)?a<0&&(r=o):(a=-1,r=s));i===r?r=s:r<0&&(r=e.length);return e.slice(i,r)},dirname:function(e){if(vv(e),0===e.length)return".";let t,n=-1,i=e.length;for(;--i;)if(47===e.charCodeAt(i)){if(t){n=i;break}}else t||(t=!0);return n<0?47===e.charCodeAt(0)?"/":".":1===n&&47===e.charCodeAt(0)?"//":e.slice(0,n)},extname:function(e){vv(e);let t,n=e.length,i=-1,r=0,o=-1,s=0;for(;n--;){const a=e.charCodeAt(n);if(47!==a)i<0&&(t=!0,i=n+1),46===a?o<0?o=n:1!==s&&(s=1):o>-1&&(s=-1);else if(t){r=n+1;break}}if(o<0||i<0||0===s||1===s&&o===i-1&&o===r+1)return"";return e.slice(o,i)},join:function(...e){let t,n=-1;for(;++n<e.length;)vv(e[n]),e[n]&&(t=void 0===t?e[n]:t+"/"+e[n]);return void 0===t?".":function(e){vv(e);const t=47===e.charCodeAt(0);let n=function(e,t){let n,i,r="",o=0,s=-1,a=0,l=-1;for(;++l<=e.length;){if(l<e.length)n=e.charCodeAt(l);else{if(47===n)break;n=47}if(47===n){if(s===l-1||1===a);else if(s!==l-1&&2===a){if(r.length<2||2!==o||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){if(i=r.lastIndexOf("/"),i!==r.length-1){i<0?(r="",o=0):(r=r.slice(0,i),o=r.length-1-r.lastIndexOf("/")),s=l,a=0;continue}}else if(r.length>0){r="",o=0,s=l,a=0;continue}t&&(r=r.length>0?r+"/..":"..",o=2)}else r.length>0?r+="/"+e.slice(s+1,l):r=e.slice(s+1,l),o=l-s-1;s=l,a=0}else 46===n&&a>-1?a++:a=-1}return r}(e,!t);0!==n.length||t||(n=".");n.length>0&&47===e.charCodeAt(e.length-1)&&(n+="/");return t?"/"+n:n}(t)},sep:"/"};function vv(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const yv={cwd:function(){return"/"}};function bv(e){return null!==e&&"object"==typeof e&&e.href&&e.origin}function _v(e){if("string"==typeof e)e=new URL(e);else if(!bv(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let n=-1;for(;++n<t.length;)if(37===t.charCodeAt(n)&&50===t.charCodeAt(n+1)){const e=t.charCodeAt(n+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}const wv=["history","path","basename","stem","extname","dirname"];class Cv{constructor(e){let t;t=e?"string"==typeof e||Jm(e)?{value:e}:bv(e)?{path:e}:e:{},this.data={},this.messages=[],this.history=[],this.cwd=yv.cwd(),this.value,this.stored,this.result,this.map;let n,i=-1;for(;++i<wv.length;){const e=wv[i];e in t&&void 0!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(n in t)wv.includes(n)||(this[n]=t[n])}get path(){return this.history[this.history.length-1]}set path(e){bv(e)&&(e=_v(e)),kv(e,"path"),this.path!==e&&this.history.push(e)}get dirname(){return"string"==typeof this.path?mv.dirname(this.path):void 0}set dirname(e){Sv(this.basename,"dirname"),this.path=mv.join(e||"",this.basename)}get basename(){return"string"==typeof this.path?mv.basename(this.path):void 0}set basename(e){kv(e,"basename"),xv(e,"basename"),this.path=mv.join(this.dirname||"",e)}get extname(){return"string"==typeof this.path?mv.extname(this.path):void 0}set extname(e){if(xv(e,"extname"),Sv(this.dirname,"extname"),e){if(46!==e.charCodeAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=mv.join(this.dirname,this.stem+(e||""))}get stem(){return"string"==typeof this.path?mv.basename(this.path,this.extname):void 0}set stem(e){kv(e,"stem"),xv(e,"stem"),this.path=mv.join(this.dirname||"",e+(this.extname||""))}toString(e){return(this.value||"").toString(e)}message(e,t,n){const i=new gv(e,t,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(e,t,n){const i=this.message(e,t,n);return i.fatal=null,i}fail(e,t,n){const i=this.message(e,t,n);throw i.fatal=!0,i}}function xv(e,t){if(e&&e.includes(mv.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+mv.sep+"`")}function kv(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Sv(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const Dv=function e(){const t=cv(),n=[];let i,r={},o=-1;return s.data=function(e,t){if("string"==typeof e)return 2===arguments.length?(Mv("data",i),r[e]=t,s):Ev.call(r,e)&&r[e]||null;if(e)return Mv("data",i),r=e,s;return r},s.Parser=void 0,s.Compiler=void 0,s.freeze=function(){if(i)return s;for(;++o<n.length;){const[e,...i]=n[o];if(!1===i[0])continue;!0===i[0]&&(i[1]=void 0);const r=e.call(s,...i);"function"==typeof r&&t.use(r)}return i=!0,o=Number.POSITIVE_INFINITY,s},s.attachers=n,s.use=function(e,...t){let o;if(Mv("use",i),null==e);else if("function"==typeof e)u(e,...t);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?c(e):l(e)}o&&(r.settings=Object.assign(r.settings||{},o));return s;function a(e){if("function"==typeof e)u(e);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...n]=e;u(t,...n)}else l(e)}}function l(e){c(e.plugins),e.settings&&(o=Object.assign(o||{},e.settings))}function c(e){let t=-1;if(null==e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){a(e[t])}}}function u(e,t){let i,r=-1;for(;++r<n.length;)if(n[r][0]===e){i=n[r];break}i?(lv(i[1])&&lv(t)&&(t=av(!0,i[1],t)),i[1]=t):n.push([...arguments])}},s.parse=function(e){s.freeze();const t=Ov(e),n=s.Parser;if(Tv("parse",n),Lv(n,"parse"))return new n(String(t),t).parse();return n(String(t),t)},s.stringify=function(e,t){s.freeze();const n=Ov(t),i=s.Compiler;if(Nv("stringify",i),Av(e),Lv(i,"compile"))return new i(e,n).compile();return i(e,n)},s.run=function(e,n,i){Av(e),s.freeze(),i||"function"!=typeof n||(i=n,n=void 0);if(!i)return new Promise(r);function r(r,o){function s(t,n,s){n=n||e,t?o(t):r?r(n):i(null,n,s)}t.run(e,Ov(n),s)}r(null,i)},s.runSync=function(e,t){let n,i;return s.run(e,t,r),Iv("runSync","run",i),n;function r(e,t){Xm(e),n=t,i=!0}},s.process=function(e,t){if(s.freeze(),Tv("process",s.Parser),Nv("process",s.Compiler),!t)return new Promise(n);function n(n,i){const r=Ov(e);function o(e,r){e||!r?i(e):n?n(r):t(null,r)}s.run(s.parse(r),r,((e,t,n)=>{if(!e&&t&&n){const r=s.stringify(t,n);null==r||("string"==typeof(i=r)||Jm(i)?n.value=r:n.result=r),o(e,n)}else o(e);var i}))}n(null,t)},s.processSync=function(e){let t;s.freeze(),Tv("processSync",s.Parser),Nv("processSync",s.Compiler);const n=Ov(e);return s.process(n,i),Iv("processSync","process",t),n;function i(e){t=!0,Xm(e)}},s;function s(){const t=e();let i=-1;for(;++i<n.length;)t.use(...n[i]);return t.data(av(!0,{},r)),t}}().freeze(),Ev={}.hasOwnProperty;function Lv(e,t){return"function"==typeof e&&e.prototype&&(function(e){let t;for(t in e)if(Ev.call(e,t))return!0;return!1}(e.prototype)||t in e.prototype)}function Tv(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `Parser`")}function Nv(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `Compiler`")}function Mv(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Av(e){if(!lv(e)||"string"!=typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function Iv(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Ov(e){return function(e){return Boolean(e&&"object"==typeof e&&"message"in e&&"messages"in e)}(e)?e:new Cv(e)}function Fv(e,t){var{includeImageAlt:n=!0}=t||{};return Rv(e,n)}function Rv(e,t){return e&&"object"==typeof e&&(e.value||(t?e.alt:"")||"children"in e&&Pv(e.children,t)||Array.isArray(e)&&Pv(e,t))||""}function Pv(e,t){for(var n=[],i=-1;++i<e.length;)n[i]=Rv(e[i],t);return n.join("")}function Bv(e,t,n,i){const r=e.length;let o,s=0;if(t=t<0?-t>r?0:r+t:t>r?r:t,n=n>0?n:0,i.length<1e4)o=Array.from(i),o.unshift(t,n),[].splice.apply(e,o);else for(n&&[].splice.apply(e,[t,n]);s<i.length;)o=i.slice(s,s+1e4),o.unshift(t,0),[].splice.apply(e,o),s+=1e4,t+=1e4}function jv(e,t){return e.length>0?(Bv(e,e.length,0,t),e):t}const zv={}.hasOwnProperty;function Vv(e){const t={};let n=-1;for(;++n<e.length;)Wv(t,e[n]);return t}function Wv(e,t){let n;for(n in t){const i=(zv.call(e,n)?e[n]:void 0)||(e[n]={}),r=t[n];let o;for(o in r){zv.call(i,o)||(i[o]=[]);const e=r[o];Hv(i[o],Array.isArray(e)?e:e?[e]:[])}}}function Hv(e,t){let n=-1;const i=[];for(;++n<t.length;)("after"===t[n].add?e:i).push(t[n]);Bv(e,0,0,i)}const Uv=ny(/[A-Za-z]/),$v=ny(/\d/),qv=ny(/[\dA-Fa-f]/),Kv=ny(/[\dA-Za-z]/),Yv=ny(/[!-/:-@[-`{-~]/),Gv=ny(/[#-'*+\--9=?A-Z^-~]/);function Xv(e){return null!==e&&(e<32||127===e)}function Zv(e){return null!==e&&(e<0||32===e)}function Jv(e){return null!==e&&e<-2}function Qv(e){return-2===e||-1===e||32===e}const ey=ny(/\s/),ty=ny(/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/);function ny(e){return function(t){return null!==t&&e.test(String.fromCharCode(t))}}function iy(e,t,n,i){const r=i?i-1:Number.POSITIVE_INFINITY;let o=0;return function(i){if(Qv(i))return e.enter(n),s(i);return t(i)};function s(i){return Qv(i)&&o++<r?(e.consume(i),s):(e.exit(n),t(i))}}const ry={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,(function(n){if(null===n)return void e.consume(n);return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),iy(e,t,"linePrefix")}),(function(t){return e.enter("paragraph"),i(t)}));let n;return t;function i(t){const i=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=i),n=i,r(t)}function r(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):Jv(t)?(e.consume(t),e.exit("chunkText"),i):(e.consume(t),r)}}};const oy={tokenize:function(e){const t=this,n=[];let i,r,o,s=0;return a;function a(i){if(s<n.length){const r=n[s];return t.containerState=r[1],e.attempt(r[0].continuation,l,c)(i)}return c(i)}function l(e){if(s++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&y();const n=t.events.length;let r,o=n;for(;o--;)if("exit"===t.events[o][0]&&"chunkFlow"===t.events[o][1].type){r=t.events[o][1].end;break}v(s);let a=n;for(;a<t.events.length;)t.events[a][1].end=Object.assign({},r),a++;return Bv(t.events,o+1,0,t.events.slice(n)),t.events.length=a,c(e)}return a(e)}function c(r){if(s===n.length){if(!i)return d(r);if(i.currentConstruct&&i.currentConstruct.concrete)return p(r);t.interrupt=Boolean(i.currentConstruct)}return t.containerState={},e.check(sy,u,h)(r)}function u(e){return i&&y(),v(s),d(e)}function h(e){return t.parser.lazy[t.now().line]=s!==n.length,o=t.now().offset,p(e)}function d(n){return t.containerState={},e.attempt(sy,f,p)(n)}function f(e){return s++,n.push([t.currentConstruct,t.containerState]),d(e)}function p(n){return null===n?(i&&y(),v(0),void e.consume(n)):(i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:r,_tokenizer:i}),g(n))}function g(n){return null===n?(m(e.exit("chunkFlow"),!0),v(0),void e.consume(n)):Jv(n)?(e.consume(n),m(e.exit("chunkFlow")),s=0,t.interrupt=void 0,a):(e.consume(n),g)}function m(e,n){const a=t.sliceStream(e);if(n&&a.push(null),e.previous=r,r&&(r.next=e),r=e,i.defineSkip(e.start),i.write(a),t.parser.lazy[e.start.line]){let e=i.events.length;for(;e--;)if(i.events[e][1].start.offset<o&&(!i.events[e][1].end||i.events[e][1].end.offset>o))return;const n=t.events.length;let r,a,l=n;for(;l--;)if("exit"===t.events[l][0]&&"chunkFlow"===t.events[l][1].type){if(r){a=t.events[l][1].end;break}r=!0}for(v(s),e=n;e<t.events.length;)t.events[e][1].end=Object.assign({},a),e++;Bv(t.events,l+1,0,t.events.slice(n)),t.events.length=e}}function v(i){let r=n.length;for(;r-- >i;){const i=n[r];t.containerState=i[1],i[0].exit.call(t,e)}n.length=i}function y(){i.write([null]),r=void 0,i=void 0,t.containerState._closeFlow=void 0}}},sy={tokenize:function(e,t,n){return iy(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};function ay(e){return null===e||Zv(e)||ey(e)?1:ty(e)?2:void 0}function ly(e,t,n){const i=[];let r=-1;for(;++r<e.length;){const o=e[r].resolveAll;o&&!i.includes(o)&&(t=o(t,n),i.push(o))}return t}const cy={name:"attention",tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,r=ay(i);let o;return function(t){return e.enter("attentionSequence"),o=t,s(t)};function s(a){if(a===o)return e.consume(a),s;const l=e.exit("attentionSequence"),c=ay(a),u=!c||2===c&&r||n.includes(a),h=!r||2===r&&c||n.includes(i);return l._open=Boolean(42===o?u:u&&(r||!h)),l._close=Boolean(42===o?h:h&&(c||!u)),t(a)}},resolveAll:function(e,t){let n,i,r,o,s,a,l,c,u=-1;for(;++u<e.length;)if("enter"===e[u][0]&&"attentionSequence"===e[u][1].type&&e[u][1]._close)for(n=u;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[u][1]).charCodeAt(0)){if((e[n][1]._close||e[u][1]._open)&&(e[u][1].end.offset-e[u][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[u][1].end.offset-e[u][1].start.offset)%3))continue;a=e[n][1].end.offset-e[n][1].start.offset>1&&e[u][1].end.offset-e[u][1].start.offset>1?2:1;const h=Object.assign({},e[n][1].end),d=Object.assign({},e[u][1].start);uy(h,-a),uy(d,a),o={type:a>1?"strongSequence":"emphasisSequence",start:h,end:Object.assign({},e[n][1].end)},s={type:a>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[u][1].start),end:d},r={type:a>1?"strongText":"emphasisText",start:Object.assign({},e[n][1].end),end:Object.assign({},e[u][1].start)},i={type:a>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},s.end)},e[n][1].end=Object.assign({},o.start),e[u][1].start=Object.assign({},s.end),l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=jv(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=jv(l,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",r,t]]),l=jv(l,ly(t.parser.constructs.insideSpan.null,e.slice(n+1,u),t)),l=jv(l,[["exit",r,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[u][1].end.offset-e[u][1].start.offset?(c=2,l=jv(l,[["enter",e[u][1],t],["exit",e[u][1],t]])):c=0,Bv(e,n-1,u-n+3,l),u=n+l.length-c-2;break}u=-1;for(;++u<e.length;)"attentionSequence"===e[u][1].type&&(e[u][1].type="data");return e}};function uy(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const hy={name:"autolink",tokenize:function(e,t,n){let i=1;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),r};function r(t){return Uv(t)?(e.consume(t),o):Gv(t)?l(t):n(t)}function o(e){return 43===e||45===e||46===e||Kv(e)?s(e):l(e)}function s(t){return 58===t?(e.consume(t),a):(43===t||45===t||46===t||Kv(t))&&i++<32?(e.consume(t),s):l(t)}function a(t){return 62===t?(e.exit("autolinkProtocol"),d(t)):null===t||32===t||60===t||Xv(t)?n(t):(e.consume(t),a)}function l(t){return 64===t?(e.consume(t),i=0,c):Gv(t)?(e.consume(t),l):n(t)}function c(e){return Kv(e)?u(e):n(e)}function u(t){return 46===t?(e.consume(t),i=0,c):62===t?(e.exit("autolinkProtocol").type="autolinkEmail",d(t)):h(t)}function h(t){return(45===t||Kv(t))&&i++<63?(e.consume(t),45===t?h:u):n(t)}function d(n){return e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t}}};const dy={tokenize:function(e,t,n){return iy(e,(function(e){return null===e||Jv(e)?t(e):n(e)}),"linePrefix")},partial:!0};const fy={name:"blockQuote",tokenize:function(e,t,n){const i=this;return function(t){if(62===t){const n=i.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),r}return n(t)};function r(n){return Qv(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}},continuation:{tokenize:function(e,t,n){return iy(e,e.attempt(fy,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}},exit:function(e){e.exit("blockQuote")}};const py={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),i};function i(i){return Yv(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}};const gy=document.createElement("i");function my(e){const t="&"+e+";";gy.innerHTML=t;const n=gy.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&(n!==t&&n)}const vy={name:"characterReference",tokenize:function(e,t,n){const i=this;let r,o,s=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),a};function a(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),r=31,o=Kv,c(t))}function l(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),r=6,o=qv,c):(e.enter("characterReferenceValue"),r=7,o=$v,c(t))}function c(a){let l;return 59===a&&s?(l=e.exit("characterReferenceValue"),o!==Kv||my(i.sliceSerialize(l))?(e.enter("characterReferenceMarker"),e.consume(a),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(a)):o(a)&&s++<r?(e.consume(a),c):n(a)}}};const yy={name:"codeFenced",tokenize:function(e,t,n){const i=this,r={tokenize:function(e,t,n){let i=0;return iy(e,r,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function r(t){return e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),o(t)}function o(t){return t===l?(e.consume(t),i++,o):i<c?n(t):(e.exit("codeFencedFenceSequence"),iy(e,s,"whitespace")(t))}function s(i){return null===i||Jv(i)?(e.exit("codeFencedFence"),t(i)):n(i)}},partial:!0},o={tokenize:function(e,t,n){const i=this;return r;function r(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o}function o(e){return i.parser.lazy[i.now().line]?n(e):t(e)}},partial:!0},s=this.events[this.events.length-1],a=s&&"linePrefix"===s[1].type?s[2].sliceSerialize(s[1],!0).length:0;let l,c=0;return function(t){return e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l=t,u(t)};function u(t){return t===l?(e.consume(t),c++,u):(e.exit("codeFencedFenceSequence"),c<3?n(t):iy(e,h,"whitespace")(t))}function h(t){return null===t||Jv(t)?g(t):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),d(t))}function d(t){return null===t||Zv(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),iy(e,f,"whitespace")(t)):96===t&&t===l?n(t):(e.consume(t),d)}function f(t){return null===t||Jv(t)?g(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(t))}function p(t){return null===t||Jv(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),g(t)):96===t&&t===l?n(t):(e.consume(t),p)}function g(n){return e.exit("codeFencedFence"),i.interrupt?t(n):m(n)}function m(t){return null===t?y(t):Jv(t)?e.attempt(o,e.attempt(r,y,a?iy(e,m,"linePrefix",a+1):m),y)(t):(e.enter("codeFlowValue"),v(t))}function v(t){return null===t||Jv(t)?(e.exit("codeFlowValue"),m(t)):(e.consume(t),v)}function y(n){return e.exit("codeFenced"),t(n)}},concrete:!0};const by={name:"codeIndented",tokenize:function(e,t,n){const i=this;return function(t){return e.enter("codeIndented"),iy(e,r,"linePrefix",5)(t)};function r(e){const t=i.events[i.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?o(e):n(e)}function o(t){return null===t?a(t):Jv(t)?e.attempt(_y,o,a)(t):(e.enter("codeFlowValue"),s(t))}function s(t){return null===t||Jv(t)?(e.exit("codeFlowValue"),o(t)):(e.consume(t),s)}function a(n){return e.exit("codeIndented"),t(n)}}},_y={tokenize:function(e,t,n){const i=this;return r;function r(t){return i.parser.lazy[i.now().line]?n(t):Jv(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),r):iy(e,o,"linePrefix",5)(t)}function o(e){const o=i.events[i.events.length-1];return o&&"linePrefix"===o[1].type&&o[2].sliceSerialize(o[1],!0).length>=4?t(e):Jv(e)?r(e):n(e)}},partial:!0};const wy={name:"codeText",tokenize:function(e,t,n){let i,r,o=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),s(t)};function s(t){return 96===t?(e.consume(t),o++,s):(e.exit("codeTextSequence"),a(t))}function a(t){return null===t?n(t):96===t?(r=e.enter("codeTextSequence"),i=0,c(t)):32===t?(e.enter("space"),e.consume(t),e.exit("space"),a):Jv(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),a):(e.enter("codeTextData"),l(t))}function l(t){return null===t||32===t||96===t||Jv(t)?(e.exit("codeTextData"),a(t)):(e.consume(t),l)}function c(n){return 96===n?(e.consume(n),i++,c):i===o?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(r.type="codeTextData",l(n))}},resolve:function(e){let t,n,i=e.length-4,r=3;if(!("lineEnding"!==e[r][1].type&&"space"!==e[r][1].type||"lineEnding"!==e[i][1].type&&"space"!==e[i][1].type))for(t=r;++t<i;)if("codeTextData"===e[t][1].type){e[r][1].type="codeTextPadding",e[i][1].type="codeTextPadding",r+=2,i-=2;break}t=r-1,i++;for(;++t<=i;)void 0===n?t!==i&&"lineEnding"!==e[t][1].type&&(n=t):t!==i&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),i-=t-n-2,t=n+2),n=void 0);return e},previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type}};function Cy(e){const t={};let n,i,r,o,s,a,l,c=-1;for(;++c<e.length;){for(;c in t;)c=t[c];if(n=e[c],c&&"chunkFlow"===n[1].type&&"listItemPrefix"===e[c-1][1].type&&(a=n[1]._tokenizer.events,r=0,r<a.length&&"lineEndingBlank"===a[r][1].type&&(r+=2),r<a.length&&"content"===a[r][1].type))for(;++r<a.length&&"content"!==a[r][1].type;)"chunkText"===a[r][1].type&&(a[r][1]._isInFirstContentOfListItem=!0,r++);if("enter"===n[0])n[1].contentType&&(Object.assign(t,xy(e,c)),c=t[c],l=!0);else if(n[1]._container){for(r=c,i=void 0;r--&&(o=e[r],"lineEnding"===o[1].type||"lineEndingBlank"===o[1].type);)"enter"===o[0]&&(i&&(e[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=r);i&&(n[1].end=Object.assign({},e[i][1].start),s=e.slice(i,c),s.unshift(n),Bv(e,i,c-i+1,s))}}return!l}function xy(e,t){const n=e[t][1],i=e[t][2];let r=t-1;const o=[],s=n._tokenizer||i.parser[n.contentType](n.start),a=s.events,l=[],c={};let u,h,d=-1,f=n,p=0,g=0;const m=[g];for(;f;){for(;e[++r][1]!==f;);o.push(r),f._tokenizer||(u=i.sliceStream(f),f.next||u.push(null),h&&s.defineSkip(f.start),f._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(u),f._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),h=f,f=f.next}for(f=n;++d<a.length;)"exit"===a[d][0]&&"enter"===a[d-1][0]&&a[d][1].type===a[d-1][1].type&&a[d][1].start.line!==a[d][1].end.line&&(g=d+1,m.push(g),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(s.events=[],f?(f._tokenizer=void 0,f.previous=void 0):m.pop(),d=m.length;d--;){const t=a.slice(m[d],m[d+1]),n=o.pop();l.unshift([n,n+t.length-1]),Bv(e,n,2,t)}for(d=-1;++d<l.length;)c[p+l[d][0]]=p+l[d][1],p+=l[d][1]-l[d][0]-1;return c}const ky={tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(t)};function i(t){return null===t?r(t):Jv(t)?e.check(Sy,o,r)(t):(e.consume(t),i)}function r(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function o(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}},resolve:function(e){return Cy(e),e}},Sy={tokenize:function(e,t,n){const i=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),iy(e,r,"linePrefix")};function r(r){if(null===r||Jv(r))return n(r);const o=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&o&&"linePrefix"===o[1].type&&o[2].sliceSerialize(o[1],!0).length>=4?t(r):e.interrupt(i.parser.constructs.flow,n,t)(r)}},partial:!0};function Dy(e,t,n,i,r,o,s,a,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return function(t){if(60===t)return e.enter(i),e.enter(r),e.enter(o),e.consume(t),e.exit(o),h;if(null===t||41===t||Xv(t))return n(t);return e.enter(i),e.enter(s),e.enter(a),e.enter("chunkString",{contentType:"string"}),p(t)};function h(n){return 62===n?(e.enter(o),e.consume(n),e.exit(o),e.exit(r),e.exit(i),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),d(n))}function d(t){return 62===t?(e.exit("chunkString"),e.exit(a),h(t)):null===t||60===t||Jv(t)?n(t):(e.consume(t),92===t?f:d)}function f(t){return 60===t||62===t||92===t?(e.consume(t),d):d(t)}function p(r){return 40===r?++u>c?n(r):(e.consume(r),p):41===r?u--?(e.consume(r),p):(e.exit("chunkString"),e.exit(a),e.exit(s),e.exit(i),t(r)):null===r||Zv(r)?u?n(r):(e.exit("chunkString"),e.exit(a),e.exit(s),e.exit(i),t(r)):Xv(r)?n(r):(e.consume(r),92===r?g:p)}function g(t){return 40===t||41===t||92===t?(e.consume(t),p):p(t)}}function Ey(e,t,n,i,r,o){const s=this;let a,l=0;return function(t){return e.enter(i),e.enter(r),e.consume(t),e.exit(r),e.enter(o),c};function c(h){return null===h||91===h||93===h&&!a||94===h&&!l&&"_hiddenFootnoteSupport"in s.parser.constructs||l>999?n(h):93===h?(e.exit(o),e.enter(r),e.consume(h),e.exit(r),e.exit(i),t):Jv(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),u(h))}function u(t){return null===t||91===t||93===t||Jv(t)||l++>999?(e.exit("chunkString"),c(t)):(e.consume(t),a=a||!Qv(t),92===t?h:u)}function h(t){return 91===t||92===t||93===t?(e.consume(t),l++,u):u(t)}}function Ly(e,t,n,i,r,o){let s;return function(t){return e.enter(i),e.enter(r),e.consume(t),e.exit(r),s=40===t?41:t,a};function a(n){return n===s?(e.enter(r),e.consume(n),e.exit(r),e.exit(i),t):(e.enter(o),l(n))}function l(t){return t===s?(e.exit(o),a(s)):null===t?n(t):Jv(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),iy(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(t))}function c(t){return t===s||null===t||Jv(t)?(e.exit("chunkString"),l(t)):(e.consume(t),92===t?u:c)}function u(t){return t===s||92===t?(e.consume(t),c):c(t)}}function Ty(e,t){let n;return function i(r){if(Jv(r))return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),n=!0,i;if(Qv(r))return iy(e,i,n?"linePrefix":"lineSuffix")(r);return t(r)}}function Ny(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const My={name:"definition",tokenize:function(e,t,n){const i=this;let r;return function(t){return e.enter("definition"),Ey.call(i,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)};function o(t){return r=Ny(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),Ty(e,Dy(e,e.attempt(Ay,iy(e,s,"whitespace"),iy(e,s,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(t)}function s(o){return null===o||Jv(o)?(e.exit("definition"),i.parser.defined.includes(r)||i.parser.defined.push(r),t(o)):n(o)}}},Ay={tokenize:function(e,t,n){return function(t){return Zv(t)?Ty(e,i)(t):n(t)};function i(t){return 34===t||39===t||40===t?Ly(e,iy(e,r,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t):n(t)}function r(e){return null===e||Jv(e)?t(e):n(e)}},partial:!0};const Iy={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.enter("escapeMarker"),e.consume(t),i};function i(i){return Jv(i)?(e.exit("escapeMarker"),e.exit("hardBreakEscape"),t(i)):n(i)}}};const Oy={name:"headingAtx",tokenize:function(e,t,n){const i=this;let r=0;return function(t){return e.enter("atxHeading"),e.enter("atxHeadingSequence"),o(t)};function o(a){return 35===a&&r++<6?(e.consume(a),o):null===a||Zv(a)?(e.exit("atxHeadingSequence"),i.interrupt?t(a):s(a)):n(a)}function s(n){return 35===n?(e.enter("atxHeadingSequence"),a(n)):null===n||Jv(n)?(e.exit("atxHeading"),t(n)):Qv(n)?iy(e,s,"whitespace")(n):(e.enter("atxHeadingText"),l(n))}function a(t){return 35===t?(e.consume(t),a):(e.exit("atxHeadingSequence"),s(t))}function l(t){return null===t||35===t||Zv(t)?(e.exit("atxHeadingText"),s(t)):(e.consume(t),l)}},resolve:function(e,t){let n,i,r=e.length-2,o=3;"whitespace"===e[o][1].type&&(o+=2);r-2>o&&"whitespace"===e[r][1].type&&(r-=2);"atxHeadingSequence"===e[r][1].type&&(o===r-1||r-4>o&&"whitespace"===e[r-2][1].type)&&(r-=o+1===r?2:4);r>o&&(n={type:"atxHeadingText",start:e[o][1].start,end:e[r][1].end},i={type:"chunkText",start:e[o][1].start,end:e[r][1].end,contentType:"text"},Bv(e,o,r-o+1,[["enter",n,t],["enter",i,t],["exit",i,t],["exit",n,t]]));return e}};const Fy=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Ry=["pre","script","style","textarea"],Py={name:"htmlFlow",tokenize:function(e,t,n){const i=this;let r,o,s,a,l;return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),c};function c(a){return 33===a?(e.consume(a),u):47===a?(e.consume(a),f):63===a?(e.consume(a),r=3,i.interrupt?t:O):Uv(a)?(e.consume(a),s=String.fromCharCode(a),o=!0,p):n(a)}function u(o){return 45===o?(e.consume(o),r=2,h):91===o?(e.consume(o),r=5,s="CDATA[",a=0,d):Uv(o)?(e.consume(o),r=4,i.interrupt?t:O):n(o)}function h(r){return 45===r?(e.consume(r),i.interrupt?t:O):n(r)}function d(r){return r===s.charCodeAt(a++)?(e.consume(r),a===s.length?i.interrupt?t:D:d):n(r)}function f(t){return Uv(t)?(e.consume(t),s=String.fromCharCode(t),p):n(t)}function p(a){return null===a||47===a||62===a||Zv(a)?47!==a&&o&&Ry.includes(s.toLowerCase())?(r=1,i.interrupt?t(a):D(a)):Fy.includes(s.toLowerCase())?(r=6,47===a?(e.consume(a),g):i.interrupt?t(a):D(a)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(a):o?v(a):m(a)):45===a||Kv(a)?(e.consume(a),s+=String.fromCharCode(a),p):n(a)}function g(r){return 62===r?(e.consume(r),i.interrupt?t:D):n(r)}function m(t){return Qv(t)?(e.consume(t),m):k(t)}function v(t){return 47===t?(e.consume(t),k):58===t||95===t||Uv(t)?(e.consume(t),y):Qv(t)?(e.consume(t),v):k(t)}function y(t){return 45===t||46===t||58===t||95===t||Kv(t)?(e.consume(t),y):b(t)}function b(t){return 61===t?(e.consume(t),_):Qv(t)?(e.consume(t),b):v(t)}function _(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),l=t,w):Qv(t)?(e.consume(t),_):(l=null,C(t))}function w(t){return null===t||Jv(t)?n(t):t===l?(e.consume(t),x):(e.consume(t),w)}function C(t){return null===t||34===t||39===t||60===t||61===t||62===t||96===t||Zv(t)?b(t):(e.consume(t),C)}function x(e){return 47===e||62===e||Qv(e)?v(e):n(e)}function k(t){return 62===t?(e.consume(t),S):n(t)}function S(t){return Qv(t)?(e.consume(t),S):null===t||Jv(t)?D(t):n(t)}function D(t){return 45===t&&2===r?(e.consume(t),N):60===t&&1===r?(e.consume(t),M):62===t&&4===r?(e.consume(t),F):63===t&&3===r?(e.consume(t),O):93===t&&5===r?(e.consume(t),I):!Jv(t)||6!==r&&7!==r?null===t||Jv(t)?E(t):(e.consume(t),D):e.check(By,F,E)(t)}function E(t){return e.exit("htmlFlowData"),L(t)}function L(t){return null===t?R(t):Jv(t)?e.attempt({tokenize:T,partial:!0},L,R)(t):(e.enter("htmlFlowData"),D(t))}function T(e,t,n){return function(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),r};function r(e){return i.parser.lazy[i.now().line]?n(e):t(e)}}function N(t){return 45===t?(e.consume(t),O):D(t)}function M(t){return 47===t?(e.consume(t),s="",A):D(t)}function A(t){return 62===t&&Ry.includes(s.toLowerCase())?(e.consume(t),F):Uv(t)&&s.length<8?(e.consume(t),s+=String.fromCharCode(t),A):D(t)}function I(t){return 93===t?(e.consume(t),O):D(t)}function O(t){return 62===t?(e.consume(t),F):45===t&&2===r?(e.consume(t),O):D(t)}function F(t){return null===t||Jv(t)?(e.exit("htmlFlowData"),R(t)):(e.consume(t),F)}function R(n){return e.exit("htmlFlow"),t(n)}},resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},concrete:!0},By={tokenize:function(e,t,n){return function(i){return e.exit("htmlFlowData"),e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),e.attempt(dy,t,n)}},partial:!0};const jy={name:"htmlText",tokenize:function(e,t,n){const i=this;let r,o,s,a;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),l};function l(t){return 33===t?(e.consume(t),c):47===t?(e.consume(t),C):63===t?(e.consume(t),_):Uv(t)?(e.consume(t),S):n(t)}function c(t){return 45===t?(e.consume(t),u):91===t?(e.consume(t),o="CDATA[",s=0,g):Uv(t)?(e.consume(t),b):n(t)}function u(t){return 45===t?(e.consume(t),h):n(t)}function h(t){return null===t||62===t?n(t):45===t?(e.consume(t),d):f(t)}function d(e){return null===e||62===e?n(e):f(e)}function f(t){return null===t?n(t):45===t?(e.consume(t),p):Jv(t)?(a=f,I(t)):(e.consume(t),f)}function p(t){return 45===t?(e.consume(t),F):f(t)}function g(t){return t===o.charCodeAt(s++)?(e.consume(t),s===o.length?m:g):n(t)}function m(t){return null===t?n(t):93===t?(e.consume(t),v):Jv(t)?(a=m,I(t)):(e.consume(t),m)}function v(t){return 93===t?(e.consume(t),y):m(t)}function y(t){return 62===t?F(t):93===t?(e.consume(t),y):m(t)}function b(t){return null===t||62===t?F(t):Jv(t)?(a=b,I(t)):(e.consume(t),b)}function _(t){return null===t?n(t):63===t?(e.consume(t),w):Jv(t)?(a=_,I(t)):(e.consume(t),_)}function w(e){return 62===e?F(e):_(e)}function C(t){return Uv(t)?(e.consume(t),x):n(t)}function x(t){return 45===t||Kv(t)?(e.consume(t),x):k(t)}function k(t){return Jv(t)?(a=k,I(t)):Qv(t)?(e.consume(t),k):F(t)}function S(t){return 45===t||Kv(t)?(e.consume(t),S):47===t||62===t||Zv(t)?D(t):n(t)}function D(t){return 47===t?(e.consume(t),F):58===t||95===t||Uv(t)?(e.consume(t),E):Jv(t)?(a=D,I(t)):Qv(t)?(e.consume(t),D):F(t)}function E(t){return 45===t||46===t||58===t||95===t||Kv(t)?(e.consume(t),E):L(t)}function L(t){return 61===t?(e.consume(t),T):Jv(t)?(a=L,I(t)):Qv(t)?(e.consume(t),L):D(t)}function T(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),r=t,N):Jv(t)?(a=T,I(t)):Qv(t)?(e.consume(t),T):(e.consume(t),r=void 0,A)}function N(t){return t===r?(e.consume(t),M):null===t?n(t):Jv(t)?(a=N,I(t)):(e.consume(t),N)}function M(e){return 62===e||47===e||Zv(e)?D(e):n(e)}function A(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):62===t||Zv(t)?D(t):(e.consume(t),A)}function I(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),iy(e,O,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function O(t){return e.enter("htmlTextData"),a(t)}function F(i){return 62===i?(e.consume(i),e.exit("htmlTextData"),e.exit("htmlText"),t):n(i)}}};const zy={name:"labelEnd",tokenize:function(e,t,n){const i=this;let r,o,s=i.events.length;for(;s--;)if(("labelImage"===i.events[s][1].type||"labelLink"===i.events[s][1].type)&&!i.events[s][1]._balanced){r=i.events[s][1];break}return function(t){if(!r)return n(t);return r._inactive?l(t):(o=i.parser.defined.includes(Ny(i.sliceSerialize({start:r.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),a)};function a(n){return 40===n?e.attempt(Vy,t,o?t:l)(n):91===n?e.attempt(Wy,t,o?e.attempt(Hy,t,l):l)(n):o?t(n):l(n)}function l(e){return r._balanced=!0,n(e)}},resolveTo:function(e,t){let n,i,r,o,s=e.length,a=0;for(;s--;)if(n=e[s][1],i){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[s][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(r){if("enter"===e[s][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(i=s,"labelLink"!==n.type)){a=2;break}}else"labelEnd"===n.type&&(r=s);const l={type:"labelLink"===e[i][1].type?"link":"image",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)},c={type:"label",start:Object.assign({},e[i][1].start),end:Object.assign({},e[r][1].end)},u={type:"labelText",start:Object.assign({},e[i+a+2][1].end),end:Object.assign({},e[r-2][1].start)};return o=[["enter",l,t],["enter",c,t]],o=jv(o,e.slice(i+1,i+a+3)),o=jv(o,[["enter",u,t]]),o=jv(o,ly(t.parser.constructs.insideSpan.null,e.slice(i+a+4,r-3),t)),o=jv(o,[["exit",u,t],e[r-2],e[r-1],["exit",c,t]]),o=jv(o,e.slice(r+1)),o=jv(o,[["exit",l,t]]),Bv(e,i,e.length,o),e},resolveAll:function(e){let t,n=-1;for(;++n<e.length;)t=e[n][1],"labelImage"!==t.type&&"labelLink"!==t.type&&"labelEnd"!==t.type||(e.splice(n+1,"labelImage"===t.type?4:2),t.type="data",n++);return e}},Vy={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),Ty(e,i)};function i(t){return 41===t?s(t):Dy(e,r,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",3)(t)}function r(t){return Zv(t)?Ty(e,o)(t):s(t)}function o(t){return 34===t||39===t||40===t?Ly(e,Ty(e,s),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):s(t)}function s(i){return 41===i?(e.enter("resourceMarker"),e.consume(i),e.exit("resourceMarker"),e.exit("resource"),t):n(i)}}},Wy={tokenize:function(e,t,n){const i=this;return function(t){return Ey.call(i,e,r,n,"reference","referenceMarker","referenceString")(t)};function r(e){return i.parser.defined.includes(Ny(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(e):n(e)}}},Hy={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),i};function i(i){return 93===i?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}};const Uy={name:"labelStartImage",tokenize:function(e,t,n){const i=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),r};function r(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),o):n(t)}function o(e){return 94===e&&"_hiddenFootnoteSupport"in i.parser.constructs?n(e):t(e)}},resolveAll:zy.resolveAll};const $y={name:"labelStartLink",tokenize:function(e,t,n){const i=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),r};function r(e){return 94===e&&"_hiddenFootnoteSupport"in i.parser.constructs?n(e):t(e)}},resolveAll:zy.resolveAll};const qy={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),iy(e,t,"linePrefix")}}};const Ky={name:"thematicBreak",tokenize:function(e,t,n){let i,r=0;return function(t){return e.enter("thematicBreak"),i=t,o(t)};function o(a){return a===i?(e.enter("thematicBreakSequence"),s(a)):Qv(a)?iy(e,o,"whitespace")(a):r<3||null!==a&&!Jv(a)?n(a):(e.exit("thematicBreak"),t(a))}function s(t){return t===i?(e.consume(t),r++,s):(e.exit("thematicBreakSequence"),o(t))}}};const Yy={name:"list",tokenize:function(e,t,n){const i=this,r=i.events[i.events.length-1];let o=r&&"linePrefix"===r[1].type?r[2].sliceSerialize(r[1],!0).length:0,s=0;return function(t){const r=i.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===r?!i.containerState.marker||t===i.containerState.marker:$v(t)){if(i.containerState.type||(i.containerState.type=r,e.enter(r,{_container:!0})),"listUnordered"===r)return e.enter("listItemPrefix"),42===t||45===t?e.check(Ky,n,l)(t):l(t);if(!i.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),a(t)}return n(t)};function a(t){return $v(t)&&++s<10?(e.consume(t),a):(!i.interrupt||s<2)&&(i.containerState.marker?t===i.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),l(t)):n(t)}function l(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||t,e.check(dy,i.interrupt?n:c,e.attempt(Gy,h,u))}function c(e){return i.containerState.initialBlankLine=!0,o++,h(e)}function u(t){return Qv(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),h):n(t)}function h(n){return i.containerState.size=o+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}},continuation:{tokenize:function(e,t,n){const i=this;return i.containerState._closeFlow=void 0,e.check(dy,(function(n){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,iy(e,t,"listItemIndent",i.containerState.size+1)(n)}),(function(n){if(i.containerState.furtherBlankLines||!Qv(n))return i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,r(n);return i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(Xy,t,r)(n)}));function r(r){return i.containerState._closeFlow=!0,i.interrupt=void 0,iy(e,e.attempt(Yy,t,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(r)}}},exit:function(e){e.exit(this.containerState.type)}},Gy={tokenize:function(e,t,n){const i=this;return iy(e,(function(e){const r=i.events[i.events.length-1];return!Qv(e)&&r&&"listItemPrefixWhitespace"===r[1].type?t(e):n(e)}),"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5)},partial:!0},Xy={tokenize:function(e,t,n){const i=this;return iy(e,(function(e){const r=i.events[i.events.length-1];return r&&"listItemIndent"===r[1].type&&r[2].sliceSerialize(r[1],!0).length===i.containerState.size?t(e):n(e)}),"listItemIndent",i.containerState.size+1)},partial:!0};const Zy={name:"setextUnderline",tokenize:function(e,t,n){const i=this;let r,o,s=i.events.length;for(;s--;)if("lineEnding"!==i.events[s][1].type&&"linePrefix"!==i.events[s][1].type&&"content"!==i.events[s][1].type){o="paragraph"===i.events[s][1].type;break}return function(t){if(!i.parser.lazy[i.now().line]&&(i.interrupt||o))return e.enter("setextHeadingLine"),e.enter("setextHeadingLineSequence"),r=t,a(t);return n(t)};function a(t){return t===r?(e.consume(t),a):(e.exit("setextHeadingLineSequence"),iy(e,l,"lineSuffix")(t))}function l(i){return null===i||Jv(i)?(e.exit("setextHeadingLine"),t(i)):n(i)}},resolveTo:function(e,t){let n,i,r,o=e.length;for(;o--;)if("enter"===e[o][0]){if("content"===e[o][1].type){n=o;break}"paragraph"===e[o][1].type&&(i=o)}else"content"===e[o][1].type&&e.splice(o,1),r||"definition"!==e[o][1].type||(r=o);const s={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};e[i][1].type="setextHeadingText",r?(e.splice(i,0,["enter",s,t]),e.splice(r+1,0,["exit",e[n][1],t]),e[n][1].end=Object.assign({},e[r][1].end)):e[n][1]=s;return e.push(["exit",s,t]),e}};const Jy={tokenize:function(e){const t=this,n=e.attempt(dy,(function(i){if(null===i)return void e.consume(i);return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}),e.attempt(this.parser.constructs.flowInitial,i,iy(e,e.attempt(this.parser.constructs.flow,i,e.attempt(ky,i)),"linePrefix")));return n;function i(i){if(null!==i)return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(i)}}};const Qy={resolveAll:ib()},eb=nb("string"),tb=nb("text");function nb(e){return{tokenize:function(t){const n=this,i=this.parser.constructs[e],r=t.attempt(i,o,s);return o;function o(e){return l(e)?r(e):s(e)}function s(e){if(null!==e)return t.enter("data"),t.consume(e),a;t.consume(e)}function a(e){return l(e)?(t.exit("data"),r(e)):(t.consume(e),a)}function l(e){if(null===e)return!0;const t=i[e];let r=-1;if(t)for(;++r<t.length;){const e=t[r];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}},resolveAll:ib("text"===e?rb:void 0)}}function ib(e){return function(t,n){let i,r=-1;for(;++r<=t.length;)void 0===i?t[r]&&"data"===t[r][1].type&&(i=r,r++):t[r]&&"data"===t[r][1].type||(r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),r=i+2),i=void 0);return e?e(t,n):t}}function rb(e,t){let n=-1;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){const i=e[n-1][1],r=t.sliceStream(i);let o,s=r.length,a=-1,l=0;for(;s--;){const e=r[s];if("string"==typeof e){for(a=e.length;32===e.charCodeAt(a-1);)l++,a--;if(a)break;a=-1}else if(-2===e)o=!0,l++;else if(-1!==e){s++;break}}if(l){const r={type:n===e.length||o||l<2?"lineSuffix":"hardBreakTrailing",start:{line:i.end.line,column:i.end.column-l,offset:i.end.offset-l,_index:i.start._index+s,_bufferIndex:s?a:i.start._bufferIndex+a},end:Object.assign({},i.end)};i.end=Object.assign({},r.start),i.start.offset===i.end.offset?Object.assign(i,r):(e.splice(n,0,["enter",r,t],["exit",r,t]),n+=2)}n++}return e}function ob(e,t,n){let i=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const r={},o=[];let s=[],a=[];const l={consume:function(e){Jv(e)?(i.line++,i.column=1,i.offset+=-3===e?2:1,y()):-1!==e&&(i.column++,i.offset++);i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===s[i._index].length&&(i._bufferIndex=-1,i._index++));c.previous=e},enter:function(e,t){const n=t||{};return n.type=e,n.start=d(),c.events.push(["enter",n,c]),a.push(n),n},exit:function(e){const t=a.pop();return t.end=d(),c.events.push(["exit",t,c]),t},attempt:m((function(e,t){v(e,t.from)})),check:m(g),interrupt:m(g,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:function(e,t){return function(e,t){let n=-1;const i=[];let r;for(;++n<e.length;){const o=e[n];let s;if("string"==typeof o)s=o;else switch(o){case-5:s="\r";break;case-4:s="\n";break;case-3:s="\r\n";break;case-2:s=t?" ":"\t";break;case-1:if(!t&&r)continue;s=" ";break;default:s=String.fromCharCode(o)}r=-2===o,i.push(s)}return i.join("")}(h(e),t)},now:d,defineSkip:function(e){r[e.line]=e.column,y()},write:function(e){if(s=jv(s,e),f(),null!==s[s.length-1])return[];return v(t,0),c.events=ly(o,c.events,c),c.events}};let u=t.tokenize.call(c,l);return t.resolveAll&&o.push(t),c;function h(e){return function(e,t){const n=t.start._index,i=t.start._bufferIndex,r=t.end._index,o=t.end._bufferIndex;let s;n===r?s=[e[n].slice(i,o)]:(s=e.slice(n,r),i>-1&&(s[0]=s[0].slice(i)),o>0&&s.push(e[r].slice(0,o)));return s}(s,e)}function d(){return Object.assign({},i)}function f(){let e;for(;i._index<s.length;){const t=s[i._index];if("string"==typeof t)for(e=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===e&&i._bufferIndex<t.length;)p(t.charCodeAt(i._bufferIndex));else p(t)}}function p(e){u=u(e)}function g(e,t){t.restore()}function m(e,t){return function(n,r,o){let s,u,h,f;return Array.isArray(n)?p(n):"tokenize"in n?p([n]):function(e){return t;function t(t){const n=null!==t&&e[t],i=null!==t&&e.null;return p([...Array.isArray(n)?n:n?[n]:[],...Array.isArray(i)?i:i?[i]:[]])(t)}}(n);function p(e){return s=e,u=0,0===e.length?o:g(e[u])}function g(e){return function(n){f=function(){const e=d(),t=c.previous,n=c.currentConstruct,r=c.events.length,o=Array.from(a);return{restore:s,from:r};function s(){i=e,c.previous=t,c.currentConstruct=n,c.events.length=r,a=o,y()}}(),h=e,e.partial||(c.currentConstruct=e);if(e.name&&c.parser.constructs.disable.null.includes(e.name))return v();return e.tokenize.call(t?Object.assign(Object.create(c),t):c,l,m,v)(n)}}function m(t){return e(h,f),r}function v(e){return f.restore(),++u<s.length?g(s[u]):o}}}function v(e,t){e.resolveAll&&!o.includes(e)&&o.push(e),e.resolve&&Bv(c.events,t,c.events.length-t,e.resolve(c.events.slice(t),c)),e.resolveTo&&(c.events=e.resolveTo(c.events,c))}function y(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}const sb={42:Yy,43:Yy,45:Yy,48:Yy,49:Yy,50:Yy,51:Yy,52:Yy,53:Yy,54:Yy,55:Yy,56:Yy,57:Yy,62:fy},ab={91:My},lb={[-2]:by,[-1]:by,32:by},cb={35:Oy,42:Ky,45:[Zy,Ky],60:Py,61:Zy,95:Ky,96:yy,126:yy},ub={38:vy,92:py},hb={[-5]:qy,[-4]:qy,[-3]:qy,33:Uy,38:vy,42:cy,60:[hy,jy],91:$y,92:[Iy,py],93:zy,95:cy,96:wy},db={null:[cy,Qy]};var fb=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",document:sb,contentInitial:ab,flowInitial:lb,flow:cb,string:ub,text:hb,insideSpan:db,attentionMarkers:{null:[42,95]},disable:{null:[]}});const pb=/[\0\t\n\r]/g;function gb(e,t){const n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||65535==(65535&n)||65534==(65535&n)||n>1114111?"":String.fromCharCode(n)}const mb=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function vb(e){return e.replace(mb,yb)}function yb(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){const e=n.charCodeAt(1),t=120===e||88===e;return gb(n.slice(t?2:1),t?16:10)}return my(n)||e}const bb={}.hasOwnProperty,_b=function(e,t,n){return"string"!=typeof t&&(n=t,t=void 0),function(e={}){const t=wb({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(ie),autolinkProtocol:L,autolinkEmail:L,atxHeading:l(Q),blockQuote:l(Y),characterEscape:L,characterReference:L,codeFenced:l(G),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:l(G,c),codeText:l(X,c),codeTextData:L,data:L,codeFlowValue:L,definition:l(Z),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:l(J),hardBreakEscape:l(ee),hardBreakTrailing:l(ee),htmlFlow:l(te,c),htmlFlowData:L,htmlText:l(te,c),htmlTextData:L,image:l(ne),label:c,link:l(ie),listItem:l(oe),listItemValue:g,listOrdered:l(re,p),listUnordered:l(re),paragraph:l(se),reference:W,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:l(Q),strong:l(ae),thematicBreak:l(ce)},exit:{atxHeading:h(),atxHeadingSequence:k,autolink:h(),autolinkEmail:K,autolinkProtocol:q,blockQuote:h(),characterEscapeValue:T,characterReferenceMarkerHexadecimal:U,characterReferenceMarkerNumeric:U,characterReferenceValue:$,codeFenced:h(b),codeFencedFence:y,codeFencedFenceInfo:m,codeFencedFenceMeta:v,codeFlowValue:T,codeIndented:h(_),codeText:h(O),codeTextData:T,data:T,definition:h(),definitionDestinationString:x,definitionLabelString:w,definitionTitleString:C,emphasis:h(),hardBreakEscape:h(M),hardBreakTrailing:h(M),htmlFlow:h(A),htmlFlowData:T,htmlText:h(I),htmlTextData:T,image:h(R),label:B,labelText:P,lineEnding:N,link:h(F),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:H,resourceDestinationString:j,resourceTitleString:z,resource:V,setextHeading:h(E),setextHeadingLineSequence:D,setextHeadingText:S,strong:h(),thematicBreak:h()}},e.mdastExtensions||[]),n={};return i;function i(e){let n={type:"root",children:[]};const i=[],l=[],h={stack:[n],tokenStack:i,config:t,enter:u,exit:d,buffer:c,resume:f,setData:o,getData:s};let p=-1;for(;++p<e.length;)if("listOrdered"===e[p][1].type||"listUnordered"===e[p][1].type)if("enter"===e[p][0])l.push(p);else{p=r(e,l.pop(),p)}for(p=-1;++p<e.length;){const n=t[e[p][0]];bb.call(n,e[p][1].type)&&n[e[p][1].type].call(Object.assign({sliceSerialize:e[p][2].sliceSerialize},h),e[p][1])}if(i.length>0){const e=i[i.length-1];(e[1]||xb).call(h,void 0,e[0])}for(n.position={start:a(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:a(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},p=-1;++p<t.transforms.length;)n=t.transforms[p](n)||n;return n}function r(e,t,n){let i,r,o,s,a=t-1,l=-1,c=!1;for(;++a<=n;){const t=e[a];if("listUnordered"===t[1].type||"listOrdered"===t[1].type||"blockQuote"===t[1].type?("enter"===t[0]?l++:l--,s=void 0):"lineEndingBlank"===t[1].type?"enter"===t[0]&&(!i||s||l||o||(o=a),s=void 0):"linePrefix"===t[1].type||"listItemValue"===t[1].type||"listItemMarker"===t[1].type||"listItemPrefix"===t[1].type||"listItemPrefixWhitespace"===t[1].type||(s=void 0),!l&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===l&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(i){let s=a;for(r=void 0;s--;){const t=e[s];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;r&&(e[r][1].type="lineEndingBlank",c=!0),t[1].type="lineEnding",r=s}else if("linePrefix"!==t[1].type&&"blockQuotePrefix"!==t[1].type&&"blockQuotePrefixWhitespace"!==t[1].type&&"blockQuoteMarker"!==t[1].type&&"listItemIndent"!==t[1].type)break}o&&(!r||o<r)&&(i._spread=!0),i.end=Object.assign({},r?e[r][1].start:t[1].end),e.splice(r||a,0,["exit",i,t[2]]),a++,n++}"listItemPrefix"===t[1].type&&(i={type:"listItem",_spread:!1,start:Object.assign({},t[1].start)},e.splice(a,0,["enter",i,t[2]]),a++,n++,o=void 0,s=!0)}}return e[t][1]._spread=c,n}function o(e,t){n[e]=t}function s(e){return n[e]}function a(e){return{line:e.line,column:e.column,offset:e.offset}}function l(e,t){return n;function n(n){u.call(this,e(n),n),t&&t.call(this,n)}}function c(){this.stack.push({type:"fragment",children:[]})}function u(e,t,n){return this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n]),e.position={start:a(t.start)},e}function h(e){return t;function t(t){e&&e.call(this,t),d.call(this,t)}}function d(e){const t=this.stack.pop(),n=this.tokenStack.pop();if(!n)throw new Error("Cannot close `"+e.type+"` ("+hv({start:e.start,end:e.end})+"): its not open");if(n[0].type!==e.type){(n[1]||xb).call(this,e,n[0])}return t.position.end=a(e.end),t}function f(){return Fv(this.stack.pop())}function p(){o("expectingFirstListItemValue",!0)}function g(e){if(s("expectingFirstListItemValue")){this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),o("expectingFirstListItemValue")}}function m(){const e=this.resume();this.stack[this.stack.length-1].lang=e}function v(){const e=this.resume();this.stack[this.stack.length-1].meta=e}function y(){s("flowCodeInside")||(this.buffer(),o("flowCodeInside",!0))}function b(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),o("flowCodeInside")}function _(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function w(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Ny(this.sliceSerialize(e)).toLowerCase()}function C(){const e=this.resume();this.stack[this.stack.length-1].title=e}function x(){const e=this.resume();this.stack[this.stack.length-1].url=e}function k(e){const t=this.stack[this.stack.length-1];if(!t.depth){const n=this.sliceSerialize(e).length;t.depth=n}}function S(){o("setextHeadingSlurpLineEnding",!0)}function D(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).charCodeAt(0)?1:2}function E(){o("setextHeadingSlurpLineEnding")}function L(e){const t=this.stack[this.stack.length-1];let n=t.children[t.children.length-1];n&&"text"===n.type||(n=le(),n.position={start:a(e.start)},t.children.push(n)),this.stack.push(n)}function T(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=a(e.end)}function N(e){const n=this.stack[this.stack.length-1];if(s("atHardBreak")){return n.children[n.children.length-1].position.end=a(e.end),void o("atHardBreak")}!s("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(n.type)&&(L.call(this,e),T.call(this,e))}function M(){o("atHardBreak",!0)}function A(){const e=this.resume();this.stack[this.stack.length-1].value=e}function I(){const e=this.resume();this.stack[this.stack.length-1].value=e}function O(){const e=this.resume();this.stack[this.stack.length-1].value=e}function F(){const e=this.stack[this.stack.length-1];s("inReference")?(e.type+="Reference",e.referenceType=s("referenceType")||"shortcut",delete e.url,delete e.title):(delete e.identifier,delete e.label),o("referenceType")}function R(){const e=this.stack[this.stack.length-1];s("inReference")?(e.type+="Reference",e.referenceType=s("referenceType")||"shortcut",delete e.url,delete e.title):(delete e.identifier,delete e.label),o("referenceType")}function P(e){const t=this.stack[this.stack.length-2],n=this.sliceSerialize(e);t.label=vb(n),t.identifier=Ny(n).toLowerCase()}function B(){const e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];o("inReference",!0),"link"===n.type?n.children=e.children:n.alt=t}function j(){const e=this.resume();this.stack[this.stack.length-1].url=e}function z(){const e=this.resume();this.stack[this.stack.length-1].title=e}function V(){o("inReference")}function W(){o("referenceType","collapsed")}function H(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Ny(this.sliceSerialize(e)).toLowerCase(),o("referenceType","full")}function U(e){o("characterReferenceType",e.type)}function $(e){const t=this.sliceSerialize(e),n=s("characterReferenceType");let i;n?(i=gb(t,"characterReferenceMarkerNumeric"===n?10:16),o("characterReferenceType")):i=my(t);const r=this.stack.pop();r.value+=i,r.position.end=a(e.end)}function q(e){T.call(this,e);this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function K(e){T.call(this,e);this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function Y(){return{type:"blockquote",children:[]}}function G(){return{type:"code",lang:null,meta:null,value:""}}function X(){return{type:"inlineCode",value:""}}function Z(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function J(){return{type:"emphasis",children:[]}}function Q(){return{type:"heading",depth:void 0,children:[]}}function ee(){return{type:"break"}}function te(){return{type:"html",value:""}}function ne(){return{type:"image",title:null,url:"",alt:null}}function ie(){return{type:"link",title:null,url:"",children:[]}}function re(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function oe(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function se(){return{type:"paragraph",children:[]}}function ae(){return{type:"strong",children:[]}}function le(){return{type:"text",value:""}}function ce(){return{type:"thematicBreak"}}}(n)(function(e){for(;!Cy(e););return e}(function(e={}){const t={defined:[],lazy:{},constructs:Vv([fb].concat(e.extensions||[])),content:n(ry),document:n(oy),flow:n(Jy),string:n(eb),text:n(tb)};return t;function n(e){return function(n){return ob(t,e,n)}}}(n).document().write(function(){let e,t=1,n="",i=!0;return function(r,o,s){const a=[];let l,c,u,h,d;for(r=n+r.toString(o),u=0,n="",i&&(65279===r.charCodeAt(0)&&u++,i=void 0);u<r.length;){if(pb.lastIndex=u,l=pb.exec(r),h=l&&void 0!==l.index?l.index:r.length,d=r.charCodeAt(h),!l){n=r.slice(u);break}if(10===d&&u===h&&e)a.push(-3),e=void 0;else switch(e&&(a.push(-5),e=void 0),u<h&&(a.push(r.slice(u,h)),t+=h-u),d){case 0:a.push(65533),t++;break;case 9:for(c=4*Math.ceil(t/4),a.push(-2);t++<c;)a.push(-1);break;case 10:a.push(-4),t=1;break;default:e=!0,t=1}u=h+1}return s&&(e&&a.push(-5),n&&a.push(n),a.push(null)),a}}()(e,t,!0))))};function wb(e,t){let n=-1;for(;++n<t.length;){const i=t[n];Array.isArray(i)?wb(e,i):Cb(e,i)}return e}function Cb(e,t){let n;for(n in t)if(bb.call(t,n)){const i="canContainEols"===n||"transforms"===n,r=(bb.call(e,n)?e[n]:void 0)||(e[n]=i?[]:{}),o=t[n];o&&(i?e[n]=[...r,...o]:Object.assign(r,o))}}function xb(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+hv({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+hv({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+hv({start:t.start,end:t.end})+") is still open")}var kb={}.hasOwnProperty;function Sb(e,t){let n,i=-1;if(t.extensions)for(;++i<t.extensions.length;)Sb(e,t.extensions[i]);for(n in t)"extensions"===n||("unsafe"===n||"join"===n?e[n]=[...e[n]||[],...t[n]||[]]:"handlers"===n?e[n]=Object.assign(e[n],t[n]||{}):e.options[n]=t[n]);return e}function Db(e,t){const n=t.indexStack,i=e.children||[],r=[];let o=-1;for(n.push(-1);++o<i.length;){const a=i[o];n[n.length-1]=o,r.push(t.handle(a,e,t,{before:"\n",after:"\n"})),"list"!==a.type&&(t.bulletLastUsed=void 0),o<i.length-1&&r.push(s(a,i[o+1]))}return n.pop(),r.join("");function s(n,i){let r=t.join.length;for(;r--;){const o=t.join[r](n,i,e,t);if(!0===o||1===o)break;if("number"==typeof o)return"\n".repeat(1+o);if(!1===o)return"\n\n\x3c!----\x3e\n\n"}return"\n\n"}}const Eb=/\r?\n|\r/g;function Lb(e,t){const n=[];let i,r=0,o=0;for(;i=Eb.exec(e);)s(e.slice(r,i.index)),n.push(i[0]),r=i.index+i[0].length,o++;return s(e.slice(r)),n.join("");function s(e){n.push(t(e,o,!e))}}function Tb(e,t,n){return">"+(n?"":" ")+e}function Nb(e,t){return Mb(e,t.inConstruct,!0)&&!Mb(e,t.notInConstruct,!1)}function Mb(e,t,n){if(!t)return n;"string"==typeof t&&(t=[t]);let i=-1;for(;++i<t.length;)if(e.includes(t[i]))return!0;return!1}function Ab(e,t,n,i){let r=-1;for(;++r<n.unsafe.length;)if("\n"===n.unsafe[r].character&&Nb(n.stack,n.unsafe[r]))return/[ \t]/.test(i.before)?"":" ";return"\\\n"}function Ib(e,t){const n=String(e);let i=n.indexOf(t),r=i,o=0,s=0;if("string"!=typeof t||1!==t.length)throw new Error("Expected character");for(;-1!==i;)i===r?++o>s&&(s=o):o=1,r=i+1,i=n.indexOf(t,r);return s}function Ob(e,t){return Boolean(!t.options.fences&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function Fb(e){if(!e._compiled){const t=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function Rb(e,t,n){const i=(n.before||"")+(t||"")+(n.after||""),r=[],o=[],s={};let a=-1;for(;++a<e.unsafe.length;){const t=e.unsafe[a];if(!Nb(e.stack,t))continue;const n=Fb(t);let o;for(;o=n.exec(i);){const e="before"in t||Boolean(t.atBreak),n="after"in t,i=o.index+(e?o[1].length:0);r.includes(i)?(s[i].before&&!e&&(s[i].before=!1),s[i].after&&!n&&(s[i].after=!1)):(r.push(i),s[i]={before:e,after:n})}}r.sort(Pb);let l=n.before?n.before.length:0;const c=i.length-(n.after?n.after.length:0);for(a=-1;++a<r.length;){const e=r[a];e<l||e>=c||(e+1<c&&r[a+1]===e+1&&s[e].after&&!s[e+1].before&&!s[e+1].after||r[a-1]===e-1&&s[e].before&&!s[e-1].before&&!s[e-1].after||(l!==e&&o.push(Bb(i.slice(l,e),"\\")),l=e,!/[!-/:-@[-`{-~]/.test(i.charAt(e))||n.encode&&n.encode.includes(i.charAt(e))?(o.push("&#x"+i.charCodeAt(e).toString(16).toUpperCase()+";"),l++):o.push("\\")))}return o.push(Bb(i.slice(l,c),n.after)),o.join("")}function Pb(e,t){return e-t}function Bb(e,t){const n=/\\(?=[!-/:-@[-`{-~])/g,i=[],r=[],o=e+t;let s,a=-1,l=0;for(;s=n.exec(o);)i.push(s.index);for(;++a<i.length;)l!==i[a]&&r.push(e.slice(l,i[a])),r.push("\\"),l=i[a];return r.push(e.slice(l)),r.join("")}function jb(e,t,n){return(n?"":"    ")+e}function zb(e){return e.label||!e.identifier?e.label||"":vb(e.identifier)}function Vb(e){const t=e.options.quote||'"';if('"'!==t&&"'"!==t)throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Wb(e,t,n){const i=t.indexStack,r=e.children||[],o=[];let s=-1,a=n.before;for(i.push(-1);++s<r.length;){const l=r[s];let c;if(i[i.length-1]=s,s+1<r.length){let n=t.handle.handlers[r[s+1].type];n&&n.peek&&(n=n.peek),c=n?n(r[s+1],e,t,{before:"",after:""}).charAt(0):""}else c=n.after;o.length>0&&("\r"===a||"\n"===a)&&"html"===l.type&&(o[o.length-1]=o[o.length-1].replace(/(\r?\n|\r)$/," "),a=" "),o.push(t.handle(l,e,t,{before:a,after:c})),a=o[o.length-1].slice(-1)}return i.pop(),o.join("")}function Hb(e,t,n){const i=function(e){const t=e.options.emphasis||"*";if("*"!==t&&"_"!==t)throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}(n),r=n.enter("emphasis"),o=Wb(e,n,{before:i,after:i});return r(),i+o+i}Hb.peek=function(e,t,n){return n.options.emphasis||"*"};const Ub=function(e){if(null==e)return qb;if("string"==typeof e)return function(e){return $b(t);function t(t){return t&&t.type===e}}(e);if("object"==typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Ub(e[n]);return $b(i);function i(...e){let n=-1;for(;++n<t.length;)if(t[n].call(this,...e))return!0;return!1}}(e):function(e){return $b(t);function t(t){let n;for(n in e)if(t[n]!==e[n])return!1;return!0}}(e);if("function"==typeof e)return $b(e);throw new Error("Expected function, string, or object as test")};function $b(e){return function(...t){return Boolean(e.call(this,...t))}}function qb(){return!0}const Kb=function(e,t,n,i){"function"==typeof t&&"function"!=typeof n&&(i=n,n=t,t=null);const r=Ub(t),o=i?-1:1;!function e(s,a,l){const c="object"==typeof s&&null!==s?s:{};let u;"string"==typeof c.type&&(u="string"==typeof c.tagName?c.tagName:"string"==typeof c.name?c.name:void 0,Object.defineProperty(h,"name",{value:"node ("+c.type+(u?"<"+u+">":"")+")"}));return h;function h(){let c,u,h,d=[];if((!t||r(s,a,l[l.length-1]||null))&&(d=function(e){if(Array.isArray(e))return e;if("number"==typeof e)return[true,e];return[e]}(n(s,l)),false===d[0]))return d;if(s.children&&"skip"!==d[0])for(u=(i?s.children.length:-1)+o,h=l.concat(s);u>-1&&u<s.children.length;){if(c=e(s.children[u],u,h)(),false===c[0])return c;u="number"==typeof c[1]?c[1]:u+o}return d}}(e,null,[])()};const Yb=function(e,t,n,i){"function"==typeof t&&"function"!=typeof n&&(i=n,n=t,t=null),Kb(e,t,(function(e,t){const i=t[t.length-1];return n(e,i?i.children.indexOf(e):null,i)}),i)};function Gb(e,t){let n=!1;return Yb(e,(e=>{if("value"in e&&/\r?\n|\r/.test(e.value)||"break"===e.type)return n=!0,false})),Boolean((!e.depth||e.depth<3)&&Fv(e)&&(t.options.setext||n))}function Xb(e){return e.value||""}function Zb(e,t,n){const i=Vb(n),r='"'===i?"Quote":"Apostrophe",o=n.enter("image");let s=n.enter("label"),a="!["+Rb(n,e.alt,{before:"[",after:"]"})+"](";return s(),!e.url&&e.title||/[ \t\r\n]/.test(e.url)?(s=n.enter("destinationLiteral"),a+="<"+Rb(n,e.url,{before:"<",after:">"})+">"):(s=n.enter("destinationRaw"),a+=Rb(n,e.url,{before:"(",after:e.title?" ":")"})),s(),e.title&&(s=n.enter("title"+r),a+=" "+i+Rb(n,e.title,{before:i,after:i})+i,s()),a+=")",o(),a}function Jb(e,t,n){const i=e.referenceType,r=n.enter("imageReference");let o=n.enter("label");const s=Rb(n,e.alt,{before:"[",after:"]"});let a="!["+s+"]";o();const l=n.stack;n.stack=[],o=n.enter("reference");const c=Rb(n,zb(e),{before:"[",after:"]"});return o(),n.stack=l,r(),"full"!==i&&s&&s===c?"shortcut"!==i&&(a+="[]"):a+="["+c+"]",a}function Qb(e,t,n){let i=e.value||"",r="`",o=-1;for(;new RegExp("(^|[^`])"+r+"([^`]|$)").test(i);)r+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++o<n.unsafe.length;){const e=n.unsafe[o],t=Fb(e);let r;if(e.atBreak)for(;r=t.exec(i);){let e=r.index;10===i.charCodeAt(e)&&13===i.charCodeAt(e-1)&&e--,i=i.slice(0,e)+" "+i.slice(r.index+1)}}return r+i+r}function e_(e,t){const n=Fv(e);return Boolean(!t.options.resourceLink&&e.url&&!e.title&&e.children&&1===e.children.length&&"text"===e.children[0].type&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}function t_(e,t,n){const i=Vb(n),r='"'===i?"Quote":"Apostrophe";let o,s,a;if(e_(e,n)){const t=n.stack;return n.stack=[],o=n.enter("autolink"),a="<"+Wb(e,n,{before:"<",after:">"})+">",o(),n.stack=t,a}return o=n.enter("link"),s=n.enter("label"),a="["+Wb(e,n,{before:"[",after:"]"})+"](",s(),!e.url&&e.title||/[ \t\r\n]/.test(e.url)?(s=n.enter("destinationLiteral"),a+="<"+Rb(n,e.url,{before:"<",after:">"})+">"):(s=n.enter("destinationRaw"),a+=Rb(n,e.url,{before:"(",after:e.title?" ":")"})),s(),e.title&&(s=n.enter("title"+r),a+=" "+i+Rb(n,e.title,{before:i,after:i})+i,s()),a+=")",o(),a}function n_(e,t,n){const i=e.referenceType,r=n.enter("linkReference");let o=n.enter("label");const s=Wb(e,n,{before:"[",after:"]"});let a="["+s+"]";o();const l=n.stack;n.stack=[],o=n.enter("reference");const c=Rb(n,zb(e),{before:"[",after:"]"});return o(),n.stack=l,r(),"full"!==i&&s&&s===c?"shortcut"!==i&&(a+="[]"):a+="["+c+"]",a}function i_(e){const t=e.options.bullet||"*";if("*"!==t&&"+"!==t&&"-"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function r_(e){const t=e.options.bulletOrdered||".";if("."!==t&&")"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function o_(e){const t=e.options.rule||"*";if("*"!==t&&"-"!==t&&"_"!==t)throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function s_(e,t,n){const i=function(e){const t=e.options.listItemIndent||"tab";if(1===t||"1"===t)return"one";if("tab"!==t&&"one"!==t&&"mixed"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}(n);let r=n.bulletCurrent||i_(n);t&&"list"===t.type&&t.ordered&&(r=("number"==typeof t.start&&t.start>-1?t.start:1)+(!1===n.options.incrementListMarker?0:t.children.indexOf(e))+r);let o=r.length+1;("tab"===i||"mixed"===i&&(t&&"list"===t.type&&t.spread||e.spread))&&(o=4*Math.ceil(o/4));const s=n.enter("listItem"),a=Lb(Db(e,n),(function(e,t,n){if(t)return(n?"":" ".repeat(o))+e;return(n?r:r+" ".repeat(o-r.length))+e}));return s(),a}function a_(e,t,n){const i=function(e){const t=e.options.strong||"*";if("*"!==t&&"_"!==t)throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}(n),r=n.enter("strong"),o=Wb(e,n,{before:i,after:i});return r(),i+i+o+i+i}Xb.peek=function(){return"<"},Zb.peek=function(){return"!"},Jb.peek=function(){return"!"},Qb.peek=function(){return"`"},t_.peek=function(e,t,n){return e_(e,n)?"<":"["},n_.peek=function(){return"["},a_.peek=function(e,t,n){return n.options.strong||"*"};const l_={blockquote:function(e,t,n){const i=n.enter("blockquote"),r=Lb(Db(e,n),Tb);return i(),r},break:Ab,code:function(e,t,n){const i=function(e){const t=e.options.fence||"`";if("`"!==t&&"~"!==t)throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}(n),r=e.value||"",o="`"===i?"GraveAccent":"Tilde";let s,a;if(Ob(e,n))a=n.enter("codeIndented"),s=Lb(r,jb);else{const t=i.repeat(Math.max(Ib(r,i)+1,3));let l;a=n.enter("codeFenced"),s=t,e.lang&&(l=n.enter("codeFencedLang"+o),s+=Rb(n,e.lang,{before:"`",after:" ",encode:["`"]}),l()),e.lang&&e.meta&&(l=n.enter("codeFencedMeta"+o),s+=" "+Rb(n,e.meta,{before:" ",after:"\n",encode:["`"]}),l()),s+="\n",r&&(s+=r+"\n"),s+=t}return a(),s},definition:function(e,t,n){const i=Vb(n),r='"'===i?"Quote":"Apostrophe",o=n.enter("definition");let s=n.enter("label"),a="["+Rb(n,zb(e),{before:"[",after:"]"})+"]: ";return s(),!e.url||/[ \t\r\n]/.test(e.url)?(s=n.enter("destinationLiteral"),a+="<"+Rb(n,e.url,{before:"<",after:">"})+">"):(s=n.enter("destinationRaw"),a+=Rb(n,e.url,{before:" ",after:" "})),s(),e.title&&(s=n.enter("title"+r),a+=" "+i+Rb(n,e.title,{before:i,after:i})+i,s()),o(),a},emphasis:Hb,hardBreak:Ab,heading:function(e,t,n){const i=Math.max(Math.min(6,e.depth||1),1);if(Gb(e,n)){const t=n.enter("headingSetext"),r=n.enter("phrasing"),o=Wb(e,n,{before:"\n",after:"\n"});return r(),t(),o+"\n"+(1===i?"=":"-").repeat(o.length-(Math.max(o.lastIndexOf("\r"),o.lastIndexOf("\n"))+1))}const r="#".repeat(i),o=n.enter("headingAtx"),s=n.enter("phrasing");let a=Wb(e,n,{before:"# ",after:"\n"});return/^[\t ]/.test(a)&&(a="&#x"+a.charCodeAt(0).toString(16).toUpperCase()+";"+a.slice(1)),a=a?r+" "+a:r,n.options.closeAtx&&(a+=" "+r),s(),o(),a},html:Xb,image:Zb,imageReference:Jb,inlineCode:Qb,link:t_,linkReference:n_,list:function(e,t,n){const i=n.enter("list"),r=n.bulletCurrent;let o=e.ordered?r_(n):i_(n);const s=e.ordered?function(e){const t=r_(e),n=e.options.bulletOrderedOther;if(!n)return"."===t?")":".";if("."!==n&&")"!==n)throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOrderedOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bulletOrdered` (`"+t+"`) and `bulletOrderedOther` (`"+n+"`) to be different");return n}(n):function(e){const t=i_(e),n=e.options.bulletOther;if(!n)return"*"===t?"-":"*";if("*"!==n&&"+"!==n&&"-"!==n)throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}(n),a=n.bulletLastUsed;let l=!1;if(t&&(e.ordered?n.options.bulletOrderedOther:n.options.bulletOther)&&a&&o===a&&(l=!0),!e.ordered){const t=e.children?e.children[0]:void 0;if("*"!==o&&"-"!==o||!t||t.children&&t.children[0]||"list"!==n.stack[n.stack.length-1]||"listItem"!==n.stack[n.stack.length-2]||"list"!==n.stack[n.stack.length-3]||"listItem"!==n.stack[n.stack.length-4]||0!==n.indexStack[n.indexStack.length-1]||0!==n.indexStack[n.indexStack.length-2]||0!==n.indexStack[n.indexStack.length-3]||0!==n.indexStack[n.indexStack.length-4]||(l=!0),o_(n)===o&&t){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n&&"listItem"===n.type&&n.children&&n.children[0]&&"thematicBreak"===n.children[0].type){l=!0;break}}}}l&&(o=s),n.bulletCurrent=o;const c=Db(e,n);return n.bulletLastUsed=o,n.bulletCurrent=r,i(),c},listItem:s_,paragraph:function(e,t,n){const i=n.enter("paragraph"),r=n.enter("phrasing"),o=Wb(e,n,{before:"\n",after:"\n"});return r(),i(),o},root:function(e,t,n){return Db(e,n)},strong:a_,text:function(e,t,n,i){return Rb(n,e.value,i)},thematicBreak:function(e,t,n){const i=(o_(n)+(n.options.ruleSpaces?" ":"")).repeat(function(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}(n));return n.options.ruleSpaces?i.slice(0,-1):i}},c_=[function(e,t,n,i){if("code"===t.type&&Ob(t,i)&&("list"===e.type||e.type===t.type&&Ob(e,i)))return!1;if("list"===e.type&&e.type===t.type&&Boolean(e.ordered)===Boolean(t.ordered)&&!(e.ordered?i.options.bulletOrderedOther:i.options.bulletOther))return!1;if("spread"in n&&"boolean"==typeof n.spread){if("paragraph"===e.type&&(e.type===t.type||"definition"===t.type||"heading"===t.type&&Gb(t,i)))return;return n.spread?1:0}}];const u_=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],h_=[{character:"\t",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"\t",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"\t",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:"\n",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:u_},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:"(?:[\r\n]|$)"},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:u_},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*"},{character:"*",inConstruct:"phrasing",notInConstruct:u_},{atBreak:!0,character:"+"},{atBreak:!0,character:"-"},{atBreak:!0,before:"\\d+",character:".",after:"(?:[ \t\r\n]|$)"},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:u_},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:u_},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:u_},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:u_},{atBreak:!0,character:"~"}];function d_(e,t={}){const n={enter:function(e){return n.stack.push(e),function(){n.stack.pop()}},stack:[],unsafe:[],join:[],handlers:{},options:{},indexStack:[]};Sb(n,{unsafe:h_,join:c_,handlers:l_}),Sb(n,t),n.options.tightDefinitions&&Sb(n,{join:[g_]}),n.handle=function(e,t){var n=t||{};function i(t){var n=i.invalid,r=i.handlers;if(t&&kb.call(t,e)&&(n=kb.call(r,t[e])?r[t[e]]:i.unknown),n)return n.apply(this,arguments)}return i.handlers=n.handlers||{},i.invalid=n.invalid,i.unknown=n.unknown,i}("type",{invalid:f_,unknown:p_,handlers:n.handlers});let i=n.handle(e,null,n,{before:"\n",after:"\n"});return i&&10!==i.charCodeAt(i.length-1)&&13!==i.charCodeAt(i.length-1)&&(i+="\n"),i}function f_(e){throw new Error("Cannot handle value `"+e+"`, expected node")}function p_(e){throw new Error("Cannot handle unknown node `"+e.type+"`")}function g_(e,t){if("definition"===e.type&&e.type===t.type)return 0}const m_=Dv().use((function(e){Object.assign(this,{Parser:t=>{const n=this.data("settings");return _b(t,Object.assign({},n,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})})).use((function(e){Object.assign(this,{Compiler:t=>{const n=this.data("settings");return d_(t,Object.assign({},n,e,{extensions:this.data("toMarkdownExtensions")||[]}))}})})).freeze(),v_=Uu("ConfigReady"),y_=Uu("InitReady"),b_=Ru([],"initTimer"),__=Ru({},"editor"),w_=Ru([],"inputRules"),C_=Ru([],"prosePlugins"),x_=Ru([],"remarkPlugins"),k_=Ru([],"nodeView"),S_=Ru(m_(),"remark"),D_=()=>{const e=e=>e.elements.length,t=t=>t.elements[e(t)-1];return{size:e,top:t,push:e=>n=>{var i;null===(i=t(e))||void 0===i||i.push(n)},open:e=>t=>{e.elements.push(t)},close:e=>{const t=e.elements.pop();if(!t)throw Ou();return t}}},{size:E_,push:L_,top:T_,open:N_,close:M_}=D_(),A_=e=>e.isText,I_=e=>(t,n)=>N_(e)(((e,t,n)=>{const i={type:e,content:t,attrs:n,push:(...e)=>((e,t,...n)=>{e.content.push(t,...n)})(i,...e),pop:()=>(e=>e.content.pop())(i)};return i})(t,[],n)),O_=e=>(t,n,i)=>{const r=t.createAndFill(n,i,e.marks);if(!r)throw((...e)=>{const t=e.reduce(((e,t)=>{if(!t)return e;const n=e=>Array.isArray(e)?e.map((e=>n(e))).join(", "):e.toJSON?Iu(e.toJSON()):e.spec?Iu(e.spec):e.toString();return`${e}, ${n(t)}`}),"Create prosemirror node from remark failed in parser");return new Error(t)})(t,n,i);return L_(e)(r),r},F_=e=>()=>{e.marks=eh.none;const t=M_(e);return O_(e)(t.type,t.attrs,t.content)},R_=e=>(t,n)=>{const i=t.create(n);e.marks=i.addToSet(e.marks)},P_=e=>t=>{e.marks=t.removeFromSet(e.marks)},B_=e=>t=>{const n=T_(e);if(!n)throw Ou();const i=n.pop(),r=e.schema.text(t,e.marks);if(!i)return void n.push(r);const o=((e,t,n)=>{if(A_(t)&&A_(n)&&eh.sameSet(t.marks,n.marks))return e.text(t.text+n.text,t.marks)})(e.schema,i,r);o?n.push(o):n.push(i,r)},j_=e=>()=>{let t=null;do{t=F_(e)()}while(E_(e));return t};var z_,V_,W_;class H_{constructor(e,t,n){this.stack=e,this.schema=t,this.specMap=n,z_.add(this),this.run=(e,t)=>{const n=e.runSync(e.parse(t));return this.next(n),this},this.next=(e=[])=>([e].flat().forEach((e=>Nu(this,z_,"m",W_).call(this,e))),this),this.toDoc=()=>this.stack.build(),this.injectRoot=(e,t,n)=>(this.stack.openNode(t,n),this.next(e.children),this),this.addText=(e="")=>(this.stack.addText(e),this),this.addNode=(...e)=>(this.stack.addNode(...e),this),this.openNode=(...e)=>(this.stack.openNode(...e),this),this.closeNode=(...e)=>(this.stack.closeNode(...e),this),this.openMark=(...e)=>(this.stack.openMark(...e),this),this.closeMark=(...e)=>(this.stack.closeMark(...e),this)}}z_=new WeakSet,V_=function(e){const t=Object.values(this.specMap).find((t=>t.match(e)));if(!t)throw(e=>new Error(`Cannot match target parser for node: ${Iu(e)}.`))(e);return t},W_=function(e){const{key:t,runner:n,is:i}=Nu(this,z_,"m",V_).call(this,e);n(this,e,this.schema["node"===i?"nodes":"marks"][t])};const U_=(e,t,n)=>i=>{const r=new H_((e=>{const t={marks:[],elements:[],schema:e};return{build:j_(t),openMark:R_(t),closeMark:P_(t),addText:B_(t),openNode:I_(t),addNode:O_(t),closeNode:F_(t)}})(e),e,t);return r.run(n,i),r.toDoc()},$_=Uu("schemaReady"),q_=Ru({},"schema"),K_=Ru([],"schemaTimer"),Y_=Ru([],"nodes"),G_=Ru([],"marks"),X_=e=>(e.inject(q_).inject(Y_).inject(G_).inject(K_,[y_]).record($_),e=>Tu(void 0,void 0,void 0,(function*(){yield e.waitTimers(K_);const t=e.get(S_),n=e.get(x_).reduce(((e,t)=>e.use(t)),t);e.set(S_,n);const i=Object.fromEntries(e.get(Y_)),r=Object.fromEntries(e.get(G_));e.set(q_,new qh({nodes:i,marks:r})),e.done($_)}))),Z_=Ru((()=>null),"parser"),J_=Ru([],"parserTimer"),Q_=Uu("ParserReady"),ew=e=>(e.inject(Z_).inject(J_,[$_]).record(Q_),e=>Tu(void 0,void 0,void 0,(function*(){yield e.waitTimers(J_);const t=e.get(Y_),n=e.get(G_),i=e.get(S_),r=e.get(q_),o=[...t.map((([e,t])=>Object.assign({id:e},t))).map((e=>Object.assign(Object.assign({},e),{is:"node"}))),...n.map((([e,t])=>Object.assign({id:e},t))).map((e=>Object.assign(Object.assign({},e),{is:"mark"})))],s=Object.fromEntries(o.map((({id:e,parseMarkdown:t,is:n})=>[e,Object.assign(Object.assign({},t),{is:n,key:e})])));e.set(Z_,U_(r,s,i)),e.done(Q_)}))),tw=(e,t,n,i={})=>{const r={type:e,children:t,props:i,value:n,push:(...e)=>((e,t,...n)=>{e.children||(e.children=[]),e.children.push(t,...n)})(r,...e),pop:()=>(e=>{var t;return null===(t=e.children)||void 0===t?void 0:t.pop()})(r)};return r},{size:nw,push:iw,open:rw,close:ow}=D_(),sw=e=>(t,n,i)=>rw(e)(tw(t,[],n,i)),aw=e=>(t,n,i,r)=>{const o=(e=>{const t=Object.assign(Object.assign({},e.props),{type:e.type});return e.children&&(t.children=e.children),e.value&&(t.value=e.value),t})(tw(t,n,i,r));return iw(e)(o),o},lw=e=>()=>{const t=ow(e);return aw(e)(t.type,t.children,t.value,t.props)},cw=e=>(t,n,i,r)=>{t.isInSet(e.marks)||(e.marks=t.addToSet(e.marks),sw(e)(n,i,r))},uw=e=>t=>t.isInSet(e.marks)?(e.marks=t.type.removeFromSet(e.marks),lw(e)()):null,hw=e=>()=>{let t=null;do{t=lw(e)()}while(nw(e));return t};var dw,fw,pw,gw,mw;class vw{constructor(e,t,n){this.stack=e,this.schema=t,this.specMap=n,dw.add(this),this.toString=e=>e.stringify(this.stack.build()),this.next=e=>{return t=e,Object.prototype.hasOwnProperty.call(t,"size")?(e.forEach((e=>{Nu(this,dw,"m",mw).call(this,e)})),this):(Nu(this,dw,"m",mw).call(this,e),this);var t},this.addNode=(...e)=>(this.stack.addNode(...e),this),this.openNode=(...e)=>(this.stack.openNode(...e),this),this.closeNode=(...e)=>(this.stack.closeNode(...e),this),this.withMark=(...e)=>(this.stack.openMark(...e),this)}run(e){return this.next(e),this}}dw=new WeakSet,fw=function(e){const t=Object.entries(this.specMap).map((([e,t])=>Object.assign({key:e},t))).find((t=>t.match(e)));if(!t)throw(e=>new Error(`Cannot match target serializer for node: ${Iu(e)}.`))(e.type);return t},pw=function(e){const{runner:t}=Nu(this,dw,"m",fw).call(this,e);t(this,e)},gw=function(e,t){const{runner:n}=Nu(this,dw,"m",fw).call(this,e);return n(this,e,t)},mw=function(e){const{marks:t}=e;t.every((t=>!Nu(this,dw,"m",gw).call(this,t,e)))&&Nu(this,dw,"m",pw).call(this,e),t.forEach((e=>this.stack.closeMark(e)))};const yw=(e,t,n)=>i=>{const r=new vw((()=>{const e={marks:[],elements:[]};return{build:hw(e),openMark:cw(e),closeMark:uw(e),openNode:sw(e),addNode:aw(e),closeNode:lw(e)}})(),e,t);return r.run(i),r.toString(n)},bw=Ru((()=>""),"serializer"),_w=Ru([],"serializerTimer"),ww=Uu("SerializerReady"),Cw=e=>(e.inject(bw).inject(_w,[$_]).record(ww),e=>Tu(void 0,void 0,void 0,(function*(){yield e.waitTimers(_w);const t=e.get(Y_),n=e.get(G_),i=e.get(S_),r=e.get(q_),o=[...t,...n],s=Object.fromEntries(o.map((([e,t])=>[e,t.toMarkdown])));e.set(bw,yw(r,s,i)),e.done(ww)}))),xw=Ru("","defaultValue"),kw=Ru({},"editorState"),Sw=Ru({},"stateOptions"),Dw=Ru([],"editorStateTimer"),Ew=Uu("EditorStateReady"),Lw=(e,t,n)=>{if("string"==typeof e)return t(e);if("html"===e.type)return Yh.fromSchema(n).parse(e.dom);if("json"===e.type)return xh.fromJSON(n,e.value);throw new Error(`Doc type error, unsupported type: ${Iu(e)}`)},Tw=e=>(e.inject(xw).inject(kw).inject(Sw).inject(Dw,[Q_,ww,zw]).record(Ew),e=>Tu(void 0,void 0,void 0,(function*(){yield e.waitTimers(Dw);const t=e.get(q_),n=e.get(Z_),i=e.get(w_),r=e.get(Sw),o=e.get(C_),s=e.get(xw),a=Lw(s,n,t),l=sf.create(Object.assign({schema:t,doc:a,plugins:[...o,Gf(Nf),Af({rules:i})]},r));e.set(kw,l),e.done(Ew)}))),Nw=Ru({},"editorView"),Mw=Ru({},"editorViewOptions"),Aw=Ru(document.body,"root"),Iw=Ru([],"editorViewTimer"),Ow=Uu("EditorViewReady"),Fw=e=>(e.inject(Aw,document.body).inject(Nw).inject(Mw).inject(Iw,[Ew]).record(Ow),e=>Tu(void 0,void 0,void 0,(function*(){yield e.waitTimers(Iw);const t=e.get(kw),n=e.get(Mw),i=Object.fromEntries(e.get(k_)),r=e.get(Aw),o=r?(e=>{const t=document.createElement("div");return t.className="milkdown",e.appendChild(t),t})(r):void 0,s=new Pm(o,Object.assign({state:t,nodeViews:i},n));var a;(a=s.dom).classList.add("editor"),a.setAttribute("role","textbox"),e.set(Nw,s),e.done(Ow)}))),Rw=(e,t)=>[e,t],Pw=Ru({},"commands"),Bw=()=>Ru((()=>()=>!1),"cmdKey"),jw=Ru([],"commandsTimer"),zw=Uu("CommandsReady"),Vw=e=>{const t=Fu(),n={create:(e,n)=>e(t.sliceMap,n),get:e=>t.getSlice(e).get(),call:()=>{throw new Error("You're trying to call a command before editor view initialized, make sure to get commandManager from ctx after editor view has been initialized")}};return e.inject(Pw,n).inject(jw,[$_]).record(zw),e=>Tu(void 0,void 0,void 0,(function*(){yield e.waitTimers(jw),e.done(zw),yield e.wait(Ow),e.update(Pw,(t=>Object.assign(Object.assign({},t),{call:(t,i)=>{const r=n.get(t)(i),o=e.get(Nw);return r(o.state,o.dispatch,o)}})))}))};var Ww=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(nR){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Hw="-ms-",Uw="-moz-",$w="-webkit-",qw=Math.abs,Kw=String.fromCharCode;function Yw(e){return e.trim()}function Gw(e,t,n){return e.replace(t,n)}function Xw(e,t){return e.indexOf(t)}function Zw(e,t){return 0|e.charCodeAt(t)}function Jw(e,t,n){return e.slice(t,n)}function Qw(e){return e.length}function eC(e){return e.length}function tC(e,t){return t.push(e),e}var nC=1,iC=1,rC=0,oC=0,sC=0,aC="";function lC(e,t,n,i,r,o,s){return{value:e,root:t,parent:n,type:i,props:r,children:o,line:nC,column:iC,length:s,return:""}}function cC(e,t,n){return lC(e,t.root,t.parent,n,t.props,t.children,0)}function uC(){return sC=oC<rC?Zw(aC,oC++):0,iC++,10===sC&&(iC=1,nC++),sC}function hC(){return Zw(aC,oC)}function dC(){return oC}function fC(e,t){return Jw(aC,e,t)}function pC(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function gC(e){return nC=iC=1,rC=Qw(aC=e),oC=0,[]}function mC(e){return aC="",e}function vC(e){return Yw(fC(oC-1,_C(91===e?e+2:40===e?e+1:e)))}function yC(e){for(;(sC=hC())&&sC<33;)uC();return pC(e)>2||pC(sC)>3?"":" "}function bC(e,t){for(;--t&&uC()&&!(sC<48||sC>102||sC>57&&sC<65||sC>70&&sC<97););return fC(e,dC()+(t<6&&32==hC()&&32==uC()))}function _C(e){for(;uC();)switch(sC){case e:return oC;case 34:case 39:return _C(34===e||39===e?e:sC);case 40:41===e&&_C(e);break;case 92:uC()}return oC}function wC(e,t){for(;uC()&&e+sC!==57&&(e+sC!==84||47!==hC()););return"/*"+fC(t,oC-1)+"*"+Kw(47===e?e:uC())}function CC(e){for(;!pC(hC());)uC();return fC(e,oC)}function xC(e){return mC(kC("",null,null,null,[""],e=gC(e),0,[0],e))}function kC(e,t,n,i,r,o,s,a,l){for(var c=0,u=0,h=s,d=0,f=0,p=0,g=1,m=1,v=1,y=0,b="",_=r,w=o,C=i,x=b;m;)switch(p=y,y=uC()){case 34:case 39:case 91:case 40:x+=vC(y);break;case 9:case 10:case 13:case 32:x+=yC(p);break;case 92:x+=bC(dC()-1,7);continue;case 47:switch(hC()){case 42:case 47:tC(DC(wC(uC(),dC()),t,n),l);break;default:x+="/"}break;case 123*g:a[c++]=Qw(x)*v;case 125*g:case 59:case 0:switch(y){case 0:case 125:m=0;case 59+u:f>0&&Qw(x)-h&&tC(f>32?EC(x+";",i,n,h-1):EC(Gw(x," ","")+";",i,n,h-2),l);break;case 59:x+=";";default:if(tC(C=SC(x,t,n,c,u,r,a,b,_=[],w=[],h),o),123===y)if(0===u)kC(x,t,C,C,_,o,h,a,w);else switch(d){case 100:case 109:case 115:kC(e,C,C,i&&tC(SC(e,C,C,0,0,r,a,b,r,_=[],h),w),r,w,h,a,i?_:w);break;default:kC(x,C,C,C,[""],w,h,a,w)}}c=u=f=0,g=v=1,b=x="",h=s;break;case 58:h=1+Qw(x),f=p;default:if(g<1)if(123==y)--g;else if(125==y&&0==g++&&125==(sC=oC>0?Zw(aC,--oC):0,iC--,10===sC&&(iC=1,nC--),sC))continue;switch(x+=Kw(y),y*g){case 38:v=u>0?1:(x+="\f",-1);break;case 44:a[c++]=(Qw(x)-1)*v,v=1;break;case 64:45===hC()&&(x+=vC(uC())),d=hC(),u=Qw(b=x+=CC(dC())),y++;break;case 45:45===p&&2==Qw(x)&&(g=0)}}return o}function SC(e,t,n,i,r,o,s,a,l,c,u){for(var h=r-1,d=0===r?o:[""],f=eC(d),p=0,g=0,m=0;p<i;++p)for(var v=0,y=Jw(e,h+1,h=qw(g=s[p])),b=e;v<f;++v)(b=Yw(g>0?d[v]+" "+y:Gw(y,/&\f/g,d[v])))&&(l[m++]=b);return lC(e,t,n,0===r?"rule":a,l,c,u)}function DC(e,t,n){return lC(e,t,n,"comm",Kw(sC),Jw(e,2,-2),0)}function EC(e,t,n,i){return lC(e,t,n,"decl",Jw(e,0,i),Jw(e,i+1,-1),i)}function LC(e,t){switch(function(e,t){return(((t<<2^Zw(e,0))<<2^Zw(e,1))<<2^Zw(e,2))<<2^Zw(e,3)}(e,t)){case 5103:return $w+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return $w+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return $w+e+Uw+e+Hw+e+e;case 6828:case 4268:return $w+e+Hw+e+e;case 6165:return $w+e+Hw+"flex-"+e+e;case 5187:return $w+e+Gw(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return $w+e+Hw+"flex-item-"+Gw(e,/flex-|-self/,"")+e;case 4675:return $w+e+Hw+"flex-line-pack"+Gw(e,/align-content|flex-|-self/,"")+e;case 5548:return $w+e+Hw+Gw(e,"shrink","negative")+e;case 5292:return $w+e+Hw+Gw(e,"basis","preferred-size")+e;case 6060:return $w+"box-"+Gw(e,"-grow","")+$w+e+Hw+Gw(e,"grow","positive")+e;case 4554:return $w+Gw(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return Gw(Gw(Gw(e,/(zoom-|grab)/,$w+"$1"),/(image-set)/,$w+"$1"),e,"")+e;case 5495:case 3959:return Gw(e,/(image-set\([^]*)/,$w+"$1$`$1");case 4968:return Gw(Gw(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+$w+e+e;case 4095:case 3583:case 4068:case 2532:return Gw(e,/(.+)-inline(.+)/,$w+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Qw(e)-1-t>6)switch(Zw(e,t+1)){case 109:if(45!==Zw(e,t+4))break;case 102:return Gw(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+Uw+(108==Zw(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Xw(e,"stretch")?LC(Gw(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Zw(e,t+1))break;case 6444:switch(Zw(e,Qw(e)-3-(~Xw(e,"!important")&&10))){case 107:return Gw(e,":",":"+$w)+e;case 101:return Gw(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+$w+(45===Zw(e,14)?"inline-":"")+"box$3$1"+$w+"$2$3$1"+Hw+"$2box$3")+e}break;case 5936:switch(Zw(e,t+11)){case 114:return $w+e+Hw+Gw(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return $w+e+Hw+Gw(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return $w+e+Hw+Gw(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return $w+e+Hw+e+e}return e}function TC(e,t){for(var n="",i=eC(e),r=0;r<i;r++)n+=t(e[r],r,e,t)||"";return n}function NC(e,t,n,i){switch(e.type){case"@import":case"decl":return e.return=e.return||e.value;case"comm":return"";case"rule":e.value=e.props.join(",")}return Qw(n=TC(e.children,i))?e.return=e.value+"{"+n+"}":""}function MC(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var AC=function(e,t,n){for(var i=0,r=0;i=r,r=hC(),38===i&&12===r&&(t[n]=1),!pC(r);)uC();return fC(e,oC)},IC=function(e,t){return mC(function(e,t){var n=-1,i=44;do{switch(pC(i)){case 0:38===i&&12===hC()&&(t[n]=1),e[n]+=AC(oC-1,t,n);break;case 2:e[n]+=vC(i);break;case 4:if(44===i){e[++n]=58===hC()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Kw(i)}}while(i=uC());return e}(gC(e),t))},OC=new WeakMap,FC=function(e){if("rule"===e.type&&e.parent&&e.length){for(var t=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||OC.get(n))&&!i){OC.set(e,!0);for(var r=[],o=IC(t,r),s=n.props,a=0,l=0;a<o.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=r[a]?o[a].replace(/&\f/g,s[c]):s[c]+" "+o[a]}}},RC=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},PC=[function(e,t,n,i){if(!e.return)switch(e.type){case"decl":e.return=LC(e.value,e.length);break;case"@keyframes":return TC([cC(Gw(e.value,"@","@"+$w),e,"")],i);case"rule":if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return TC([cC(Gw(t,/:(read-\w+)/,":-moz-$1"),e,"")],i);case"::placeholder":return TC([cC(Gw(t,/:(plac\w+)/,":-webkit-input-$1"),e,""),cC(Gw(t,/:(plac\w+)/,":-moz-$1"),e,""),cC(Gw(t,/:(plac\w+)/,Hw+"input-$1"),e,"")],i)}return""}))}}],BC=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i,r,o=e.stylisPlugins||PC,s={},a=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;a.push(e)}));var l,c,u,h,d=[NC,(h=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&h(e)})],f=(c=[FC,RC].concat(o,d),u=eC(c),function(e,t,n,i){for(var r="",o=0;o<u;o++)r+=c[o](e,t,n,i)||"";return r});r=function(e,t,n,i){l=n,TC(xC(e?e+"{"+t.styles+"}":t.styles),f),i&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new Ww({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:r};return p.sheet.hydrate(a),p};var jC={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},zC=/[A-Z]|^ms/g,VC=/_EMO_([^_]+?)_([^]*?)_EMO_/g,WC=function(e){return 45===e.charCodeAt(1)},HC=function(e){return null!=e&&"boolean"!=typeof e},UC=MC((function(e){return WC(e)?e:e.replace(zC,"-$&").toLowerCase()})),$C=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(VC,(function(e,t,n){return KC={name:t,styles:n,next:KC},t}))}return 1===jC[e]||WC(e)||"number"!=typeof t||0===t?t:t+"px"};function qC(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return KC={name:n.name,styles:n.styles,next:KC},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)KC={name:i.name,styles:i.styles,next:KC},i=i.next;return n.styles+";"}return function(e,t,n){var i="";if(Array.isArray(n))for(var r=0;r<n.length;r++)i+=qC(e,t,n[r])+";";else for(var o in n){var s=n[o];if("object"!=typeof s)null!=t&&void 0!==t[s]?i+=o+"{"+t[s]+"}":HC(s)&&(i+=UC(o)+":"+$C(o,s)+";");else if(!Array.isArray(s)||"string"!=typeof s[0]||null!=t&&void 0!==t[s[0]]){var a=qC(e,t,s);switch(o){case"animation":case"animationName":i+=UC(o)+":"+a+";";break;default:i+=o+"{"+a+"}"}}else for(var l=0;l<s.length;l++)HC(s[l])&&(i+=UC(o)+":"+$C(o,s[l])+";")}return i}(e,t,n);case"function":if(void 0!==e){var r=KC,o=n(e);return KC=r,qC(e,t,o)}}if(null==t)return n;var s=t[n];return void 0!==s?s:n}var KC,YC=/label:\s*([^\s;\n{]+)\s*(;|$)/g,GC=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,r="";KC=void 0;var o=e[0];null==o||void 0===o.raw?(i=!1,r+=qC(n,t,o)):r+=o[0];for(var s=1;s<e.length;s++)r+=qC(n,t,e[s]),i&&(r+=o[s]);YC.lastIndex=0;for(var a,l="";null!==(a=YC.exec(r));)l+="-"+a[1];var c=function(e){for(var t,n=0,i=0,r=e.length;r>=4;++i,r-=4)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(r){case 3:n^=(255&e.charCodeAt(i+2))<<16;case 2:n^=(255&e.charCodeAt(i+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(i)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(r)+l;return{name:c,styles:r,next:KC}};function XC(e,t,n){var i="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):i+=n+" "})),i}var ZC=function(e,t,n){var i=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[i]&&(e.registered[i]=t.styles),void 0===e.inserted[t.name]){var r=t;do{e.insert(t===r?"."+i:"",r,e.sheet,!0),r=r.next}while(void 0!==r)}};function JC(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function QC(e,t,n){var i=[],r=XC(e,i,n);return i.length<2?n:r+t(i)}var ex=function e(t){for(var n="",i=0;i<t.length;i++){var r=t[i];if(null!=r){var o=void 0;switch(typeof r){case"boolean":break;case"object":if(Array.isArray(r))o=e(r);else for(var s in o="",r)r[s]&&s&&(o&&(o+=" "),o+=s);break;default:o=r}o&&(n&&(n+=" "),n+=o)}}return n},tx=function(e){var t=BC(e);t.sheet.speedy=function(e){this.isSpeedy=e},t.compat=!0;var n=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=GC(n,t.registered,void 0);return ZC(t,r,!1),t.key+"-"+r.name};return{css:n,cx:function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return QC(t.registered,n,ex(i))},injectGlobal:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=GC(n,t.registered);JC(t,r)},keyframes:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=GC(n,t.registered),o="animation-"+r.name;return JC(t,{name:r.name,styles:"@keyframes "+o+"{"+r.styles+"}"}),o},hydrate:function(e){e.forEach((function(e){t.inserted[e]=!0}))},flush:function(){t.registered={},t.inserted={},t.sheet.flush()},sheet:t.sheet,cache:t,getRegisteredStyles:XC.bind(null,t.registered),merge:QC.bind(null,t.registered,n)}}({key:"css"}),nx=tx.injectGlobal,ix=tx.css;const rx={typography:"",code:""},ox={radius:"0",lineWidth:"1px"},sx={scrollbar:()=>"",shadow:()=>"",border:()=>""},ax={icon:e=>{const t=document.createElement("div");return t.className="milkdown-icon",t.textContent=e,t}},lx=e=>{if(e.startsWith("rgba"))return e.slice(5,-1).split(",").slice(0,-1).join(",");if(e.startsWith("rgb"))return e.slice(4,-1);const t=(e=>{const t=e.slice(1).replace(/^([a-f\d])([a-f\d])([a-f\d])$/i,((e,t,n,i)=>t+t+n+n+i+i)),[n,i,r,o]=t.match(/^([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i)||[];return n?[i,r,o].map((e=>parseInt(e,16))):null})(e);return t?t.join(", "):(console.warn(`Invalid hex: ${e}`),e)},cx=(e={},t=(e=>`${e}`))=>Object.entries(e).map((([e,n])=>`--${e}: ${t(n)};`)).join("\n"),ux=(e={})=>cx(e,lx),hx=Ru({mixin:{},font:{},size:{},slots:{},palette:()=>""},"ThemeTool"),dx=e=>t=>(t.inject(hx),t=>{(e=>{const{color:t={},font:n,size:i={}}=e,{light:r,dark:o}=t,s=Lu(t,["light","dark"]);nx`
        :root {
            ${ux(r)};
            ${ux(s)};
            ${cx(n,(e=>e.join(", ")))};
            ${cx(i)};
        }
        [data-theme='dark'] {
            ${ux(o)}
        }
    `})(e);const n=(e=>{const{font:t,size:n={},mixin:i,slots:r,global:o}=e,s=(e={})=>Object.fromEntries(Object.keys(e).map((e=>[e,`var(--${e})`]))),a={palette:(e,t=1)=>`rgba(var(--${e}), ${t})`,size:Object.assign(Object.assign({},ox),s(n)),font:Object.assign(Object.assign({},rx),s(t))},l=Object.assign(Object.assign({},sx),null==i?void 0:i(a)),c=Object.assign(Object.assign({},a),{mixin:l}),u=Object.assign(Object.assign({},ax),null==r?void 0:r(c)),h=Object.assign(Object.assign({},c),{slots:u});return null==o||o(h),h})(e);t.set(hx,n)});var fx,px,gx,mx,vx,yx,bx;class _x{constructor(){fx.set(this,Fu()),px.set(this,Hu()),gx.set(this,new Set),mx.set(this,[]),vx.set(this,new Vu(Nu(this,fx,"f"),Nu(this,px,"f"))),yx.set(this,new Wu(Nu(this,fx,"f"),Nu(this,px,"f"))),bx.set(this,(()=>{const e=[X_,ew,Cw,Vw,Tw,Fw],t=(n=e=>Tu(this,void 0,void 0,(function*(){yield Promise.all(Nu(this,mx,"f").map((t=>t(e))))})),e=>(e.record(v_),e=>Tu(void 0,void 0,void 0,(function*(){yield n(e),e.done(v_)}))));var n,i;this.use(e.concat((i=this,e=>(e.inject(__,i).inject(C_).inject(x_).inject(w_).inject(k_).inject(S_,m_()).inject(b_,[v_]).record(y_),e=>Tu(void 0,void 0,void 0,(function*(){yield e.waitTimers(b_),e.done(y_)}))))).concat(t))})),this.use=e=>([e].flat().forEach((e=>{Nu(this,gx,"f").add(e(Nu(this,yx,"f")))})),this),this.config=e=>(Nu(this,mx,"f").push(e),this),this.create=()=>Tu(this,void 0,void 0,(function*(){return Nu(this,bx,"f").call(this),yield Promise.all([...Nu(this,gx,"f")].map((e=>e(Nu(this,vx,"f"))))),this})),this.action=e=>e(Nu(this,vx,"f"))}static make(){return new _x}}fx=new WeakMap,px=new WeakMap,gx=new WeakMap,mx=new WeakMap,vx=new WeakMap,yx=new WeakMap,bx=new WeakMap;const wx=gn((e=>{const t=St([]),n=kt(""),i=St((()=>[]));return fo((()=>e.portals.map((e=>e[0])).join("\n")),(i=>{if(i!==n.value){n.value=i;const r=e.portals.map((e=>e[1]));t.value=r}})),eo((()=>{i.value=()=>t.value.map((e=>bo(e,null)))})),()=>bo(Fi,null,i.value())}));wx.props=["portals"];let Cx=e=>crypto.getRandomValues(new Uint8Array(e)),xx=(e,t)=>((e,t,n)=>{let i=(2<<Math.log(e.length-1)/Math.LN2)-1,r=-~(1.6*i*t/e.length);return()=>{let o="";for(;;){let s=n(r),a=r;for(;a--;)if(o+=e[s[a]&i]||"",o.length===t)return o}}})(e,t,Cx);const kx=Symbol(),Sx=gn((({node:e,view:t,getPos:n,decorations:i},r)=>(rn(kx,{node:e,view:t,getPos:n,decorations:i}),()=>{var e,t,n;return bo(Fi,null,null!==(n=null===(t=(e=r.slots).default)||void 0===t?void 0:t.call(e))&&void 0!==n?n:[])})));Sx.props=["editor","node","view","getPos","decorations"];const Dx=gn((e=>{const t=kt(null);return co((()=>{e.dom&&t.value&&t.value.appendChild(e.dom)})),()=>bo("div",{ref:t})}));Dx.props=["dom"];const Ex=xx("abcedfghicklmn",10);class Lx{constructor(e,t,n,i,r,o,s){this.component=e,this.addPortal=t,this.removePortalByKey=n,this.node=i,this.view=r,this.getPos=o,this.decorations=s,this.key=Ex();const a=document.createElement(i instanceof eh?"span":"div");a.classList.add("dom-wrapper");const l=i instanceof xh&&i.isLeaf?void 0:document.createElement(i instanceof eh?"span":"div");l&&(l.classList.add("content-dom"),a.appendChild(l)),this.dom=a,this.contentDOM=l,this.renderPortal()}renderPortal(){if(!this.dom)return;const e=this.component,t=gn((()=>()=>bo(Ti,{to:this.dom},bo(Sx,{key:this.key,node:this.node,view:this.view,getPos:this.getPos,decorations:this.decorations},bo(e,null,bo(Dx,{dom:this.contentDOM}))))));this.addPortal(t,this.key)}destroy(){this.dom=void 0,this.contentDOM=void 0,this.removePortalByKey(this.key)}ignoreMutation(e){return!this.contentDOM||!this.contentDOM.contains(e.target)}}const Tx=Symbol(),Nx=gn((e=>{const t=(e=>{const t=kt(null),n=on(Tx,(()=>{throw new Error})),i=yt({});return Mn((()=>{t.value&&e(t.value,n).create().then((e=>{i.editor=e})).catch((e=>console.error(e)))})),Fn((()=>{var e,t;const n=null===(e=i.editor)||void 0===e?void 0:e.action((e=>e.get(Nw)));n&&(null===(t=n.dom.parentElement)||void 0===t||t.remove(),n.destroy())})),{divRef:t,editorRef:i}})(e.editor);return e.editorRef&&(e.editorRef.value={get:()=>t.editorRef.editor,dom:()=>t.divRef.value}),()=>bo("div",{ref:t.divRef})}));Nx.props=["editor","editorRef"];const Mx=gn((e=>{const t=ht([]),n=((e,t)=>n=>(i,r,o,s)=>new Lx(n,e,t,i,r,o,s))(yt(((e,n)=>{t.push([n,e])})),yt((e=>{const n=t.findIndex((t=>t[0]===e));t.splice(n,1)})));return rn(Tx,n),()=>bo(Fi,null,bo(wx,{portals:t}),bo(Nx,{editorRef:e.editorRef,editor:e.editor}))}));Mx.props=["editor","editorRef"];const Ax=e=>(...t)=>e(...t),Ix=e=>Object.prototype.hasOwnProperty.call(e,"origin");class Ox extends Array{findThenRun(e,t){const n=this.findIndex((t=>Ix(t)&&t.origin===e));return n<0||t(n),this}configure(e,t){return this.findThenRun(e,(n=>{this.splice(n,1,e(t))}))}replace(e,t){return this.findThenRun(e,(e=>{this.splice(e,1,t)}))}remove(e){return this.findThenRun(e,(e=>{this.splice(e,1)}))}headless(){return this.filter(Ix).forEach((e=>{this.configure(e.origin,{headless:!0})})),this}static create(e){return new Ox(...e)}}const Fx=(e,t,n)=>[e,t,n],Rx=(e,t)=>{try{const i=e.get(hx);return{getClassName:(n=null==t?void 0:t.className,(e,...t)=>{var i;const r=null!==(i=null==n?void 0:n(e))&&void 0!==i?i:t;return Array.isArray(r)?r.filter((e=>e)).join(" "):r}),getStyle:e=>(null==t?void 0:t.headless)?"":e(i),themeTool:i}}catch(i){throw new Error("It seems that no theme found in editor, please make sure you have use theme in front of all plugins.\nIf you prefer to use an empty theme, you can use `themeFactory({})`.")}var n},Px=(e,t,n,i)=>Tu(void 0,void 0,void 0,(function*(){if(yield e.wait(y_),t.remarkPlugins){const n=t.remarkPlugins(e);e.update(x_,(e=>[...e,...n]))}const r=yield n();if(t.commands){t.commands(r,e).forEach((([t,n])=>{e.get(Pw).create(t,n)}))}if(t.inputRules){const n=t.inputRules(r,e);e.update(w_,(e=>[...e,...n]))}if(t.shortcuts){const n=(e,t)=>{var n,r;return null!==(r=null===(n=null==i?void 0:i.keymap)||void 0===n?void 0:n[e])&&void 0!==r?r:t},r=Object.entries(t.shortcuts).flatMap((([t,[i,r,o]])=>{const s=()=>e.get(Pw).call(i,o),a=n(t,r);return Array.isArray(a)?a.map((e=>({key:e,runner:s}))):{key:a,runner:s}})).map((e=>[e.key,e.runner]));e.update(C_,(e=>e.concat(Gf(Object.fromEntries(r)))))}if(t.prosePlugins){const n=t.prosePlugins(r,e);e.update(C_,(e=>[...e,...n]))}})),Bx=e=>{const t=n=>{const i=e(n);return i.origin=t,i};return t},jx=(e,t,n)=>{const i=t;return i.extend=t=>n(((...n)=>t(e(...n),...n))),i},zx=e=>jx(e,Bx((t=>()=>n=>Tu(void 0,void 0,void 0,(function*(){const i=Rx(n,t),r=e(i,t);if(yield Px(n,r,(()=>Tu(void 0,void 0,void 0,(function*(){const e=r.schema(n);n.update(G_,(t=>[...t,[r.id,e]])),yield n.wait($_);return n.get(q_).marks[r.id]}))),t),r.view){const e=r.view(n);n.update(k_,(t=>[...t,[r.id,e]]))}})))),zx),Vx=e=>{const t=Bx((t=>()=>n=>Tu(void 0,void 0,void 0,(function*(){const i=Rx(n,t),r=e(i,t);if(yield Px(n,r,(()=>Tu(void 0,void 0,void 0,(function*(){const e=r.schema(n);n.update(Y_,(t=>[...t,[r.id,e]])),yield n.wait($_);return n.get(q_).nodes[r.id]}))),t),r.view){const e=r.view(n);n.update(k_,(t=>[...t,[r.id,e]]))}}))));return jx(e,t,Vx)},Wx=e=>{const t=Bx((t=>()=>n=>Tu(void 0,void 0,void 0,(function*(){const i=Rx(n,t),r=e(i,t);if(yield Px(n,r,(()=>Tu(void 0,void 0,void 0,(function*(){let e={},t={};if(r.schema){const i=r.schema(n);if(i.node){e=i.node;const t=Object.entries(i.node);n.update(Y_,(e=>[...e,...t]))}if(i.mark){t=i.mark;const e=Object.entries(i.mark);n.update(G_,(t=>[...t,...e]))}}yield n.wait($_);const i=n.get(q_),o=Object.keys(e).map((e=>[e,i.nodes[e]])),s=Object.keys(t).map((e=>[e,i.marks[e]]));return Object.fromEntries([...o,...s])}))),t),r.view){const e=r.view(n);n.update(k_,(t=>[...t,...Object.entries(e)]))}}))));return jx(e,t,Wx)},Hx={HardBreak:"HardBreak",Blockquote:"Blockquote",BulletList:"BulletList",OrderedList:"OrderedList",CodeFence:"CodeFence",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",Text:"Text",CodeInline:"CodeInline",Em:"Em",Bold:"Bold",NextListItem:"NextListItem",SinkListItem:"SinkListItem",LiftListItem:"LiftListItem"},Ux=Bw(),$x=zx((e=>{const t=e.getStyle((({palette:e,size:t,font:n})=>ix`
                background-color: ${e("neutral")};
                color: ${e("background")};
                border-radius: ${t.radius};
                font-weight: 500;
                font-family: ${n.code};
                padding: 0 0.2rem;
            `));return{id:"code_inline",schema:()=>({excludes:"_",parseDOM:[{tag:"code"}],toDOM:n=>["code",{class:e.getClassName(n.attrs,"code-inline",t)}],parseMarkdown:{match:e=>"inlineCode"===e.type,runner:(e,t,n)=>{e.openMark(n),e.addText(t.value),e.closeMark(n)}},toMarkdown:{match:e=>"code_inline"===e.type.name,runner:(e,t,n)=>(e.addNode("inlineCode",void 0,n.text||""),!0)}}),inputRules:e=>[Um(/(?:^|[^`])(`([^`]+)`)$/,e)],commands:e=>[Rw(Ux,(()=>xf(e)))],shortcuts:{[Hx.CodeInline]:Fx(Ux,"Mod-e")}}})),qx=Bw(),Kx=zx((e=>({id:"em",schema:()=>({parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style",getAttrs:e=>"italic"===e}],toDOM:t=>["em",{class:e.getClassName(t.attrs,"em")}],parseMarkdown:{match:e=>"emphasis"===e.type,runner:(e,t,n)=>{e.openMark(n),e.next(t.children),e.closeMark(n)}},toMarkdown:{match:e=>"em"===e.type.name,runner:(e,t)=>{e.withMark(t,"emphasis")}}}),inputRules:e=>[Um(/(?:^|[^_])(_([^_]+)_)$/,e),Um(/(?:^|[^*])(\*([^*]+)\*)$/,e)],commands:e=>[Rw(qx,(()=>xf(e)))],shortcuts:{[Hx.Em]:Fx(qx,"Mod-i")}}))),Yx=Bw(),Gx=Bw(),Xx=zx((e=>{const t=e.getStyle((e=>{const t=e.palette("line");return ix`
            color: ${e.palette("secondary")};
            cursor: pointer;
            transition: all 0.4s ease-in-out;
            font-weight: 500;
            &:hover {
                background-color: ${t};
                box-shadow: 0 0.2rem ${t}, 0 -0.2rem ${t};
            }
        `}));return{id:"link",schema:()=>({attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:e=>{if(!(e instanceof HTMLElement))throw new Error;return{href:e.getAttribute("href"),title:e.getAttribute("title")}}}],toDOM:n=>["a",Object.assign(Object.assign({},n.attrs),{class:e.getClassName(n.attrs,"link",t)})],parseMarkdown:{match:e=>"link"===e.type,runner:(e,t,n)=>{const i=t.url,r=t.title;e.openMark(n,{href:i,title:r}),e.next(t.children),e.closeMark(n)}},toMarkdown:{match:e=>"link"===e.type.name,runner:(e,t)=>{e.withMark(t,"link",void 0,{title:t.attrs.title,url:t.attrs.href})}}}),commands:e=>[Rw(Yx,((t="")=>xf(e,{href:t}))),Rw(Gx,((t="")=>(n,i)=>{if(!i)return!1;const{marks:r}=n.schema;let o,s=-1;const{selection:a}=n;if(n.doc.nodesBetween(a.from,a.to,((e,t)=>{if(r.link.isInSet(e.marks))return o=e,s=t,!1})),!o)return!1;const l=o.marks.find((({type:t})=>t===e));if(!l)return!1;const c=s,u=s+o.nodeSize,{tr:h}=n,d=r.link.create(Object.assign(Object.assign({},l.attrs),{href:t}));return i(h.removeMark(c,u,l).addMark(c,u,d).setSelection(new qd(h.selection.$anchor)).scrollIntoView()),!0}))],inputRules:(e,t)=>[new Mf(/\[(?<text>.*?)]\((?<href>.*?)(?=|\))"?(?<title>[^"]+)?"?\)/,((n,i,r,o)=>{const[s,a="",l,c]=i,{tr:u}=n;if(s){const n=a||"link";u.replaceWith(r,o,t.get(q_).text(n)).addMark(r,n.length+r,e.create({title:c,href:l}))}return u}))]}})),Zx=Bw(),Jx=zx((e=>{const t=e.getStyle((()=>ix`
                font-weight: 600;
            `));return{id:"strong",schema:()=>({parseDOM:[{tag:"b"},{tag:"strong"},{style:"font-style",getAttrs:e=>"bold"===e}],toDOM:n=>["strong",{class:e.getClassName(n.attrs,"strong",t)}],parseMarkdown:{match:e=>"strong"===e.type,runner:(e,t,n)=>{e.openMark(n),e.next(t.children),e.closeMark(n)}},toMarkdown:{match:e=>"strong"===e.type.name,runner:(e,t)=>{e.withMark(t,"strong")}}}),inputRules:e=>[Um(/(?:__)([^_]+)(?:__)$/,e),Um(/(?:\*\*)([^*]+)(?:\*\*)$/,e)],commands:e=>[Rw(Zx,(()=>xf(e)))],shortcuts:{[Hx.Bold]:Fx(Zx,"Mod-b")}}})),Qx=[$x(),Kx(),Jx(),Xx()],ek="blockquote",tk=Bw(),nk=Vx((e=>{const t=e.getStyle((e=>ix`
                padding-left: 1.875rem;
                line-height: 1.75rem;
                border-left: 4px solid ${e.palette("primary")};
                * {
                    font-size: 1rem;
                    line-height: 1.5rem;
                }
            `));return{id:ek,schema:()=>({content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:n=>["blockquote",{class:e.getClassName(n.attrs,ek,t)},0],parseMarkdown:{match:({type:e})=>e===ek,runner:(e,t,n)=>{e.openNode(n).next(t.children).closeNode()}},toMarkdown:{match:e=>e.type.name===ek,runner:(e,t)=>{e.openNode("blockquote").next(t.content).closeNode()}}}),inputRules:e=>[Of(/^\s*>\s$/,e)],commands:e=>[Rw(tk,(()=>wf(e)))],shortcuts:{[Hx.Blockquote]:Fx(tk,"Mod-Shift-b")}}})),ik=Bw(),rk=Vx((e=>{const t="bullet_list";return{id:t,schema:()=>({content:"listItem+",group:"block",parseDOM:[{tag:"ul"}],toDOM:t=>["ul",{class:e.getClassName(t.attrs,"bullet-list")},0],parseMarkdown:{match:({type:e,ordered:t})=>"list"===e&&!t,runner:(e,t,n)=>{e.openNode(n).next(t.children).closeNode()}},toMarkdown:{match:e=>e.type.name===t,runner:(e,t)=>{e.openNode("list",void 0,{ordered:!1}).next(t.content).closeNode()}}}),inputRules:e=>[Of(/^\s*([-+*])\s$/,e)],commands:e=>[Rw(ik,(()=>wf(e)))],shortcuts:{[Hx.BulletList]:Fx(ik,"Mod-Shift-8")}}})),ok=["","javascript","typescript","bash","sql","json","html","css","c","cpp","java","ruby","python","go","rust","markdown"],sk=/^```(?<language>[a-z]*)? $/,ak=Bw(),lk=Vx(((e,t)=>{const n=e.getStyle((({palette:e,mixin:t,size:n,font:i})=>{const{shadow:r,scrollbar:o,border:s}=t,{lineWidth:a,radius:l}=n;return ix`
            background-color: ${e("background")};
            color: ${e("neutral")};
            font-size: 0.85rem;
            padding: 1.2rem 0.4rem 1.4rem;
            border-radius: ${l};
            font-family: ${i.typography};

            * {
                margin: 0;
            }

            .code-fence_select-wrapper {
                position: relative;
            }

            .code-fence_value {
                width: 10.25rem;
                box-sizing: border-box;
                border-radius: ${n.radius};
                margin: 0 1.2rem 1.2rem;
                ${s()};
                ${r()};
                cursor: pointer;
                background-color: ${e("surface")};
                position: relative;
                display: flex;
                color: ${e("neutral",.87)};
                letter-spacing: 0.5px;
                height: 2.625rem;
                align-items: center;

                & > *:last-child {
                    width: 2.625rem;
                    height: 100%;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    color: ${e("solid",.87)};
                    border-left: ${a} solid ${e("line")};

                    text-align: center;
                    transition: all 0.2s ease-in-out;
                    &:hover {
                        background: ${e("background")};
                        color: ${e("primary")};
                    }
                }

                > span:first-child {
                    padding-left: 1rem;
                    flex: 1;
                    font-weight: 500;
                }
            }

            .code-fence_select-option {
                list-style: none;
                line-height: 2rem;
                padding-left: 1rem;
                cursor: pointer;
                :hover {
                    background: ${e("secondary",.12)};
                    color: ${e("primary")};
                }
            }

            .code-fence_select {
                &[data-fold='true'] {
                    display: none;
                }

                font-weight: 500;
                position: absolute;
                z-index: 1;
                top: 2.625rem;
                box-sizing: border-box;
                left: 1.2rem;
                padding: 0.5rem 0;
                max-height: 16.75rem;
                width: 10.25rem;
                ${s()};
                ${r()};
                background-color: ${e("surface")};
                border-top: none;
                overflow-y: auto;
                display: flex;
                flex-direction: column;

                ${o("y")}
            }

            code {
                line-height: 1.5;
                font-family: ${i.code};
            }

            pre {
                font-family: ${i.code};
                margin: 0 1.2rem !important;
                overflow-x: scroll;
                white-space: pre !important;

                padding-bottom: 1.4rem;

                ${o("x")}
            }
        `}));return{id:"fence",schema:()=>({content:"text*",group:"block",marks:"",defining:!0,code:!0,attrs:{language:{default:""},fold:{default:!0}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:e=>{if(!(e instanceof HTMLElement))throw new Error("Parse DOM error.");return{language:e.dataset.language}}}],toDOM:t=>["div",{"data-language":t.attrs.language,class:e.getClassName(t.attrs,"code-fence",n)},["pre",["code",{spellCheck:"false"},0]]],parseMarkdown:{match:({type:e})=>"code"===e,runner:(e,t,n)=>{const i=t.lang,r=t.value;e.openNode(n,{language:i}),e.addText(r),e.closeNode()}},toMarkdown:{match:e=>"fence"===e.type.name,runner:(e,t)=>{var n;e.addNode("code",void 0,(null===(n=t.content.firstChild)||void 0===n?void 0:n.text)||"",{lang:t.attrs.language})}}}),inputRules:e=>[Ff(sk,e,(([e,t])=>{if(e)return{language:t}}))],commands:e=>[Rw(ak,(()=>Cf(e)))],shortcuts:{[Hx.CodeFence]:Fx(ak,"Mod-Alt-c")},view:i=>(r,o,s)=>{const a=document.createElement("div"),l=document.createElement("div"),c=document.createElement("ul"),u=document.createElement("pre"),h=document.createElement("code"),d=document.createElement("div");d.className="code-fence_value";const f=document.createElement("span");return d.appendChild(f),d.appendChild(i.get(hx).slots.icon("downArrow")),c.className="code-fence_select",c.addEventListener("mousedown",(e=>{if(e.preventDefault(),e.stopPropagation(),!o.editable)return;const t=e.target;if(!(t instanceof HTMLLIElement))return;const{tr:n}=o.state;o.dispatch(n.setNodeMarkup(s(),void 0,{fold:!0,language:t.dataset.value}))})),d.addEventListener("mousedown",(e=>{if(e.preventDefault(),e.stopPropagation(),!o.editable)return;const{tr:t}=o.state;o.dispatch(t.setNodeMarkup(s(),void 0,{fold:!1,language:a.dataset.language}))})),document.addEventListener("mousedown",(()=>{if(!o.editable||"true"===c.dataset.fold)return;const{tr:e}=o.state;o.dispatch(e.setNodeMarkup(s(),void 0,{fold:!0,language:a.dataset.language}))})),((null==t?void 0:t.languageList)||ok).forEach((e=>{const t=document.createElement("li");t.className="code-fence_select-option",t.innerText=e||"--",c.appendChild(t),t.setAttribute("data-value",e)})),h.spellcheck=!1,l.className="code-fence_select-wrapper",l.contentEditable="false",l.append(d),l.append(c),u.append(h),a.append(l,u),a.setAttribute("class",e.getClassName(r.attrs,"code-fence",n)),a.setAttribute("data-language",r.attrs.language),f.innerText=r.attrs.language||"--",c.setAttribute("data-fold",r.attrs.fold?"true":"false"),{dom:a,contentDOM:h,update:e=>{if("fence"!==e.type.name)return!1;const t=e.attrs.language;return a.dataset.language=t,f.innerText=t||"--",c.setAttribute("data-fold",e.attrs.fold?"true":"false"),!0}}}}})),ck=Vx((()=>({id:"doc",schema:()=>({content:"block+",parseMarkdown:{match:({type:e})=>"root"===e,runner:(e,t,n)=>{e.injectRoot(t,n)}},toMarkdown:{match:e=>"doc"===e.type.name,runner:(e,t)=>{e.openNode("root"),e.next(t.content)}}})}))),uk=Bw(),hk=Vx((e=>({id:"hardbreak",schema:()=>({inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:t=>["br",{class:e.getClassName(t.attrs,"hardbreak")}],parseMarkdown:{match:({type:e})=>"break"===e,runner:(e,t,n)=>{e.addNode(n)}},toMarkdown:{match:e=>"hardbreak"===e.type.name,runner:e=>{e.addNode("break")}}}),commands:e=>[Rw(uk,(()=>(t,n)=>(null==n||n(t.tr.replaceSelectionWith(e.create()).scrollIntoView()),!0)))],shortcuts:{[Hx.HardBreak]:Fx(uk,"Shift-Enter")}}))),dk=Array(6).fill(0).map(((e,t)=>t+1)),fk=Bw(),pk=Vx(((e,t)=>{const n="heading",i={1:ix`
            font-size: 3rem;
            line-height: 3.5rem;
        `,2:ix`
            font-size: 2.125rem;
            line-height: 2.25rem;
        `,3:ix`
            font-size: 1.5rem;
            line-height: 1.5rem;
        `};return{id:n,schema:()=>({content:"inline*",group:"block",attrs:{level:{default:1},id:{default:""}},parseDOM:dk.map((e=>({tag:`h${e}`,attrs:{level:e}}))),toDOM:n=>{return[`h${n.attrs.level}`,{class:e.getClassName(n.attrs,`heading h${n.attrs.level}`,(r=n.attrs.level,(null==t?void 0:t.headless)?null:ix`
                  ${i[r]||""}
                  margin: 2.5rem 0 !important;
                  font-weight: 400;
              `))},0];var r},parseMarkdown:{match:({type:e})=>e===n,runner:(e,t,n)=>{const i=t.depth;e.openNode(n,{level:i}),e.next(t.children),e.closeNode()}},toMarkdown:{match:e=>e.type.name===n,runner:(e,t)=>{e.openNode("heading",void 0,{depth:t.attrs.level}),e.next(t.content),e.closeNode()}}}),inputRules:e=>dk.map((t=>Ff(new RegExp(`^(#{1,${t}})\\s$`),e,(()=>({level:t}))))),commands:e=>[Rw(fk,((t=1)=>Cf(e,{level:t})))],shortcuts:{[Hx.H1]:Fx(fk,"Mod-Alt-1",1),[Hx.H2]:Fx(fk,"Mod-Alt-2",2),[Hx.H3]:Fx(fk,"Mod-Alt-3",3),[Hx.H4]:Fx(fk,"Mod-Alt-4",4),[Hx.H5]:Fx(fk,"Mod-Alt-5",5),[Hx.H6]:Fx(fk,"Mod-Alt-6",6)}}})),gk=Bw(),mk=Vx((e=>{const t=e.getStyle((e=>ix`
            height: ${e.size.lineWidth};
            background-color: ${e.palette("line")};
            border-width: 0;
        `));return{id:"hr",schema:()=>({group:"block",parseDOM:[{tag:"hr"}],toDOM:n=>["hr",{class:e.getClassName(n.attrs,"hr",t)}],parseMarkdown:{match:({type:e})=>"thematicBreak"===e,runner:(e,t,n)=>{e.addNode(n)}},toMarkdown:{match:e=>"hr"===e.type.name,runner:e=>{e.addNode("thematicBreak")}}}),inputRules:e=>[new Mf(/^(?:---|___\s|\*\*\*\s)$/,((t,n,i,r)=>{const{tr:o}=t;return n[0]&&o.replaceWith(i,r,e.create({})),o}))],commands:(e,t)=>[Rw(gk,(()=>(n,i)=>{if(!i)return!0;const{tr:r,selection:o}=n,s=o.from,a=e.create();if(!a)return!0;const l=r.replaceSelectionWith(a).insert(s,t.get(q_).node("paragraph")),c=Hd.findFrom(l.doc.resolve(s),1,!0);return!c||(i(l.setSelection(c).scrollIntoView()),!0)}))]}})),vk=Bw(),yk=Bw(),bk="image",_k=Vx(((e,t)=>{var n,i;const r=Object.assign({loading:"Loading...",empty:"Add an Image",failed:"Image loads failed"},null!==(n=null==t?void 0:t.placeholder)&&void 0!==n?n:{}),o=null!==(i=null==t?void 0:t.isBlock)&&void 0!==i&&i,s=e.getStyle((e=>ix`
                display: inline-block;
                position: relative;
                text-align: center;
                font-size: 0;
                vertical-align: text-bottom;
                ${o?"\n                width: 100%;\n                margin: 0 auto;\n                ":""}
                img {
                    max-width: 100%;
                    height: auto;
                    object-fit: contain;
                    margin: 0 2px;
                }
                .icon,
                .placeholder {
                    display: none;
                }

                &.system {
                    width: 100%;
                    padding: 0 2rem;

                    img {
                        width: 0;
                        height: 0;
                        display: none;
                    }

                    .icon,
                    .placeholder {
                        display: inline;
                    }

                    box-sizing: border-box;
                    height: 3rem;
                    background-color: ${e.palette("background")};
                    border-radius: ${e.size.radius};
                    display: inline-flex;
                    gap: 2rem;
                    justify-content: flex-start;
                    align-items: center;
                    .placeholder {
                        margin: 0;
                        line-height: 1;
                        &::before {
                            content: '';
                            font-size: 0.875rem;
                            color: ${e.palette("neutral",.6)};
                        }
                    }
                }

                &.loading {
                    .placeholder {
                        &::before {
                            content: '${r.loading}';
                        }
                    }
                }

                &.empty {
                    .placeholder {
                        &::before {
                            content: '${r.empty}';
                        }
                    }
                }

                &.failed {
                    .placeholder {
                        &::before {
                            content: '${r.failed}';
                        }
                    }
                }
            `)),a=e.getStyle((()=>ix`
                display: inline-block;
                margin: 0 auto;
                object-fit: contain;
                width: 100%;
                position: relative;
                height: auto;
                text-align: center;
            `));return{id:"image",schema:()=>({inline:!0,group:"inline",draggable:!0,marks:"",atom:!0,defining:!0,isolating:!0,attrs:{src:{default:""},alt:{default:null},title:{default:null},failed:{default:!1},loading:{default:!0},width:{default:0}},parseDOM:[{tag:"img[src]",getAttrs:e=>{if(!(e instanceof HTMLElement))throw new Error;return{failed:e.classList.contains("failed"),loading:e.classList.contains("loading"),src:e.getAttribute("src")||"",alt:e.getAttribute("alt"),title:e.getAttribute("title")||e.getAttribute("alt"),width:e.getAttribute("width")||0}}}],toDOM:t=>["img",Object.assign(Object.assign({},t.attrs),{class:e.getClassName(t.attrs,bk,t.attrs.failed?"failed":"",t.attrs.loading?"loading":"",a)})],parseMarkdown:{match:({type:e})=>e===bk,runner:(e,t,n)=>{const i=t.url,r=t.alt,o=t.title;e.addNode(n,{src:i,alt:r,title:o})}},toMarkdown:{match:e=>e.type.name===bk,runner:(e,t)=>{e.addNode("image",void 0,void 0,{title:t.attrs.title,url:t.attrs.src,alt:t.attrs.alt})}}}),commands:e=>[Rw(yk,((t="")=>(n,i)=>{if(!i)return!0;const{tr:r}=n,o=e.create({src:t});if(!o)return!0;return i(r.replaceSelectionWith(o).scrollIntoView()),!0})),Rw(vk,((t="")=>(n,i)=>{const r=Gm(n.selection,e);if(!r)return!1;const{tr:o}=n;return null==i||i(o.setNodeMarkup(r.pos,void 0,Object.assign(Object.assign({},r.node.attrs),{loading:!0,src:t})).scrollIntoView()),!0}))],inputRules:e=>[new Mf(/!\[(?<alt>.*?)]\((?<filename>.*?)\s*(?="|\))"?(?<title>[^"]+)?"?\)/,((t,n,i,r)=>{const[o,s,a="",l]=n,{tr:c}=t;return o&&c.replaceWith(i,r,e.create({src:a,alt:s,title:l})),c}))],view:t=>(n,i,r)=>{const o=n.type,a=t.get(hx).slots.icon,l=document.createElement("span");l.className=e.getClassName(n.attrs,bk,s),l.contentEditable="false";const c=document.createElement("img");c.contentEditable="true",l.append(c);let u=a("image");const h=document.createElement("span");h.classList.add("placeholder"),l.append(u,h);const d=e=>{const t=a(e);l.replaceChild(t,u),u=t},f=e=>{l.classList.add("system","loading"),d("loading");const t=document.createElement("img");t.src=e,t.onerror=()=>{const{tr:t}=i.state,s=t.setNodeMarkup(r(),o,Object.assign(Object.assign({},n.attrs),{src:e,loading:!1,failed:!0}));i.dispatch(s)},t.onload=()=>{const{tr:s}=i.state,a=s.setNodeMarkup(r(),o,Object.assign(Object.assign({},n.attrs),{width:t.width,src:e,loading:!1,failed:!1}));i.dispatch(a)}},{src:p,loading:g,title:m,alt:v,width:y}=n.attrs;return c.src=p,c.title=m||v,c.alt=v,c.width=y,0===p.length?(l.classList.add("system","empty"),d("image")):g&&f(p),{dom:l,update:e=>{if(e.type.name!==bk)return!1;const{src:t,alt:n,title:i,loading:r,failed:o,width:s}=e.attrs;return c.src=t,c.alt=n,c.title=i||n,c.width=s,r?(f(t),!0):o?(l.classList.remove("loading","empty"),l.classList.add("system","failed"),d("brokenImage"),!0):t.length>0?(l.classList.remove("system","empty","loading"),!0):(l.classList.add("system","empty"),d("image"),!0)}}}}}));function wk(e){return function(t,n){var i=t.selection,r=i.$from,o=i.$to,s=i.node;if(s&&s.isBlock||r.depth<2||!r.sameParent(o))return!1;var a=r.node(-1);if(a.type!=e)return!1;if(0==r.parent.content.size&&r.node(-1).childCount==r.indexAfter(-1)){if(2==r.depth||r.node(-3).type!=e||r.index(-2)!=r.node(-2).childCount-1)return!1;if(n){for(var l=Gu.empty,c=r.index(-1)?1:r.index(-2)?2:3,u=r.depth-c;u>=r.depth-3;u--)l=Gu.from(r.node(u).copy(l));var h=r.indexAfter(-1)<r.node(-2).childCount?1:r.indexAfter(-2)<r.node(-3).childCount?2:3;l=l.append(Gu.from(e.createAndFill()));var d=r.before(r.depth-(c-1)),f=t.tr.replace(d,r.after(-h),new nh(l,4-c,0)),p=-1;f.doc.nodesBetween(d,f.doc.content.size,(function(e,t){if(p>-1)return!1;e.isTextblock&&0==e.content.size&&(p=t+1)})),p>-1&&f.setSelection(t.selection.constructor.near(f.doc.resolve(p))),n(f.scrollIntoView())}return!0}var g=o.pos==r.end()?a.contentMatchAt(0).defaultType:null,m=t.tr.delete(r.pos,o.pos),v=g&&[null,{type:g}];return!!Ed(m.doc,r.pos,2,v)&&(n&&n(m.split(r.pos,2,v).scrollIntoView()),!0)}}function Ck(e){return function(t,n){var i=t.selection,r=i.$from,o=i.$to,s=r.blockRange(o,(function(t){return t.childCount&&t.firstChild.type==e}));return!!s&&(!n||(r.node(s.depth-1).type==e?function(e,t,n,i){var r=e.tr,o=i.end,s=i.$to.end(i.depth);o<s&&(r.step(new wd(o-1,s,o,s,new nh(Gu.from(n.create(null,i.parent.copy())),1,0),1,!0)),i=new _h(r.doc.resolve(i.$from.pos),r.doc.resolve(s),i.depth));return t(r.lift(i,kd(i)).scrollIntoView()),!0}(t,n,e,s):function(e,t,n){for(var i=e.tr,r=n.parent,o=n.end,s=n.endIndex-1,a=n.startIndex;s>a;s--)o-=r.child(s).nodeSize,i.delete(o-1,o+1);var l=i.doc.resolve(n.start),c=l.nodeAfter;if(i.mapping.map(n.end)!=n.start+l.nodeAfter.nodeSize)return!1;var u=0==n.startIndex,h=n.endIndex==r.childCount,d=l.node(-1),f=l.index(-1);if(!d.canReplace(f+(u?0:1),f+1,c.content.append(h?Gu.empty:Gu.from(r))))return!1;var p=l.pos,g=p+c.nodeSize;return i.step(new wd(p-(u?1:0),g+(h?1:0),p+1,g-1,new nh((u?Gu.empty:Gu.from(r.copy(Gu.empty))).append(h?Gu.empty:Gu.from(r.copy(Gu.empty))),u?0:1,h?0:1),u?0:1)),t(i.scrollIntoView()),!0}(t,n,s)))}}function xk(e){return function(t,n){var i=t.selection,r=i.$from,o=i.$to,s=r.blockRange(o,(function(t){return t.childCount&&t.firstChild.type==e}));if(!s)return!1;var a=s.startIndex;if(0==a)return!1;var l=s.parent,c=l.child(a-1);if(c.type!=e)return!1;if(n){var u=c.lastChild&&c.lastChild.type==l.type,h=Gu.from(u?e.create():null),d=new nh(Gu.from(e.create(null,Gu.from(l.type.create(null,h)))),u?3:1,0),f=s.start,p=s.end;n(t.tr.step(new wd(f-(u?3:1),p,f,p,d,1,!0)).scrollIntoView())}return!0}}const kk=Bw(),Sk=Bw(),Dk=Bw(),Ek=Vx((e=>{const t=e.getStyle((e=>ix`
                &,
                & > * {
                    margin: 0.5rem 0;
                }

                &,
                li {
                    &::marker {
                        color: ${e.palette("primary")};
                    }
                }
            `));return{id:"list_item",schema:()=>({group:"listItem",content:"paragraph block*",defining:!0,parseDOM:[{tag:"li"}],toDOM:n=>["li",{class:e.getClassName(n.attrs,"list-item",t)},0],parseMarkdown:{match:({type:e,checked:t})=>"listItem"===e&&null===t,runner:(e,t,n)=>{e.openNode(n),e.next(t.children),e.closeNode()}},toMarkdown:{match:e=>"list_item"===e.type.name,runner:(e,t)=>{e.openNode("listItem"),e.next(t.content),e.closeNode()}}}),inputRules:e=>[Of(/^\s*([-+*])\s$/,e)],commands:e=>[Rw(kk,(()=>wk(e))),Rw(Sk,(()=>xk(e))),Rw(Dk,(()=>Ck(e)))],shortcuts:{[Hx.NextListItem]:Fx(kk,"Enter"),[Hx.SinkListItem]:Fx(Sk,"Mod-]"),[Hx.LiftListItem]:Fx(Dk,"Mod-[")}}})),Lk=Bw(),Tk=Vx((e=>({id:"ordered_list",schema:()=>({content:"listItem+",group:"block",attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:e=>{if(!(e instanceof HTMLElement))throw new Error;return{order:e.hasAttribute("start")?Number(e.getAttribute("start")):1}}}],toDOM:t=>["ol",Object.assign(Object.assign({},1===t.attrs.order?{}:t.attrs.order),{class:e.getClassName(t.attrs,"ordered-list")}),0],parseMarkdown:{match:({type:e,ordered:t})=>"list"===e&&!!t,runner:(e,t,n)=>{e.openNode(n).next(t.children).closeNode()}},toMarkdown:{match:e=>"ordered_list"===e.type.name,runner:(e,t)=>{e.openNode("list",void 0,{ordered:!0,start:1}),e.next(t.content),e.closeNode()}}}),inputRules:e=>[Of(/^(\d+)\.\s$/,e,(e=>({order:Number(e[1])})),((e,t)=>t.childCount+t.attrs.order===Number(e[1])))],commands:e=>[Rw(Lk,(()=>wf(e)))],shortcuts:{[Hx.OrderedList]:Fx(Lk,"Mod-Shift-7")}}))),Nk=Bw(),Mk="paragraph",Ak=Vx(((e,t)=>{const n=(null==t?void 0:t.headless)?null:ix`
              font-size: 1rem;
              line-height: 1.5;
              letter-spacing: 0.5px;
          `;return{id:Mk,schema:()=>({content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:t=>["p",{class:e.getClassName(t.attrs,Mk,n)},0],parseMarkdown:{match:e=>"paragraph"===e.type,runner:(e,t,n)=>{e.openNode(n),t.children?e.next(t.children):e.addText(t.value),e.closeNode()}},toMarkdown:{match:e=>"paragraph"===e.type.name,runner:(e,t)=>{e.openNode("paragraph"),e.next(t.content),e.closeNode()}}}),commands:e=>[Rw(Nk,(()=>Cf(e)))],shortcuts:{[Hx.Text]:Fx(Nk,"Mod-Alt-0")}}})),Ik=Vx((()=>({id:"text",schema:()=>({group:"inline",parseMarkdown:{match:({type:e})=>"text"===e,runner:(e,t)=>{e.addText(t.value)}},toMarkdown:{match:e=>"text"===e.type.name,runner:(e,t)=>{e.addNode("text",void 0,t.text)}}})}))),Ok=[ck(),Ak(),hk(),nk(),lk(),rk(),Tk(),Ek(),pk(),mk(),_k(),Ik()];function Fk(e){if(null==e)return Rk;if("string"==typeof e)return function(e){return t;function t(t){return Boolean(t&&t.type===e)}}(e);if("object"==typeof e)return"length"in e?function(e){var t=[],n=-1;for(;++n<e.length;)t[n]=Fk(e[n]);return i;function i(){for(var e=-1;++e<t.length;)if(t[e].apply(this,arguments))return!0;return!1}}(e):function(e){return t;function t(t){var n;for(n in e)if(t[n]!==e[n])return!1;return!0}}(e);if("function"==typeof e)return e;throw new Error("Expected function, string, or object as test")}function Rk(){return!0}var Pk=zk,Bk=Fk,jk=function(e){return e};function zk(e,t,n,i){var r,o;"function"==typeof t&&"function"!=typeof n&&(i=n,n=t,t=null),o=Bk(t),r=i?-1:1,function e(s,a,l){var c,u="object"==typeof s&&null!==s?s:{};"string"==typeof u.type&&(c="string"==typeof u.tagName?u.tagName:"string"==typeof u.name?u.name:void 0,h.displayName="node ("+jk(u.type+(c?"<"+c+">":""))+")");return h;function h(){var c,u,h=l.concat(s),d=[];if((!t||o(s,a,l[l.length-1]||null))&&(d=function(e){if(null!==e&&"object"==typeof e&&"length"in e)return e;if("number"==typeof e)return[true,e];return[e]}(n(s,l)),false===d[0]))return d;if(s.children&&"skip"!==d[0])for(u=(i?s.children.length:-1)+r;u>-1&&u<s.children.length;){if(c=e(s.children[u],u,h)(),false===c[0])return c;u="number"==typeof c[1]?c[1]:u+r}return d}}(e,null,[])()}zk.CONTINUE=true,zk.SKIP="skip",zk.EXIT=false;var Vk=qk,Wk=Pk,Hk=Wk.CONTINUE,Uk=Wk.SKIP,$k=Wk.EXIT;function qk(e,t,n,i){"function"==typeof t&&"function"!=typeof n&&(i=n,n=t,t=null),Wk(e,t,(function(e,t){var i=t[t.length-1],r=i?i.children.indexOf(e):null;return n(e,r,i)}),i)}function Kk(e){if(null==e)return Yk;if("string"==typeof e)return function(e){return t;function t(t){return Boolean(t&&t.type===e)}}(e);if("object"==typeof e)return"length"in e?function(e){var t=[],n=-1;for(;++n<e.length;)t[n]=Kk(e[n]);return i;function i(){for(var e=-1;++e<t.length;)if(t[e].apply(this,arguments))return!0;return!1}}(e):function(e){return t;function t(t){var n;for(n in e)if(t[n]!==e[n])return!1;return!0}}(e);if("function"==typeof e)return e;throw new Error("Expected function, string, or object as test")}function Yk(){return!0}qk.CONTINUE=Hk,qk.SKIP=Uk,qk.EXIT=$k;var Gk=Jk,Xk=Kk,Zk=function(e){return e};function Jk(e,t,n,i){var r,o;"function"==typeof t&&"function"!=typeof n&&(i=n,n=t,t=null),o=Xk(t),r=i?-1:1,function e(s,a,l){var c,u="object"==typeof s&&null!==s?s:{};"string"==typeof u.type&&(c="string"==typeof u.tagName?u.tagName:"string"==typeof u.name?u.name:void 0,h.displayName="node ("+Zk(u.type+(c?"<"+c+">":""))+")");return h;function h(){var c,u,h=l.concat(s),d=[];if((!t||o(s,a,l[l.length-1]||null))&&(d=function(e){if(null!==e&&"object"==typeof e&&"length"in e)return e;if("number"==typeof e)return[true,e];return[e]}(n(s,l)),false===d[0]))return d;if(s.children&&"skip"!==d[0])for(u=(i?s.children.length:-1)+r;u>-1&&u<s.children.length;){if(c=e(s.children[u],u,h)(),false===c[0])return c;u="number"==typeof c[1]?c[1]:u+r}return d}}(e,null,[])()}Jk.CONTINUE=true,Jk.SKIP="skip",Jk.EXIT=false;var Qk=rS,eS=Gk,tS=eS.CONTINUE,nS=eS.SKIP,iS=eS.EXIT;function rS(e,t,n,i){"function"==typeof t&&"function"!=typeof n&&(i=n,n=t,t=null),eS(e,t,(function(e,t){var i=t[t.length-1],r=i?i.children.indexOf(e):null;return n(e,r,i)}),i)}rS.CONTINUE=tS,rS.SKIP=nS,rS.EXIT=iS;var oS=Qk,sS=function(e,t){return function(e){return t;function t(t){var n=t&&lS(t);return n&&aS.call(e,n)?e[n]:null}}(function(e){var t={};if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return oS(e,"definition",n),t;function n(e){var n=lS(e.identifier);aS.call(t,n)||(t[n]=e)}}(e))},aS={}.hasOwnProperty;function lS(e){return e.toUpperCase()}var cS=Vk,uS=sS,hS=function(){return function(e){var t=uS(e);function n(e,n,i){var r,o,s;return"definition"===e.type?(i.children.splice(n,1),[cS.SKIP,n]):"imageReference"!==e.type&&"linkReference"!==e.type||!(r=t(e.identifier))?void 0:(o={type:(s="imageReference"===e.type)?"image":"link",url:r.url,title:r.title},s?o.alt=e.alt:o.children=e.children,i.children[n]=o,[cS.SKIP,n])}cS(e,n)}};const dS=()=>function(e){var t;t=e=>(e=>"html"===e.type)(e)?[]:[e],function e(n,i,r){if((e=>!!e.children)(n)){const t=[];for(let i=0,r=n.children.length;i<r;i++){const r=e(n.children[i],i,n);if(r)for(let e=0,n=r.length;e<n;e++)t.push(r[e])}n.children=t}return t(n,i,r)}(e,0,null)[0]},fS=[Wx((()=>({remarkPlugins:()=>[hS,dS]})))()],pS=Ox.create([...Ok,...Qx]),gS=Ox.create([...fS,...pS]),mS={ToggleInlineCode:Ux,ToggleItalic:qx,ToggleLink:Yx,ToggleBold:Zx,ModifyLink:Gx,ModifyImage:vk,WrapInBlockquote:tk,WrapInBulletList:ik,WrapInOrderedList:Lk,TurnIntoCodeFence:ak,TurnIntoHeading:fk,TurnIntoText:Nk,InsertHardbreak:uk,InsertHr:gk,InsertImage:yk,SplitListItem:kk,SinkListItem:Sk,LiftListItem:Dk};var vS,yS;if("undefined"!=typeof WeakMap){var bS=new WeakMap;vS=function(e){return bS.get(e)},yS=function(e,t){return bS.set(e,t),t}}else{var _S=[],wS=0;vS=function(e){for(var t=0;t<_S.length;t+=2)if(_S[t]==e)return _S[t+1]},yS=function(e,t){return 10==wS&&(wS=0),_S[wS++]=e,_S[wS++]=t}}var CS=function(e,t,n,i){this.left=e,this.top=t,this.right=n,this.bottom=i},xS=function(e,t,n,i){this.width=e,this.height=t,this.map=n,this.problems=i};function kS(e){if(e.colwidth)return e.colwidth.slice();for(var t=[],n=0;n<e.colspan;n++)t.push(0);return t}function SS(e,t){var n=e.getAttribute("data-colwidth"),i=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map((function(e){return Number(e)})):null,r=Number(e.getAttribute("colspan")||1),o={colspan:r,rowspan:Number(e.getAttribute("rowspan")||1),colwidth:i&&i.length==r?i:null};for(var s in t){var a=t[s].getFromDOM,l=a&&a(e);null!=l&&(o[s]=l)}return o}function DS(e,t){var n={};for(var i in 1!=e.attrs.colspan&&(n.colspan=e.attrs.colspan),1!=e.attrs.rowspan&&(n.rowspan=e.attrs.rowspan),e.attrs.colwidth&&(n["data-colwidth"]=e.attrs.colwidth.join(",")),t){var r=t[i].setDOMAttr;r&&r(e.attrs[i],n)}return n}function ES(e){var t=e.cached.tableNodeTypes;if(!t)for(var n in t=e.cached.tableNodeTypes={},e.nodes){var i=e.nodes[n],r=i.spec.tableRole;r&&(t[r]=i)}return t}xS.prototype.findCell=function(e){for(var t=0;t<this.map.length;t++){var n=this.map[t];if(n==e){for(var i=t%this.width,r=t/this.width|0,o=i+1,s=r+1,a=1;o<this.width&&this.map[t+a]==n;a++)o++;for(var l=1;s<this.height&&this.map[t+this.width*l]==n;l++)s++;return new CS(i,r,o,s)}}throw new RangeError("No cell with offset "+e+" found")},xS.prototype.colCount=function(e){for(var t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError("No cell with offset "+e+" found")},xS.prototype.nextCell=function(e,t,n){var i=this.findCell(e),r=i.left,o=i.right,s=i.top,a=i.bottom;return"horiz"==t?(n<0?0==r:o==this.width)?null:this.map[s*this.width+(n<0?r-1:o)]:(n<0?0==s:a==this.height)?null:this.map[r+this.width*(n<0?s-1:a)]},xS.prototype.rectBetween=function(e,t){var n=this.findCell(e),i=n.left,r=n.right,o=n.top,s=n.bottom,a=this.findCell(t),l=a.left,c=a.right,u=a.top,h=a.bottom;return new CS(Math.min(i,l),Math.min(o,u),Math.max(r,c),Math.max(s,h))},xS.prototype.cellsInRect=function(e){for(var t=[],n={},i=e.top;i<e.bottom;i++)for(var r=e.left;r<e.right;r++){var o=i*this.width+r,s=this.map[o];n[s]||(n[s]=!0,r==e.left&&r&&this.map[o-1]==s||i==e.top&&i&&this.map[o-this.width]==s||t.push(s))}return t},xS.prototype.positionAt=function(e,t,n){for(var i=0,r=0;;i++){var o=r+n.child(i).nodeSize;if(i==e){for(var s=t+e*this.width,a=(e+1)*this.width;s<a&&this.map[s]<r;)s++;return s==a?o-1:this.map[s]}r=o}},xS.get=function(e){return vS(e)||yS(e,function(e){if("table"!=e.type.spec.tableRole)throw new RangeError("Not a table node: "+e.type.name);for(var t=function(e){for(var t=-1,n=!1,i=0;i<e.childCount;i++){var r=e.child(i),o=0;if(n)for(var s=0;s<i;s++)for(var a=e.child(s),l=0;l<a.childCount;l++){var c=a.child(l);s+c.attrs.rowspan>i&&(o+=c.attrs.colspan)}for(var u=0;u<r.childCount;u++){var h=r.child(u);o+=h.attrs.colspan,h.attrs.rowspan>1&&(n=!0)}-1==t?t=o:t!=o&&(t=Math.max(t,o))}return t}(e),n=e.childCount,i=[],r=0,o=null,s=[],a=0,l=t*n;a<l;a++)i[a]=0;for(var c=0,u=0;c<n;c++){var h=e.child(c);u++;for(var d=0;;d++){for(;r<i.length&&0!=i[r];)r++;if(d==h.childCount)break;for(var f=h.child(d),p=f.attrs,g=p.colspan,m=p.rowspan,v=p.colwidth,y=0;y<m;y++){if(y+c>=n){(o||(o=[])).push({type:"overlong_rowspan",pos:u,n:m-y});break}for(var b=r+y*t,_=0;_<g;_++){0==i[b+_]?i[b+_]=u:(o||(o=[])).push({type:"collision",row:c,pos:u,n:g-_});var w=v&&v[_];if(w){var C=(b+_)%t*2,x=s[C];null==x||x!=w&&1==s[C+1]?(s[C]=w,s[C+1]=1):x==w&&s[C+1]++}}}r+=g,u+=f.nodeSize}for(var k=(c+1)*t,S=0;r<k;)0==i[r++]&&S++;S&&(o||(o=[])).push({type:"missing",row:c,n:S}),u++}for(var D=new xS(t,n,i,o),E=!1,L=0;!E&&L<s.length;L+=2)null!=s[L]&&s[L+1]<n&&(E=!0);E&&function(e,t,n){e.problems||(e.problems=[]);for(var i=0,r={};i<e.map.length;i++){var o=e.map[i];if(!r[o]){r[o]=!0;for(var s=n.nodeAt(o),a=null,l=0;l<s.attrs.colspan;l++){var c=t[2*((i+l)%e.width)];null==c||s.attrs.colwidth&&s.attrs.colwidth[l]==c||((a||(a=kS(s.attrs)))[l]=c)}a&&e.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:a})}}}(D,s,e);return D}(e))};var LS=new ff("selectingCells");function TS(e){for(var t=e.depth-1;t>0;t--)if("row"==e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1));return null}function NS(e){for(var t=e.selection.$head,n=t.depth;n>0;n--)if("row"==t.node(n).type.spec.tableRole)return!0;return!1}function MS(e){var t=e.selection;return t.$anchorCell?t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell:t.node&&"cell"==t.node.type.spec.tableRole?t.$anchor:TS(t.$head)||function(e){for(var t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){var i=t.type.spec.tableRole;if("cell"==i||"header_cell"==i)return e.doc.resolve(n)}for(var r=e.nodeBefore,o=e.pos;r;r=r.lastChild,o--){var s=r.type.spec.tableRole;if("cell"==s||"header_cell"==s)return e.doc.resolve(o-r.nodeSize)}}(t.$head)}function AS(e){return"row"==e.parent.type.spec.tableRole&&e.nodeAfter}function IS(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function OS(e,t,n){var i=e.start(-1),r=xS.get(e.node(-1)).nextCell(e.pos-i,t,n);return null==r?null:e.node(0).resolve(i+r)}function FS(e,t,n){var i={};for(var r in e)i[r]=e[r];return i[t]=n,i}function RS(e,t,n){void 0===n&&(n=1);var i=FS(e,"colspan",e.colspan-n);return i.colwidth&&(i.colwidth=i.colwidth.slice(),i.colwidth.splice(t,n),i.colwidth.some((function(e){return e>0}))||(i.colwidth=null)),i}function PS(e,t,n){void 0===n&&(n=1);var i=FS(e,"colspan",e.colspan+n);if(i.colwidth){i.colwidth=i.colwidth.slice();for(var r=0;r<n;r++)i.colwidth.splice(t,0,0)}return i}var BS=function(e){function t(t,n){void 0===n&&(n=t);var i=t.node(-1),r=xS.get(i),o=t.start(-1),s=r.rectBetween(t.pos-o,n.pos-o),a=t.node(0),l=r.cellsInRect(s).filter((function(e){return e!=n.pos-o}));l.unshift(n.pos-o);var c=l.map((function(e){var t=i.nodeAt(e),n=e+o+1;return new $d(a.resolve(n),a.resolve(n+t.content.size))}));e.call(this,c[0].$from,c[0].$to,c),this.$anchorCell=t,this.$headCell=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(e,n){var i=e.resolve(n.map(this.$anchorCell.pos)),r=e.resolve(n.map(this.$headCell.pos));if(AS(i)&&AS(r)&&IS(i,r)){var o=this.$anchorCell.node(-1)!=i.node(-1);return o&&this.isRowSelection()?t.rowSelection(i,r):o&&this.isColSelection()?t.colSelection(i,r):new t(i,r)}return qd.between(i,r)},t.prototype.content=function(){for(var e=this.$anchorCell.node(-1),t=xS.get(e),n=this.$anchorCell.start(-1),i=t.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),r={},o=[],s=i.top;s<i.bottom;s++){for(var a=[],l=s*t.width+i.left,c=i.left;c<i.right;c++,l++){var u=t.map[l];if(!r[u]){r[u]=!0;var h=t.findCell(u),d=e.nodeAt(u),f=i.left-h.left,p=h.right-i.right;if(f>0||p>0){var g=d.attrs;f>0&&(g=RS(g,0,f)),p>0&&(g=RS(g,g.colspan-p,p)),d=h.left<i.left?d.type.createAndFill(g):d.type.create(g,d.content)}if(h.top<i.top||h.bottom>i.bottom){var m=FS(d.attrs,"rowspan",Math.min(h.bottom,i.bottom)-Math.max(h.top,i.top));d=h.top<i.top?d.type.createAndFill(m):d.type.create(m,d.content)}a.push(d)}}o.push(e.child(s).copy(Gu.from(a)))}var v=this.isColSelection()&&this.isRowSelection()?e:o;return new nh(Gu.from(v),1,1)},t.prototype.replace=function(t,n){void 0===n&&(n=nh.empty);for(var i=t.steps.length,r=this.ranges,o=0;o<r.length;o++){var s=r[o],a=s.$from,l=s.$to,c=t.mapping.slice(i);t.replace(c.map(a.pos),c.map(l.pos),o?nh.empty:n)}var u=e.findFrom(t.doc.resolve(t.mapping.slice(i).map(this.to)),-1);u&&t.setSelection(u)},t.prototype.replaceWith=function(e,t){this.replace(e,new nh(Gu.from(t),0,0))},t.prototype.forEachCell=function(e){for(var t=this.$anchorCell.node(-1),n=xS.get(t),i=this.$anchorCell.start(-1),r=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i)),o=0;o<r.length;o++)e(t.nodeAt(r[o]),i+r[o])},t.prototype.isColSelection=function(){var e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(Math.min(e,t)>0)return!1;var n=e+this.$anchorCell.nodeAfter.attrs.rowspan,i=t+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,i)==this.$headCell.node(-1).childCount},t.colSelection=function(e,n){void 0===n&&(n=e);var i=xS.get(e.node(-1)),r=e.start(-1),o=i.findCell(e.pos-r),s=i.findCell(n.pos-r),a=e.node(0);return o.top<=s.top?(o.top>0&&(e=a.resolve(r+i.map[o.left])),s.bottom<i.height&&(n=a.resolve(r+i.map[i.width*(i.height-1)+s.right-1]))):(s.top>0&&(n=a.resolve(r+i.map[s.left])),o.bottom<i.height&&(e=a.resolve(r+i.map[i.width*(i.height-1)+o.right-1]))),new t(e,n)},t.prototype.isRowSelection=function(){var e=xS.get(this.$anchorCell.node(-1)),t=this.$anchorCell.start(-1),n=e.colCount(this.$anchorCell.pos-t),i=e.colCount(this.$headCell.pos-t);if(Math.min(n,i)>0)return!1;var r=n+this.$anchorCell.nodeAfter.attrs.colspan,o=i+this.$headCell.nodeAfter.attrs.colspan;return Math.max(r,o)==e.width},t.prototype.eq=function(e){return e instanceof t&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos},t.rowSelection=function(e,n){void 0===n&&(n=e);var i=xS.get(e.node(-1)),r=e.start(-1),o=i.findCell(e.pos-r),s=i.findCell(n.pos-r),a=e.node(0);return o.left<=s.left?(o.left>0&&(e=a.resolve(r+i.map[o.top*i.width])),s.right<i.width&&(n=a.resolve(r+i.map[i.width*(s.top+1)-1]))):(s.left>0&&(n=a.resolve(r+i.map[s.top*i.width])),o.right<i.width&&(e=a.resolve(r+i.map[i.width*(o.top+1)-1]))),new t(e,n)},t.prototype.toJSON=function(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}},t.fromJSON=function(e,n){return new t(e.resolve(n.anchor),e.resolve(n.head))},t.create=function(e,n,i){return void 0===i&&(i=n),new t(e.resolve(n),e.resolve(i))},t.prototype.getBookmark=function(){return new jS(this.$anchorCell.pos,this.$headCell.pos)},t}(Hd);BS.prototype.visible=!1,Hd.jsonID("cell",BS);var jS=function(e,t){this.anchor=e,this.head=t};function zS(e){if(!(e.selection instanceof BS))return null;var t=[];return e.selection.forEachCell((function(e,n){t.push(Cm.node(n,n+e.nodeSize,{class:"selectedCell"}))})),Dm.create(e.doc,t)}function VS(e){if(!e.size)return null;for(var t=e.content,n=e.openStart,i=e.openEnd;1==t.childCount&&(n>0&&i>0||"table"==t.firstChild.type.spec.tableRole);)n--,i--,t=t.firstChild.content;var r=t.firstChild,o=r.type.spec.tableRole,s=r.type.schema,a=[];if("row"==o)for(var l=0;l<t.childCount;l++){var c=t.child(l).content,u=l?0:Math.max(0,n-1),h=l<t.childCount-1?0:Math.max(0,i-1);(u||h)&&(c=WS(ES(s).row,new nh(c,u,h)).content),a.push(c)}else{if("cell"!=o&&"header_cell"!=o)return null;a.push(n||i?WS(ES(s).row,new nh(t,n,i)).content:t)}return function(e,t){for(var n=[],i=0;i<t.length;i++)for(var r=t[i],o=r.childCount-1;o>=0;o--)for(var s=r.child(o).attrs,a=s.rowspan,l=s.colspan,c=i;c<i+a;c++)n[c]=(n[c]||0)+l;for(var u=0,h=0;h<n.length;h++)u=Math.max(u,n[h]);for(var d=0;d<n.length;d++)if(d>=t.length&&t.push(Gu.empty),n[d]<u){for(var f=ES(e).cell.createAndFill(),p=[],g=n[d];g<u;g++)p.push(f);t[d]=t[d].append(Gu.from(p))}return{height:t.length,width:u,rows:t}}(s,a)}function WS(e,t){var n=e.createAndFill();return new pd(n).replace(0,n.content.size,t).doc}function HS(e,t,n,i,r,o,s,a){if(0==s||s==t.height)return!1;for(var l=!1,c=r;c<o;c++){var u=s*t.width+c,h=t.map[u];if(t.map[u-t.width]==h){l=!0;var d=n.nodeAt(h),f=t.findCell(h),p=f.top,g=f.left;e.setNodeMarkup(e.mapping.slice(a).map(h+i),null,FS(d.attrs,"rowspan",s-p)),e.insert(e.mapping.slice(a).map(t.positionAt(s,g,n)),d.type.createAndFill(FS(d.attrs,"rowspan",p+d.attrs.rowspan-s))),c+=d.attrs.colspan-1}}return l}function US(e,t,n,i,r,o,s,a){if(0==s||s==t.width)return!1;for(var l=!1,c=r;c<o;c++){var u=c*t.width+s,h=t.map[u];if(t.map[u-1]==h){l=!0;var d=n.nodeAt(h),f=t.colCount(h),p=e.mapping.slice(a).map(h+i);e.setNodeMarkup(p,null,RS(d.attrs,s-f,d.attrs.colspan-(s-f))),e.insert(p+d.nodeSize,d.type.createAndFill(RS(d.attrs,0,s-f))),c+=d.attrs.rowspan-1}}return l}function $S(e,t,n,i,r){var o=n?e.doc.nodeAt(n-1):e.doc,s=xS.get(o),a=i.top,l=i.left,c=l+r.width,u=a+r.height,h=e.tr,d=0;function f(){o=n?h.doc.nodeAt(n-1):h.doc,s=xS.get(o),d=h.mapping.maps.length}(function(e,t,n,i,r,o,s){var a,l,c=ES(e.doc.type.schema);if(r>t.width)for(var u=0,h=0;u<t.height;u++){var d=n.child(u);h+=d.nodeSize;var f=[],p=void 0;p=null==d.lastChild||d.lastChild.type==c.cell?a||(a=c.cell.createAndFill()):l||(l=c.header_cell.createAndFill());for(var g=t.width;g<r;g++)f.push(p);e.insert(e.mapping.slice(s).map(h-1+i),f)}if(o>t.height){for(var m=[],v=0,y=(t.height-1)*t.width;v<Math.max(t.width,r);v++){var b=!(v>=t.width)&&n.nodeAt(t.map[y+v]).type==c.header_cell;m.push(b?l||(l=c.header_cell.createAndFill()):a||(a=c.cell.createAndFill()))}for(var _=c.row.create(null,Gu.from(m)),w=[],C=t.height;C<o;C++)w.push(_);e.insert(e.mapping.slice(s).map(i+n.nodeSize-2),w)}return!(!a&&!l)})(h,s,o,n,c,u,d)&&f(),HS(h,s,o,n,l,c,a,d)&&f(),HS(h,s,o,n,l,c,u,d)&&f(),US(h,s,o,n,a,u,l,d)&&f(),US(h,s,o,n,a,u,c,d)&&f();for(var p=a;p<u;p++){var g=s.positionAt(p,l,o),m=s.positionAt(p,c,o);h.replace(h.mapping.slice(d).map(g+n),h.mapping.slice(d).map(m+n),new nh(r.rows[p-a],0,0))}f(),h.setSelection(new BS(h.doc.resolve(n+s.positionAt(a,l,o)),h.doc.resolve(n+s.positionAt(u-1,c-1,o)))),t(h)}jS.prototype.map=function(e){return new jS(e.map(this.anchor),e.map(this.head))},jS.prototype.resolve=function(e){var t=e.resolve(this.anchor),n=e.resolve(this.head);return"row"==t.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&n.index()<n.parent.childCount&&IS(t,n)?new BS(t,n):Hd.near(n,1)};var qS=Xf({ArrowLeft:YS("horiz",-1),ArrowRight:YS("horiz",1),ArrowUp:YS("vert",-1),ArrowDown:YS("vert",1),"Shift-ArrowLeft":GS("horiz",-1),"Shift-ArrowRight":GS("horiz",1),"Shift-ArrowUp":GS("vert",-1),"Shift-ArrowDown":GS("vert",1),Backspace:XS,"Mod-Backspace":XS,Delete:XS,"Mod-Delete":XS});function KS(e,t,n){return!n.eq(e.selection)&&(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function YS(e,t){return function(n,i,r){var o=n.selection;if(o instanceof BS)return KS(n,i,Hd.near(o.$headCell,t));if("horiz"!=e&&!o.empty)return!1;var s=eD(r,e,t);if(null==s)return!1;if("horiz"==e)return KS(n,i,Hd.near(n.doc.resolve(o.head+t),t));var a,l=n.doc.resolve(s),c=OS(l,e,t);return a=c?Hd.near(c,1):t<0?Hd.near(n.doc.resolve(l.before(-1)),-1):Hd.near(n.doc.resolve(l.after(-1)),1),KS(n,i,a)}}function GS(e,t){return function(n,i,r){var o=n.selection;if(!(o instanceof BS)){var s=eD(r,e,t);if(null==s)return!1;o=new BS(n.doc.resolve(s))}var a=OS(o.$headCell,e,t);return!!a&&KS(n,i,new BS(o.$anchorCell,a))}}function XS(e,t){var n=e.selection;if(!(n instanceof BS))return!1;if(t){var i=e.tr,r=ES(e.schema).cell.createAndFill().content;n.forEachCell((function(e,t){e.content.eq(r)||i.replace(i.mapping.map(t+1),i.mapping.map(t+e.nodeSize-1),new nh(r,0,0))})),i.docChanged&&t(i)}return!0}function ZS(e,t){var n=TS(e.state.doc.resolve(t));return!!n&&(e.dispatch(e.state.tr.setSelection(new BS(n))),!0)}function JS(e,t,n){if(!NS(e.state))return!1;var i=VS(n),r=e.state.selection;if(r instanceof BS){i||(i={width:1,height:1,rows:[Gu.from(WS(ES(e.state.schema).cell,n))]});var o=r.$anchorCell.node(-1),s=r.$anchorCell.start(-1),a=xS.get(o).rectBetween(r.$anchorCell.pos-s,r.$headCell.pos-s);return i=function(e,t,n){var i=e.width,r=e.height,o=e.rows;if(i!=t){for(var s=[],a=[],l=0;l<o.length;l++){for(var c=o[l],u=[],h=s[l]||0,d=0;h<t;d++){var f=c.child(d%c.childCount);h+f.attrs.colspan>t&&(f=f.type.create(RS(f.attrs,f.attrs.colspan,h+f.attrs.colspan-t),f.content)),u.push(f),h+=f.attrs.colspan;for(var p=1;p<f.attrs.rowspan;p++)s[l+p]=(s[l+p]||0)+f.attrs.colspan}a.push(Gu.from(u))}o=a,i=t}if(r!=n){for(var g=[],m=0,v=0;m<n;m++,v++){for(var y=[],b=o[v%r],_=0;_<b.childCount;_++){var w=b.child(_);m+w.attrs.rowspan>n&&(w=w.type.create(FS(w.attrs,"rowspan",Math.max(1,n-w.attrs.rowspan)),w.content)),y.push(w)}g.push(Gu.from(y))}o=g,r=n}return{width:i,height:r,rows:o}}(i,a.right-a.left,a.bottom-a.top),$S(e.state,e.dispatch,s,a,i),!0}if(i){var l=MS(e.state),c=l.start(-1);return $S(e.state,e.dispatch,c,xS.get(l.node(-1)).findCell(l.pos-c),i),!0}return!1}function QS(e,t){if(!t.ctrlKey&&!t.metaKey){var n,i=tD(e,t.target);if(t.shiftKey&&e.state.selection instanceof BS)r(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&i&&null!=(n=TS(e.state.selection.$anchor))&&nD(e,t).pos!=n.pos)r(n,t),t.preventDefault();else if(!i)return;e.root.addEventListener("mouseup",o),e.root.addEventListener("dragstart",o),e.root.addEventListener("mousemove",s)}function r(t,n){var i=nD(e,n),r=null==LS.getState(e.state);if(!i||!IS(t,i)){if(!r)return;i=t}var o=new BS(t,i);if(r||!e.state.selection.eq(o)){var s=e.state.tr.setSelection(o);r&&s.setMeta(LS,t.pos),e.dispatch(s)}}function o(){e.root.removeEventListener("mouseup",o),e.root.removeEventListener("dragstart",o),e.root.removeEventListener("mousemove",s),null!=LS.getState(e.state)&&e.dispatch(e.state.tr.setMeta(LS,-1))}function s(n){var s,a=LS.getState(e.state);if(null!=a)s=e.state.doc.resolve(a);else if(tD(e,n.target)!=i&&!(s=nD(e,t)))return o();s&&r(s,n)}}function eD(e,t,n){if(!(e.state.selection instanceof qd))return null;for(var i=e.state.selection.$head,r=i.depth-1;r>=0;r--){var o=i.node(r);if((n<0?i.index(r):i.indexAfter(r))!=(n<0?0:o.childCount))return null;if("cell"==o.type.spec.tableRole||"header_cell"==o.type.spec.tableRole){var s=i.before(r),a="vert"==t?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(a)?s:null}}return null}function tD(e,t){for(;t&&t!=e.dom;t=t.parentNode)if("TD"==t.nodeName||"TH"==t.nodeName)return t}function nD(e,t){var n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?TS(e.state.doc.resolve(n.pos)):null}var iD=new ff("fix-tables");function rD(e,t,n,i){var r=e.childCount,o=t.childCount;e:for(var s=0,a=0;s<o;s++){for(var l=t.child(s),c=a,u=Math.min(r,s+3);c<u;c++)if(e.child(c)==l){a=c+1,n+=l.nodeSize;continue e}i(l,n),a<r&&e.child(a).sameMarkup(l)?rD(e.child(a),l,n+1,i):l.nodesBetween(0,l.content.size,i,n+1),n+=l.nodeSize}}function oD(e,t){var n,i=function(t,i){"table"==t.type.spec.tableRole&&(n=function(e,t,n,i){var r=xS.get(t);if(!r.problems)return i;i||(i=e.tr);for(var o,s,a=[],l=0;l<r.height;l++)a.push(0);for(var c=0;c<r.problems.length;c++){var u=r.problems[c];if("collision"==u.type){for(var h=t.nodeAt(u.pos),d=0;d<h.attrs.rowspan;d++)a[u.row+d]+=u.n;i.setNodeMarkup(i.mapping.map(n+1+u.pos),null,RS(h.attrs,h.attrs.colspan-u.n,u.n))}else if("missing"==u.type)a[u.row]+=u.n;else if("overlong_rowspan"==u.type){var f=t.nodeAt(u.pos);i.setNodeMarkup(i.mapping.map(n+1+u.pos),null,FS(f.attrs,"rowspan",f.attrs.rowspan-u.n))}else if("colwidth mismatch"==u.type){var p=t.nodeAt(u.pos);i.setNodeMarkup(i.mapping.map(n+1+u.pos),null,FS(p.attrs,"colwidth",u.colwidth))}}for(var g=0;g<a.length;g++)a[g]&&(null==o&&(o=g),s=g);for(var m=0,v=n+1;m<r.height;m++){var y=t.child(m),b=v+y.nodeSize,_=a[m];if(_>0){var w="cell";y.firstChild&&(w=y.firstChild.type.spec.tableRole);for(var C=[],x=0;x<_;x++)C.push(ES(e.schema)[w].createAndFill());var k=0!=m&&o!=m-1||s!=m?b-1:v+1;i.insert(i.mapping.map(k),C)}v=b}return i.setMeta(iD,{fixTables:!0})}(e,t,i,n))};return t?t.doc!=e.doc&&rD(t.doc,e.doc,0,i):e.doc.descendants(i),n}function sD(e){var t,n=e.selection,i=MS(e),r=i.node(-1),o=i.start(-1),s=xS.get(r);return(t=n instanceof BS?s.rectBetween(n.$anchorCell.pos-o,n.$headCell.pos-o):s.findCell(i.pos-o)).tableStart=o,t.map=s,t.table=r,t}function aD(e,t,n){var i=t.map,r=t.tableStart,o=t.table,s=n>0?-1:0;(function(e,t,n){for(var i=ES(t.type.schema).header_cell,r=0;r<e.height;r++)if(t.nodeAt(e.map[n+r*e.width]).type!=i)return!1;return!0})(i,o,n+s)&&(s=0==n||n==i.width?null:0);for(var a=0;a<i.height;a++){var l=a*i.width+n;if(n>0&&n<i.width&&i.map[l-1]==i.map[l]){var c=i.map[l],u=o.nodeAt(c);e.setNodeMarkup(e.mapping.map(r+c),null,PS(u.attrs,n-i.colCount(c))),a+=u.attrs.rowspan-1}else{var h=null==s?ES(o.type.schema).cell:o.nodeAt(i.map[l+s]).type,d=i.positionAt(a,n,o);e.insert(e.mapping.map(r+d),h.createAndFill())}}return e}function lD(e,t){if(!NS(e))return!1;if(t){var n=sD(e);t(aD(e.tr,n,n.left))}return!0}function cD(e,t){if(!NS(e))return!1;if(t){var n=sD(e);t(aD(e.tr,n,n.right))}return!0}function uD(e,t,n){for(var i=t.map,r=t.table,o=t.tableStart,s=e.mapping.maps.length,a=0;a<i.height;){var l=a*i.width+n,c=i.map[l],u=r.nodeAt(c);if(n>0&&i.map[l-1]==c||n<i.width-1&&i.map[l+1]==c)e.setNodeMarkup(e.mapping.slice(s).map(o+c),null,RS(u.attrs,n-i.colCount(c)));else{var h=e.mapping.slice(s).map(o+c);e.delete(h,h+u.nodeSize)}a+=u.attrs.rowspan}}function hD(e,t){if(!NS(e))return!1;if(t){var n=sD(e),i=e.tr;if(0==n.left&&n.right==n.map.width)return!1;for(var r=n.right-1;uD(i,n,r),r!=n.left;r--)n.table=n.tableStart?i.doc.nodeAt(n.tableStart-1):i.doc,n.map=xS.get(n.table);t(i)}return!0}function dD(e,t,n){for(var i=t.map,r=t.table,o=t.tableStart,s=0,a=0;a<n;a++)s+=r.child(a).nodeSize;var l=s+r.child(n).nodeSize,c=e.mapping.maps.length;e.delete(s+o,l+o);for(var u=0,h=n*i.width;u<i.width;u++,h++){var d=i.map[h];if(n>0&&d==i.map[h-i.width]){var f=r.nodeAt(d).attrs;e.setNodeMarkup(e.mapping.slice(c).map(d+o),null,FS(f,"rowspan",f.rowspan-1)),u+=f.colspan-1}else if(n<i.width&&d==i.map[h+i.width]){var p=r.nodeAt(d),g=p.type.create(FS(p.attrs,"rowspan",p.attrs.rowspan-1),p.content),m=i.positionAt(n+1,u,r);e.insert(e.mapping.slice(c).map(o+m),g),u+=p.attrs.colspan-1}}}function fD(e,t){if(!NS(e))return!1;if(t){var n=sD(e),i=e.tr;if(0==n.top&&n.bottom==n.map.height)return!1;for(var r=n.bottom-1;dD(i,n,r),r!=n.top;r--)n.table=n.tableStart?i.doc.nodeAt(n.tableStart-1):i.doc,n.map=xS.get(n.table);t(i)}return!0}function pD(e,t){return function(n,i){if(!NS(n))return!1;var r=MS(n);if(r.nodeAfter.attrs[e]===t)return!1;if(i){var o=n.tr;n.selection instanceof BS?n.selection.forEachCell((function(n,i){n.attrs[e]!==t&&o.setNodeMarkup(i,null,FS(n.attrs,e,t))})):o.setNodeMarkup(r.pos,null,FS(r.nodeAfter.attrs,e,t)),i(o)}return!0}}function gD(e,t,n){for(var i=t.map.cellsInRect({left:0,top:0,right:"row"==e?t.map.width:1,bottom:"column"==e?t.map.height:1}),r=0;r<i.length;r++){var o=t.table.nodeAt(i[r]);if(o&&o.type!==n.header_cell)return!1}return!0}function mD(e,t){return(t=t||{useDeprecatedLogic:!1}).useDeprecatedLogic?function(e){return function(t,n){if(!NS(t))return!1;if(n){for(var i=ES(t.schema),r=sD(t),o=t.tr,s=r.map.cellsInRect("column"==e?new CS(r.left,0,r.right,r.map.height):"row"==e?new CS(0,r.top,r.map.width,r.bottom):r),a=s.map((function(e){return r.table.nodeAt(e)})),l=0;l<s.length;l++)a[l].type==i.header_cell&&o.setNodeMarkup(r.tableStart+s[l],i.cell,a[l].attrs);if(0==o.steps.length)for(var c=0;c<s.length;c++)o.setNodeMarkup(r.tableStart+s[c],i.header_cell,a[c].attrs);n(o)}return!0}}(e):function(t,n){if(!NS(t))return!1;if(n){var i=ES(t.schema),r=sD(t),o=t.tr,s=gD("row",r,i),a=gD("column",r,i),l=("column"===e?s:"row"===e&&a)?1:0,c="column"==e?new CS(0,l,1,r.map.height):"row"==e?new CS(l,0,r.map.width,1):r,u="column"==e?a?i.cell:i.header_cell:"row"==e?s?i.cell:i.header_cell:i.cell;r.map.cellsInRect(c).forEach((function(e){var t=e+r.tableStart,n=o.doc.nodeAt(t);n&&o.setNodeMarkup(t,u,n.attrs)})),n(o)}return!0}}function vD(e){return function(t,n){if(!NS(t))return!1;var i=function(e,t){if(t<0){var n=e.nodeBefore;if(n)return e.pos-n.nodeSize;for(var i=e.index(-1)-1,r=e.before();i>=0;i--){var o=e.node(-1).child(i);if(o.childCount)return r-1-o.lastChild.nodeSize;r-=o.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;for(var s=e.node(-1),a=e.indexAfter(-1),l=e.after();a<s.childCount;a++){var c=s.child(a);if(c.childCount)return l+1;l+=c.nodeSize}}}(MS(t),e);if(null!=i){if(n){var r=t.doc.resolve(i);n(t.tr.setSelection(qd.between(r,(o=r,o.node(0).resolve(o.pos+o.nodeAfter.nodeSize)))).scrollIntoView())}var o;return!0}}}function yD(e,t){for(var n=e.selection.$anchor,i=n.depth;i>0;i--){if("table"==n.node(i).type.spec.tableRole)return t&&t(e.tr.delete(n.before(i),n.after(i)).scrollIntoView()),!0}return!1}mD("row",{useDeprecatedLogic:!0}),mD("column",{useDeprecatedLogic:!0}),mD("cell",{useDeprecatedLogic:!0});var bD=function(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),_D(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))};function _D(e,t,n,i,r,o){for(var s=0,a=!0,l=t.firstChild,c=e.firstChild,u=0,h=0;u<c.childCount;u++)for(var d=c.child(u).attrs,f=d.colspan,p=d.colwidth,g=0;g<f;g++,h++){var m=r==h?o:p&&p[g],v=m?m+"px":"";s+=m||i,m||(a=!1),l?(l.style.width!=v&&(l.style.width=v),l=l.nextSibling):t.appendChild(document.createElement("col")).style.width=v}for(;l;){var y=l.nextSibling;l.parentNode.removeChild(l),l=y}a?(n.style.width=s+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=s+"px")}bD.prototype.update=function(e){return e.type==this.node.type&&(this.node=e,_D(e,this.colgroup,this.table,this.cellMinWidth),!0)},bD.prototype.ignoreMutation=function(e){return"attributes"==e.type&&(e.target==this.table||this.colgroup.contains(e.target))};var wD=new ff("tableColumnResizing");function CD(e){void 0===e&&(e={});var t=e.handleWidth;void 0===t&&(t=5);var n=e.cellMinWidth;void 0===n&&(n=25);var i=e.View;void 0===i&&(i=bD);var r=e.lastColumnResizable;void 0===r&&(r=!0);var o=new uf({key:wD,state:{init:function(e,t){return this.spec.props.nodeViews[ES(t.schema).table.name]=function(e,t){return new i(e,n,t)},new xD(-1,!1)},apply:function(e,t){return t.apply(e)}},props:{attributes:function(e){return wD.getState(e).activeHandle>-1?{class:"resize-cursor"}:null},handleDOMEvents:{mousemove:function(e,n){!function(e,t,n,i,r){var o=wD.getState(e.state);if(!o.dragging){var s=function(e){for(;e&&"TD"!=e.nodeName&&"TH"!=e.nodeName;)e=e.classList.contains("ProseMirror")?null:e.parentNode;return e}(t.target),a=-1;if(s){var l=s.getBoundingClientRect(),c=l.left,u=l.right;t.clientX-c<=n?a=kD(e,t,"left"):u-t.clientX<=n&&(a=kD(e,t,"right"))}if(a!=o.activeHandle){if(!r&&-1!==a){var h=e.state.doc.resolve(a),d=h.node(-1),f=xS.get(d),p=h.start(-1);if(f.colCount(h.pos-p)+h.nodeAfter.attrs.colspan-1==f.width-1)return}DD(e,a)}}}(e,n,t,0,r)},mouseleave:function(e){!function(e){var t=wD.getState(e.state);t.activeHandle>-1&&!t.dragging&&DD(e,-1)}(e)},mousedown:function(e,t){!function(e,t,n){var i=wD.getState(e.state);if(-1==i.activeHandle||i.dragging)return!1;var r=e.state.doc.nodeAt(i.activeHandle),o=function(e,t,n){var i=n.colspan,r=n.colwidth,o=r&&r[r.length-1];if(o)return o;var s=e.domAtPos(t),a=s.node.childNodes[s.offset].offsetWidth,l=i;if(r)for(var c=0;c<i;c++)r[c]&&(a-=r[c],l--);return a/l}(e,i.activeHandle,r.attrs);function s(t){window.removeEventListener("mouseup",s),window.removeEventListener("mousemove",a);var i=wD.getState(e.state);i.dragging&&(!function(e,t,n){for(var i=e.state.doc.resolve(t),r=i.node(-1),o=xS.get(r),s=i.start(-1),a=o.colCount(i.pos-s)+i.nodeAfter.attrs.colspan-1,l=e.state.tr,c=0;c<o.height;c++){var u=c*o.width+a;if(!c||o.map[u]!=o.map[u-o.width]){var h=o.map[u],d=r.nodeAt(h).attrs,f=1==d.colspan?0:a-o.colCount(h);if(!d.colwidth||d.colwidth[f]!=n){var p=d.colwidth?d.colwidth.slice():ED(d.colspan);p[f]=n,l.setNodeMarkup(s+h,null,FS(d,"colwidth",p))}}}l.docChanged&&e.dispatch(l)}(e,i.activeHandle,SD(i.dragging,t,n)),e.dispatch(e.state.tr.setMeta(wD,{setDragging:null})))}function a(t){if(!t.which)return s(t);var i=wD.getState(e.state),r=SD(i.dragging,t,n);!function(e,t,n,i){var r=e.state.doc.resolve(t),o=r.node(-1),s=r.start(-1),a=xS.get(o).colCount(r.pos-s)+r.nodeAfter.attrs.colspan-1,l=e.domAtPos(r.start(-1)).node;for(;"TABLE"!=l.nodeName;)l=l.parentNode;_D(o,l.firstChild,l,i,a,n)}(e,i.activeHandle,r,n)}e.dispatch(e.state.tr.setMeta(wD,{setDragging:{startX:t.clientX,startWidth:o}})),window.addEventListener("mouseup",s),window.addEventListener("mousemove",a),t.preventDefault()}(e,t,n)}},decorations:function(e){var t=wD.getState(e);if(t.activeHandle>-1)return function(e,t){for(var n=[],i=e.doc.resolve(t),r=i.node(-1),o=xS.get(r),s=i.start(-1),a=o.colCount(i.pos-s)+i.nodeAfter.attrs.colspan,l=0;l<o.height;l++){var c=a+l*o.width-1;if(!(a!=o.width&&o.map[c]==o.map[c+1]||0!=l&&o.map[c-1]==o.map[c-1-o.width])){var u=o.map[c],h=s+u+r.nodeAt(u).nodeSize-1,d=document.createElement("div");d.className="column-resize-handle",n.push(Cm.widget(h,d))}}return Dm.create(e.doc,n)}(e,t.activeHandle)},nodeViews:{}}});return o}var xD=function(e,t){this.activeHandle=e,this.dragging=t};function kD(e,t,n){var i=e.posAtCoords({left:t.clientX,top:t.clientY});if(!i)return-1;var r=i.pos,o=TS(e.state.doc.resolve(r));if(!o)return-1;if("right"==n)return o.pos;var s=xS.get(o.node(-1)),a=o.start(-1),l=s.map.indexOf(o.pos-a);return l%s.width==0?-1:a+s.map[l-1]}function SD(e,t,n){var i=t.clientX-e.startX;return Math.max(n,e.startWidth+i)}function DD(e,t){e.dispatch(e.state.tr.setMeta(wD,{setHandle:t}))}function ED(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}function LD(e){void 0===e&&(e={});var t=e.allowTableNodeSelection;return void 0===t&&(t=!1),new uf({key:LS,state:{init:function(){return null},apply:function(e,t){var n=e.getMeta(LS);if(null!=n)return-1==n?null:n;if(null==t||!e.docChanged)return t;var i=e.mapping.mapResult(t),r=i.deleted,o=i.pos;return r?null:o}},props:{decorations:zS,handleDOMEvents:{mousedown:QS},createSelectionBetween:function(e){if(null!=LS.getState(e.state))return e.state.selection},handleTripleClick:ZS,handleKeyDown:qS,handlePaste:JS},appendTransaction:function(e,n,i){return function(e,t,n){var i,r,o=(t||e).selection,s=(t||e).doc;if(o instanceof Yd&&(r=o.node.type.spec.tableRole)){if("cell"==r||"header_cell"==r)i=BS.create(s,o.from);else if("row"==r){var a=s.resolve(o.from+1);i=BS.rowSelection(a,a)}else if(!n){var l=xS.get(o.node),c=o.from+1,u=c+l.map[l.width*l.height-1];i=BS.create(s,c+1,u)}}else o instanceof qd&&function(e){var t=e.$from,n=e.$to;if(t.pos==n.pos||t.pos<t.pos-6)return!1;for(var i=t.pos,r=n.pos,o=t.depth;o>=0&&!(t.after(o+1)<t.end(o));o--,i++);for(var s=n.depth;s>=0&&!(n.before(s+1)>n.start(s));s--,r--);return i==r&&/row|table/.test(t.node(o).type.spec.tableRole)}(o)?i=qd.create(s,o.from):o instanceof qd&&function(e){for(var t,n,i=e.$from,r=e.$to,o=i.depth;o>0;o--){var s=i.node(o);if("cell"===s.type.spec.tableRole||"header_cell"===s.type.spec.tableRole){t=s;break}}for(var a=r.depth;a>0;a--){var l=r.node(a);if("cell"===l.type.spec.tableRole||"header_cell"===l.type.spec.tableRole){n=l;break}}return t!==n&&0===r.parentOffset}(o)&&(i=qd.create(s,o.$from.start(),o.$from.end()));return i&&(t||(t=e.tr)).setSelection(i),t}(i,oD(i,n),t)}})}xD.prototype.apply=function(e){var t=this,n=e.getMeta(wD);if(n&&null!=n.setHandle)return new xD(n.setHandle,null);if(n&&void 0!==n.setDragging)return new xD(t.activeHandle,n.setDragging);if(t.activeHandle>-1&&e.docChanged){var i=e.mapping.map(t.activeHandle,-1);AS(e.doc.resolve(i))||(i=null),t=new xD(i,t.dragging)}return t};const TD={tokenize:function(e,t,n){return function(t){return e.consume(t),i};function i(t){return 87===t||119===t?(e.consume(t),r):n(t)}function r(t){return 87===t||119===t?(e.consume(t),o):n(t)}function o(t){return 46===t?(e.consume(t),s):n(t)}function s(e){return null===e||Jv(e)?n(e):t(e)}},partial:!0},ND={tokenize:function(e,t,n){let i,r;return o;function o(t){return 38===t?e.check(ID,a,s)(t):46===t||95===t?e.check(AD,a,s)(t):null===t||Xv(t)||ey(t)||45!==t&&ty(t)?a(t):(e.consume(t),o)}function s(t){return 46===t?(r=i,i=void 0,e.consume(t),o):(95===t&&(i=!0),e.consume(t),o)}function a(e){return r||i?n(e):t(e)}},partial:!0},MD={tokenize:function(e,t){let n=0;return i;function i(s){return 38===s?e.check(ID,t,r)(s):(40===s&&n++,41===s?e.check(AD,o,r)(s):VD(s)?t(s):zD(s)?e.check(AD,t,r)(s):(e.consume(s),i))}function r(t){return e.consume(t),i}function o(e){return n--,n<0?t(e):r(e)}},partial:!0},AD={tokenize:function(e,t,n){return function(t){return e.consume(t),i};function i(r){return zD(r)?(e.consume(r),i):VD(r)?t(r):n(r)}},partial:!0},ID={tokenize:function(e,t,n){return function(t){return e.consume(t),i};function i(t){return Uv(t)?(e.consume(t),i):59===t?(e.consume(t),r):n(t)}function r(e){return VD(e)?t(e):n(e)}},partial:!0},OD={tokenize:function(e,t,n){const i=this;return function(t){if(87!==t&&119!==t||!HD(i.previous)||qD(i.events))return n(t);return e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(TD,e.attempt(ND,e.attempt(MD,r),n),n)(t)};function r(n){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(n)}},previous:HD},FD={tokenize:function(e,t,n){const i=this;return function(t){if(72!==t&&104!==t||!UD(i.previous)||qD(i.events))return n(t);return e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),e.consume(t),r};function r(t){return 84===t||116===t?(e.consume(t),o):n(t)}function o(t){return 84===t||116===t?(e.consume(t),s):n(t)}function s(t){return 80===t||112===t?(e.consume(t),a):n(t)}function a(t){return 83===t||115===t?(e.consume(t),l):l(t)}function l(t){return 58===t?(e.consume(t),c):n(t)}function c(t){return 47===t?(e.consume(t),u):n(t)}function u(t){return 47===t?(e.consume(t),h):n(t)}function h(t){return null===t||Xv(t)||ey(t)||ty(t)?n(t):e.attempt(ND,e.attempt(MD,d),n)(t)}function d(n){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(n)}},previous:UD},RD={tokenize:function(e,t,n){const i=this;let r,o;return function(t){if(!WD(t)||!$D(i.previous)||qD(i.events))return n(t);return e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(t)};function s(t){return WD(t)?(e.consume(t),s):64===t?(e.consume(t),a):n(t)}function a(t){return 46===t?e.check(AD,h,l)(t):45===t||95===t?e.check(AD,n,c)(t):Kv(t)?(!o&&$v(t)&&(o=!0),e.consume(t),a):h(t)}function l(t){return e.consume(t),r=!0,o=void 0,a}function c(t){return e.consume(t),u}function u(t){return 46===t?e.check(AD,n,l)(t):a(t)}function h(i){return r&&!o?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(i)):n(i)}},previous:$D},PD={},BD={text:PD};let jD=48;for(;jD<123;)PD[jD]=RD,jD++,58===jD?jD=65:91===jD&&(jD=97);function zD(e){return 33===e||34===e||39===e||41===e||42===e||44===e||46===e||58===e||59===e||60===e||63===e||95===e||126===e}function VD(e){return null===e||60===e||Zv(e)}function WD(e){return 43===e||45===e||46===e||95===e||Kv(e)}function HD(e){return null===e||40===e||42===e||95===e||126===e||Zv(e)}function UD(e){return null===e||!Uv(e)}function $D(e){return 47!==e&&UD(e)}function qD(e){let t=e.length,n=!1;for(;t--;){const i=e[t][1];if(("labelLink"===i.type||"labelImage"===i.type)&&!i._balanced){n=!0;break}if(i._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}PD[43]=RD,PD[45]=RD,PD[46]=RD,PD[95]=RD,PD[72]=[RD,FD],PD[104]=[RD,FD],PD[87]=[RD,OD],PD[119]=[RD,OD];const KD={tokenize:function(e,t,n){const i=this;return iy(e,(function(e){const r=i.events[i.events.length-1];return r&&"gfmFootnoteDefinitionIndent"===r[1].type&&4===r[2].sliceSerialize(r[1],!0).length?t(e):n(e)}),"gfmFootnoteDefinitionIndent",5)},partial:!0};function YD(e,t,n){const i=this;let r=i.events.length;const o=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let s;for(;r--;){const e=i.events[r][1];if("labelImage"===e.type){s=e;break}if("gfmFootnoteCall"===e.type||"labelLink"===e.type||"label"===e.type||"image"===e.type||"link"===e.type)break}return function(r){if(!s||!s._balanced)return n(r);const a=Ny(i.sliceSerialize({start:s.end,end:i.now()}));if(94!==a.charCodeAt(0)||!o.includes(a.slice(1)))return n(r);return e.enter("gfmFootnoteCallLabelMarker"),e.consume(r),e.exit("gfmFootnoteCallLabelMarker"),t(r)}}function GD(e,t){let n=e.length;for(;n--;)if("labelImage"===e[n][1].type&&"enter"===e[n][0]){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},r={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};r.end.column++,r.end.offset++,r.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},r.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},a=[e[n+1],e[n+2],["enter",i,t],e[n+3],e[n+4],["enter",r,t],["exit",r,t],["enter",o,t],["enter",s,t],["exit",s,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",i,t]];return e.splice(n,e.length-n+1,...a),e}function XD(e,t,n){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let o,s=0;return function(t){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(t),e.exit("gfmFootnoteCallLabelMarker"),a};function a(t){return 94!==t?n(t):(e.enter("gfmFootnoteCallMarker"),e.consume(t),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",l)}function l(a){let u;return null===a||91===a||s++>999?n(a):93===a?o?(e.exit("chunkString"),u=e.exit("gfmFootnoteCallString"),r.includes(Ny(i.sliceSerialize(u)))?function(n){return e.enter("gfmFootnoteCallLabelMarker"),e.consume(n),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t}(a):n(a)):n(a):(e.consume(a),Zv(a)||(o=!0),92===a?c:l)}function c(t){return 91===t||92===t||93===t?(e.consume(t),s++,l):l(t)}}function ZD(e,t,n){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let o,s,a=0;return function(t){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),l};function l(t){return 94===t?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),c):n(t)}function c(t){let r;return null===t||91===t||a>999?n(t):93===t?s?(r=e.exit("gfmFootnoteDefinitionLabelString"),o=Ny(i.sliceSerialize(r)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),d):n(t):Jv(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),a++,c):(e.enter("chunkString").contentType="string",u(t))}function u(t){return null===t||Jv(t)||91===t||93===t||a>999?(e.exit("chunkString"),c(t)):(Zv(t)||(s=!0),a++,e.consume(t),92===t?h:u)}function h(t){return 91===t||92===t||93===t?(e.consume(t),a++,u):u(t)}function d(t){return 58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),iy(e,f,"gfmFootnoteDefinitionWhitespace")):n(t)}function f(e){return r.includes(o)||r.push(o),t(e)}}function JD(e,t,n){return e.check(dy,t,e.attempt(KD,t,n))}function QD(e){e.exit("gfmFootnoteDefinition")}function eE(e={}){let t=e.singleTilde;const n={tokenize:function(e,n,i){const r=this.previous,o=this.events;let s=0;return function(t){if(126===r&&"characterEscape"!==o[o.length-1][1].type)return i(t);return e.enter("strikethroughSequenceTemporary"),a(t)};function a(o){const l=ay(r);if(126===o)return s>1?i(o):(e.consume(o),s++,a);if(s<2&&!t)return i(o);const c=e.exit("strikethroughSequenceTemporary"),u=ay(o);return c._open=!u||2===u&&Boolean(l),c._close=!l||2===l&&Boolean(u),n(o)}},resolveAll:function(e,t){let n=-1;for(;++n<e.length;)if("enter"===e[n][0]&&"strikethroughSequenceTemporary"===e[n][1].type&&e[n][1]._close){let i=n;for(;i--;)if("exit"===e[i][0]&&"strikethroughSequenceTemporary"===e[i][1].type&&e[i][1]._open&&e[n][1].end.offset-e[n][1].start.offset==e[i][1].end.offset-e[i][1].start.offset){e[n][1].type="strikethroughSequence",e[i][1].type="strikethroughSequence";const r={type:"strikethrough",start:Object.assign({},e[i][1].start),end:Object.assign({},e[n][1].end)},o={type:"strikethroughText",start:Object.assign({},e[i][1].end),end:Object.assign({},e[n][1].start)},s=[["enter",r,t],["enter",e[i][1],t],["exit",e[i][1],t],["enter",o,t]];Bv(s,s.length,0,ly(t.parser.constructs.insideSpan.null,e.slice(i+1,n),t)),Bv(s,s.length,0,[["exit",o,t],["enter",e[n][1],t],["exit",e[n][1],t],["exit",r,t]]),Bv(e,i-1,n-i+3,s),n=i+s.length-2;break}}n=-1;for(;++n<e.length;)"strikethroughSequenceTemporary"===e[n][1].type&&(e[n][1].type="data");return e}};return null==t&&(t=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}}}const tE={flow:{null:{tokenize:function(e,t,n){const i=this,r=[];let o,s,a=0;return function(t){if(e.enter("table")._align=r,e.enter("tableHead"),e.enter("tableRow"),124===t)return l(t);return a++,e.enter("temporaryTableCellContent"),h(t)};function l(t){return e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),o=!0,c}function c(t){return null===t||Jv(t)?function(t){if(null===t)return n(t);return e.exit("tableRow"),e.exit("tableHead"),e.attempt({tokenize:N,partial:!0},f,n)(t)}(t):Qv(t)?(e.enter("whitespace"),e.consume(t),u):(o&&(o=void 0,a++),124===t?l(t):(e.enter("temporaryTableCellContent"),h(t)))}function u(t){return Qv(t)?(e.consume(t),u):(e.exit("whitespace"),c(t))}function h(t){return null===t||124===t||Zv(t)?(e.exit("temporaryTableCellContent"),c(t)):(e.consume(t),92===t?d:h)}function d(t){return 92===t||124===t?(e.consume(t),h):h(t)}function f(t){return e.check(nE,n,iy(e,p,"linePrefix",4))(t)}function p(t){return null===t||Zv(t)?n(t):(e.enter("tableDelimiterRow"),g(t))}function g(t){return null===t||Jv(t)?_(t):Qv(t)?(e.enter("whitespace"),e.consume(t),m):45===t?(e.enter("tableDelimiterFiller"),e.consume(t),s=!0,r.push(null),v):58===t?(e.enter("tableDelimiterAlignment"),e.consume(t),e.exit("tableDelimiterAlignment"),r.push("left"),y):124===t?(e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),g):n(t)}function m(t){return Qv(t)?(e.consume(t),m):(e.exit("whitespace"),g(t))}function v(t){return 45===t?(e.consume(t),v):(e.exit("tableDelimiterFiller"),58===t?(e.enter("tableDelimiterAlignment"),e.consume(t),e.exit("tableDelimiterAlignment"),r[r.length-1]="left"===r[r.length-1]?"center":"right",b):g(t))}function y(t){return 45===t?(e.enter("tableDelimiterFiller"),e.consume(t),s=!0,v):n(t)}function b(t){return null===t||Jv(t)?_(t):Qv(t)?(e.enter("whitespace"),e.consume(t),m):124===t?(e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),g):n(t)}function _(t){return e.exit("tableDelimiterRow"),s&&a===r.length?null===t?w(t):e.check(iE,w,e.attempt({tokenize:N,partial:!0},iy(e,C,"linePrefix",4),w))(t):n(t)}function w(n){return e.exit("table"),t(n)}function C(t){return e.enter("tableBody"),x(t)}function x(t){return e.enter("tableRow"),124===t?k(t):(e.enter("temporaryTableCellContent"),E(t))}function k(t){return e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),S}function S(t){return null===t||Jv(t)?function(t){if(e.exit("tableRow"),null===t)return T(t);return e.check(iE,T,e.attempt({tokenize:N,partial:!0},iy(e,x,"linePrefix",4),T))(t)}(t):Qv(t)?(e.enter("whitespace"),e.consume(t),D):124===t?k(t):(e.enter("temporaryTableCellContent"),E(t))}function D(t){return Qv(t)?(e.consume(t),D):(e.exit("whitespace"),S(t))}function E(t){return null===t||124===t||Zv(t)?(e.exit("temporaryTableCellContent"),S(t)):(e.consume(t),92===t?L:E)}function L(t){return 92===t||124===t?(e.consume(t),E):E(t)}function T(t){return e.exit("tableBody"),w(t)}function N(e,t,n){return function(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),r};function r(e){return i.parser.lazy[i.now().line]?n(e):t(e)}}},resolve:function(e,t){let n,i,r,o,s,a,l,c=-1;for(;++c<e.length;){const u=e[c][1];if(r&&("temporaryTableCellContent"===u.type&&(o=o||c,s=c),("tableCellDivider"===u.type||"tableRow"===u.type)&&s)){const n={type:"tableContent",start:e[o][1].start,end:e[s][1].end},i={type:"chunkText",start:n.start,end:n.end,contentType:"text"};e.splice(o,s-o+1,["enter",n,t],["enter",i,t],["exit",i,t],["exit",n,t]),c-=s-o-3,o=void 0,s=void 0}if("exit"===e[c][0]&&void 0!==a&&a+(l?0:1)<c&&("tableCellDivider"===u.type||"tableRow"===u.type&&(a+3<c||"whitespace"!==e[a][1].type))){const r={type:i?"tableDelimiter":n?"tableHeader":"tableData",start:e[a][1].start,end:e[c][1].end};e.splice(c+("tableCellDivider"===u.type?1:0),0,["exit",r,t]),e.splice(a,0,["enter",r,t]),c+=2,a=c+1,l=!0}"tableRow"===u.type&&(r="enter"===e[c][0],r&&(a=c+1,l=!1)),"tableDelimiterRow"===u.type&&(i="enter"===e[c][0],i&&(a=c+1,l=!1)),"tableHead"===u.type&&(n="enter"===e[c][0])}return e}}}},nE={tokenize:function(e,t,n){return function(t){if(45!==t)return n(t);return e.enter("setextUnderline"),i(t)};function i(t){return 45===t?(e.consume(t),i):r(t)}function r(i){return null===i||Jv(i)?t(i):Qv(i)?(e.consume(i),r):n(i)}},partial:!0},iE={tokenize:function(e,t,n){let i=0;return function(t){return e.enter("check"),e.consume(t),r};function r(o){return-1===o||32===o?(e.consume(o),i++,4===i?t:r):null===o||Zv(o)?t(o):n(o)}},partial:!0};const rE={text:{91:{tokenize:function(e,t,n){const i=this;return function(t){if(null!==i.previous||!i._gfmTasklistFirstContentOfListItem)return n(t);return e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),r};function r(t){return Qv(t)?(e.enter("taskListCheckValueUnchecked"),e.consume(t),e.exit("taskListCheckValueUnchecked"),o):88===t||120===t?(e.enter("taskListCheckValueChecked"),e.consume(t),e.exit("taskListCheckValueChecked"),o):n(t)}function o(i){return 93===i?(e.enter("taskListCheckMarker"),e.consume(i),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),e.check({tokenize:oE},t,n)):n(i)}}}}};function oE(e,t,n){const i=this;return iy(e,(function(e){const r=i.events[i.events.length-1];return r&&"whitespace"===r[1].type&&null!==e&&!Zv(e)?t(e):n(e)}),"whitespace")}function sE(e,t){const n=String(e);if("string"!=typeof t)throw new TypeError("Expected character");let i=0,r=n.indexOf(t);for(;-1!==r;)i++,r=n.indexOf(t,r+t.length);return i}const aE=function(e,t,n,i){"function"==typeof t&&"function"!=typeof n&&(i=n,n=t,t=null);var r=Ub(t),o=i?-1:1;!function e(s,a,l){var c,u="object"==typeof s&&null!==s?s:{};"string"==typeof u.type&&(c="string"==typeof u.tagName?u.tagName:"string"==typeof u.name?u.name:void 0,Object.defineProperty(h,"name",{value:"node ("+u.type+(c?"<"+c+">":"")+")"}));return h;function h(){var c,u,h,d=[];if((!t||r(s,a,l[l.length-1]||null))&&(d=function(e){if(Array.isArray(e))return e;if("number"==typeof e)return[true,e];return[e]}(n(s,l)),false===d[0]))return d;if(s.children&&"skip"!==d[0])for(u=(i?s.children.length:-1)+o,h=l.concat(s);u>-1&&u<s.children.length;){if(c=e(s.children[u],u,h)(),false===c[0])return c;u="number"==typeof c[1]?c[1]:u+o}return d}}(e,null,[])()};const lE={}.hasOwnProperty,cE=function(e,t,n,i){let r,o;"string"==typeof t||t instanceof RegExp?(o=[[t,n]],r=i):(o=t,r=n),r||(r={});const s=Ub(r.ignore||[]),a=function(e){const t=[];if("object"!=typeof e)throw new TypeError("Expected array or object as schema");if(Array.isArray(e)){let n=-1;for(;++n<e.length;)t.push([uE(e[n][0]),hE(e[n][1])])}else{let n;for(n in e)lE.call(e,n)&&t.push([uE(n),hE(e[n])])}return t}(o);let l=-1;for(;++l<a.length;)aE(e,"text",c);return e;function c(e,t){let n,i=-1;for(;++i<t.length;){const e=t[i];if(s(e,n?n.children.indexOf(e):void 0,n))return;n=e}if(n)return function(e,t){const n=a[l][0],i=a[l][1];let r,o=0,s=t.children.indexOf(e),c=[];n.lastIndex=0;let u=n.exec(e.value);for(;u;){r=u.index;let t=i(...u,{index:u.index,input:u.input});if("string"==typeof t&&(t=t.length>0?{type:"text",value:t}:void 0),!1!==t&&(o!==r&&c.push({type:"text",value:e.value.slice(o,r)}),Array.isArray(t)?c.push(...t):t&&c.push(t),o=r+u[0].length),!n.global)break;u=n.exec(e.value)}void 0===r?(c=[e],s--):(o<e.value.length&&c.push({type:"text",value:e.value.slice(o)}),t.children.splice(s,1,...c));return s+c.length+1}(e,n)}};function uE(e){return"string"==typeof e?new RegExp(function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(e),"g"):e}function hE(e){return"function"==typeof e?e:()=>e}const dE=["autolink","link","image","label"],fE={transforms:[function(e){cE(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,mE],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,vE]],{ignore:["link","linkReference"]})}],enter:{literalAutolink:function(e){this.enter({type:"link",title:null,url:"",children:[]},e)},literalAutolinkEmail:gE,literalAutolinkHttp:gE,literalAutolinkWww:gE},exit:{literalAutolink:function(e){this.exit(e)},literalAutolinkEmail:function(e){this.config.exit.autolinkEmail.call(this,e)},literalAutolinkHttp:function(e){this.config.exit.autolinkProtocol.call(this,e)},literalAutolinkWww:function(e){this.config.exit.data.call(this,e);this.stack[this.stack.length-1].url="http://"+this.sliceSerialize(e)}}},pE={unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:"phrasing",notInConstruct:dE},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:"phrasing",notInConstruct:dE},{character:":",before:"[ps]",after:"\\/",inConstruct:"phrasing",notInConstruct:dE}]};function gE(e){this.config.enter.autolinkProtocol.call(this,e)}function mE(e,t,n,i,r){let o="";if(!yE(r))return!1;if(/^w/i.test(t)&&(n=t+n,t="",o="http://"),!function(e){const t=e.split(".");if(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))return!1;return!0}(n))return!1;const s=function(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);let n,i,r,o;if(t)for(e=e.slice(0,t.index),o=t[0],n=o.indexOf(")"),i=sE(e,"("),r=sE(e,")");-1!==n&&i>r;)e+=o.slice(0,n+1),o=o.slice(n+1),n=o.indexOf(")"),r++;return[e,o]}(n+i);if(!s[0])return!1;const a={type:"link",title:null,url:o+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[a,{type:"text",value:s[1]}]:a}function vE(e,t,n,i){return!(!yE(i,!0)||/[_-\d]$/.test(n))&&{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function yE(e,t){const n=e.input.charCodeAt(e.index-1);return(0===e.index||ey(n)||ty(n))&&(!t||47!==n)}let bE=!1,_E=!1;function wE(){return e.peek=function(){return"["},{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:function(e,t,n){const i=n.enter("footnoteDefinition"),r=n.enter("label"),o=Rb(n,zb(e),{before:"^",after:"]"}),s="[^"+o+"]:";r();const a=Lb(Db(e,n),(function(e,t,n){if(t)return(n?"":"    ")+e;return(n?s:s+" ")+e}));i(),!bE&&o.includes(":")&&(console.warn("[mdast-util-gfm-footnote] Warning: Found a colon in footnote identifier `"+o+"`. GitHub currently crahes on colons in footnotes (see <https://github.com/github/cmark-gfm/issues/241> for more info)"),bE=!0);_E||Yb(e,"list",(()=>(console.warn("[mdast-util-gfm-footnote] Warning: Found a list in a footnote definition. GitHub currently crahes on lists in footnotes (see <https://github.com/github/cmark-gfm/issues/241> for more info)"),_E=!0,false)));return a},footnoteReference:e}};function e(e,t,n){const i=n.enter("footnoteReference"),r=n.enter("reference"),o=Rb(n,zb(e),{before:"^",after:"]"});return r(),i(),"[^"+o+"]"}}const CE={canContainEols:["delete"],enter:{strikethrough:function(e){this.enter({type:"delete",children:[]},e)}},exit:{strikethrough:function(e){this.exit(e)}}},xE={unsafe:[{character:"~",inConstruct:"phrasing"}],handlers:{delete:kE}};function kE(e,t,n){const i=n.enter("emphasis"),r=Wb(e,n,{before:"~",after:"~"});return i(),"~~"+r+"~~"}function SE(e){return e.length}function DE(e){const t="string"==typeof e?e.charCodeAt(0):0;return 67===t||99===t?99:76===t||108===t?108:82===t||114===t?114:0}kE.peek=function(){return"~"};const EE={enter:{table:function(e){const t=e._align;this.enter({type:"table",align:t,children:[]},e),this.setData("inTable",!0)},tableData:TE,tableHeader:TE,tableRow:function(e){this.enter({type:"tableRow",children:[]},e)}},exit:{codeText:function(e){let t=this.resume();this.getData("inTable")&&(t=t.replace(/\\([\\|])/g,NE));this.stack[this.stack.length-1].value=t,this.exit(e)},table:function(e){this.exit(e),this.setData("inTable")},tableData:LE,tableHeader:LE,tableRow:LE}};function LE(e){this.exit(e)}function TE(e){this.enter({type:"tableCell",children:[]},e)}function NE(e,t){return"|"===t?t:e}function ME(e){const t=e||{},n=t.tableCellPadding,i=t.tablePipeAlign,r=t.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:"\n",inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[\t :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:function(e,t,n){return a(function(e,t){const n=e.children;let i=-1;const r=[],o=t.enter("table");for(;++i<n.length;)r[i]=l(n[i],t);return o(),r}(e,n),e.align)},tableRow:function(e,t,n){const i=a([l(e,n)]);return i.slice(0,i.indexOf("\n"))},tableCell:s,inlineCode:function(e,t,n){let i=Qb(e,0,n);n.stack.includes("tableCell")&&(i=i.replace(/\|/g,"\\$&"));return i}}};function s(e,t,n){const i=n.enter("tableCell"),r=n.enter("phrasing"),s=Wb(e,n,{before:o,after:o});return r(),i(),s}function a(e,t){return function(e,t){const n=t||{},i=(n.align||[]).concat(),r=n.stringLength||SE,o=[];let s=-1;const a=[],l=[],c=[];let u,h,d,f,p,g,m,v,y,b=0;for(;++s<e.length;){for(u=-1,h=[],d=[],e[s].length>b&&(b=e[s].length);++u<e[s].length;)p=null==(_=e[s][u])?"":String(_),!1!==n.alignDelimiters&&(f=r(p),d[u]=f,(void 0===c[u]||f>c[u])&&(c[u]=f)),h.push(p);a[s]=h,l[s]=d}var _;if(u=-1,"object"==typeof i&&"length"in i)for(;++u<b;)o[u]=DE(i[u]);else for(y=DE(i);++u<b;)o[u]=y;for(u=-1,h=[],d=[];++u<b;)y=o[u],m="",v="",99===y?(m=":",v=":"):108===y?m=":":114===y&&(v=":"),f=!1===n.alignDelimiters?1:Math.max(1,c[u]-m.length-v.length),p=m+"-".repeat(f)+v,!1!==n.alignDelimiters&&(f=m.length+f+v.length,f>c[u]&&(c[u]=f),d[u]=f),h[u]=p;a.splice(1,0,h),l.splice(1,0,d),s=-1;const w=[];for(;++s<a.length;){for(h=a[s],d=l[s],u=-1,g=[];++u<b;)p=h[u]||"",m="",v="",!1!==n.alignDelimiters&&(f=c[u]-(d[u]||0),y=o[u],114===y?m=" ".repeat(f):99===y?f%2?(m=" ".repeat(f/2+.5),v=" ".repeat(f/2-.5)):(m=" ".repeat(f/2),v=m):v=" ".repeat(f)),!1===n.delimiterStart||u||g.push("|"),!1===n.padding||!1===n.alignDelimiters&&""===p||!1===n.delimiterStart&&!u||g.push(" "),!1!==n.alignDelimiters&&g.push(m),g.push(p),!1!==n.alignDelimiters&&g.push(v),!1!==n.padding&&g.push(" "),!1===n.delimiterEnd&&u===b-1||g.push("|");w.push(!1===n.delimiterEnd?g.join("").replace(/ +$/,""):g.join(""))}return w.join("\n")}(e,{align:t,alignDelimiters:i,padding:n,stringLength:r})}function l(e,t){const n=e.children;let i=-1;const r=[],o=t.enter("tableRow");for(;++i<n.length;)r[i]=s(n[i],0,t);return o(),r}}const AE={exit:{taskListCheckValueChecked:OE,taskListCheckValueUnchecked:OE,paragraph:function(e){const t=this.stack[this.stack.length-2],n=this.stack[this.stack.length-1],i=t.children,r=n.children[0];let o,s=-1;if(t&&"listItem"===t.type&&"boolean"==typeof t.checked&&r&&"text"===r.type){for(;++s<i.length;){const e=i[s];if("paragraph"===e.type){o=e;break}}o===n&&(r.value=r.value.slice(1),0===r.value.length?n.children.shift():(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}this.exit(e)}}},IE={unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:function(e,t,n){const i=e.children[0];let r=s_(e,t,n);"boolean"==typeof e.checked&&i&&"paragraph"===i.type&&(r=r.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,(function(t){return t+"["+(e.checked?"x":" ")+"] "})));return r}}};function OE(e){this.stack[this.stack.length-2].checked="taskListCheckValueChecked"===e.type}function FE(e={}){const t=this.data();function n(e,n){(t[e]?t[e]:t[e]=[]).push(n)}n("micromarkExtensions",function(e){return Vv([BD,{document:{91:{tokenize:ZD,continuation:{tokenize:JD},exit:QD}},text:{91:{tokenize:XD},93:{add:"after",tokenize:YD,resolveTo:GD}}},eE(e),tE,rE])}(e)),n("fromMarkdownExtensions",[fE,{enter:{gfmFootnoteDefinition:function(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)},gfmFootnoteDefinitionLabelString:function(){this.buffer()},gfmFootnoteCall:function(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)},gfmFootnoteCallString:function(){this.buffer()}},exit:{gfmFootnoteDefinition:function(e){this.exit(e)},gfmFootnoteDefinitionLabelString:function(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Ny(this.sliceSerialize(e)).toLowerCase()},gfmFootnoteCall:function(e){this.exit(e)},gfmFootnoteCallString:function(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Ny(this.sliceSerialize(e)).toLowerCase()}}},CE,EE,AE]),n("toMarkdownExtensions",function(e){return{extensions:[pE,wE(),xE,ME(e),IE]}}(e))}const RE=e=>Ym((e=>"table"===e.type.spec.tableRole))(e),PE=(e,t=3,n=3)=>{const{cell:i,header_cell:r,row:o,table:s}=ES(e),a=Array(n).fill(0).map((()=>i.createAndFill(null))),l=Array(n).fill(0).map((()=>r.createAndFill(null))),c=Array(t).fill(0).map(((e,t)=>o.create(null,0===t?l:a)));return s.create(null,c)},BE=e=>t=>n=>{const i=RE(n.selection),r="row"===e;if(i){const e=xS.get(i.node);if(t>=0&&t<(r?e.height:e.width)){const o=e.positionAt(r?t:e.height-1,r?e.width-1:t,i.node),s=n.doc.resolve(i.start+o),a=r?BS.rowSelection:BS.colSelection,l=e.positionAt(r?t:0,r?0:t,i.node),c=n.doc.resolve(i.start+l);return Km(n.setSelection(a(s,c)))}}return n},jE=e=>{const t=(e=>{const t=RE(e);if(!t)return;const n=xS.get(t.node);return n.cellsInRect({left:0,right:n.width,top:0,bottom:n.height}).map((e=>{const n=t.node.nodeAt(e),i=e+t.start;return{pos:i,start:i+1,node:n}}))})(e.selection);if(t){const n=e.doc.resolve(t[0].pos),i=e.doc.resolve(t[t.length-1].pos);return Km(e.setSelection(new BS(i,n)))}return e};function zE(e,{map:t,tableStart:n,table:i},r){const o=Array(r).fill(0).reduce(((e,t,n)=>e+i.child(n).nodeSize),n),{cell:s,row:a}=ES(i.type.schema),l=Array(t.width).fill(0).map(((e,n)=>{const r=i.nodeAt(t.map[n]);return s.createAndFill({alignment:null==r?void 0:r.attrs.alignment})}));return e.insert(o,a.create(null,l)),e}const VE=e=>e.state.selection;var WE,HE;(HE=WE||(WE={}))[HE.AddColLeft=0]="AddColLeft",HE[HE.AddColRight=1]="AddColRight",HE[HE.AddRowTop=2]="AddRowTop",HE[HE.AddRowBottom=3]="AddRowBottom",HE[HE.AlignLeft=4]="AlignLeft",HE[HE.AlignCenter=5]="AlignCenter",HE[HE.AlignRight=6]="AlignRight",HE[HE.Delete=7]="Delete";const UE=e=>({[WE.AddColLeft]:{$:e.get(hx).slots.icon("leftArrow"),command:()=>lD,disable:e=>!VE(e).isColSelection()},[WE.AddColRight]:{$:e.get(hx).slots.icon("rightArrow"),command:()=>cD,disable:e=>!VE(e).isColSelection()},[WE.AddRowTop]:{$:e.get(hx).slots.icon("upArrow"),command:()=>(e,t)=>{if(!NS(e))return!1;if(t){const n=sD(e);t(zE(e.tr,n,n.top))}return!0},disable:e=>!VE(e).isRowSelection()||"table_header"===VE(e).$head.parent.type.name},[WE.AddRowBottom]:{$:e.get(hx).slots.icon("downArrow"),command:()=>(e,t)=>{if(!NS(e))return!1;if(t){const n=sD(e);t(zE(e.tr,n,n.bottom))}return!0},disable:e=>!VE(e).isRowSelection()},[WE.AlignLeft]:{$:e.get(hx).slots.icon("alignLeft"),command:()=>pD("alignment","left"),disable:e=>!VE(e).isColSelection()},[WE.AlignCenter]:{$:e.get(hx).slots.icon("alignCenter"),command:()=>pD("alignment","center"),disable:e=>!VE(e).isColSelection()},[WE.AlignRight]:{$:e.get(hx).slots.icon("alignRight"),command:()=>pD("alignment","right"),disable:e=>!VE(e).isColSelection()},[WE.Delete]:{$:e.get(hx).slots.icon("delete"),command:(e,t)=>{const n=VE(t),i=n.isColSelection(),r=n.isRowSelection();return i&&r?yD:i?hD:fD},disable:e=>{const t=VE(e);return!!t.isRowSelection()&&(!t.isColSelection()&&(e=>{const t=xS.get(e.$anchorCell.node(-1)),n=e.$anchorCell.start(-1),i=t.cellsInRect({left:0,right:t.width,top:0,bottom:1}),r=t.cellsInRect(t.rectBetween(e.$anchorCell.pos-n,e.$headCell.pos-n));for(let o=0,s=i.length;o<s;o++)if(-1===r.indexOf(i[o]))return!1;return!0})(t))}}});var $E,qE;(qE=$E||($E={})).Left="Left",qE.Top="Top",qE.Point="Point";const KE=({size:e,mixin:t,palette:n})=>{var i,r;return ix`
    display: inline-flex;
    cursor: pointer;
    z-index: 2;

    justify-content: space-evenly;

    position: absolute;

    border-radius: ${e.radius};

    ${null===(i=t.border)||void 0===i?void 0:i.call(t)};

    ${null===(r=t.shadow)||void 0===r?void 0:r.call(t)};

    overflow: hidden;
    background: ${n("surface")};

    .icon {
        position: relative;
        color: ${n("solid",.87)};

        width: 3rem;
        line-height: 3rem;
        text-align: center;
        transition: all 0.4s ease-in-out;
        &:hover {
            background-color: ${n("secondary",.12)};
        }
        &.active {
            color: ${n("primary")};
        }
        &:not(:last-child)::after {
            content: '';
            position: absolute;
            right: 0px;
            top: 0;
            width: ${e.lineWidth};
            bottom: 0;
            background: ${n("line")};
        }
    }
    &.hide,
    .hide {
        display: none;
    }
`};function YE(e,t,n,i=0){return Cm.widget(t.pos+1,(t=>{const r=document.createElement("div");return r.classList.add((e=>{switch(e){case $E.Left:return"milkdown-cell-left";case $E.Top:return"milkdown-cell-top";case $E.Point:default:return"milkdown-cell-point"}})(n)),n===$E.Point&&r.appendChild(e.get(hx).slots.icon("select")),r.addEventListener("mousedown",(e=>{if(t)switch(e.preventDefault(),n){case $E.Point:return void t.dispatch(jE(t.state.tr));case $E.Left:return void t.dispatch(BE("row")(i)(t.state.tr));case $E.Top:return void t.dispatch(BE("col")(i)(t.state.tr))}})),r}))}const GE=(e,t)=>{const n=UE(e),i=document.createElement("div"),r=t.getStyle(KE);return r&&i.classList.add(r),i.classList.add("table-tooltip","hide"),new uf({key:new ff("MILKDOWN_TABLE_OP"),props:{decorations:t=>{const n=[],i=(r=0,e=>{const t=RE(e);if(!t)return;const n=xS.get(t.node);return r<0||r>=n.width?void 0:n.cellsInRect({left:r,right:r+1,top:0,bottom:n.height}).map((e=>{const n=t.node.nodeAt(e);if(!n)throw new Error;const i=e+t.start;return{pos:i,start:i+1,node:n}}))})(t.selection);var r;if(!i)return null;const o=(s=0,e=>{const t=RE(e);if(!t)return;const n=xS.get(t.node);return s<0||s>=n.height?void 0:n.cellsInRect({left:0,right:n.width,top:s,bottom:s+1}).map((e=>{const n=t.node.nodeAt(e);if(!n)throw new Error;const i=e+t.start;return{pos:i,start:i+1,node:n}}))})(t.selection);var s;if(!o)return null;const[a]=i;return n.push(YE(e,a,$E.Point)),i.forEach(((t,i)=>{n.push(YE(e,t,$E.Left,i))})),o.forEach(((t,i)=>{n.push(YE(e,t,$E.Top,i))})),Dm.create(t.doc,n)}},view:e=>{var t;Object.values(n).forEach((({$:e})=>i.appendChild(e))),null===(t=e.dom.parentNode)||void 0===t||t.appendChild(i);const r=t=>{e&&(t.stopPropagation(),t.preventDefault(),Object.values(n).forEach((({$:n,command:i})=>{n.contains(t.target)&&i(t,e)(e.state,e.dispatch,e)})))},o=()=>{i.classList.add("hide")};return i.addEventListener("mousedown",r),{update:(e,t)=>{const r=e.state;if((null==t?void 0:t.doc.eq(r.doc))&&t.selection.eq(r.selection))return;r.selection instanceof BS&&e.editable?(((e,t)=>{Object.values(e).forEach((e=>{var n;(null===(n=e.disable)||void 0===n?void 0:n.call(e,t))?e.$.classList.add("hide"):e.$.classList.remove("hide")}))})(n,e),Object.values(n).every((({$:e})=>e.classList.contains("hide")))?o():(i.classList.remove("hide"),((e,t)=>{const{selection:n}=e.state,i=n.isColSelection(),r=n.isRowSelection();$m(e,t,((e,t,n)=>{let o=r?e.left-n.left-t.width/2-8:e.left-n.left+(e.width-t.width)/2;return o<0&&(o=0),[e.top-n.top-t.height-(i?14:0)-14,o]}))})(e,i))):o()},destroy:()=>{i.removeEventListener("mousedown",r),i.remove()}}}})},XE=function(e){var t=e.cellAttributes||{},n={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(var i in t)n[i]={default:t[i].default};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:e.tableGroup,parseDOM:[{tag:"table"}],toDOM:function(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:function(){return["tr",0]}},table_cell:{content:e.cellContent,attrs:n,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:function(e){return SS(e,t)}}],toDOM:function(e){return["td",DS(e,t),0]}},table_header:{content:e.cellContent,attrs:n,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:function(e){return SS(e,t)}}],toDOM:function(e){return["th",DS(e,t),0]}}}}({tableGroup:"block",cellContent:"paragraph",cellAttributes:{alignment:{default:"left",getFromDOM:e=>e.style.textAlign||"left",setDOMAttr:(e,t)=>{t.style=`text-align: ${e||"left"}`}}}}),ZE=ix`
    /* copy from https://github.com/ProseMirror/prosemirror-tables/blob/master/style/tables.css */
    .ProseMirror .tableWrapper {
        overflow-x: auto;
    }
    .ProseMirror table {
        border-collapse: collapse;
        table-layout: fixed;
        width: 100%;
        overflow: hidden;
    }
    .ProseMirror td,
    .ProseMirror th {
        vertical-align: top;
        box-sizing: border-box;
        position: relative;
    }
    .ProseMirror .column-resize-handle {
        position: absolute;
        right: -2px;
        top: 0;
        bottom: 0;
        width: 4px;
        z-index: 20;
        background-color: #adf;
        pointer-events: none;
    }
    .ProseMirror.resize-cursor {
        cursor: ew-resize;
        cursor: col-resize;
    }
    /* Give selected cells a blue overlay */
    .ProseMirror .selectedCell:after {
        z-index: 2;
        position: absolute;
        content: '';
        left: 0;
        right: 0;
        top: 0;
        bottom: 0;
        background: rgba(200, 200, 255, 0.4);
        pointer-events: none;
    }
`,JE={NextCell:"NextCell",PrevCell:"PrevCell",ExitTable:"ExitTable"},QE=Bw(),eL=Bw(),tL=Bw(),nL=Bw(),iL=Wx((e=>((e=>{const t=nx;e.getStyle((({size:e,palette:n,mixin:i})=>{var r,o,s;t`
            ${ZE}

            .tableWrapper {
                margin: 0 !important;

                ${null===(r=i.scrollbar)||void 0===r?void 0:r.call(i,"x")};

                width: 100%;

                table {
                    width: calc(100% - 2rem) !important;
                    border-radius: ${e.radius};
                    box-sizing: border-box;
                    margin: 1rem 0 1rem 1rem !important;
                    overflow: auto !important;
                    * {
                        margin: 0 !important;
                        box-sizing: border-box;
                        font-size: 1rem;
                    }
                    tr {
                        ${null===(o=i.border)||void 0===o?void 0:o.call(i,"bottom")};
                    }

                    th {
                        background: ${n("background",.5)};
                        font-weight: 400;
                    }

                    th,
                    td {
                        min-width: 100px;
                        ${null===(s=i.border)||void 0===s?void 0:s.call(i)};
                        text-align: left;
                        position: relative;
                        line-height: 3rem;
                        box-sizing: border-box;
                        height: 3rem;
                    }

                    .selectedCell {
                        &::after {
                            background: ${n("secondary",.38)};
                        }
                        & ::selection {
                            background: transparent;
                        }
                    }

                    .column-resize-handle {
                        background: ${n("primary")};
                        width: ${e.lineWidth};
                    }

                    th,
                    td {
                        padding: 0 1rem;
                        p {
                            line-height: unset !important;
                        }
                    }

                    .milkdown-cell-left,
                    .milkdown-cell-point,
                    .milkdown-cell-top {
                        position: absolute;

                        &::after {
                            cursor: pointer;
                            position: absolute;
                            top: 0;
                            left: 0;
                            height: 100%;
                            width: 100%;
                            display: block;
                            transition: all 0.2s ease-in-out;
                            background: ${n("secondary",.12)};
                            content: '';
                        }
                        &:hover::after {
                            background: ${n("secondary",.38)};
                        }
                    }

                    .milkdown-cell-left {
                        left: calc(-6px - 0.5rem);
                        top: 0;
                        bottom: 0;
                        width: 0.5rem;
                    }

                    .milkdown-cell-top {
                        left: 0;
                        right: 0;
                        top: calc(-6px - 0.5rem);
                        height: 0.5rem;
                    }

                    .milkdown-cell-point {
                        left: calc(-2px - 1rem);
                        top: calc(-2px - 1rem);
                        width: 1rem;
                        height: 1rem;

                        .icon {
                            position: absolute;
                            top: 0;
                            bottom: 0;
                            left: 0;
                            right: 0;
                        }
                    }
                }
            }
        `}))})(e),{schema:()=>({node:{table:Object.assign(Object.assign({},XE.table),{parseMarkdown:{match:e=>"table"===e.type,runner:(e,t,n)=>{const i=t.align,r=t.children.map(((e,t)=>Object.assign(Object.assign({},e),{align:i,isHeader:0===t})));e.openNode(n),e.next(r),e.closeNode()}},toMarkdown:{match:e=>"table"===e.type.name,runner:(e,t)=>{var n;const i=null===(n=t.content.firstChild)||void 0===n?void 0:n.content;if(!i)return;const r=[];i.forEach((e=>{r.push(e.attrs.alignment)})),e.openNode("table",void 0,{align:r}),e.next(t.content),e.closeNode()}}}),table_row:Object.assign(Object.assign({},XE.table_row),{parseMarkdown:{match:e=>"tableRow"===e.type,runner:(e,t,n)=>{const i=t.align,r=t.children.map(((e,n)=>Object.assign(Object.assign({},e),{align:i[n],isHeader:t.isHeader})));e.openNode(n),e.next(r),e.closeNode()}},toMarkdown:{match:e=>"table_row"===e.type.name,runner:(e,t)=>{e.openNode("tableRow"),e.next(t.content),e.closeNode()}}}),table_cell:Object.assign(Object.assign({},XE.table_cell),{parseMarkdown:{match:e=>"tableCell"===e.type&&!e.isHeader,runner:(e,t,n)=>{const i=t.align;e.openNode(n,{alignment:i}).openNode(e.schema.nodes.paragraph).next(t.children).closeNode().closeNode()}},toMarkdown:{match:e=>"table_cell"===e.type.name,runner:(e,t)=>{e.openNode("tableCell").next(t.content).closeNode()}}}),table_header:Object.assign(Object.assign({},XE.table_header),{parseMarkdown:{match:e=>"tableCell"===e.type&&!!e.isHeader,runner:(e,t,n)=>{const i=t.align;e.openNode(n,{alignment:i}),e.openNode(e.schema.nodes.paragraph),e.next(t.children),e.closeNode(),e.closeNode()}},toMarkdown:{match:e=>"table_header"===e.type.name,runner:(e,t)=>{e.openNode("tableCell"),e.next(t.content),e.closeNode()}}})}}),inputRules:(e,t)=>[new Mf(/^\|\|\s$/,((n,i,r,o)=>{const s=n.doc.resolve(r);if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),e.table))return null;const a=PE(t.get(q_)),l=n.tr.replaceRangeWith(r,o,a).scrollIntoView();return l.setSelection(qd.create(l.doc,r+3))}))],commands:(e,t)=>[Rw(QE,(()=>vD(-1))),Rw(eL,(()=>vD(1))),Rw(tL,(()=>{return e=t.get(q_).nodes.paragraph,(t,n)=>{if(!NS(t))return!1;const{$head:i}=t.selection,r=i.after(),o=t.tr.replaceWith(r,r,e.createAndFill());return o.setSelection(Hd.near(o.doc.resolve(r),1)),null==n||n(o.scrollIntoView()),!0};var e})),Rw(nL,(()=>(e,n)=>{const{selection:i,tr:r}=e,{from:o}=i,s=PE(t.get(q_)),a=r.replaceSelectionWith(s),l=Hd.findFrom(a.doc.resolve(o),1,!0);return l&&(null==n||n(a.setSelection(l))),!0}))],shortcuts:{[JE.NextCell]:Fx(eL,"Mod-]"),[JE.PrevCell]:Fx(QE,"Mod-["),[JE.ExitTable]:Fx(tL,"Mod-Enter")},prosePlugins:(t,n)=>[GE(n,e),CD({}),LD()],remarkPlugins:()=>[FE]}))),rL=/(https?:\/\/)?www\.[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z]{2,}\b(?:[-a-zA-Z0-9@:%._+~#=?!&/]*)(?:[-a-zA-Z0-9@:%._+~#=?!&/]*)$/,oL=Wx((()=>({prosePlugins:()=>[Af({rules:[new Mf(rL,((e,t,n,i)=>{const{schema:r}=e,[o]=t;return o?e.tr.replaceWith(n,i,r.text(o)).addMark(n,o.length+n,r.marks.link.create({href:o.startsWith("www")?`https://${o}`:o})):null}))]})]}))),sL=Object.assign(Object.assign(Object.assign({},Hx),JE),{StrikeThrough:"StrikeThrough",TaskList:"TaskList"}),aL=Bw(),lL=zx((e=>{const t="strike_through",n=e.getStyle((e=>ix`
                text-decoration-color: ${e.palette("secondary")};
            `));return{id:t,schema:()=>({parseDOM:[{tag:"del"},{style:"text-decoration",getAttrs:e=>"line-through"===e}],toDOM:t=>["del",{class:e.getClassName(t.attrs,"strike-through",n)}],parseMarkdown:{match:e=>"delete"===e.type,runner:(e,t,n)=>{e.openMark(n),e.next(t.children),e.closeMark(n)}},toMarkdown:{match:e=>e.type.name===t,runner:(e,t)=>{e.withMark(t,"delete")}}}),inputRules:e=>[Um(/(?:~~)([^~]+)(?:~~)$/,e),Um(/(?:^|[^~])(~([^~]+)~)$/,e)],commands:e=>[Rw(aL,(()=>xf(e)))],shortcuts:{[sL.StrikeThrough]:Fx(aL,"Mod-Alt-x")}}})),cL=Bw(),uL=Bw(),hL=Bw(),dL=Bw(),fL=Vx((e=>{const t="task_list_item",n=e.getStyle((({palette:e,size:t})=>ix`
                list-style-type: none;
                position: relative;

                & > div {
                    overflow: hidden;
                    padding: 0 2px;
                }

                label {
                    position: absolute;
                    top: 0;
                    left: -2rem;
                    display: inline-block;
                    width: 1.5rem;
                    height: 1.5rem;
                    margin: 0.5rem 0;
                    input {
                        visibility: hidden;
                    }
                }
                label:before {
                    position: absolute;
                    top: 0;
                    right: 0;
                    bottom: 0;
                    left: 0;
                    border-radius: ${t.radius};
                }
                label:hover:before {
                    background: ${e("background")};
                }
                &[data-checked='true'] {
                    label {
                        color: ${e("primary")};
                    }
                }
                &[data-checked='false'] {
                    label {
                        color: ${e("solid",.87)};
                    }
                }
                .paragraph {
                    margin: 0.5rem 0;
                }
            `));return{id:t,schema:()=>({group:"listItem",content:"paragraph block*",defining:!0,attrs:{checked:{default:!1}},parseDOM:[{tag:'li[data-type="task-list-item"]',getAttrs:e=>{if(!(e instanceof HTMLElement))throw new Error;return{checked:"true"===e.dataset.checked}}}],toDOM:t=>["li",{"data-type":"task-item","data-checked":t.attrs.checked?"true":"false",class:e.getClassName(t.attrs,"task-list-item",n)},0],parseMarkdown:{match:({type:e,checked:t})=>"listItem"===e&&null!==t,runner:(e,t,n)=>{e.openNode(n,{checked:t.checked}),e.next(t.children),e.closeNode()}},toMarkdown:{match:e=>e.type.name===t,runner:(e,t)=>{e.openNode("listItem",void 0,{checked:t.attrs.checked}),e.next(t.content),e.closeNode()}}}),inputRules:e=>[Of(/^\s*(\[([ |x])\])\s$/,e,(e=>({checked:"x"===e[e.length-1]})))],commands:e=>[Rw(cL,(()=>wk(e))),Rw(uL,(()=>xk(e))),Rw(hL,(()=>Ck(e))),Rw(dL,(()=>wf(e)))],shortcuts:{[sL.NextListItem]:Fx(cL,"Enter"),[sL.SinkListItem]:Fx(uL,"Mod-]"),[sL.LiftListItem]:Fx(hL,"Mod-["),[sL.TaskList]:Fx(dL,"Mod-Alt-9")},view:i=>(r,o,s)=>{const a=i.get(hx).slots.icon,l=document.createElement("li"),c=document.createElement("label"),u=document.createElement("span"),h=document.createElement("input"),d=document.createElement("div");let f=a("unchecked");c.appendChild(f);const p=e=>{const t=a(e);c.replaceChild(t,f),f=t};c.contentEditable="false",h.type="checkbox";const g=e=>{const t=e.target;if(!(t instanceof HTMLInputElement))return;if(!o.editable)return void(h.checked=!h.checked);const{tr:n}=o.state;o.dispatch(n.setNodeMarkup(s(),void 0,{checked:t.checked}))};h.addEventListener("change",g),l.dataset.checked=r.attrs.checked,r.attrs.checked&&h.setAttribute("checked","checked"),c.append(h,u),l.append(c,d);const m={"data-type":"task-item","data-checked":r.attrs.checked?"true":"false",class:e.getClassName(r.attrs,"task-list-item",n)};return Object.entries(m).forEach((([e,t])=>{l.setAttribute(e,t)})),p(r.attrs.checked?"checked":"unchecked"),{dom:l,contentDOM:d,update:e=>e.type.name===t&&(l.dataset.checked=e.attrs.checked,e.attrs.checked?h.setAttribute("checked","checked"):h.removeAttribute("checked"),p(e.attrs.checked?"checked":"unchecked"),!0),destroy:()=>{h.removeEventListener("change",g)}}}}})),pL=Ox.create([...gS,iL(),oL(),lL(),fL()]);Object.assign(Object.assign({},mS),{ToggleStrikeThrough:aL,TurnIntoTaskList:dL,SinkTaskListItem:uL,LiftTaskListItem:hL,SplitTaskListItem:cL});const gL=(e,t)=>e.tagName===t.toUpperCase(),mL={tokenize:function(e,t,n){const i=this,r=i.events[i.events.length-1],o=r&&"linePrefix"===r[1].type?r[2].sliceSerialize(r[1],!0).length:0;let s=0;return function(t){return e.enter("mathFlow"),e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),a(t)};function a(t){return 36===t?(e.consume(t),s++,a):(e.exit("mathFlowFenceSequence"),s<2?n(t):iy(e,l,"whitespace")(t))}function l(t){return null===t||Jv(t)?u(t):(e.enter("mathFlowFenceMeta"),e.enter("chunkString",{contentType:"string"}),c(t))}function c(t){return null===t||Jv(t)?(e.exit("chunkString"),e.exit("mathFlowFenceMeta"),u(t)):36===t?n(t):(e.consume(t),c)}function u(n){return e.exit("mathFlowFence"),i.interrupt?t(n):h(n)}function h(t){return null===t?f(t):Jv(t)?e.attempt(vL,e.attempt({tokenize:p,partial:!0},f,o?iy(e,h,"linePrefix",o+1):h),f)(t):(e.enter("mathFlowValue"),d(t))}function d(t){return null===t||Jv(t)?(e.exit("mathFlowValue"),h(t)):(e.consume(t),d)}function f(n){return e.exit("mathFlow"),t(n)}function p(e,t,n){let i=0;return iy(e,(function(t){return e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),r(t)}),"linePrefix",4);function r(t){return 36===t?(e.consume(t),i++,r):i<s?n(t):(e.exit("mathFlowFenceSequence"),iy(e,o,"whitespace")(t))}function o(i){return null===i||Jv(i)?(e.exit("mathFlowFence"),t(i)):n(i)}}},concrete:!0},vL={tokenize:function(e,t,n){const i=this;return function(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),r};function r(e){return i.parser.lazy[i.now().line]?n(e):t(e)}},partial:!0};function yL(e={}){let t=e.singleDollarTextMath;return null==t&&(t=!0),{tokenize:function(e,n,i){let r,o,s=0;return function(t){return e.enter("mathText"),e.enter("mathTextSequence"),a(t)};function a(n){return 36===n?(e.consume(n),s++,a):s<2&&!t?i(n):(e.exit("mathTextSequence"),l(n))}function l(t){return null===t?i(t):36===t?(o=e.enter("mathTextSequence"),r=0,u(t)):32===t?(e.enter("space"),e.consume(t),e.exit("space"),l):Jv(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),l):(e.enter("mathTextData"),c(t))}function c(t){return null===t||32===t||36===t||Jv(t)?(e.exit("mathTextData"),l(t)):(e.consume(t),c)}function u(t){return 36===t?(e.consume(t),r++,u):r===s?(e.exit("mathTextSequence"),e.exit("mathText"),n(t)):(o.type="mathTextData",c(t))}},resolve:bL,previous:_L}}function bL(e){let t,n,i=e.length-4,r=3;if(!("lineEnding"!==e[r][1].type&&"space"!==e[r][1].type||"lineEnding"!==e[i][1].type&&"space"!==e[i][1].type))for(t=r;++t<i;)if("mathTextData"===e[t][1].type){e[i][1].type="mathTextPadding",e[r][1].type="mathTextPadding",r+=2,i-=2;break}for(t=r-1,i++;++t<=i;)void 0===n?t!==i&&"lineEnding"!==e[t][1].type&&(n=t):t!==i&&"lineEnding"!==e[t][1].type||(e[n][1].type="mathTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),i-=t-n-2,t=n+2),n=void 0);return e}function _L(e){return 36!==e||"characterEscape"===this.events[this.events.length-1][1].type}function wL(e={}){const t=this.data();function n(e,n){(t[e]?t[e]:t[e]=[]).push(n)}n("micromarkExtensions",function(e){return{flow:{36:mL},text:{36:yL(e)}}}(e)),n("fromMarkdownExtensions",function(){return{enter:{mathFlow:function(e){this.enter({type:"math",meta:null,value:"",data:{hName:"div",hProperties:{className:["math","math-display"]},hChildren:[{type:"text",value:""}]}},e)},mathFlowFenceMeta:function(){this.buffer()},mathText:function(e){this.enter({type:"inlineMath",value:"",data:{hName:"span",hProperties:{className:["math","math-inline"]},hChildren:[{type:"text",value:""}]}},e),this.buffer()}},exit:{mathFlow:function(e){const t=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),n=this.exit(e);n.value=t,n.data.hChildren[0].value=t,this.setData("mathFlowInside")},mathFlowFence:function(){this.getData("mathFlowInside")||(this.buffer(),this.setData("mathFlowInside",!0))},mathFlowFenceMeta:function(){const e=this.resume();this.stack[this.stack.length-1].meta=e},mathFlowValue:e,mathText:function(e){const t=this.resume(),n=this.exit(e);n.value=t,n.data.hChildren[0].value=t},mathTextData:e}};function e(e){this.config.enter.data.call(this,e),this.config.exit.data.call(this,e)}}()),n("toMarkdownExtensions",function(e={}){let t=e.singleDollarTextMath;return null==t&&(t=!0),n.peek=function(){return"$"},{unsafe:[{character:"\r",inConstruct:["mathFlowMeta"]},{character:"\r",inConstruct:["mathFlowMeta"]},t?{character:"$",inConstruct:["mathFlowMeta","phrasing"]}:{character:"$",after:"\\$",inConstruct:["mathFlowMeta","phrasing"]},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:function(e,t,n){const i=e.value||"",r="$".repeat(Math.max(Ib(i,"$")+1,2)),o=n.enter("mathFlow");let s=r;if(e.meta){const t=n.enter("mathFlowMeta");s+=Rb(n,e.meta,{before:"$",after:" ",encode:["$"]}),t()}return s+="\n",i&&(s+=i+"\n"),s+=r,o(),s},inlineMath:n}};function n(e){const n=e.value||"";let i=1,r="";for(t||i++;new RegExp("(^|[^$])"+"\\$".repeat(i)+"([^$]|$)").test(n);)i++;/[^ \r\n]/.test(n)&&(/[ \r\n$]/.test(n.charAt(0))||/[ \r\n$]/.test(n.charAt(n.length-1)))&&(r=" ");const o="$".repeat(i);return o+r+n+r+o}}(e))}var CL,xL={exports:{}};"undefined"!=typeof self&&self,CL=function(){return function(){var e={d:function(t,n){for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t={};e.d(t,{default:function(){return $i}});var n=function e(t,n){this.position=void 0;var i,r="KaTeX parse error: "+t,o=n&&n.loc;if(o&&o.start<=o.end){var s=o.lexer.input;i=o.start;var a=o.end;i===s.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var l=s.slice(i,a).replace(/[^]/g,"$&");r+=(i>15?""+s.slice(i-15,i):s.slice(0,i))+l+(a+15<s.length?s.slice(a,a+15)+"":s.slice(a))}var c=new Error(r);return c.name="ParseError",c.__proto__=e.prototype,c.position=i,c};n.prototype.__proto__=Error.prototype;var i=n,r=/([A-Z])/g,o={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},s=/[&><"']/g,a=function e(t){return"ordgroup"===t.type||"color"===t.type?1===t.body.length?e(t.body[0]):t:"font"===t.type?e(t.body):t},l={contains:function(e,t){return-1!==e.indexOf(t)},deflt:function(e,t){return void 0===e?t:e},escape:function(e){return String(e).replace(s,(function(e){return o[e]}))},hyphenate:function(e){return e.replace(r,"-$1").toLowerCase()},getBaseElem:a,isCharacterBox:function(e){var t=a(e);return"mathord"===t.type||"textord"===t.type||"atom"===t.type},protocolFromUrl:function(e){var t=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(e);return null!=t?t[1]:"_relative"}},c=function(){function e(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{},this.displayMode=l.deflt(e.displayMode,!1),this.output=l.deflt(e.output,"htmlAndMathml"),this.leqno=l.deflt(e.leqno,!1),this.fleqn=l.deflt(e.fleqn,!1),this.throwOnError=l.deflt(e.throwOnError,!0),this.errorColor=l.deflt(e.errorColor,"#cc0000"),this.macros=e.macros||{},this.minRuleThickness=Math.max(0,l.deflt(e.minRuleThickness,0)),this.colorIsTextColor=l.deflt(e.colorIsTextColor,!1),this.strict=l.deflt(e.strict,"warn"),this.trust=l.deflt(e.trust,!1),this.maxSize=Math.max(0,l.deflt(e.maxSize,1/0)),this.maxExpand=Math.max(0,l.deflt(e.maxExpand,1e3)),this.globalGroup=l.deflt(e.globalGroup,!1)}var t=e.prototype;return t.reportNonstrict=function(e,t,n){var r=this.strict;if("function"==typeof r&&(r=r(e,t,n)),r&&"ignore"!==r){if(!0===r||"error"===r)throw new i("LaTeX-incompatible input and strict mode is set to 'error': "+t+" ["+e+"]",n);"warn"===r?"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+t+" ["+e+"]"):"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+r+"': "+t+" ["+e+"]")}},t.useStrictBehavior=function(e,t,n){var i=this.strict;if("function"==typeof i)try{i=i(e,t,n)}catch(r){i="error"}return!(!i||"ignore"===i||!0!==i&&"error"!==i&&("warn"===i?("undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+t+" ["+e+"]"),1):("undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+i+"': "+t+" ["+e+"]"),1)))},t.isTrusted=function(e){e.url&&!e.protocol&&(e.protocol=l.protocolFromUrl(e.url));var t="function"==typeof this.trust?this.trust(e):this.trust;return Boolean(t)},e}(),u=function(){function e(e,t,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=n}var t=e.prototype;return t.sup=function(){return h[d[this.id]]},t.sub=function(){return h[f[this.id]]},t.fracNum=function(){return h[p[this.id]]},t.fracDen=function(){return h[g[this.id]]},t.cramp=function(){return h[m[this.id]]},t.text=function(){return h[v[this.id]]},t.isTight=function(){return this.size>=2},e}(),h=[new u(0,0,!1),new u(1,0,!0),new u(2,1,!1),new u(3,1,!0),new u(4,2,!1),new u(5,2,!0),new u(6,3,!1),new u(7,3,!0)],d=[4,5,4,5,6,7,6,7],f=[5,5,5,5,7,7,7,7],p=[2,3,4,5,6,7,6,7],g=[3,3,5,5,7,7,7,7],m=[1,1,3,3,5,5,7,7],v=[0,1,2,3,2,3,2,3],y={DISPLAY:h[0],TEXT:h[2],SCRIPT:h[4],SCRIPTSCRIPT:h[6]},b=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}],_=[];function w(e){for(var t=0;t<_.length;t+=2)if(e>=_[t]&&e<=_[t+1])return!0;return!1}b.forEach((function(e){return e.blocks.forEach((function(e){return _.push.apply(_,e)}))}));var C=80,x={doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",tilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",tilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",tilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",tilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"},k=function(){function e(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}var t=e.prototype;return t.hasClass=function(e){return l.contains(this.classes,e)},t.toNode=function(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e},t.toMarkup=function(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e},t.toText=function(){return this.children.map((function(e){return e.toText()})).join("")},e}(),S={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},D={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},E={"":"A","":"D","":"o","":"a","":"d","":"o","":"A","":"B","":"B","":"F","":"A","":"E","":"K","":"3","":"N","":"N","":"K","":"N","":"M","":"H","":"O","":"N","":"P","":"C","":"T","":"y","":"O","":"X","":"U","":"h","":"W","":"W","":"B","":"X","":"B","":"3","":"X","":"R","":"a","":"b","":"a","":"r","":"y","":"e","":"m","":"e","":"n","":"n","":"n","":"n","":"m","":"n","":"o","":"n","":"p","":"c","":"o","":"y","":"b","":"x","":"n","":"n","":"w","":"w","":"a","":"m","":"a","":"e","":"m","":"r"};function L(e,t,n){if(!S[t])throw new Error("Font metrics not found for font: "+t+".");var i=e.charCodeAt(0),r=S[t][i];if(!r&&e[0]in E&&(i=E[e[0]].charCodeAt(0),r=S[t][i]),r||"text"!==n||w(i)&&(r=S[t][77]),r)return{depth:r[0],height:r[1],italic:r[2],skew:r[3],width:r[4]}}var T={},N=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],M=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],A=function(e,t){return t.size<2?e:N[e-1][t.size-1]},I=function(){function e(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||e.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=M[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}var t=e.prototype;return t.extend=function(t){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return new e(n)},t.havingStyle=function(e){return this.style===e?this:this.extend({style:e,size:A(this.textSize,e)})},t.havingCrampedStyle=function(){return this.havingStyle(this.style.cramp())},t.havingSize=function(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:M[e-1]})},t.havingBaseStyle=function(t){t=t||this.style.text();var n=A(e.BASESIZE,t);return this.size===n&&this.textSize===e.BASESIZE&&this.style===t?this:this.extend({style:t,size:n})},t.havingBaseSizing=function(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})},t.withColor=function(e){return this.extend({color:e})},t.withPhantom=function(){return this.extend({phantom:!0})},t.withFont=function(e){return this.extend({font:e})},t.withTextFontFamily=function(e){return this.extend({fontFamily:e,font:""})},t.withTextFontWeight=function(e){return this.extend({fontWeight:e,font:""})},t.withTextFontShape=function(e){return this.extend({fontShape:e,font:""})},t.sizingClasses=function(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]},t.baseSizingClasses=function(){return this.size!==e.BASESIZE?["sizing","reset-size"+this.size,"size"+e.BASESIZE]:[]},t.fontMetrics=function(){return this._fontMetrics||(this._fontMetrics=function(e){var t;if(!T[t=e>=5?0:e>=3?1:2]){var n=T[t]={cssEmPerMu:D.quad[t]/18};for(var i in D)D.hasOwnProperty(i)&&(n[i]=D[i][t])}return T[t]}(this.size)),this._fontMetrics},t.getColor=function(){return this.phantom?"transparent":this.color},e}();I.BASESIZE=6;var O=I,F={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},R={ex:!0,em:!0,mu:!0},P=function(e){return"string"!=typeof e&&(e=e.unit),e in F||e in R||"ex"===e},B=function(e,t){var n;if(e.unit in F)n=F[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if("mu"===e.unit)n=t.fontMetrics().cssEmPerMu;else{var r;if(r=t.style.isTight()?t.havingStyle(t.style.text()):t,"ex"===e.unit)n=r.fontMetrics().xHeight;else{if("em"!==e.unit)throw new i("Invalid unit: '"+e.unit+"'");n=r.fontMetrics().quad}r!==t&&(n*=r.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*n,t.maxSize)},j=function(e){return+e.toFixed(4)+"em"},z=function(e){return e.filter((function(e){return e})).join(" ")},V=function(e,t,n){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},t){t.style.isTight()&&this.classes.push("mtight");var i=t.getColor();i&&(this.style.color=i)}},W=function(e){var t=document.createElement(e);for(var n in t.className=z(this.classes),this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&t.setAttribute(i,this.attributes[i]);for(var r=0;r<this.children.length;r++)t.appendChild(this.children[r].toNode());return t},H=function(e){var t="<"+e;this.classes.length&&(t+=' class="'+l.escape(z(this.classes))+'"');var n="";for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=l.hyphenate(i)+":"+this.style[i]+";");for(var r in n&&(t+=' style="'+l.escape(n)+'"'),this.attributes)this.attributes.hasOwnProperty(r)&&(t+=" "+r+'="'+l.escape(this.attributes[r])+'"');t+=">";for(var o=0;o<this.children.length;o++)t+=this.children[o].toMarkup();return t+="</"+e+">"},U=function(){function e(e,t,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,V.call(this,e,n,i),this.children=t||[]}var t=e.prototype;return t.setAttribute=function(e,t){this.attributes[e]=t},t.hasClass=function(e){return l.contains(this.classes,e)},t.toNode=function(){return W.call(this,"span")},t.toMarkup=function(){return H.call(this,"span")},e}(),$=function(){function e(e,t,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,V.call(this,t,i),this.children=n||[],this.setAttribute("href",e)}var t=e.prototype;return t.setAttribute=function(e,t){this.attributes[e]=t},t.hasClass=function(e){return l.contains(this.classes,e)},t.toNode=function(){return W.call(this,"a")},t.toMarkup=function(){return H.call(this,"a")},e}(),q=function(){function e(e,t,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=t,this.src=e,this.classes=["mord"],this.style=n}var t=e.prototype;return t.hasClass=function(e){return l.contains(this.classes,e)},t.toNode=function(){var e=document.createElement("img");for(var t in e.src=this.src,e.alt=this.alt,e.className="mord",this.style)this.style.hasOwnProperty(t)&&(e.style[t]=this.style[t]);return e},t.toMarkup=function(){var e="<img  src='"+this.src+" 'alt='"+this.alt+"' ",t="";for(var n in this.style)this.style.hasOwnProperty(n)&&(t+=l.hyphenate(n)+":"+this.style[n]+";");return t&&(e+=' style="'+l.escape(t)+'"'),e+="'/>"},e}(),K={"":"","":"","":"","":""},Y=function(){function e(e,t,n,i,r,o,s,a){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=n||0,this.italic=i||0,this.skew=r||0,this.width=o||0,this.classes=s||[],this.style=a||{},this.maxFontSize=0;var l=function(e){for(var t=0;t<b.length;t++)for(var n=b[t],i=0;i<n.blocks.length;i++){var r=n.blocks[i];if(e>=r[0]&&e<=r[1])return n.name}return null}(this.text.charCodeAt(0));l&&this.classes.push(l+"_fallback"),/[]/.test(this.text)&&(this.text=K[this.text])}var t=e.prototype;return t.hasClass=function(e){return l.contains(this.classes,e)},t.toNode=function(){var e=document.createTextNode(this.text),t=null;for(var n in this.italic>0&&((t=document.createElement("span")).style.marginRight=j(this.italic)),this.classes.length>0&&((t=t||document.createElement("span")).className=z(this.classes)),this.style)this.style.hasOwnProperty(n)&&((t=t||document.createElement("span")).style[n]=this.style[n]);return t?(t.appendChild(e),t):e},t.toMarkup=function(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=l.escape(z(this.classes)),t+='"');var n="";for(var i in this.italic>0&&(n+="margin-right:"+this.italic+"em;"),this.style)this.style.hasOwnProperty(i)&&(n+=l.hyphenate(i)+":"+this.style[i]+";");n&&(e=!0,t+=' style="'+l.escape(n)+'"');var r=l.escape(this.text);return e?(t+=">",t+=r,t+="</span>"):r},e}(),G=function(){function e(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}var t=e.prototype;return t.toNode=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e},t.toMarkup=function(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</svg>"},e}(),X=function(){function e(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}var t=e.prototype;return t.toNode=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?e.setAttribute("d",this.alternate):e.setAttribute("d",x[this.pathName]),e},t.toMarkup=function(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+x[this.pathName]+"'/>"},e}(),Z=function(){function e(e){this.attributes=void 0,this.attributes=e||{}}var t=e.prototype;return t.toNode=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","line");for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);return e},t.toMarkup=function(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");return e+="/>"},e}();function J(e){if(e instanceof Y)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}var Q={bin:1,close:1,inner:1,open:1,punct:1,rel:1},ee={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},te={math:{},text:{}},ne=te;function ie(e,t,n,i,r,o){te[e][r]={font:t,group:n,replace:i},o&&i&&(te[e][i]=te[e][r])}var re="math",oe="text",se="main",ae="ams",le="accent-token",ce="bin",ue="close",he="inner",de="mathord",fe="op-token",pe="open",ge="punct",me="rel",ve="spacing",ye="textord";ie(re,se,me,"","\\equiv",!0),ie(re,se,me,"","\\prec",!0),ie(re,se,me,"","\\succ",!0),ie(re,se,me,"","\\sim",!0),ie(re,se,me,"","\\perp"),ie(re,se,me,"","\\preceq",!0),ie(re,se,me,"","\\succeq",!0),ie(re,se,me,"","\\simeq",!0),ie(re,se,me,"","\\mid",!0),ie(re,se,me,"","\\ll",!0),ie(re,se,me,"","\\gg",!0),ie(re,se,me,"","\\asymp",!0),ie(re,se,me,"","\\parallel"),ie(re,se,me,"","\\bowtie",!0),ie(re,se,me,"","\\smile",!0),ie(re,se,me,"","\\sqsubseteq",!0),ie(re,se,me,"","\\sqsupseteq",!0),ie(re,se,me,"","\\doteq",!0),ie(re,se,me,"","\\frown",!0),ie(re,se,me,"","\\ni",!0),ie(re,se,me,"","\\propto",!0),ie(re,se,me,"","\\vdash",!0),ie(re,se,me,"","\\dashv",!0),ie(re,se,me,"","\\owns"),ie(re,se,ge,".","\\ldotp"),ie(re,se,ge,"","\\cdotp"),ie(re,se,ye,"#","\\#"),ie(oe,se,ye,"#","\\#"),ie(re,se,ye,"&","\\&"),ie(oe,se,ye,"&","\\&"),ie(re,se,ye,"","\\aleph",!0),ie(re,se,ye,"","\\forall",!0),ie(re,se,ye,"","\\hbar",!0),ie(re,se,ye,"","\\exists",!0),ie(re,se,ye,"","\\nabla",!0),ie(re,se,ye,"","\\flat",!0),ie(re,se,ye,"","\\ell",!0),ie(re,se,ye,"","\\natural",!0),ie(re,se,ye,"","\\clubsuit",!0),ie(re,se,ye,"","\\wp",!0),ie(re,se,ye,"","\\sharp",!0),ie(re,se,ye,"","\\diamondsuit",!0),ie(re,se,ye,"","\\Re",!0),ie(re,se,ye,"","\\heartsuit",!0),ie(re,se,ye,"","\\Im",!0),ie(re,se,ye,"","\\spadesuit",!0),ie(re,se,ye,"","\\S",!0),ie(oe,se,ye,"","\\S"),ie(re,se,ye,"","\\P",!0),ie(oe,se,ye,"","\\P"),ie(re,se,ye,"","\\dag"),ie(oe,se,ye,"","\\dag"),ie(oe,se,ye,"","\\textdagger"),ie(re,se,ye,"","\\ddag"),ie(oe,se,ye,"","\\ddag"),ie(oe,se,ye,"","\\textdaggerdbl"),ie(re,se,ue,"","\\rmoustache",!0),ie(re,se,pe,"","\\lmoustache",!0),ie(re,se,ue,"","\\rgroup",!0),ie(re,se,pe,"","\\lgroup",!0),ie(re,se,ce,"","\\mp",!0),ie(re,se,ce,"","\\ominus",!0),ie(re,se,ce,"","\\uplus",!0),ie(re,se,ce,"","\\sqcap",!0),ie(re,se,ce,"","\\ast"),ie(re,se,ce,"","\\sqcup",!0),ie(re,se,ce,"","\\bigcirc",!0),ie(re,se,ce,"","\\bullet"),ie(re,se,ce,"","\\ddagger"),ie(re,se,ce,"","\\wr",!0),ie(re,se,ce,"","\\amalg"),ie(re,se,ce,"&","\\And"),ie(re,se,me,"","\\longleftarrow",!0),ie(re,se,me,"","\\Leftarrow",!0),ie(re,se,me,"","\\Longleftarrow",!0),ie(re,se,me,"","\\longrightarrow",!0),ie(re,se,me,"","\\Rightarrow",!0),ie(re,se,me,"","\\Longrightarrow",!0),ie(re,se,me,"","\\leftrightarrow",!0),ie(re,se,me,"","\\longleftrightarrow",!0),ie(re,se,me,"","\\Leftrightarrow",!0),ie(re,se,me,"","\\Longleftrightarrow",!0),ie(re,se,me,"","\\mapsto",!0),ie(re,se,me,"","\\longmapsto",!0),ie(re,se,me,"","\\nearrow",!0),ie(re,se,me,"","\\hookleftarrow",!0),ie(re,se,me,"","\\hookrightarrow",!0),ie(re,se,me,"","\\searrow",!0),ie(re,se,me,"","\\leftharpoonup",!0),ie(re,se,me,"","\\rightharpoonup",!0),ie(re,se,me,"","\\swarrow",!0),ie(re,se,me,"","\\leftharpoondown",!0),ie(re,se,me,"","\\rightharpoondown",!0),ie(re,se,me,"","\\nwarrow",!0),ie(re,se,me,"","\\rightleftharpoons",!0),ie(re,ae,me,"","\\nless",!0),ie(re,ae,me,"","\\@nleqslant"),ie(re,ae,me,"","\\@nleqq"),ie(re,ae,me,"","\\lneq",!0),ie(re,ae,me,"","\\lneqq",!0),ie(re,ae,me,"","\\@lvertneqq"),ie(re,ae,me,"","\\lnsim",!0),ie(re,ae,me,"","\\lnapprox",!0),ie(re,ae,me,"","\\nprec",!0),ie(re,ae,me,"","\\npreceq",!0),ie(re,ae,me,"","\\precnsim",!0),ie(re,ae,me,"","\\precnapprox",!0),ie(re,ae,me,"","\\nsim",!0),ie(re,ae,me,"","\\@nshortmid"),ie(re,ae,me,"","\\nmid",!0),ie(re,ae,me,"","\\nvdash",!0),ie(re,ae,me,"","\\nvDash",!0),ie(re,ae,me,"","\\ntriangleleft"),ie(re,ae,me,"","\\ntrianglelefteq",!0),ie(re,ae,me,"","\\subsetneq",!0),ie(re,ae,me,"","\\@varsubsetneq"),ie(re,ae,me,"","\\subsetneqq",!0),ie(re,ae,me,"","\\@varsubsetneqq"),ie(re,ae,me,"","\\ngtr",!0),ie(re,ae,me,"","\\@ngeqslant"),ie(re,ae,me,"","\\@ngeqq"),ie(re,ae,me,"","\\gneq",!0),ie(re,ae,me,"","\\gneqq",!0),ie(re,ae,me,"","\\@gvertneqq"),ie(re,ae,me,"","\\gnsim",!0),ie(re,ae,me,"","\\gnapprox",!0),ie(re,ae,me,"","\\nsucc",!0),ie(re,ae,me,"","\\nsucceq",!0),ie(re,ae,me,"","\\succnsim",!0),ie(re,ae,me,"","\\succnapprox",!0),ie(re,ae,me,"","\\ncong",!0),ie(re,ae,me,"","\\@nshortparallel"),ie(re,ae,me,"","\\nparallel",!0),ie(re,ae,me,"","\\nVDash",!0),ie(re,ae,me,"","\\ntriangleright"),ie(re,ae,me,"","\\ntrianglerighteq",!0),ie(re,ae,me,"","\\@nsupseteqq"),ie(re,ae,me,"","\\supsetneq",!0),ie(re,ae,me,"","\\@varsupsetneq"),ie(re,ae,me,"","\\supsetneqq",!0),ie(re,ae,me,"","\\@varsupsetneqq"),ie(re,ae,me,"","\\nVdash",!0),ie(re,ae,me,"","\\precneqq",!0),ie(re,ae,me,"","\\succneqq",!0),ie(re,ae,me,"","\\@nsubseteqq"),ie(re,ae,ce,"","\\unlhd"),ie(re,ae,ce,"","\\unrhd"),ie(re,ae,me,"","\\nleftarrow",!0),ie(re,ae,me,"","\\nrightarrow",!0),ie(re,ae,me,"","\\nLeftarrow",!0),ie(re,ae,me,"","\\nRightarrow",!0),ie(re,ae,me,"","\\nleftrightarrow",!0),ie(re,ae,me,"","\\nLeftrightarrow",!0),ie(re,ae,me,"","\\vartriangle"),ie(re,ae,ye,"","\\hslash"),ie(re,ae,ye,"","\\triangledown"),ie(re,ae,ye,"","\\lozenge"),ie(re,ae,ye,"","\\circledS"),ie(re,ae,ye,"","\\circledR"),ie(oe,ae,ye,"","\\circledR"),ie(re,ae,ye,"","\\measuredangle",!0),ie(re,ae,ye,"","\\nexists"),ie(re,ae,ye,"","\\mho"),ie(re,ae,ye,"","\\Finv",!0),ie(re,ae,ye,"","\\Game",!0),ie(re,ae,ye,"","\\backprime"),ie(re,ae,ye,"","\\blacktriangle"),ie(re,ae,ye,"","\\blacktriangledown"),ie(re,ae,ye,"","\\blacksquare"),ie(re,ae,ye,"","\\blacklozenge"),ie(re,ae,ye,"","\\bigstar"),ie(re,ae,ye,"","\\sphericalangle",!0),ie(re,ae,ye,"","\\complement",!0),ie(re,ae,ye,"","\\eth",!0),ie(oe,se,ye,"",""),ie(re,ae,ye,"","\\diagup"),ie(re,ae,ye,"","\\diagdown"),ie(re,ae,ye,"","\\square"),ie(re,ae,ye,"","\\Box"),ie(re,ae,ye,"","\\Diamond"),ie(re,ae,ye,"","\\yen",!0),ie(oe,ae,ye,"","\\yen",!0),ie(re,ae,ye,"","\\checkmark",!0),ie(oe,ae,ye,"","\\checkmark"),ie(re,ae,ye,"","\\beth",!0),ie(re,ae,ye,"","\\daleth",!0),ie(re,ae,ye,"","\\gimel",!0),ie(re,ae,ye,"","\\digamma",!0),ie(re,ae,ye,"","\\varkappa"),ie(re,ae,pe,"","\\@ulcorner",!0),ie(re,ae,ue,"","\\@urcorner",!0),ie(re,ae,pe,"","\\@llcorner",!0),ie(re,ae,ue,"","\\@lrcorner",!0),ie(re,ae,me,"","\\leqq",!0),ie(re,ae,me,"","\\leqslant",!0),ie(re,ae,me,"","\\eqslantless",!0),ie(re,ae,me,"","\\lesssim",!0),ie(re,ae,me,"","\\lessapprox",!0),ie(re,ae,me,"","\\approxeq",!0),ie(re,ae,ce,"","\\lessdot"),ie(re,ae,me,"","\\lll",!0),ie(re,ae,me,"","\\lessgtr",!0),ie(re,ae,me,"","\\lesseqgtr",!0),ie(re,ae,me,"","\\lesseqqgtr",!0),ie(re,ae,me,"","\\doteqdot"),ie(re,ae,me,"","\\risingdotseq",!0),ie(re,ae,me,"","\\fallingdotseq",!0),ie(re,ae,me,"","\\backsim",!0),ie(re,ae,me,"","\\backsimeq",!0),ie(re,ae,me,"","\\subseteqq",!0),ie(re,ae,me,"","\\Subset",!0),ie(re,ae,me,"","\\sqsubset",!0),ie(re,ae,me,"","\\preccurlyeq",!0),ie(re,ae,me,"","\\curlyeqprec",!0),ie(re,ae,me,"","\\precsim",!0),ie(re,ae,me,"","\\precapprox",!0),ie(re,ae,me,"","\\vartriangleleft"),ie(re,ae,me,"","\\trianglelefteq"),ie(re,ae,me,"","\\vDash",!0),ie(re,ae,me,"","\\Vvdash",!0),ie(re,ae,me,"","\\smallsmile"),ie(re,ae,me,"","\\smallfrown"),ie(re,ae,me,"","\\bumpeq",!0),ie(re,ae,me,"","\\Bumpeq",!0),ie(re,ae,me,"","\\geqq",!0),ie(re,ae,me,"","\\geqslant",!0),ie(re,ae,me,"","\\eqslantgtr",!0),ie(re,ae,me,"","\\gtrsim",!0),ie(re,ae,me,"","\\gtrapprox",!0),ie(re,ae,ce,"","\\gtrdot"),ie(re,ae,me,"","\\ggg",!0),ie(re,ae,me,"","\\gtrless",!0),ie(re,ae,me,"","\\gtreqless",!0),ie(re,ae,me,"","\\gtreqqless",!0),ie(re,ae,me,"","\\eqcirc",!0),ie(re,ae,me,"","\\circeq",!0),ie(re,ae,me,"","\\triangleq",!0),ie(re,ae,me,"","\\thicksim"),ie(re,ae,me,"","\\thickapprox"),ie(re,ae,me,"","\\supseteqq",!0),ie(re,ae,me,"","\\Supset",!0),ie(re,ae,me,"","\\sqsupset",!0),ie(re,ae,me,"","\\succcurlyeq",!0),ie(re,ae,me,"","\\curlyeqsucc",!0),ie(re,ae,me,"","\\succsim",!0),ie(re,ae,me,"","\\succapprox",!0),ie(re,ae,me,"","\\vartriangleright"),ie(re,ae,me,"","\\trianglerighteq"),ie(re,ae,me,"","\\Vdash",!0),ie(re,ae,me,"","\\shortmid"),ie(re,ae,me,"","\\shortparallel"),ie(re,ae,me,"","\\between",!0),ie(re,ae,me,"","\\pitchfork",!0),ie(re,ae,me,"","\\varpropto"),ie(re,ae,me,"","\\blacktriangleleft"),ie(re,ae,me,"","\\therefore",!0),ie(re,ae,me,"","\\backepsilon"),ie(re,ae,me,"","\\blacktriangleright"),ie(re,ae,me,"","\\because",!0),ie(re,ae,me,"","\\llless"),ie(re,ae,me,"","\\gggtr"),ie(re,ae,ce,"","\\lhd"),ie(re,ae,ce,"","\\rhd"),ie(re,ae,me,"","\\eqsim",!0),ie(re,se,me,"","\\Join"),ie(re,ae,me,"","\\Doteq",!0),ie(re,ae,ce,"","\\dotplus",!0),ie(re,ae,ce,"","\\smallsetminus"),ie(re,ae,ce,"","\\Cap",!0),ie(re,ae,ce,"","\\Cup",!0),ie(re,ae,ce,"","\\doublebarwedge",!0),ie(re,ae,ce,"","\\boxminus",!0),ie(re,ae,ce,"","\\boxplus",!0),ie(re,ae,ce,"","\\divideontimes",!0),ie(re,ae,ce,"","\\ltimes",!0),ie(re,ae,ce,"","\\rtimes",!0),ie(re,ae,ce,"","\\leftthreetimes",!0),ie(re,ae,ce,"","\\rightthreetimes",!0),ie(re,ae,ce,"","\\curlywedge",!0),ie(re,ae,ce,"","\\curlyvee",!0),ie(re,ae,ce,"","\\circleddash",!0),ie(re,ae,ce,"","\\circledast",!0),ie(re,ae,ce,"","\\centerdot"),ie(re,ae,ce,"","\\intercal",!0),ie(re,ae,ce,"","\\doublecap"),ie(re,ae,ce,"","\\doublecup"),ie(re,ae,ce,"","\\boxtimes",!0),ie(re,ae,me,"","\\dashrightarrow",!0),ie(re,ae,me,"","\\dashleftarrow",!0),ie(re,ae,me,"","\\leftleftarrows",!0),ie(re,ae,me,"","\\leftrightarrows",!0),ie(re,ae,me,"","\\Lleftarrow",!0),ie(re,ae,me,"","\\twoheadleftarrow",!0),ie(re,ae,me,"","\\leftarrowtail",!0),ie(re,ae,me,"","\\looparrowleft",!0),ie(re,ae,me,"","\\leftrightharpoons",!0),ie(re,ae,me,"","\\curvearrowleft",!0),ie(re,ae,me,"","\\circlearrowleft",!0),ie(re,ae,me,"","\\Lsh",!0),ie(re,ae,me,"","\\upuparrows",!0),ie(re,ae,me,"","\\upharpoonleft",!0),ie(re,ae,me,"","\\downharpoonleft",!0),ie(re,se,me,"","\\origof",!0),ie(re,se,me,"","\\imageof",!0),ie(re,ae,me,"","\\multimap",!0),ie(re,ae,me,"","\\leftrightsquigarrow",!0),ie(re,ae,me,"","\\rightrightarrows",!0),ie(re,ae,me,"","\\rightleftarrows",!0),ie(re,ae,me,"","\\twoheadrightarrow",!0),ie(re,ae,me,"","\\rightarrowtail",!0),ie(re,ae,me,"","\\looparrowright",!0),ie(re,ae,me,"","\\curvearrowright",!0),ie(re,ae,me,"","\\circlearrowright",!0),ie(re,ae,me,"","\\Rsh",!0),ie(re,ae,me,"","\\downdownarrows",!0),ie(re,ae,me,"","\\upharpoonright",!0),ie(re,ae,me,"","\\downharpoonright",!0),ie(re,ae,me,"","\\rightsquigarrow",!0),ie(re,ae,me,"","\\leadsto"),ie(re,ae,me,"","\\Rrightarrow",!0),ie(re,ae,me,"","\\restriction"),ie(re,se,ye,"","`"),ie(re,se,ye,"$","\\$"),ie(oe,se,ye,"$","\\$"),ie(oe,se,ye,"$","\\textdollar"),ie(re,se,ye,"%","\\%"),ie(oe,se,ye,"%","\\%"),ie(re,se,ye,"_","\\_"),ie(oe,se,ye,"_","\\_"),ie(oe,se,ye,"_","\\textunderscore"),ie(re,se,ye,"","\\angle",!0),ie(re,se,ye,"","\\infty",!0),ie(re,se,ye,"","\\prime"),ie(re,se,ye,"","\\triangle"),ie(re,se,ye,"","\\Gamma",!0),ie(re,se,ye,"","\\Delta",!0),ie(re,se,ye,"","\\Theta",!0),ie(re,se,ye,"","\\Lambda",!0),ie(re,se,ye,"","\\Xi",!0),ie(re,se,ye,"","\\Pi",!0),ie(re,se,ye,"","\\Sigma",!0),ie(re,se,ye,"","\\Upsilon",!0),ie(re,se,ye,"","\\Phi",!0),ie(re,se,ye,"","\\Psi",!0),ie(re,se,ye,"","\\Omega",!0),ie(re,se,ye,"A",""),ie(re,se,ye,"B",""),ie(re,se,ye,"E",""),ie(re,se,ye,"Z",""),ie(re,se,ye,"H",""),ie(re,se,ye,"I",""),ie(re,se,ye,"K",""),ie(re,se,ye,"M",""),ie(re,se,ye,"N",""),ie(re,se,ye,"O",""),ie(re,se,ye,"P",""),ie(re,se,ye,"T",""),ie(re,se,ye,"X",""),ie(re,se,ye,"","\\neg",!0),ie(re,se,ye,"","\\lnot"),ie(re,se,ye,"","\\top"),ie(re,se,ye,"","\\bot"),ie(re,se,ye,"","\\emptyset"),ie(re,ae,ye,"","\\varnothing"),ie(re,se,de,"","\\alpha",!0),ie(re,se,de,"","\\beta",!0),ie(re,se,de,"","\\gamma",!0),ie(re,se,de,"","\\delta",!0),ie(re,se,de,"","\\epsilon",!0),ie(re,se,de,"","\\zeta",!0),ie(re,se,de,"","\\eta",!0),ie(re,se,de,"","\\theta",!0),ie(re,se,de,"","\\iota",!0),ie(re,se,de,"","\\kappa",!0),ie(re,se,de,"","\\lambda",!0),ie(re,se,de,"","\\mu",!0),ie(re,se,de,"","\\nu",!0),ie(re,se,de,"","\\xi",!0),ie(re,se,de,"","\\omicron",!0),ie(re,se,de,"","\\pi",!0),ie(re,se,de,"","\\rho",!0),ie(re,se,de,"","\\sigma",!0),ie(re,se,de,"","\\tau",!0),ie(re,se,de,"","\\upsilon",!0),ie(re,se,de,"","\\phi",!0),ie(re,se,de,"","\\chi",!0),ie(re,se,de,"","\\psi",!0),ie(re,se,de,"","\\omega",!0),ie(re,se,de,"","\\varepsilon",!0),ie(re,se,de,"","\\vartheta",!0),ie(re,se,de,"","\\varpi",!0),ie(re,se,de,"","\\varrho",!0),ie(re,se,de,"","\\varsigma",!0),ie(re,se,de,"","\\varphi",!0),ie(re,se,ce,"","*",!0),ie(re,se,ce,"+","+"),ie(re,se,ce,"","-",!0),ie(re,se,ce,"","\\cdot",!0),ie(re,se,ce,"","\\circ"),ie(re,se,ce,"","\\div",!0),ie(re,se,ce,"","\\pm",!0),ie(re,se,ce,"","\\times",!0),ie(re,se,ce,"","\\cap",!0),ie(re,se,ce,"","\\cup",!0),ie(re,se,ce,"","\\setminus"),ie(re,se,ce,"","\\land"),ie(re,se,ce,"","\\lor"),ie(re,se,ce,"","\\wedge",!0),ie(re,se,ce,"","\\vee",!0),ie(re,se,ye,"","\\surd"),ie(re,se,pe,"","\\langle",!0),ie(re,se,pe,"","\\lvert"),ie(re,se,pe,"","\\lVert"),ie(re,se,ue,"?","?"),ie(re,se,ue,"!","!"),ie(re,se,ue,"","\\rangle",!0),ie(re,se,ue,"","\\rvert"),ie(re,se,ue,"","\\rVert"),ie(re,se,me,"=","="),ie(re,se,me,":",":"),ie(re,se,me,"","\\approx",!0),ie(re,se,me,"","\\cong",!0),ie(re,se,me,"","\\ge"),ie(re,se,me,"","\\geq",!0),ie(re,se,me,"","\\gets"),ie(re,se,me,">","\\gt",!0),ie(re,se,me,"","\\in",!0),ie(re,se,me,"","\\@not"),ie(re,se,me,"","\\subset",!0),ie(re,se,me,"","\\supset",!0),ie(re,se,me,"","\\subseteq",!0),ie(re,se,me,"","\\supseteq",!0),ie(re,ae,me,"","\\nsubseteq",!0),ie(re,ae,me,"","\\nsupseteq",!0),ie(re,se,me,"","\\models"),ie(re,se,me,"","\\leftarrow",!0),ie(re,se,me,"","\\le"),ie(re,se,me,"","\\leq",!0),ie(re,se,me,"<","\\lt",!0),ie(re,se,me,"","\\rightarrow",!0),ie(re,se,me,"","\\to"),ie(re,ae,me,"","\\ngeq",!0),ie(re,ae,me,"","\\nleq",!0),ie(re,se,ve,"","\\ "),ie(re,se,ve,"","\\space"),ie(re,se,ve,"","\\nobreakspace"),ie(oe,se,ve,"","\\ "),ie(oe,se,ve,""," "),ie(oe,se,ve,"","\\space"),ie(oe,se,ve,"","\\nobreakspace"),ie(re,se,ve,null,"\\nobreak"),ie(re,se,ve,null,"\\allowbreak"),ie(re,se,ge,",",","),ie(re,se,ge,";",";"),ie(re,ae,ce,"","\\barwedge",!0),ie(re,ae,ce,"","\\veebar",!0),ie(re,se,ce,"","\\odot",!0),ie(re,se,ce,"","\\oplus",!0),ie(re,se,ce,"","\\otimes",!0),ie(re,se,ye,"","\\partial",!0),ie(re,se,ce,"","\\oslash",!0),ie(re,ae,ce,"","\\circledcirc",!0),ie(re,ae,ce,"","\\boxdot",!0),ie(re,se,ce,"","\\bigtriangleup"),ie(re,se,ce,"","\\bigtriangledown"),ie(re,se,ce,"","\\dagger"),ie(re,se,ce,"","\\diamond"),ie(re,se,ce,"","\\star"),ie(re,se,ce,"","\\triangleleft"),ie(re,se,ce,"","\\triangleright"),ie(re,se,pe,"{","\\{"),ie(oe,se,ye,"{","\\{"),ie(oe,se,ye,"{","\\textbraceleft"),ie(re,se,ue,"}","\\}"),ie(oe,se,ye,"}","\\}"),ie(oe,se,ye,"}","\\textbraceright"),ie(re,se,pe,"{","\\lbrace"),ie(re,se,ue,"}","\\rbrace"),ie(re,se,pe,"[","\\lbrack",!0),ie(oe,se,ye,"[","\\lbrack",!0),ie(re,se,ue,"]","\\rbrack",!0),ie(oe,se,ye,"]","\\rbrack",!0),ie(re,se,pe,"(","\\lparen",!0),ie(re,se,ue,")","\\rparen",!0),ie(oe,se,ye,"<","\\textless",!0),ie(oe,se,ye,">","\\textgreater",!0),ie(re,se,pe,"","\\lfloor",!0),ie(re,se,ue,"","\\rfloor",!0),ie(re,se,pe,"","\\lceil",!0),ie(re,se,ue,"","\\rceil",!0),ie(re,se,ye,"\\","\\backslash"),ie(re,se,ye,"","|"),ie(re,se,ye,"","\\vert"),ie(oe,se,ye,"|","\\textbar",!0),ie(re,se,ye,"","\\|"),ie(re,se,ye,"","\\Vert"),ie(oe,se,ye,"","\\textbardbl"),ie(oe,se,ye,"~","\\textasciitilde"),ie(oe,se,ye,"\\","\\textbackslash"),ie(oe,se,ye,"^","\\textasciicircum"),ie(re,se,me,"","\\uparrow",!0),ie(re,se,me,"","\\Uparrow",!0),ie(re,se,me,"","\\downarrow",!0),ie(re,se,me,"","\\Downarrow",!0),ie(re,se,me,"","\\updownarrow",!0),ie(re,se,me,"","\\Updownarrow",!0),ie(re,se,fe,"","\\coprod"),ie(re,se,fe,"","\\bigvee"),ie(re,se,fe,"","\\bigwedge"),ie(re,se,fe,"","\\biguplus"),ie(re,se,fe,"","\\bigcap"),ie(re,se,fe,"","\\bigcup"),ie(re,se,fe,"","\\int"),ie(re,se,fe,"","\\intop"),ie(re,se,fe,"","\\iint"),ie(re,se,fe,"","\\iiint"),ie(re,se,fe,"","\\prod"),ie(re,se,fe,"","\\sum"),ie(re,se,fe,"","\\bigotimes"),ie(re,se,fe,"","\\bigoplus"),ie(re,se,fe,"","\\bigodot"),ie(re,se,fe,"","\\oint"),ie(re,se,fe,"","\\oiint"),ie(re,se,fe,"","\\oiiint"),ie(re,se,fe,"","\\bigsqcup"),ie(re,se,fe,"","\\smallint"),ie(oe,se,he,"","\\textellipsis"),ie(re,se,he,"","\\mathellipsis"),ie(oe,se,he,"","\\ldots",!0),ie(re,se,he,"","\\ldots",!0),ie(re,se,he,"","\\@cdots",!0),ie(re,se,he,"","\\ddots",!0),ie(re,se,ye,"","\\varvdots"),ie(re,se,le,"","\\acute"),ie(re,se,le,"","\\grave"),ie(re,se,le,"","\\ddot"),ie(re,se,le,"~","\\tilde"),ie(re,se,le,"","\\bar"),ie(re,se,le,"","\\breve"),ie(re,se,le,"","\\check"),ie(re,se,le,"^","\\hat"),ie(re,se,le,"","\\vec"),ie(re,se,le,"","\\dot"),ie(re,se,le,"","\\mathring"),ie(re,se,de,"","\\@imath"),ie(re,se,de,"","\\@jmath"),ie(re,se,ye,"",""),ie(re,se,ye,"",""),ie(oe,se,ye,"","\\i",!0),ie(oe,se,ye,"","\\j",!0),ie(oe,se,ye,"","\\ss",!0),ie(oe,se,ye,"","\\ae",!0),ie(oe,se,ye,"","\\oe",!0),ie(oe,se,ye,"","\\o",!0),ie(oe,se,ye,"","\\AE",!0),ie(oe,se,ye,"","\\OE",!0),ie(oe,se,ye,"","\\O",!0),ie(oe,se,le,"","\\'"),ie(oe,se,le,"","\\`"),ie(oe,se,le,"","\\^"),ie(oe,se,le,"","\\~"),ie(oe,se,le,"","\\="),ie(oe,se,le,"","\\u"),ie(oe,se,le,"","\\."),ie(oe,se,le,"","\\c"),ie(oe,se,le,"","\\r"),ie(oe,se,le,"","\\v"),ie(oe,se,le,"",'\\"'),ie(oe,se,le,"","\\H"),ie(oe,se,le,"","\\textcircled");var be={"--":!0,"---":!0,"``":!0,"''":!0};ie(oe,se,ye,"","--",!0),ie(oe,se,ye,"","\\textendash"),ie(oe,se,ye,"","---",!0),ie(oe,se,ye,"","\\textemdash"),ie(oe,se,ye,"","`",!0),ie(oe,se,ye,"","\\textquoteleft"),ie(oe,se,ye,"","'",!0),ie(oe,se,ye,"","\\textquoteright"),ie(oe,se,ye,"","``",!0),ie(oe,se,ye,"","\\textquotedblleft"),ie(oe,se,ye,"","''",!0),ie(oe,se,ye,"","\\textquotedblright"),ie(re,se,ye,"","\\degree",!0),ie(oe,se,ye,"","\\degree"),ie(oe,se,ye,"","\\textdegree",!0),ie(re,se,ye,"","\\pounds"),ie(re,se,ye,"","\\mathsterling",!0),ie(oe,se,ye,"","\\pounds"),ie(oe,se,ye,"","\\textsterling",!0),ie(re,ae,ye,"","\\maltese"),ie(oe,ae,ye,"","\\maltese");for(var _e='0123456789/@."',we=0;we<_e.length;we++){var Ce=_e.charAt(we);ie(re,se,ye,Ce,Ce)}for(var xe='0123456789!@*()-=+";:?/.,',ke=0;ke<xe.length;ke++){var Se=xe.charAt(ke);ie(oe,se,ye,Se,Se)}for(var De="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",Ee=0;Ee<De.length;Ee++){var Le=De.charAt(Ee);ie(re,se,de,Le,Le),ie(oe,se,ye,Le,Le)}ie(re,ae,ye,"C",""),ie(oe,ae,ye,"C",""),ie(re,ae,ye,"H",""),ie(oe,ae,ye,"H",""),ie(re,ae,ye,"N",""),ie(oe,ae,ye,"N",""),ie(re,ae,ye,"P",""),ie(oe,ae,ye,"P",""),ie(re,ae,ye,"Q",""),ie(oe,ae,ye,"Q",""),ie(re,ae,ye,"R",""),ie(oe,ae,ye,"R",""),ie(re,ae,ye,"Z",""),ie(oe,ae,ye,"Z",""),ie(re,se,de,"h",""),ie(oe,se,de,"h","");for(var Te="",Ne=0;Ne<De.length;Ne++){var Me=De.charAt(Ne);ie(re,se,de,Me,Te=String.fromCharCode(55349,56320+Ne)),ie(oe,se,ye,Me,Te),ie(re,se,de,Me,Te=String.fromCharCode(55349,56372+Ne)),ie(oe,se,ye,Me,Te),ie(re,se,de,Me,Te=String.fromCharCode(55349,56424+Ne)),ie(oe,se,ye,Me,Te),ie(re,se,de,Me,Te=String.fromCharCode(55349,56580+Ne)),ie(oe,se,ye,Me,Te),ie(re,se,de,Me,Te=String.fromCharCode(55349,56736+Ne)),ie(oe,se,ye,Me,Te),ie(re,se,de,Me,Te=String.fromCharCode(55349,56788+Ne)),ie(oe,se,ye,Me,Te),ie(re,se,de,Me,Te=String.fromCharCode(55349,56840+Ne)),ie(oe,se,ye,Me,Te),ie(re,se,de,Me,Te=String.fromCharCode(55349,56944+Ne)),ie(oe,se,ye,Me,Te),Ne<26&&(ie(re,se,de,Me,Te=String.fromCharCode(55349,56632+Ne)),ie(oe,se,ye,Me,Te),ie(re,se,de,Me,Te=String.fromCharCode(55349,56476+Ne)),ie(oe,se,ye,Me,Te))}ie(re,se,de,"k",Te=String.fromCharCode(55349,56668)),ie(oe,se,ye,"k",Te);for(var Ae=0;Ae<10;Ae++){var Ie=Ae.toString();ie(re,se,de,Ie,Te=String.fromCharCode(55349,57294+Ae)),ie(oe,se,ye,Ie,Te),ie(re,se,de,Ie,Te=String.fromCharCode(55349,57314+Ae)),ie(oe,se,ye,Ie,Te),ie(re,se,de,Ie,Te=String.fromCharCode(55349,57324+Ae)),ie(oe,se,ye,Ie,Te),ie(re,se,de,Ie,Te=String.fromCharCode(55349,57334+Ae)),ie(oe,se,ye,Ie,Te)}for(var Oe="",Fe=0;Fe<Oe.length;Fe++){var Re=Oe.charAt(Fe);ie(re,se,de,Re,Re),ie(oe,se,ye,Re,Re)}var Pe=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Be=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],je=function(e,t,n){return ne[n][e]&&ne[n][e].replace&&(e=ne[n][e].replace),{value:e,metrics:L(e,t,n)}},ze=function(e,t,n,i,r){var o,s=je(e,t,n),a=s.metrics;if(e=s.value,a){var l=a.italic;("text"===n||i&&"mathit"===i.font)&&(l=0),o=new Y(e,a.height,a.depth,l,a.skew,a.width,r)}else"undefined"!=typeof console&&console.warn("No character metrics for '"+e+"' in style '"+t+"' and mode '"+n+"'"),o=new Y(e,0,0,0,0,0,r);if(i){o.maxFontSize=i.sizeMultiplier,i.style.isTight()&&o.classes.push("mtight");var c=i.getColor();c&&(o.style.color=c)}return o},Ve=function(e,t){if(z(e.classes)!==z(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(1===e.classes.length){var n=e.classes[0];if("mbin"===n||"mord"===n)return!1}for(var i in e.style)if(e.style.hasOwnProperty(i)&&e.style[i]!==t.style[i])return!1;for(var r in t.style)if(t.style.hasOwnProperty(r)&&e.style[r]!==t.style[r])return!1;return!0},We=function(e){for(var t=0,n=0,i=0,r=0;r<e.children.length;r++){var o=e.children[r];o.height>t&&(t=o.height),o.depth>n&&(n=o.depth),o.maxFontSize>i&&(i=o.maxFontSize)}e.height=t,e.depth=n,e.maxFontSize=i},He=function(e,t,n,i){var r=new U(e,t,n,i);return We(r),r},Ue=function(e,t,n,i){return new U(e,t,n,i)},$e=function(e){var t=new k(e);return We(t),t},qe=function(e,t,n){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}return i+"-"+("textbf"===t&&"textit"===n?"BoldItalic":"textbf"===t?"Bold":"textit"===t?"Italic":"Regular")},Ke={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Ye={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Ge={fontMap:Ke,makeSymbol:ze,mathsym:function(e,t,n,i){return void 0===i&&(i=[]),"boldsymbol"===n.font&&je(e,"Main-Bold",t).metrics?ze(e,"Main-Bold",t,n,i.concat(["mathbf"])):"\\"===e||"main"===ne[t][e].font?ze(e,"Main-Regular",t,n,i):ze(e,"AMS-Regular",t,n,i.concat(["amsrm"]))},makeSpan:He,makeSvgSpan:Ue,makeLineSpan:function(e,t,n){var i=He([e],[],t);return i.height=Math.max(n||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),i.style.borderBottomWidth=j(i.height),i.maxFontSize=1,i},makeAnchor:function(e,t,n,i){var r=new $(e,t,n,i);return We(r),r},makeFragment:$e,wrapFragment:function(e,t){return e instanceof k?He([],[e],t):e},makeVList:function(e,t){for(var n=function(e){if("individualShift"===e.positionType){for(var t=e.children,n=[t[0]],i=-t[0].shift-t[0].elem.depth,r=i,o=1;o<t.length;o++){var s=-t[o].shift-r-t[o].elem.depth,a=s-(t[o-1].elem.height+t[o-1].elem.depth);r+=s,n.push({type:"kern",size:a}),n.push(t[o])}return{children:n,depth:i}}var l;if("top"===e.positionType){for(var c=e.positionData,u=0;u<e.children.length;u++){var h=e.children[u];c-="kern"===h.type?h.size:h.elem.height+h.elem.depth}l=c}else if("bottom"===e.positionType)l=-e.positionData;else{var d=e.children[0];if("elem"!==d.type)throw new Error('First child must have type "elem".');if("shift"===e.positionType)l=-d.elem.depth-e.positionData;else{if("firstBaseline"!==e.positionType)throw new Error("Invalid positionType "+e.positionType+".");l=-d.elem.depth}}return{children:e.children,depth:l}}(e),i=n.children,r=n.depth,o=0,s=0;s<i.length;s++){var a=i[s];if("elem"===a.type){var l=a.elem;o=Math.max(o,l.maxFontSize,l.height)}}o+=2;var c=He(["pstrut"],[]);c.style.height=j(o);for(var u=[],h=r,d=r,f=r,p=0;p<i.length;p++){var g=i[p];if("kern"===g.type)f+=g.size;else{var m=g.elem,v=g.wrapperClasses||[],y=g.wrapperStyle||{},b=He(v,[c,m],void 0,y);b.style.top=j(-o-f-m.depth),g.marginLeft&&(b.style.marginLeft=g.marginLeft),g.marginRight&&(b.style.marginRight=g.marginRight),u.push(b),f+=m.height+m.depth}h=Math.min(h,f),d=Math.max(d,f)}var _,w=He(["vlist"],u);if(w.style.height=j(d),h<0){var C=He([],[]),x=He(["vlist"],[C]);x.style.height=j(-h);var k=He(["vlist-s"],[new Y("")]);_=[He(["vlist-r"],[w,k]),He(["vlist-r"],[x])]}else _=[He(["vlist-r"],[w])];var S=He(["vlist-t"],_);return 2===_.length&&S.classes.push("vlist-t2"),S.height=d,S.depth=-h,S},makeOrd:function(e,t,n){var r=e.mode,o=e.text,s=["mord"],a="math"===r||"text"===r&&t.font,l=a?t.font:t.fontFamily;if(55349===o.charCodeAt(0)){var c=function(e,t){var n=1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536,r="math"===t?0:1;if(119808<=n&&n<120484){var o=Math.floor((n-119808)/26);return[Pe[o][2],Pe[o][r]]}if(120782<=n&&n<=120831){var s=Math.floor((n-120782)/10);return[Be[s][2],Be[s][r]]}if(120485===n||120486===n)return[Pe[0][2],Pe[0][r]];if(120486<n&&n<120782)return["",""];throw new i("Unsupported character: "+e)}(o,r),u=c[0],h=c[1];return ze(o,u,r,t,s.concat(h))}if(l){var d,f;if("boldsymbol"===l){var p=function(e,t,n,i,r){return"textord"!==r&&je(e,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}}(o,r,0,0,n);d=p.fontName,f=[p.fontClass]}else a?(d=Ke[l].fontName,f=[l]):(d=qe(l,t.fontWeight,t.fontShape),f=[l,t.fontWeight,t.fontShape]);if(je(o,d,r).metrics)return ze(o,d,r,t,s.concat(f));if(be.hasOwnProperty(o)&&"Typewriter"===d.substr(0,10)){for(var g=[],m=0;m<o.length;m++)g.push(ze(o[m],d,r,t,s.concat(f)));return $e(g)}}if("mathord"===n)return ze(o,"Math-Italic",r,t,s.concat(["mathnormal"]));if("textord"===n){var v=ne[r][o]&&ne[r][o].font;if("ams"===v){var y=qe("amsrm",t.fontWeight,t.fontShape);return ze(o,y,r,t,s.concat("amsrm",t.fontWeight,t.fontShape))}if("main"!==v&&v){var b=qe(v,t.fontWeight,t.fontShape);return ze(o,b,r,t,s.concat(b,t.fontWeight,t.fontShape))}var _=qe("textrm",t.fontWeight,t.fontShape);return ze(o,_,r,t,s.concat(t.fontWeight,t.fontShape))}throw new Error("unexpected type: "+n+" in makeOrd")},makeGlue:function(e,t){var n=He(["mspace"],[],t),i=B(e,t);return n.style.marginRight=j(i),n},staticSvg:function(e,t){var n=Ye[e],i=n[0],r=n[1],o=n[2],s=new X(i),a=new G([s],{width:j(r),height:j(o),style:"width:"+j(r),viewBox:"0 0 "+1e3*r+" "+1e3*o,preserveAspectRatio:"xMinYMin"}),l=Ue(["overlay"],[a],t);return l.height=o,l.style.height=j(o),l.style.width=j(r),l},svgData:Ye,tryCombineChars:function(e){for(var t=0;t<e.length-1;t++){var n=e[t],i=e[t+1];n instanceof Y&&i instanceof Y&&Ve(n,i)&&(n.text+=i.text,n.height=Math.max(n.height,i.height),n.depth=Math.max(n.depth,i.depth),n.italic=i.italic,e.splice(t+1,1),t--)}return e}},Xe={number:3,unit:"mu"},Ze={number:4,unit:"mu"},Je={number:5,unit:"mu"},Qe={mord:{mop:Xe,mbin:Ze,mrel:Je,minner:Xe},mop:{mord:Xe,mop:Xe,mrel:Je,minner:Xe},mbin:{mord:Ze,mop:Ze,mopen:Ze,minner:Ze},mrel:{mord:Je,mop:Je,mopen:Je,minner:Je},mopen:{},mclose:{mop:Xe,mbin:Ze,mrel:Je,minner:Xe},mpunct:{mord:Xe,mop:Xe,mrel:Je,mopen:Xe,mclose:Xe,mpunct:Xe,minner:Xe},minner:{mord:Xe,mop:Xe,mbin:Ze,mrel:Je,mopen:Xe,mpunct:Xe,minner:Xe}},et={mord:{mop:Xe},mop:{mord:Xe,mop:Xe},mbin:{},mrel:{},mopen:{},mclose:{mop:Xe},mpunct:{},minner:{mop:Xe}},tt={},nt={},it={};function rt(e){for(var t=e.type,n=e.names,i=e.props,r=e.handler,o=e.htmlBuilder,s=e.mathmlBuilder,a={type:t,numArgs:i.numArgs,argTypes:i.argTypes,allowedInArgument:!!i.allowedInArgument,allowedInText:!!i.allowedInText,allowedInMath:void 0===i.allowedInMath||i.allowedInMath,numOptionalArgs:i.numOptionalArgs||0,infix:!!i.infix,primitive:!!i.primitive,handler:r},l=0;l<n.length;++l)tt[n[l]]=a;t&&(o&&(nt[t]=o),s&&(it[t]=s))}function ot(e){rt({type:e.type,names:[],props:{numArgs:0},handler:function(){throw new Error("Should never be called.")},htmlBuilder:e.htmlBuilder,mathmlBuilder:e.mathmlBuilder})}var st=function(e){return"ordgroup"===e.type&&1===e.body.length?e.body[0]:e},at=function(e){return"ordgroup"===e.type?e.body:[e]},lt=Ge.makeSpan,ct=["leftmost","mbin","mopen","mrel","mop","mpunct"],ut=["rightmost","mrel","mclose","mpunct"],ht={display:y.DISPLAY,text:y.TEXT,script:y.SCRIPT,scriptscript:y.SCRIPTSCRIPT},dt={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},ft=function(e,t,n,i){void 0===i&&(i=[null,null]);for(var r=[],o=0;o<e.length;o++){var s=bt(e[o],t);if(s instanceof k){var a=s.children;r.push.apply(r,a)}else r.push(s)}if(Ge.tryCombineChars(r),!n)return r;var c=t;if(1===e.length){var u=e[0];"sizing"===u.type?c=t.havingSize(u.size):"styling"===u.type&&(c=t.havingStyle(ht[u.style]))}var h=lt([i[0]||"leftmost"],[],t),d=lt([i[1]||"rightmost"],[],t),f="root"===n;return pt(r,(function(e,t){var n=t.classes[0],i=e.classes[0];"mbin"===n&&l.contains(ut,i)?t.classes[0]="mord":"mbin"===i&&l.contains(ct,n)&&(e.classes[0]="mord")}),{node:h},d,f),pt(r,(function(e,t){var n=vt(t),i=vt(e),r=n&&i?e.hasClass("mtight")?et[n][i]:Qe[n][i]:null;if(r)return Ge.makeGlue(r,c)}),{node:h},d,f),r},pt=function e(t,n,i,r,o){r&&t.push(r);for(var s=0;s<t.length;s++){var a=t[s],l=gt(a);if(l)e(l.children,n,i,null,o);else{var c=!a.hasClass("mspace");if(c){var u=n(a,i.node);u&&(i.insertAfter?i.insertAfter(u):(t.unshift(u),s++))}c?i.node=a:o&&a.hasClass("newline")&&(i.node=lt(["leftmost"])),i.insertAfter=function(e){return function(n){t.splice(e+1,0,n),s++}}(s)}}r&&t.pop()},gt=function(e){return e instanceof k||e instanceof $||e instanceof U&&e.hasClass("enclosing")?e:null},mt=function e(t,n){var i=gt(t);if(i){var r=i.children;if(r.length){if("right"===n)return e(r[r.length-1],"right");if("left"===n)return e(r[0],"left")}}return t},vt=function(e,t){return e?(t&&(e=mt(e,t)),dt[e.classes[0]]||null):null},yt=function(e,t){var n=["nulldelimiter"].concat(e.baseSizingClasses());return lt(t.concat(n))},bt=function(e,t,n){if(!e)return lt();if(nt[e.type]){var r=nt[e.type](e,t);if(n&&t.size!==n.size){r=lt(t.sizingClasses(n),[r],t);var o=t.sizeMultiplier/n.sizeMultiplier;r.height*=o,r.depth*=o}return r}throw new i("Got group of unknown type: '"+e.type+"'")};function _t(e,t){var n=lt(["base"],e,t),i=lt(["strut"]);return i.style.height=j(n.height+n.depth),n.depth&&(i.style.verticalAlign=j(-n.depth)),n.children.unshift(i),n}function wt(e,t){var n=null;1===e.length&&"tag"===e[0].type&&(n=e[0].tag,e=e[0].body);var i,r=ft(e,t,"root");2===r.length&&r[1].hasClass("tag")&&(i=r.pop());for(var o,s=[],a=[],l=0;l<r.length;l++)if(a.push(r[l]),r[l].hasClass("mbin")||r[l].hasClass("mrel")||r[l].hasClass("allowbreak")){for(var c=!1;l<r.length-1&&r[l+1].hasClass("mspace")&&!r[l+1].hasClass("newline");)l++,a.push(r[l]),r[l].hasClass("nobreak")&&(c=!0);c||(s.push(_t(a,t)),a=[])}else r[l].hasClass("newline")&&(a.pop(),a.length>0&&(s.push(_t(a,t)),a=[]),s.push(r[l]));a.length>0&&s.push(_t(a,t)),n?((o=_t(ft(n,t,!0))).classes=["tag"],s.push(o)):i&&s.push(i);var u=lt(["katex-html"],s);if(u.setAttribute("aria-hidden","true"),o){var h=o.children[0];h.style.height=j(u.height+u.depth),u.depth&&(h.style.verticalAlign=j(-u.depth))}return u}function Ct(e){return new k(e)}var xt=function(){function e(e,t,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=t||[],this.classes=n||[]}var t=e.prototype;return t.setAttribute=function(e,t){this.attributes[e]=t},t.getAttribute=function(e){return this.attributes[e]},t.toNode=function(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);this.classes.length>0&&(e.className=z(this.classes));for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e},t.toMarkup=function(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=l.escape(this.attributes[t]),e+='"');this.classes.length>0&&(e+=' class ="'+l.escape(z(this.classes))+'"'),e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</"+this.type+">"},t.toText=function(){return this.children.map((function(e){return e.toText()})).join("")},e}(),kt=function(){function e(e){this.text=void 0,this.text=e}var t=e.prototype;return t.toNode=function(){return document.createTextNode(this.text)},t.toMarkup=function(){return l.escape(this.toText())},t.toText=function(){return this.text},e}(),St={MathNode:xt,TextNode:kt,SpaceNode:function(){function e(e){this.width=void 0,this.character=void 0,this.width=e,this.character=e>=.05555&&e<=.05556?"":e>=.1666&&e<=.1667?"":e>=.2222&&e<=.2223?"":e>=.2777&&e<=.2778?"":e>=-.05556&&e<=-.05555?"":e>=-.1667&&e<=-.1666?"":e>=-.2223&&e<=-.2222?"":e>=-.2778&&e<=-.2777?"":null}var t=e.prototype;return t.toNode=function(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",j(this.width)),e},t.toMarkup=function(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+j(this.width)+'"/>'},t.toText=function(){return this.character?this.character:" "},e}(),newDocumentFragment:Ct},Dt=function(e,t,n){return!ne[t][e]||!ne[t][e].replace||55349===e.charCodeAt(0)||be.hasOwnProperty(e)&&n&&(n.fontFamily&&"tt"===n.fontFamily.substr(4,2)||n.font&&"tt"===n.font.substr(4,2))||(e=ne[t][e].replace),new St.TextNode(e)},Et=function(e){return 1===e.length?e[0]:new St.MathNode("mrow",e)},Lt=function(e,t){if("texttt"===t.fontFamily)return"monospace";if("textsf"===t.fontFamily)return"textit"===t.fontShape&&"textbf"===t.fontWeight?"sans-serif-bold-italic":"textit"===t.fontShape?"sans-serif-italic":"textbf"===t.fontWeight?"bold-sans-serif":"sans-serif";if("textit"===t.fontShape&&"textbf"===t.fontWeight)return"bold-italic";if("textit"===t.fontShape)return"italic";if("textbf"===t.fontWeight)return"bold";var n=t.font;if(!n||"mathnormal"===n)return null;var i=e.mode;if("mathit"===n)return"italic";if("boldsymbol"===n)return"textord"===e.type?"bold":"bold-italic";if("mathbf"===n)return"bold";if("mathbb"===n)return"double-struck";if("mathfrak"===n)return"fraktur";if("mathscr"===n||"mathcal"===n)return"script";if("mathsf"===n)return"sans-serif";if("mathtt"===n)return"monospace";var r=e.text;return l.contains(["\\imath","\\jmath"],r)?null:(ne[i][r]&&ne[i][r].replace&&(r=ne[i][r].replace),L(r,Ge.fontMap[n].fontName,i)?Ge.fontMap[n].variant:null)},Tt=function(e,t,n){if(1===e.length){var i=Mt(e[0],t);return n&&i instanceof xt&&"mo"===i.type&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var r,o=[],s=0;s<e.length;s++){var a=Mt(e[s],t);if(a instanceof xt&&r instanceof xt){if("mtext"===a.type&&"mtext"===r.type&&a.getAttribute("mathvariant")===r.getAttribute("mathvariant")){var l;(l=r.children).push.apply(l,a.children);continue}if("mn"===a.type&&"mn"===r.type){var c;(c=r.children).push.apply(c,a.children);continue}if("mi"===a.type&&1===a.children.length&&"mn"===r.type){var u=a.children[0];if(u instanceof kt&&"."===u.text){var h;(h=r.children).push.apply(h,a.children);continue}}else if("mi"===r.type&&1===r.children.length){var d=r.children[0];if(d instanceof kt&&""===d.text&&("mo"===a.type||"mi"===a.type||"mn"===a.type)){var f=a.children[0];f instanceof kt&&f.text.length>0&&(f.text=f.text.slice(0,1)+""+f.text.slice(1),o.pop())}}}o.push(a),r=a}return o},Nt=function(e,t,n){return Et(Tt(e,t,n))},Mt=function(e,t){if(!e)return new St.MathNode("mrow");if(it[e.type])return it[e.type](e,t);throw new i("Got group of unknown type: '"+e.type+"'")};function At(e,t,n,i,r){var o,s=Tt(e,n);o=1===s.length&&s[0]instanceof xt&&l.contains(["mrow","mtable"],s[0].type)?s[0]:new St.MathNode("mrow",s);var a=new St.MathNode("annotation",[new St.TextNode(t)]);a.setAttribute("encoding","application/x-tex");var c=new St.MathNode("semantics",[o,a]),u=new St.MathNode("math",[c]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),i&&u.setAttribute("display","block");var h=r?"katex":"katex-mathml";return Ge.makeSpan([h],[u])}var It=function(e){return new O({style:e.displayMode?y.DISPLAY:y.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},Ot=function(e,t){if(t.displayMode){var n=["katex-display"];t.leqno&&n.push("leqno"),t.fleqn&&n.push("fleqn"),e=Ge.makeSpan(n,[e])}return e},Ft={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},Rt={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Pt=function(e,t,n,i,r){var o,s=e.height+e.depth+n+i;if(/fbox|color|angl/.test(t)){if(o=Ge.makeSpan(["stretchy",t],[],r),"fbox"===t){var a=r.color&&r.getColor();a&&(o.style.borderColor=a)}}else{var l=[];/^[bx]cancel$/.test(t)&&l.push(new Z({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&l.push(new Z({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var c=new G(l,{width:"100%",height:j(s)});o=Ge.makeSvgSpan([],[c],r)}return o.height=s,o.style.height=j(s),o},Bt=function(e){var t=new St.MathNode("mo",[new St.TextNode(Ft[e.replace(/^\\/,"")])]);return t.setAttribute("stretchy","true"),t},jt=function(e,t){var n=function(){var n=4e5,i=e.label.substr(1);if(l.contains(["widehat","widecheck","widetilde","utilde"],i)){var r,o,s,a="ordgroup"===(p=e.base).type?p.body.length:1;if(a>5)"widehat"===i||"widecheck"===i?(r=420,n=2364,s=.42,o=i+"4"):(r=312,n=2340,s=.34,o="tilde4");else{var c=[1,1,2,2,3,3][a];"widehat"===i||"widecheck"===i?(n=[0,1062,2364,2364,2364][c],r=[0,239,300,360,420][c],s=[0,.24,.3,.3,.36,.42][c],o=i+c):(n=[0,600,1033,2339,2340][c],r=[0,260,286,306,312][c],s=[0,.26,.286,.3,.306,.34][c],o="tilde"+c)}var u=new X(o),h=new G([u],{width:"100%",height:j(s),viewBox:"0 0 "+n+" "+r,preserveAspectRatio:"none"});return{span:Ge.makeSvgSpan([],[h],t),minWidth:0,height:s}}var d,f,p,g=[],m=Rt[i],v=m[0],y=m[1],b=m[2],_=b/1e3,w=v.length;if(1===w)d=["hide-tail"],f=[m[3]];else if(2===w)d=["halfarrow-left","halfarrow-right"],f=["xMinYMin","xMaxYMin"];else{if(3!==w)throw new Error("Correct katexImagesData or update code here to support\n                    "+w+" children.");d=["brace-left","brace-center","brace-right"],f=["xMinYMin","xMidYMin","xMaxYMin"]}for(var C=0;C<w;C++){var x=new X(v[C]),k=new G([x],{width:"400em",height:j(_),viewBox:"0 0 "+n+" "+b,preserveAspectRatio:f[C]+" slice"}),S=Ge.makeSvgSpan([d[C]],[k],t);if(1===w)return{span:S,minWidth:y,height:_};S.style.height=j(_),g.push(S)}return{span:Ge.makeSpan(["stretchy"],g,t),minWidth:y,height:_}}(),i=n.span,r=n.minWidth,o=n.height;return i.height=o,i.style.height=j(o),r>0&&(i.style.minWidth=j(r)),i};function zt(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function Vt(e){var t=Wt(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function Wt(e){return e&&("atom"===e.type||ee.hasOwnProperty(e.type))?e:null}var Ht=function(e,t){var n,i,r;e&&"supsub"===e.type?(n=(i=zt(e.base,"accent")).base,e.base=n,r=function(e){if(e instanceof U)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}(bt(e,t)),e.base=i):n=(i=zt(e,"accent")).base;var o=bt(n,t.havingCrampedStyle()),s=0;if(i.isShifty&&l.isCharacterBox(n)){var a=l.getBaseElem(n);s=J(bt(a,t.havingCrampedStyle())).skew}var c,u="\\c"===i.label,h=u?o.height+o.depth:Math.min(o.height,t.fontMetrics().xHeight);if(i.isStretchy)c=jt(i,t),c=Ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"elem",elem:c,wrapperClasses:["svg-align"],wrapperStyle:s>0?{width:"calc(100% - "+j(2*s)+")",marginLeft:j(2*s)}:void 0}]},t);else{var d,f;"\\vec"===i.label?(d=Ge.staticSvg("vec",t),f=Ge.svgData.vec[1]):((d=J(d=Ge.makeOrd({mode:i.mode,text:i.label},t,"textord"))).italic=0,f=d.width,u&&(h+=d.depth)),c=Ge.makeSpan(["accent-body"],[d]);var p="\\textcircled"===i.label;p&&(c.classes.push("accent-full"),h=o.height);var g=s;p||(g-=f/2),c.style.left=j(g),"\\textcircled"===i.label&&(c.style.top=".2em"),c=Ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:-h},{type:"elem",elem:c}]},t)}var m=Ge.makeSpan(["mord","accent"],[c],t);return r?(r.children[0]=m,r.height=Math.max(m.height,r.height),r.classes[0]="mord",r):m},Ut=function(e,t){var n=e.isStretchy?Bt(e.label):new St.MathNode("mo",[Dt(e.label,e.mode)]),i=new St.MathNode("mover",[Mt(e.base,t),n]);return i.setAttribute("accent","true"),i},$t=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map((function(e){return"\\"+e})).join("|"));rt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:function(e,t){var n=st(t[0]),i=!$t.test(e.funcName),r=!i||"\\widehat"===e.funcName||"\\widetilde"===e.funcName||"\\widecheck"===e.funcName;return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:i,isShifty:r,base:n}},htmlBuilder:Ht,mathmlBuilder:Ut}),rt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:function(e,t){var n=t[0],i=e.parser.mode;return"math"===i&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),i="text"),{type:"accent",mode:i,label:e.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:Ht,mathmlBuilder:Ut}),rt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:function(e,t){var n=e.parser,i=e.funcName,r=t[0];return{type:"accentUnder",mode:n.mode,label:i,base:r}},htmlBuilder:function(e,t){var n=bt(e.base,t),i=jt(e,t),r="\\utilde"===e.label?.12:0,o=Ge.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:i,wrapperClasses:["svg-align"]},{type:"kern",size:r},{type:"elem",elem:n}]},t);return Ge.makeSpan(["mord","accentunder"],[o],t)},mathmlBuilder:function(e,t){var n=Bt(e.label),i=new St.MathNode("munder",[Mt(e.base,t),n]);return i.setAttribute("accentunder","true"),i}});var qt=function(e){var t=new St.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};rt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler:function(e,t,n){var i=e.parser,r=e.funcName;return{type:"xArrow",mode:i.mode,label:r,body:t[0],below:n[0]}},htmlBuilder:function(e,t){var n,i=t.style,r=t.havingStyle(i.sup()),o=Ge.wrapFragment(bt(e.body,r,t),t),s="\\x"===e.label.slice(0,2)?"x":"cd";o.classes.push(s+"-arrow-pad"),e.below&&(r=t.havingStyle(i.sub()),(n=Ge.wrapFragment(bt(e.below,r,t),t)).classes.push(s+"-arrow-pad"));var a,l=jt(e,t),c=-t.fontMetrics().axisHeight+.5*l.height,u=-t.fontMetrics().axisHeight-.5*l.height-.111;if((o.depth>.25||"\\xleftequilibrium"===e.label)&&(u-=o.depth),n){var h=-t.fontMetrics().axisHeight+n.height+.5*l.height+.111;a=Ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:u},{type:"elem",elem:l,shift:c},{type:"elem",elem:n,shift:h}]},t)}else a=Ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:u},{type:"elem",elem:l,shift:c}]},t);return a.children[0].children[0].children[1].classes.push("svg-align"),Ge.makeSpan(["mrel","x-arrow"],[a],t)},mathmlBuilder:function(e,t){var n,i=Bt(e.label);if(i.setAttribute("minsize","x"===e.label.charAt(0)?"1.75em":"3.0em"),e.body){var r=qt(Mt(e.body,t));if(e.below){var o=qt(Mt(e.below,t));n=new St.MathNode("munderover",[i,o,r])}else n=new St.MathNode("mover",[i,r])}else if(e.below){var s=qt(Mt(e.below,t));n=new St.MathNode("munder",[i,s])}else n=qt(),n=new St.MathNode("mover",[i,n]);return n}});var Kt={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},Yt=function(e){return"textord"===e.type&&"@"===e.text};function Gt(e,t,n){var i=Kt[e];switch(i){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(i,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":var r={type:"atom",text:i,mode:"math",family:"rel"},o={type:"ordgroup",mode:"math",body:[n.callFunction("\\\\cdleft",[t[0]],[]),n.callFunction("\\Big",[r],[]),n.callFunction("\\\\cdright",[t[1]],[])]};return n.callFunction("\\\\cdparent",[o],[]);case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":return n.callFunction("\\Big",[{type:"textord",text:"\\Vert",mode:"math"}],[]);default:return{type:"textord",text:" ",mode:"math"}}}rt({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler:function(e,t){var n=e.parser,i=e.funcName;return{type:"cdlabel",mode:n.mode,side:i.slice(4),label:t[0]}},htmlBuilder:function(e,t){var n=t.havingStyle(t.style.sup()),i=Ge.wrapFragment(bt(e.label,n,t),t);return i.classes.push("cd-label-"+e.side),i.style.bottom=j(.8-i.depth),i.height=0,i.depth=0,i},mathmlBuilder:function(e,t){var n=new St.MathNode("mrow",[Mt(e.label,t)]);return(n=new St.MathNode("mpadded",[n])).setAttribute("width","0"),"left"===e.side&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),(n=new St.MathNode("mstyle",[n])).setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}}),rt({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler:function(e,t){return{type:"cdlabelparent",mode:e.parser.mode,fragment:t[0]}},htmlBuilder:function(e,t){var n=Ge.wrapFragment(bt(e.fragment,t),t);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder:function(e,t){return new St.MathNode("mrow",[Mt(e.fragment,t)])}}),rt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){for(var n=e.parser,r=zt(t[0],"ordgroup").body,o="",s=0;s<r.length;s++)o+=zt(r[s],"textord").text;var a,l=parseInt(o);if(isNaN(l))throw new i("\\@char has non-numeric argument "+o);if(l<0||l>=1114111)throw new i("\\@char with invalid code point "+o);return l<=65535?a=String.fromCharCode(l):(l-=65536,a=String.fromCharCode(55296+(l>>10),56320+(1023&l))),{type:"textord",mode:n.mode,text:a}}});var Xt=function(e,t){var n=ft(e.body,t.withColor(e.color),!1);return Ge.makeFragment(n)},Zt=function(e,t){var n=Tt(e.body,t.withColor(e.color)),i=new St.MathNode("mstyle",n);return i.setAttribute("mathcolor",e.color),i};rt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler:function(e,t){var n=e.parser,i=zt(t[0],"color-token").color,r=t[1];return{type:"color",mode:n.mode,color:i,body:at(r)}},htmlBuilder:Xt,mathmlBuilder:Zt}),rt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler:function(e,t){var n=e.parser,i=e.breakOnTokenText,r=zt(t[0],"color-token").color;n.gullet.macros.set("\\current@color",r);var o=n.parseExpression(!0,i);return{type:"color",mode:n.mode,color:r,body:o}},htmlBuilder:Xt,mathmlBuilder:Zt}),rt({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:1,argTypes:["size"],allowedInText:!0},handler:function(e,t,n){var i=e.parser,r=n[0],o=!i.settings.displayMode||!i.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:i.mode,newLine:o,size:r&&zt(r,"size").value}},htmlBuilder:function(e,t){var n=Ge.makeSpan(["mspace"],[],t);return e.newLine&&(n.classes.push("newline"),e.size&&(n.style.marginTop=j(B(e.size,t)))),n},mathmlBuilder:function(e,t){var n=new St.MathNode("mspace");return e.newLine&&(n.setAttribute("linebreak","newline"),e.size&&n.setAttribute("height",j(B(e.size,t)))),n}});var Jt={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Qt=function(e){var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new i("Expected a control sequence",e);return t},en=function(e,t,n,i){var r=e.gullet.macros.get(n.text);null==r&&(n.noexpand=!0,r={tokens:[n],numArgs:0,unexpandable:!e.gullet.isExpandable(n.text)}),e.gullet.macros.set(t,r,i)};rt({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler:function(e){var t=e.parser,n=e.funcName;t.consumeSpaces();var r=t.fetch();if(Jt[r.text])return"\\global"!==n&&"\\\\globallong"!==n||(r.text=Jt[r.text]),zt(t.parseFunction(),"internal");throw new i("Invalid token after macro prefix",r)}}),rt({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(e){var t=e.parser,n=e.funcName,r=t.gullet.popToken(),o=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(o))throw new i("Expected a control sequence",r);for(var s,a=0,l=[[]];"{"!==t.gullet.future().text;)if("#"===(r=t.gullet.popToken()).text){if("{"===t.gullet.future().text){s=t.gullet.future(),l[a].push("{");break}if(r=t.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new i('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==a+1)throw new i('Argument number "'+r.text+'" out of order');a++,l.push([])}else{if("EOF"===r.text)throw new i("Expected a macro definition");l[a].push(r.text)}var c=t.gullet.consumeArg().tokens;return s&&c.unshift(s),"\\edef"!==n&&"\\xdef"!==n||(c=t.gullet.expandTokens(c)).reverse(),t.gullet.macros.set(o,{tokens:c,numArgs:a,delimiters:l},n===Jt[n]),{type:"internal",mode:t.mode}}}),rt({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(e){var t=e.parser,n=e.funcName,i=Qt(t.gullet.popToken());t.gullet.consumeSpaces();var r=function(e){var t=e.gullet.popToken();return"="===t.text&&" "===(t=e.gullet.popToken()).text&&(t=e.gullet.popToken()),t}(t);return en(t,i,r,"\\\\globallet"===n),{type:"internal",mode:t.mode}}}),rt({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(e){var t=e.parser,n=e.funcName,i=Qt(t.gullet.popToken()),r=t.gullet.popToken(),o=t.gullet.popToken();return en(t,i,o,"\\\\globalfuture"===n),t.gullet.pushToken(o),t.gullet.pushToken(r),{type:"internal",mode:t.mode}}});var tn=function(e,t,n){var i=L(ne.math[e]&&ne.math[e].replace||e,t,n);if(!i)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return i},nn=function(e,t,n,i){var r=n.havingBaseStyle(t),o=Ge.makeSpan(i.concat(r.sizingClasses(n)),[e],n),s=r.sizeMultiplier/n.sizeMultiplier;return o.height*=s,o.depth*=s,o.maxFontSize=r.sizeMultiplier,o},rn=function(e,t,n){var i=t.havingBaseStyle(n),r=(1-t.sizeMultiplier/i.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=j(r),e.height-=r,e.depth+=r},on=function(e,t,n,i,r,o){var s=function(e,t,n,i){return Ge.makeSymbol(e,"Size"+t+"-Regular",n,i)}(e,t,r,i),a=nn(Ge.makeSpan(["delimsizing","size"+t],[s],i),y.TEXT,i,o);return n&&rn(a,i,y.TEXT),a},sn=function(e,t,n){var i;return i="Size1-Regular"===t?"delim-size1":"delim-size4",{type:"elem",elem:Ge.makeSpan(["delimsizinginner",i],[Ge.makeSpan([],[Ge.makeSymbol(e,t,n)])])}},an=function(e,t,n){var i=S["Size4-Regular"][e.charCodeAt(0)]?S["Size4-Regular"][e.charCodeAt(0)][4]:S["Size1-Regular"][e.charCodeAt(0)][4],r=new X("inner",function(e,t){switch(e){case"":return"M291 0 H417 V"+t+" H291z M291 0 H417 V"+t+" H291z";case"":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z";case"":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145zM367 0 H410 V"+t+" H367z M367 0 H410 V"+t+" H367z";case"":return"M457 0 H583 V"+t+" H457z M457 0 H583 V"+t+" H457z";case"":return"M319 0 H403 V"+t+" H319z M319 0 H403 V"+t+" H319z";case"":return"M263 0 H347 V"+t+" H263z M263 0 H347 V"+t+" H263z";case"":return"M384 0 H504 V"+t+" H384z M384 0 H504 V"+t+" H384z";case"":return"M312 0 H355 V"+t+" H312z M312 0 H355 V"+t+" H312z";case"":return"M257 0 H300 V"+t+" H257z M257 0 H300 V"+t+" H257zM478 0 H521 V"+t+" H478z M478 0 H521 V"+t+" H478z";default:return""}}(e,Math.round(1e3*t))),o=new G([r],{width:j(i),height:j(t),style:"width:"+j(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*t),preserveAspectRatio:"xMinYMin"}),s=Ge.makeSvgSpan([],[o],n);return s.height=t,s.style.height=j(t),s.style.width=j(i),{type:"elem",elem:s}},ln={type:"kern",size:-.008},cn=["|","\\lvert","\\rvert","\\vert"],un=["\\|","\\lVert","\\rVert","\\Vert"],hn=function(e,t,n,i,r,o){var s,a,c,u;s=c=u=e,a=null;var h="Size1-Regular";"\\uparrow"===e?c=u="":"\\Uparrow"===e?c=u="":"\\downarrow"===e?s=c="":"\\Downarrow"===e?s=c="":"\\updownarrow"===e?(s="\\uparrow",c="",u="\\downarrow"):"\\Updownarrow"===e?(s="\\Uparrow",c="",u="\\Downarrow"):l.contains(cn,e)?c="":l.contains(un,e)?c="":"["===e||"\\lbrack"===e?(s="",c="",u="",h="Size4-Regular"):"]"===e||"\\rbrack"===e?(s="",c="",u="",h="Size4-Regular"):"\\lfloor"===e||""===e?(c=s="",u="",h="Size4-Regular"):"\\lceil"===e||""===e?(s="",c=u="",h="Size4-Regular"):"\\rfloor"===e||""===e?(c=s="",u="",h="Size4-Regular"):"\\rceil"===e||""===e?(s="",c=u="",h="Size4-Regular"):"("===e||"\\lparen"===e?(s="",c="",u="",h="Size4-Regular"):")"===e||"\\rparen"===e?(s="",c="",u="",h="Size4-Regular"):"\\{"===e||"\\lbrace"===e?(s="",a="",u="",c="",h="Size4-Regular"):"\\}"===e||"\\rbrace"===e?(s="",a="",u="",c="",h="Size4-Regular"):"\\lgroup"===e||""===e?(s="",u="",c="",h="Size4-Regular"):"\\rgroup"===e||""===e?(s="",u="",c="",h="Size4-Regular"):"\\lmoustache"===e||""===e?(s="",u="",c="",h="Size4-Regular"):"\\rmoustache"!==e&&""!==e||(s="",u="",c="",h="Size4-Regular");var d=tn(s,h,r),f=d.height+d.depth,p=tn(c,h,r),g=p.height+p.depth,m=tn(u,h,r),v=m.height+m.depth,b=0,_=1;if(null!==a){var w=tn(a,h,r);b=w.height+w.depth,_=2}var C=f+v+b,x=C+Math.max(0,Math.ceil((t-C)/(_*g)))*_*g,k=i.fontMetrics().axisHeight;n&&(k*=i.sizeMultiplier);var S=x/2-k,D=[];if(D.push(sn(u,h,r)),D.push(ln),null===a){var E=x-f-v+.016;D.push(an(c,E,i))}else{var L=(x-f-v-b)/2+.016;D.push(an(c,L,i)),D.push(ln),D.push(sn(a,h,r)),D.push(ln),D.push(an(c,L,i))}D.push(ln),D.push(sn(s,h,r));var T=i.havingBaseStyle(y.TEXT),N=Ge.makeVList({positionType:"bottom",positionData:S,children:D},T);return nn(Ge.makeSpan(["delimsizing","mult"],[N],T),y.TEXT,i,o)},dn=.08,fn=function(e,t,n,i,r){var o=function(e,t,n){t*=1e3;var i="";switch(e){case"sqrtMain":i=function(e,t){return"M95,"+(622+e+t)+"\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl"+e/2.075+" -"+e+"\nc5.3,-9.3,12,-14,20,-14\nH400000v"+(40+e)+"H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM"+(834+e)+" "+t+"h400000v"+(40+e)+"h-400000z"}(t,C);break;case"sqrtSize1":i=function(e,t){return"M263,"+(601+e+t)+"c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl"+e/2.084+" -"+e+"\nc4.7,-7.3,11,-11,19,-11\nH40000v"+(40+e)+"H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM"+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"}(t,C);break;case"sqrtSize2":i=function(e,t){return"M983 "+(10+e+t)+"\nl"+e/3.13+" -"+e+"\nc4,-6.7,10,-10,18,-10 H400000v"+(40+e)+"\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM"+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"}(t,C);break;case"sqrtSize3":i=function(e,t){return"M424,"+(2398+e+t)+"\nc-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514\nc0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20\ns-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121\ns209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081\nl"+e/4.223+" -"+e+"c4,-6.7,10,-10,18,-10 H400000\nv"+(40+e)+"H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185\nc-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M"+(1001+e)+" "+t+"\nh400000v"+(40+e)+"h-400000z"}(t,C);break;case"sqrtSize4":i=function(e,t){return"M473,"+(2713+e+t)+"\nc339.3,-1799.3,509.3,-2700,510,-2702 l"+e/5.298+" -"+e+"\nc3.3,-7.3,9.3,-11,18,-11 H400000v"+(40+e)+"H1017.7\ns-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200\nc0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26\ns76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,\n606zM"+(1001+e)+" "+t+"h400000v"+(40+e)+"H1017.7z"}(t,C);break;case"sqrtTall":i=function(e,t,n){return"M702 "+(e+t)+"H400000"+(40+e)+"\nH742v"+(n-54-t-e)+"l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1\nh-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170\nc-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667\n219 661 l218 661zM702 "+t+"H400000v"+(40+e)+"H742z"}(t,C,n)}return i}(e,i,n),s=new X(e,o),a=new G([s],{width:"400em",height:j(t),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return Ge.makeSvgSpan(["hide-tail"],[a],r)},pn=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],gn=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],mn=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],vn=[0,1.2,1.8,2.4,3],yn=[{type:"small",style:y.SCRIPTSCRIPT},{type:"small",style:y.SCRIPT},{type:"small",style:y.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],bn=[{type:"small",style:y.SCRIPTSCRIPT},{type:"small",style:y.SCRIPT},{type:"small",style:y.TEXT},{type:"stack"}],_n=[{type:"small",style:y.SCRIPTSCRIPT},{type:"small",style:y.SCRIPT},{type:"small",style:y.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],wn=function(e){if("small"===e.type)return"Main-Regular";if("large"===e.type)return"Size"+e.size+"-Regular";if("stack"===e.type)return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},Cn=function(e,t,n,i){for(var r=Math.min(2,3-i.style.size);r<n.length&&"stack"!==n[r].type;r++){var o=tn(e,wn(n[r]),"math"),s=o.height+o.depth;if("small"===n[r].type&&(s*=i.havingBaseStyle(n[r].style).sizeMultiplier),s>t)return n[r]}return n[n.length-1]},xn=function(e,t,n,i,r,o){var s;"<"===e||"\\lt"===e||""===e?e="\\langle":">"!==e&&"\\gt"!==e&&""!==e||(e="\\rangle"),s=l.contains(mn,e)?yn:l.contains(pn,e)?_n:bn;var a=Cn(e,t,s,i);return"small"===a.type?function(e,t,n,i,r,o){var s=Ge.makeSymbol(e,"Main-Regular",r,i),a=nn(s,t,i,o);return n&&rn(a,i,t),a}(e,a.style,n,i,r,o):"large"===a.type?on(e,a.size,n,i,r,o):hn(e,t,n,i,r,o)},kn={sqrtImage:function(e,t){var n,i,r=t.havingBaseSizing(),o=Cn("\\surd",e*r.sizeMultiplier,_n,r),s=r.sizeMultiplier,a=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness),l=0,c=0,u=0;return"small"===o.type?(e<1?s=1:e<1.4&&(s=.7),c=(1+a)/s,(n=fn("sqrtMain",l=(1+a+dn)/s,u=1e3+1e3*a+80,a,t)).style.minWidth="0.853em",i=.833/s):"large"===o.type?(u=1080*vn[o.size],c=(vn[o.size]+a)/s,l=(vn[o.size]+a+dn)/s,(n=fn("sqrtSize"+o.size,l,u,a,t)).style.minWidth="1.02em",i=1/s):(l=e+a+dn,c=e+a,u=Math.floor(1e3*e+a)+80,(n=fn("sqrtTall",l,u,a,t)).style.minWidth="0.742em",i=1.056),n.height=c,n.style.height=j(l),{span:n,advanceWidth:i,ruleWidth:(t.fontMetrics().sqrtRuleThickness+a)*s}},sizedDelim:function(e,t,n,r,o){if("<"===e||"\\lt"===e||""===e?e="\\langle":">"!==e&&"\\gt"!==e&&""!==e||(e="\\rangle"),l.contains(pn,e)||l.contains(mn,e))return on(e,t,!1,n,r,o);if(l.contains(gn,e))return hn(e,vn[t],!1,n,r,o);throw new i("Illegal delimiter: '"+e+"'")},sizeToMaxHeight:vn,customSizedDelim:xn,leftRightDelim:function(e,t,n,i,r,o){var s=i.fontMetrics().axisHeight*i.sizeMultiplier,a=5/i.fontMetrics().ptPerEm,l=Math.max(t-s,n+s),c=Math.max(l/500*901,2*l-a);return xn(e,c,!0,i,r,o)}},Sn={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Dn=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function En(e,t){var n=Wt(e);if(n&&l.contains(Dn,n.text))return n;throw new i(n?"Invalid delimiter '"+n.text+"' after '"+t.funcName+"'":"Invalid delimiter type '"+e.type+"'",e)}function Ln(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}rt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:function(e,t){var n=En(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:Sn[e.funcName].size,mclass:Sn[e.funcName].mclass,delim:n.text}},htmlBuilder:function(e,t){return"."===e.delim?Ge.makeSpan([e.mclass]):kn.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass])},mathmlBuilder:function(e){var t=[];"."!==e.delim&&t.push(Dt(e.delim,e.mode));var n=new St.MathNode("mo",t);"mopen"===e.mclass||"mclose"===e.mclass?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var i=j(kn.sizeToMaxHeight[e.size]);return n.setAttribute("minsize",i),n.setAttribute("maxsize",i),n}}),rt({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:function(e,t){var n=e.parser.gullet.macros.get("\\current@color");if(n&&"string"!=typeof n)throw new i("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:En(t[0],e).text,color:n}}}),rt({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:function(e,t){var n=En(t[0],e),i=e.parser;++i.leftrightDepth;var r=i.parseExpression(!1);--i.leftrightDepth,i.expect("\\right",!1);var o=zt(i.parseFunction(),"leftright-right");return{type:"leftright",mode:i.mode,body:r,left:n.text,right:o.delim,rightColor:o.color}},htmlBuilder:function(e,t){Ln(e);for(var n,i,r=ft(e.body,t,!0,["mopen","mclose"]),o=0,s=0,a=!1,l=0;l<r.length;l++)r[l].isMiddle?a=!0:(o=Math.max(r[l].height,o),s=Math.max(r[l].depth,s));if(o*=t.sizeMultiplier,s*=t.sizeMultiplier,n="."===e.left?yt(t,["mopen"]):kn.leftRightDelim(e.left,o,s,t,e.mode,["mopen"]),r.unshift(n),a)for(var c=1;c<r.length;c++){var u=r[c].isMiddle;u&&(r[c]=kn.leftRightDelim(u.delim,o,s,u.options,e.mode,[]))}if("."===e.right)i=yt(t,["mclose"]);else{var h=e.rightColor?t.withColor(e.rightColor):t;i=kn.leftRightDelim(e.right,o,s,h,e.mode,["mclose"])}return r.push(i),Ge.makeSpan(["minner"],r,t)},mathmlBuilder:function(e,t){Ln(e);var n=Tt(e.body,t);if("."!==e.left){var i=new St.MathNode("mo",[Dt(e.left,e.mode)]);i.setAttribute("fence","true"),n.unshift(i)}if("."!==e.right){var r=new St.MathNode("mo",[Dt(e.right,e.mode)]);r.setAttribute("fence","true"),e.rightColor&&r.setAttribute("mathcolor",e.rightColor),n.push(r)}return Et(n)}}),rt({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:function(e,t){var n=En(t[0],e);if(!e.parser.leftrightDepth)throw new i("\\middle without preceding \\left",n);return{type:"middle",mode:e.parser.mode,delim:n.text}},htmlBuilder:function(e,t){var n;if("."===e.delim)n=yt(t,[]);else{n=kn.sizedDelim(e.delim,1,t,e.mode,[]);var i={delim:e.delim,options:t};n.isMiddle=i}return n},mathmlBuilder:function(e,t){var n="\\vert"===e.delim||"|"===e.delim?Dt("|","text"):Dt(e.delim,e.mode),i=new St.MathNode("mo",[n]);return i.setAttribute("fence","true"),i.setAttribute("lspace","0.05em"),i.setAttribute("rspace","0.05em"),i}});var Tn=function(e,t){var n,i,r,o=Ge.wrapFragment(bt(e.body,t),t),s=e.label.substr(1),a=t.sizeMultiplier,c=0,u=l.isCharacterBox(e.body);if("sout"===s)(n=Ge.makeSpan(["stretchy","sout"])).height=t.fontMetrics().defaultRuleThickness/a,c=-.5*t.fontMetrics().xHeight;else if("phase"===s){var h=B({number:.6,unit:"pt"},t),d=B({number:.35,unit:"ex"},t);a/=t.havingBaseSizing().sizeMultiplier;var f=o.height+o.depth+h+d;o.style.paddingLeft=j(f/2+h);var p=Math.floor(1e3*f*a),g="M400000 "+(i=p)+" H0 L"+i/2+" 0 l65 45 L145 "+(i-80)+" H400000z",m=new G([new X("phase",g)],{width:"400em",height:j(p/1e3),viewBox:"0 0 400000 "+p,preserveAspectRatio:"xMinYMin slice"});(n=Ge.makeSvgSpan(["hide-tail"],[m],t)).style.height=j(f),c=o.depth+h+d}else{/cancel/.test(s)?u||o.classes.push("cancel-pad"):"angl"===s?o.classes.push("anglpad"):o.classes.push("boxpad");var v=0,y=0,b=0;/box/.test(s)?(b=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),y=v=t.fontMetrics().fboxsep+("colorbox"===s?0:b)):"angl"===s?(v=4*(b=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness)),y=Math.max(0,.25-o.depth)):y=v=u?.2:0,n=Pt(o,s,v,y,t),/fbox|boxed|fcolorbox/.test(s)?(n.style.borderStyle="solid",n.style.borderWidth=j(b)):"angl"===s&&.049!==b&&(n.style.borderTopWidth=j(b),n.style.borderRightWidth=j(b)),c=o.depth+y,e.backgroundColor&&(n.style.backgroundColor=e.backgroundColor,e.borderColor&&(n.style.borderColor=e.borderColor))}if(e.backgroundColor)r=Ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:c},{type:"elem",elem:o,shift:0}]},t);else{var _=/cancel|phase/.test(s)?["svg-align"]:[];r=Ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:0},{type:"elem",elem:n,shift:c,wrapperClasses:_}]},t)}return/cancel/.test(s)&&(r.height=o.height,r.depth=o.depth),/cancel/.test(s)&&!u?Ge.makeSpan(["mord","cancel-lap"],[r],t):Ge.makeSpan(["mord"],[r],t)},Nn=function(e,t){var n=0,i=new St.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Mt(e.body,t)]);switch(e.label){case"\\cancel":i.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":i.setAttribute("notation","downdiagonalstrike");break;case"\\phase":i.setAttribute("notation","phasorangle");break;case"\\sout":i.setAttribute("notation","horizontalstrike");break;case"\\fbox":i.setAttribute("notation","box");break;case"\\angl":i.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,i.setAttribute("width","+"+2*n+"pt"),i.setAttribute("height","+"+2*n+"pt"),i.setAttribute("lspace",n+"pt"),i.setAttribute("voffset",n+"pt"),"\\fcolorbox"===e.label){var r=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);i.setAttribute("style","border: "+r+"em solid "+String(e.borderColor))}break;case"\\xcancel":i.setAttribute("notation","updiagonalstrike downdiagonalstrike")}return e.backgroundColor&&i.setAttribute("mathbackground",e.backgroundColor),i};rt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler:function(e,t,n){var i=e.parser,r=e.funcName,o=zt(t[0],"color-token").color,s=t[1];return{type:"enclose",mode:i.mode,label:r,backgroundColor:o,body:s}},htmlBuilder:Tn,mathmlBuilder:Nn}),rt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler:function(e,t,n){var i=e.parser,r=e.funcName,o=zt(t[0],"color-token").color,s=zt(t[1],"color-token").color,a=t[2];return{type:"enclose",mode:i.mode,label:r,backgroundColor:s,borderColor:o,body:a}},htmlBuilder:Tn,mathmlBuilder:Nn}),rt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler:function(e,t){return{type:"enclose",mode:e.parser.mode,label:"\\fbox",body:t[0]}}}),rt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler:function(e,t){var n=e.parser,i=e.funcName,r=t[0];return{type:"enclose",mode:n.mode,label:i,body:r}},htmlBuilder:Tn,mathmlBuilder:Nn}),rt({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler:function(e,t){return{type:"enclose",mode:e.parser.mode,label:"\\angl",body:t[0]}}});var Mn={};function An(e){for(var t=e.type,n=e.names,i=e.props,r=e.handler,o=e.htmlBuilder,s=e.mathmlBuilder,a={type:t,numArgs:i.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:r},l=0;l<n.length;++l)Mn[n[l]]=a;o&&(nt[t]=o),s&&(it[t]=s)}function In(e){var t=[];e.consumeSpaces();for(var n=e.fetch().text;"\\hline"===n||"\\hdashline"===n;)e.consume(),t.push("\\hdashline"===n),e.consumeSpaces(),n=e.fetch().text;return t}var On=function(e){if(!e.parser.settings.displayMode)throw new i("{"+e.envName+"} can be used only in display mode.")};function Fn(e,t,n){var r=t.hskipBeforeAndAfter,o=t.addJot,s=t.cols,a=t.arraystretch,l=t.colSeparationType,c=t.addEqnNum,u=t.singleRow,h=t.emptySingleRow,d=t.maxNumCols,f=t.leqno;if(e.gullet.beginGroup(),u||e.gullet.macros.set("\\cr","\\\\\\relax"),!a){var p=e.gullet.expandMacroAsText("\\arraystretch");if(null==p)a=1;else if(!(a=parseFloat(p))||a<0)throw new i("Invalid \\arraystretch: "+p)}e.gullet.beginGroup();var g=[],m=[g],v=[],y=[];for(y.push(In(e));;){var b=e.parseExpression(!1,u?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),b={type:"ordgroup",mode:e.mode,body:b},n&&(b={type:"styling",mode:e.mode,style:n,body:[b]}),g.push(b);var _=e.fetch().text;if("&"===_){if(d&&g.length===d){if(u||l)throw new i("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else{if("\\end"===_){1===g.length&&"styling"===b.type&&0===b.body[0].body.length&&(m.length>1||!h)&&m.pop(),y.length<m.length+1&&y.push([]);break}if("\\\\"!==_)throw new i("Expected & or \\\\ or \\cr or \\end",e.nextToken);e.consume();var w=void 0;" "!==e.gullet.future().text&&(w=e.parseSizeGroup(!0)),v.push(w?w.value:null),y.push(In(e)),g=[],m.push(g)}}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:o,arraystretch:a,body:m,cols:s,rowGaps:v,hskipBeforeAndAfter:r,hLinesBeforeRow:y,colSeparationType:l,addEqnNum:c,leqno:f}}function Rn(e){return"d"===e.substr(0,1)?"display":"text"}var Pn=function(e,t){var n,r,o=e.body.length,s=e.hLinesBeforeRow,a=0,c=new Array(o),u=[],h=Math.max(t.fontMetrics().arrayRuleWidth,t.minRuleThickness),d=1/t.fontMetrics().ptPerEm,f=5*d;e.colSeparationType&&"small"===e.colSeparationType&&(f=t.havingStyle(y.SCRIPT).sizeMultiplier/t.sizeMultiplier*.2778);var p="CD"===e.colSeparationType?B({number:3,unit:"ex"},t):12*d,g=3*d,m=e.arraystretch*p,v=.7*m,b=.3*m,_=0;function w(e){for(var t=0;t<e.length;++t)t>0&&(_+=.25),u.push({pos:_,isDashed:e[t]})}for(w(s[0]),n=0;n<e.body.length;++n){var C=e.body[n],x=v,k=b;a<C.length&&(a=C.length);var S=new Array(C.length);for(r=0;r<C.length;++r){var D=bt(C[r],t);k<D.depth&&(k=D.depth),x<D.height&&(x=D.height),S[r]=D}var E=e.rowGaps[n],L=0;E&&(L=B(E,t))>0&&(k<(L+=b)&&(k=L),L=0),e.addJot&&(k+=g),S.height=x,S.depth=k,_+=x,S.pos=_,_+=k+L,c[n]=S,w(s[n+1])}var T,N,M=_/2+t.fontMetrics().axisHeight,A=e.cols||[],I=[],O=[];if(e.addEqnNum)for(n=0;n<o;++n){var F=c[n],R=F.pos-M,P=Ge.makeSpan(["eqn-num"],[],t);P.depth=F.depth,P.height=F.height,O.push({type:"elem",elem:P,shift:R})}for(r=0,N=0;r<a||N<A.length;++r,++N){for(var z=A[N]||{},V=!0;"separator"===z.type;){if(V||((T=Ge.makeSpan(["arraycolsep"],[])).style.width=j(t.fontMetrics().doubleRuleSep),I.push(T)),"|"!==z.separator&&":"!==z.separator)throw new i("Invalid separator type: "+z.separator);var W="|"===z.separator?"solid":"dashed",H=Ge.makeSpan(["vertical-separator"],[],t);H.style.height=j(_),H.style.borderRightWidth=j(h),H.style.borderRightStyle=W,H.style.margin="0 "+j(-h/2);var U=_-M;U&&(H.style.verticalAlign=j(-U)),I.push(H),z=A[++N]||{},V=!1}if(!(r>=a)){var $=void 0;(r>0||e.hskipBeforeAndAfter)&&0!==($=l.deflt(z.pregap,f))&&((T=Ge.makeSpan(["arraycolsep"],[])).style.width=j($),I.push(T));var q=[];for(n=0;n<o;++n){var K=c[n],Y=K[r];if(Y){var G=K.pos-M;Y.depth=K.depth,Y.height=K.height,q.push({type:"elem",elem:Y,shift:G})}}q=Ge.makeVList({positionType:"individualShift",children:q},t),q=Ge.makeSpan(["col-align-"+(z.align||"c")],[q]),I.push(q),(r<a-1||e.hskipBeforeAndAfter)&&0!==($=l.deflt(z.postgap,f))&&((T=Ge.makeSpan(["arraycolsep"],[])).style.width=j($),I.push(T))}}if(c=Ge.makeSpan(["mtable"],I),u.length>0){for(var X=Ge.makeLineSpan("hline",t,h),Z=Ge.makeLineSpan("hdashline",t,h),J=[{type:"elem",elem:c,shift:0}];u.length>0;){var Q=u.pop(),ee=Q.pos-M;Q.isDashed?J.push({type:"elem",elem:Z,shift:ee}):J.push({type:"elem",elem:X,shift:ee})}c=Ge.makeVList({positionType:"individualShift",children:J},t)}if(e.addEqnNum){var te=Ge.makeVList({positionType:"individualShift",children:O},t);return te=Ge.makeSpan(["tag"],[te],t),Ge.makeFragment([c,te])}return Ge.makeSpan(["mord"],[c],t)},Bn={c:"center ",l:"left ",r:"right "},jn=function(e,t){for(var n=[],i=new St.MathNode("mtd",[],["mtr-glue"]),r=new St.MathNode("mtd",[],["mml-eqn-num"]),o=0;o<e.body.length;o++){for(var s=e.body[o],a=[],l=0;l<s.length;l++)a.push(new St.MathNode("mtd",[Mt(s[l],t)]));e.addEqnNum&&(a.unshift(i),a.push(i),e.leqno?a.unshift(r):a.push(r)),n.push(new St.MathNode("mtr",a))}var c=new St.MathNode("mtable",n),u=.5===e.arraystretch?.1:.16+e.arraystretch-1+(e.addJot?.09:0);c.setAttribute("rowspacing",j(u));var h="",d="";if(e.cols&&e.cols.length>0){var f=e.cols,p="",g=!1,m=0,v=f.length;"separator"===f[0].type&&(h+="top ",m=1),"separator"===f[f.length-1].type&&(h+="bottom ",v-=1);for(var y=m;y<v;y++)"align"===f[y].type?(d+=Bn[f[y].align],g&&(p+="none "),g=!0):"separator"===f[y].type&&g&&(p+="|"===f[y].separator?"solid ":"dashed ",g=!1);c.setAttribute("columnalign",d.trim()),/[sd]/.test(p)&&c.setAttribute("columnlines",p.trim())}if("align"===e.colSeparationType){for(var b=e.cols||[],_="",w=1;w<b.length;w++)_+=w%2?"0em ":"1em ";c.setAttribute("columnspacing",_.trim())}else"alignat"===e.colSeparationType||"gather"===e.colSeparationType?c.setAttribute("columnspacing","0em"):"small"===e.colSeparationType?c.setAttribute("columnspacing","0.2778em"):"CD"===e.colSeparationType?c.setAttribute("columnspacing","0.5em"):c.setAttribute("columnspacing","1em");var C="",x=e.hLinesBeforeRow;h+=x[0].length>0?"left ":"",h+=x[x.length-1].length>0?"right ":"";for(var k=1;k<x.length-1;k++)C+=0===x[k].length?"none ":x[k][0]?"dashed ":"solid ";return/[sd]/.test(C)&&c.setAttribute("rowlines",C.trim()),""!==h&&(c=new St.MathNode("menclose",[c])).setAttribute("notation",h.trim()),e.arraystretch&&e.arraystretch<1&&(c=new St.MathNode("mstyle",[c])).setAttribute("scriptlevel","1"),c},zn=function(e,t){-1===e.envName.indexOf("ed")&&On(e);var n,r=[],o=e.envName.indexOf("at")>-1?"alignat":"align",s=Fn(e.parser,{cols:r,addJot:!0,addEqnNum:"align"===e.envName||"alignat"===e.envName,emptySingleRow:!0,colSeparationType:o,maxNumCols:"split"===e.envName?2:void 0,leqno:e.parser.settings.leqno},"display"),a=0,l={type:"ordgroup",mode:e.mode,body:[]};if(t[0]&&"ordgroup"===t[0].type){for(var c="",u=0;u<t[0].body.length;u++)c+=zt(t[0].body[u],"textord").text;n=Number(c),a=2*n}var h=!a;s.body.forEach((function(e){for(var t=1;t<e.length;t+=2){var r=zt(e[t],"styling");zt(r.body[0],"ordgroup").body.unshift(l)}if(h)a<e.length&&(a=e.length);else{var o=e.length/2;if(n<o)throw new i("Too many math in a row: expected "+n+", but got "+o,e[0])}}));for(var d=0;d<a;++d){var f="r",p=0;d%2==1?f="l":d>0&&h&&(p=1),r[d]={type:"align",align:f,pregap:p,postgap:0}}return s.colSeparationType=h?"align":"alignat",s};An({type:"array",names:["array","darray"],props:{numArgs:1},handler:function(e,t){var n=(Wt(t[0])?[t[0]]:zt(t[0],"ordgroup").body).map((function(e){var t=Vt(e).text;if(-1!=="lcr".indexOf(t))return{type:"align",align:t};if("|"===t)return{type:"separator",separator:"|"};if(":"===t)return{type:"separator",separator:":"};throw new i("Unknown column alignment: "+t,e)})),r={cols:n,hskipBeforeAndAfter:!0,maxNumCols:n.length};return Fn(e.parser,r,Rn(e.envName))},htmlBuilder:Pn,mathmlBuilder:jn}),An({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler:function(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if("*"===e.envName.charAt(e.envName.length-1)){var o=e.parser;if(o.consumeSpaces(),"["===o.fetch().text){if(o.consume(),o.consumeSpaces(),n=o.fetch().text,-1==="lcr".indexOf(n))throw new i("Expected l or c or r",o.nextToken);o.consume(),o.consumeSpaces(),o.expect("]"),o.consume(),r.cols=[{type:"align",align:n}]}}var s=Fn(e.parser,r,Rn(e.envName)),a=Math.max.apply(Math,[0].concat(s.body.map((function(e){return e.length}))));return s.cols=new Array(a).fill({type:"align",align:n}),t?{type:"leftright",mode:e.mode,body:[s],left:t[0],right:t[1],rightColor:void 0}:s},htmlBuilder:Pn,mathmlBuilder:jn}),An({type:"array",names:["smallmatrix"],props:{numArgs:0},handler:function(e){var t=Fn(e.parser,{arraystretch:.5},"script");return t.colSeparationType="small",t},htmlBuilder:Pn,mathmlBuilder:jn}),An({type:"array",names:["subarray"],props:{numArgs:1},handler:function(e,t){var n=(Wt(t[0])?[t[0]]:zt(t[0],"ordgroup").body).map((function(e){var t=Vt(e).text;if(-1!=="lc".indexOf(t))return{type:"align",align:t};throw new i("Unknown column alignment: "+t,e)}));if(n.length>1)throw new i("{subarray} can contain only one column");var r={cols:n,hskipBeforeAndAfter:!1,arraystretch:.5};if((r=Fn(e.parser,r,"script")).body.length>0&&r.body[0].length>1)throw new i("{subarray} can contain only one column");return r},htmlBuilder:Pn,mathmlBuilder:jn}),An({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler:function(e){var t=Fn(e.parser,{arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},Rn(e.envName));return{type:"leftright",mode:e.mode,body:[t],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Pn,mathmlBuilder:jn}),An({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:zn,htmlBuilder:Pn,mathmlBuilder:jn}),An({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler:function(e){l.contains(["gather","gather*"],e.envName)&&On(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",addEqnNum:"gather"===e.envName,emptySingleRow:!0,leqno:e.parser.settings.leqno};return Fn(e.parser,t,"display")},htmlBuilder:Pn,mathmlBuilder:jn}),An({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:zn,htmlBuilder:Pn,mathmlBuilder:jn}),An({type:"array",names:["equation","equation*"],props:{numArgs:0},handler:function(e){On(e);var t={addEqnNum:"equation"===e.envName,emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return Fn(e.parser,t,"display")},htmlBuilder:Pn,mathmlBuilder:jn}),An({type:"array",names:["CD"],props:{numArgs:0},handler:function(e){return On(e),function(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var n=e.fetch().text;if("&"!==n&&"\\\\"!==n){if("\\end"===n){0===t[t.length-1].length&&t.pop();break}throw new i("Expected \\\\ or \\cr or \\end",e.nextToken)}e.consume()}for(var r,o,s=[],a=[s],l=0;l<t.length;l++){for(var c=t[l],u={type:"styling",body:[],mode:"math",style:"display"},h=0;h<c.length;h++)if(Yt(c[h])){s.push(u);var d=Vt(c[h+=1]).text,f=new Array(2);if(f[0]={type:"ordgroup",mode:"math",body:[]},f[1]={type:"ordgroup",mode:"math",body:[]},"=|.".indexOf(d)>-1);else{if(!("<>AV".indexOf(d)>-1))throw new i('Expected one of "<>AV=|." after @',c[h]);for(var p=0;p<2;p++){for(var g=!0,m=h+1;m<c.length;m++){if(o=d,("mathord"===(r=c[m]).type||"atom"===r.type)&&r.text===o){g=!1,h=m;break}if(Yt(c[m]))throw new i("Missing a "+d+" character to complete a CD arrow.",c[m]);f[p].body.push(c[m])}if(g)throw new i("Missing a "+d+" character to complete a CD arrow.",c[h])}}var v={type:"styling",body:[Gt(d,f,e)],mode:"math",style:"display"};s.push(v),u={type:"styling",body:[],mode:"math",style:"display"}}else u.body.push(c[h]);l%2==0?s.push(u):s.shift(),s=[],a.push(s)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:"math",body:a,arraystretch:1,addJot:!0,rowGaps:[null],cols:new Array(a[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25}),colSeparationType:"CD",hLinesBeforeRow:new Array(a.length+1).fill([])}}(e.parser)},htmlBuilder:Pn,mathmlBuilder:jn}),rt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler:function(e,t){throw new i(e.funcName+" valid only within array environment")}});var Vn=Mn;rt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler:function(e,t){var n=e.parser,r=e.funcName,o=t[0];if("ordgroup"!==o.type)throw new i("Invalid environment name",o);for(var s="",a=0;a<o.body.length;++a)s+=zt(o.body[a],"textord").text;if("\\begin"===r){if(!Vn.hasOwnProperty(s))throw new i("No such environment: "+s,o);var l=Vn[s],c=n.parseArguments("\\begin{"+s+"}",l),u=c.args,h=c.optArgs,d={mode:n.mode,envName:s,parser:n},f=l.handler(d,u,h);n.expect("\\end",!1);var p=n.nextToken,g=zt(n.parseFunction(),"environment");if(g.name!==s)throw new i("Mismatch: \\begin{"+s+"} matched by \\end{"+g.name+"}",p);return f}return{type:"environment",mode:n.mode,name:s,nameGroup:o}}});var Wn=Ge.makeSpan;function Hn(e,t){var n=ft(e.body,t,!0);return Wn([e.mclass],n,t)}function Un(e,t){var n,i=Tt(e.body,t);return"minner"===e.mclass?St.newDocumentFragment(i):("mord"===e.mclass?e.isCharacterBox?(n=i[0]).type="mi":n=new St.MathNode("mi",i):(e.isCharacterBox?(n=i[0]).type="mo":n=new St.MathNode("mo",i),"mbin"===e.mclass?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):"mpunct"===e.mclass?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):"mopen"!==e.mclass&&"mclose"!==e.mclass||(n.attributes.lspace="0em",n.attributes.rspace="0em")),n)}rt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler:function(e,t){var n=e.parser,i=e.funcName,r=t[0];return{type:"mclass",mode:n.mode,mclass:"m"+i.substr(5),body:at(r),isCharacterBox:l.isCharacterBox(r)}},htmlBuilder:Hn,mathmlBuilder:Un});var $n=function(e){var t="ordgroup"===e.type&&e.body.length?e.body[0]:e;return"atom"!==t.type||"bin"!==t.family&&"rel"!==t.family?"mord":"m"+t.family};rt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler:function(e,t){return{type:"mclass",mode:e.parser.mode,mclass:$n(t[0]),body:at(t[1]),isCharacterBox:l.isCharacterBox(t[1])}}}),rt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler:function(e,t){var n,i=e.parser,r=e.funcName,o=t[1],s=t[0];n="\\stackrel"!==r?$n(o):"mrel";var a={type:"op",mode:o.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:"\\stackrel"!==r,body:at(o)},c={type:"supsub",mode:s.mode,base:a,sup:"\\underset"===r?null:s,sub:"\\underset"===r?s:null};return{type:"mclass",mode:i.mode,mclass:n,body:[c],isCharacterBox:l.isCharacterBox(c)}},htmlBuilder:Hn,mathmlBuilder:Un});var qn=function(e,t){var n=e.font,i=t.withFont(n);return bt(e.body,i)},Kn=function(e,t){var n=e.font,i=t.withFont(n);return Mt(e.body,i)},Yn={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};rt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:function(e,t){var n=e.parser,i=e.funcName,r=st(t[0]),o=i;return o in Yn&&(o=Yn[o]),{type:"font",mode:n.mode,font:o.slice(1),body:r}},htmlBuilder:qn,mathmlBuilder:Kn}),rt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:function(e,t){var n=e.parser,i=t[0],r=l.isCharacterBox(i);return{type:"mclass",mode:n.mode,mclass:$n(i),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:i}],isCharacterBox:r}}}),rt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:function(e,t){var n=e.parser,i=e.funcName,r=e.breakOnTokenText,o=n.mode,s=n.parseExpression(!0,r);return{type:"font",mode:o,font:"math"+i.slice(1),body:{type:"ordgroup",mode:n.mode,body:s}}},htmlBuilder:qn,mathmlBuilder:Kn});var Gn=function(e,t){var n=t;return"display"===e?n=n.id>=y.SCRIPT.id?n.text():y.DISPLAY:"text"===e&&n.size===y.DISPLAY.size?n=y.TEXT:"script"===e?n=y.SCRIPT:"scriptscript"===e&&(n=y.SCRIPTSCRIPT),n},Xn=function(e,t){var n,i=Gn(e.size,t.style),r=i.fracNum(),o=i.fracDen();n=t.havingStyle(r);var s=bt(e.numer,n,t);if(e.continued){var a=8.5/t.fontMetrics().ptPerEm,l=3.5/t.fontMetrics().ptPerEm;s.height=s.height<a?a:s.height,s.depth=s.depth<l?l:s.depth}n=t.havingStyle(o);var c,u,h,d,f,p,g,m,v,b,_=bt(e.denom,n,t);if(e.hasBarLine?(e.barSize?(u=B(e.barSize,t),c=Ge.makeLineSpan("frac-line",t,u)):c=Ge.makeLineSpan("frac-line",t),u=c.height,h=c.height):(c=null,u=0,h=t.fontMetrics().defaultRuleThickness),i.size===y.DISPLAY.size||"display"===e.size?(d=t.fontMetrics().num1,f=u>0?3*h:7*h,p=t.fontMetrics().denom1):(u>0?(d=t.fontMetrics().num2,f=h):(d=t.fontMetrics().num3,f=3*h),p=t.fontMetrics().denom2),c){var w=t.fontMetrics().axisHeight;d-s.depth-(w+.5*u)<f&&(d+=f-(d-s.depth-(w+.5*u))),w-.5*u-(_.height-p)<f&&(p+=f-(w-.5*u-(_.height-p)));var C=-(w-.5*u);g=Ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:_,shift:p},{type:"elem",elem:c,shift:C},{type:"elem",elem:s,shift:-d}]},t)}else{var x=d-s.depth-(_.height-p);x<f&&(d+=.5*(f-x),p+=.5*(f-x)),g=Ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:_,shift:p},{type:"elem",elem:s,shift:-d}]},t)}return n=t.havingStyle(i),g.height*=n.sizeMultiplier/t.sizeMultiplier,g.depth*=n.sizeMultiplier/t.sizeMultiplier,m=i.size===y.DISPLAY.size?t.fontMetrics().delim1:i.size===y.SCRIPTSCRIPT.size?t.havingStyle(y.SCRIPT).fontMetrics().delim2:t.fontMetrics().delim2,v=null==e.leftDelim?yt(t,["mopen"]):kn.customSizedDelim(e.leftDelim,m,!0,t.havingStyle(i),e.mode,["mopen"]),b=e.continued?Ge.makeSpan([]):null==e.rightDelim?yt(t,["mclose"]):kn.customSizedDelim(e.rightDelim,m,!0,t.havingStyle(i),e.mode,["mclose"]),Ge.makeSpan(["mord"].concat(n.sizingClasses(t)),[v,Ge.makeSpan(["mfrac"],[g]),b],t)},Zn=function(e,t){var n=new St.MathNode("mfrac",[Mt(e.numer,t),Mt(e.denom,t)]);if(e.hasBarLine){if(e.barSize){var i=B(e.barSize,t);n.setAttribute("linethickness",j(i))}}else n.setAttribute("linethickness","0px");var r=Gn(e.size,t.style);if(r.size!==t.style.size){n=new St.MathNode("mstyle",[n]);var o=r.size===y.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",o),n.setAttribute("scriptlevel","0")}if(null!=e.leftDelim||null!=e.rightDelim){var s=[];if(null!=e.leftDelim){var a=new St.MathNode("mo",[new St.TextNode(e.leftDelim.replace("\\",""))]);a.setAttribute("fence","true"),s.push(a)}if(s.push(n),null!=e.rightDelim){var l=new St.MathNode("mo",[new St.TextNode(e.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),s.push(l)}return Et(s)}return n};rt({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:function(e,t){var n,i=e.parser,r=e.funcName,o=t[0],s=t[1],a=null,l=null,c="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":n=!0;break;case"\\\\atopfrac":n=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":n=!1,a="(",l=")";break;case"\\\\bracefrac":n=!1,a="\\{",l="\\}";break;case"\\\\brackfrac":n=!1,a="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":c="display";break;case"\\tfrac":case"\\tbinom":c="text"}return{type:"genfrac",mode:i.mode,continued:!1,numer:o,denom:s,hasBarLine:n,leftDelim:a,rightDelim:l,size:c,barSize:null}},htmlBuilder:Xn,mathmlBuilder:Zn}),rt({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:function(e,t){var n=e.parser;e.funcName;var i=t[0],r=t[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:r,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),rt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler:function(e){var t,n=e.parser,i=e.funcName,r=e.token;switch(i){case"\\over":t="\\frac";break;case"\\choose":t="\\binom";break;case"\\atop":t="\\\\atopfrac";break;case"\\brace":t="\\\\bracefrac";break;case"\\brack":t="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:n.mode,replaceWith:t,token:r}}});var Jn=["display","text","script","scriptscript"],Qn=function(e){var t=null;return e.length>0&&(t="."===(t=e)?null:t),t};rt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler:function(e,t){var n,i=e.parser,r=t[4],o=t[5],s=st(t[0]),a="atom"===s.type&&"open"===s.family?Qn(s.text):null,l=st(t[1]),c="atom"===l.type&&"close"===l.family?Qn(l.text):null,u=zt(t[2],"size"),h=null;n=!!u.isBlank||(h=u.value).number>0;var d="auto",f=t[3];if("ordgroup"===f.type){if(f.body.length>0){var p=zt(f.body[0],"textord");d=Jn[Number(p.text)]}}else f=zt(f,"textord"),d=Jn[Number(f.text)];return{type:"genfrac",mode:i.mode,numer:r,denom:o,continued:!1,hasBarLine:n,barSize:h,leftDelim:a,rightDelim:c,size:d}},htmlBuilder:Xn,mathmlBuilder:Zn}),rt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler:function(e,t){var n=e.parser;e.funcName;var i=e.token;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:zt(t[0],"size").value,token:i}}}),rt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:function(e,t){var n=e.parser;e.funcName;var i=t[0],r=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e}(zt(t[1],"infix").size),o=t[2],s=r.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:o,continued:!1,hasBarLine:s,barSize:r,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Xn,mathmlBuilder:Zn});var ei=function(e,t){var n,i,r=t.style;"supsub"===e.type?(n=e.sup?bt(e.sup,t.havingStyle(r.sup()),t):bt(e.sub,t.havingStyle(r.sub()),t),i=zt(e.base,"horizBrace")):i=zt(e,"horizBrace");var o,s=bt(i.base,t.havingBaseStyle(y.DISPLAY)),a=jt(i,t);if(i.isOver?(o=Ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},t)).children[0].children[0].children[1].classes.push("svg-align"):(o=Ge.makeVList({positionType:"bottom",positionData:s.depth+.1+a.height,children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},t)).children[0].children[0].children[0].classes.push("svg-align"),n){var l=Ge.makeSpan(["mord",i.isOver?"mover":"munder"],[o],t);o=i.isOver?Ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:n}]},t):Ge.makeVList({positionType:"bottom",positionData:l.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:l}]},t)}return Ge.makeSpan(["mord",i.isOver?"mover":"munder"],[o],t)};rt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler:function(e,t){var n=e.parser,i=e.funcName;return{type:"horizBrace",mode:n.mode,label:i,isOver:/^\\over/.test(i),base:t[0]}},htmlBuilder:ei,mathmlBuilder:function(e,t){var n=Bt(e.label);return new St.MathNode(e.isOver?"mover":"munder",[Mt(e.base,t),n])}}),rt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:function(e,t){var n=e.parser,i=t[1],r=zt(t[0],"url").url;return n.settings.isTrusted({command:"\\href",url:r})?{type:"href",mode:n.mode,href:r,body:at(i)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:function(e,t){var n=ft(e.body,t,!1);return Ge.makeAnchor(e.href,[],n,t)},mathmlBuilder:function(e,t){var n=Nt(e.body,t);return n instanceof xt||(n=new xt("mrow",[n])),n.setAttribute("href",e.href),n}}),rt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:function(e,t){var n=e.parser,i=zt(t[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:i}))return n.formatUnsupportedCmd("\\url");for(var r=[],o=0;o<i.length;o++){var s=i[o];"~"===s&&(s="\\textasciitilde"),r.push({type:"textord",mode:"text",text:s})}var a={type:"text",mode:n.mode,font:"\\texttt",body:r};return{type:"href",mode:n.mode,href:i,body:at(a)}}}),rt({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler:function(e,t){return{type:"hbox",mode:e.parser.mode,body:at(t[0])}},htmlBuilder:function(e,t){var n=ft(e.body,t,!1);return Ge.makeFragment(n)},mathmlBuilder:function(e,t){return new St.MathNode("mrow",Tt(e.body,t))}}),rt({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:function(e,t){var n=e.parser,r=e.funcName;e.token;var o,s=zt(t[0],"raw").string,a=t[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var l={};switch(r){case"\\htmlClass":l.class=s,o={command:"\\htmlClass",class:s};break;case"\\htmlId":l.id=s,o={command:"\\htmlId",id:s};break;case"\\htmlStyle":l.style=s,o={command:"\\htmlStyle",style:s};break;case"\\htmlData":for(var c=s.split(","),u=0;u<c.length;u++){var h=c[u].split("=");if(2!==h.length)throw new i("Error parsing key-value for \\htmlData");l["data-"+h[0].trim()]=h[1].trim()}o={command:"\\htmlData",attributes:l};break;default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(o)?{type:"html",mode:n.mode,attributes:l,body:at(a)}:n.formatUnsupportedCmd(r)},htmlBuilder:function(e,t){var n=ft(e.body,t,!1),i=["enclosing"];e.attributes.class&&i.push.apply(i,e.attributes.class.trim().split(/\s+/));var r=Ge.makeSpan(i,n,t);for(var o in e.attributes)"class"!==o&&e.attributes.hasOwnProperty(o)&&r.setAttribute(o,e.attributes[o]);return r},mathmlBuilder:function(e,t){return Nt(e.body,t)}}),rt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:function(e,t){return{type:"htmlmathml",mode:e.parser.mode,html:at(t[0]),mathml:at(t[1])}},htmlBuilder:function(e,t){var n=ft(e.html,t,!1);return Ge.makeFragment(n)},mathmlBuilder:function(e,t){return Nt(e.mathml,t)}});var ti=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new i("Invalid size: '"+e+"' in \\includegraphics");var n={number:+(t[1]+t[2]),unit:t[3]};if(!P(n))throw new i("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};rt({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:function(e,t,n){var r=e.parser,o={number:0,unit:"em"},s={number:.9,unit:"em"},a={number:0,unit:"em"},l="";if(n[0])for(var c=zt(n[0],"raw").string.split(","),u=0;u<c.length;u++){var h=c[u].split("=");if(2===h.length){var d=h[1].trim();switch(h[0].trim()){case"alt":l=d;break;case"width":o=ti(d);break;case"height":s=ti(d);break;case"totalheight":a=ti(d);break;default:throw new i("Invalid key: '"+h[0]+"' in \\includegraphics.")}}}var f=zt(t[0],"url").url;return""===l&&(l=(l=(l=f).replace(/^.*[\\/]/,"")).substring(0,l.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:f})?{type:"includegraphics",mode:r.mode,alt:l,width:o,height:s,totalheight:a,src:f}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:function(e,t){var n=B(e.height,t),i=0;e.totalheight.number>0&&(i=B(e.totalheight,t)-n);var r=0;e.width.number>0&&(r=B(e.width,t));var o={height:j(n+i)};r>0&&(o.width=j(r)),i>0&&(o.verticalAlign=j(-i));var s=new q(e.src,e.alt,o);return s.height=n,s.depth=i,s},mathmlBuilder:function(e,t){var n=new St.MathNode("mglyph",[]);n.setAttribute("alt",e.alt);var i=B(e.height,t),r=0;if(e.totalheight.number>0&&(r=B(e.totalheight,t)-i,n.setAttribute("valign",j(-r))),n.setAttribute("height",j(i+r)),e.width.number>0){var o=B(e.width,t);n.setAttribute("width",j(o))}return n.setAttribute("src",e.src),n}}),rt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler:function(e,t){var n=e.parser,i=e.funcName,r=zt(t[0],"size");if(n.settings.strict){var o="m"===i[1],s="mu"===r.value.unit;o?(s||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" supports only mu units, not "+r.value.unit+" units"),"math"!==n.mode&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" works only in math mode")):s&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:r.value}},htmlBuilder:function(e,t){return Ge.makeGlue(e.dimension,t)},mathmlBuilder:function(e,t){var n=B(e.dimension,t);return new St.SpaceNode(n)}}),rt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var n=e.parser,i=e.funcName,r=t[0];return{type:"lap",mode:n.mode,alignment:i.slice(5),body:r}},htmlBuilder:function(e,t){var n;"clap"===e.alignment?(n=Ge.makeSpan([],[bt(e.body,t)]),n=Ge.makeSpan(["inner"],[n],t)):n=Ge.makeSpan(["inner"],[bt(e.body,t)]);var i=Ge.makeSpan(["fix"],[]),r=Ge.makeSpan([e.alignment],[n,i],t),o=Ge.makeSpan(["strut"]);return o.style.height=j(r.height+r.depth),r.depth&&(o.style.verticalAlign=j(-r.depth)),r.children.unshift(o),r=Ge.makeSpan(["thinbox"],[r],t),Ge.makeSpan(["mord","vbox"],[r],t)},mathmlBuilder:function(e,t){var n=new St.MathNode("mpadded",[Mt(e.body,t)]);if("rlap"!==e.alignment){var i="llap"===e.alignment?"-1":"-0.5";n.setAttribute("lspace",i+"width")}return n.setAttribute("width","0px"),n}}),rt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(e,t){var n=e.funcName,i=e.parser,r=i.mode;i.switchMode("math");var o="\\("===n?"\\)":"$",s=i.parseExpression(!1,o);return i.expect(o),i.switchMode(r),{type:"styling",mode:i.mode,style:"text",body:s}}}),rt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(e,t){throw new i("Mismatched "+e.funcName)}});var ni=function(e,t){switch(t.style.size){case y.DISPLAY.size:return e.display;case y.TEXT.size:return e.text;case y.SCRIPT.size:return e.script;case y.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};rt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:function(e,t){return{type:"mathchoice",mode:e.parser.mode,display:at(t[0]),text:at(t[1]),script:at(t[2]),scriptscript:at(t[3])}},htmlBuilder:function(e,t){var n=ni(e,t),i=ft(n,t,!1);return Ge.makeFragment(i)},mathmlBuilder:function(e,t){var n=ni(e,t);return Nt(n,t)}});var ii=function(e,t,n,i,r,o,s){e=Ge.makeSpan([],[e]);var a,c,u,h=n&&l.isCharacterBox(n);if(t){var d=bt(t,i.havingStyle(r.sup()),i);c={elem:d,kern:Math.max(i.fontMetrics().bigOpSpacing1,i.fontMetrics().bigOpSpacing3-d.depth)}}if(n){var f=bt(n,i.havingStyle(r.sub()),i);a={elem:f,kern:Math.max(i.fontMetrics().bigOpSpacing2,i.fontMetrics().bigOpSpacing4-f.height)}}if(c&&a){var p=i.fontMetrics().bigOpSpacing5+a.elem.height+a.elem.depth+a.kern+e.depth+s;u=Ge.makeVList({positionType:"bottom",positionData:p,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:a.elem,marginLeft:j(-o)},{type:"kern",size:a.kern},{type:"elem",elem:e},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:j(o)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else if(a){var g=e.height-s;u=Ge.makeVList({positionType:"top",positionData:g,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:a.elem,marginLeft:j(-o)},{type:"kern",size:a.kern},{type:"elem",elem:e}]},i)}else{if(!c)return e;var m=e.depth+s;u=Ge.makeVList({positionType:"bottom",positionData:m,children:[{type:"elem",elem:e},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:j(o)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}var v=[u];if(a&&0!==o&&!h){var y=Ge.makeSpan(["mspace"],[],i);y.style.marginRight=j(o),v.unshift(y)}return Ge.makeSpan(["mop","op-limits"],v,i)},ri=["\\smallint"],oi=function(e,t){var n,i,r,o=!1;"supsub"===e.type?(n=e.sup,i=e.sub,r=zt(e.base,"op"),o=!0):r=zt(e,"op");var s,a=t.style,c=!1;if(a.size===y.DISPLAY.size&&r.symbol&&!l.contains(ri,r.name)&&(c=!0),r.symbol){var u=c?"Size2-Regular":"Size1-Regular",h="";if("\\oiint"!==r.name&&"\\oiiint"!==r.name||(h=r.name.substr(1),r.name="oiint"===h?"\\iint":"\\iiint"),s=Ge.makeSymbol(r.name,u,"math",t,["mop","op-symbol",c?"large-op":"small-op"]),h.length>0){var d=s.italic,f=Ge.staticSvg(h+"Size"+(c?"2":"1"),t);s=Ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:0},{type:"elem",elem:f,shift:c?.08:0}]},t),r.name="\\"+h,s.classes.unshift("mop"),s.italic=d}}else if(r.body){var p=ft(r.body,t,!0);1===p.length&&p[0]instanceof Y?(s=p[0]).classes[0]="mop":s=Ge.makeSpan(["mop"],p,t)}else{for(var g=[],m=1;m<r.name.length;m++)g.push(Ge.mathsym(r.name[m],r.mode,t));s=Ge.makeSpan(["mop"],g,t)}var v=0,b=0;return(s instanceof Y||"\\oiint"===r.name||"\\oiiint"===r.name)&&!r.suppressBaseShift&&(v=(s.height-s.depth)/2-t.fontMetrics().axisHeight,b=s.italic),o?ii(s,n,i,t,a,b,v):(v&&(s.style.position="relative",s.style.top=j(v)),s)},si=function(e,t){var n;if(e.symbol)n=new xt("mo",[Dt(e.name,e.mode)]),l.contains(ri,e.name)&&n.setAttribute("largeop","false");else if(e.body)n=new xt("mo",Tt(e.body,t));else{n=new xt("mi",[new kt(e.name.slice(1))]);var i=new xt("mo",[Dt("","text")]);n=e.parentIsSupSub?new xt("mrow",[n,i]):Ct([n,i])}return n},ai={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};rt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:function(e,t){var n=e.parser,i=e.funcName;return 1===i.length&&(i=ai[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:oi,mathmlBuilder:si}),rt({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:function(e,t){var n=e.parser,i=t[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:at(i)}},htmlBuilder:oi,mathmlBuilder:si});var li={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};rt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler:function(e){var t=e.parser,n=e.funcName;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:oi,mathmlBuilder:si}),rt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler:function(e){var t=e.parser,n=e.funcName;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:oi,mathmlBuilder:si}),rt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler:function(e){var t=e.parser,n=e.funcName;return 1===n.length&&(n=li[n]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:oi,mathmlBuilder:si});var ci={};function ui(e,t){ci[e]=t}var hi=function(e,t){var n,i,r,o,s=!1;if("supsub"===e.type?(n=e.sup,i=e.sub,r=zt(e.base,"operatorname"),s=!0):r=zt(e,"operatorname"),r.body.length>0){for(var a=r.body.map((function(e){var t=e.text;return"string"==typeof t?{type:"textord",mode:e.mode,text:t}:e})),l=ft(a,t.withFont("mathrm"),!0),c=0;c<l.length;c++){var u=l[c];u instanceof Y&&(u.text=u.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}o=Ge.makeSpan(["mop"],l,t)}else o=Ge.makeSpan(["mop"],[],t);return s?ii(o,n,i,t,t.style,0,0):o};function di(e,t,n){for(var i=ft(e,t,!1),r=t.sizeMultiplier/n.sizeMultiplier,o=0;o<i.length;o++){var s=i[o].classes.indexOf("sizing");s<0?Array.prototype.push.apply(i[o].classes,t.sizingClasses(n)):i[o].classes[s+1]==="reset-size"+t.size&&(i[o].classes[s+1]="reset-size"+n.size),i[o].height*=r,i[o].depth*=r}return Ge.makeFragment(i)}rt({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:function(e,t){var n=e.parser,i=e.funcName,r=t[0];return{type:"operatorname",mode:n.mode,body:at(r),alwaysHandleSupSub:"\\operatornamewithlimits"===i,limits:!1,parentIsSupSub:!1}},htmlBuilder:hi,mathmlBuilder:function(e,t){for(var n=Tt(e.body,t.withFont("mathrm")),i=!0,r=0;r<n.length;r++){var o=n[r];if(o instanceof St.SpaceNode);else if(o instanceof St.MathNode)switch(o.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":var s=o.children[0];1===o.children.length&&s instanceof St.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):i=!1;break;default:i=!1}else i=!1}if(i){var a=n.map((function(e){return e.toText()})).join("");n=[new St.TextNode(a)]}var l=new St.MathNode("mi",n);l.setAttribute("mathvariant","normal");var c=new St.MathNode("mo",[Dt("","text")]);return e.parentIsSupSub?new St.MathNode("mrow",[l,c]):St.newDocumentFragment([l,c])}}),ui("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),ot({type:"ordgroup",htmlBuilder:function(e,t){return e.semisimple?Ge.makeFragment(ft(e.body,t,!1)):Ge.makeSpan(["mord"],ft(e.body,t,!0),t)},mathmlBuilder:function(e,t){return Nt(e.body,t,!0)}}),rt({type:"overline",names:["\\overline"],props:{numArgs:1},handler:function(e,t){var n=e.parser,i=t[0];return{type:"overline",mode:n.mode,body:i}},htmlBuilder:function(e,t){var n=bt(e.body,t.havingCrampedStyle()),i=Ge.makeLineSpan("overline-line",t),r=t.fontMetrics().defaultRuleThickness,o=Ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*r},{type:"elem",elem:i},{type:"kern",size:r}]},t);return Ge.makeSpan(["mord","overline"],[o],t)},mathmlBuilder:function(e,t){var n=new St.MathNode("mo",[new St.TextNode("")]);n.setAttribute("stretchy","true");var i=new St.MathNode("mover",[Mt(e.body,t),n]);return i.setAttribute("accent","true"),i}}),rt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var n=e.parser,i=t[0];return{type:"phantom",mode:n.mode,body:at(i)}},htmlBuilder:function(e,t){var n=ft(e.body,t.withPhantom(),!1);return Ge.makeFragment(n)},mathmlBuilder:function(e,t){var n=Tt(e.body,t);return new St.MathNode("mphantom",n)}}),rt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var n=e.parser,i=t[0];return{type:"hphantom",mode:n.mode,body:i}},htmlBuilder:function(e,t){var n=Ge.makeSpan([],[bt(e.body,t.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var i=0;i<n.children.length;i++)n.children[i].height=0,n.children[i].depth=0;return n=Ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t),Ge.makeSpan(["mord"],[n],t)},mathmlBuilder:function(e,t){var n=Tt(at(e.body),t),i=new St.MathNode("mphantom",n),r=new St.MathNode("mpadded",[i]);return r.setAttribute("height","0px"),r.setAttribute("depth","0px"),r}}),rt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var n=e.parser,i=t[0];return{type:"vphantom",mode:n.mode,body:i}},htmlBuilder:function(e,t){var n=Ge.makeSpan(["inner"],[bt(e.body,t.withPhantom())]),i=Ge.makeSpan(["fix"],[]);return Ge.makeSpan(["mord","rlap"],[n,i],t)},mathmlBuilder:function(e,t){var n=Tt(at(e.body),t),i=new St.MathNode("mphantom",n),r=new St.MathNode("mpadded",[i]);return r.setAttribute("width","0px"),r}}),rt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler:function(e,t){var n=e.parser,i=zt(t[0],"size").value,r=t[1];return{type:"raisebox",mode:n.mode,dy:i,body:r}},htmlBuilder:function(e,t){var n=bt(e.body,t),i=B(e.dy,t);return Ge.makeVList({positionType:"shift",positionData:-i,children:[{type:"elem",elem:n}]},t)},mathmlBuilder:function(e,t){var n=new St.MathNode("mpadded",[Mt(e.body,t)]),i=e.dy.number+e.dy.unit;return n.setAttribute("voffset",i),n}}),rt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler:function(e,t,n){var i=e.parser,r=n[0],o=zt(t[0],"size"),s=zt(t[1],"size");return{type:"rule",mode:i.mode,shift:r&&zt(r,"size").value,width:o.value,height:s.value}},htmlBuilder:function(e,t){var n=Ge.makeSpan(["mord","rule"],[],t),i=B(e.width,t),r=B(e.height,t),o=e.shift?B(e.shift,t):0;return n.style.borderRightWidth=j(i),n.style.borderTopWidth=j(r),n.style.bottom=j(o),n.width=i,n.height=r+o,n.depth=-o,n.maxFontSize=1.125*r*t.sizeMultiplier,n},mathmlBuilder:function(e,t){var n=B(e.width,t),i=B(e.height,t),r=e.shift?B(e.shift,t):0,o=t.color&&t.getColor()||"black",s=new St.MathNode("mspace");s.setAttribute("mathbackground",o),s.setAttribute("width",j(n)),s.setAttribute("height",j(i));var a=new St.MathNode("mpadded",[s]);return r>=0?a.setAttribute("height",j(r)):(a.setAttribute("height",j(r)),a.setAttribute("depth",j(-r))),a.setAttribute("voffset",j(r)),a}});var fi=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];rt({type:"sizing",names:fi,props:{numArgs:0,allowedInText:!0},handler:function(e,t){var n=e.breakOnTokenText,i=e.funcName,r=e.parser,o=r.parseExpression(!1,n);return{type:"sizing",mode:r.mode,size:fi.indexOf(i)+1,body:o}},htmlBuilder:function(e,t){var n=t.havingSize(e.size);return di(e.body,n,t)},mathmlBuilder:function(e,t){var n=t.havingSize(e.size),i=Tt(e.body,n),r=new St.MathNode("mstyle",i);return r.setAttribute("mathsize",j(n.sizeMultiplier)),r}}),rt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:function(e,t,n){var i=e.parser,r=!1,o=!1,s=n[0]&&zt(n[0],"ordgroup");if(s)for(var a="",l=0;l<s.body.length;++l)if("t"===(a=s.body[l].text))r=!0;else{if("b"!==a){r=!1,o=!1;break}o=!0}else r=!0,o=!0;var c=t[0];return{type:"smash",mode:i.mode,body:c,smashHeight:r,smashDepth:o}},htmlBuilder:function(e,t){var n=Ge.makeSpan([],[bt(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return n;if(e.smashHeight&&(n.height=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].height=0;if(e.smashDepth&&(n.depth=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].depth=0;var o=Ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t);return Ge.makeSpan(["mord"],[o],t)},mathmlBuilder:function(e,t){var n=new St.MathNode("mpadded",[Mt(e.body,t)]);return e.smashHeight&&n.setAttribute("height","0px"),e.smashDepth&&n.setAttribute("depth","0px"),n}}),rt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler:function(e,t,n){var i=e.parser,r=n[0],o=t[0];return{type:"sqrt",mode:i.mode,body:o,index:r}},htmlBuilder:function(e,t){var n=bt(e.body,t.havingCrampedStyle());0===n.height&&(n.height=t.fontMetrics().xHeight),n=Ge.wrapFragment(n,t);var i=t.fontMetrics().defaultRuleThickness,r=i;t.style.id<y.TEXT.id&&(r=t.fontMetrics().xHeight);var o=i+r/4,s=n.height+n.depth+o+i,a=kn.sqrtImage(s,t),l=a.span,c=a.ruleWidth,u=a.advanceWidth,h=l.height-c;h>n.height+n.depth+o&&(o=(o+h-n.height-n.depth)/2);var d=l.height-n.height-o-c;n.style.paddingLeft=j(u);var f=Ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+d)},{type:"elem",elem:l},{type:"kern",size:c}]},t);if(e.index){var p=t.havingStyle(y.SCRIPTSCRIPT),g=bt(e.index,p,t),m=.6*(f.height-f.depth),v=Ge.makeVList({positionType:"shift",positionData:-m,children:[{type:"elem",elem:g}]},t),b=Ge.makeSpan(["root"],[v]);return Ge.makeSpan(["mord","sqrt"],[b,f],t)}return Ge.makeSpan(["mord","sqrt"],[f],t)},mathmlBuilder:function(e,t){var n=e.body,i=e.index;return i?new St.MathNode("mroot",[Mt(n,t),Mt(i,t)]):new St.MathNode("msqrt",[Mt(n,t)])}});var pi={display:y.DISPLAY,text:y.TEXT,script:y.SCRIPT,scriptscript:y.SCRIPTSCRIPT};rt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(e,t){var n=e.breakOnTokenText,i=e.funcName,r=e.parser,o=r.parseExpression(!0,n),s=i.slice(1,i.length-5);return{type:"styling",mode:r.mode,style:s,body:o}},htmlBuilder:function(e,t){var n=pi[e.style],i=t.havingStyle(n).withFont("");return di(e.body,i,t)},mathmlBuilder:function(e,t){var n=pi[e.style],i=t.havingStyle(n),r=Tt(e.body,i),o=new St.MathNode("mstyle",r),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[e.style];return o.setAttribute("scriptlevel",s[0]),o.setAttribute("displaystyle",s[1]),o}}),ot({type:"supsub",htmlBuilder:function(e,t){var n=function(e,t){var n=e.base;return n?"op"===n.type?n.limits&&(t.style.size===y.DISPLAY.size||n.alwaysHandleSupSub)?oi:null:"operatorname"===n.type?n.alwaysHandleSupSub&&(t.style.size===y.DISPLAY.size||n.limits)?hi:null:"accent"===n.type?l.isCharacterBox(n.base)?Ht:null:"horizBrace"===n.type&&!e.sub===n.isOver?ei:null:null}(e,t);if(n)return n(e,t);var i,r,o,s=e.base,a=e.sup,c=e.sub,u=bt(s,t),h=t.fontMetrics(),d=0,f=0,p=s&&l.isCharacterBox(s);if(a){var g=t.havingStyle(t.style.sup());i=bt(a,g,t),p||(d=u.height-g.fontMetrics().supDrop*g.sizeMultiplier/t.sizeMultiplier)}if(c){var m=t.havingStyle(t.style.sub());r=bt(c,m,t),p||(f=u.depth+m.fontMetrics().subDrop*m.sizeMultiplier/t.sizeMultiplier)}o=t.style===y.DISPLAY?h.sup1:t.style.cramped?h.sup3:h.sup2;var v,b=t.sizeMultiplier,_=j(.5/h.ptPerEm/b),w=null;if(r){var C=e.base&&"op"===e.base.type&&e.base.name&&("\\oiint"===e.base.name||"\\oiiint"===e.base.name);(u instanceof Y||C)&&(w=j(-u.italic))}if(i&&r){d=Math.max(d,o,i.depth+.25*h.xHeight),f=Math.max(f,h.sub2);var x=4*h.defaultRuleThickness;if(d-i.depth-(r.height-f)<x){f=x-(d-i.depth)+r.height;var k=.8*h.xHeight-(d-i.depth);k>0&&(d+=k,f-=k)}var S=[{type:"elem",elem:r,shift:f,marginRight:_,marginLeft:w},{type:"elem",elem:i,shift:-d,marginRight:_}];v=Ge.makeVList({positionType:"individualShift",children:S},t)}else if(r){f=Math.max(f,h.sub1,r.height-.8*h.xHeight);var D=[{type:"elem",elem:r,marginLeft:w,marginRight:_}];v=Ge.makeVList({positionType:"shift",positionData:f,children:D},t)}else{if(!i)throw new Error("supsub must have either sup or sub.");d=Math.max(d,o,i.depth+.25*h.xHeight),v=Ge.makeVList({positionType:"shift",positionData:-d,children:[{type:"elem",elem:i,marginRight:_}]},t)}var E=vt(u,"right")||"mord";return Ge.makeSpan([E],[u,Ge.makeSpan(["msupsub"],[v])],t)},mathmlBuilder:function(e,t){var n,i=!1;e.base&&"horizBrace"===e.base.type&&!!e.sup===e.base.isOver&&(i=!0,n=e.base.isOver),!e.base||"op"!==e.base.type&&"operatorname"!==e.base.type||(e.base.parentIsSupSub=!0);var r,o=[Mt(e.base,t)];if(e.sub&&o.push(Mt(e.sub,t)),e.sup&&o.push(Mt(e.sup,t)),i)r=n?"mover":"munder";else if(e.sub)if(e.sup){var s=e.base;r=s&&"op"===s.type&&s.limits&&t.style===y.DISPLAY||s&&"operatorname"===s.type&&s.alwaysHandleSupSub&&(t.style===y.DISPLAY||s.limits)?"munderover":"msubsup"}else{var a=e.base;r=a&&"op"===a.type&&a.limits&&(t.style===y.DISPLAY||a.alwaysHandleSupSub)||a&&"operatorname"===a.type&&a.alwaysHandleSupSub&&(a.limits||t.style===y.DISPLAY)?"munder":"msub"}else{var l=e.base;r=l&&"op"===l.type&&l.limits&&(t.style===y.DISPLAY||l.alwaysHandleSupSub)||l&&"operatorname"===l.type&&l.alwaysHandleSupSub&&(l.limits||t.style===y.DISPLAY)?"mover":"msup"}return new St.MathNode(r,o)}}),ot({type:"atom",htmlBuilder:function(e,t){return Ge.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder:function(e,t){var n=new St.MathNode("mo",[Dt(e.text,e.mode)]);if("bin"===e.family){var i=Lt(e,t);"bold-italic"===i&&n.setAttribute("mathvariant",i)}else"punct"===e.family?n.setAttribute("separator","true"):"open"!==e.family&&"close"!==e.family||n.setAttribute("stretchy","false");return n}});var gi={mi:"italic",mn:"normal",mtext:"normal"};ot({type:"mathord",htmlBuilder:function(e,t){return Ge.makeOrd(e,t,"mathord")},mathmlBuilder:function(e,t){var n=new St.MathNode("mi",[Dt(e.text,e.mode,t)]),i=Lt(e,t)||"italic";return i!==gi[n.type]&&n.setAttribute("mathvariant",i),n}}),ot({type:"textord",htmlBuilder:function(e,t){return Ge.makeOrd(e,t,"textord")},mathmlBuilder:function(e,t){var n,i=Dt(e.text,e.mode,t),r=Lt(e,t)||"normal";return n="text"===e.mode?new St.MathNode("mtext",[i]):/[0-9]/.test(e.text)?new St.MathNode("mn",[i]):"\\prime"===e.text?new St.MathNode("mo",[i]):new St.MathNode("mi",[i]),r!==gi[n.type]&&n.setAttribute("mathvariant",r),n}});var mi={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},vi={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};ot({type:"spacing",htmlBuilder:function(e,t){if(vi.hasOwnProperty(e.text)){var n=vi[e.text].className||"";if("text"===e.mode){var r=Ge.makeOrd(e,t,"textord");return r.classes.push(n),r}return Ge.makeSpan(["mspace",n],[Ge.mathsym(e.text,e.mode,t)],t)}if(mi.hasOwnProperty(e.text))return Ge.makeSpan(["mspace",mi[e.text]],[],t);throw new i('Unknown type of space "'+e.text+'"')},mathmlBuilder:function(e,t){if(!vi.hasOwnProperty(e.text)){if(mi.hasOwnProperty(e.text))return new St.MathNode("mspace");throw new i('Unknown type of space "'+e.text+'"')}return new St.MathNode("mtext",[new St.TextNode("")])}});var yi=function(){var e=new St.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};ot({type:"tag",mathmlBuilder:function(e,t){var n=new St.MathNode("mtable",[new St.MathNode("mtr",[yi(),new St.MathNode("mtd",[Nt(e.body,t)]),yi(),new St.MathNode("mtd",[Nt(e.tag,t)])])]);return n.setAttribute("width","100%"),n}});var bi={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},_i={"\\textbf":"textbf","\\textmd":"textmd"},wi={"\\textit":"textit","\\textup":"textup"},Ci=function(e,t){var n=e.font;return n?bi[n]?t.withTextFontFamily(bi[n]):_i[n]?t.withTextFontWeight(_i[n]):t.withTextFontShape(wi[n]):t};rt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler:function(e,t){var n=e.parser,i=e.funcName,r=t[0];return{type:"text",mode:n.mode,body:at(r),font:i}},htmlBuilder:function(e,t){var n=Ci(e,t),i=ft(e.body,n,!0);return Ge.makeSpan(["mord","text"],i,n)},mathmlBuilder:function(e,t){var n=Ci(e,t);return Nt(e.body,n)}}),rt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){return{type:"underline",mode:e.parser.mode,body:t[0]}},htmlBuilder:function(e,t){var n=bt(e.body,t),i=Ge.makeLineSpan("underline-line",t),r=t.fontMetrics().defaultRuleThickness,o=Ge.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:r},{type:"elem",elem:i},{type:"kern",size:3*r},{type:"elem",elem:n}]},t);return Ge.makeSpan(["mord","underline"],[o],t)},mathmlBuilder:function(e,t){var n=new St.MathNode("mo",[new St.TextNode("")]);n.setAttribute("stretchy","true");var i=new St.MathNode("munder",[Mt(e.body,t),n]);return i.setAttribute("accentunder","true"),i}}),rt({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler:function(e,t){return{type:"vcenter",mode:e.parser.mode,body:t[0]}},htmlBuilder:function(e,t){var n=bt(e.body,t),i=t.fontMetrics().axisHeight,r=.5*(n.height-i-(n.depth+i));return Ge.makeVList({positionType:"shift",positionData:r,children:[{type:"elem",elem:n}]},t)},mathmlBuilder:function(e,t){return new St.MathNode("mpadded",[Mt(e.body,t)],["vcenter"])}}),rt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler:function(e,t,n){throw new i("\\verb ended by end of line instead of matching delimiter")},htmlBuilder:function(e,t){for(var n=xi(e),i=[],r=t.havingStyle(t.style.text()),o=0;o<n.length;o++){var s=n[o];"~"===s&&(s="\\textasciitilde"),i.push(Ge.makeSymbol(s,"Typewriter-Regular",e.mode,r,["mord","texttt"]))}return Ge.makeSpan(["mord","text"].concat(r.sizingClasses(t)),Ge.tryCombineChars(i),r)},mathmlBuilder:function(e,t){var n=new St.TextNode(xi(e)),i=new St.MathNode("mtext",[n]);return i.setAttribute("mathvariant","monospace"),i}});var xi=function(e){return e.body.replace(/ /g,e.star?"":"")},ki=tt,Si=function(){function e(e,t,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=t,this.end=n}return e.range=function(t,n){return n?t&&t.loc&&n.loc&&t.loc.lexer===n.loc.lexer?new e(t.loc.lexer,t.loc.start,n.loc.end):null:t&&t.loc},e}(),Di=function(){function e(e,t){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=t}return e.prototype.range=function(t,n){return new e(n,Si.range(this,t))},e}(),Ei=new RegExp("[-]+$"),Li=function(){function e(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp("([ \r\n\t]+)|\\\\(\n|[ \r\t]+\n?)[ \r\t]*|([!-\\[\\]---][-]*|[\ud800-\udbff][\udc00-\udfff][-]*|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5|(\\\\[a-zA-Z@]+)[ \r\n\t]*|\\\\[^\ud800-\udfff])","g"),this.catcodes={"%":14,"~":13}}var t=e.prototype;return t.setCatcode=function(e,t){this.catcodes[e]=t},t.lex=function(){var e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new Di("EOF",new Si(this,t,t));var n=this.tokenRegex.exec(e);if(null===n||n.index!==t)throw new i("Unexpected character: '"+e[t]+"'",new Di(e[t],new Si(this,t,t+1)));var r=n[6]||n[3]||(n[2]?"\\ ":" ");if(14===this.catcodes[r]){var o=e.indexOf("\n",this.tokenRegex.lastIndex);return-1===o?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=o+1,this.lex()}return new Di(r,new Si(this,t,this.tokenRegex.lastIndex))},e}(),Ti=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}var t=e.prototype;return t.beginGroup=function(){this.undefStack.push({})},t.endGroup=function(){if(0===this.undefStack.length)throw new i("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(void 0===e[t]?delete this.current[t]:this.current[t]=e[t])},t.endGroups=function(){for(;this.undefStack.length>0;)this.endGroup()},t.has=function(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)},t.get=function(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]},t.set=function(e,t,n){if(void 0===n&&(n=!1),n){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var r=this.undefStack[this.undefStack.length-1];r&&!r.hasOwnProperty(e)&&(r[e]=this.current[e])}this.current[e]=t},e}(),Ni=ci;ui("\\noexpand",(function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}})),ui("\\expandafter",(function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}})),ui("\\@firstoftwo",(function(e){return{tokens:e.consumeArgs(2)[0],numArgs:0}})),ui("\\@secondoftwo",(function(e){return{tokens:e.consumeArgs(2)[1],numArgs:0}})),ui("\\@ifnextchar",(function(e){var t=e.consumeArgs(3);e.consumeSpaces();var n=e.future();return 1===t[0].length&&t[0][0].text===n.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}})),ui("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),ui("\\TextOrMath",(function(e){var t=e.consumeArgs(2);return"text"===e.mode?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}}));var Mi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};ui("\\char",(function(e){var t,n=e.popToken(),r="";if("'"===n.text)t=8,n=e.popToken();else if('"'===n.text)t=16,n=e.popToken();else if("`"===n.text)if("\\"===(n=e.popToken()).text[0])r=n.text.charCodeAt(1);else{if("EOF"===n.text)throw new i("\\char` missing argument");r=n.text.charCodeAt(0)}else t=10;if(t){if(null==(r=Mi[n.text])||r>=t)throw new i("Invalid base-"+t+" digit "+n.text);for(var o;null!=(o=Mi[e.future().text])&&o<t;)r*=t,r+=o,e.popToken()}return"\\@char{"+r+"}"}));var Ai=function(e,t,n){var r=e.consumeArg().tokens;if(1!==r.length)throw new i("\\newcommand's first argument must be a macro name");var o=r[0].text,s=e.isDefined(o);if(s&&!t)throw new i("\\newcommand{"+o+"} attempting to redefine "+o+"; use \\renewcommand");if(!s&&!n)throw new i("\\renewcommand{"+o+"} when command "+o+" does not yet exist; use \\newcommand");var a=0;if(1===(r=e.consumeArg().tokens).length&&"["===r[0].text){for(var l="",c=e.expandNextToken();"]"!==c.text&&"EOF"!==c.text;)l+=c.text,c=e.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new i("Invalid number of arguments: "+l);a=parseInt(l),r=e.consumeArg().tokens}return e.macros.set(o,{tokens:r,numArgs:a}),""};ui("\\newcommand",(function(e){return Ai(e,!1,!0)})),ui("\\renewcommand",(function(e){return Ai(e,!0,!1)})),ui("\\providecommand",(function(e){return Ai(e,!0,!0)})),ui("\\message",(function(e){var t=e.consumeArgs(1)[0];return console.log(t.reverse().map((function(e){return e.text})).join("")),""})),ui("\\errmessage",(function(e){var t=e.consumeArgs(1)[0];return console.error(t.reverse().map((function(e){return e.text})).join("")),""})),ui("\\show",(function(e){var t=e.popToken(),n=t.text;return console.log(t,e.macros.get(n),ki[n],ne.math[n],ne.text[n]),""})),ui("\\bgroup","{"),ui("\\egroup","}"),ui("~","\\nobreakspace"),ui("\\lq","`"),ui("\\rq","'"),ui("\\aa","\\r a"),ui("\\AA","\\r A"),ui("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}"),ui("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),ui("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}"),ui("","\\mathscr{B}"),ui("","\\mathscr{E}"),ui("","\\mathscr{F}"),ui("","\\mathscr{H}"),ui("","\\mathscr{I}"),ui("","\\mathscr{L}"),ui("","\\mathscr{M}"),ui("","\\mathscr{R}"),ui("","\\mathfrak{C}"),ui("","\\mathfrak{H}"),ui("","\\mathfrak{Z}"),ui("\\Bbbk","\\Bbb{k}"),ui("","\\cdotp"),ui("\\llap","\\mathllap{\\textrm{#1}}"),ui("\\rlap","\\mathrlap{\\textrm{#1}}"),ui("\\clap","\\mathclap{\\textrm{#1}}"),ui("\\mathstrut","\\vphantom{(}"),ui("\\underbar","\\underline{\\text{#1}}"),ui("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),ui("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}"),ui("\\ne","\\neq"),ui("","\\neq"),ui("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}"),ui("","\\notin"),ui("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}"),ui("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}"),ui("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}"),ui("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}"),ui("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}"),ui("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}"),ui("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}"),ui("","\\perp"),ui("","\\mathclose{!\\mkern-0.8mu!}"),ui("","\\notni"),ui("","\\ulcorner"),ui("","\\urcorner"),ui("","\\llcorner"),ui("","\\lrcorner"),ui("","\\copyright"),ui("","\\textregistered"),ui("","\\textregistered"),ui("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),ui("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),ui("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),ui("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),ui("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),ui("","\\vdots"),ui("\\varGamma","\\mathit{\\Gamma}"),ui("\\varDelta","\\mathit{\\Delta}"),ui("\\varTheta","\\mathit{\\Theta}"),ui("\\varLambda","\\mathit{\\Lambda}"),ui("\\varXi","\\mathit{\\Xi}"),ui("\\varPi","\\mathit{\\Pi}"),ui("\\varSigma","\\mathit{\\Sigma}"),ui("\\varUpsilon","\\mathit{\\Upsilon}"),ui("\\varPhi","\\mathit{\\Phi}"),ui("\\varPsi","\\mathit{\\Psi}"),ui("\\varOmega","\\mathit{\\Omega}"),ui("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),ui("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu"),ui("\\boxed","\\fbox{$\\displaystyle{#1}$}"),ui("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),ui("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),ui("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var Ii={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};ui("\\dots",(function(e){var t="\\dotso",n=e.expandAfterFuture().text;return n in Ii?t=Ii[n]:("\\not"===n.substr(0,4)||n in ne.math&&l.contains(["bin","rel"],ne.math[n].group))&&(t="\\dotsb"),t}));var Oi={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};ui("\\dotso",(function(e){return e.future().text in Oi?"\\ldots\\,":"\\ldots"})),ui("\\dotsc",(function(e){var t=e.future().text;return t in Oi&&","!==t?"\\ldots\\,":"\\ldots"})),ui("\\cdots",(function(e){return e.future().text in Oi?"\\@cdots\\,":"\\@cdots"})),ui("\\dotsb","\\cdots"),ui("\\dotsm","\\cdots"),ui("\\dotsi","\\!\\cdots"),ui("\\dotsx","\\ldots\\,"),ui("\\DOTSI","\\relax"),ui("\\DOTSB","\\relax"),ui("\\DOTSX","\\relax"),ui("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),ui("\\,","\\tmspace+{3mu}{.1667em}"),ui("\\thinspace","\\,"),ui("\\>","\\mskip{4mu}"),ui("\\:","\\tmspace+{4mu}{.2222em}"),ui("\\medspace","\\:"),ui("\\;","\\tmspace+{5mu}{.2777em}"),ui("\\thickspace","\\;"),ui("\\!","\\tmspace-{3mu}{.1667em}"),ui("\\negthinspace","\\!"),ui("\\negmedspace","\\tmspace-{4mu}{.2222em}"),ui("\\negthickspace","\\tmspace-{5mu}{.277em}"),ui("\\enspace","\\kern.5em "),ui("\\enskip","\\hskip.5em\\relax"),ui("\\quad","\\hskip1em\\relax"),ui("\\qquad","\\hskip2em\\relax"),ui("\\tag","\\@ifstar\\tag@literal\\tag@paren"),ui("\\tag@paren","\\tag@literal{({#1})}"),ui("\\tag@literal",(function(e){if(e.macros.get("\\df@tag"))throw new i("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"})),ui("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),ui("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),ui("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),ui("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),ui("\\pmb","\\html@mathml{\\@binrel{#1}{\\mathrlap{#1}\\kern0.5px#1}}{\\mathbf{#1}}"),ui("\\newline","\\\\\\relax"),ui("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var Fi=j(S["Main-Regular"]["T".charCodeAt(0)][1]-.7*S["Main-Regular"]["A".charCodeAt(0)][1]);ui("\\LaTeX","\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+Fi+"}{\\scriptstyle A}\\kern-.15em\\TeX}{LaTeX}}"),ui("\\KaTeX","\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+Fi+"}{\\scriptstyle A}\\kern-.15em\\TeX}{KaTeX}}"),ui("\\hspace","\\@ifstar\\@hspacer\\@hspace"),ui("\\@hspace","\\hskip #1\\relax"),ui("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),ui("\\ordinarycolon",":"),ui("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),ui("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),ui("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),ui("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),ui("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),ui("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),ui("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),ui("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),ui("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),ui("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),ui("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),ui("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),ui("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),ui("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),ui("","\\dblcolon"),ui("","\\eqcolon"),ui("","\\coloneqq"),ui("","\\eqqcolon"),ui("","\\Coloneqq"),ui("\\ratio","\\vcentcolon"),ui("\\coloncolon","\\dblcolon"),ui("\\colonequals","\\coloneqq"),ui("\\coloncolonequals","\\Coloneqq"),ui("\\equalscolon","\\eqqcolon"),ui("\\equalscoloncolon","\\Eqqcolon"),ui("\\colonminus","\\coloneq"),ui("\\coloncolonminus","\\Coloneq"),ui("\\minuscolon","\\eqcolon"),ui("\\minuscoloncolon","\\Eqcolon"),ui("\\coloncolonapprox","\\Colonapprox"),ui("\\coloncolonsim","\\Colonsim"),ui("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),ui("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),ui("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),ui("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),ui("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}"),ui("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),ui("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),ui("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),ui("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),ui("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),ui("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),ui("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),ui("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),ui("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}"),ui("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}"),ui("\\ngeqq","\\html@mathml{\\@ngeqq}{}"),ui("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}"),ui("\\nleqq","\\html@mathml{\\@nleqq}{}"),ui("\\nleqslant","\\html@mathml{\\@nleqslant}{}"),ui("\\nshortmid","\\html@mathml{\\@nshortmid}{}"),ui("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}"),ui("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}"),ui("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}"),ui("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}"),ui("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}"),ui("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}"),ui("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}"),ui("\\imath","\\html@mathml{\\@imath}{}"),ui("\\jmath","\\html@mathml{\\@jmath}{}"),ui("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}"),ui("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}"),ui("","\\llbracket"),ui("","\\rrbracket"),ui("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}"),ui("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}"),ui("","\\lBrace"),ui("","\\rBrace"),ui("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}"),ui("","\\minuso"),ui("\\darr","\\downarrow"),ui("\\dArr","\\Downarrow"),ui("\\Darr","\\Downarrow"),ui("\\lang","\\langle"),ui("\\rang","\\rangle"),ui("\\uarr","\\uparrow"),ui("\\uArr","\\Uparrow"),ui("\\Uarr","\\Uparrow"),ui("\\N","\\mathbb{N}"),ui("\\R","\\mathbb{R}"),ui("\\Z","\\mathbb{Z}"),ui("\\alef","\\aleph"),ui("\\alefsym","\\aleph"),ui("\\Alpha","\\mathrm{A}"),ui("\\Beta","\\mathrm{B}"),ui("\\bull","\\bullet"),ui("\\Chi","\\mathrm{X}"),ui("\\clubs","\\clubsuit"),ui("\\cnums","\\mathbb{C}"),ui("\\Complex","\\mathbb{C}"),ui("\\Dagger","\\ddagger"),ui("\\diamonds","\\diamondsuit"),ui("\\empty","\\emptyset"),ui("\\Epsilon","\\mathrm{E}"),ui("\\Eta","\\mathrm{H}"),ui("\\exist","\\exists"),ui("\\harr","\\leftrightarrow"),ui("\\hArr","\\Leftrightarrow"),ui("\\Harr","\\Leftrightarrow"),ui("\\hearts","\\heartsuit"),ui("\\image","\\Im"),ui("\\infin","\\infty"),ui("\\Iota","\\mathrm{I}"),ui("\\isin","\\in"),ui("\\Kappa","\\mathrm{K}"),ui("\\larr","\\leftarrow"),ui("\\lArr","\\Leftarrow"),ui("\\Larr","\\Leftarrow"),ui("\\lrarr","\\leftrightarrow"),ui("\\lrArr","\\Leftrightarrow"),ui("\\Lrarr","\\Leftrightarrow"),ui("\\Mu","\\mathrm{M}"),ui("\\natnums","\\mathbb{N}"),ui("\\Nu","\\mathrm{N}"),ui("\\Omicron","\\mathrm{O}"),ui("\\plusmn","\\pm"),ui("\\rarr","\\rightarrow"),ui("\\rArr","\\Rightarrow"),ui("\\Rarr","\\Rightarrow"),ui("\\real","\\Re"),ui("\\reals","\\mathbb{R}"),ui("\\Reals","\\mathbb{R}"),ui("\\Rho","\\mathrm{P}"),ui("\\sdot","\\cdot"),ui("\\sect","\\S"),ui("\\spades","\\spadesuit"),ui("\\sub","\\subset"),ui("\\sube","\\subseteq"),ui("\\supe","\\supseteq"),ui("\\Tau","\\mathrm{T}"),ui("\\thetasym","\\vartheta"),ui("\\weierp","\\wp"),ui("\\Zeta","\\mathrm{Z}"),ui("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),ui("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),ui("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),ui("\\bra","\\mathinner{\\langle{#1}|}"),ui("\\ket","\\mathinner{|{#1}\\rangle}"),ui("\\braket","\\mathinner{\\langle{#1}\\rangle}"),ui("\\Bra","\\left\\langle#1\\right|"),ui("\\Ket","\\left|#1\\right\\rangle"),ui("\\angln","{\\angl n}"),ui("\\blue","\\textcolor{##6495ed}{#1}"),ui("\\orange","\\textcolor{##ffa500}{#1}"),ui("\\pink","\\textcolor{##ff00af}{#1}"),ui("\\red","\\textcolor{##df0030}{#1}"),ui("\\green","\\textcolor{##28ae7b}{#1}"),ui("\\gray","\\textcolor{gray}{#1}"),ui("\\purple","\\textcolor{##9d38bd}{#1}"),ui("\\blueA","\\textcolor{##ccfaff}{#1}"),ui("\\blueB","\\textcolor{##80f6ff}{#1}"),ui("\\blueC","\\textcolor{##63d9ea}{#1}"),ui("\\blueD","\\textcolor{##11accd}{#1}"),ui("\\blueE","\\textcolor{##0c7f99}{#1}"),ui("\\tealA","\\textcolor{##94fff5}{#1}"),ui("\\tealB","\\textcolor{##26edd5}{#1}"),ui("\\tealC","\\textcolor{##01d1c1}{#1}"),ui("\\tealD","\\textcolor{##01a995}{#1}"),ui("\\tealE","\\textcolor{##208170}{#1}"),ui("\\greenA","\\textcolor{##b6ffb0}{#1}"),ui("\\greenB","\\textcolor{##8af281}{#1}"),ui("\\greenC","\\textcolor{##74cf70}{#1}"),ui("\\greenD","\\textcolor{##1fab54}{#1}"),ui("\\greenE","\\textcolor{##0d923f}{#1}"),ui("\\goldA","\\textcolor{##ffd0a9}{#1}"),ui("\\goldB","\\textcolor{##ffbb71}{#1}"),ui("\\goldC","\\textcolor{##ff9c39}{#1}"),ui("\\goldD","\\textcolor{##e07d10}{#1}"),ui("\\goldE","\\textcolor{##a75a05}{#1}"),ui("\\redA","\\textcolor{##fca9a9}{#1}"),ui("\\redB","\\textcolor{##ff8482}{#1}"),ui("\\redC","\\textcolor{##f9685d}{#1}"),ui("\\redD","\\textcolor{##e84d39}{#1}"),ui("\\redE","\\textcolor{##bc2612}{#1}"),ui("\\maroonA","\\textcolor{##ffbde0}{#1}"),ui("\\maroonB","\\textcolor{##ff92c6}{#1}"),ui("\\maroonC","\\textcolor{##ed5fa6}{#1}"),ui("\\maroonD","\\textcolor{##ca337c}{#1}"),ui("\\maroonE","\\textcolor{##9e034e}{#1}"),ui("\\purpleA","\\textcolor{##ddd7ff}{#1}"),ui("\\purpleB","\\textcolor{##c6b9fc}{#1}"),ui("\\purpleC","\\textcolor{##aa87ff}{#1}"),ui("\\purpleD","\\textcolor{##7854ab}{#1}"),ui("\\purpleE","\\textcolor{##543b78}{#1}"),ui("\\mintA","\\textcolor{##f5f9e8}{#1}"),ui("\\mintB","\\textcolor{##edf2df}{#1}"),ui("\\mintC","\\textcolor{##e0e5cc}{#1}"),ui("\\grayA","\\textcolor{##f6f7f7}{#1}"),ui("\\grayB","\\textcolor{##f0f1f2}{#1}"),ui("\\grayC","\\textcolor{##e3e5e6}{#1}"),ui("\\grayD","\\textcolor{##d6d8da}{#1}"),ui("\\grayE","\\textcolor{##babec2}{#1}"),ui("\\grayF","\\textcolor{##888d93}{#1}"),ui("\\grayG","\\textcolor{##626569}{#1}"),ui("\\grayH","\\textcolor{##3b3e40}{#1}"),ui("\\grayI","\\textcolor{##21242c}{#1}"),ui("\\kaBlue","\\textcolor{##314453}{#1}"),ui("\\kaGreen","\\textcolor{##71B307}{#1}");var Ri={"\\relax":!0,"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0},Pi=function(){function e(e,t,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new Ti(Ni,t.macros),this.mode=n,this.stack=[]}var t=e.prototype;return t.feed=function(e){this.lexer=new Li(e,this.settings)},t.switchMode=function(e){this.mode=e},t.beginGroup=function(){this.macros.beginGroup()},t.endGroup=function(){this.macros.endGroup()},t.endGroups=function(){this.macros.endGroups()},t.future=function(){return 0===this.stack.length&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]},t.popToken=function(){return this.future(),this.stack.pop()},t.pushToken=function(e){this.stack.push(e)},t.pushTokens=function(e){var t;(t=this.stack).push.apply(t,e)},t.scanArgument=function(e){var t,n,i;if(e){if(this.consumeSpaces(),"["!==this.future().text)return null;t=this.popToken();var r=this.consumeArg(["]"]);i=r.tokens,n=r.end}else{var o=this.consumeArg();i=o.tokens,t=o.start,n=o.end}return this.pushToken(new Di("EOF",n.loc)),this.pushTokens(i),t.range(n,"")},t.consumeSpaces=function(){for(;" "===this.future().text;)this.stack.pop()},t.consumeArg=function(e){var t=[],n=e&&e.length>0;n||this.consumeSpaces();var r,o=this.future(),s=0,a=0;do{if(r=this.popToken(),t.push(r),"{"===r.text)++s;else if("}"===r.text){if(-1==--s)throw new i("Extra }",r)}else if("EOF"===r.text)throw new i("Unexpected end of input in a macro argument, expected '"+(e&&n?e[a]:"}")+"'",r);if(e&&n)if((0===s||1===s&&"{"===e[a])&&r.text===e[a]){if(++a===e.length){t.splice(-a,a);break}}else a=0}while(0!==s||n);return"{"===o.text&&"}"===t[t.length-1].text&&(t.pop(),t.shift()),t.reverse(),{tokens:t,start:o,end:r}},t.consumeArgs=function(e,t){if(t){if(t.length!==e+1)throw new i("The length of delimiters doesn't match the number of args!");for(var n=t[0],r=0;r<n.length;r++){var o=this.popToken();if(n[r]!==o.text)throw new i("Use of the macro doesn't match its definition",o)}}for(var s=[],a=0;a<e;a++)s.push(this.consumeArg(t&&t[a+1]).tokens);return s},t.expandOnce=function(e){var t=this.popToken(),n=t.text,r=t.noexpand?null:this._getExpansion(n);if(null==r||e&&r.unexpandable){if(e&&null==r&&"\\"===n[0]&&!this.isDefined(n))throw new i("Undefined control sequence: "+n);return this.pushToken(t),t}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new i("Too many expansions: infinite loop or need to increase maxExpand setting");var o=r.tokens,s=this.consumeArgs(r.numArgs,r.delimiters);if(r.numArgs)for(var a=(o=o.slice()).length-1;a>=0;--a){var l=o[a];if("#"===l.text){if(0===a)throw new i("Incomplete placeholder at end of macro body",l);if("#"===(l=o[--a]).text)o.splice(a+1,1);else{if(!/^[1-9]$/.test(l.text))throw new i("Not a valid argument number",l);var c;(c=o).splice.apply(c,[a,2].concat(s[+l.text-1]))}}}return this.pushTokens(o),o},t.expandAfterFuture=function(){return this.expandOnce(),this.future()},t.expandNextToken=function(){for(;;){var e=this.expandOnce();if(e instanceof Di){if("\\relax"!==e.text&&!e.treatAsRelax)return this.stack.pop();this.stack.pop()}}throw new Error},t.expandMacro=function(e){return this.macros.has(e)?this.expandTokens([new Di(e)]):void 0},t.expandTokens=function(e){var t=[],n=this.stack.length;for(this.pushTokens(e);this.stack.length>n;){var i=this.expandOnce(!0);i instanceof Di&&(i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),t.push(this.stack.pop()))}return t},t.expandMacroAsText=function(e){var t=this.expandMacro(e);return t?t.map((function(e){return e.text})).join(""):t},t._getExpansion=function(e){var t=this.macros.get(e);if(null==t)return t;if(1===e.length){var n=this.lexer.catcodes[e];if(null!=n&&13!==n)return}var i="function"==typeof t?t(this):t;if("string"==typeof i){var r=0;if(-1!==i.indexOf("#"))for(var o=i.replace(/##/g,"");-1!==o.indexOf("#"+(r+1));)++r;for(var s=new Li(i,this.settings),a=[],l=s.lex();"EOF"!==l.text;)a.push(l),l=s.lex();return a.reverse(),{tokens:a,numArgs:r}}return i},t.isDefined=function(e){return this.macros.has(e)||ki.hasOwnProperty(e)||ne.math.hasOwnProperty(e)||ne.text.hasOwnProperty(e)||Ri.hasOwnProperty(e)},t.isExpandable=function(e){var t=this.macros.get(e);return null!=t?"string"==typeof t||"function"==typeof t||!t.unexpandable:ki.hasOwnProperty(e)&&!ki[e].primitive},e}(),Bi={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},ji={"":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"k","":"k","":"k","":"l","":"l","":"l","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"p","":"p","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"K","":"K","":"K","":"L","":"L","":"L","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"P","":"P","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},zi=function(){function e(e,t){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Pi(e,t,this.mode),this.settings=t,this.leftrightDepth=0}var t=e.prototype;return t.expect=function(e,t){if(void 0===t&&(t=!0),this.fetch().text!==e)throw new i("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());t&&this.consume()},t.consume=function(){this.nextToken=null},t.fetch=function(){return null==this.nextToken&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken},t.switchMode=function(e){this.mode=e,this.gullet.switchMode(e)},t.parse=function(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}},t.parseExpression=function(t,n){for(var i=[];;){"math"===this.mode&&this.consumeSpaces();var r=this.fetch();if(-1!==e.endOfExpression.indexOf(r.text))break;if(n&&r.text===n)break;if(t&&ki[r.text]&&ki[r.text].infix)break;var o=this.parseAtom(n);if(!o)break;"internal"!==o.type&&i.push(o)}return"text"===this.mode&&this.formLigatures(i),this.handleInfixNodes(i)},t.handleInfixNodes=function(e){for(var t,n=-1,r=0;r<e.length;r++)if("infix"===e[r].type){if(-1!==n)throw new i("only one infix operator per group",e[r].token);n=r,t=e[r].replaceWith}if(-1!==n&&t){var o,s,a=e.slice(0,n),l=e.slice(n+1);return o=1===a.length&&"ordgroup"===a[0].type?a[0]:{type:"ordgroup",mode:this.mode,body:a},s=1===l.length&&"ordgroup"===l[0].type?l[0]:{type:"ordgroup",mode:this.mode,body:l},["\\\\abovefrac"===t?this.callFunction(t,[o,e[n],s],[]):this.callFunction(t,[o,s],[])]}return e},t.handleSupSubscript=function(e){var t=this.fetch(),n=t.text;this.consume(),this.consumeSpaces();var r=this.parseGroup(e);if(!r)throw new i("Expected group after '"+n+"'",t);return r},t.formatUnsupportedCmd=function(e){for(var t=[],n=0;n<e.length;n++)t.push({type:"textord",mode:"text",text:e[n]});var i={type:"text",mode:this.mode,body:t};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]}},t.parseAtom=function(e){var t,n,r=this.parseGroup("atom",e);if("text"===this.mode)return r;for(;;){this.consumeSpaces();var o=this.fetch();if("\\limits"===o.text||"\\nolimits"===o.text){if(r&&"op"===r.type){var s="\\limits"===o.text;r.limits=s,r.alwaysHandleSupSub=!0}else{if(!r||"operatorname"!==r.type)throw new i("Limit controls must follow a math operator",o);r.alwaysHandleSupSub&&(r.limits="\\limits"===o.text)}this.consume()}else if("^"===o.text){if(t)throw new i("Double superscript",o);t=this.handleSupSubscript("superscript")}else if("_"===o.text){if(n)throw new i("Double subscript",o);n=this.handleSupSubscript("subscript")}else{if("'"!==o.text)break;if(t)throw new i("Double superscript",o);var a={type:"textord",mode:this.mode,text:"\\prime"},l=[a];for(this.consume();"'"===this.fetch().text;)l.push(a),this.consume();"^"===this.fetch().text&&l.push(this.handleSupSubscript("superscript")),t={type:"ordgroup",mode:this.mode,body:l}}}return t||n?{type:"supsub",mode:this.mode,base:r,sup:t,sub:n}:r},t.parseFunction=function(e,t){var n=this.fetch(),r=n.text,o=ki[r];if(!o)return null;if(this.consume(),t&&"atom"!==t&&!o.allowedInArgument)throw new i("Got function '"+r+"' with no arguments"+(t?" as "+t:""),n);if("text"===this.mode&&!o.allowedInText)throw new i("Can't use function '"+r+"' in text mode",n);if("math"===this.mode&&!1===o.allowedInMath)throw new i("Can't use function '"+r+"' in math mode",n);var s=this.parseArguments(r,o),a=s.args,l=s.optArgs;return this.callFunction(r,a,l,n,e)},t.callFunction=function(e,t,n,r,o){var s={funcName:e,parser:this,token:r,breakOnTokenText:o},a=ki[e];if(a&&a.handler)return a.handler(s,t,n);throw new i("No function handler for "+e)},t.parseArguments=function(e,t){var n=t.numArgs+t.numOptionalArgs;if(0===n)return{args:[],optArgs:[]};for(var r=[],o=[],s=0;s<n;s++){var a=t.argTypes&&t.argTypes[s],l=s<t.numOptionalArgs;(t.primitive&&null==a||"sqrt"===t.type&&1===s&&null==o[0])&&(a="primitive");var c=this.parseGroupOfType("argument to '"+e+"'",a,l);if(l)o.push(c);else{if(null==c)throw new i("Null argument, please report this as a bug");r.push(c)}}return{args:r,optArgs:o}},t.parseGroupOfType=function(e,t,n){switch(t){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,t);case"hbox":var r=this.parseArgumentGroup(n,"text");return null!=r?{type:"styling",mode:r.mode,body:[r],style:"text"}:null;case"raw":var o=this.parseStringGroup("raw",n);return null!=o?{type:"raw",mode:"text",string:o.text}:null;case"primitive":if(n)throw new i("A primitive argument cannot be optional");var s=this.parseGroup(e);if(null==s)throw new i("Expected group as "+e,this.fetch());return s;case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new i("Unknown group type as "+e,this.fetch())}},t.consumeSpaces=function(){for(;" "===this.fetch().text;)this.consume()},t.parseStringGroup=function(e,t){var n=this.gullet.scanArgument(t);if(null==n)return null;for(var i,r="";"EOF"!==(i=this.fetch()).text;)r+=i.text,this.consume();return this.consume(),n.text=r,n},t.parseRegexGroup=function(e,t){for(var n,r=this.fetch(),o=r,s="";"EOF"!==(n=this.fetch()).text&&e.test(s+n.text);)s+=(o=n).text,this.consume();if(""===s)throw new i("Invalid "+t+": '"+r.text+"'",r);return r.range(o,s)},t.parseColorGroup=function(e){var t=this.parseStringGroup("color",e);if(null==t)return null;var n=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!n)throw new i("Invalid color: '"+t.text+"'",t);var r=n[0];return/^[0-9a-f]{6}$/i.test(r)&&(r="#"+r),{type:"color-token",mode:this.mode,color:r}},t.parseSizeGroup=function(e){var t,n=!1;if(this.gullet.consumeSpaces(),!(t=e||"{"===this.gullet.future().text?this.parseStringGroup("size",e):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size")))return null;e||0!==t.text.length||(t.text="0pt",n=!0);var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!r)throw new i("Invalid size: '"+t.text+"'",t);var o={number:+(r[1]+r[2]),unit:r[3]};if(!P(o))throw new i("Invalid unit: '"+o.unit+"'",t);return{type:"size",mode:this.mode,value:o,isBlank:n}},t.parseUrlGroup=function(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var t=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),null==t)return null;var n=t.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}},t.parseArgumentGroup=function(e,t){var n=this.gullet.scanArgument(e);if(null==n)return null;var i=this.mode;t&&this.switchMode(t),this.gullet.beginGroup();var r=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var o={type:"ordgroup",mode:this.mode,loc:n.loc,body:r};return t&&this.switchMode(i),o},t.parseGroup=function(e,t){var n,r=this.fetch(),o=r.text;if("{"===o||"\\begingroup"===o){this.consume();var s="{"===o?"}":"\\endgroup";this.gullet.beginGroup();var a=this.parseExpression(!1,s),l=this.fetch();this.expect(s),this.gullet.endGroup(),n={type:"ordgroup",mode:this.mode,loc:Si.range(r,l),body:a,semisimple:"\\begingroup"===o||void 0}}else if(null==(n=this.parseFunction(t,e)||this.parseSymbol())&&"\\"===o[0]&&!Ri.hasOwnProperty(o)){if(this.settings.throwOnError)throw new i("Undefined control sequence: "+o,r);n=this.formatUnsupportedCmd(o),this.consume()}return n},t.formLigatures=function(e){for(var t=e.length-1,n=0;n<t;++n){var i=e[n],r=i.text;"-"===r&&"-"===e[n+1].text&&(n+1<t&&"-"===e[n+2].text?(e.splice(n,3,{type:"textord",mode:"text",loc:Si.range(i,e[n+2]),text:"---"}),t-=2):(e.splice(n,2,{type:"textord",mode:"text",loc:Si.range(i,e[n+1]),text:"--"}),t-=1)),"'"!==r&&"`"!==r||e[n+1].text!==r||(e.splice(n,2,{type:"textord",mode:"text",loc:Si.range(i,e[n+1]),text:r+r}),t-=1)}},t.parseSymbol=function(){var e=this.fetch(),t=e.text;if(/^\\verb[^a-zA-Z]/.test(t)){this.consume();var n=t.slice(5),r="*"===n.charAt(0);if(r&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new i("\\verb assertion failed --\n                    please report what input caused this bug");return{type:"verb",mode:"text",body:n=n.slice(1,-1),star:r}}ji.hasOwnProperty(t[0])&&!ne[this.mode][t[0]]&&(this.settings.strict&&"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+t[0]+'" used in math mode',e),t=ji[t[0]]+t.substr(1));var o,s=Ei.exec(t);if(s&&("i"===(t=t.substring(0,s.index))?t="":"j"===t&&(t="")),ne[this.mode][t]){this.settings.strict&&"math"===this.mode&&Oe.indexOf(t)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+t[0]+'" used in math mode',e);var a,l=ne[this.mode][t].group,c=Si.range(e);if(Q.hasOwnProperty(l)){var u=l;a={type:"atom",mode:this.mode,family:u,loc:c,text:t}}else a={type:l,mode:this.mode,loc:c,text:t};o=a}else{if(!(t.charCodeAt(0)>=128))return null;this.settings.strict&&(w(t.charCodeAt(0))?"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+t[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+t[0]+'" ('+t.charCodeAt(0)+")",e)),o={type:"textord",mode:"text",loc:Si.range(e),text:t}}if(this.consume(),s)for(var h=0;h<s[0].length;h++){var d=s[0][h];if(!Bi[d])throw new i("Unknown accent ' "+d+"'",e);var f=Bi[d][this.mode]||Bi[d].text;if(!f)throw new i("Accent "+d+" unsupported in "+this.mode+" mode",e);o={type:"accent",mode:this.mode,loc:Si.range(e),label:f,isStretchy:!1,isShifty:!0,base:o}}return o},e}();zi.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Vi=function(e,t){if(!("string"==typeof e||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new zi(e,t);delete n.gullet.macros.current["\\df@tag"];var r=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new i("\\tag works only in display equations");n.gullet.feed("\\df@tag"),r=[{type:"tag",mode:"text",body:r,tag:n.parse()}]}return r},Wi=function(e,t,n){t.textContent="";var i=Ui(e,n).toNode();t.appendChild(i)};"undefined"!=typeof document&&"CSS1Compat"!==document.compatMode&&("undefined"!=typeof console&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Wi=function(){throw new i("KaTeX doesn't work in quirks mode.")});var Hi=function(e,t,n){if(n.throwOnError||!(e instanceof i))throw e;var r=Ge.makeSpan(["katex-error"],[new Y(t)]);return r.setAttribute("title",e.toString()),r.setAttribute("style","color:"+n.errorColor),r},Ui=function(e,t){var n=new c(t);try{return function(e,t,n){var i,r=It(n);if("mathml"===n.output)return At(e,t,r,n.displayMode,!0);if("html"===n.output){var o=wt(e,r);i=Ge.makeSpan(["katex"],[o])}else{var s=At(e,t,r,n.displayMode,!1),a=wt(e,r);i=Ge.makeSpan(["katex"],[s,a])}return Ot(i,n)}(Vi(e,n),e,n)}catch(i){return Hi(i,e,n)}},$i={version:"0.13.24",render:Wi,renderToString:function(e,t){return Ui(e,t).toMarkup()},ParseError:i,__parse:function(e,t){var n=new c(t);return Vi(e,n)},__renderToDomTree:Ui,__renderToHTMLTree:function(e,t){var n=new c(t);try{return function(e,t,n){var i=wt(e,It(n)),r=Ge.makeSpan(["katex"],[i]);return Ot(r,n)}(Vi(e,n),0,n)}catch(i){return Hi(i,e,n)}},__setFontMetrics:function(e,t){S[e]=t},__defineSymbol:ie,__defineMacro:ui,__domTree:{Span:U,Anchor:$,SymbolNode:Y,SvgNode:G,PathNode:X,LineNode:Z}};return t=t.default}()};var kL=xL.exports=CL();const SL=/^\$\$\s$/,DL=Vx(((e,t)=>{var n;const{codeStyle:i,hideCodeStyle:r,previewPanelStyle:o}=(e=>({codeStyle:e.getStyle((({palette:e,size:t,font:n})=>ix`
            color: ${e("neutral",.87)};
            background-color: ${e("background")};
            border-radius: ${t.radius};
            padding: 1rem 2rem;
            font-size: 0.875rem;
            font-family: ${n.code};
            overflow: hidden;
            .ProseMirror {
                outline: none;
            }
        `)),hideCodeStyle:ix`
        display: none;
    `,previewPanelStyle:e.getStyle((()=>ix`
            display: flex;
            justify-content: center;
            padding: 1rem 0;
        `))}))(e),s="math_block",a=Object.assign({empty:"Empty",error:"Syntax Error"},null!==(n=null==t?void 0:t.placeholder)&&void 0!==n?n:{});return{id:s,schema:()=>({content:"text*",group:"block",marks:"",defining:!0,atom:!0,code:!0,isolating:!0,attrs:{value:{default:""}},parseDOM:[{tag:'div[data-type="mathBlock"]',preserveWhitespace:"full",getAttrs:e=>{if(!(e instanceof HTMLElement))throw new Error;return{value:e.innerHTML}}}],toDOM:t=>["div",{class:e.getClassName(t.attrs,"mermaid"),"data-type":s,"data-value":t.attrs.value},0],parseMarkdown:{match:({type:e})=>"math"===e,runner:(e,t,n)=>{const i=t.value;e.openNode(n,{value:i}),e.addText(i),e.closeNode()}},toMarkdown:{match:e=>e.type.name===s,runner:(e,t)=>{let n="";t.forEach((e=>{n+=e.text})),e.addNode("math",void 0,n)}}}),view:()=>(e,t,n)=>{const l=((e,t)=>{let n,i=!1;return{isEditing:()=>i,innerView:()=>n,openEditor:(r,o)=>{n=new Pm(r,{state:sf.create({doc:o,plugins:[Gf({Tab:(e,t)=>(t&&t(e.tr.insertText("\t")),!0),Enter:yf,"Mod-Enter":(t,n)=>{if(n){const{state:t}=e,{to:n}=t.selection,i=t.tr.replaceWith(n,n,t.schema.nodes.paragraph.createAndFill());e.dispatch(i.setSelection(qd.create(i.doc,n))),e.focus()}return!0}})]}),dispatchTransaction:i=>{if(!n)return;const{state:r,transactions:o}=n.state.applyTransaction(i);if(n.updateState(r),!i.getMeta("fromOutside")){const n=e.state.tr,i=hd.offset(t()+1);o.forEach((e=>{const{steps:t}=e;t.forEach((e=>{const t=e.map(i);if(!t)throw Error("step discarded!");n.step(t)}))})),n.docChanged&&e.dispatch(n)}}}),n.focus();const{state:s}=n;n.dispatch(s.tr.setSelection(qd.create(s.doc,0))),i=!0},closeEditor:()=>{n&&n.destroy(),n=void 0,i=!1}}})(t,n);let c=e;const u=document.createElement("div");u.classList.add("math-block");const h=document.createElement("div");h.dataset.type=s,h.dataset.value=e.attrs.value,i&&h.classList.add(i,r);const d=document.createElement("div");o&&d.classList.add(o),u.append(h);const f=e=>{try{e?kL.render(e,d):d.innerHTML=a.empty}catch(t){d.innerHTML=a.error}finally{u.appendChild(d)}};return f(e.attrs.value),{dom:u,update:t=>{var n;if(!t.sameMarkup(c))return!1;c=t;const i=l.innerView();if(i){const n=i.state,r=t.content.findDiffStart(n.doc.content);if(null!=r){const o=t.content.findDiffEnd(n.doc.content);if(o){let{a:t,b:s}=o;const a=r-Math.min(t,s);a>0&&(t+=a,s+=a),i.dispatch(n.tr.replace(r,s,e.slice(r,t)).setMeta("fromOutside",!0))}}}const r=(null===(n=t.content.firstChild)||void 0===n?void 0:n.text)||"";return h.dataset.value=r,f(r),!0},selectNode:()=>{t.editable&&(h.classList.remove(r),l.openEditor(h,c),u.classList.add("ProseMirror-selectednode"))},deselectNode:()=>{h.classList.add(r),l.closeEditor(),u.classList.remove("ProseMirror-selectednode")},stopEvent:e=>{const t=l.innerView(),{target:n}=e,i=n&&(null==t?void 0:t.dom.contains(n));return!(!t||!i)},ignoreMutation:()=>!0,destroy(){d.remove(),h.remove(),u.remove()}}},inputRules:e=>[Ff(SL,e)]}})),EL=Bw(),LL=Vx(((e,t)=>{var n;const i=Object.assign({empty:"(empty)",error:"(error)"},null!==(n=null==t?void 0:t.placeholder)&&void 0!==n?n:{}),r=e.getStyle((({size:e,palette:t})=>ix`
            font-size: unset;

            &.ProseMirror-selectednode {
                outline: none;
                border: ${e.lineWidth} solid ${t("line")};
            }
        `)),o="math_inline";return{id:o,schema:()=>({group:"inline",inline:!0,atom:!0,attrs:{value:{default:""}},parseDOM:[{tag:'span[data-type="mathInline"]'}],toDOM:e=>["span",{class:r,"data-type":o,"data-value":e.attrs.value}],parseMarkdown:{match:e=>"inlineMath"===e.type,runner:(e,t,n)=>{const i=t.value;e.addNode(n,{value:i})}},toMarkdown:{match:e=>e.type.name===o,runner:(e,t)=>{e.addNode("inlineMath",void 0,t.attrs.value)}}}),commands:e=>[Rw(EL,((t="")=>(n,i)=>{const r=Gm(n.selection,e);if(!r)return!1;const{tr:o}=n,s=o.setNodeMarkup(r.pos,void 0,Object.assign(Object.assign({},r.node.attrs),{value:t}));return null==i||i(s.setSelection(Yd.create(s.doc,r.pos))),!0}))],view:()=>e=>{let t=e;const n=document.createElement("span");r&&n.classList.add(r);const o=e=>{try{e?kL.render(e,n):n.innerHTML=i.empty}catch(t){n.innerHTML=i.error}};return o(e.attrs.value),{dom:n,update:e=>{if(!e.sameMarkup(t))return!1;t=e;const n=e.attrs.value;return o(n),!0}}},inputRules:e=>[new Mf(/\$(.+)\$/,((t,n,i,r)=>{const o=t.doc.resolve(i),s=o.index(),a=t.doc.resolve(r);if(!o.parent.canReplaceWith(s,a.index(),e))return null;const l=n[1];return t.tr.replaceRangeWith(i,r,e.create({value:l},e.schema.text(l)))}))]}})),TL=Ox.create([LL(),DL()]),NL=Wx((()=>({remarkPlugins:()=>[wL]}))),ML=Ox.create([NL(),...TL]),AL=e=>t=>{const{target:n}=t;if(!(n instanceof HTMLElement))return()=>!0;if(gL(n,"input"))return n.focus(),()=>!1;const i=n.parentNode;if(!i)return()=>!1;const r=Array.from(i.children).find((e=>"INPUT"===e.tagName));return r instanceof HTMLInputElement?e.get(Pw).call(Gx,r.value):()=>!1},IL=e=>t=>{const{target:n}=t;if(!(n instanceof HTMLElement))return()=>!0;const i=n.parentNode;if(!i)return()=>!1;const r=Array.from(i.children).find((e=>"INPUT"===e.tagName));return r instanceof HTMLInputElement?e.get(Pw).call(EL,r.value):()=>!1},OL=e=>t=>{const{target:n}=t;if(!(n instanceof HTMLElement))return()=>!0;if(gL(n,"input"))return n.focus(),()=>!1;const i=n.parentNode;if(!i)return()=>!1;const r=Array.from(i.children).find((e=>"INPUT"===e.tagName));return r instanceof HTMLInputElement?e.get(Pw).call(vk,r.value):()=>!1},FL=(e,t)=>{const{marks:n}=e.state.schema,{firstChild:i,lastElementChild:r}=t;if(!(i instanceof HTMLInputElement&&r instanceof HTMLButtonElement))return;const{selection:o}=e.state;let s;if(e.state.doc.nodesBetween(o.from,o.to,(e=>{if(n.link.isInSet(e.marks))return s=e,!1})),!s)return;const a=s.marks.find((e=>e.type===n.link));if(!a)return;const l=a.attrs.href;i.value=l,l?r.classList.contains("disable")&&r.classList.remove("disable"):r.classList.add("disable")},RL=(e,t)=>{const{nodes:n}=e.state.schema,{firstChild:i,lastElementChild:r}=t;if(!(i instanceof HTMLInputElement&&r instanceof HTMLButtonElement))return;const o=Gm(e.state.selection,n.math_inline);if(!o)return;const{node:s}=o,a=s.attrs.value;i.value=a,a?r.classList.contains("disable")&&r.classList.remove("disable"):r.classList.add("disable")},PL=(e,t)=>{const{nodes:n}=e.state.schema,{firstChild:i,lastElementChild:r}=t;if(!(i instanceof HTMLInputElement&&r instanceof HTMLButtonElement))return;const o=Gm(e.state.selection,n.image);if(!o)return;const{node:s}=o,a=s.attrs.src;i.value=a,a?r.classList.contains("disable")&&r.classList.remove("disable"):r.classList.add("disable")},BL=(e,t)=>{const{from:n,to:i}=e.selection;return e.doc.rangeHasMark(n,n===i?i+1:i,t)},jL=(e,t)=>!(e=>{const{selection:t}=e;if(t instanceof qd)return!!e.doc.textBetween(t.from,t.to);return!1})(e)||(e=>Boolean(Ym((e=>!!e.type.spec.code))(e.selection)))(e)||BL(e,t),zL=(e,t,n,i,r)=>({$:e.get(hx).slots.icon(t),command:()=>e.get(Pw).call(n),active:e=>BL(e.state,i),disable:e=>jL(e.state,r),enable:e=>!!i&&!!e.state.schema.marks[i.name]});var VL,WL,HL,UL;(WL=VL||(VL={}))[WL.ToggleBold=0]="ToggleBold",WL[WL.ToggleItalic=1]="ToggleItalic",WL[WL.ToggleStrike=2]="ToggleStrike",WL[WL.ToggleCode=3]="ToggleCode",WL[WL.ToggleLink=4]="ToggleLink",(UL=HL||(HL={}))[UL.ModifyLink=0]="ModifyLink",UL[UL.ModifyImage=1]="ModifyImage",UL[UL.ModifyInlineMath=2]="ModifyInlineMath";const $L=e=>{var t,n;const{palette:i,mixin:r,size:o}=e;return ix`
        display: inline-flex;
        cursor: pointer;
        justify-content: space-evenly;
        position: absolute;
        border-radius: ${o.radius};
        z-index: 2;

        ${null===(t=r.border)||void 0===t?void 0:t.call(r)};
        ${null===(n=r.shadow)||void 0===n?void 0:n.call(r)};

        overflow: hidden;
        background: ${i("surface")};

        .icon {
            position: relative;
            color: ${i("solid",.87)};

            width: 3rem;
            line-height: 3rem;
            text-align: center;
            transition: all 0.4s ease-in-out;
            &:hover {
                background-color: ${i("secondary",.12)};
            }
            &.active {
                color: ${i("primary")};
            }
            &:not(:last-child)::after {
                content: '';
                position: absolute;
                top: 0;
                right: calc(-0.5 * ${o.lineWidth});
                width: ${o.lineWidth};
                bottom: 0;
                background: ${i("line")};
            }
        }
        &.hide,
        .hide {
            display: none;
        }
    `},qL=(e,t)=>(Object.values(e).filter((e=>e.enable(t))).forEach((e=>{var n;if(null===(n=e.disable)||void 0===n?void 0:n.call(e,t))return void e.$.classList.add("hide");e.$.classList.remove("hide");e.active(t)?e.$.classList.add("active"):e.$.classList.remove("active")})),((e,t)=>Object.values(e).filter((e=>e.enable(t))).every((({$:e})=>e.classList.contains("hide"))))(e,t)),KL=(e,t)=>{const{dom:n,render:i}=((e,t)=>{const n=document.createElement("div"),i=t.getStyle($L)||"";return i&&n.classList.add(i),n.classList.add("tooltip"),{dom:n,render:t=>{var i;Object.values(e).filter((e=>e.enable(t))).forEach((({$:e})=>n.appendChild(e))),null===(i=t.dom.parentNode)||void 0===i||i.appendChild(n)}}})(e,t),r=t=>{const n=Object.values(e).find((({$:e})=>t.target instanceof Element&&e.contains(t.target)));n&&(t.stopPropagation(),t.preventDefault(),n.command())},o=()=>{n.classList.add("hide")};return n.addEventListener("mousedown",r),{destroy:()=>{n.removeEventListener("mousedown",r),n.remove()},hide:o,update:t=>{qL(e,t)?o():((e,t)=>{e.classList.remove("hide"),qm(t,e,((e,t,n,i)=>{const r=t.left-e.left;let o=e.left-i.left-(n.width-r)/2,s=e.top-i.top-n.height-14;return o<0&&(o=0),e.top<n.height&&(s=e.bottom-i.top+14),[s,o]}))})(n,t)},render:i}},YL=e=>{var t,n;const{palette:i,mixin:r,size:o}=e;return ix`
        ${null===(t=r.border)||void 0===t?void 0:t.call(r)};
        ${null===(n=r.shadow)||void 0===n?void 0:n.call(r)};

        display: inline-flex;
        justify-content: space-between;
        align-items: center;
        position: absolute;
        background: ${i("surface")};
        border-radius: ${o.radius};
        font-size: 1rem;

        height: 3.5rem;
        box-sizing: border-box;
        width: 25.5rem;
        padding: 0 1rem;
        gap: 1rem;
        z-index: 2;

        input,
        button {
            all: unset;
        }

        input {
            flex-grow: 1;
            caret-color: ${i("primary")};
            &::placeholder {
                color: ${i("neutral",.6)};
            }
        }

        button {
            cursor: pointer;
            height: 2.25rem;
            color: ${i("primary")};
            font-size: 0.875rem;
            padding: 0 0.5rem;
            font-weight: 500;
            letter-spacing: 1.25px;
            &:hover {
                background-color: ${i("secondary",.12)};
            }
            &.disable {
                color: ${i("neutral",.38)};
                cursor: not-allowed;
                &:hover {
                    background: transparent;
                }
            }
            &.hide {
                display: none;
            }
        }

        &.hide {
            display: none;
        }
    `},GL=(e,t)=>{let n,i=!1;const r=e=>n=e,{div:o,button:s,input:a}=(e=>{const t=document.createElement("div"),n=e.getStyle(YL);n&&t.classList.add(n),t.classList.add("tooltip-input");const i=document.createElement("input");t.appendChild(i);const r=document.createElement("button");return t.appendChild(r),i.addEventListener("input",(e=>{const{target:t}=e;t instanceof HTMLInputElement&&(t.value?r.classList.remove("disable"):r.classList.add("disable"))})),{div:t,input:i,button:r}})(t),l=e=>{n&&!s.classList.contains("disable")&&(e.stopPropagation(),n(e),o.classList.add("hide"))},c=e=>{i&&n&&n(e)};return a.addEventListener("input",c),s.addEventListener("mousedown",l),{destroy:()=>{a.removeEventListener("input",c),o.removeEventListener("mousedown",l),o.remove()},hide:()=>{o.classList.add("hide"),r()},update:t=>{const n=((e,t,n,i,r)=>{const o=Object.values(t).find((t=>t.display(e)));if(o)return n.classList.remove("hide"),o.bind?r.classList.add("hide"):(r.classList.remove("hide"),r.textContent=o.buttonText),i.placeholder=o.placeholder,o.update(e,n),o;n.classList.add("hide")})(t,e,o,a,s);n&&(i=!!n.bind,r(n.command),((e,t)=>{qm(e,t,((e,t,n,i)=>{const r=t.left-e.left;let o=e.left-i.left-(n.width-r)/2;return o<0&&(o=0),[e.bottom-i.top+14,o]}))})(t,o))},render:e=>{const t=e.dom.parentNode;if(!t)throw new Error;t.appendChild(o)}}},XL=(e,t,n)=>{const i=KL(e,n),r=GL(t,n);let o=!1;const s=(e,t)=>{const{state:n}=e;if(!e.editable||o)return i.hide(),void r.hide();(null==t?void 0:t.doc.eq(n.doc))&&t.selection.eq(n.selection)||(i.update(e),r.update(e))};return{update:s,destroy:()=>{i.destroy(),r.destroy()},render:e=>{i.render(e),r.render(e),s(e)},setHide:e=>{o=e}}},ZL=new ff("MILKDOWN_PLUGIN_TOOLTIP"),JL=Wx(((e,t)=>({id:"tooltip",prosePlugins:(n,i)=>{var r,o,s;const a=i.get(q_),l=XL(((e,t)=>{const{marks:n}=e;return{[VL.ToggleBold]:zL(t,"bold",Zx,n.strong,n.code_inline),[VL.ToggleItalic]:zL(t,"italic",qx,n.em,n.code_inline),[VL.ToggleStrike]:zL(t,"strikeThrough",aL,n.strike_through,n.code_inline),[VL.ToggleCode]:zL(t,"code",Ux,n.code_inline,n.link),[VL.ToggleLink]:zL(t,"link",Yx,n.link,n.code_inline)}})(a,i),((e,t,n)=>{const{marks:i,nodes:r}=e;return{[HL.ModifyLink]:Object.assign({display:e=>e.state.selection.empty&&BL(e.state,i.link),command:AL(t),update:FL},n.link),[HL.ModifyInlineMath]:Object.assign({display:e=>Boolean(Gm(e.state.selection,r.math_inline)),command:IL(t),update:RL,bind:!0},n.inlineMath),[HL.ModifyImage]:Object.assign({display:e=>Boolean(Gm(e.state.selection,r.image)),command:OL(t),update:PL},n.image)}})(a,i,{link:Object.assign({placeholder:"Input Web Link",buttonText:"APPLY"},null!==(r=null==t?void 0:t.link)&&void 0!==r?r:{}),image:Object.assign({placeholder:"Input Image Link",buttonText:"APPLY"},null!==(o=null==t?void 0:t.image)&&void 0!==o?o:{}),inlineMath:Object.assign({placeholder:"Input Math"},null!==(s=null==t?void 0:t.inlineMath)&&void 0!==s?s:{})}),e);return[new uf({key:ZL,props:{handleKeyDown:()=>(l.setHide(!0),!1),handleClick:e=>(l.setHide(!1),l.update(e),!1)},view:e=>(l.render(e),{update:l.update,destroy:l.destroy})})]}}))),QL=Ox.create([JL()]),eT=e=>{var t,n,i;const{mixin:r,size:o,palette:s}=e;return ix`
        width: 20.5rem;
        max-height: 20.5rem;
        overflow-y: auto;
        ${null===(t=r.border)||void 0===t?void 0:t.call(r)};
        border-radius: ${o.radius};
        position: absolute;
        background: ${s("surface")};

        ${null===(n=r.shadow)||void 0===n?void 0:n.call(r)};

        &.hide {
            display: none;
        }

        ${null===(i=r.scrollbar)||void 0===i?void 0:i.call(r)};

        ${(({font:e,palette:t})=>ix`
        .slash-dropdown-item {
            display: flex;
            gap: 2rem;
            height: 3rem;
            padding: 0 1rem;
            align-items: center;
            justify-content: flex-start;
            cursor: pointer;
            line-height: 2;
            font-family: ${e.typography};
            font-size: 0.875rem;

            transition: all 0.2s ease-in-out;

            &,
            .icon {
                color: ${t("neutral",.87)};
                transition: all 0.2s ease-in-out;
            }

            &.hide {
                display: none;
            }

            &.active {
                background: ${t("secondary",.12)};
                &,
                .icon {
                    color: ${t("primary")};
                }
            }
            `)(e)}
    `},tT=(e,t,n,i)=>{var r;const o=null!==(r=null==i?void 0:i.textClassName)&&void 0!==r?r:"text",s=document.createElement("div");s.setAttribute("role","option"),s.classList.add("slash-dropdown-item");const a=e.slots.icon(n),l=document.createElement("span");return l.textContent=t,l.className=o,s.appendChild(a),s.appendChild(l),s},nT=(e,t="/")=>{const{nodes:n}=e.get(q_),i=[{id:"h1",dom:tT(e.get(hx),"Large Heading","h1"),command:()=>e.get(Pw).call(fk,1),keyword:["h1","large heading"],typeName:"heading"},{id:"h2",dom:tT(e.get(hx),"Medium Heading","h2"),command:()=>e.get(Pw).call(fk,2),keyword:["h2","medium heading"],typeName:"heading"},{id:"h3",dom:tT(e.get(hx),"Small Heading","h3"),command:()=>e.get(Pw).call(fk,3),keyword:["h3","small heading"],typeName:"heading"},{id:"bulletList",dom:tT(e.get(hx),"Bullet List","bulletList"),command:()=>e.get(Pw).call(ik),keyword:["bullet list","ul"],typeName:"bullet_list"},{id:"orderedList",dom:tT(e.get(hx),"Ordered List","orderedList"),command:()=>e.get(Pw).call(Lk),keyword:["ordered list","ol"],typeName:"ordered_list"},{id:"taskList",dom:tT(e.get(hx),"Task List","taskList"),command:()=>e.get(Pw).call(dL),keyword:["task list","task"],typeName:"task_list_item"},{id:"image",dom:tT(e.get(hx),"Image","image"),command:()=>e.get(Pw).call(yk),keyword:["image"],typeName:"image"},{id:"blockquote",dom:tT(e.get(hx),"Quote","quote"),command:()=>e.get(Pw).call(tk),keyword:["quote","blockquote"],typeName:"blockquote"},{id:"table",dom:tT(e.get(hx),"Table","table"),command:()=>e.get(Pw).call(nL),keyword:["table"],typeName:"table"},{id:"code",dom:tT(e.get(hx),"Code Fence","code"),command:()=>e.get(Pw).call(ak),keyword:["code"],typeName:"fence"},{id:"divider",dom:tT(e.get(hx),"Divide Line","divider"),command:()=>e.get(Pw).call(gk),keyword:["divider","hr"],typeName:"hr"}],r=t.slice(1).toLocaleLowerCase();return i.filter((e=>!!n[e.typeName]&&e.keyword.some((e=>e.includes(r))))).map((e=>Lu(e,["keyword","typeName"])))},iT=e=>({content:t,isTopLevel:n})=>n?t?t.startsWith("/")?"/"===t?{placeholder:"Type to filter...",actions:nT(e)}:{actions:nT(e,t)}:null:{placeholder:"Type / to use the slash commands..."}:null,rT=({font:e,palette:t})=>ix`
    position: relative;
    &::before {
        position: absolute;
        cursor: text;
        font-family: ${e.typography};
        font-size: 0.875rem;
        color: ${t("neutral",.6)};
        content: attr(data-text);
        height: 100%;
        display: flex;
        align-items: center;
    }
`,oT=()=>ix`
    &::before {
        left: 0.5rem;
    }
`,sT=(e,t)=>{const n=t.getStyle(rT),i=t.getStyle(oT);return{handleKeyDown:(t,n)=>!e.isEmpty()&&(n instanceof KeyboardEvent&&!!["ArrowUp","ArrowDown","Enter"].includes(n.key)),decorations:t=>{const r=Ym((({type:e})=>"paragraph"===e.name))(t.selection);if(!r||r.node.childCount>1||t.selection.$from.parentOffset!==r.node.textContent.length)return void e.clear();const{placeholder:o,actions:s}=e.update({parentNode:t.selection.$from.node(t.selection.$from.depth-1),isTopLevel:1===t.selection.$from.depth,content:r.node.textContent,state:t});if(!o)return null;const a=(e,n)=>{const i=r.pos;return Dm.create(t.doc,[Cm.node(i,i+r.node.nodeSize,{class:n.filter((e=>e)).join(" "),"data-text":e})])};return s.length?a(o,[n,i,"empty-node","is-slash"]):a(o,[n,"empty-node"])}}},aT=e=>{return{id:e.id,$:e.dom,command:(t=e.command,(e,n,i)=>(i&&(((e,t)=>{const{selection:n}=e,{$from:i}=n,r=e.tr.deleteRange(i.start(),i.pos);null==t||t(r)})(e,n),t()),!0))};var t};function lT(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function cT(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function uT(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return cT(n.overflowY,t)||cT(n.overflowX,t)||!!(r=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(t){return null}}(i=e))&&(r.clientHeight<i.scrollHeight||r.clientWidth<i.scrollWidth)}var i,r;return!1}function hT(e,t,n,i,r,o,s,a){return o<e&&s>t||o>e&&s<t?0:o<=e&&a<=n||s>=t&&a>=n?o-e-i:s>t&&a<n||o<e&&a>n?s-t+r:0}function dT(e,t){var n=window,i=t.scrollMode,r=t.block,o=t.inline,s=t.boundary,a=t.skipOverflowHiddenElements,l="function"==typeof s?s:function(e){return e!==s};if(!lT(e))throw new TypeError("Invalid target");for(var c=document.scrollingElement||document.documentElement,u=[],h=e;lT(h)&&l(h);){if((h=h.parentElement)===c){u.push(h);break}null!=h&&h===document.body&&uT(h)&&!uT(document.documentElement)||null!=h&&uT(h,a)&&u.push(h)}for(var d=n.visualViewport?n.visualViewport.width:innerWidth,f=n.visualViewport?n.visualViewport.height:innerHeight,p=window.scrollX||pageXOffset,g=window.scrollY||pageYOffset,m=e.getBoundingClientRect(),v=m.height,y=m.width,b=m.top,_=m.right,w=m.bottom,C=m.left,x="start"===r||"nearest"===r?b:"end"===r?w:b+v/2,k="center"===o?C+y/2:"end"===o?_:C,S=[],D=0;D<u.length;D++){var E=u[D],L=E.getBoundingClientRect(),T=L.height,N=L.width,M=L.top,A=L.right,I=L.bottom,O=L.left;if("if-needed"===i&&b>=0&&C>=0&&w<=f&&_<=d&&b>=M&&w<=I&&C>=O&&_<=A)return S;var F=getComputedStyle(E),R=parseInt(F.borderLeftWidth,10),P=parseInt(F.borderTopWidth,10),B=parseInt(F.borderRightWidth,10),j=parseInt(F.borderBottomWidth,10),z=0,V=0,W="offsetWidth"in E?E.offsetWidth-E.clientWidth-R-B:0,H="offsetHeight"in E?E.offsetHeight-E.clientHeight-P-j:0;if(c===E)z="start"===r?x:"end"===r?x-f:"nearest"===r?hT(g,g+f,f,P,j,g+x,g+x+v,v):x-f/2,V="start"===o?k:"center"===o?k-d/2:"end"===o?k-d:hT(p,p+d,d,R,B,p+k,p+k+y,y),z=Math.max(0,z+g),V=Math.max(0,V+p);else{z="start"===r?x-M-P:"end"===r?x-I+j+H:"nearest"===r?hT(M,I,T,P,j+H,x,x+v,v):x-(M+T/2)+H/2,V="start"===o?k-O-R:"center"===o?k-(O+N/2)+W/2:"end"===o?k-A+B+W:hT(O,A,N,R,B+W,k,k+y,y);var U=E.scrollLeft,$=E.scrollTop;x+=$-(z=Math.max(0,Math.min($+z,E.scrollHeight-T+H))),k+=U-(V=Math.max(0,Math.min(U+V,E.scrollWidth-N+W)))}S.push({el:E,top:z,left:V})}return S}function fT(e){return e===Object(e)&&0!==Object.keys(e).length}function pT(e,t){var n=!e.ownerDocument.documentElement.contains(e);if(fT(t)&&"function"==typeof t.behavior)return t.behavior(n?[]:dT(e,t));if(!n){var i=function(e){return!1===e?{block:"end",inline:"nearest"}:fT(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var i=e.el,r=e.top,o=e.left;i.scroll&&n?i.scroll({top:r,left:o,behavior:t}):(i.scrollTop=r,i.scrollLeft=o)}))}(dT(e,i),i.behavior)}}var gT,mT=function(){return gT||(gT="performance"in window?performance.now.bind(performance):Date.now),gT()};function vT(e){var t=mT(),n=Math.min((t-e.startTime)/e.duration,1),i=e.ease(n),r=e.startX+(e.x-e.startX)*i,o=e.startY+(e.y-e.startY)*i;e.method(r,o),r!==e.x||o!==e.y?requestAnimationFrame((function(){return vT(e)})):e.cb()}function yT(e,t,n,i,r,o){var s,a,l;void 0===i&&(i=600),void 0===r&&(r=function(e){return 1+--e*e*e*e*e}),s=e,a=e.scrollLeft,l=e.scrollTop,vT({scrollable:s,method:function(t,n){e.scrollLeft=Math.ceil(t),e.scrollTop=Math.ceil(n)},startTime:mT(),startX:a,startY:l,x:t,y:n,duration:i,ease:r,cb:o})}var bT=function(e,t){var n=t||{};return function(e){return e&&!e.behavior||"smooth"===e.behavior}(n)?pT(e,{block:n.block,inline:n.inline,scrollMode:n.scrollMode,boundary:n.boundary,behavior:function(e){return Promise.all(e.reduce((function(e,t){var i=t.el,r=t.left,o=t.top,s=i.scrollLeft,a=i.scrollTop;return s===r&&a===o?e:[].concat(e,[new Promise((function(e){return yT(i,r,o,n.duration,n.ease,(function(){return e({el:i,left:[s,r],top:[a,o]})}))}))])}),[]))}}):Promise.resolve(pT(e,t))};const _T=(e,t,n)=>{const i=t.dom.parentNode;if(!i)return{};const r=(e=>{const t=document.createElement("div");t.setAttribute("role","listbox"),t.setAttribute("tabindex","-1");const n=e.getStyle(eT);return n&&t.classList.add(n),t.classList.add("slash-dropdown","hide"),t})(n),o=(()=>{let e=!1;return{isLock:()=>e,lock:()=>{e=!0},unlock:()=>{e=!1}}})();i.appendChild(r);const s=(e=>()=>{e.unlock()})(o),a=((e,t,n)=>i=>{const{target:r}=i;if(!(r instanceof HTMLElement))return;if(!t)return;const o=()=>{i.stopPropagation(),i.preventDefault()},{actions:s}=e.get(),a=Object.values(s).find((({$:e})=>e.contains(r)));if(!a){if(e.isEmpty())return;return e.clear(),n.classList.add("hide"),void o()}o(),a.command(t.state,t.dispatch,t)})(e,t,r),l=((e,t,n,i)=>r=>{if(!(r instanceof KeyboardEvent))return;i.isLock()||i.lock();const{key:o}=r;if(e.isEmpty())return;if(!["ArrowDown","ArrowUp","Enter","Escape"].includes(o))return;const{actions:s}=e.get();let a=s.findIndex((({$:e})=>e.classList.contains("active")));a<0&&(a=0);const l=e=>{s[a].$.classList.remove("active"),s[e].$.classList.add("active"),bT(s[e].$,{scrollMode:"if-needed",block:"nearest",inline:"nearest"})};if("ArrowDown"!==o)if("ArrowUp"!==o){if("Escape"===o){if(e.isEmpty())return;return e.clear(),void n.classList.add("hide")}s[a].command(t.state,t.dispatch,t),s[a].$.classList.remove("active")}else l(0===a?s.length-1:a-1);else l(a===s.length-1?0:a+1)})(e,t,r,o),c=((e,t)=>n=>{if(t.isLock())return;const{actions:i}=e.get(),r=i.findIndex((e=>e.$.classList.contains("active")));r>=0&&i[r].$.classList.remove("active");const{target:o}=n;o instanceof HTMLElement&&o.classList.add("active")})(e,o),u=e=>{const{target:t}=e;t instanceof HTMLElement&&t.classList.remove("active")};return i.addEventListener("mousemove",s),i.addEventListener("mousedown",a),i.addEventListener("keydown",l),{update:t=>{const n=((e,t,n)=>{const{actions:i}=e.get();return i.length?(t.childNodes.forEach((e=>{e.removeEventListener("mouseenter",n.mouseEnter),e.removeEventListener("mouseleave",n.mouseLeave)})),t.textContent="",i.forEach((({$:e})=>{e.classList.remove("active"),e.addEventListener("mouseenter",n.mouseEnter),e.addEventListener("mouseleave",n.mouseLeave),t.appendChild(e)})),t.classList.remove("hide"),i[0].$.classList.add("active"),requestAnimationFrame((()=>{bT(i[0].$,{scrollMode:"if-needed",block:"nearest",inline:"nearest"})})),!0):(t.classList.add("hide"),!1)})(e,r,{mouseEnter:c,mouseLeave:u});n&&((e,t)=>{$m(e,t,((e,t,n)=>{let i=e.left-n.left,r=e.bottom-n.top+14;return i<0&&(i=0),window.innerHeight-e.bottom<t.height&&(r=e.top-n.top-t.height-14),[r,i]}))})(t,r)},destroy:()=>{i.removeEventListener("mousemove",s),i.removeEventListener("mousedown",a),i.removeEventListener("keydown",l),r.remove()}}},wT=(e,t)=>{const n=(e=>{const t={placeholder:null,actions:[]};return{get:()=>t,clear:()=>{t.placeholder=null,t.actions=[]},update:n=>{var i,r;const o=e(n);return t.placeholder=null!==(i=null==o?void 0:o.placeholder)&&void 0!==i?i:null,t.actions=(null!==(r=null==o?void 0:o.actions)&&void 0!==r?r:[]).map(aT),t},isEmpty:()=>0===t.actions.length}})(t);return new uf({key:new ff("MILKDOWN_PLUGIN_SLASH"),props:sT(n,e),view:t=>_T(n,t,e)})},CT=Wx(((e,t)=>{var n;const i=null!==(n=null==t?void 0:t.config)&&void 0!==n?n:iT;return{prosePlugins:(t,n)=>{const r=i(n);return[wT(e,r)]}}})),xT=Ox.create([CT()]),kT=(e,t)=>Tu(void 0,void 0,void 0,(function*(){const n=[];for(let t=0;t<e.length;t++){const i=e.item(t);i&&(i.type.includes("image")&&n.push(i))}const{image:i}=t.nodes;return(yield Promise.all(n.map((e=>{return t=e,new Promise((e=>{const n=new FileReader;n.addEventListener("load",(()=>{e({alt:t.name,src:n.result})}),!1),n.readAsDataURL(t)}));var t})))).map((({alt:e,src:t})=>i.createAndFill({src:t,alt:e})))})),ST=Wx(((e,t)=>{var n;const i=null!==(n=null==t?void 0:t.uploader)&&void 0!==n?n:kT;return{prosePlugins:(e,t)=>{const n=t.get(q_),r=new uf({state:{init:()=>Dm.empty,apply(e,n){const i=n.map(e.mapping,e.doc),r=e.getMeta(this);if(!r)return i;if(r.add){const n=document.createElement("span"),{icon:o}=t.get(hx).slots;n.appendChild(o("loading"));const s=Cm.widget(r.add.pos,n,{id:r.add.id});return i.add(e.doc,[s])}return r.remove?i.remove(i.find(null,null,(e=>e.id===r.remove.id))):void 0}},props:{decorations(e){return this.getState(e)}}}),o=new uf({props:{handleDrop:(e,t)=>{var o,s,a;if(!(t instanceof DragEvent))return!1;const{files:l}=null!==(o=t.dataTransfer)&&void 0!==o?o:{};if(!l||l.length<=0)return!1;const c=Symbol("upload symbol"),{tr:u}=e.state,h=null!==(a=null===(s=e.posAtCoords({left:t.clientX,top:t.clientY}))||void 0===s?void 0:s.pos)&&void 0!==a?a:u.selection.from;return e.dispatch(u.setMeta(r,{add:{id:c,pos:h}})),i(l,n).then((t=>{const n=((e,t)=>{const n=r.getState(e).find(null,null,(e=>e.id===t));return n.length?n[0].from:-1})(e.state,c);n<0||e.dispatch(e.state.tr.replaceWith(n,n,t).setMeta(r,{remove:{id:c}}))})).catch((e=>{console.error(e)})),!0}}});return[r,o]}}})),DT=Ox.create([ST()]);
/*! For license information please see mermaid.esm.min.mjs.LICENSE.txt */
var ET={5051:(e,t,n)=>{e=n.nmd(e);var i=function(){var e=function(e,t,n,i){for(n=n||{},i=e.length;i--;n[e[i]]=t);return n},t=[1,6],n=[1,7],i=[1,8],r=[1,9],o=[1,12],s=[1,11],a=[1,15,24],l=[1,19],c=[1,31],u=[1,34],h=[1,32],d=[1,33],f=[1,35],p=[1,36],g=[1,37],m=[1,38],v=[1,41],y=[1,42],b=[1,43],_=[1,44],w=[15,24],C=[1,56],x=[1,57],k=[1,58],S=[1,59],D=[1,60],E=[1,61],L=[15,24,31,38,39,47,50,51,52,53,54,55,60,62],T=[15,24,29,31,38,39,43,47,50,51,52,53,54,55,60,62,77,78,79,80],N=[7,8,9,10,15,18,22,24],M=[47,77,78,79,80],A=[47,54,55,77,78,79,80],I=[47,50,51,52,53,77,78,79,80],O=[15,24,31],F=[1,93],R={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,directive:6,direction_tb:7,direction_bt:8,direction_rl:9,direction_lr:10,graphConfig:11,openDirective:12,typeDirective:13,closeDirective:14,NEWLINE:15,":":16,argDirective:17,open_directive:18,type_directive:19,arg_directive:20,close_directive:21,CLASS_DIAGRAM:22,statements:23,EOF:24,statement:25,className:26,alphaNumToken:27,classLiteralName:28,GENERICTYPE:29,relationStatement:30,LABEL:31,classStatement:32,methodStatement:33,annotationStatement:34,clickStatement:35,cssClassStatement:36,CLASS:37,STYLE_SEPARATOR:38,STRUCT_START:39,members:40,STRUCT_STOP:41,ANNOTATION_START:42,ANNOTATION_END:43,MEMBER:44,SEPARATOR:45,relation:46,STR:47,relationType:48,lineType:49,AGGREGATION:50,EXTENSION:51,COMPOSITION:52,DEPENDENCY:53,LINE:54,DOTTED_LINE:55,CALLBACK:56,LINK:57,LINK_TARGET:58,CLICK:59,CALLBACK_NAME:60,CALLBACK_ARGS:61,HREF:62,CSSCLASS:63,commentToken:64,textToken:65,graphCodeTokens:66,textNoTagsToken:67,TAGSTART:68,TAGEND:69,"==":70,"--":71,PCT:72,DEFAULT:73,SPACE:74,MINUS:75,keywords:76,UNICODE_TEXT:77,NUM:78,ALPHA:79,BQUOTE_STR:80,$accept:0,$end:1},terminals_:{2:"error",7:"direction_tb",8:"direction_bt",9:"direction_rl",10:"direction_lr",15:"NEWLINE",16:":",18:"open_directive",19:"type_directive",20:"arg_directive",21:"close_directive",22:"CLASS_DIAGRAM",24:"EOF",29:"GENERICTYPE",31:"LABEL",37:"CLASS",38:"STYLE_SEPARATOR",39:"STRUCT_START",41:"STRUCT_STOP",42:"ANNOTATION_START",43:"ANNOTATION_END",44:"MEMBER",45:"SEPARATOR",47:"STR",50:"AGGREGATION",51:"EXTENSION",52:"COMPOSITION",53:"DEPENDENCY",54:"LINE",55:"DOTTED_LINE",56:"CALLBACK",57:"LINK",58:"LINK_TARGET",59:"CLICK",60:"CALLBACK_NAME",61:"CALLBACK_ARGS",62:"HREF",63:"CSSCLASS",66:"graphCodeTokens",68:"TAGSTART",69:"TAGEND",70:"==",71:"--",72:"PCT",73:"DEFAULT",74:"SPACE",75:"MINUS",76:"keywords",77:"UNICODE_TEXT",78:"NUM",79:"ALPHA",80:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[3,2],[5,1],[5,1],[5,1],[5,1],[4,1],[6,4],[6,6],[12,1],[13,1],[17,1],[14,1],[11,4],[23,1],[23,2],[23,3],[26,1],[26,1],[26,2],[26,2],[26,2],[25,1],[25,2],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[32,2],[32,4],[32,5],[32,7],[34,4],[40,1],[40,2],[33,1],[33,2],[33,1],[33,1],[30,3],[30,4],[30,4],[30,5],[46,3],[46,2],[46,2],[46,1],[48,1],[48,1],[48,1],[48,1],[49,1],[49,1],[35,3],[35,4],[35,3],[35,4],[35,4],[35,5],[35,3],[35,4],[35,4],[35,5],[35,3],[35,4],[35,4],[35,5],[36,3],[64,1],[64,1],[65,1],[65,1],[65,1],[65,1],[65,1],[65,1],[65,1],[67,1],[67,1],[67,1],[67,1],[27,1],[27,1],[27,1],[28,1]],performAction:function(e,t,n,i,r,o,s){var a=o.length-1;switch(r){case 4:i.setDirection("TB");break;case 5:i.setDirection("BT");break;case 6:i.setDirection("RL");break;case 7:i.setDirection("LR");break;case 11:i.parseDirective("%%{","open_directive");break;case 12:i.parseDirective(o[a],"type_directive");break;case 13:o[a]=o[a].trim().replace(/'/g,'"'),i.parseDirective(o[a],"arg_directive");break;case 14:i.parseDirective("}%%","close_directive","class");break;case 19:case 20:this.$=o[a];break;case 21:this.$=o[a-1]+o[a];break;case 22:case 23:this.$=o[a-1]+"~"+o[a];break;case 24:i.addRelation(o[a]);break;case 25:o[a-1].title=i.cleanupLabel(o[a]),i.addRelation(o[a-1]);break;case 33:i.addClass(o[a]);break;case 34:i.addClass(o[a-2]),i.setCssClass(o[a-2],o[a]);break;case 35:i.addClass(o[a-3]),i.addMembers(o[a-3],o[a-1]);break;case 36:i.addClass(o[a-5]),i.setCssClass(o[a-5],o[a-3]),i.addMembers(o[a-5],o[a-1]);break;case 37:i.addAnnotation(o[a],o[a-2]);break;case 38:this.$=[o[a]];break;case 39:o[a].push(o[a-1]),this.$=o[a];break;case 40:case 42:case 43:break;case 41:i.addMember(o[a-1],i.cleanupLabel(o[a]));break;case 44:this.$={id1:o[a-2],id2:o[a],relation:o[a-1],relationTitle1:"none",relationTitle2:"none"};break;case 45:this.$={id1:o[a-3],id2:o[a],relation:o[a-1],relationTitle1:o[a-2],relationTitle2:"none"};break;case 46:this.$={id1:o[a-3],id2:o[a],relation:o[a-2],relationTitle1:"none",relationTitle2:o[a-1]};break;case 47:this.$={id1:o[a-4],id2:o[a],relation:o[a-2],relationTitle1:o[a-3],relationTitle2:o[a-1]};break;case 48:this.$={type1:o[a-2],type2:o[a],lineType:o[a-1]};break;case 49:this.$={type1:"none",type2:o[a],lineType:o[a-1]};break;case 50:this.$={type1:o[a-1],type2:"none",lineType:o[a]};break;case 51:this.$={type1:"none",type2:"none",lineType:o[a]};break;case 52:this.$=i.relationType.AGGREGATION;break;case 53:this.$=i.relationType.EXTENSION;break;case 54:this.$=i.relationType.COMPOSITION;break;case 55:this.$=i.relationType.DEPENDENCY;break;case 56:this.$=i.lineType.LINE;break;case 57:this.$=i.lineType.DOTTED_LINE;break;case 58:case 64:this.$=o[a-2],i.setClickEvent(o[a-1],o[a]);break;case 59:case 65:this.$=o[a-3],i.setClickEvent(o[a-2],o[a-1]),i.setTooltip(o[a-2],o[a]);break;case 60:case 68:this.$=o[a-2],i.setLink(o[a-1],o[a]);break;case 61:case 69:this.$=o[a-3],i.setLink(o[a-2],o[a-1],o[a]);break;case 62:case 70:this.$=o[a-3],i.setLink(o[a-2],o[a-1]),i.setTooltip(o[a-2],o[a]);break;case 63:case 71:this.$=o[a-4],i.setLink(o[a-3],o[a-2],o[a]),i.setTooltip(o[a-3],o[a-1]);break;case 66:this.$=o[a-3],i.setClickEvent(o[a-2],o[a-1],o[a]);break;case 67:this.$=o[a-4],i.setClickEvent(o[a-3],o[a-2],o[a-1]),i.setTooltip(o[a-3],o[a]);break;case 72:i.setCssClass(o[a-1],o[a])}},table:[{3:1,4:2,5:3,6:4,7:t,8:n,9:i,10:r,11:5,12:10,18:o,22:s},{1:[3]},{1:[2,1]},{1:[2,2]},{3:13,4:2,5:3,6:4,7:t,8:n,9:i,10:r,11:5,12:10,18:o,22:s},{1:[2,8]},e(a,[2,4]),e(a,[2,5]),e(a,[2,6]),e(a,[2,7]),{13:14,19:[1,15]},{15:[1,16]},{19:[2,11]},{1:[2,3]},{14:17,16:[1,18],21:l},e([16,21],[2,12]),{5:29,6:28,7:t,8:n,9:i,10:r,12:10,18:o,23:20,25:21,26:30,27:39,28:40,30:22,32:23,33:24,34:25,35:26,36:27,37:c,42:u,44:h,45:d,56:f,57:p,59:g,63:m,77:v,78:y,79:b,80:_},{15:[1,45]},{17:46,20:[1,47]},{15:[2,14]},{24:[1,48]},{15:[1,49],24:[2,16]},e(w,[2,24],{31:[1,50]}),e(w,[2,26]),e(w,[2,27]),e(w,[2,28]),e(w,[2,29]),e(w,[2,30]),e(w,[2,31]),e(w,[2,32]),e(w,[2,40],{46:51,48:54,49:55,31:[1,53],47:[1,52],50:C,51:x,52:k,53:S,54:D,55:E}),{26:62,27:39,28:40,77:v,78:y,79:b,80:_},e(w,[2,42]),e(w,[2,43]),{27:63,77:v,78:y,79:b},{26:64,27:39,28:40,77:v,78:y,79:b,80:_},{26:65,27:39,28:40,77:v,78:y,79:b,80:_},{26:66,27:39,28:40,77:v,78:y,79:b,80:_},{47:[1,67]},e(L,[2,19],{27:39,28:40,26:68,29:[1,69],77:v,78:y,79:b,80:_}),e(L,[2,20],{29:[1,70]}),e(T,[2,86]),e(T,[2,87]),e(T,[2,88]),e([15,24,29,31,38,39,47,50,51,52,53,54,55,60,62],[2,89]),e(N,[2,9]),{14:71,21:l},{21:[2,13]},{1:[2,15]},{5:29,6:28,7:t,8:n,9:i,10:r,12:10,18:o,23:72,24:[2,17],25:21,26:30,27:39,28:40,30:22,32:23,33:24,34:25,35:26,36:27,37:c,42:u,44:h,45:d,56:f,57:p,59:g,63:m,77:v,78:y,79:b,80:_},e(w,[2,25]),{26:73,27:39,28:40,47:[1,74],77:v,78:y,79:b,80:_},{46:75,48:54,49:55,50:C,51:x,52:k,53:S,54:D,55:E},e(w,[2,41]),{49:76,54:D,55:E},e(M,[2,51],{48:77,50:C,51:x,52:k,53:S}),e(A,[2,52]),e(A,[2,53]),e(A,[2,54]),e(A,[2,55]),e(I,[2,56]),e(I,[2,57]),e(w,[2,33],{38:[1,78],39:[1,79]}),{43:[1,80]},{47:[1,81]},{47:[1,82]},{60:[1,83],62:[1,84]},{27:85,77:v,78:y,79:b},e(L,[2,21]),e(L,[2,22]),e(L,[2,23]),{15:[1,86]},{24:[2,18]},e(O,[2,44]),{26:87,27:39,28:40,77:v,78:y,79:b,80:_},{26:88,27:39,28:40,47:[1,89],77:v,78:y,79:b,80:_},e(M,[2,50],{48:90,50:C,51:x,52:k,53:S}),e(M,[2,49]),{27:91,77:v,78:y,79:b},{40:92,44:F},{26:94,27:39,28:40,77:v,78:y,79:b,80:_},e(w,[2,58],{47:[1,95]}),e(w,[2,60],{47:[1,97],58:[1,96]}),e(w,[2,64],{47:[1,98],61:[1,99]}),e(w,[2,68],{47:[1,101],58:[1,100]}),e(w,[2,72]),e(N,[2,10]),e(O,[2,46]),e(O,[2,45]),{26:102,27:39,28:40,77:v,78:y,79:b,80:_},e(M,[2,48]),e(w,[2,34],{39:[1,103]}),{41:[1,104]},{40:105,41:[2,38],44:F},e(w,[2,37]),e(w,[2,59]),e(w,[2,61]),e(w,[2,62],{58:[1,106]}),e(w,[2,65]),e(w,[2,66],{47:[1,107]}),e(w,[2,69]),e(w,[2,70],{58:[1,108]}),e(O,[2,47]),{40:109,44:F},e(w,[2,35]),{41:[2,39]},e(w,[2,63]),e(w,[2,67]),e(w,[2,71]),{41:[1,110]},e(w,[2,36])],defaultActions:{2:[2,1],3:[2,2],5:[2,8],12:[2,11],13:[2,3],19:[2,14],47:[2,13],48:[2,15],72:[2,18],105:[2,39]},parseError:function(e,t){if(!t.recoverable){var n=new Error(e);throw n.hash=t,n}this.trace(e)},parse:function(e){var t=this,n=[0],i=[],r=[null],o=[],s=this.table,a="",l=0,c=0,u=2,h=1,d=o.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);f.setInput(e,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;o.push(m);var v=f.options&&f.options.ranges;function y(){var e;return"number"!=typeof(e=i.pop()||f.lex()||h)&&(e instanceof Array&&(e=(i=e).pop()),e=t.symbols_[e]||e),e}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var b,_,w,C,x,k,S,D,E,L={};;){if(w=n[n.length-1],this.defaultActions[w]?C=this.defaultActions[w]:(null==b&&(b=y()),C=s[w]&&s[w][b]),void 0===C||!C.length||!C[0]){var T="";for(k in E=[],s[w])this.terminals_[k]&&k>u&&E.push("'"+this.terminals_[k]+"'");T=f.showPosition?"Parse error on line "+(l+1)+":\n"+f.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(l+1)+": Unexpected "+(b==h?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(T,{text:f.match,token:this.terminals_[b]||b,line:f.yylineno,loc:m,expected:E})}if(C[0]instanceof Array&&C.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+b);switch(C[0]){case 1:n.push(b),r.push(f.yytext),o.push(f.yylloc),n.push(C[1]),b=null,_?(b=_,_=null):(c=f.yyleng,a=f.yytext,l=f.yylineno,m=f.yylloc);break;case 2:if(S=this.productions_[C[1]][1],L.$=r[r.length-S],L._$={first_line:o[o.length-(S||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(S||1)].first_column,last_column:o[o.length-1].last_column},v&&(L._$.range=[o[o.length-(S||1)].range[0],o[o.length-1].range[1]]),void 0!==(x=this.performAction.apply(L,[a,c,l,p.yy,C[1],r,o].concat(d))))return x;S&&(n=n.slice(0,-1*S*2),r=r.slice(0,-1*S),o=o.slice(0,-1*S)),n.push(this.productions_[C[1]][0]),r.push(L.$),o.push(L._$),D=s[n[n.length-2]][n[n.length-1]],n.push(D);break;case 3:return!0}}return!0}},P={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var n,i,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(i=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((n=this._input.match(this.rules[r[o]]))&&(!t||n[0].length>t[0].length)){if(t=n,i=o,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,r[o])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,r[i]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,n,i){switch(n){case 0:return this.begin("open_directive"),18;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 10;case 5:return this.begin("type_directive"),19;case 6:return this.popState(),this.begin("arg_directive"),16;case 7:return this.popState(),this.popState(),21;case 8:return 20;case 9:case 10:case 12:case 19:break;case 11:return 15;case 13:case 14:return 22;case 15:return this.begin("struct"),39;case 16:return"EOF_IN_STRUCT";case 17:return"OPEN_IN_STRUCT";case 18:return this.popState(),41;case 20:return"MEMBER";case 21:return 37;case 22:return 63;case 23:return 56;case 24:return 57;case 25:return 59;case 26:return 42;case 27:return 43;case 28:this.begin("generic");break;case 29:case 32:case 35:case 38:case 41:case 44:this.popState();break;case 30:return"GENERICTYPE";case 31:this.begin("string");break;case 33:return"STR";case 34:this.begin("bqstring");break;case 36:return"BQUOTE_STR";case 37:this.begin("href");break;case 39:return 62;case 40:this.begin("callback_name");break;case 42:this.popState(),this.begin("callback_args");break;case 43:return 60;case 45:return 61;case 46:case 47:case 48:case 49:return 58;case 50:case 51:return 51;case 52:case 53:return 53;case 54:return 52;case 55:return 50;case 56:return 54;case 57:return 55;case 58:return 31;case 59:return 38;case 60:return 75;case 61:return"DOT";case 62:return"PLUS";case 63:return 72;case 64:case 65:return"EQUALS";case 66:return 79;case 67:return"PUNCTUATION";case 68:return 78;case 69:return 77;case 70:return 74;case 71:return 24}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:[{])/,/^(?:$)/,/^(?:[{])/,/^(?:[}])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:class\b)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:[~])/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[`])/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:$)/],conditions:{arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},callback_args:{rules:[44,45],inclusive:!1},callback_name:{rules:[41,42,43],inclusive:!1},href:{rules:[38,39],inclusive:!1},struct:{rules:[16,17,18,19,20],inclusive:!1},generic:{rules:[29,30],inclusive:!1},bqstring:{rules:[35,36],inclusive:!1},string:{rules:[32,33],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,12,13,14,15,21,22,23,24,25,26,27,28,31,34,37,40,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71],inclusive:!0}}};function B(){this.yy={}}return R.lexer=P,B.prototype=R,R.Parser=B,new B}();t.parser=i,t.Parser=i.Parser,t.parse=function(){return i.parse.apply(i,arguments)},t.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),process.exit(1));var i=n(8218).readFileSync(n(6470).normalize(e[1]),"utf8");return t.parser.parse(i)},n.c[n.s]===e&&t.main(process.argv.slice(1))},4701:(e,t,n)=>{e=n.nmd(e);var i=function(){var e=function(e,t,n,i){for(n=n||{},i=e.length;i--;n[e[i]]=t);return n},t=[1,2],n=[1,5],i=[6,9,11,23,40],r=[1,17],o=[1,20],s=[1,25],a=[1,26],l=[1,27],c=[1,28],u=[1,37],h=[23,37,38],d=[4,6,9,11,23,40],f=[33,34,35,36],p=[22,29],g={trace:function(){},yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,entityName:17,relSpec:18,role:19,BLOCK_START:20,attributes:21,BLOCK_STOP:22,ALPHANUM:23,attribute:24,attributeType:25,attributeName:26,attributeKeyType:27,COMMENT:28,ATTRIBUTE_WORD:29,ATTRIBUTE_KEY:30,cardinality:31,relType:32,ZERO_OR_ONE:33,ZERO_OR_MORE:34,ONE_OR_MORE:35,ONLY_ONE:36,NON_IDENTIFYING:37,IDENTIFYING:38,WORD:39,open_directive:40,type_directive:41,arg_directive:42,close_directive:43,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",20:"BLOCK_START",22:"BLOCK_STOP",23:"ALPHANUM",28:"COMMENT",29:"ATTRIBUTE_WORD",30:"ATTRIBUTE_KEY",33:"ZERO_OR_ONE",34:"ZERO_OR_MORE",35:"ONE_OR_MORE",36:"ONLY_ONE",37:"NON_IDENTIFYING",38:"IDENTIFYING",39:"WORD",40:"open_directive",41:"type_directive",42:"arg_directive",43:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,5],[10,4],[10,3],[10,1],[17,1],[21,1],[21,2],[24,2],[24,3],[24,3],[24,4],[25,1],[26,1],[27,1],[18,3],[31,1],[31,1],[31,1],[31,1],[32,1],[32,1],[19,1],[19,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(e,t,n,i,r,o,s){var a=o.length-1;switch(r){case 1:break;case 3:case 7:case 8:this.$=[];break;case 4:o[a-1].push(o[a]),this.$=o[a-1];break;case 5:case 6:case 16:case 23:case 24:case 25:case 34:this.$=o[a];break;case 12:i.addEntity(o[a-4]),i.addEntity(o[a-2]),i.addRelationship(o[a-4],o[a],o[a-2],o[a-3]);break;case 13:i.addEntity(o[a-3]),i.addAttributes(o[a-3],o[a-1]);break;case 14:i.addEntity(o[a-2]);break;case 15:i.addEntity(o[a]);break;case 17:this.$=[o[a]];break;case 18:o[a].push(o[a-1]),this.$=o[a];break;case 19:this.$={attributeType:o[a-1],attributeName:o[a]};break;case 20:this.$={attributeType:o[a-2],attributeName:o[a-1],attributeKeyType:o[a]};break;case 21:this.$={attributeType:o[a-2],attributeName:o[a-1],attributeComment:o[a]};break;case 22:this.$={attributeType:o[a-3],attributeName:o[a-2],attributeKeyType:o[a-1],attributeComment:o[a]};break;case 26:this.$={cardA:o[a],relType:o[a-1],cardB:o[a-2]};break;case 27:this.$=i.Cardinality.ZERO_OR_ONE;break;case 28:this.$=i.Cardinality.ZERO_OR_MORE;break;case 29:this.$=i.Cardinality.ONE_OR_MORE;break;case 30:this.$=i.Cardinality.ONLY_ONE;break;case 31:this.$=i.Identification.NON_IDENTIFYING;break;case 32:this.$=i.Identification.IDENTIFYING;break;case 33:this.$=o[a].replace(/"/g,"");break;case 35:i.parseDirective("%%{","open_directive");break;case 36:i.parseDirective(o[a],"type_directive");break;case 37:o[a]=o[a].trim().replace(/'/g,'"'),i.parseDirective(o[a],"arg_directive");break;case 38:i.parseDirective("}%%","close_directive","er")}},table:[{3:1,4:t,7:3,12:4,40:n},{1:[3]},e(i,[2,3],{5:6}),{3:7,4:t,7:3,12:4,40:n},{13:8,41:[1,9]},{41:[2,35]},{6:[1,10],7:15,8:11,9:[1,12],10:13,11:[1,14],12:4,17:16,23:r,40:n},{1:[2,2]},{14:18,15:[1,19],43:o},e([15,43],[2,36]),e(i,[2,8],{1:[2,1]}),e(i,[2,4]),{7:15,10:21,12:4,17:16,23:r,40:n},e(i,[2,6]),e(i,[2,7]),e(i,[2,11]),e(i,[2,15],{18:22,31:24,20:[1,23],33:s,34:a,35:l,36:c}),e([6,9,11,15,20,23,33,34,35,36,40],[2,16]),{11:[1,29]},{16:30,42:[1,31]},{11:[2,38]},e(i,[2,5]),{17:32,23:r},{21:33,22:[1,34],24:35,25:36,29:u},{32:38,37:[1,39],38:[1,40]},e(h,[2,27]),e(h,[2,28]),e(h,[2,29]),e(h,[2,30]),e(d,[2,9]),{14:41,43:o},{43:[2,37]},{15:[1,42]},{22:[1,43]},e(i,[2,14]),{21:44,22:[2,17],24:35,25:36,29:u},{26:45,29:[1,46]},{29:[2,23]},{31:47,33:s,34:a,35:l,36:c},e(f,[2,31]),e(f,[2,32]),{11:[1,48]},{19:49,23:[1,51],39:[1,50]},e(i,[2,13]),{22:[2,18]},e(p,[2,19],{27:52,28:[1,53],30:[1,54]}),e([22,28,29,30],[2,24]),{23:[2,26]},e(d,[2,10]),e(i,[2,12]),e(i,[2,33]),e(i,[2,34]),e(p,[2,20],{28:[1,55]}),e(p,[2,21]),e([22,28,29],[2,25]),e(p,[2,22])],defaultActions:{5:[2,35],7:[2,2],20:[2,38],31:[2,37],37:[2,23],44:[2,18],47:[2,26]},parseError:function(e,t){if(!t.recoverable){var n=new Error(e);throw n.hash=t,n}this.trace(e)},parse:function(e){var t=this,n=[0],i=[],r=[null],o=[],s=this.table,a="",l=0,c=0,u=2,h=1,d=o.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);f.setInput(e,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;o.push(m);var v=f.options&&f.options.ranges;function y(){var e;return"number"!=typeof(e=i.pop()||f.lex()||h)&&(e instanceof Array&&(e=(i=e).pop()),e=t.symbols_[e]||e),e}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var b,_,w,C,x,k,S,D,E,L={};;){if(w=n[n.length-1],this.defaultActions[w]?C=this.defaultActions[w]:(null==b&&(b=y()),C=s[w]&&s[w][b]),void 0===C||!C.length||!C[0]){var T="";for(k in E=[],s[w])this.terminals_[k]&&k>u&&E.push("'"+this.terminals_[k]+"'");T=f.showPosition?"Parse error on line "+(l+1)+":\n"+f.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(l+1)+": Unexpected "+(b==h?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(T,{text:f.match,token:this.terminals_[b]||b,line:f.yylineno,loc:m,expected:E})}if(C[0]instanceof Array&&C.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+b);switch(C[0]){case 1:n.push(b),r.push(f.yytext),o.push(f.yylloc),n.push(C[1]),b=null,_?(b=_,_=null):(c=f.yyleng,a=f.yytext,l=f.yylineno,m=f.yylloc);break;case 2:if(S=this.productions_[C[1]][1],L.$=r[r.length-S],L._$={first_line:o[o.length-(S||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(S||1)].first_column,last_column:o[o.length-1].last_column},v&&(L._$.range=[o[o.length-(S||1)].range[0],o[o.length-1].range[1]]),void 0!==(x=this.performAction.apply(L,[a,c,l,p.yy,C[1],r,o].concat(d))))return x;S&&(n=n.slice(0,-1*S*2),r=r.slice(0,-1*S),o=o.slice(0,-1*S)),n.push(this.productions_[C[1]][0]),r.push(L.$),o.push(L._$),D=s[n[n.length-2]][n[n.length-1]],n.push(D);break;case 3:return!0}}return!0}},m={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var n,i,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(i=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((n=this._input.match(this.rules[r[o]]))&&(!t||n[0].length>t[0].length)){if(t=n,i=o,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,r[o])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,r[i]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(e,t,n,i){switch(n){case 0:return this.begin("open_directive"),40;case 1:return this.begin("type_directive"),41;case 2:return this.popState(),this.begin("arg_directive"),15;case 3:return this.popState(),this.popState(),43;case 4:return 42;case 5:case 6:case 8:case 13:case 17:break;case 7:return 11;case 9:return 9;case 10:return 39;case 11:return 4;case 12:return this.begin("block"),20;case 14:return 30;case 15:return 29;case 16:return 28;case 18:return this.popState(),22;case 19:case 32:return t.yytext[0];case 20:case 24:return 33;case 21:case 25:return 34;case 22:case 26:return 35;case 23:return 36;case 27:case 29:case 30:return 37;case 28:return 38;case 31:return 23;case 33:return 6}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:\s+)/i,/^(?:(?:PK)|(?:FK))/i,/^(?:[A-Za-z][A-Za-z0-9\-_]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\|o\b)/i,/^(?:\}o\b)/i,/^(?:\}\|)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{open_directive:{rules:[1],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},block:{rules:[13,14,15,16,17,18,19],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,20,21,22,23,24,25,26,27,28,29,30,31,32,33],inclusive:!0}}};function v(){this.yy={}}return g.lexer=m,v.prototype=g,g.Parser=v,new v}();t.parser=i,t.Parser=i.Parser,t.parse=function(){return i.parse.apply(i,arguments)},t.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),process.exit(1));var i=n(8009).readFileSync(n(6470).normalize(e[1]),"utf8");return t.parser.parse(i)},n.c[n.s]===e&&t.main(process.argv.slice(1))},7805:(e,t,n)=>{e=n.nmd(e);var i=function(){var e=function(e,t,n,i){for(n=n||{},i=e.length;i--;n[e[i]]=t);return n},t=[1,9],n=[1,7],i=[1,6],r=[1,8],o=[1,20,21,22,23,38,47,76,77,78,79,80,81,95,96,99,100,101,103,104,110,111,112,113,114,115,116,117,118,119],s=[2,10],a=[1,20],l=[1,21],c=[1,22],u=[1,23],h=[1,30],d=[1,59],f=[1,33],p=[1,34],g=[1,35],m=[1,36],v=[1,37],y=[1,53],b=[1,48],_=[1,50],w=[1,45],C=[1,49],x=[1,52],k=[1,56],S=[1,57],D=[1,38],E=[1,39],L=[1,40],T=[1,41],N=[1,58],M=[1,47],A=[1,51],I=[1,54],O=[1,55],F=[1,46],R=[1,62],P=[1,67],B=[1,20,21,22,23,38,42,47,76,77,78,79,80,81,95,96,99,100,101,103,104,110,111,112,113,114,115,116,117,118,119],j=[1,71],z=[1,70],V=[1,72],W=[20,21,23,70,71],H=[1,93],U=[1,98],$=[1,95],q=[1,100],K=[1,103],Y=[1,101],G=[1,102],X=[1,96],Z=[1,108],J=[1,107],Q=[1,97],ee=[1,99],te=[1,104],ne=[1,105],ie=[1,106],re=[1,109],oe=[20,21,22,23,70,71],se=[20,21,22,23,48,70,71],ae=[20,21,22,23,40,47,48,50,52,54,56,58,60,62,63,65,70,71,81,95,96,99,100,101,103,104,114,115,116,117,118,119],le=[20,21,23],ce=[20,21,23,47,70,71,81,95,96,99,100,101,103,104,114,115,116,117,118,119],ue=[1,12,20,21,22,23,24,38,42,47,76,77,78,79,80,81,95,96,99,100,101,103,104,110,111,112,113,114,115,116,117,118,119],he=[47,81,95,96,99,100,101,103,104,114,115,116,117,118,119],de=[1,141],fe=[1,149],pe=[1,150],ge=[1,151],me=[1,152],ve=[1,136],ye=[1,137],be=[1,133],_e=[1,144],we=[1,145],Ce=[1,146],xe=[1,147],ke=[1,148],Se=[1,153],De=[1,154],Ee=[1,139],Le=[1,142],Te=[1,138],Ne=[1,135],Me=[20,21,22,23,38,42,47,76,77,78,79,80,81,95,96,99,100,101,103,104,110,111,112,113,114,115,116,117,118,119],Ae=[1,157],Ie=[20,21,22,23,26,47,81,95,96,99,100,101,103,104,114,115,116,117,118,119],Oe=[20,21,22,23,24,26,38,40,41,42,47,51,53,55,57,59,61,62,64,66,70,71,72,76,77,78,79,80,81,82,85,95,96,99,100,101,103,104,105,106,114,115,116,117,118,119],Fe=[12,21,22,24],Re=[22,96],Pe=[1,238],Be=[1,242],je=[1,239],ze=[1,236],Ve=[1,233],We=[1,234],He=[1,235],Ue=[1,237],$e=[1,240],qe=[1,241],Ke=[1,243],Ye=[1,260],Ge=[20,21,23,96],Xe=[20,21,22,23,76,92,95,96,99,100,101,102,103,104,105],Ze={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,directive:5,openDirective:6,typeDirective:7,closeDirective:8,separator:9,":":10,argDirective:11,open_directive:12,type_directive:13,arg_directive:14,close_directive:15,graphConfig:16,document:17,line:18,statement:19,SEMI:20,NEWLINE:21,SPACE:22,EOF:23,GRAPH:24,NODIR:25,DIR:26,FirstStmtSeperator:27,ending:28,endToken:29,spaceList:30,spaceListNewline:31,verticeStatement:32,styleStatement:33,linkStyleStatement:34,classDefStatement:35,classStatement:36,clickStatement:37,subgraph:38,text:39,SQS:40,SQE:41,end:42,direction:43,link:44,node:45,vertex:46,AMP:47,STYLE_SEPARATOR:48,idString:49,PS:50,PE:51,"(-":52,"-)":53,STADIUMSTART:54,STADIUMEND:55,SUBROUTINESTART:56,SUBROUTINEEND:57,CYLINDERSTART:58,CYLINDEREND:59,DIAMOND_START:60,DIAMOND_STOP:61,TAGEND:62,TRAPSTART:63,TRAPEND:64,INVTRAPSTART:65,INVTRAPEND:66,linkStatement:67,arrowText:68,TESTSTR:69,START_LINK:70,LINK:71,PIPE:72,textToken:73,STR:74,keywords:75,STYLE:76,LINKSTYLE:77,CLASSDEF:78,CLASS:79,CLICK:80,DOWN:81,UP:82,textNoTags:83,textNoTagsToken:84,DEFAULT:85,stylesOpt:86,alphaNum:87,CALLBACKNAME:88,CALLBACKARGS:89,HREF:90,LINK_TARGET:91,HEX:92,numList:93,INTERPOLATE:94,NUM:95,COMMA:96,style:97,styleComponent:98,ALPHA:99,COLON:100,MINUS:101,UNIT:102,BRKT:103,DOT:104,PCT:105,TAGSTART:106,alphaNumToken:107,idStringToken:108,alphaNumStatement:109,direction_tb:110,direction_bt:111,direction_rl:112,direction_lr:113,PUNCTUATION:114,UNICODE_TEXT:115,PLUS:116,EQUALS:117,MULT:118,UNDERSCORE:119,graphCodeTokens:120,ARROW_CROSS:121,ARROW_POINT:122,ARROW_CIRCLE:123,ARROW_OPEN:124,QUOTE:125,$accept:0,$end:1},terminals_:{2:"error",10:":",12:"open_directive",13:"type_directive",14:"arg_directive",15:"close_directive",20:"SEMI",21:"NEWLINE",22:"SPACE",23:"EOF",24:"GRAPH",25:"NODIR",26:"DIR",38:"subgraph",40:"SQS",41:"SQE",42:"end",47:"AMP",48:"STYLE_SEPARATOR",50:"PS",51:"PE",52:"(-",53:"-)",54:"STADIUMSTART",55:"STADIUMEND",56:"SUBROUTINESTART",57:"SUBROUTINEEND",58:"CYLINDERSTART",59:"CYLINDEREND",60:"DIAMOND_START",61:"DIAMOND_STOP",62:"TAGEND",63:"TRAPSTART",64:"TRAPEND",65:"INVTRAPSTART",66:"INVTRAPEND",69:"TESTSTR",70:"START_LINK",71:"LINK",72:"PIPE",74:"STR",76:"STYLE",77:"LINKSTYLE",78:"CLASSDEF",79:"CLASS",80:"CLICK",81:"DOWN",82:"UP",85:"DEFAULT",88:"CALLBACKNAME",89:"CALLBACKARGS",90:"HREF",91:"LINK_TARGET",92:"HEX",94:"INTERPOLATE",95:"NUM",96:"COMMA",99:"ALPHA",100:"COLON",101:"MINUS",102:"UNIT",103:"BRKT",104:"DOT",105:"PCT",106:"TAGSTART",110:"direction_tb",111:"direction_bt",112:"direction_rl",113:"direction_lr",114:"PUNCTUATION",115:"UNICODE_TEXT",116:"PLUS",117:"EQUALS",118:"MULT",119:"UNDERSCORE",121:"ARROW_CROSS",122:"ARROW_POINT",123:"ARROW_CIRCLE",124:"ARROW_OPEN",125:"QUOTE"},productions_:[0,[3,1],[3,2],[5,4],[5,6],[6,1],[7,1],[11,1],[8,1],[4,2],[17,0],[17,2],[18,1],[18,1],[18,1],[18,1],[18,1],[16,2],[16,2],[16,2],[16,3],[28,2],[28,1],[29,1],[29,1],[29,1],[27,1],[27,1],[27,2],[31,2],[31,2],[31,1],[31,1],[30,2],[30,1],[19,2],[19,2],[19,2],[19,2],[19,2],[19,2],[19,9],[19,6],[19,4],[19,1],[9,1],[9,1],[9,1],[32,3],[32,4],[32,2],[32,1],[45,1],[45,5],[45,3],[46,4],[46,6],[46,4],[46,4],[46,4],[46,4],[46,4],[46,4],[46,6],[46,4],[46,4],[46,4],[46,4],[46,4],[46,1],[44,2],[44,3],[44,3],[44,1],[44,3],[67,1],[68,3],[39,1],[39,2],[39,1],[75,1],[75,1],[75,1],[75,1],[75,1],[75,1],[75,1],[75,1],[75,1],[75,1],[75,1],[83,1],[83,2],[35,5],[35,5],[36,5],[37,2],[37,4],[37,3],[37,5],[37,2],[37,4],[37,4],[37,6],[37,2],[37,4],[37,2],[37,4],[37,4],[37,6],[33,5],[33,5],[34,5],[34,5],[34,9],[34,9],[34,7],[34,7],[93,1],[93,3],[86,1],[86,3],[97,1],[97,2],[98,1],[98,1],[98,1],[98,1],[98,1],[98,1],[98,1],[98,1],[98,1],[98,1],[98,1],[73,1],[73,1],[73,1],[73,1],[73,1],[73,1],[84,1],[84,1],[84,1],[84,1],[49,1],[49,2],[87,1],[87,2],[109,1],[109,1],[109,1],[109,1],[43,1],[43,1],[43,1],[43,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1]],performAction:function(e,t,n,i,r,o,s){var a=o.length-1;switch(r){case 5:i.parseDirective("%%{","open_directive");break;case 6:i.parseDirective(o[a],"type_directive");break;case 7:o[a]=o[a].trim().replace(/'/g,'"'),i.parseDirective(o[a],"arg_directive");break;case 8:i.parseDirective("}%%","close_directive","flowchart");break;case 10:case 36:case 37:case 38:case 39:case 40:this.$=[];break;case 11:o[a]!==[]&&o[a-1].push(o[a]),this.$=o[a-1];break;case 12:case 77:case 79:case 91:case 147:case 149:case 150:case 73:case 145:this.$=o[a];break;case 19:i.setDirection("TB"),this.$="TB";break;case 20:i.setDirection(o[a-1]),this.$=o[a-1];break;case 35:this.$=o[a-1].nodes;break;case 41:this.$=i.addSubGraph(o[a-6],o[a-1],o[a-4]);break;case 42:this.$=i.addSubGraph(o[a-3],o[a-1],o[a-3]);break;case 43:this.$=i.addSubGraph(void 0,o[a-1],void 0);break;case 48:i.addLink(o[a-2].stmt,o[a],o[a-1]),this.$={stmt:o[a],nodes:o[a].concat(o[a-2].nodes)};break;case 49:i.addLink(o[a-3].stmt,o[a-1],o[a-2]),this.$={stmt:o[a-1],nodes:o[a-1].concat(o[a-3].nodes)};break;case 50:this.$={stmt:o[a-1],nodes:o[a-1]};break;case 51:this.$={stmt:o[a],nodes:o[a]};break;case 52:case 118:case 120:this.$=[o[a]];break;case 53:this.$=o[a-4].concat(o[a]);break;case 54:this.$=[o[a-2]],i.setClass(o[a-2],o[a]);break;case 55:this.$=o[a-3],i.addVertex(o[a-3],o[a-1],"square");break;case 56:this.$=o[a-5],i.addVertex(o[a-5],o[a-2],"circle");break;case 57:this.$=o[a-3],i.addVertex(o[a-3],o[a-1],"ellipse");break;case 58:this.$=o[a-3],i.addVertex(o[a-3],o[a-1],"stadium");break;case 59:this.$=o[a-3],i.addVertex(o[a-3],o[a-1],"subroutine");break;case 60:this.$=o[a-3],i.addVertex(o[a-3],o[a-1],"cylinder");break;case 61:this.$=o[a-3],i.addVertex(o[a-3],o[a-1],"round");break;case 62:this.$=o[a-3],i.addVertex(o[a-3],o[a-1],"diamond");break;case 63:this.$=o[a-5],i.addVertex(o[a-5],o[a-2],"hexagon");break;case 64:this.$=o[a-3],i.addVertex(o[a-3],o[a-1],"odd");break;case 65:this.$=o[a-3],i.addVertex(o[a-3],o[a-1],"trapezoid");break;case 66:this.$=o[a-3],i.addVertex(o[a-3],o[a-1],"inv_trapezoid");break;case 67:this.$=o[a-3],i.addVertex(o[a-3],o[a-1],"lean_right");break;case 68:this.$=o[a-3],i.addVertex(o[a-3],o[a-1],"lean_left");break;case 69:this.$=o[a],i.addVertex(o[a]);break;case 70:o[a-1].text=o[a],this.$=o[a-1];break;case 71:case 72:o[a-2].text=o[a-1],this.$=o[a-2];break;case 74:var l=i.destructLink(o[a],o[a-2]);this.$={type:l.type,stroke:l.stroke,length:l.length,text:o[a-1]};break;case 75:l=i.destructLink(o[a]),this.$={type:l.type,stroke:l.stroke,length:l.length};break;case 76:this.$=o[a-1];break;case 78:case 92:case 148:case 146:this.$=o[a-1]+""+o[a];break;case 93:case 94:this.$=o[a-4],i.addClass(o[a-2],o[a]);break;case 95:this.$=o[a-4],i.setClass(o[a-2],o[a]);break;case 96:case 104:this.$=o[a-1],i.setClickEvent(o[a-1],o[a]);break;case 97:case 105:this.$=o[a-3],i.setClickEvent(o[a-3],o[a-2]),i.setTooltip(o[a-3],o[a]);break;case 98:this.$=o[a-2],i.setClickEvent(o[a-2],o[a-1],o[a]);break;case 99:this.$=o[a-4],i.setClickEvent(o[a-4],o[a-3],o[a-2]),i.setTooltip(o[a-4],o[a]);break;case 100:case 106:this.$=o[a-1],i.setLink(o[a-1],o[a]);break;case 101:case 107:this.$=o[a-3],i.setLink(o[a-3],o[a-2]),i.setTooltip(o[a-3],o[a]);break;case 102:case 108:this.$=o[a-3],i.setLink(o[a-3],o[a-2],o[a]);break;case 103:case 109:this.$=o[a-5],i.setLink(o[a-5],o[a-4],o[a]),i.setTooltip(o[a-5],o[a-2]);break;case 110:this.$=o[a-4],i.addVertex(o[a-2],void 0,void 0,o[a]);break;case 111:case 113:this.$=o[a-4],i.updateLink(o[a-2],o[a]);break;case 112:this.$=o[a-4],i.updateLink([o[a-2]],o[a]);break;case 114:this.$=o[a-8],i.updateLinkInterpolate([o[a-6]],o[a-2]),i.updateLink([o[a-6]],o[a]);break;case 115:this.$=o[a-8],i.updateLinkInterpolate(o[a-6],o[a-2]),i.updateLink(o[a-6],o[a]);break;case 116:this.$=o[a-6],i.updateLinkInterpolate([o[a-4]],o[a]);break;case 117:this.$=o[a-6],i.updateLinkInterpolate(o[a-4],o[a]);break;case 119:case 121:o[a-2].push(o[a]),this.$=o[a-2];break;case 123:this.$=o[a-1]+o[a];break;case 151:this.$="v";break;case 152:this.$="-";break;case 153:this.$={stmt:"dir",value:"TB"};break;case 154:this.$={stmt:"dir",value:"BT"};break;case 155:this.$={stmt:"dir",value:"RL"};break;case 156:this.$={stmt:"dir",value:"LR"}}},table:[{3:1,4:2,5:3,6:5,12:t,16:4,21:n,22:i,24:r},{1:[3]},{1:[2,1]},{3:10,4:2,5:3,6:5,12:t,16:4,21:n,22:i,24:r},e(o,s,{17:11}),{7:12,13:[1,13]},{16:14,21:n,22:i,24:r},{16:15,21:n,22:i,24:r},{25:[1,16],26:[1,17]},{13:[2,5]},{1:[2,2]},{1:[2,9],18:18,19:19,20:a,21:l,22:c,23:u,32:24,33:25,34:26,35:27,36:28,37:29,38:h,43:31,45:32,46:42,47:d,49:43,76:f,77:p,78:g,79:m,80:v,81:y,95:b,96:_,99:w,100:C,101:x,103:k,104:S,108:44,110:D,111:E,112:L,113:T,114:N,115:M,116:A,117:I,118:O,119:F},{8:60,10:[1,61],15:R},e([10,15],[2,6]),e(o,[2,17]),e(o,[2,18]),e(o,[2,19]),{20:[1,64],21:[1,65],22:P,27:63,30:66},e(B,[2,11]),e(B,[2,12]),e(B,[2,13]),e(B,[2,14]),e(B,[2,15]),e(B,[2,16]),{9:68,20:j,21:z,23:V,44:69,67:73,70:[1,74],71:[1,75]},{9:76,20:j,21:z,23:V},{9:77,20:j,21:z,23:V},{9:78,20:j,21:z,23:V},{9:79,20:j,21:z,23:V},{9:80,20:j,21:z,23:V},{9:82,20:j,21:z,22:[1,81],23:V},e(B,[2,44]),e(W,[2,51],{30:83,22:P}),{22:[1,84]},{22:[1,85]},{22:[1,86]},{22:[1,87]},{26:H,47:U,74:[1,91],81:$,87:90,88:[1,88],90:[1,89],95:q,96:K,99:Y,100:G,101:X,103:Z,104:J,107:94,109:92,114:Q,115:ee,116:te,117:ne,118:ie,119:re},e(B,[2,153]),e(B,[2,154]),e(B,[2,155]),e(B,[2,156]),e(oe,[2,52],{48:[1,110]}),e(se,[2,69],{108:121,40:[1,111],47:d,50:[1,112],52:[1,113],54:[1,114],56:[1,115],58:[1,116],60:[1,117],62:[1,118],63:[1,119],65:[1,120],81:y,95:b,96:_,99:w,100:C,101:x,103:k,104:S,114:N,115:M,116:A,117:I,118:O,119:F}),e(ae,[2,145]),e(ae,[2,170]),e(ae,[2,171]),e(ae,[2,172]),e(ae,[2,173]),e(ae,[2,174]),e(ae,[2,175]),e(ae,[2,176]),e(ae,[2,177]),e(ae,[2,178]),e(ae,[2,179]),e(ae,[2,180]),e(ae,[2,181]),e(ae,[2,182]),e(ae,[2,183]),e(ae,[2,184]),{9:122,20:j,21:z,23:V},{11:123,14:[1,124]},e(le,[2,8]),e(o,[2,20]),e(o,[2,26]),e(o,[2,27]),{21:[1,125]},e(ce,[2,34],{30:126,22:P}),e(B,[2,35]),{45:127,46:42,47:d,49:43,81:y,95:b,96:_,99:w,100:C,101:x,103:k,104:S,108:44,114:N,115:M,116:A,117:I,118:O,119:F},e(ue,[2,45]),e(ue,[2,46]),e(ue,[2,47]),e(he,[2,73],{68:128,69:[1,129],72:[1,130]}),{22:de,24:fe,26:pe,38:ge,39:131,42:me,47:U,62:ve,70:ye,73:132,74:be,75:143,76:_e,77:we,78:Ce,79:xe,80:ke,81:Se,82:De,84:134,85:Ee,95:q,96:K,99:Y,100:G,101:Le,103:Z,104:J,105:Te,106:Ne,107:140,114:Q,115:ee,116:te,117:ne,118:ie,119:re},e([47,69,72,81,95,96,99,100,101,103,104,114,115,116,117,118,119],[2,75]),e(B,[2,36]),e(B,[2,37]),e(B,[2,38]),e(B,[2,39]),e(B,[2,40]),{22:de,24:fe,26:pe,38:ge,39:155,42:me,47:U,62:ve,70:ye,73:132,74:be,75:143,76:_e,77:we,78:Ce,79:xe,80:ke,81:Se,82:De,84:134,85:Ee,95:q,96:K,99:Y,100:G,101:Le,103:Z,104:J,105:Te,106:Ne,107:140,114:Q,115:ee,116:te,117:ne,118:ie,119:re},e(Me,s,{17:156}),e(W,[2,50],{47:Ae}),{26:H,47:U,81:$,87:158,92:[1,159],95:q,96:K,99:Y,100:G,101:X,103:Z,104:J,107:94,109:92,114:Q,115:ee,116:te,117:ne,118:ie,119:re},{85:[1,160],93:161,95:[1,162]},{26:H,47:U,81:$,85:[1,163],87:164,95:q,96:K,99:Y,100:G,101:X,103:Z,104:J,107:94,109:92,114:Q,115:ee,116:te,117:ne,118:ie,119:re},{26:H,47:U,81:$,87:165,95:q,96:K,99:Y,100:G,101:X,103:Z,104:J,107:94,109:92,114:Q,115:ee,116:te,117:ne,118:ie,119:re},e(le,[2,96],{22:[1,166],89:[1,167]}),e(le,[2,100],{22:[1,168]}),e(le,[2,104],{107:94,109:170,22:[1,169],26:H,47:U,81:$,95:q,96:K,99:Y,100:G,101:X,103:Z,104:J,114:Q,115:ee,116:te,117:ne,118:ie,119:re}),e(le,[2,106],{22:[1,171]}),e(Ie,[2,147]),e(Ie,[2,149]),e(Ie,[2,150]),e(Ie,[2,151]),e(Ie,[2,152]),e(Oe,[2,157]),e(Oe,[2,158]),e(Oe,[2,159]),e(Oe,[2,160]),e(Oe,[2,161]),e(Oe,[2,162]),e(Oe,[2,163]),e(Oe,[2,164]),e(Oe,[2,165]),e(Oe,[2,166]),e(Oe,[2,167]),e(Oe,[2,168]),e(Oe,[2,169]),{47:d,49:172,81:y,95:b,96:_,99:w,100:C,101:x,103:k,104:S,108:44,114:N,115:M,116:A,117:I,118:O,119:F},{22:de,24:fe,26:pe,38:ge,39:173,42:me,47:U,62:ve,70:ye,73:132,74:be,75:143,76:_e,77:we,78:Ce,79:xe,80:ke,81:Se,82:De,84:134,85:Ee,95:q,96:K,99:Y,100:G,101:Le,103:Z,104:J,105:Te,106:Ne,107:140,114:Q,115:ee,116:te,117:ne,118:ie,119:re},{22:de,24:fe,26:pe,38:ge,39:175,42:me,47:U,50:[1,174],62:ve,70:ye,73:132,74:be,75:143,76:_e,77:we,78:Ce,79:xe,80:ke,81:Se,82:De,84:134,85:Ee,95:q,96:K,99:Y,100:G,101:Le,103:Z,104:J,105:Te,106:Ne,107:140,114:Q,115:ee,116:te,117:ne,118:ie,119:re},{22:de,24:fe,26:pe,38:ge,39:176,42:me,47:U,62:ve,70:ye,73:132,74:be,75:143,76:_e,77:we,78:Ce,79:xe,80:ke,81:Se,82:De,84:134,85:Ee,95:q,96:K,99:Y,100:G,101:Le,103:Z,104:J,105:Te,106:Ne,107:140,114:Q,115:ee,116:te,117:ne,118:ie,119:re},{22:de,24:fe,26:pe,38:ge,39:177,42:me,47:U,62:ve,70:ye,73:132,74:be,75:143,76:_e,77:we,78:Ce,79:xe,80:ke,81:Se,82:De,84:134,85:Ee,95:q,96:K,99:Y,100:G,101:Le,103:Z,104:J,105:Te,106:Ne,107:140,114:Q,115:ee,116:te,117:ne,118:ie,119:re},{22:de,24:fe,26:pe,38:ge,39:178,42:me,47:U,62:ve,70:ye,73:132,74:be,75:143,76:_e,77:we,78:Ce,79:xe,80:ke,81:Se,82:De,84:134,85:Ee,95:q,96:K,99:Y,100:G,101:Le,103:Z,104:J,105:Te,106:Ne,107:140,114:Q,115:ee,116:te,117:ne,118:ie,119:re},{22:de,24:fe,26:pe,38:ge,39:179,42:me,47:U,62:ve,70:ye,73:132,74:be,75:143,76:_e,77:we,78:Ce,79:xe,80:ke,81:Se,82:De,84:134,85:Ee,95:q,96:K,99:Y,100:G,101:Le,103:Z,104:J,105:Te,106:Ne,107:140,114:Q,115:ee,116:te,117:ne,118:ie,119:re},{22:de,24:fe,26:pe,38:ge,39:180,42:me,47:U,60:[1,181],62:ve,70:ye,73:132,74:be,75:143,76:_e,77:we,78:Ce,79:xe,80:ke,81:Se,82:De,84:134,85:Ee,95:q,96:K,99:Y,100:G,101:Le,103:Z,104:J,105:Te,106:Ne,107:140,114:Q,115:ee,116:te,117:ne,118:ie,119:re},{22:de,24:fe,26:pe,38:ge,39:182,42:me,47:U,62:ve,70:ye,73:132,74:be,75:143,76:_e,77:we,78:Ce,79:xe,80:ke,81:Se,82:De,84:134,85:Ee,95:q,96:K,99:Y,100:G,101:Le,103:Z,104:J,105:Te,106:Ne,107:140,114:Q,115:ee,116:te,117:ne,118:ie,119:re},{22:de,24:fe,26:pe,38:ge,39:183,42:me,47:U,62:ve,70:ye,73:132,74:be,75:143,76:_e,77:we,78:Ce,79:xe,80:ke,81:Se,82:De,84:134,85:Ee,95:q,96:K,99:Y,100:G,101:Le,103:Z,104:J,105:Te,106:Ne,107:140,114:Q,115:ee,116:te,117:ne,118:ie,119:re},{22:de,24:fe,26:pe,38:ge,39:184,42:me,47:U,62:ve,70:ye,73:132,74:be,75:143,76:_e,77:we,78:Ce,79:xe,80:ke,81:Se,82:De,84:134,85:Ee,95:q,96:K,99:Y,100:G,101:Le,103:Z,104:J,105:Te,106:Ne,107:140,114:Q,115:ee,116:te,117:ne,118:ie,119:re},e(ae,[2,146]),e(Fe,[2,3]),{8:185,15:R},{15:[2,7]},e(o,[2,28]),e(ce,[2,33]),e(W,[2,48],{30:186,22:P}),e(he,[2,70],{22:[1,187]}),{22:[1,188]},{22:de,24:fe,26:pe,38:ge,39:189,42:me,47:U,62:ve,70:ye,73:132,74:be,75:143,76:_e,77:we,78:Ce,79:xe,80:ke,81:Se,82:De,84:134,85:Ee,95:q,96:K,99:Y,100:G,101:Le,103:Z,104:J,105:Te,106:Ne,107:140,114:Q,115:ee,116:te,117:ne,118:ie,119:re},{22:de,24:fe,26:pe,38:ge,42:me,47:U,62:ve,70:ye,71:[1,190],73:191,75:143,76:_e,77:we,78:Ce,79:xe,80:ke,81:Se,82:De,84:134,85:Ee,95:q,96:K,99:Y,100:G,101:Le,103:Z,104:J,105:Te,106:Ne,107:140,114:Q,115:ee,116:te,117:ne,118:ie,119:re},e(Oe,[2,77]),e(Oe,[2,79]),e(Oe,[2,135]),e(Oe,[2,136]),e(Oe,[2,137]),e(Oe,[2,138]),e(Oe,[2,139]),e(Oe,[2,140]),e(Oe,[2,141]),e(Oe,[2,142]),e(Oe,[2,143]),e(Oe,[2,144]),e(Oe,[2,80]),e(Oe,[2,81]),e(Oe,[2,82]),e(Oe,[2,83]),e(Oe,[2,84]),e(Oe,[2,85]),e(Oe,[2,86]),e(Oe,[2,87]),e(Oe,[2,88]),e(Oe,[2,89]),e(Oe,[2,90]),{9:193,20:j,21:z,22:de,23:V,24:fe,26:pe,38:ge,40:[1,192],42:me,47:U,62:ve,70:ye,73:191,75:143,76:_e,77:we,78:Ce,79:xe,80:ke,81:Se,82:De,84:134,85:Ee,95:q,96:K,99:Y,100:G,101:Le,103:Z,104:J,105:Te,106:Ne,107:140,114:Q,115:ee,116:te,117:ne,118:ie,119:re},{18:18,19:19,20:a,21:l,22:c,23:u,32:24,33:25,34:26,35:27,36:28,37:29,38:h,42:[1,194],43:31,45:32,46:42,47:d,49:43,76:f,77:p,78:g,79:m,80:v,81:y,95:b,96:_,99:w,100:C,101:x,103:k,104:S,108:44,110:D,111:E,112:L,113:T,114:N,115:M,116:A,117:I,118:O,119:F},{22:P,30:195},{22:[1,196],26:H,47:U,81:$,95:q,96:K,99:Y,100:G,101:X,103:Z,104:J,107:94,109:170,114:Q,115:ee,116:te,117:ne,118:ie,119:re},{22:[1,197]},{22:[1,198]},{22:[1,199],96:[1,200]},e(Re,[2,118]),{22:[1,201]},{22:[1,202],26:H,47:U,81:$,95:q,96:K,99:Y,100:G,101:X,103:Z,104:J,107:94,109:170,114:Q,115:ee,116:te,117:ne,118:ie,119:re},{22:[1,203],26:H,47:U,81:$,95:q,96:K,99:Y,100:G,101:X,103:Z,104:J,107:94,109:170,114:Q,115:ee,116:te,117:ne,118:ie,119:re},{74:[1,204]},e(le,[2,98],{22:[1,205]}),{74:[1,206],91:[1,207]},{74:[1,208]},e(Ie,[2,148]),{74:[1,209],91:[1,210]},e(oe,[2,54],{108:121,47:d,81:y,95:b,96:_,99:w,100:C,101:x,103:k,104:S,114:N,115:M,116:A,117:I,118:O,119:F}),{22:de,24:fe,26:pe,38:ge,41:[1,211],42:me,47:U,62:ve,70:ye,73:191,75:143,76:_e,77:we,78:Ce,79:xe,80:ke,81:Se,82:De,84:134,85:Ee,95:q,96:K,99:Y,100:G,101:Le,103:Z,104:J,105:Te,106:Ne,107:140,114:Q,115:ee,116:te,117:ne,118:ie,119:re},{22:de,24:fe,26:pe,38:ge,39:212,42:me,47:U,62:ve,70:ye,73:132,74:be,75:143,76:_e,77:we,78:Ce,79:xe,80:ke,81:Se,82:De,84:134,85:Ee,95:q,96:K,99:Y,100:G,101:Le,103:Z,104:J,105:Te,106:Ne,107:140,114:Q,115:ee,116:te,117:ne,118:ie,119:re},{22:de,24:fe,26:pe,38:ge,42:me,47:U,51:[1,213],62:ve,70:ye,73:191,75:143,76:_e,77:we,78:Ce,79:xe,80:ke,81:Se,82:De,84:134,85:Ee,95:q,96:K,99:Y,100:G,101:Le,103:Z,104:J,105:Te,106:Ne,107:140,114:Q,115:ee,116:te,117:ne,118:ie,119:re},{22:de,24:fe,26:pe,38:ge,42:me,47:U,53:[1,214],62:ve,70:ye,73:191,75:143,76:_e,77:we,78:Ce,79:xe,80:ke,81:Se,82:De,84:134,85:Ee,95:q,96:K,99:Y,100:G,101:Le,103:Z,104:J,105:Te,106:Ne,107:140,114:Q,115:ee,116:te,117:ne,118:ie,119:re},{22:de,24:fe,26:pe,38:ge,42:me,47:U,55:[1,215],62:ve,70:ye,73:191,75:143,76:_e,77:we,78:Ce,79:xe,80:ke,81:Se,82:De,84:134,85:Ee,95:q,96:K,99:Y,100:G,101:Le,103:Z,104:J,105:Te,106:Ne,107:140,114:Q,115:ee,116:te,117:ne,118:ie,119:re},{22:de,24:fe,26:pe,38:ge,42:me,47:U,57:[1,216],62:ve,70:ye,73:191,75:143,76:_e,77:we,78:Ce,79:xe,80:ke,81:Se,82:De,84:134,85:Ee,95:q,96:K,99:Y,100:G,101:Le,103:Z,104:J,105:Te,106:Ne,107:140,114:Q,115:ee,116:te,117:ne,118:ie,119:re},{22:de,24:fe,26:pe,38:ge,42:me,47:U,59:[1,217],62:ve,70:ye,73:191,75:143,76:_e,77:we,78:Ce,79:xe,80:ke,81:Se,82:De,84:134,85:Ee,95:q,96:K,99:Y,100:G,101:Le,103:Z,104:J,105:Te,106:Ne,107:140,114:Q,115:ee,116:te,117:ne,118:ie,119:re},{22:de,24:fe,26:pe,38:ge,42:me,47:U,61:[1,218],62:ve,70:ye,73:191,75:143,76:_e,77:we,78:Ce,79:xe,80:ke,81:Se,82:De,84:134,85:Ee,95:q,96:K,99:Y,100:G,101:Le,103:Z,104:J,105:Te,106:Ne,107:140,114:Q,115:ee,116:te,117:ne,118:ie,119:re},{22:de,24:fe,26:pe,38:ge,39:219,42:me,47:U,62:ve,70:ye,73:132,74:be,75:143,76:_e,77:we,78:Ce,79:xe,80:ke,81:Se,82:De,84:134,85:Ee,95:q,96:K,99:Y,100:G,101:Le,103:Z,104:J,105:Te,106:Ne,107:140,114:Q,115:ee,116:te,117:ne,118:ie,119:re},{22:de,24:fe,26:pe,38:ge,41:[1,220],42:me,47:U,62:ve,70:ye,73:191,75:143,76:_e,77:we,78:Ce,79:xe,80:ke,81:Se,82:De,84:134,85:Ee,95:q,96:K,99:Y,100:G,101:Le,103:Z,104:J,105:Te,106:Ne,107:140,114:Q,115:ee,116:te,117:ne,118:ie,119:re},{22:de,24:fe,26:pe,38:ge,42:me,47:U,62:ve,64:[1,221],66:[1,222],70:ye,73:191,75:143,76:_e,77:we,78:Ce,79:xe,80:ke,81:Se,82:De,84:134,85:Ee,95:q,96:K,99:Y,100:G,101:Le,103:Z,104:J,105:Te,106:Ne,107:140,114:Q,115:ee,116:te,117:ne,118:ie,119:re},{22:de,24:fe,26:pe,38:ge,42:me,47:U,62:ve,64:[1,224],66:[1,223],70:ye,73:191,75:143,76:_e,77:we,78:Ce,79:xe,80:ke,81:Se,82:De,84:134,85:Ee,95:q,96:K,99:Y,100:G,101:Le,103:Z,104:J,105:Te,106:Ne,107:140,114:Q,115:ee,116:te,117:ne,118:ie,119:re},{9:225,20:j,21:z,23:V},e(W,[2,49],{47:Ae}),e(he,[2,72]),e(he,[2,71]),{22:de,24:fe,26:pe,38:ge,42:me,47:U,62:ve,70:ye,72:[1,226],73:191,75:143,76:_e,77:we,78:Ce,79:xe,80:ke,81:Se,82:De,84:134,85:Ee,95:q,96:K,99:Y,100:G,101:Le,103:Z,104:J,105:Te,106:Ne,107:140,114:Q,115:ee,116:te,117:ne,118:ie,119:re},e(he,[2,74]),e(Oe,[2,78]),{22:de,24:fe,26:pe,38:ge,39:227,42:me,47:U,62:ve,70:ye,73:132,74:be,75:143,76:_e,77:we,78:Ce,79:xe,80:ke,81:Se,82:De,84:134,85:Ee,95:q,96:K,99:Y,100:G,101:Le,103:Z,104:J,105:Te,106:Ne,107:140,114:Q,115:ee,116:te,117:ne,118:ie,119:re},e(Me,s,{17:228}),e(B,[2,43]),{46:229,47:d,49:43,81:y,95:b,96:_,99:w,100:C,101:x,103:k,104:S,108:44,114:N,115:M,116:A,117:I,118:O,119:F},{22:Pe,76:Be,86:230,92:je,95:ze,97:231,98:232,99:Ve,100:We,101:He,102:Ue,103:$e,104:qe,105:Ke},{22:Pe,76:Be,86:244,92:je,95:ze,97:231,98:232,99:Ve,100:We,101:He,102:Ue,103:$e,104:qe,105:Ke},{22:Pe,76:Be,86:245,92:je,94:[1,246],95:ze,97:231,98:232,99:Ve,100:We,101:He,102:Ue,103:$e,104:qe,105:Ke},{22:Pe,76:Be,86:247,92:je,94:[1,248],95:ze,97:231,98:232,99:Ve,100:We,101:He,102:Ue,103:$e,104:qe,105:Ke},{95:[1,249]},{22:Pe,76:Be,86:250,92:je,95:ze,97:231,98:232,99:Ve,100:We,101:He,102:Ue,103:$e,104:qe,105:Ke},{22:Pe,76:Be,86:251,92:je,95:ze,97:231,98:232,99:Ve,100:We,101:He,102:Ue,103:$e,104:qe,105:Ke},{26:H,47:U,81:$,87:252,95:q,96:K,99:Y,100:G,101:X,103:Z,104:J,107:94,109:92,114:Q,115:ee,116:te,117:ne,118:ie,119:re},e(le,[2,97]),{74:[1,253]},e(le,[2,101],{22:[1,254]}),e(le,[2,102]),e(le,[2,105]),e(le,[2,107],{22:[1,255]}),e(le,[2,108]),e(se,[2,55]),{22:de,24:fe,26:pe,38:ge,42:me,47:U,51:[1,256],62:ve,70:ye,73:191,75:143,76:_e,77:we,78:Ce,79:xe,80:ke,81:Se,82:De,84:134,85:Ee,95:q,96:K,99:Y,100:G,101:Le,103:Z,104:J,105:Te,106:Ne,107:140,114:Q,115:ee,116:te,117:ne,118:ie,119:re},e(se,[2,61]),e(se,[2,57]),e(se,[2,58]),e(se,[2,59]),e(se,[2,60]),e(se,[2,62]),{22:de,24:fe,26:pe,38:ge,42:me,47:U,61:[1,257],62:ve,70:ye,73:191,75:143,76:_e,77:we,78:Ce,79:xe,80:ke,81:Se,82:De,84:134,85:Ee,95:q,96:K,99:Y,100:G,101:Le,103:Z,104:J,105:Te,106:Ne,107:140,114:Q,115:ee,116:te,117:ne,118:ie,119:re},e(se,[2,64]),e(se,[2,65]),e(se,[2,67]),e(se,[2,66]),e(se,[2,68]),e(Fe,[2,4]),e([22,47,81,95,96,99,100,101,103,104,114,115,116,117,118,119],[2,76]),{22:de,24:fe,26:pe,38:ge,41:[1,258],42:me,47:U,62:ve,70:ye,73:191,75:143,76:_e,77:we,78:Ce,79:xe,80:ke,81:Se,82:De,84:134,85:Ee,95:q,96:K,99:Y,100:G,101:Le,103:Z,104:J,105:Te,106:Ne,107:140,114:Q,115:ee,116:te,117:ne,118:ie,119:re},{18:18,19:19,20:a,21:l,22:c,23:u,32:24,33:25,34:26,35:27,36:28,37:29,38:h,42:[1,259],43:31,45:32,46:42,47:d,49:43,76:f,77:p,78:g,79:m,80:v,81:y,95:b,96:_,99:w,100:C,101:x,103:k,104:S,108:44,110:D,111:E,112:L,113:T,114:N,115:M,116:A,117:I,118:O,119:F},e(oe,[2,53]),e(le,[2,110],{96:Ye}),e(Ge,[2,120],{98:261,22:Pe,76:Be,92:je,95:ze,99:Ve,100:We,101:He,102:Ue,103:$e,104:qe,105:Ke}),e(Xe,[2,122]),e(Xe,[2,124]),e(Xe,[2,125]),e(Xe,[2,126]),e(Xe,[2,127]),e(Xe,[2,128]),e(Xe,[2,129]),e(Xe,[2,130]),e(Xe,[2,131]),e(Xe,[2,132]),e(Xe,[2,133]),e(Xe,[2,134]),e(le,[2,111],{96:Ye}),e(le,[2,112],{96:Ye}),{22:[1,262]},e(le,[2,113],{96:Ye}),{22:[1,263]},e(Re,[2,119]),e(le,[2,93],{96:Ye}),e(le,[2,94],{96:Ye}),e(le,[2,95],{107:94,109:170,26:H,47:U,81:$,95:q,96:K,99:Y,100:G,101:X,103:Z,104:J,114:Q,115:ee,116:te,117:ne,118:ie,119:re}),e(le,[2,99]),{91:[1,264]},{91:[1,265]},{51:[1,266]},{61:[1,267]},{9:268,20:j,21:z,23:V},e(B,[2,42]),{22:Pe,76:Be,92:je,95:ze,97:269,98:232,99:Ve,100:We,101:He,102:Ue,103:$e,104:qe,105:Ke},e(Xe,[2,123]),{26:H,47:U,81:$,87:270,95:q,96:K,99:Y,100:G,101:X,103:Z,104:J,107:94,109:92,114:Q,115:ee,116:te,117:ne,118:ie,119:re},{26:H,47:U,81:$,87:271,95:q,96:K,99:Y,100:G,101:X,103:Z,104:J,107:94,109:92,114:Q,115:ee,116:te,117:ne,118:ie,119:re},e(le,[2,103]),e(le,[2,109]),e(se,[2,56]),e(se,[2,63]),e(Me,s,{17:272}),e(Ge,[2,121],{98:261,22:Pe,76:Be,92:je,95:ze,99:Ve,100:We,101:He,102:Ue,103:$e,104:qe,105:Ke}),e(le,[2,116],{107:94,109:170,22:[1,273],26:H,47:U,81:$,95:q,96:K,99:Y,100:G,101:X,103:Z,104:J,114:Q,115:ee,116:te,117:ne,118:ie,119:re}),e(le,[2,117],{107:94,109:170,22:[1,274],26:H,47:U,81:$,95:q,96:K,99:Y,100:G,101:X,103:Z,104:J,114:Q,115:ee,116:te,117:ne,118:ie,119:re}),{18:18,19:19,20:a,21:l,22:c,23:u,32:24,33:25,34:26,35:27,36:28,37:29,38:h,42:[1,275],43:31,45:32,46:42,47:d,49:43,76:f,77:p,78:g,79:m,80:v,81:y,95:b,96:_,99:w,100:C,101:x,103:k,104:S,108:44,110:D,111:E,112:L,113:T,114:N,115:M,116:A,117:I,118:O,119:F},{22:Pe,76:Be,86:276,92:je,95:ze,97:231,98:232,99:Ve,100:We,101:He,102:Ue,103:$e,104:qe,105:Ke},{22:Pe,76:Be,86:277,92:je,95:ze,97:231,98:232,99:Ve,100:We,101:He,102:Ue,103:$e,104:qe,105:Ke},e(B,[2,41]),e(le,[2,114],{96:Ye}),e(le,[2,115],{96:Ye})],defaultActions:{2:[2,1],9:[2,5],10:[2,2],124:[2,7]},parseError:function(e,t){if(!t.recoverable){var n=new Error(e);throw n.hash=t,n}this.trace(e)},parse:function(e){var t=this,n=[0],i=[],r=[null],o=[],s=this.table,a="",l=0,c=0,u=2,h=1,d=o.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);f.setInput(e,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;o.push(m);var v=f.options&&f.options.ranges;function y(){var e;return"number"!=typeof(e=i.pop()||f.lex()||h)&&(e instanceof Array&&(e=(i=e).pop()),e=t.symbols_[e]||e),e}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var b,_,w,C,x,k,S,D,E,L={};;){if(w=n[n.length-1],this.defaultActions[w]?C=this.defaultActions[w]:(null==b&&(b=y()),C=s[w]&&s[w][b]),void 0===C||!C.length||!C[0]){var T="";for(k in E=[],s[w])this.terminals_[k]&&k>u&&E.push("'"+this.terminals_[k]+"'");T=f.showPosition?"Parse error on line "+(l+1)+":\n"+f.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(l+1)+": Unexpected "+(b==h?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(T,{text:f.match,token:this.terminals_[b]||b,line:f.yylineno,loc:m,expected:E})}if(C[0]instanceof Array&&C.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+b);switch(C[0]){case 1:n.push(b),r.push(f.yytext),o.push(f.yylloc),n.push(C[1]),b=null,_?(b=_,_=null):(c=f.yyleng,a=f.yytext,l=f.yylineno,m=f.yylloc);break;case 2:if(S=this.productions_[C[1]][1],L.$=r[r.length-S],L._$={first_line:o[o.length-(S||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(S||1)].first_column,last_column:o[o.length-1].last_column},v&&(L._$.range=[o[o.length-(S||1)].range[0],o[o.length-1].range[1]]),void 0!==(x=this.performAction.apply(L,[a,c,l,p.yy,C[1],r,o].concat(d))))return x;S&&(n=n.slice(0,-1*S*2),r=r.slice(0,-1*S),o=o.slice(0,-1*S)),n.push(this.productions_[C[1]][0]),r.push(L.$),o.push(L._$),D=s[n[n.length-2]][n[n.length-1]],n.push(D);break;case 3:return!0}}return!0}},Je={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var n,i,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(i=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((n=this._input.match(this.rules[r[o]]))&&(!t||n[0].length>t[0].length)){if(t=n,i=o,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,r[o])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,r[i]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,n,i){switch(n){case 0:return this.begin("open_directive"),12;case 1:return this.begin("type_directive"),13;case 2:return this.popState(),this.begin("arg_directive"),10;case 3:return this.popState(),this.popState(),15;case 4:return 14;case 5:case 6:break;case 7:this.begin("string");break;case 8:case 17:case 20:case 23:case 26:this.popState();break;case 9:return"STR";case 10:return 76;case 11:return 85;case 12:return 77;case 13:return 94;case 14:return 78;case 15:return 79;case 16:this.begin("href");break;case 18:return 90;case 19:this.begin("callbackname");break;case 21:this.popState(),this.begin("callbackargs");break;case 22:return 88;case 24:return 89;case 25:this.begin("click");break;case 27:return 80;case 28:case 29:return e.lex.firstGraph()&&this.begin("dir"),24;case 30:return 38;case 31:return 42;case 32:case 33:case 34:case 35:return 91;case 36:return this.popState(),25;case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:return this.popState(),26;case 47:return 110;case 48:return 111;case 49:return 112;case 50:return 113;case 51:return 95;case 52:return 103;case 53:return 48;case 54:return 100;case 55:return 47;case 56:return 20;case 57:return 96;case 58:return 118;case 59:case 60:case 61:return 71;case 62:case 63:case 64:return 70;case 65:return 52;case 66:return 53;case 67:return 54;case 68:return 55;case 69:return 56;case 70:return 57;case 71:return 58;case 72:return 59;case 73:return 101;case 74:return 104;case 75:return 119;case 76:return 116;case 77:return 105;case 78:case 79:return 117;case 80:return 106;case 81:return 62;case 82:return 82;case 83:return"SEP";case 84:return 81;case 85:return 99;case 86:return 64;case 87:return 63;case 88:return 66;case 89:return 65;case 90:return 114;case 91:return 115;case 92:return 72;case 93:return 50;case 94:return 51;case 95:return 40;case 96:return 41;case 97:return 60;case 98:return 61;case 99:return 125;case 100:return 21;case 101:return 22;case 102:return 23}},rules:[/^(?:%%\{)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)[^\n]*)/,/^(?:[^\}]%%[^\n]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\[)/,/^(?:\]\))/,/^(?:\[\[)/,/^(?:\]\])/,/^(?:\[\()/,/^(?:\)\])/,/^(?:-)/,/^(?:\.)/,/^(?:[\_])/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:[A-Za-z]+)/,/^(?:\\\])/,/^(?:\[\/)/,/^(?:\/\])/,/^(?:\[\\)/,/^(?:[!"#$%&'*+,-.`?\\_/])/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[23,24],inclusive:!1},callbackname:{rules:[20,21,22],inclusive:!1},href:{rules:[17,18],inclusive:!1},click:{rules:[26,27],inclusive:!1},vertex:{rules:[],inclusive:!1},dir:{rules:[36,37,38,39,40,41,42,43,44,45,46],inclusive:!1},string:{rules:[8,9],inclusive:!1},INITIAL:{rules:[0,5,6,7,10,11,12,13,14,15,16,19,25,28,29,30,31,32,33,34,35,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102],inclusive:!0}}};function Qe(){this.yy={}}return Ze.lexer=Je,Qe.prototype=Ze,Ze.Parser=Qe,new Qe}();t.parser=i,t.Parser=i.Parser,t.parse=function(){return i.parse.apply(i,arguments)},t.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),process.exit(1));var i=n(5354).readFileSync(n(6470).normalize(e[1]),"utf8");return t.parser.parse(i)},n.c[n.s]===e&&t.main(process.argv.slice(1))},2055:(e,t,n)=>{e=n.nmd(e);var i=function(){var e=function(e,t,n,i){for(n=n||{},i=e.length;i--;n[e[i]]=t);return n},t=[1,3],n=[1,5],i=[7,9,11,12,13,14,15,16,17,18,19,21,28,33],r=[1,15],o=[1,16],s=[1,17],a=[1,18],l=[1,19],c=[1,20],u=[1,21],h=[1,22],d=[1,24],f=[1,26],p=[1,29],g=[5,7,9,11,12,13,14,15,16,17,18,19,21,28,33],m={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,gantt:5,document:6,EOF:7,line:8,SPACE:9,statement:10,NL:11,dateFormat:12,inclusiveEndDates:13,topAxis:14,axisFormat:15,excludes:16,todayMarker:17,title:18,section:19,clickStatement:20,taskTxt:21,taskData:22,openDirective:23,typeDirective:24,closeDirective:25,":":26,argDirective:27,click:28,callbackname:29,callbackargs:30,href:31,clickStatementDebug:32,open_directive:33,type_directive:34,arg_directive:35,close_directive:36,$accept:0,$end:1},terminals_:{2:"error",5:"gantt",7:"EOF",9:"SPACE",11:"NL",12:"dateFormat",13:"inclusiveEndDates",14:"topAxis",15:"axisFormat",16:"excludes",17:"todayMarker",18:"title",19:"section",21:"taskTxt",22:"taskData",26:":",28:"click",29:"callbackname",30:"callbackargs",31:"href",33:"open_directive",34:"type_directive",35:"arg_directive",36:"close_directive"},productions_:[0,[3,2],[3,3],[6,0],[6,2],[8,2],[8,1],[8,1],[8,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,1],[4,4],[4,6],[20,2],[20,3],[20,3],[20,4],[20,3],[20,4],[20,2],[32,2],[32,3],[32,3],[32,4],[32,3],[32,4],[32,2],[23,1],[24,1],[27,1],[25,1]],performAction:function(e,t,n,i,r,o,s){var a=o.length-1;switch(r){case 2:return o[a-1];case 3:case 7:case 8:this.$=[];break;case 4:o[a-1].push(o[a]),this.$=o[a-1];break;case 5:case 6:this.$=o[a];break;case 9:i.setDateFormat(o[a].substr(11)),this.$=o[a].substr(11);break;case 10:i.enableInclusiveEndDates(),this.$=o[a].substr(18);break;case 11:i.TopAxis(),this.$=o[a].substr(8);break;case 12:i.setAxisFormat(o[a].substr(11)),this.$=o[a].substr(11);break;case 13:i.setExcludes(o[a].substr(9)),this.$=o[a].substr(9);break;case 14:i.setTodayMarker(o[a].substr(12)),this.$=o[a].substr(12);break;case 15:i.setTitle(o[a].substr(6)),this.$=o[a].substr(6);break;case 16:i.addSection(o[a].substr(8)),this.$=o[a].substr(8);break;case 18:i.addTask(o[a-1],o[a]),this.$="task";break;case 22:this.$=o[a-1],i.setClickEvent(o[a-1],o[a],null);break;case 23:this.$=o[a-2],i.setClickEvent(o[a-2],o[a-1],o[a]);break;case 24:this.$=o[a-2],i.setClickEvent(o[a-2],o[a-1],null),i.setLink(o[a-2],o[a]);break;case 25:this.$=o[a-3],i.setClickEvent(o[a-3],o[a-2],o[a-1]),i.setLink(o[a-3],o[a]);break;case 26:this.$=o[a-2],i.setClickEvent(o[a-2],o[a],null),i.setLink(o[a-2],o[a-1]);break;case 27:this.$=o[a-3],i.setClickEvent(o[a-3],o[a-1],o[a]),i.setLink(o[a-3],o[a-2]);break;case 28:this.$=o[a-1],i.setLink(o[a-1],o[a]);break;case 29:case 35:this.$=o[a-1]+" "+o[a];break;case 30:case 31:case 33:this.$=o[a-2]+" "+o[a-1]+" "+o[a];break;case 32:case 34:this.$=o[a-3]+" "+o[a-2]+" "+o[a-1]+" "+o[a];break;case 36:i.parseDirective("%%{","open_directive");break;case 37:i.parseDirective(o[a],"type_directive");break;case 38:o[a]=o[a].trim().replace(/'/g,'"'),i.parseDirective(o[a],"arg_directive");break;case 39:i.parseDirective("}%%","close_directive","gantt")}},table:[{3:1,4:2,5:t,23:4,33:n},{1:[3]},{3:6,4:2,5:t,23:4,33:n},e(i,[2,3],{6:7}),{24:8,34:[1,9]},{34:[2,36]},{1:[2,1]},{4:25,7:[1,10],8:11,9:[1,12],10:13,11:[1,14],12:r,13:o,14:s,15:a,16:l,17:c,18:u,19:h,20:23,21:d,23:4,28:f,33:n},{25:27,26:[1,28],36:p},e([26,36],[2,37]),e(i,[2,8],{1:[2,2]}),e(i,[2,4]),{4:25,10:30,12:r,13:o,14:s,15:a,16:l,17:c,18:u,19:h,20:23,21:d,23:4,28:f,33:n},e(i,[2,6]),e(i,[2,7]),e(i,[2,9]),e(i,[2,10]),e(i,[2,11]),e(i,[2,12]),e(i,[2,13]),e(i,[2,14]),e(i,[2,15]),e(i,[2,16]),e(i,[2,17]),{22:[1,31]},e(i,[2,19]),{29:[1,32],31:[1,33]},{11:[1,34]},{27:35,35:[1,36]},{11:[2,39]},e(i,[2,5]),e(i,[2,18]),e(i,[2,22],{30:[1,37],31:[1,38]}),e(i,[2,28],{29:[1,39]}),e(g,[2,20]),{25:40,36:p},{36:[2,38]},e(i,[2,23],{31:[1,41]}),e(i,[2,24]),e(i,[2,26],{30:[1,42]}),{11:[1,43]},e(i,[2,25]),e(i,[2,27]),e(g,[2,21])],defaultActions:{5:[2,36],6:[2,1],29:[2,39],36:[2,38]},parseError:function(e,t){if(!t.recoverable){var n=new Error(e);throw n.hash=t,n}this.trace(e)},parse:function(e){var t=this,n=[0],i=[],r=[null],o=[],s=this.table,a="",l=0,c=0,u=2,h=1,d=o.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);f.setInput(e,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;o.push(m);var v=f.options&&f.options.ranges;function y(){var e;return"number"!=typeof(e=i.pop()||f.lex()||h)&&(e instanceof Array&&(e=(i=e).pop()),e=t.symbols_[e]||e),e}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var b,_,w,C,x,k,S,D,E,L={};;){if(w=n[n.length-1],this.defaultActions[w]?C=this.defaultActions[w]:(null==b&&(b=y()),C=s[w]&&s[w][b]),void 0===C||!C.length||!C[0]){var T="";for(k in E=[],s[w])this.terminals_[k]&&k>u&&E.push("'"+this.terminals_[k]+"'");T=f.showPosition?"Parse error on line "+(l+1)+":\n"+f.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(l+1)+": Unexpected "+(b==h?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(T,{text:f.match,token:this.terminals_[b]||b,line:f.yylineno,loc:m,expected:E})}if(C[0]instanceof Array&&C.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+b);switch(C[0]){case 1:n.push(b),r.push(f.yytext),o.push(f.yylloc),n.push(C[1]),b=null,_?(b=_,_=null):(c=f.yyleng,a=f.yytext,l=f.yylineno,m=f.yylloc);break;case 2:if(S=this.productions_[C[1]][1],L.$=r[r.length-S],L._$={first_line:o[o.length-(S||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(S||1)].first_column,last_column:o[o.length-1].last_column},v&&(L._$.range=[o[o.length-(S||1)].range[0],o[o.length-1].range[1]]),void 0!==(x=this.performAction.apply(L,[a,c,l,p.yy,C[1],r,o].concat(d))))return x;S&&(n=n.slice(0,-1*S*2),r=r.slice(0,-1*S),o=o.slice(0,-1*S)),n.push(this.productions_[C[1]][0]),r.push(L.$),o.push(L._$),D=s[n[n.length-2]][n[n.length-1]],n.push(D);break;case 3:return!0}}return!0}},v={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var n,i,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(i=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((n=this._input.match(this.rules[r[o]]))&&(!t||n[0].length>t[0].length)){if(t=n,i=o,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,r[o])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,r[i]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(e,t,n,i){switch(n){case 0:return this.begin("open_directive"),33;case 1:return this.begin("type_directive"),34;case 2:return this.popState(),this.begin("arg_directive"),26;case 3:return this.popState(),this.popState(),36;case 4:return 35;case 5:case 6:case 7:case 9:case 10:case 11:break;case 8:return 11;case 12:this.begin("href");break;case 13:case 16:case 19:case 22:this.popState();break;case 14:return 31;case 15:this.begin("callbackname");break;case 17:this.popState(),this.begin("callbackargs");break;case 18:return 29;case 20:return 30;case 21:this.begin("click");break;case 23:return 28;case 24:return 5;case 25:return 12;case 26:return 13;case 27:return 14;case 28:return 15;case 29:return 16;case 30:return 17;case 31:return"date";case 32:return 18;case 33:return 19;case 34:return 21;case 35:return 22;case 36:return 26;case 37:return 7;case 38:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[19,20],inclusive:!1},callbackname:{rules:[16,17,18],inclusive:!1},href:{rules:[13,14],inclusive:!1},click:{rules:[22,23],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,15,21,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38],inclusive:!0}}};function y(){this.yy={}}return m.lexer=v,y.prototype=m,m.Parser=y,new y}();t.parser=i,t.Parser=i.Parser,t.parse=function(){return i.parse.apply(i,arguments)},t.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),process.exit(1));var i=n(6878).readFileSync(n(6470).normalize(e[1]),"utf8");return t.parser.parse(i)},n.c[n.s]===e&&t.main(process.argv.slice(1))},8454:(e,t,n)=>{e=n.nmd(e);var i=function(){var e=function(e,t,n,i){for(n=n||{},i=e.length;i--;n[e[i]]=t);return n},t=[2,3],n=[1,7],i=[7,12,15,17,19,20,21],r=[7,11,12,15,17,19,20,21],o=[2,20],s=[1,32],a={trace:function(){},yy:{},symbols_:{error:2,start:3,GG:4,":":5,document:6,EOF:7,DIR:8,options:9,body:10,OPT:11,NL:12,line:13,statement:14,COMMIT:15,commit_arg:16,BRANCH:17,ID:18,CHECKOUT:19,MERGE:20,RESET:21,reset_arg:22,STR:23,HEAD:24,reset_parents:25,CARET:26,$accept:0,$end:1},terminals_:{2:"error",4:"GG",5:":",7:"EOF",8:"DIR",11:"OPT",12:"NL",15:"COMMIT",17:"BRANCH",18:"ID",19:"CHECKOUT",20:"MERGE",21:"RESET",23:"STR",24:"HEAD",26:"CARET"},productions_:[0,[3,4],[3,5],[6,0],[6,2],[9,2],[9,1],[10,0],[10,2],[13,2],[13,1],[14,2],[14,2],[14,2],[14,2],[14,2],[16,0],[16,1],[22,2],[22,2],[25,0],[25,2]],performAction:function(e,t,n,i,r,o,s){var a=o.length-1;switch(r){case 1:return o[a-1];case 2:return i.setDirection(o[a-3]),o[a-1];case 4:i.setOptions(o[a-1]),this.$=o[a];break;case 5:o[a-1]+=o[a],this.$=o[a-1];break;case 7:this.$=[];break;case 8:o[a-1].push(o[a]),this.$=o[a-1];break;case 9:this.$=o[a-1];break;case 11:i.commit(o[a]);break;case 12:i.branch(o[a]);break;case 13:i.checkout(o[a]);break;case 14:i.merge(o[a]);break;case 15:i.reset(o[a]);break;case 16:this.$="";break;case 17:this.$=o[a];break;case 18:this.$=o[a-1]+":"+o[a];break;case 19:this.$=o[a-1]+":"+i.count,i.count=0;break;case 20:i.count=0;break;case 21:i.count+=1}},table:[{3:1,4:[1,2]},{1:[3]},{5:[1,3],8:[1,4]},{6:5,7:t,9:6,12:n},{5:[1,8]},{7:[1,9]},e(i,[2,7],{10:10,11:[1,11]}),e(r,[2,6]),{6:12,7:t,9:6,12:n},{1:[2,1]},{7:[2,4],12:[1,15],13:13,14:14,15:[1,16],17:[1,17],19:[1,18],20:[1,19],21:[1,20]},e(r,[2,5]),{7:[1,21]},e(i,[2,8]),{12:[1,22]},e(i,[2,10]),{12:[2,16],16:23,23:[1,24]},{18:[1,25]},{18:[1,26]},{18:[1,27]},{18:[1,30],22:28,24:[1,29]},{1:[2,2]},e(i,[2,9]),{12:[2,11]},{12:[2,17]},{12:[2,12]},{12:[2,13]},{12:[2,14]},{12:[2,15]},{12:o,25:31,26:s},{12:o,25:33,26:s},{12:[2,18]},{12:o,25:34,26:s},{12:[2,19]},{12:[2,21]}],defaultActions:{9:[2,1],21:[2,2],23:[2,11],24:[2,17],25:[2,12],26:[2,13],27:[2,14],28:[2,15],31:[2,18],33:[2,19],34:[2,21]},parseError:function(e,t){if(!t.recoverable){var n=new Error(e);throw n.hash=t,n}this.trace(e)},parse:function(e){var t=this,n=[0],i=[],r=[null],o=[],s=this.table,a="",l=0,c=0,u=2,h=1,d=o.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);f.setInput(e,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;o.push(m);var v=f.options&&f.options.ranges;function y(){var e;return"number"!=typeof(e=i.pop()||f.lex()||h)&&(e instanceof Array&&(e=(i=e).pop()),e=t.symbols_[e]||e),e}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var b,_,w,C,x,k,S,D,E,L={};;){if(w=n[n.length-1],this.defaultActions[w]?C=this.defaultActions[w]:(null==b&&(b=y()),C=s[w]&&s[w][b]),void 0===C||!C.length||!C[0]){var T="";for(k in E=[],s[w])this.terminals_[k]&&k>u&&E.push("'"+this.terminals_[k]+"'");T=f.showPosition?"Parse error on line "+(l+1)+":\n"+f.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(l+1)+": Unexpected "+(b==h?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(T,{text:f.match,token:this.terminals_[b]||b,line:f.yylineno,loc:m,expected:E})}if(C[0]instanceof Array&&C.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+b);switch(C[0]){case 1:n.push(b),r.push(f.yytext),o.push(f.yylloc),n.push(C[1]),b=null,_?(b=_,_=null):(c=f.yyleng,a=f.yytext,l=f.yylineno,m=f.yylloc);break;case 2:if(S=this.productions_[C[1]][1],L.$=r[r.length-S],L._$={first_line:o[o.length-(S||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(S||1)].first_column,last_column:o[o.length-1].last_column},v&&(L._$.range=[o[o.length-(S||1)].range[0],o[o.length-1].range[1]]),void 0!==(x=this.performAction.apply(L,[a,c,l,p.yy,C[1],r,o].concat(d))))return x;S&&(n=n.slice(0,-1*S*2),r=r.slice(0,-1*S),o=o.slice(0,-1*S)),n.push(this.productions_[C[1]][0]),r.push(L.$),o.push(L._$),D=s[n[n.length-2]][n[n.length-1]],n.push(D);break;case 3:return!0}}return!0}},l={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var n,i,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(i=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((n=this._input.match(this.rules[r[o]]))&&(!t||n[0].length>t[0].length)){if(t=n,i=o,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,r[o])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,r[i]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(e,t,n,i){switch(n){case 0:return 12;case 1:case 2:case 3:break;case 4:return 4;case 5:return 15;case 6:return 17;case 7:return 20;case 8:return 21;case 9:return 19;case 10:case 11:return 8;case 12:return 5;case 13:return 26;case 14:this.begin("options");break;case 15:case 18:this.popState();break;case 16:return 11;case 17:this.begin("string");break;case 19:return 23;case 20:return 18;case 21:return 7}},rules:[/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:gitGraph\b)/i,/^(?:commit\b)/i,/^(?:branch\b)/i,/^(?:merge\b)/i,/^(?:reset\b)/i,/^(?:checkout\b)/i,/^(?:LR\b)/i,/^(?:BT\b)/i,/^(?::)/i,/^(?:\^)/i,/^(?:options\r?\n)/i,/^(?:end\r?\n)/i,/^(?:[^\n]+\r?\n)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[a-zA-Z][-_\.a-zA-Z0-9]*[-_a-zA-Z0-9])/i,/^(?:$)/i],conditions:{options:{rules:[15,16],inclusive:!1},string:{rules:[18,19],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,17,20,21],inclusive:!0}}};function c(){this.yy={}}return a.lexer=l,c.prototype=a,a.Parser=c,new c}();t.parser=i,t.Parser=i.Parser,t.parse=function(){return i.parse.apply(i,arguments)},t.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),process.exit(1));var i=n(8183).readFileSync(n(6470).normalize(e[1]),"utf8");return t.parser.parse(i)},n.c[n.s]===e&&t.main(process.argv.slice(1))},4645:(e,t,n)=>{e=n.nmd(e);var i=function(){var e=function(e,t,n,i){for(n=n||{},i=e.length;i--;n[e[i]]=t);return n},t=[6,9,10],n={trace:function(){},yy:{},symbols_:{error:2,start:3,info:4,document:5,EOF:6,line:7,statement:8,NL:9,showInfo:10,$accept:0,$end:1},terminals_:{2:"error",4:"info",6:"EOF",9:"NL",10:"showInfo"},productions_:[0,[3,3],[5,0],[5,2],[7,1],[7,1],[8,1]],performAction:function(e,t,n,i,r,o,s){switch(o.length,r){case 1:return i;case 4:break;case 6:i.setInfo(!0)}},table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:6,9:[1,7],10:[1,8]},{1:[2,1]},e(t,[2,3]),e(t,[2,4]),e(t,[2,5]),e(t,[2,6])],defaultActions:{4:[2,1]},parseError:function(e,t){if(!t.recoverable){var n=new Error(e);throw n.hash=t,n}this.trace(e)},parse:function(e){var t=this,n=[0],i=[],r=[null],o=[],s=this.table,a="",l=0,c=0,u=2,h=1,d=o.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);f.setInput(e,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;o.push(m);var v=f.options&&f.options.ranges;function y(){var e;return"number"!=typeof(e=i.pop()||f.lex()||h)&&(e instanceof Array&&(e=(i=e).pop()),e=t.symbols_[e]||e),e}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var b,_,w,C,x,k,S,D,E,L={};;){if(w=n[n.length-1],this.defaultActions[w]?C=this.defaultActions[w]:(null==b&&(b=y()),C=s[w]&&s[w][b]),void 0===C||!C.length||!C[0]){var T="";for(k in E=[],s[w])this.terminals_[k]&&k>u&&E.push("'"+this.terminals_[k]+"'");T=f.showPosition?"Parse error on line "+(l+1)+":\n"+f.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(l+1)+": Unexpected "+(b==h?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(T,{text:f.match,token:this.terminals_[b]||b,line:f.yylineno,loc:m,expected:E})}if(C[0]instanceof Array&&C.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+b);switch(C[0]){case 1:n.push(b),r.push(f.yytext),o.push(f.yylloc),n.push(C[1]),b=null,_?(b=_,_=null):(c=f.yyleng,a=f.yytext,l=f.yylineno,m=f.yylloc);break;case 2:if(S=this.productions_[C[1]][1],L.$=r[r.length-S],L._$={first_line:o[o.length-(S||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(S||1)].first_column,last_column:o[o.length-1].last_column},v&&(L._$.range=[o[o.length-(S||1)].range[0],o[o.length-1].range[1]]),void 0!==(x=this.performAction.apply(L,[a,c,l,p.yy,C[1],r,o].concat(d))))return x;S&&(n=n.slice(0,-1*S*2),r=r.slice(0,-1*S),o=o.slice(0,-1*S)),n.push(this.productions_[C[1]][0]),r.push(L.$),o.push(L._$),D=s[n[n.length-2]][n[n.length-1]],n.push(D);break;case 3:return!0}}return!0}},i={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var n,i,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(i=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((n=this._input.match(this.rules[r[o]]))&&(!t||n[0].length>t[0].length)){if(t=n,i=o,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,r[o])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,r[i]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(e,t,n,i){switch(n){case 0:return 4;case 1:return 9;case 2:return"space";case 3:return 10;case 4:return 6;case 5:return"TXT"}},rules:[/^(?:info\b)/i,/^(?:[\s\n\r]+)/i,/^(?:[\s]+)/i,/^(?:showInfo\b)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5],inclusive:!0}}};function r(){this.yy={}}return n.lexer=i,r.prototype=n,n.Parser=r,new r}();t.parser=i,t.Parser=i.Parser,t.parse=function(){return i.parse.apply(i,arguments)},t.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),process.exit(1));var i=n(1428).readFileSync(n(6470).normalize(e[1]),"utf8");return t.parser.parse(i)},n.c[n.s]===e&&t.main(process.argv.slice(1))},5963:(e,t,n)=>{e=n.nmd(e);var i=function(){var e=function(e,t,n,i){for(n=n||{},i=e.length;i--;n[e[i]]=t);return n},t=[1,4],n=[1,5],i=[1,6],r=[1,7],o=[1,9],s=[1,11,13,20,21,22,23],a=[2,5],l=[1,6,11,13,20,21,22,23],c=[20,21,22],u=[2,8],h=[1,18],d=[1,19],f=[1,24],p=[6,20,21,22,23],g={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,PIE:6,document:7,showData:8,line:9,statement:10,txt:11,value:12,title:13,title_value:14,openDirective:15,typeDirective:16,closeDirective:17,":":18,argDirective:19,NEWLINE:20,";":21,EOF:22,open_directive:23,type_directive:24,arg_directive:25,close_directive:26,$accept:0,$end:1},terminals_:{2:"error",6:"PIE",8:"showData",11:"txt",12:"value",13:"title",14:"title_value",18:":",20:"NEWLINE",21:";",22:"EOF",23:"open_directive",24:"type_directive",25:"arg_directive",26:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,3],[7,0],[7,2],[9,2],[10,0],[10,2],[10,2],[10,1],[5,3],[5,5],[4,1],[4,1],[4,1],[15,1],[16,1],[19,1],[17,1]],performAction:function(e,t,n,i,r,o,s){var a=o.length-1;switch(r){case 4:i.setShowData(!0);break;case 7:this.$=o[a-1];break;case 9:i.addSection(o[a-1],i.cleanupValue(o[a]));break;case 10:this.$=o[a].trim(),i.setTitle(this.$);break;case 17:i.parseDirective("%%{","open_directive");break;case 18:i.parseDirective(o[a],"type_directive");break;case 19:o[a]=o[a].trim().replace(/'/g,'"'),i.parseDirective(o[a],"arg_directive");break;case 20:i.parseDirective("}%%","close_directive","pie")}},table:[{3:1,4:2,5:3,6:t,15:8,20:n,21:i,22:r,23:o},{1:[3]},{3:10,4:2,5:3,6:t,15:8,20:n,21:i,22:r,23:o},{3:11,4:2,5:3,6:t,15:8,20:n,21:i,22:r,23:o},e(s,a,{7:12,8:[1,13]}),e(l,[2,14]),e(l,[2,15]),e(l,[2,16]),{16:14,24:[1,15]},{24:[2,17]},{1:[2,1]},{1:[2,2]},e(c,u,{15:8,9:16,10:17,5:20,1:[2,3],11:h,13:d,23:o}),e(s,a,{7:21}),{17:22,18:[1,23],26:f},e([18,26],[2,18]),e(s,[2,6]),{4:25,20:n,21:i,22:r},{12:[1,26]},{14:[1,27]},e(c,[2,11]),e(c,u,{15:8,9:16,10:17,5:20,1:[2,4],11:h,13:d,23:o}),e(p,[2,12]),{19:28,25:[1,29]},e(p,[2,20]),e(s,[2,7]),e(c,[2,9]),e(c,[2,10]),{17:30,26:f},{26:[2,19]},e(p,[2,13])],defaultActions:{9:[2,17],10:[2,1],11:[2,2],29:[2,19]},parseError:function(e,t){if(!t.recoverable){var n=new Error(e);throw n.hash=t,n}this.trace(e)},parse:function(e){var t=this,n=[0],i=[],r=[null],o=[],s=this.table,a="",l=0,c=0,u=2,h=1,d=o.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);f.setInput(e,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;o.push(m);var v=f.options&&f.options.ranges;function y(){var e;return"number"!=typeof(e=i.pop()||f.lex()||h)&&(e instanceof Array&&(e=(i=e).pop()),e=t.symbols_[e]||e),e}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var b,_,w,C,x,k,S,D,E,L={};;){if(w=n[n.length-1],this.defaultActions[w]?C=this.defaultActions[w]:(null==b&&(b=y()),C=s[w]&&s[w][b]),void 0===C||!C.length||!C[0]){var T="";for(k in E=[],s[w])this.terminals_[k]&&k>u&&E.push("'"+this.terminals_[k]+"'");T=f.showPosition?"Parse error on line "+(l+1)+":\n"+f.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(l+1)+": Unexpected "+(b==h?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(T,{text:f.match,token:this.terminals_[b]||b,line:f.yylineno,loc:m,expected:E})}if(C[0]instanceof Array&&C.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+b);switch(C[0]){case 1:n.push(b),r.push(f.yytext),o.push(f.yylloc),n.push(C[1]),b=null,_?(b=_,_=null):(c=f.yyleng,a=f.yytext,l=f.yylineno,m=f.yylloc);break;case 2:if(S=this.productions_[C[1]][1],L.$=r[r.length-S],L._$={first_line:o[o.length-(S||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(S||1)].first_column,last_column:o[o.length-1].last_column},v&&(L._$.range=[o[o.length-(S||1)].range[0],o[o.length-1].range[1]]),void 0!==(x=this.performAction.apply(L,[a,c,l,p.yy,C[1],r,o].concat(d))))return x;S&&(n=n.slice(0,-1*S*2),r=r.slice(0,-1*S),o=o.slice(0,-1*S)),n.push(this.productions_[C[1]][0]),r.push(L.$),o.push(L._$),D=s[n[n.length-2]][n[n.length-1]],n.push(D);break;case 3:return!0}}return!0}},m={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var n,i,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(i=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((n=this._input.match(this.rules[r[o]]))&&(!t||n[0].length>t[0].length)){if(t=n,i=o,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,r[o])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,r[i]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(e,t,n,i){switch(n){case 0:return this.begin("open_directive"),23;case 1:return this.begin("type_directive"),24;case 2:return this.popState(),this.begin("arg_directive"),18;case 3:return this.popState(),this.popState(),26;case 4:return 25;case 5:case 6:case 8:case 9:break;case 7:return 20;case 10:return this.begin("title"),13;case 11:return this.popState(),"title_value";case 12:this.begin("string");break;case 13:this.popState();break;case 14:return"txt";case 15:return 6;case 16:return 8;case 17:return"value";case 18:return 22}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:[\s]+)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:pie\b)/i,/^(?:showData\b)/i,/^(?::[\s]*[\d]+(?:\.[\d]+)?)/i,/^(?:$)/i],conditions:{close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},title:{rules:[11],inclusive:!1},string:{rules:[13,14],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,12,15,16,17,18],inclusive:!0}}};function v(){this.yy={}}return g.lexer=m,v.prototype=g,g.Parser=v,new v}();t.parser=i,t.Parser=i.Parser,t.parse=function(){return i.parse.apply(i,arguments)},t.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),process.exit(1));var i=n(4551).readFileSync(n(6470).normalize(e[1]),"utf8");return t.parser.parse(i)},n.c[n.s]===e&&t.main(process.argv.slice(1))},6463:(e,t,n)=>{e=n.nmd(e);var i=function(){var e=function(e,t,n,i){for(n=n||{},i=e.length;i--;n[e[i]]=t);return n},t=[1,3],n=[1,5],i=[1,17],r=[2,10],o=[1,21],s=[1,22],a=[1,23],l=[1,24],c=[1,25],u=[1,26],h=[1,19],d=[1,27],f=[1,28],p=[1,31],g=[66,67],m=[5,8,14,35,36,37,38,39,40,48,55,57,66,67],v=[5,6,8,14,35,36,37,38,39,40,48,66,67],y=[1,51],b=[1,52],_=[1,53],w=[1,54],C=[1,55],x=[1,56],k=[1,57],S=[57,58],D=[1,69],E=[1,65],L=[1,66],T=[1,67],N=[1,68],M=[1,70],A=[1,74],I=[1,75],O=[1,72],F=[1,73],R=[5,8,14,35,36,37,38,39,40,48,66,67],P={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,openDirective:9,typeDirective:10,closeDirective:11,":":12,argDirective:13,open_directive:14,type_directive:15,arg_directive:16,close_directive:17,requirementDef:18,elementDef:19,relationshipDef:20,requirementType:21,requirementName:22,STRUCT_START:23,requirementBody:24,ID:25,COLONSEP:26,id:27,TEXT:28,text:29,RISK:30,riskLevel:31,VERIFYMTHD:32,verifyType:33,STRUCT_STOP:34,REQUIREMENT:35,FUNCTIONAL_REQUIREMENT:36,INTERFACE_REQUIREMENT:37,PERFORMANCE_REQUIREMENT:38,PHYSICAL_REQUIREMENT:39,DESIGN_CONSTRAINT:40,LOW_RISK:41,MED_RISK:42,HIGH_RISK:43,VERIFY_ANALYSIS:44,VERIFY_DEMONSTRATION:45,VERIFY_INSPECTION:46,VERIFY_TEST:47,ELEMENT:48,elementName:49,elementBody:50,TYPE:51,type:52,DOCREF:53,ref:54,END_ARROW_L:55,relationship:56,LINE:57,END_ARROW_R:58,CONTAINS:59,COPIES:60,DERIVES:61,SATISFIES:62,VERIFIES:63,REFINES:64,TRACES:65,unqString:66,qString:67,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",12:":",14:"open_directive",15:"type_directive",16:"arg_directive",17:"close_directive",23:"STRUCT_START",25:"ID",26:"COLONSEP",28:"TEXT",30:"RISK",32:"VERIFYMTHD",34:"STRUCT_STOP",35:"REQUIREMENT",36:"FUNCTIONAL_REQUIREMENT",37:"INTERFACE_REQUIREMENT",38:"PERFORMANCE_REQUIREMENT",39:"PHYSICAL_REQUIREMENT",40:"DESIGN_CONSTRAINT",41:"LOW_RISK",42:"MED_RISK",43:"HIGH_RISK",44:"VERIFY_ANALYSIS",45:"VERIFY_DEMONSTRATION",46:"VERIFY_INSPECTION",47:"VERIFY_TEST",48:"ELEMENT",51:"TYPE",53:"DOCREF",55:"END_ARROW_L",57:"LINE",58:"END_ARROW_R",59:"CONTAINS",60:"COPIES",61:"DERIVES",62:"SATISFIES",63:"VERIFIES",64:"REFINES",65:"TRACES",66:"unqString",67:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,3],[4,5],[9,1],[10,1],[13,1],[11,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[18,5],[24,5],[24,5],[24,5],[24,5],[24,2],[24,1],[21,1],[21,1],[21,1],[21,1],[21,1],[21,1],[31,1],[31,1],[31,1],[33,1],[33,1],[33,1],[33,1],[19,5],[50,5],[50,5],[50,2],[50,1],[20,5],[20,5],[56,1],[56,1],[56,1],[56,1],[56,1],[56,1],[56,1],[22,1],[22,1],[27,1],[27,1],[29,1],[29,1],[49,1],[49,1],[52,1],[52,1],[54,1],[54,1]],performAction:function(e,t,n,i,r,o,s){var a=o.length-1;switch(r){case 6:i.parseDirective("%%{","open_directive");break;case 7:i.parseDirective(o[a],"type_directive");break;case 8:o[a]=o[a].trim().replace(/'/g,'"'),i.parseDirective(o[a],"arg_directive");break;case 9:i.parseDirective("}%%","close_directive","pie");break;case 10:this.$=[];break;case 16:i.addRequirement(o[a-3],o[a-4]);break;case 17:i.setNewReqId(o[a-2]);break;case 18:i.setNewReqText(o[a-2]);break;case 19:i.setNewReqRisk(o[a-2]);break;case 20:i.setNewReqVerifyMethod(o[a-2]);break;case 23:this.$=i.RequirementType.REQUIREMENT;break;case 24:this.$=i.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 25:this.$=i.RequirementType.INTERFACE_REQUIREMENT;break;case 26:this.$=i.RequirementType.PERFORMANCE_REQUIREMENT;break;case 27:this.$=i.RequirementType.PHYSICAL_REQUIREMENT;break;case 28:this.$=i.RequirementType.DESIGN_CONSTRAINT;break;case 29:this.$=i.RiskLevel.LOW_RISK;break;case 30:this.$=i.RiskLevel.MED_RISK;break;case 31:this.$=i.RiskLevel.HIGH_RISK;break;case 32:this.$=i.VerifyType.VERIFY_ANALYSIS;break;case 33:this.$=i.VerifyType.VERIFY_DEMONSTRATION;break;case 34:this.$=i.VerifyType.VERIFY_INSPECTION;break;case 35:this.$=i.VerifyType.VERIFY_TEST;break;case 36:i.addElement(o[a-3]);break;case 37:i.setNewElementType(o[a-2]);break;case 38:i.setNewElementDocRef(o[a-2]);break;case 41:i.addRelationship(o[a-2],o[a],o[a-4]);break;case 42:i.addRelationship(o[a-2],o[a-4],o[a]);break;case 43:this.$=i.Relationships.CONTAINS;break;case 44:this.$=i.Relationships.COPIES;break;case 45:this.$=i.Relationships.DERIVES;break;case 46:this.$=i.Relationships.SATISFIES;break;case 47:this.$=i.Relationships.VERIFIES;break;case 48:this.$=i.Relationships.REFINES;break;case 49:this.$=i.Relationships.TRACES}},table:[{3:1,4:2,6:t,9:4,14:n},{1:[3]},{3:7,4:2,5:[1,6],6:t,9:4,14:n},{5:[1,8]},{10:9,15:[1,10]},{15:[2,6]},{3:11,4:2,6:t,9:4,14:n},{1:[2,2]},{4:16,5:i,7:12,8:r,9:4,14:n,18:13,19:14,20:15,21:18,27:20,35:o,36:s,37:a,38:l,39:c,40:u,48:h,66:d,67:f},{11:29,12:[1,30],17:p},e([12,17],[2,7]),{1:[2,1]},{8:[1,32]},{4:16,5:i,7:33,8:r,9:4,14:n,18:13,19:14,20:15,21:18,27:20,35:o,36:s,37:a,38:l,39:c,40:u,48:h,66:d,67:f},{4:16,5:i,7:34,8:r,9:4,14:n,18:13,19:14,20:15,21:18,27:20,35:o,36:s,37:a,38:l,39:c,40:u,48:h,66:d,67:f},{4:16,5:i,7:35,8:r,9:4,14:n,18:13,19:14,20:15,21:18,27:20,35:o,36:s,37:a,38:l,39:c,40:u,48:h,66:d,67:f},{4:16,5:i,7:36,8:r,9:4,14:n,18:13,19:14,20:15,21:18,27:20,35:o,36:s,37:a,38:l,39:c,40:u,48:h,66:d,67:f},{4:16,5:i,7:37,8:r,9:4,14:n,18:13,19:14,20:15,21:18,27:20,35:o,36:s,37:a,38:l,39:c,40:u,48:h,66:d,67:f},{22:38,66:[1,39],67:[1,40]},{49:41,66:[1,42],67:[1,43]},{55:[1,44],57:[1,45]},e(g,[2,23]),e(g,[2,24]),e(g,[2,25]),e(g,[2,26]),e(g,[2,27]),e(g,[2,28]),e(m,[2,52]),e(m,[2,53]),e(v,[2,4]),{13:46,16:[1,47]},e(v,[2,9]),{1:[2,3]},{8:[2,11]},{8:[2,12]},{8:[2,13]},{8:[2,14]},{8:[2,15]},{23:[1,48]},{23:[2,50]},{23:[2,51]},{23:[1,49]},{23:[2,56]},{23:[2,57]},{56:50,59:y,60:b,61:_,62:w,63:C,64:x,65:k},{56:58,59:y,60:b,61:_,62:w,63:C,64:x,65:k},{11:59,17:p},{17:[2,8]},{5:[1,60]},{5:[1,61]},{57:[1,62]},e(S,[2,43]),e(S,[2,44]),e(S,[2,45]),e(S,[2,46]),e(S,[2,47]),e(S,[2,48]),e(S,[2,49]),{58:[1,63]},e(v,[2,5]),{5:D,24:64,25:E,28:L,30:T,32:N,34:M},{5:A,34:I,50:71,51:O,53:F},{27:76,66:d,67:f},{27:77,66:d,67:f},e(R,[2,16]),{26:[1,78]},{26:[1,79]},{26:[1,80]},{26:[1,81]},{5:D,24:82,25:E,28:L,30:T,32:N,34:M},e(R,[2,22]),e(R,[2,36]),{26:[1,83]},{26:[1,84]},{5:A,34:I,50:85,51:O,53:F},e(R,[2,40]),e(R,[2,41]),e(R,[2,42]),{27:86,66:d,67:f},{29:87,66:[1,88],67:[1,89]},{31:90,41:[1,91],42:[1,92],43:[1,93]},{33:94,44:[1,95],45:[1,96],46:[1,97],47:[1,98]},e(R,[2,21]),{52:99,66:[1,100],67:[1,101]},{54:102,66:[1,103],67:[1,104]},e(R,[2,39]),{5:[1,105]},{5:[1,106]},{5:[2,54]},{5:[2,55]},{5:[1,107]},{5:[2,29]},{5:[2,30]},{5:[2,31]},{5:[1,108]},{5:[2,32]},{5:[2,33]},{5:[2,34]},{5:[2,35]},{5:[1,109]},{5:[2,58]},{5:[2,59]},{5:[1,110]},{5:[2,60]},{5:[2,61]},{5:D,24:111,25:E,28:L,30:T,32:N,34:M},{5:D,24:112,25:E,28:L,30:T,32:N,34:M},{5:D,24:113,25:E,28:L,30:T,32:N,34:M},{5:D,24:114,25:E,28:L,30:T,32:N,34:M},{5:A,34:I,50:115,51:O,53:F},{5:A,34:I,50:116,51:O,53:F},e(R,[2,17]),e(R,[2,18]),e(R,[2,19]),e(R,[2,20]),e(R,[2,37]),e(R,[2,38])],defaultActions:{5:[2,6],7:[2,2],11:[2,1],32:[2,3],33:[2,11],34:[2,12],35:[2,13],36:[2,14],37:[2,15],39:[2,50],40:[2,51],42:[2,56],43:[2,57],47:[2,8],88:[2,54],89:[2,55],91:[2,29],92:[2,30],93:[2,31],95:[2,32],96:[2,33],97:[2,34],98:[2,35],100:[2,58],101:[2,59],103:[2,60],104:[2,61]},parseError:function(e,t){if(!t.recoverable){var n=new Error(e);throw n.hash=t,n}this.trace(e)},parse:function(e){var t=this,n=[0],i=[],r=[null],o=[],s=this.table,a="",l=0,c=0,u=2,h=1,d=o.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);f.setInput(e,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;o.push(m);var v=f.options&&f.options.ranges;function y(){var e;return"number"!=typeof(e=i.pop()||f.lex()||h)&&(e instanceof Array&&(e=(i=e).pop()),e=t.symbols_[e]||e),e}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var b,_,w,C,x,k,S,D,E,L={};;){if(w=n[n.length-1],this.defaultActions[w]?C=this.defaultActions[w]:(null==b&&(b=y()),C=s[w]&&s[w][b]),void 0===C||!C.length||!C[0]){var T="";for(k in E=[],s[w])this.terminals_[k]&&k>u&&E.push("'"+this.terminals_[k]+"'");T=f.showPosition?"Parse error on line "+(l+1)+":\n"+f.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(l+1)+": Unexpected "+(b==h?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(T,{text:f.match,token:this.terminals_[b]||b,line:f.yylineno,loc:m,expected:E})}if(C[0]instanceof Array&&C.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+b);switch(C[0]){case 1:n.push(b),r.push(f.yytext),o.push(f.yylloc),n.push(C[1]),b=null,_?(b=_,_=null):(c=f.yyleng,a=f.yytext,l=f.yylineno,m=f.yylloc);break;case 2:if(S=this.productions_[C[1]][1],L.$=r[r.length-S],L._$={first_line:o[o.length-(S||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(S||1)].first_column,last_column:o[o.length-1].last_column},v&&(L._$.range=[o[o.length-(S||1)].range[0],o[o.length-1].range[1]]),void 0!==(x=this.performAction.apply(L,[a,c,l,p.yy,C[1],r,o].concat(d))))return x;S&&(n=n.slice(0,-1*S*2),r=r.slice(0,-1*S),o=o.slice(0,-1*S)),n.push(this.productions_[C[1]][0]),r.push(L.$),o.push(L._$),D=s[n[n.length-2]][n[n.length-1]],n.push(D);break;case 3:return!0}}return!0}},B={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var n,i,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(i=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((n=this._input.match(this.rules[r[o]]))&&(!t||n[0].length>t[0].length)){if(t=n,i=o,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,r[o])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,r[i]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(e,t,n,i){switch(n){case 0:return this.begin("open_directive"),14;case 1:return this.begin("type_directive"),15;case 2:return this.popState(),this.begin("arg_directive"),12;case 3:return this.popState(),this.popState(),17;case 4:return 16;case 5:return 5;case 6:case 7:case 8:break;case 9:return 8;case 10:return 6;case 11:return 23;case 12:return 34;case 13:return 26;case 14:return 25;case 15:return 28;case 16:return 30;case 17:return 32;case 18:return 35;case 19:return 36;case 20:return 37;case 21:return 38;case 22:return 39;case 23:return 40;case 24:return 41;case 25:return 42;case 26:return 43;case 27:return 44;case 28:return 45;case 29:return 46;case 30:return 47;case 31:return 48;case 32:return 59;case 33:return 60;case 34:return 61;case 35:return 62;case 36:return 63;case 37:return 64;case 38:return 65;case 39:return 51;case 40:return 53;case 41:return 55;case 42:return 58;case 43:return 57;case 44:this.begin("string");break;case 45:this.popState();break;case 46:return"qString";case 47:return t.yytext=t.yytext.trim(),66}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[45,46],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,47],inclusive:!0}}};function j(){this.yy={}}return P.lexer=B,j.prototype=P,P.Parser=j,new j}();t.parser=i,t.Parser=i.Parser,t.parse=function(){return i.parse.apply(i,arguments)},t.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),process.exit(1));var i=n(8800).readFileSync(n(6470).normalize(e[1]),"utf8");return t.parser.parse(i)},n.c[n.s]===e&&t.main(process.argv.slice(1))},9923:(e,t,n)=>{e=n.nmd(e);var i=function(){var e=function(e,t,n,i){for(n=n||{},i=e.length;i--;n[e[i]]=t);return n},t=[1,2],n=[1,3],i=[1,5],r=[1,7],o=[2,5],s=[1,15],a=[1,17],l=[1,18],c=[1,19],u=[1,21],h=[1,22],d=[1,23],f=[1,29],p=[1,30],g=[1,31],m=[1,32],v=[1,33],y=[1,34],b=[1,37],_=[1,38],w=[1,39],C=[1,40],x=[1,41],k=[1,42],S=[1,45],D=[1,4,5,16,20,22,23,24,30,32,33,34,35,36,38,40,41,42,46,47,48,49,57,67],E=[1,58],L=[4,5,16,20,22,23,24,30,32,33,34,35,36,38,42,46,47,48,49,57,67],T=[4,5,16,20,22,23,24,30,32,33,34,35,36,38,41,42,46,47,48,49,57,67],N=[4,5,16,20,22,23,24,30,32,33,34,35,36,38,40,42,46,47,48,49,57,67],M=[55,56,57],A=[1,4,5,7,16,20,22,23,24,30,32,33,34,35,36,38,40,41,42,46,47,48,49,57,67],I={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,directive:6,SD:7,document:8,line:9,statement:10,openDirective:11,typeDirective:12,closeDirective:13,":":14,argDirective:15,participant:16,actor:17,AS:18,restOfLine:19,participant_actor:20,signal:21,autonumber:22,activate:23,deactivate:24,note_statement:25,links_statement:26,link_statement:27,properties_statement:28,details_statement:29,title:30,text2:31,loop:32,end:33,rect:34,opt:35,alt:36,else_sections:37,par:38,par_sections:39,and:40,else:41,note:42,placement:43,over:44,actor_pair:45,links:46,link:47,properties:48,details:49,spaceList:50,",":51,left_of:52,right_of:53,signaltype:54,"+":55,"-":56,ACTOR:57,SOLID_OPEN_ARROW:58,DOTTED_OPEN_ARROW:59,SOLID_ARROW:60,DOTTED_ARROW:61,SOLID_CROSS:62,DOTTED_CROSS:63,SOLID_POINT:64,DOTTED_POINT:65,TXT:66,open_directive:67,type_directive:68,arg_directive:69,close_directive:70,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",7:"SD",14:":",16:"participant",18:"AS",19:"restOfLine",20:"participant_actor",22:"autonumber",23:"activate",24:"deactivate",30:"title",32:"loop",33:"end",34:"rect",35:"opt",36:"alt",38:"par",40:"and",41:"else",42:"note",44:"over",46:"links",47:"link",48:"properties",49:"details",51:",",52:"left_of",53:"right_of",55:"+",56:"-",57:"ACTOR",58:"SOLID_OPEN_ARROW",59:"DOTTED_OPEN_ARROW",60:"SOLID_ARROW",61:"DOTTED_ARROW",62:"SOLID_CROSS",63:"DOTTED_CROSS",64:"SOLID_POINT",65:"DOTTED_POINT",66:"TXT",67:"open_directive",68:"type_directive",69:"arg_directive",70:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[6,4],[6,6],[10,5],[10,3],[10,5],[10,3],[10,2],[10,1],[10,3],[10,3],[10,2],[10,2],[10,2],[10,2],[10,2],[10,3],[10,4],[10,4],[10,4],[10,4],[10,4],[10,1],[39,1],[39,4],[37,1],[37,4],[25,4],[25,4],[26,3],[27,3],[28,3],[29,3],[50,2],[50,1],[45,3],[45,1],[43,1],[43,1],[21,5],[21,5],[21,4],[17,1],[54,1],[54,1],[54,1],[54,1],[54,1],[54,1],[54,1],[54,1],[31,1],[11,1],[12,1],[15,1],[13,1]],performAction:function(e,t,n,i,r,o,s){var a=o.length-1;switch(r){case 4:return i.apply(o[a]),o[a];case 5:case 9:this.$=[];break;case 6:o[a-1].push(o[a]),this.$=o[a-1];break;case 7:case 8:case 45:this.$=o[a];break;case 12:o[a-3].type="addParticipant",o[a-3].description=i.parseMessage(o[a-1]),this.$=o[a-3];break;case 13:o[a-1].type="addParticipant",this.$=o[a-1];break;case 14:o[a-3].type="addActor",o[a-3].description=i.parseMessage(o[a-1]),this.$=o[a-3];break;case 15:o[a-1].type="addActor",this.$=o[a-1];break;case 17:i.enableSequenceNumbers();break;case 18:this.$={type:"activeStart",signalType:i.LINETYPE.ACTIVE_START,actor:o[a-1]};break;case 19:this.$={type:"activeEnd",signalType:i.LINETYPE.ACTIVE_END,actor:o[a-1]};break;case 25:this.$=[{type:"setTitle",text:o[a-1]}];break;case 26:o[a-1].unshift({type:"loopStart",loopText:i.parseMessage(o[a-2]),signalType:i.LINETYPE.LOOP_START}),o[a-1].push({type:"loopEnd",loopText:o[a-2],signalType:i.LINETYPE.LOOP_END}),this.$=o[a-1];break;case 27:o[a-1].unshift({type:"rectStart",color:i.parseMessage(o[a-2]),signalType:i.LINETYPE.RECT_START}),o[a-1].push({type:"rectEnd",color:i.parseMessage(o[a-2]),signalType:i.LINETYPE.RECT_END}),this.$=o[a-1];break;case 28:o[a-1].unshift({type:"optStart",optText:i.parseMessage(o[a-2]),signalType:i.LINETYPE.OPT_START}),o[a-1].push({type:"optEnd",optText:i.parseMessage(o[a-2]),signalType:i.LINETYPE.OPT_END}),this.$=o[a-1];break;case 29:o[a-1].unshift({type:"altStart",altText:i.parseMessage(o[a-2]),signalType:i.LINETYPE.ALT_START}),o[a-1].push({type:"altEnd",signalType:i.LINETYPE.ALT_END}),this.$=o[a-1];break;case 30:o[a-1].unshift({type:"parStart",parText:i.parseMessage(o[a-2]),signalType:i.LINETYPE.PAR_START}),o[a-1].push({type:"parEnd",signalType:i.LINETYPE.PAR_END}),this.$=o[a-1];break;case 33:this.$=o[a-3].concat([{type:"and",parText:i.parseMessage(o[a-1]),signalType:i.LINETYPE.PAR_AND},o[a]]);break;case 35:this.$=o[a-3].concat([{type:"else",altText:i.parseMessage(o[a-1]),signalType:i.LINETYPE.ALT_ELSE},o[a]]);break;case 36:this.$=[o[a-1],{type:"addNote",placement:o[a-2],actor:o[a-1].actor,text:o[a]}];break;case 37:o[a-2]=[].concat(o[a-1],o[a-1]).slice(0,2),o[a-2][0]=o[a-2][0].actor,o[a-2][1]=o[a-2][1].actor,this.$=[o[a-1],{type:"addNote",placement:i.PLACEMENT.OVER,actor:o[a-2].slice(0,2),text:o[a]}];break;case 38:this.$=[o[a-1],{type:"addLinks",actor:o[a-1].actor,text:o[a]}];break;case 39:this.$=[o[a-1],{type:"addALink",actor:o[a-1].actor,text:o[a]}];break;case 40:this.$=[o[a-1],{type:"addProperties",actor:o[a-1].actor,text:o[a]}];break;case 41:this.$=[o[a-1],{type:"addDetails",actor:o[a-1].actor,text:o[a]}];break;case 44:this.$=[o[a-2],o[a]];break;case 46:this.$=i.PLACEMENT.LEFTOF;break;case 47:this.$=i.PLACEMENT.RIGHTOF;break;case 48:this.$=[o[a-4],o[a-1],{type:"addMessage",from:o[a-4].actor,to:o[a-1].actor,signalType:o[a-3],msg:o[a]},{type:"activeStart",signalType:i.LINETYPE.ACTIVE_START,actor:o[a-1]}];break;case 49:this.$=[o[a-4],o[a-1],{type:"addMessage",from:o[a-4].actor,to:o[a-1].actor,signalType:o[a-3],msg:o[a]},{type:"activeEnd",signalType:i.LINETYPE.ACTIVE_END,actor:o[a-4]}];break;case 50:this.$=[o[a-3],o[a-1],{type:"addMessage",from:o[a-3].actor,to:o[a-1].actor,signalType:o[a-2],msg:o[a]}];break;case 51:this.$={type:"addParticipant",actor:o[a]};break;case 52:this.$=i.LINETYPE.SOLID_OPEN;break;case 53:this.$=i.LINETYPE.DOTTED_OPEN;break;case 54:this.$=i.LINETYPE.SOLID;break;case 55:this.$=i.LINETYPE.DOTTED;break;case 56:this.$=i.LINETYPE.SOLID_CROSS;break;case 57:this.$=i.LINETYPE.DOTTED_CROSS;break;case 58:this.$=i.LINETYPE.SOLID_POINT;break;case 59:this.$=i.LINETYPE.DOTTED_POINT;break;case 60:this.$=i.parseMessage(o[a].trim().substring(1));break;case 61:i.parseDirective("%%{","open_directive");break;case 62:i.parseDirective(o[a],"type_directive");break;case 63:o[a]=o[a].trim().replace(/'/g,'"'),i.parseDirective(o[a],"arg_directive");break;case 64:i.parseDirective("}%%","close_directive","sequence")}},table:[{3:1,4:t,5:n,6:4,7:i,11:6,67:r},{1:[3]},{3:8,4:t,5:n,6:4,7:i,11:6,67:r},{3:9,4:t,5:n,6:4,7:i,11:6,67:r},{3:10,4:t,5:n,6:4,7:i,11:6,67:r},e([1,4,5,16,20,22,23,24,30,32,34,35,36,38,42,46,47,48,49,57,67],o,{8:11}),{12:12,68:[1,13]},{68:[2,61]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:s,5:a,6:35,9:14,10:16,11:6,16:l,17:36,20:c,21:20,22:u,23:h,24:d,25:24,26:25,27:26,28:27,29:28,30:f,32:p,34:g,35:m,36:v,38:y,42:b,46:_,47:w,48:C,49:x,57:k,67:r},{13:43,14:[1,44],70:S},e([14,70],[2,62]),e(D,[2,6]),{6:35,10:46,11:6,16:l,17:36,20:c,21:20,22:u,23:h,24:d,25:24,26:25,27:26,28:27,29:28,30:f,32:p,34:g,35:m,36:v,38:y,42:b,46:_,47:w,48:C,49:x,57:k,67:r},e(D,[2,8]),e(D,[2,9]),{17:47,57:k},{17:48,57:k},{5:[1,49]},e(D,[2,17]),{17:50,57:k},{17:51,57:k},{5:[1,52]},{5:[1,53]},{5:[1,54]},{5:[1,55]},{5:[1,56]},{31:57,66:E},{19:[1,59]},{19:[1,60]},{19:[1,61]},{19:[1,62]},{19:[1,63]},e(D,[2,31]),{54:64,58:[1,65],59:[1,66],60:[1,67],61:[1,68],62:[1,69],63:[1,70],64:[1,71],65:[1,72]},{43:73,44:[1,74],52:[1,75],53:[1,76]},{17:77,57:k},{17:78,57:k},{17:79,57:k},{17:80,57:k},e([5,18,51,58,59,60,61,62,63,64,65,66],[2,51]),{5:[1,81]},{15:82,69:[1,83]},{5:[2,64]},e(D,[2,7]),{5:[1,85],18:[1,84]},{5:[1,87],18:[1,86]},e(D,[2,16]),{5:[1,88]},{5:[1,89]},e(D,[2,20]),e(D,[2,21]),e(D,[2,22]),e(D,[2,23]),e(D,[2,24]),{5:[1,90]},{5:[2,60]},e(L,o,{8:91}),e(L,o,{8:92}),e(L,o,{8:93}),e(T,o,{37:94,8:95}),e(N,o,{39:96,8:97}),{17:100,55:[1,98],56:[1,99],57:k},e(M,[2,52]),e(M,[2,53]),e(M,[2,54]),e(M,[2,55]),e(M,[2,56]),e(M,[2,57]),e(M,[2,58]),e(M,[2,59]),{17:101,57:k},{17:103,45:102,57:k},{57:[2,46]},{57:[2,47]},{31:104,66:E},{31:105,66:E},{31:106,66:E},{31:107,66:E},e(A,[2,10]),{13:108,70:S},{70:[2,63]},{19:[1,109]},e(D,[2,13]),{19:[1,110]},e(D,[2,15]),e(D,[2,18]),e(D,[2,19]),e(D,[2,25]),{4:s,5:a,6:35,9:14,10:16,11:6,16:l,17:36,20:c,21:20,22:u,23:h,24:d,25:24,26:25,27:26,28:27,29:28,30:f,32:p,33:[1,111],34:g,35:m,36:v,38:y,42:b,46:_,47:w,48:C,49:x,57:k,67:r},{4:s,5:a,6:35,9:14,10:16,11:6,16:l,17:36,20:c,21:20,22:u,23:h,24:d,25:24,26:25,27:26,28:27,29:28,30:f,32:p,33:[1,112],34:g,35:m,36:v,38:y,42:b,46:_,47:w,48:C,49:x,57:k,67:r},{4:s,5:a,6:35,9:14,10:16,11:6,16:l,17:36,20:c,21:20,22:u,23:h,24:d,25:24,26:25,27:26,28:27,29:28,30:f,32:p,33:[1,113],34:g,35:m,36:v,38:y,42:b,46:_,47:w,48:C,49:x,57:k,67:r},{33:[1,114]},{4:s,5:a,6:35,9:14,10:16,11:6,16:l,17:36,20:c,21:20,22:u,23:h,24:d,25:24,26:25,27:26,28:27,29:28,30:f,32:p,33:[2,34],34:g,35:m,36:v,38:y,41:[1,115],42:b,46:_,47:w,48:C,49:x,57:k,67:r},{33:[1,116]},{4:s,5:a,6:35,9:14,10:16,11:6,16:l,17:36,20:c,21:20,22:u,23:h,24:d,25:24,26:25,27:26,28:27,29:28,30:f,32:p,33:[2,32],34:g,35:m,36:v,38:y,40:[1,117],42:b,46:_,47:w,48:C,49:x,57:k,67:r},{17:118,57:k},{17:119,57:k},{31:120,66:E},{31:121,66:E},{31:122,66:E},{51:[1,123],66:[2,45]},{5:[2,38]},{5:[2,39]},{5:[2,40]},{5:[2,41]},{5:[1,124]},{5:[1,125]},{5:[1,126]},e(D,[2,26]),e(D,[2,27]),e(D,[2,28]),e(D,[2,29]),{19:[1,127]},e(D,[2,30]),{19:[1,128]},{31:129,66:E},{31:130,66:E},{5:[2,50]},{5:[2,36]},{5:[2,37]},{17:131,57:k},e(A,[2,11]),e(D,[2,12]),e(D,[2,14]),e(T,o,{8:95,37:132}),e(N,o,{8:97,39:133}),{5:[2,48]},{5:[2,49]},{66:[2,44]},{33:[2,35]},{33:[2,33]}],defaultActions:{7:[2,61],8:[2,1],9:[2,2],10:[2,3],45:[2,64],58:[2,60],75:[2,46],76:[2,47],83:[2,63],104:[2,38],105:[2,39],106:[2,40],107:[2,41],120:[2,50],121:[2,36],122:[2,37],129:[2,48],130:[2,49],131:[2,44],132:[2,35],133:[2,33]},parseError:function(e,t){if(!t.recoverable){var n=new Error(e);throw n.hash=t,n}this.trace(e)},parse:function(e){var t=this,n=[0],i=[],r=[null],o=[],s=this.table,a="",l=0,c=0,u=2,h=1,d=o.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);f.setInput(e,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;o.push(m);var v=f.options&&f.options.ranges;function y(){var e;return"number"!=typeof(e=i.pop()||f.lex()||h)&&(e instanceof Array&&(e=(i=e).pop()),e=t.symbols_[e]||e),e}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var b,_,w,C,x,k,S,D,E,L={};;){if(w=n[n.length-1],this.defaultActions[w]?C=this.defaultActions[w]:(null==b&&(b=y()),C=s[w]&&s[w][b]),void 0===C||!C.length||!C[0]){var T="";for(k in E=[],s[w])this.terminals_[k]&&k>u&&E.push("'"+this.terminals_[k]+"'");T=f.showPosition?"Parse error on line "+(l+1)+":\n"+f.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(l+1)+": Unexpected "+(b==h?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(T,{text:f.match,token:this.terminals_[b]||b,line:f.yylineno,loc:m,expected:E})}if(C[0]instanceof Array&&C.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+b);switch(C[0]){case 1:n.push(b),r.push(f.yytext),o.push(f.yylloc),n.push(C[1]),b=null,_?(b=_,_=null):(c=f.yyleng,a=f.yytext,l=f.yylineno,m=f.yylloc);break;case 2:if(S=this.productions_[C[1]][1],L.$=r[r.length-S],L._$={first_line:o[o.length-(S||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(S||1)].first_column,last_column:o[o.length-1].last_column},v&&(L._$.range=[o[o.length-(S||1)].range[0],o[o.length-1].range[1]]),void 0!==(x=this.performAction.apply(L,[a,c,l,p.yy,C[1],r,o].concat(d))))return x;S&&(n=n.slice(0,-1*S*2),r=r.slice(0,-1*S),o=o.slice(0,-1*S)),n.push(this.productions_[C[1]][0]),r.push(L.$),o.push(L._$),D=s[n[n.length-2]][n[n.length-1]],n.push(D);break;case 3:return!0}}return!0}},O={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var n,i,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(i=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((n=this._input.match(this.rules[r[o]]))&&(!t||n[0].length>t[0].length)){if(t=n,i=o,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,r[o])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,r[i]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(e,t,n,i){switch(n){case 0:return this.begin("open_directive"),67;case 1:return this.begin("type_directive"),68;case 2:return this.popState(),this.begin("arg_directive"),14;case 3:return this.popState(),this.popState(),70;case 4:return 69;case 5:case 39:case 52:return 5;case 6:case 7:case 8:case 9:case 10:break;case 11:return this.begin("ID"),16;case 12:return this.begin("ID"),20;case 13:return t.yytext=t.yytext.trim(),this.begin("ALIAS"),57;case 14:return this.popState(),this.popState(),this.begin("LINE"),18;case 15:return this.popState(),this.popState(),5;case 16:return this.begin("LINE"),32;case 17:return this.begin("LINE"),34;case 18:return this.begin("LINE"),35;case 19:return this.begin("LINE"),36;case 20:return this.begin("LINE"),41;case 21:return this.begin("LINE"),38;case 22:return this.begin("LINE"),40;case 23:return this.popState(),19;case 24:return 33;case 25:return 52;case 26:return 53;case 27:return 46;case 28:return 47;case 29:return 48;case 30:return 49;case 31:return 44;case 32:return 42;case 33:return this.begin("ID"),23;case 34:return this.begin("ID"),24;case 35:return 30;case 36:return 7;case 37:return 22;case 38:return 51;case 40:return t.yytext=t.yytext.trim(),57;case 41:return 60;case 42:return 61;case 43:return 58;case 44:return 59;case 45:return 62;case 46:return 63;case 47:return 64;case 48:return 65;case 49:return 66;case 50:return 55;case 51:return 56;case 53:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:[^\->:\n,;]+?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:and\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\b)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{open_directive:{rules:[1,8],inclusive:!1},type_directive:{rules:[2,3,8],inclusive:!1},arg_directive:{rules:[3,4,8],inclusive:!1},ID:{rules:[7,8,13],inclusive:!1},ALIAS:{rules:[7,8,14,15],inclusive:!1},LINE:{rules:[7,8,23],inclusive:!1},INITIAL:{rules:[0,5,6,8,9,10,11,12,16,17,18,19,20,21,22,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53],inclusive:!0}}};function F(){this.yy={}}return I.lexer=O,F.prototype=I,I.Parser=F,new F}();t.parser=i,t.Parser=i.Parser,t.parse=function(){return i.parse.apply(i,arguments)},t.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),process.exit(1));var i=n(1993).readFileSync(n(6470).normalize(e[1]),"utf8");return t.parser.parse(i)},n.c[n.s]===e&&t.main(process.argv.slice(1))},5537:(e,t,n)=>{e=n.nmd(e);var i=function(){var e=function(e,t,n,i){for(n=n||{},i=e.length;i--;n[e[i]]=t);return n},t=[1,2],n=[1,3],i=[1,5],r=[1,7],o=[2,5],s=[1,15],a=[1,17],l=[1,19],c=[1,20],u=[1,21],h=[1,22],d=[1,30],f=[1,23],p=[1,24],g=[1,25],m=[1,26],v=[1,27],y=[1,32],b=[1,33],_=[1,34],w=[1,35],C=[1,31],x=[1,38],k=[1,4,5,14,15,17,19,20,22,23,24,25,26,27,36,37,38,39,42,45],S=[1,4,5,12,13,14,15,17,19,20,22,23,24,25,26,27,36,37,38,39,42,45],D=[1,4,5,7,14,15,17,19,20,22,23,24,25,26,27,36,37,38,39,42,45],E=[4,5,14,15,17,19,20,22,23,24,25,26,27,36,37,38,39,42,45],L={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,directive:6,SD:7,document:8,line:9,statement:10,idStatement:11,DESCR:12,"--\x3e":13,HIDE_EMPTY:14,scale:15,WIDTH:16,COMPOSIT_STATE:17,STRUCT_START:18,STRUCT_STOP:19,STATE_DESCR:20,AS:21,ID:22,FORK:23,JOIN:24,CHOICE:25,CONCURRENT:26,note:27,notePosition:28,NOTE_TEXT:29,direction:30,openDirective:31,typeDirective:32,closeDirective:33,":":34,argDirective:35,direction_tb:36,direction_bt:37,direction_rl:38,direction_lr:39,eol:40,";":41,EDGE_STATE:42,left_of:43,right_of:44,open_directive:45,type_directive:46,arg_directive:47,close_directive:48,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",7:"SD",12:"DESCR",13:"--\x3e",14:"HIDE_EMPTY",15:"scale",16:"WIDTH",17:"COMPOSIT_STATE",18:"STRUCT_START",19:"STRUCT_STOP",20:"STATE_DESCR",21:"AS",22:"ID",23:"FORK",24:"JOIN",25:"CHOICE",26:"CONCURRENT",27:"note",29:"NOTE_TEXT",34:":",36:"direction_tb",37:"direction_bt",38:"direction_rl",39:"direction_lr",41:";",42:"EDGE_STATE",43:"left_of",44:"right_of",45:"open_directive",46:"type_directive",47:"arg_directive",48:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[10,1],[10,2],[10,3],[10,4],[10,1],[10,2],[10,1],[10,4],[10,3],[10,6],[10,1],[10,1],[10,1],[10,1],[10,4],[10,4],[10,1],[10,1],[6,3],[6,5],[30,1],[30,1],[30,1],[30,1],[40,1],[40,1],[11,1],[11,1],[28,1],[28,1],[31,1],[32,1],[35,1],[33,1]],performAction:function(e,t,n,i,r,o,s){var a=o.length-1;switch(r){case 4:return i.setRootDoc(o[a]),o[a];case 5:this.$=[];break;case 6:"nl"!=o[a]&&(o[a-1].push(o[a]),this.$=o[a-1]);break;case 7:case 8:case 36:case 37:this.$=o[a];break;case 9:this.$="nl";break;case 10:this.$={stmt:"state",id:o[a],type:"default",description:""};break;case 11:this.$={stmt:"state",id:o[a-1],type:"default",description:i.trimColon(o[a])};break;case 12:this.$={stmt:"relation",state1:{stmt:"state",id:o[a-2],type:"default",description:""},state2:{stmt:"state",id:o[a],type:"default",description:""}};break;case 13:this.$={stmt:"relation",state1:{stmt:"state",id:o[a-3],type:"default",description:""},state2:{stmt:"state",id:o[a-1],type:"default",description:""},description:o[a].substr(1).trim()};break;case 17:this.$={stmt:"state",id:o[a-3],type:"default",description:"",doc:o[a-1]};break;case 18:var l=o[a],c=o[a-2].trim();if(o[a].match(":")){var u=o[a].split(":");l=u[0],c=[c,u[1]]}this.$={stmt:"state",id:l,type:"default",description:c};break;case 19:this.$={stmt:"state",id:o[a-3],type:"default",description:o[a-5],doc:o[a-1]};break;case 20:this.$={stmt:"state",id:o[a],type:"fork"};break;case 21:this.$={stmt:"state",id:o[a],type:"join"};break;case 22:this.$={stmt:"state",id:o[a],type:"choice"};break;case 23:this.$={stmt:"state",id:i.getDividerId(),type:"divider"};break;case 24:this.$={stmt:"state",id:o[a-1].trim(),note:{position:o[a-2].trim(),text:o[a].trim()}};break;case 30:i.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 31:i.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 32:i.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 33:i.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 40:i.parseDirective("%%{","open_directive");break;case 41:i.parseDirective(o[a],"type_directive");break;case 42:o[a]=o[a].trim().replace(/'/g,'"'),i.parseDirective(o[a],"arg_directive");break;case 43:i.parseDirective("}%%","close_directive","state")}},table:[{3:1,4:t,5:n,6:4,7:i,31:6,45:r},{1:[3]},{3:8,4:t,5:n,6:4,7:i,31:6,45:r},{3:9,4:t,5:n,6:4,7:i,31:6,45:r},{3:10,4:t,5:n,6:4,7:i,31:6,45:r},e([1,4,5,14,15,17,20,22,23,24,25,26,27,36,37,38,39,42,45],o,{8:11}),{32:12,46:[1,13]},{46:[2,40]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:s,5:a,6:28,9:14,10:16,11:18,14:l,15:c,17:u,20:h,22:d,23:f,24:p,25:g,26:m,27:v,30:29,31:6,36:y,37:b,38:_,39:w,42:C,45:r},{33:36,34:[1,37],48:x},e([34,48],[2,41]),e(k,[2,6]),{6:28,10:39,11:18,14:l,15:c,17:u,20:h,22:d,23:f,24:p,25:g,26:m,27:v,30:29,31:6,36:y,37:b,38:_,39:w,42:C,45:r},e(k,[2,8]),e(k,[2,9]),e(k,[2,10],{12:[1,40],13:[1,41]}),e(k,[2,14]),{16:[1,42]},e(k,[2,16],{18:[1,43]}),{21:[1,44]},e(k,[2,20]),e(k,[2,21]),e(k,[2,22]),e(k,[2,23]),{28:45,29:[1,46],43:[1,47],44:[1,48]},e(k,[2,26]),e(k,[2,27]),e(S,[2,36]),e(S,[2,37]),e(k,[2,30]),e(k,[2,31]),e(k,[2,32]),e(k,[2,33]),e(D,[2,28]),{35:49,47:[1,50]},e(D,[2,43]),e(k,[2,7]),e(k,[2,11]),{11:51,22:d,42:C},e(k,[2,15]),e(E,o,{8:52}),{22:[1,53]},{22:[1,54]},{21:[1,55]},{22:[2,38]},{22:[2,39]},{33:56,48:x},{48:[2,42]},e(k,[2,12],{12:[1,57]}),{4:s,5:a,6:28,9:14,10:16,11:18,14:l,15:c,17:u,19:[1,58],20:h,22:d,23:f,24:p,25:g,26:m,27:v,30:29,31:6,36:y,37:b,38:_,39:w,42:C,45:r},e(k,[2,18],{18:[1,59]}),{29:[1,60]},{22:[1,61]},e(D,[2,29]),e(k,[2,13]),e(k,[2,17]),e(E,o,{8:62}),e(k,[2,24]),e(k,[2,25]),{4:s,5:a,6:28,9:14,10:16,11:18,14:l,15:c,17:u,19:[1,63],20:h,22:d,23:f,24:p,25:g,26:m,27:v,30:29,31:6,36:y,37:b,38:_,39:w,42:C,45:r},e(k,[2,19])],defaultActions:{7:[2,40],8:[2,1],9:[2,2],10:[2,3],47:[2,38],48:[2,39],50:[2,42]},parseError:function(e,t){if(!t.recoverable){var n=new Error(e);throw n.hash=t,n}this.trace(e)},parse:function(e){var t=this,n=[0],i=[],r=[null],o=[],s=this.table,a="",l=0,c=0,u=2,h=1,d=o.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);f.setInput(e,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;o.push(m);var v=f.options&&f.options.ranges;function y(){var e;return"number"!=typeof(e=i.pop()||f.lex()||h)&&(e instanceof Array&&(e=(i=e).pop()),e=t.symbols_[e]||e),e}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var b,_,w,C,x,k,S,D,E,L={};;){if(w=n[n.length-1],this.defaultActions[w]?C=this.defaultActions[w]:(null==b&&(b=y()),C=s[w]&&s[w][b]),void 0===C||!C.length||!C[0]){var T="";for(k in E=[],s[w])this.terminals_[k]&&k>u&&E.push("'"+this.terminals_[k]+"'");T=f.showPosition?"Parse error on line "+(l+1)+":\n"+f.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(l+1)+": Unexpected "+(b==h?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(T,{text:f.match,token:this.terminals_[b]||b,line:f.yylineno,loc:m,expected:E})}if(C[0]instanceof Array&&C.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+b);switch(C[0]){case 1:n.push(b),r.push(f.yytext),o.push(f.yylloc),n.push(C[1]),b=null,_?(b=_,_=null):(c=f.yyleng,a=f.yytext,l=f.yylineno,m=f.yylloc);break;case 2:if(S=this.productions_[C[1]][1],L.$=r[r.length-S],L._$={first_line:o[o.length-(S||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(S||1)].first_column,last_column:o[o.length-1].last_column},v&&(L._$.range=[o[o.length-(S||1)].range[0],o[o.length-1].range[1]]),void 0!==(x=this.performAction.apply(L,[a,c,l,p.yy,C[1],r,o].concat(d))))return x;S&&(n=n.slice(0,-1*S*2),r=r.slice(0,-1*S),o=o.slice(0,-1*S)),n.push(this.productions_[C[1]][0]),r.push(L.$),o.push(L._$),D=s[n[n.length-2]][n[n.length-1]],n.push(D);break;case 3:return!0}}return!0}},T={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var n,i,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(i=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((n=this._input.match(this.rules[r[o]]))&&(!t||n[0].length>t[0].length)){if(t=n,i=o,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,r[o])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,r[i]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(e,t,n,i){switch(n){case 0:case 26:return 36;case 1:case 27:return 37;case 2:case 28:return 38;case 3:case 29:return 39;case 4:return this.begin("open_directive"),45;case 5:return this.begin("type_directive"),46;case 6:return this.popState(),this.begin("arg_directive"),34;case 7:return this.popState(),this.popState(),48;case 8:return 47;case 9:case 10:case 12:case 13:case 14:case 15:case 39:case 45:break;case 11:case 59:return 5;case 16:return this.pushState("SCALE"),15;case 17:return 16;case 18:case 33:case 36:this.popState();break;case 19:this.pushState("STATE");break;case 20:case 23:return this.popState(),t.yytext=t.yytext.slice(0,-8).trim(),23;case 21:case 24:return this.popState(),t.yytext=t.yytext.slice(0,-8).trim(),24;case 22:case 25:return this.popState(),t.yytext=t.yytext.slice(0,-10).trim(),25;case 30:this.begin("STATE_STRING");break;case 31:return this.popState(),this.pushState("STATE_ID"),"AS";case 32:case 47:return this.popState(),"ID";case 34:return"STATE_DESCR";case 35:return 17;case 37:return this.popState(),this.pushState("struct"),18;case 38:return this.popState(),19;case 40:return this.begin("NOTE"),27;case 41:return this.popState(),this.pushState("NOTE_ID"),43;case 42:return this.popState(),this.pushState("NOTE_ID"),44;case 43:this.popState(),this.pushState("FLOATING_NOTE");break;case 44:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 46:return"NOTE_TEXT";case 48:return this.popState(),this.pushState("NOTE_TEXT"),22;case 49:return this.popState(),t.yytext=t.yytext.substr(2).trim(),29;case 50:return this.popState(),t.yytext=t.yytext.slice(0,-8).trim(),29;case 51:case 52:return 7;case 53:return 14;case 54:return 42;case 55:return 22;case 56:return t.yytext=t.yytext.trim(),12;case 57:return 13;case 58:return 26;case 60:return"INVALID"}},rules:[/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[13,14],inclusive:!1},close_directive:{rules:[13,14],inclusive:!1},arg_directive:{rules:[7,8,13,14],inclusive:!1},type_directive:{rules:[6,7,13,14],inclusive:!1},open_directive:{rules:[5,13,14],inclusive:!1},struct:{rules:[13,14,19,26,27,28,29,38,39,40,54,55,56,57,58],inclusive:!1},FLOATING_NOTE_ID:{rules:[47],inclusive:!1},FLOATING_NOTE:{rules:[44,45,46],inclusive:!1},NOTE_TEXT:{rules:[49,50],inclusive:!1},NOTE_ID:{rules:[48],inclusive:!1},NOTE:{rules:[41,42,43],inclusive:!1},SCALE:{rules:[17,18],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[32],inclusive:!1},STATE_STRING:{rules:[33,34],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[13,14,20,21,22,23,24,25,30,31,35,36,37],inclusive:!1},ID:{rules:[13,14],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,12,14,15,16,19,37,40,51,52,53,54,55,56,57,59,60],inclusive:!0}}};function N(){this.yy={}}return L.lexer=T,N.prototype=L,L.Parser=N,new N}();t.parser=i,t.Parser=i.Parser,t.parse=function(){return i.parse.apply(i,arguments)},t.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),process.exit(1));var i=n(3069).readFileSync(n(6470).normalize(e[1]),"utf8");return t.parser.parse(i)},n.c[n.s]===e&&t.main(process.argv.slice(1))},6741:(e,t,n)=>{e=n.nmd(e);var i=function(){var e=function(e,t,n,i){for(n=n||{},i=e.length;i--;n[e[i]]=t);return n},t=[1,2],n=[1,5],i=[6,9,11,17,18,19,21],r=[1,15],o=[1,16],s=[1,17],a=[1,21],l=[4,6,9,11,17,18,19,21],c={trace:function(){},yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,title:17,section:18,taskName:19,taskData:20,open_directive:21,type_directive:22,arg_directive:23,close_directive:24,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",17:"title",18:"section",19:"taskName",20:"taskData",21:"open_directive",22:"type_directive",23:"arg_directive",24:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,1],[10,2],[10,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(e,t,n,i,r,o,s){var a=o.length-1;switch(r){case 1:return o[a-1];case 3:case 7:case 8:this.$=[];break;case 4:o[a-1].push(o[a]),this.$=o[a-1];break;case 5:case 6:this.$=o[a];break;case 11:i.setTitle(o[a].substr(6)),this.$=o[a].substr(6);break;case 12:i.addSection(o[a].substr(8)),this.$=o[a].substr(8);break;case 13:i.addTask(o[a-1],o[a]),this.$="task";break;case 15:i.parseDirective("%%{","open_directive");break;case 16:i.parseDirective(o[a],"type_directive");break;case 17:o[a]=o[a].trim().replace(/'/g,'"'),i.parseDirective(o[a],"arg_directive");break;case 18:i.parseDirective("}%%","close_directive","journey")}},table:[{3:1,4:t,7:3,12:4,21:n},{1:[3]},e(i,[2,3],{5:6}),{3:7,4:t,7:3,12:4,21:n},{13:8,22:[1,9]},{22:[2,15]},{6:[1,10],7:18,8:11,9:[1,12],10:13,11:[1,14],12:4,17:r,18:o,19:s,21:n},{1:[2,2]},{14:19,15:[1,20],24:a},e([15,24],[2,16]),e(i,[2,8],{1:[2,1]}),e(i,[2,4]),{7:18,10:22,12:4,17:r,18:o,19:s,21:n},e(i,[2,6]),e(i,[2,7]),e(i,[2,11]),e(i,[2,12]),{20:[1,23]},e(i,[2,14]),{11:[1,24]},{16:25,23:[1,26]},{11:[2,18]},e(i,[2,5]),e(i,[2,13]),e(l,[2,9]),{14:27,24:a},{24:[2,17]},{11:[1,28]},e(l,[2,10])],defaultActions:{5:[2,15],7:[2,2],21:[2,18],26:[2,17]},parseError:function(e,t){if(!t.recoverable){var n=new Error(e);throw n.hash=t,n}this.trace(e)},parse:function(e){var t=this,n=[0],i=[],r=[null],o=[],s=this.table,a="",l=0,c=0,u=2,h=1,d=o.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);f.setInput(e,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;o.push(m);var v=f.options&&f.options.ranges;function y(){var e;return"number"!=typeof(e=i.pop()||f.lex()||h)&&(e instanceof Array&&(e=(i=e).pop()),e=t.symbols_[e]||e),e}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var b,_,w,C,x,k,S,D,E,L={};;){if(w=n[n.length-1],this.defaultActions[w]?C=this.defaultActions[w]:(null==b&&(b=y()),C=s[w]&&s[w][b]),void 0===C||!C.length||!C[0]){var T="";for(k in E=[],s[w])this.terminals_[k]&&k>u&&E.push("'"+this.terminals_[k]+"'");T=f.showPosition?"Parse error on line "+(l+1)+":\n"+f.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(l+1)+": Unexpected "+(b==h?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(T,{text:f.match,token:this.terminals_[b]||b,line:f.yylineno,loc:m,expected:E})}if(C[0]instanceof Array&&C.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+b);switch(C[0]){case 1:n.push(b),r.push(f.yytext),o.push(f.yylloc),n.push(C[1]),b=null,_?(b=_,_=null):(c=f.yyleng,a=f.yytext,l=f.yylineno,m=f.yylloc);break;case 2:if(S=this.productions_[C[1]][1],L.$=r[r.length-S],L._$={first_line:o[o.length-(S||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(S||1)].first_column,last_column:o[o.length-1].last_column},v&&(L._$.range=[o[o.length-(S||1)].range[0],o[o.length-1].range[1]]),void 0!==(x=this.performAction.apply(L,[a,c,l,p.yy,C[1],r,o].concat(d))))return x;S&&(n=n.slice(0,-1*S*2),r=r.slice(0,-1*S),o=o.slice(0,-1*S)),n.push(this.productions_[C[1]][0]),r.push(L.$),o.push(L._$),D=s[n[n.length-2]][n[n.length-1]],n.push(D);break;case 3:return!0}}return!0}},u={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var n,i,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(i=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((n=this._input.match(this.rules[r[o]]))&&(!t||n[0].length>t[0].length)){if(t=n,i=o,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,r[o])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,r[i]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(e,t,n,i){switch(n){case 0:return this.begin("open_directive"),21;case 1:return this.begin("type_directive"),22;case 2:return this.popState(),this.begin("arg_directive"),15;case 3:return this.popState(),this.popState(),24;case 4:return 23;case 5:case 6:case 8:case 9:break;case 7:return 11;case 10:return 4;case 11:return 17;case 12:return 18;case 13:return 19;case 14:return 20;case 15:return 15;case 16:return 6;case 17:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{open_directive:{rules:[1],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,13,14,15,16,17],inclusive:!0}}};function h(){this.yy={}}return c.lexer=u,h.prototype=c,c.Parser=h,new h}();t.parser=i,t.Parser=i.Parser,t.parse=function(){return i.parse.apply(i,arguments)},t.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),process.exit(1));var i=n(9143).readFileSync(n(6470).normalize(e[1]),"utf8");return t.parser.parse(i)},n.c[n.s]===e&&t.main(process.argv.slice(1))},9609:e=>{var t=/^(%20|\s)*(javascript|data)/im,n=/[^\x20-\x7E]/gim,i=/^([^:]+):/gm,r=[".","/"];e.exports={sanitizeUrl:function(e){if(!e)return"about:blank";var o,s,a,l=e.replace(n,"").trim();return a=l,r.indexOf(a[0])>-1?l:(s=l.match(i))?(o=s[0],t.test(o)?"about:blank":l):"about:blank"}}},3841:e=>{e.exports=function(e,t){return e.intersect(t)}},7458:(e,t,n)=>{n.d(t,{Z:()=>Pk});var i=n(1941),r=n.n(i),o={debug:1,info:2,warn:3,error:4,fatal:5},s={debug:function(){},info:function(){},warn:function(){},error:function(){},fatal:function(){}},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fatal";isNaN(e)&&(e=e.toLowerCase(),void 0!==o[e]&&(e=o[e])),s.trace=function(){},s.debug=function(){},s.info=function(){},s.warn=function(){},s.error=function(){},s.fatal=function(){},e<=o.fatal&&(s.fatal=console.error?console.error.bind(console,l("FATAL"),"color: orange"):console.log.bind(console,"[35m",l("FATAL"))),e<=o.error&&(s.error=console.error?console.error.bind(console,l("ERROR"),"color: orange"):console.log.bind(console,"[31m",l("ERROR"))),e<=o.warn&&(s.warn=console.warn?console.warn.bind(console,l("WARN"),"color: orange"):console.log.bind(console,"[33m",l("WARN"))),e<=o.info&&(s.info=console.info?console.info.bind(console,l("INFO"),"color: lightblue"):console.log.bind(console,"[34m",l("INFO"))),e<=o.debug&&(s.debug=console.debug?console.debug.bind(console,l("DEBUG"),"color: lightgreen"):console.log.bind(console,"[32m",l("DEBUG")))},l=function(e){var t=r()().format("ss.SSS");return"%c".concat(t," : ").concat(e," : ")};function c(e,t){let n;if(void 0===t)for(const i of e)null!=i&&(n<i||void 0===n&&i>=i)&&(n=i);else{let i=-1;for(let r of e)null!=(r=t(r,++i,e))&&(n<r||void 0===n&&r>=r)&&(n=r)}return n}function u(e,t){let n;if(void 0===t)for(const i of e)null!=i&&(n>i||void 0===n&&i>=i)&&(n=i);else{let i=-1;for(let r of e)null!=(r=t(r,++i,e))&&(n>r||void 0===n&&r>=r)&&(n=r)}return n}function h(e){return e}var d=1e-6;function f(e){return"translate("+e+",0)"}function p(e){return"translate(0,"+e+")"}function g(e){return t=>+e(t)}function m(e,t){return t=Math.max(0,e.bandwidth()-2*t)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function v(){return!this.__axis}function y(e,t){var n=[],i=null,r=null,o=6,s=6,a=3,l="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,c=1===e||4===e?-1:1,u=4===e||2===e?"x":"y",y=1===e||3===e?f:p;function b(f){var p=null==i?t.ticks?t.ticks.apply(t,n):t.domain():i,b=null==r?t.tickFormat?t.tickFormat.apply(t,n):h:r,_=Math.max(o,0)+a,w=t.range(),C=+w[0]+l,x=+w[w.length-1]+l,k=(t.bandwidth?m:g)(t.copy(),l),S=f.selection?f.selection():f,D=S.selectAll(".domain").data([null]),E=S.selectAll(".tick").data(p,t).order(),L=E.exit(),T=E.enter().append("g").attr("class","tick"),N=E.select("line"),M=E.select("text");D=D.merge(D.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),E=E.merge(T),N=N.merge(T.append("line").attr("stroke","currentColor").attr(u+"2",c*o)),M=M.merge(T.append("text").attr("fill","currentColor").attr(u,c*_).attr("dy",1===e?"0em":3===e?"0.71em":"0.32em")),f!==S&&(D=D.transition(f),E=E.transition(f),N=N.transition(f),M=M.transition(f),L=L.transition(f).attr("opacity",d).attr("transform",(function(e){return isFinite(e=k(e))?y(e+l):this.getAttribute("transform")})),T.attr("opacity",d).attr("transform",(function(e){var t=this.parentNode.__axis;return y((t&&isFinite(t=t(e))?t:k(e))+l)}))),L.remove(),D.attr("d",4===e||2===e?s?"M"+c*s+","+C+"H"+l+"V"+x+"H"+c*s:"M"+l+","+C+"V"+x:s?"M"+C+","+c*s+"V"+l+"H"+x+"V"+c*s:"M"+C+","+l+"H"+x),E.attr("opacity",1).attr("transform",(function(e){return y(k(e)+l)})),N.attr(u+"2",c*o),M.attr(u,c*_).text(b),S.filter(v).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===e?"start":4===e?"end":"middle"),S.each((function(){this.__axis=k}))}return b.scale=function(e){return arguments.length?(t=e,b):t},b.ticks=function(){return n=Array.from(arguments),b},b.tickArguments=function(e){return arguments.length?(n=null==e?[]:Array.from(e),b):n.slice()},b.tickValues=function(e){return arguments.length?(i=null==e?null:Array.from(e),b):i&&i.slice()},b.tickFormat=function(e){return arguments.length?(r=e,b):r},b.tickSize=function(e){return arguments.length?(o=s=+e,b):o},b.tickSizeInner=function(e){return arguments.length?(o=+e,b):o},b.tickSizeOuter=function(e){return arguments.length?(s=+e,b):s},b.tickPadding=function(e){return arguments.length?(a=+e,b):a},b.offset=function(e){return arguments.length?(l=+e,b):l},b}function b(){}function _(e){return null==e?b:function(){return this.querySelector(e)}}function w(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}function C(){return[]}function x(e){return null==e?C:function(){return this.querySelectorAll(e)}}function k(e){return function(){return this.matches(e)}}function S(e){return function(t){return t.matches(e)}}var D=Array.prototype.find;function E(){return this.firstElementChild}var L=Array.prototype.filter;function T(){return Array.from(this.children)}function N(e){return new Array(e.length)}function M(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function A(e){return function(){return e}}function I(e,t,n,i,r,o){for(var s,a=0,l=t.length,c=o.length;a<c;++a)(s=t[a])?(s.__data__=o[a],i[a]=s):n[a]=new M(e,o[a]);for(;a<l;++a)(s=t[a])&&(r[a]=s)}function O(e,t,n,i,r,o,s){var a,l,c,u=new Map,h=t.length,d=o.length,f=new Array(h);for(a=0;a<h;++a)(l=t[a])&&(f[a]=c=s.call(l,l.__data__,a,t)+"",u.has(c)?r[a]=l:u.set(c,l));for(a=0;a<d;++a)c=s.call(e,o[a],a,o)+"",(l=u.get(c))?(i[a]=l,l.__data__=o[a],u.delete(c)):n[a]=new M(e,o[a]);for(a=0;a<h;++a)(l=t[a])&&u.get(f[a])===l&&(r[a]=l)}function F(e){return e.__data__}function R(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function P(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}M.prototype={constructor:M,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var B="http://www.w3.org/1999/xhtml";const j={svg:"http://www.w3.org/2000/svg",xhtml:B,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function z(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),j.hasOwnProperty(t)?{space:j[t],local:e}:e}function V(e){return function(){this.removeAttribute(e)}}function W(e){return function(){this.removeAttributeNS(e.space,e.local)}}function H(e,t){return function(){this.setAttribute(e,t)}}function U(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function $(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function q(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function K(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Y(e){return function(){this.style.removeProperty(e)}}function G(e,t,n){return function(){this.style.setProperty(e,t,n)}}function X(e,t,n){return function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function Z(e,t){return e.style.getPropertyValue(t)||K(e).getComputedStyle(e,null).getPropertyValue(t)}function J(e){return function(){delete this[e]}}function Q(e,t){return function(){this[e]=t}}function ee(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function te(e){return e.trim().split(/^|\s+/)}function ne(e){return e.classList||new ie(e)}function ie(e){this._node=e,this._names=te(e.getAttribute("class")||"")}function re(e,t){for(var n=ne(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function oe(e,t){for(var n=ne(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function se(e){return function(){re(this,e)}}function ae(e){return function(){oe(this,e)}}function le(e,t){return function(){(t.apply(this,arguments)?re:oe)(this,e)}}function ce(){this.textContent=""}function ue(e){return function(){this.textContent=e}}function he(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function de(){this.innerHTML=""}function fe(e){return function(){this.innerHTML=e}}function pe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function ge(){this.nextSibling&&this.parentNode.appendChild(this)}function me(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ve(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===B&&t.documentElement.namespaceURI===B?t.createElement(e):t.createElementNS(n,e)}}function ye(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function be(e){var t=z(e);return(t.local?ye:ve)(t)}function _e(){return null}function we(){var e=this.parentNode;e&&e.removeChild(this)}function Ce(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function xe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ke(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function Se(e){return function(){var t=this.__on;if(t){for(var n,i=0,r=-1,o=t.length;i<o;++i)n=t[i],e.type&&n.type!==e.type||n.name!==e.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?t.length=r:delete this.__on}}}function De(e,t,n){return function(){var i,r,o=this.__on,s=(r=t,function(e){r.call(this,e,this.__data__)});if(o)for(var a=0,l=o.length;a<l;++a)if((i=o[a]).type===e.type&&i.name===e.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),void(i.value=t);this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},o?o.push(i):this.__on=[i]}}function Ee(e,t,n){var i=K(e),r=i.CustomEvent;"function"==typeof r?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function Le(e,t){return function(){return Ee(this,e,t)}}function Te(e,t){return function(){return Ee(this,e,t.apply(this,arguments))}}ie.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Ne=[null];function Me(e,t){this._groups=e,this._parents=t}function Ae(){return new Me([[document.documentElement]],Ne)}Me.prototype=Ae.prototype={constructor:Me,select:function(e){"function"!=typeof e&&(e=_(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o,s,a=t[r],l=a.length,c=i[r]=new Array(l),u=0;u<l;++u)(o=a[u])&&(s=e.call(o,o.__data__,u,a))&&("__data__"in o&&(s.__data__=o.__data__),c[u]=s);return new Me(i,this._parents)},selectAll:function(e){var t;e="function"==typeof e?(t=e,function(){return w(t.apply(this,arguments))}):x(e);for(var n=this._groups,i=n.length,r=[],o=[],s=0;s<i;++s)for(var a,l=n[s],c=l.length,u=0;u<c;++u)(a=l[u])&&(r.push(e.call(a,a.__data__,u,l)),o.push(a));return new Me(r,o)},selectChild:function(e){return this.select(null==e?E:(t="function"==typeof e?e:S(e),function(){return D.call(this.children,t)}));var t},selectChildren:function(e){return this.selectAll(null==e?T:(t="function"==typeof e?e:S(e),function(){return L.call(this.children,t)}));var t},filter:function(e){"function"!=typeof e&&(e=k(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o,s=t[r],a=s.length,l=i[r]=[],c=0;c<a;++c)(o=s[c])&&e.call(o,o.__data__,c,s)&&l.push(o);return new Me(i,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,F);var n=t?O:I,i=this._parents,r=this._groups;"function"!=typeof e&&(e=A(e));for(var o=r.length,s=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var u=i[c],h=r[c],d=h.length,f=R(e.call(u,u&&u.__data__,c,i)),p=f.length,g=a[c]=new Array(p),m=s[c]=new Array(p),v=l[c]=new Array(d);n(u,h,g,m,v,f,t);for(var y,b,_=0,w=0;_<p;++_)if(y=g[_]){for(_>=w&&(w=_+1);!(b=m[w])&&++w<p;);y._next=b||null}}return(s=new Me(s,i))._enter=a,s._exit=l,s},enter:function(){return new Me(this._enter||this._groups.map(N),this._parents)},exit:function(){return new Me(this._exit||this._groups.map(N),this._parents)},join:function(e,t,n){var i=this.enter(),r=this,o=this.exit();return"function"==typeof e?(i=e(i))&&(i=i.selection()):i=i.append(e+""),null!=t&&(r=t(r))&&(r=r.selection()),null==n?o.remove():n(o),i&&r?i.merge(r).order():r},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,r=n.length,o=i.length,s=Math.min(r,o),a=new Array(r),l=0;l<s;++l)for(var c,u=n[l],h=i[l],d=u.length,f=a[l]=new Array(d),p=0;p<d;++p)(c=u[p]||h[p])&&(f[p]=c);for(;l<r;++l)a[l]=n[l];return new Me(a,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i,r=e[t],o=r.length-1,s=r[o];--o>=0;)(i=r[o])&&(s&&4^i.compareDocumentPosition(s)&&s.parentNode.insertBefore(i,s),s=i);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=P);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var s,a=n[o],l=a.length,c=r[o]=new Array(l),u=0;u<l;++u)(s=a[u])&&(c[u]=s);c.sort(t)}return new Me(r,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r,o=t[n],s=0,a=o.length;s<a;++s)(r=o[s])&&e.call(r,r.__data__,s,o);return this},attr:function(e,t){var n=z(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==t?n.local?W:V:"function"==typeof t?n.local?q:$:n.local?U:H)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?Y:"function"==typeof t?X:G)(e,t,null==n?"":n)):Z(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?J:"function"==typeof t?ee:Q)(e,t)):this.node()[e]},classed:function(e,t){var n=te(e+"");if(arguments.length<2){for(var i=ne(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof t?le:t?se:ae)(n,t))},text:function(e){return arguments.length?this.each(null==e?ce:("function"==typeof e?he:ue)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?de:("function"==typeof e?pe:fe)(e)):this.node().innerHTML},raise:function(){return this.each(ge)},lower:function(){return this.each(me)},append:function(e){var t="function"==typeof e?e:be(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:be(e),i=null==t?_e:"function"==typeof t?t:_(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(we)},clone:function(e){return this.select(e?xe:Ce)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var i,r,o=ke(e+""),s=o.length;if(!(arguments.length<2)){for(a=t?De:Se,i=0;i<s;++i)this.each(a(o[i],t,n));return this}var a=this.node().__on;if(a)for(var l,c=0,u=a.length;c<u;++c)for(i=0,l=a[c];i<s;++i)if((r=o[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?Te:Le)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i,r=e[t],o=0,s=r.length;o<s;++o)(i=r[o])&&(yield i)}};const Ie=Ae;var Oe={value:()=>{}};function Fe(){for(var e,t=0,n=arguments.length,i={};t<n;++t){if(!(e=arguments[t]+"")||e in i||/[\s.]/.test(e))throw new Error("illegal type: "+e);i[e]=[]}return new Re(i)}function Re(e){this._=e}function Pe(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",i=e.indexOf(".");if(i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function Be(e,t){for(var n,i=0,r=e.length;i<r;++i)if((n=e[i]).name===t)return n.value}function je(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=Oe,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=n&&e.push({name:t,value:n}),e}Re.prototype=Fe.prototype={constructor:Re,on:function(e,t){var n,i=this._,r=Pe(e+"",i),o=-1,s=r.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<s;)if(n=(e=r[o]).type)i[n]=je(i[n],e.name,t);else if(null==t)for(n in i)i[n]=je(i[n],e.name,null);return this}for(;++o<s;)if((n=(e=r[o]).type)&&(n=Be(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Re(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(i=this._[e]).length;o<n;++o)i[o].value.apply(t,r)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)}};const ze=Fe;var Ve,We,He=0,Ue=0,$e=0,qe=0,Ke=0,Ye=0,Ge="object"==typeof performance&&performance.now?performance:Date,Xe="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ze(){return Ke||(Xe(Je),Ke=Ge.now()+Ye)}function Je(){Ke=0}function Qe(){this._call=this._time=this._next=null}function et(e,t,n){var i=new Qe;return i.restart(e,t,n),i}function tt(){Ke=(qe=Ge.now())+Ye,He=Ue=0;try{!function(){Ze(),++He;for(var e,t=Ve;t;)(e=Ke-t._time)>=0&&t._call.call(void 0,e),t=t._next;--He}()}finally{He=0,function(){for(var e,t,n=Ve,i=1/0;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Ve=t);We=e,it(i)}(),Ke=0}}function nt(){var e=Ge.now(),t=e-qe;t>1e3&&(Ye-=t,qe=e)}function it(e){He||(Ue&&(Ue=clearTimeout(Ue)),e-Ke>24?(e<1/0&&(Ue=setTimeout(tt,e-Ge.now()-Ye)),$e&&($e=clearInterval($e))):($e||(qe=Ge.now(),$e=setInterval(nt,1e3)),He=1,Xe(tt)))}function rt(e,t,n){var i=new Qe;return t=null==t?0:+t,i.restart((n=>{i.stop(),e(n+t)}),t,n),i}Qe.prototype=et.prototype={constructor:Qe,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?Ze():+n)+(null==t?0:+t),this._next||We===this||(We?We._next=this:Ve=this,We=this),this._call=e,this._time=n,it()},stop:function(){this._call&&(this._call=null,this._time=1/0,it())}};var ot=ze("start","end","cancel","interrupt"),st=[];function at(e,t,n,i,r,o){var s=e.__transition;if(s){if(n in s)return}else e.__transition={};!function(e,t,n){var i,r=e.__transition;function o(l){var c,u,h,d;if(1!==n.state)return a();for(c in r)if((d=r[c]).name===n.name){if(3===d.state)return rt(o);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete r[c]):+c<t&&(d.state=6,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete r[c])}if(rt((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(l))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,i=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(d=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++u]=d);i.length=u+1}}function s(t){for(var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(a),n.state=5,1),o=-1,s=i.length;++o<s;)i[o].call(e,r);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){for(var i in n.state=6,n.timer.stop(),delete r[t],r)return;delete e.__transition}r[t]=n,n.timer=et((function(e){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}),0,n.time)}(e,n,{name:t,index:i,group:r,on:ot,tween:st,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function lt(e,t){var n=ut(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function ct(e,t){var n=ut(e,t);if(n.state>3)throw new Error("too late; already running");return n}function ut(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function ht(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var dt,ft=180/Math.PI,pt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function gt(e,t,n,i,r,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*i)&&(n-=e*l,i-=t*l),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,l/=a),e*i<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(t,e)*ft,skewX:Math.atan(l)*ft,scaleX:s,scaleY:a}}function mt(e,t,n,i){function r(e){return e.length?e.pop()+" ":""}return function(o,s){var a,l,c,u,h=[],d=[];return o=e(o),s=e(s),function(e,i,r,o,s,a){if(e!==r||i!==o){var l=s.push("translate(",null,t,null,n);a.push({i:l-4,x:ht(e,r)},{i:l-2,x:ht(i,o)})}else(r||o)&&s.push("translate("+r+t+o+n)}(o.translateX,o.translateY,s.translateX,s.translateY,h,d),a=o.rotate,l=s.rotate,c=h,u=d,a!==l?(a-l>180?l+=360:l-a>180&&(a+=360),u.push({i:c.push(r(c)+"rotate(",null,i)-2,x:ht(a,l)})):l&&c.push(r(c)+"rotate("+l+i),function(e,t,n,o){e!==t?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:ht(e,t)}):t&&n.push(r(n)+"skewX("+t+i)}(o.skewX,s.skewX,h,d),function(e,t,n,i,o,s){if(e!==n||t!==i){var a=o.push(r(o)+"scale(",null,",",null,")");s.push({i:a-4,x:ht(e,n)},{i:a-2,x:ht(t,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,h,d),o=s=null,function(e){for(var t,n=-1,i=d.length;++n<i;)h[(t=d[n]).i]=t.x(e);return h.join("")}}}var vt=mt((function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?pt:gt(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),yt=mt((function(e){return null==e?pt:(dt||(dt=document.createElementNS("http://www.w3.org/2000/svg","g")),dt.setAttribute("transform",e),(e=dt.transform.baseVal.consolidate())?gt((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):pt)}),", ",")",")");function bt(e,t){var n,i;return function(){var r=ct(this,e),o=r.tween;if(o!==n)for(var s=0,a=(i=n=o).length;s<a;++s)if(i[s].name===t){(i=i.slice()).splice(s,1);break}r.tween=i}}function _t(e,t,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=ct(this,e),s=o.tween;if(s!==i){r=(i=s).slice();for(var a={name:t,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=a;break}l===c&&r.push(a)}o.tween=r}}function wt(e,t,n){var i=e._id;return e.each((function(){var e=ct(this,i);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return ut(e,i).value[t]}}function Ct(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function xt(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function kt(){}var St=.7,Dt=1/St,Et="\\s*([+-]?\\d+)\\s*",Lt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Tt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Nt=/^#([0-9a-f]{3,8})$/,Mt=new RegExp("^rgb\\("+[Et,Et,Et]+"\\)$"),At=new RegExp("^rgb\\("+[Tt,Tt,Tt]+"\\)$"),It=new RegExp("^rgba\\("+[Et,Et,Et,Lt]+"\\)$"),Ot=new RegExp("^rgba\\("+[Tt,Tt,Tt,Lt]+"\\)$"),Ft=new RegExp("^hsl\\("+[Lt,Tt,Tt]+"\\)$"),Rt=new RegExp("^hsla\\("+[Lt,Tt,Tt,Lt]+"\\)$"),Pt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Bt(){return this.rgb().formatHex()}function jt(){return this.rgb().formatRgb()}function zt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Nt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Vt(t):3===n?new $t(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Wt(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Wt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Mt.exec(e))?new $t(t[1],t[2],t[3],1):(t=At.exec(e))?new $t(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=It.exec(e))?Wt(t[1],t[2],t[3],t[4]):(t=Ot.exec(e))?Wt(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Ft.exec(e))?Gt(t[1],t[2]/100,t[3]/100,1):(t=Rt.exec(e))?Gt(t[1],t[2]/100,t[3]/100,t[4]):Pt.hasOwnProperty(e)?Vt(Pt[e]):"transparent"===e?new $t(NaN,NaN,NaN,0):null}function Vt(e){return new $t(e>>16&255,e>>8&255,255&e,1)}function Wt(e,t,n,i){return i<=0&&(e=t=n=NaN),new $t(e,t,n,i)}function Ht(e){return e instanceof kt||(e=zt(e)),e?new $t((e=e.rgb()).r,e.g,e.b,e.opacity):new $t}function Ut(e,t,n,i){return 1===arguments.length?Ht(e):new $t(e,t,n,null==i?1:i)}function $t(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}function qt(){return"#"+Yt(this.r)+Yt(this.g)+Yt(this.b)}function Kt(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function Yt(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Gt(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Zt(e,t,n,i)}function Xt(e){if(e instanceof Zt)return new Zt(e.h,e.s,e.l,e.opacity);if(e instanceof kt||(e=zt(e)),!e)return new Zt;if(e instanceof Zt)return e;var t=(e=e.rgb()).r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),o=Math.max(t,n,i),s=NaN,a=o-r,l=(o+r)/2;return a?(s=t===o?(n-i)/a+6*(n<i):n===o?(i-t)/a+2:(t-n)/a+4,a/=l<.5?o+r:2-o-r,s*=60):a=l>0&&l<1?0:s,new Zt(s,a,l,e.opacity)}function Zt(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function Jt(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}Ct(kt,zt,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Bt,formatHex:Bt,formatHsl:function(){return Xt(this).formatHsl()},formatRgb:jt,toString:jt}),Ct($t,Ut,xt(kt,{brighter:function(e){return e=null==e?Dt:Math.pow(Dt,e),new $t(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?St:Math.pow(St,e),new $t(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qt,formatHex:qt,formatRgb:Kt,toString:Kt})),Ct(Zt,(function(e,t,n,i){return 1===arguments.length?Xt(e):new Zt(e,t,n,null==i?1:i)}),xt(kt,{brighter:function(e){return e=null==e?Dt:Math.pow(Dt,e),new Zt(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?St:Math.pow(St,e),new Zt(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new $t(Jt(e>=240?e-240:e+120,r,i),Jt(e,r,i),Jt(e<120?e+240:e-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));const Qt=e=>()=>e;function en(e,t){var n,i,r=t-e;return r?(n=e,i=r,function(e){return n+e*i}):Qt(isNaN(e)?t:e)}const tn=function e(t){var n,i=1==(n=+(n=t))?en:function(e,t){return t-e?(i=e,r=t,o=n,i=Math.pow(i,o),r=Math.pow(r,o)-i,o=1/o,function(e){return Math.pow(i+e*r,o)}):Qt(isNaN(e)?t:e);var i,r,o};function r(e,t){var n=i((e=Ut(e)).r,(t=Ut(t)).r),r=i(e.g,t.g),o=i(e.b,t.b),s=en(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=r(t),e.b=o(t),e.opacity=s(t),e+""}}return r.gamma=e,r}(1);var nn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rn=new RegExp(nn.source,"g");function on(e,t){var n,i,r,o,s=nn.lastIndex=rn.lastIndex=0,a=-1,l=[],c=[];for(e+="",t+="";(n=nn.exec(e))&&(i=rn.exec(t));)(r=i.index)>s&&(r=t.slice(s,r),l[a]?l[a]+=r:l[++a]=r),(n=n[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:ht(n,i)})),s=rn.lastIndex;return s<t.length&&(r=t.slice(s),l[a]?l[a]+=r:l[++a]=r),l.length<2?c[0]?(o=c[0].x,function(e){return o(e)+""}):function(e){return function(){return e}}(t):(t=c.length,function(e){for(var n,i=0;i<t;++i)l[(n=c[i]).i]=n.x(e);return l.join("")})}function sn(e,t){var n;return("number"==typeof t?ht:t instanceof zt?tn:(n=zt(t))?(t=n,tn):on)(e,t)}function an(e){return function(){this.removeAttribute(e)}}function ln(e){return function(){this.removeAttributeNS(e.space,e.local)}}function cn(e,t,n){var i,r,o=n+"";return function(){var s=this.getAttribute(e);return s===o?null:s===i?r:r=t(i=s,n)}}function un(e,t,n){var i,r,o=n+"";return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===i?r:r=t(i=s,n)}}function hn(e,t,n){var i,r,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttribute(e))===(a=l+"")?null:s===i&&a===r?o:(r=a,o=t(i=s,l));this.removeAttribute(e)}}function dn(e,t,n){var i,r,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttributeNS(e.space,e.local))===(a=l+"")?null:s===i&&a===r?o:(r=a,o=t(i=s,l));this.removeAttributeNS(e.space,e.local)}}function fn(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function pn(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function gn(e,t){var n,i;function r(){var r=t.apply(this,arguments);return r!==i&&(n=(i=r)&&pn(e,r)),n}return r._value=t,r}function mn(e,t){var n,i;function r(){var r=t.apply(this,arguments);return r!==i&&(n=(i=r)&&fn(e,r)),n}return r._value=t,r}function vn(e,t){return function(){lt(this,e).delay=+t.apply(this,arguments)}}function yn(e,t){return t=+t,function(){lt(this,e).delay=t}}function bn(e,t){return function(){ct(this,e).duration=+t.apply(this,arguments)}}function _n(e,t){return t=+t,function(){ct(this,e).duration=t}}function wn(e,t){if("function"!=typeof t)throw new Error;return function(){ct(this,e).ease=t}}function Cn(e,t,n){var i,r,o=(t+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))?lt:ct;return function(){var s=o(this,e),a=s.on;a!==i&&(r=(i=a).copy()).on(t,n),s.on=r}}var xn=Ie.prototype.constructor;function kn(e){return function(){this.style.removeProperty(e)}}function Sn(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function Dn(e,t,n){var i,r;function o(){var o=t.apply(this,arguments);return o!==r&&(i=(r=o)&&Sn(e,o,n)),i}return o._value=t,o}function En(e){return function(t){this.textContent=e.call(this,t)}}function Ln(e){var t,n;function i(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&En(i)),t}return i._value=e,i}var Tn=0;function Nn(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function Mn(){return++Tn}var An=Ie.prototype;Nn.prototype={constructor:Nn,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=_(e));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var a,l,c=i[s],u=c.length,h=o[s]=new Array(u),d=0;d<u;++d)(a=c[d])&&(l=e.call(a,a.__data__,d,c))&&("__data__"in a&&(l.__data__=a.__data__),h[d]=l,at(h[d],t,n,d,h,ut(a,n)));return new Nn(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=x(e));for(var i=this._groups,r=i.length,o=[],s=[],a=0;a<r;++a)for(var l,c=i[a],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var d,f=e.call(l,l.__data__,h,c),p=ut(l,n),g=0,m=f.length;g<m;++g)(d=f[g])&&at(d,t,n,g,f,p);o.push(f),s.push(l)}return new Nn(o,s,t,n)},selectChild:An.selectChild,selectChildren:An.selectChildren,filter:function(e){"function"!=typeof e&&(e=k(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o,s=t[r],a=s.length,l=i[r]=[],c=0;c<a;++c)(o=s[c])&&e.call(o,o.__data__,c,s)&&l.push(o);return new Nn(i,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var l,c=t[a],u=n[a],h=c.length,d=s[a]=new Array(h),f=0;f<h;++f)(l=c[f]||u[f])&&(d[f]=l);for(;a<i;++a)s[a]=t[a];return new Nn(s,this._parents,this._name,this._id)},selection:function(){return new xn(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Mn(),i=this._groups,r=i.length,o=0;o<r;++o)for(var s,a=i[o],l=a.length,c=0;c<l;++c)if(s=a[c]){var u=ut(s,t);at(s,e,n,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Nn(i,this._parents,e,n)},call:An.call,nodes:An.nodes,node:An.node,size:An.size,empty:An.empty,each:An.each,on:function(e,t){var n=this._id;return arguments.length<2?ut(this.node(),n).on.on(e):this.each(Cn(n,e,t))},attr:function(e,t){var n=z(e),i="transform"===n?yt:sn;return this.attrTween(e,"function"==typeof t?(n.local?dn:hn)(n,i,wt(this,"attr."+e,t)):null==t?(n.local?ln:an)(n):(n.local?un:cn)(n,i,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var i=z(e);return this.tween(n,(i.local?gn:mn)(i,t))},style:function(e,t,n){var i,r,o,s,a,l="transform"==(e+="")?vt:sn;return null==t?this.styleTween(e,(i=e,r=l,function(){var e=Z(this,i),t=(this.style.removeProperty(i),Z(this,i));return e===t?null:e===o&&t===s?a:a=r(o=e,s=t)})).on("end.style."+e,kn(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var i,r,o;return function(){var s=Z(this,e),a=n(this),l=a+"";return null==a&&(this.style.removeProperty(e),l=a=Z(this,e)),s===l?null:s===i&&l===r?o:(r=l,o=t(i=s,a))}}(e,l,wt(this,"style."+e,t))).each(function(e,t){var n,i,r,o,s="style."+t,a="end."+s;return function(){var l=ct(this,e),c=l.on,u=null==l.value[s]?o||(o=kn(t)):void 0;c===n&&r===u||(i=(n=c).copy()).on(a,r=u),l.on=i}}(this._id,e)):this.styleTween(e,function(e,t,n){var i,r,o=n+"";return function(){var s=Z(this,e);return s===o?null:s===i?r:r=t(i=s,n)}}(e,l,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,Dn(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?(t=wt(this,"text",e),function(){var e=t(this);this.textContent=null==e?"":e}):function(e){return function(){this.textContent=e}}(null==e?"":e+""));var t},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,Ln(e))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i,r=ut(this.node(),n).tween,o=0,s=r.length;o<s;++o)if((i=r[o]).name===e)return i.value;return null}return this.each((null==t?bt:_t)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?vn:yn)(t,e)):ut(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?bn:_n)(t,e)):ut(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(wn(t,e)):ut(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each((t=this._id,n=e,function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;ct(this,t).ease=e}));var t,n},end:function(){var e,t,n=this,i=n._id,r=n.size();return new Promise((function(o,s){var a={value:s},l={value:function(){0==--r&&o()}};n.each((function(){var n=ct(this,i),r=n.on;r!==e&&((t=(e=r).copy())._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),n.on=t})),0===r&&o()}))},[Symbol.iterator]:An[Symbol.iterator]};var In={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function On(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Fn(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Rn(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Pn(){}Ie.prototype.interrupt=function(e){return this.each((function(){!function(e,t){var n,i,r,o=e.__transition,s=!0;if(o){for(r in t=null==t?null:t+"",o)(n=o[r]).name===t?(i=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[r]):s=!1;s&&delete e.__transition}}(this,e)}))},Ie.prototype.transition=function(e){var t,n;e instanceof Nn?(t=e._id,e=e._name):(t=Mn(),(n=In).time=Ze(),e=null==e?null:e+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var s,a=i[o],l=a.length,c=0;c<l;++c)(s=a[c])&&at(s,e,t,c,a,n||On(s,t));return new Nn(i,this._parents,e,t)};var Bn=.7,jn=1/Bn,zn="\\s*([+-]?\\d+)\\s*",Vn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Hn=/^#([0-9a-f]{3,8})$/,Un=new RegExp("^rgb\\("+[zn,zn,zn]+"\\)$"),$n=new RegExp("^rgb\\("+[Wn,Wn,Wn]+"\\)$"),qn=new RegExp("^rgba\\("+[zn,zn,zn,Vn]+"\\)$"),Kn=new RegExp("^rgba\\("+[Wn,Wn,Wn,Vn]+"\\)$"),Yn=new RegExp("^hsl\\("+[Vn,Wn,Wn]+"\\)$"),Gn=new RegExp("^hsla\\("+[Vn,Wn,Wn,Vn]+"\\)$"),Xn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Zn(){return this.rgb().formatHex()}function Jn(){return this.rgb().formatRgb()}function Qn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Hn.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?ei(t):3===n?new ri(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?ti(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?ti(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Un.exec(e))?new ri(t[1],t[2],t[3],1):(t=$n.exec(e))?new ri(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=qn.exec(e))?ti(t[1],t[2],t[3],t[4]):(t=Kn.exec(e))?ti(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Yn.exec(e))?li(t[1],t[2]/100,t[3]/100,1):(t=Gn.exec(e))?li(t[1],t[2]/100,t[3]/100,t[4]):Xn.hasOwnProperty(e)?ei(Xn[e]):"transparent"===e?new ri(NaN,NaN,NaN,0):null}function ei(e){return new ri(e>>16&255,e>>8&255,255&e,1)}function ti(e,t,n,i){return i<=0&&(e=t=n=NaN),new ri(e,t,n,i)}function ni(e){return e instanceof Pn||(e=Qn(e)),e?new ri((e=e.rgb()).r,e.g,e.b,e.opacity):new ri}function ii(e,t,n,i){return 1===arguments.length?ni(e):new ri(e,t,n,null==i?1:i)}function ri(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}function oi(){return"#"+ai(this.r)+ai(this.g)+ai(this.b)}function si(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function ai(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function li(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ui(e,t,n,i)}function ci(e){if(e instanceof ui)return new ui(e.h,e.s,e.l,e.opacity);if(e instanceof Pn||(e=Qn(e)),!e)return new ui;if(e instanceof ui)return e;var t=(e=e.rgb()).r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),o=Math.max(t,n,i),s=NaN,a=o-r,l=(o+r)/2;return a?(s=t===o?(n-i)/a+6*(n<i):n===o?(i-t)/a+2:(t-n)/a+4,a/=l<.5?o+r:2-o-r,s*=60):a=l>0&&l<1?0:s,new ui(s,a,l,e.opacity)}function ui(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function hi(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}Fn(Pn,Qn,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Zn,formatHex:Zn,formatHsl:function(){return ci(this).formatHsl()},formatRgb:Jn,toString:Jn}),Fn(ri,ii,Rn(Pn,{brighter:function(e){return e=null==e?jn:Math.pow(jn,e),new ri(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?Bn:Math.pow(Bn,e),new ri(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oi,formatHex:oi,formatRgb:si,toString:si})),Fn(ui,(function(e,t,n,i){return 1===arguments.length?ci(e):new ui(e,t,n,null==i?1:i)}),Rn(Pn,{brighter:function(e){return e=null==e?jn:Math.pow(jn,e),new ui(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?Bn:Math.pow(Bn,e),new ui(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new ri(hi(e>=240?e-240:e+120,r,i),hi(e,r,i),hi(e<120?e+240:e-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));const di=Math.PI/180,fi=180/Math.PI,pi=.96422,gi=.82521,mi=4/29,vi=6/29,yi=3*vi*vi;function bi(e){if(e instanceof _i)return new _i(e.l,e.a,e.b,e.opacity);if(e instanceof Ei)return Li(e);e instanceof ri||(e=ni(e));var t,n,i=ki(e.r),r=ki(e.g),o=ki(e.b),s=wi((.2225045*i+.7168786*r+.0606169*o)/1);return i===r&&r===o?t=n=s:(t=wi((.4360747*i+.3850649*r+.1430804*o)/pi),n=wi((.0139322*i+.0971045*r+.7141733*o)/gi)),new _i(116*s-16,500*(t-s),200*(s-n),e.opacity)}function _i(e,t,n,i){this.l=+e,this.a=+t,this.b=+n,this.opacity=+i}function wi(e){return e>.008856451679035631?Math.pow(e,1/3):e/yi+mi}function Ci(e){return e>vi?e*e*e:yi*(e-mi)}function xi(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function ki(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Si(e){if(e instanceof Ei)return new Ei(e.h,e.c,e.l,e.opacity);if(e instanceof _i||(e=bi(e)),0===e.a&&0===e.b)return new Ei(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*fi;return new Ei(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Di(e,t,n,i){return 1===arguments.length?Si(e):new Ei(e,t,n,null==i?1:i)}function Ei(e,t,n,i){this.h=+e,this.c=+t,this.l=+n,this.opacity=+i}function Li(e){if(isNaN(e.h))return new _i(e.l,0,0,e.opacity);var t=e.h*di;return new _i(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Fn(_i,(function(e,t,n,i){return 1===arguments.length?bi(e):new _i(e,t,n,null==i?1:i)}),Rn(Pn,{brighter:function(e){return new _i(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new _i(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new ri(xi(3.1338561*(t=pi*Ci(t))-1.6168667*(e=1*Ci(e))-.4906146*(n=gi*Ci(n))),xi(-.9787684*t+1.9161415*e+.033454*n),xi(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),Fn(Ei,Di,Rn(Pn,{brighter:function(e){return new Ei(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new Ei(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return Li(this).rgb()}}));const Ti=e=>()=>e;function Ni(e,t){return function(n){return e+n*t}}function Mi(e,t){var n=t-e;return n?Ni(e,n):Ti(isNaN(e)?t:e)}const Ai=(Ii=function(e,t){var n=t-e;return n?Ni(e,n>180||n<-180?n-360*Math.round(n/360):n):Ti(isNaN(e)?t:e)},function(e,t){var n=Ii((e=Di(e)).h,(t=Di(t)).h),i=Mi(e.c,t.c),r=Mi(e.l,t.l),o=Mi(e.opacity,t.opacity);return function(t){return e.h=n(t),e.c=i(t),e.l=r(t),e.opacity=o(t),e+""}});var Ii,Oi=Math.sqrt(50),Fi=Math.sqrt(10),Ri=Math.sqrt(2);function Pi(e,t,n){var i=(t-e)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=Oi?10:o>=Fi?5:o>=Ri?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=Oi?10:o>=Fi?5:o>=Ri?2:1)}function Bi(e,t,n){var i=Math.abs(t-e)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=Oi?r*=10:o>=Fi?r*=5:o>=Ri&&(r*=2),t<e?-r:r}function ji(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function zi(e){let t=e,n=e;function i(e,t,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){const o=i+r>>>1;n(e[o],t)<0?i=o+1:r=o}return i}return 1===e.length&&(t=(t,n)=>e(t)-n,r=e,n=(e,t)=>ji(r(e),t)),{left:i,center:function(e,n,r,o){null==r&&(r=0),null==o&&(o=e.length);const s=i(e,n,r,o-1);return s>r&&t(e[s-1],n)>-t(e[s],n)?s-1:s},right:function(e,t,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){const o=i+r>>>1;n(e[o],t)>0?r=o:i=o+1}return i}};var r}const Vi=zi(ji).right,Wi=(zi((function(e){return null===e?NaN:+e})).center,Vi);function Hi(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ui(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function $i(){}var qi=.7,Ki=1.4285714285714286,Yi="\\s*([+-]?\\d+)\\s*",Gi="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xi="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Zi=/^#([0-9a-f]{3,8})$/,Ji=new RegExp("^rgb\\("+[Yi,Yi,Yi]+"\\)$"),Qi=new RegExp("^rgb\\("+[Xi,Xi,Xi]+"\\)$"),er=new RegExp("^rgba\\("+[Yi,Yi,Yi,Gi]+"\\)$"),tr=new RegExp("^rgba\\("+[Xi,Xi,Xi,Gi]+"\\)$"),nr=new RegExp("^hsl\\("+[Gi,Xi,Xi]+"\\)$"),ir=new RegExp("^hsla\\("+[Gi,Xi,Xi,Gi]+"\\)$"),rr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function or(){return this.rgb().formatHex()}function sr(){return this.rgb().formatRgb()}function ar(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Zi.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?lr(t):3===n?new dr(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?cr(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?cr(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Ji.exec(e))?new dr(t[1],t[2],t[3],1):(t=Qi.exec(e))?new dr(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=er.exec(e))?cr(t[1],t[2],t[3],t[4]):(t=tr.exec(e))?cr(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=nr.exec(e))?mr(t[1],t[2]/100,t[3]/100,1):(t=ir.exec(e))?mr(t[1],t[2]/100,t[3]/100,t[4]):rr.hasOwnProperty(e)?lr(rr[e]):"transparent"===e?new dr(NaN,NaN,NaN,0):null}function lr(e){return new dr(e>>16&255,e>>8&255,255&e,1)}function cr(e,t,n,i){return i<=0&&(e=t=n=NaN),new dr(e,t,n,i)}function ur(e){return e instanceof $i||(e=ar(e)),e?new dr((e=e.rgb()).r,e.g,e.b,e.opacity):new dr}function hr(e,t,n,i){return 1===arguments.length?ur(e):new dr(e,t,n,null==i?1:i)}function dr(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}function fr(){return"#"+gr(this.r)+gr(this.g)+gr(this.b)}function pr(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function gr(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function mr(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new yr(e,t,n,i)}function vr(e){if(e instanceof yr)return new yr(e.h,e.s,e.l,e.opacity);if(e instanceof $i||(e=ar(e)),!e)return new yr;if(e instanceof yr)return e;var t=(e=e.rgb()).r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),o=Math.max(t,n,i),s=NaN,a=o-r,l=(o+r)/2;return a?(s=t===o?(n-i)/a+6*(n<i):n===o?(i-t)/a+2:(t-n)/a+4,a/=l<.5?o+r:2-o-r,s*=60):a=l>0&&l<1?0:s,new yr(s,a,l,e.opacity)}function yr(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function br(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}Hi($i,ar,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:or,formatHex:or,formatHsl:function(){return vr(this).formatHsl()},formatRgb:sr,toString:sr}),Hi(dr,hr,Ui($i,{brighter:function(e){return e=null==e?Ki:Math.pow(Ki,e),new dr(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?qi:Math.pow(qi,e),new dr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fr,formatHex:fr,formatRgb:pr,toString:pr})),Hi(yr,(function(e,t,n,i){return 1===arguments.length?vr(e):new yr(e,t,n,null==i?1:i)}),Ui($i,{brighter:function(e){return e=null==e?Ki:Math.pow(Ki,e),new yr(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?qi:Math.pow(qi,e),new yr(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new dr(br(e>=240?e-240:e+120,r,i),br(e,r,i),br(e<120?e+240:e-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));const _r=e=>()=>e;function wr(e,t){var n,i,r=t-e;return r?(n=e,i=r,function(e){return n+e*i}):_r(isNaN(e)?t:e)}const Cr=function e(t){var n,i=1==(n=+(n=t))?wr:function(e,t){return t-e?(i=e,r=t,o=n,i=Math.pow(i,o),r=Math.pow(r,o)-i,o=1/o,function(e){return Math.pow(i+e*r,o)}):_r(isNaN(e)?t:e);var i,r,o};function r(e,t){var n=i((e=hr(e)).r,(t=hr(t)).r),r=i(e.g,t.g),o=i(e.b,t.b),s=wr(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=r(t),e.b=o(t),e.opacity=s(t),e+""}}return r.gamma=e,r}(1);function xr(e,t){var n,i=t?t.length:0,r=e?Math.min(i,e.length):0,o=new Array(r),s=new Array(i);for(n=0;n<r;++n)o[n]=Mr(e[n],t[n]);for(;n<i;++n)s[n]=t[n];return function(e){for(n=0;n<r;++n)s[n]=o[n](e);return s}}function kr(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function Sr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Dr(e,t){var n,i={},r={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?i[n]=Mr(e[n],t[n]):r[n]=t[n];return function(e){for(n in i)r[n]=i[n](e);return r}}var Er=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lr=new RegExp(Er.source,"g");function Tr(e,t){var n,i,r,o,s=Er.lastIndex=Lr.lastIndex=0,a=-1,l=[],c=[];for(e+="",t+="";(n=Er.exec(e))&&(i=Lr.exec(t));)(r=i.index)>s&&(r=t.slice(s,r),l[a]?l[a]+=r:l[++a]=r),(n=n[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:Sr(n,i)})),s=Lr.lastIndex;return s<t.length&&(r=t.slice(s),l[a]?l[a]+=r:l[++a]=r),l.length<2?c[0]?(o=c[0].x,function(e){return o(e)+""}):function(e){return function(){return e}}(t):(t=c.length,function(e){for(var n,i=0;i<t;++i)l[(n=c[i]).i]=n.x(e);return l.join("")})}function Nr(e,t){t||(t=[]);var n,i=e?Math.min(t.length,e.length):0,r=t.slice();return function(o){for(n=0;n<i;++n)r[n]=e[n]*(1-o)+t[n]*o;return r}}function Mr(e,t){var n,i,r=typeof t;return null==t||"boolean"===r?_r(t):("number"===r?Sr:"string"===r?(n=ar(t))?(t=n,Cr):Tr:t instanceof ar?Cr:t instanceof Date?kr:(i=t,!ArrayBuffer.isView(i)||i instanceof DataView?Array.isArray(t)?xr:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Dr:Sr:Nr))(e,t)}function Ar(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Ir(e){return+e}var Or=[0,1];function Fr(e){return e}function Rr(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function Pr(e,t,n){var i=e[0],r=e[1],o=t[0],s=t[1];return r<i?(i=Rr(r,i),o=n(s,o)):(i=Rr(i,r),o=n(o,s)),function(e){return o(i(e))}}function Br(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),o=new Array(i),s=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<i;)r[s]=Rr(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(t){var n=Wi(e,t,1,i)-1;return o[n](r[n](t))}}function jr(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function zr(){return function(){var e,t,n,i,r,o,s=Or,a=Or,l=Mr,c=Fr;function u(){var e,t,n,l=Math.min(s.length,a.length);return c!==Fr&&(e=s[0],t=s[l-1],e>t&&(n=e,e=t,t=n),c=function(n){return Math.max(e,Math.min(t,n))}),i=l>2?Br:Pr,r=o=null,h}function h(t){return null==t||isNaN(t=+t)?n:(r||(r=i(s.map(e),a,l)))(e(c(t)))}return h.invert=function(n){return c(t((o||(o=i(a,s.map(e),Sr)))(n)))},h.domain=function(e){return arguments.length?(s=Array.from(e,Ir),u()):s.slice()},h.range=function(e){return arguments.length?(a=Array.from(e),u()):a.slice()},h.rangeRound=function(e){return a=Array.from(e),l=Ar,u()},h.clamp=function(e){return arguments.length?(c=!!e||Fr,u()):c!==Fr},h.interpolate=function(e){return arguments.length?(l=e,u()):l},h.unknown=function(e){return arguments.length?(n=e,h):n},function(n,i){return e=n,t=i,u()}}()(Fr,Fr)}function Vr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}var Wr,Hr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ur(e){if(!(t=Hr.exec(e)))throw new Error("invalid format: "+e);var t;return new $r({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function $r(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function qr(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function Kr(e){return(e=qr(Math.abs(e)))?e[1]:NaN}function Yr(e,t){var n=qr(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}Ur.prototype=$r.prototype,$r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Gr={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Yr(100*e,t),r:Yr,s:function(e,t){var n=qr(e,t);if(!n)return e+"";var i=n[0],r=n[1],o=r-(Wr=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,s=i.length;return o===s?i:o>s?i+new Array(o-s+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+qr(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Xr(e){return e}var Zr,Jr,Qr,eo=Array.prototype.map,to=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function no(e){var t=e.domain;return e.ticks=function(e){var n=t();return function(e,t,n){var i,r,o,s,a=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((i=t<e)&&(r=e,e=t,t=r),0===(s=Pi(e,t,n))||!isFinite(s))return[];if(s>0){let n=Math.round(e/s),i=Math.round(t/s);for(n*s<e&&++n,i*s>t&&--i,o=new Array(r=i-n+1);++a<r;)o[a]=(n+a)*s}else{s=-s;let n=Math.round(e*s),i=Math.round(t*s);for(n/s<e&&++n,i/s>t&&--i,o=new Array(r=i-n+1);++a<r;)o[a]=(n+a)/s}return i&&o.reverse(),o}(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var i=t();return function(e,t,n,i){var r,o,s,a=Bi(e,t,n);switch((i=Ur(null==i?",f":i)).type){case"s":var l=Math.max(Math.abs(e),Math.abs(t));return null!=i.precision||isNaN((o=a,s=l,r=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Kr(s)/3)))-Kr(Math.abs(o)))))||(i.precision=r),Qr(i,l);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Kr(t)-Kr(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(e){return Math.max(0,-Kr(Math.abs(e)))}(a))||(i.precision=r-2*("%"===i.type))}return Jr(i)}(i[0],i[i.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var i,r,o=t(),s=0,a=o.length-1,l=o[s],c=o[a],u=10;for(c<l&&(r=l,l=c,c=r,r=s,s=a,a=r);u-- >0;){if((r=Pi(l,c,n))===i)return o[s]=l,o[a]=c,t(o);if(r>0)l=Math.floor(l/r)*r,c=Math.ceil(c/r)*r;else{if(!(r<0))break;l=Math.ceil(l*r)/r,c=Math.floor(c*r)/r}i=r}return e},e}function io(){var e=zr();return e.copy=function(){return jr(e,io())},Vr.apply(e,arguments),no(e)}Zr=function(e){var t,n,i,r=void 0===e.grouping||void 0===e.thousands?Xr:(t=eo.call(e.grouping,Number),n=e.thousands+"",function(e,i){for(var r=e.length,o=[],s=0,a=t[0],l=0;r>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),o.push(e.substring(r-=a,r+a)),!((l+=a+1)>i));)a=t[s=(s+1)%t.length];return o.reverse().join(n)}),o=void 0===e.currency?"":e.currency[0]+"",s=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",l=void 0===e.numerals?Xr:(i=eo.call(e.numerals,String),function(e){return e.replace(/[0-9]/g,(function(e){return i[+e]}))}),c=void 0===e.percent?"%":e.percent+"",u=void 0===e.minus?"":e.minus+"",h=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=Ur(e)).fill,n=e.align,i=e.sign,d=e.symbol,f=e.zero,p=e.width,g=e.comma,m=e.precision,v=e.trim,y=e.type;"n"===y?(g=!0,y="g"):Gr[y]||(void 0===m&&(m=12),v=!0,y="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===d?o:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",_="$"===d?s:/[%p]/.test(y)?c:"",w=Gr[y],C=/[defgprs%]/.test(y);function x(e){var o,s,c,d=b,x=_;if("c"===y)x=w(e)+x,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?h:w(Math.abs(e),m),v&&(e=function(e){e:for(var t,n=e.length,i=1,r=-1;i<n;++i)switch(e[i]){case".":r=t=i;break;case"0":0===r&&(r=i),t=i;break;default:if(!+e[i])break e;r>0&&(r=0)}return r>0?e.slice(0,r)+e.slice(t+1):e}(e)),k&&0==+e&&"+"!==i&&(k=!1),d=(k?"("===i?i:u:"-"===i||"("===i?"":i)+d,x=("s"===y?to[8+Wr/3]:"")+x+(k&&"("===i?")":""),C)for(o=-1,s=e.length;++o<s;)if(48>(c=e.charCodeAt(o))||c>57){x=(46===c?a+e.slice(o+1):e.slice(o))+x,e=e.slice(0,o);break}}g&&!f&&(e=r(e,1/0));var S=d.length+e.length+x.length,D=S<p?new Array(p-S+1).join(t):"";switch(g&&f&&(e=r(D+e,D.length?p-x.length:1/0),D=""),n){case"<":e=d+e+x+D;break;case"=":e=d+D+e+x;break;case"^":e=D.slice(0,S=D.length>>1)+d+e+x+D.slice(S);break;default:e=D+d+e+x}return l(e)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),x.toString=function(){return e+""},x}return{format:d,formatPrefix:function(e,t){var n=d(((e=Ur(e)).type="f",e)),i=3*Math.max(-8,Math.min(8,Math.floor(Kr(t)/3))),r=Math.pow(10,-i),o=to[8+i/3];return function(e){return n(r*e)+o}}}}({thousands:",",grouping:[3],currency:["$",""]}),Jr=Zr.format,Qr=Zr.formatPrefix;class ro extends Map{constructor(e,t=so){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(oo(this,e))}has(e){return super.has(oo(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},n){const i=t(n);return e.has(i)&&(n=e.get(n),e.delete(i)),n}(this,e))}}function oo({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):n}function so(e){return null!==e&&"object"==typeof e?e.valueOf():e}const ao=Symbol("implicit");function lo(){var e=new ro,t=[],n=[],i=ao;function r(r){let o=e.get(r);if(void 0===o){if(i!==ao)return i;e.set(r,o=t.push(r)-1)}return n[o%n.length]}return r.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new ro;for(const i of n)e.has(i)||e.set(i,t.push(i)-1);return r},r.range=function(e){return arguments.length?(n=Array.from(e),r):n.slice()},r.unknown=function(e){return arguments.length?(i=e,r):i},r.copy=function(){return lo(t,n).unknown(i)},Vr.apply(r,arguments),r}const co=1e3,uo=6e4,ho=36e5,fo=864e5,po=6048e5,go=31536e6;var mo=new Date,vo=new Date;function yo(e,t,n,i){function r(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return r.floor=function(t){return e(t=new Date(+t)),t},r.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},r.round=function(e){var t=r(e),n=r.ceil(e);return e-t<n-e?t:n},r.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},r.range=function(n,i,o){var s,a=[];if(n=r.ceil(n),o=null==o?1:Math.floor(o),!(n<i&&o>0))return a;do{a.push(s=new Date(+n)),t(n,o),e(n)}while(s<n&&n<i);return a},r.filter=function(n){return yo((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,i){if(e>=e)if(i<0)for(;++i<=0;)for(;t(e,-1),!n(e););else for(;--i>=0;)for(;t(e,1),!n(e););}))},n&&(r.count=function(t,i){return mo.setTime(+t),vo.setTime(+i),e(mo),e(vo),Math.floor(n(mo,vo))},r.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?r.filter(i?function(t){return i(t)%e==0}:function(t){return r.count(0,t)%e==0}):r:null}),r}var bo=yo((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));bo.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?yo((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):bo:null};const _o=bo;var wo=yo((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*co)}),(function(e,t){return(t-e)/co}),(function(e){return e.getUTCSeconds()}));const Co=wo;var xo=yo((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*co)}),(function(e,t){e.setTime(+e+t*uo)}),(function(e,t){return(t-e)/uo}),(function(e){return e.getMinutes()}));const ko=xo;var So=yo((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*co-e.getMinutes()*uo)}),(function(e,t){e.setTime(+e+t*ho)}),(function(e,t){return(t-e)/ho}),(function(e){return e.getHours()}));const Do=So;var Eo=yo((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*uo)/fo),(e=>e.getDate()-1));const Lo=Eo;function To(e){return yo((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*uo)/po}))}var No=To(0),Mo=To(1);To(2),To(3);var Ao=To(4);To(5),To(6);var Io=yo((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}));const Oo=Io;var Fo=yo((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));Fo.every=function(e){return isFinite(e=Math.floor(e))&&e>0?yo((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};const Ro=Fo;yo((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*uo)}),(function(e,t){return(t-e)/uo}),(function(e){return e.getUTCMinutes()})),yo((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*ho)}),(function(e,t){return(t-e)/ho}),(function(e){return e.getUTCHours()}));var Po=yo((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/fo}),(function(e){return e.getUTCDate()-1}));const Bo=Po;function jo(e){return yo((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/po}))}var zo=jo(0),Vo=jo(1);jo(2),jo(3);var Wo=jo(4);jo(5),jo(6),yo((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}));var Ho=yo((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));Ho.every=function(e){return isFinite(e=Math.floor(e))&&e>0?yo((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};const Uo=Ho;const[$o,qo]=function(e,t,n,i,r,o){const s=[[Co,1,co],[Co,5,5e3],[Co,15,15e3],[Co,30,3e4],[o,1,uo],[o,5,3e5],[o,15,9e5],[o,30,18e5],[r,1,ho],[r,3,108e5],[r,6,216e5],[r,12,432e5],[i,1,fo],[i,2,1728e5],[n,1,po],[t,1,2592e6],[t,3,7776e6],[e,1,go]];function a(t,n,i){const r=Math.abs(n-t)/i,o=zi((([,,e])=>e)).right(s,r);if(o===s.length)return e.every(Bi(t/go,n/go,i));if(0===o)return _o.every(Math.max(Bi(t,n,i),1));const[a,l]=s[r/s[o-1][2]<s[o][2]/r?o-1:o];return a.every(l)}return[function(e,t,n){const i=t<e;i&&([e,t]=[t,e]);const r=n&&"function"==typeof n.range?n:a(e,t,n),o=r?r.range(e,+t+1):[];return i?o.reverse():o},a]}(Ro,Oo,No,Lo,Do,ko);function Ko(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Yo(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Go(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var Xo,Zo,Jo={"-":"",_:" ",0:"0"},Qo=/^\s*\d+/,es=/^%/,ts=/[\\^$*+?|[\]().{}]/g;function ns(e,t,n){var i=e<0?"-":"",r=(i?-e:e)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(t)+r:r)}function is(e){return e.replace(ts,"\\$&")}function rs(e){return new RegExp("^(?:"+e.map(is).join("|")+")","i")}function os(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function ss(e,t,n){var i=Qo.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function as(e,t,n){var i=Qo.exec(t.slice(n,n+1));return i?(e.u=+i[0],n+i[0].length):-1}function ls(e,t,n){var i=Qo.exec(t.slice(n,n+2));return i?(e.U=+i[0],n+i[0].length):-1}function cs(e,t,n){var i=Qo.exec(t.slice(n,n+2));return i?(e.V=+i[0],n+i[0].length):-1}function us(e,t,n){var i=Qo.exec(t.slice(n,n+2));return i?(e.W=+i[0],n+i[0].length):-1}function hs(e,t,n){var i=Qo.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function ds(e,t,n){var i=Qo.exec(t.slice(n,n+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function fs(e,t,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function ps(e,t,n){var i=Qo.exec(t.slice(n,n+1));return i?(e.q=3*i[0]-3,n+i[0].length):-1}function gs(e,t,n){var i=Qo.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function ms(e,t,n){var i=Qo.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function vs(e,t,n){var i=Qo.exec(t.slice(n,n+3));return i?(e.m=0,e.d=+i[0],n+i[0].length):-1}function ys(e,t,n){var i=Qo.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function bs(e,t,n){var i=Qo.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function _s(e,t,n){var i=Qo.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function ws(e,t,n){var i=Qo.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function Cs(e,t,n){var i=Qo.exec(t.slice(n,n+6));return i?(e.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function xs(e,t,n){var i=es.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function ks(e,t,n){var i=Qo.exec(t.slice(n));return i?(e.Q=+i[0],n+i[0].length):-1}function Ss(e,t,n){var i=Qo.exec(t.slice(n));return i?(e.s=+i[0],n+i[0].length):-1}function Ds(e,t){return ns(e.getDate(),t,2)}function Es(e,t){return ns(e.getHours(),t,2)}function Ls(e,t){return ns(e.getHours()%12||12,t,2)}function Ts(e,t){return ns(1+Lo.count(Ro(e),e),t,3)}function Ns(e,t){return ns(e.getMilliseconds(),t,3)}function Ms(e,t){return Ns(e,t)+"000"}function As(e,t){return ns(e.getMonth()+1,t,2)}function Is(e,t){return ns(e.getMinutes(),t,2)}function Os(e,t){return ns(e.getSeconds(),t,2)}function Fs(e){var t=e.getDay();return 0===t?7:t}function Rs(e,t){return ns(No.count(Ro(e)-1,e),t,2)}function Ps(e){var t=e.getDay();return t>=4||0===t?Ao(e):Ao.ceil(e)}function Bs(e,t){return e=Ps(e),ns(Ao.count(Ro(e),e)+(4===Ro(e).getDay()),t,2)}function js(e){return e.getDay()}function zs(e,t){return ns(Mo.count(Ro(e)-1,e),t,2)}function Vs(e,t){return ns(e.getFullYear()%100,t,2)}function Ws(e,t){return ns((e=Ps(e)).getFullYear()%100,t,2)}function Hs(e,t){return ns(e.getFullYear()%1e4,t,4)}function Us(e,t){var n=e.getDay();return ns((e=n>=4||0===n?Ao(e):Ao.ceil(e)).getFullYear()%1e4,t,4)}function $s(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ns(t/60|0,"0",2)+ns(t%60,"0",2)}function qs(e,t){return ns(e.getUTCDate(),t,2)}function Ks(e,t){return ns(e.getUTCHours(),t,2)}function Ys(e,t){return ns(e.getUTCHours()%12||12,t,2)}function Gs(e,t){return ns(1+Bo.count(Uo(e),e),t,3)}function Xs(e,t){return ns(e.getUTCMilliseconds(),t,3)}function Zs(e,t){return Xs(e,t)+"000"}function Js(e,t){return ns(e.getUTCMonth()+1,t,2)}function Qs(e,t){return ns(e.getUTCMinutes(),t,2)}function ea(e,t){return ns(e.getUTCSeconds(),t,2)}function ta(e){var t=e.getUTCDay();return 0===t?7:t}function na(e,t){return ns(zo.count(Uo(e)-1,e),t,2)}function ia(e){var t=e.getUTCDay();return t>=4||0===t?Wo(e):Wo.ceil(e)}function ra(e,t){return e=ia(e),ns(Wo.count(Uo(e),e)+(4===Uo(e).getUTCDay()),t,2)}function oa(e){return e.getUTCDay()}function sa(e,t){return ns(Vo.count(Uo(e)-1,e),t,2)}function aa(e,t){return ns(e.getUTCFullYear()%100,t,2)}function la(e,t){return ns((e=ia(e)).getUTCFullYear()%100,t,2)}function ca(e,t){return ns(e.getUTCFullYear()%1e4,t,4)}function ua(e,t){var n=e.getUTCDay();return ns((e=n>=4||0===n?Wo(e):Wo.ceil(e)).getUTCFullYear()%1e4,t,4)}function ha(){return"+0000"}function da(){return"%"}function fa(e){return+e}function pa(e){return Math.floor(+e/1e3)}function ga(e){return new Date(e)}function ma(e){return e instanceof Date?+e:+new Date(+e)}function va(e,t,n,i,r,o,s,a,l,c){var u=zr(),h=u.invert,d=u.domain,f=c(".%L"),p=c(":%S"),g=c("%I:%M"),m=c("%I %p"),v=c("%a %d"),y=c("%b %d"),b=c("%B"),_=c("%Y");function w(e){return(l(e)<e?f:a(e)<e?p:s(e)<e?g:o(e)<e?m:i(e)<e?r(e)<e?v:y:n(e)<e?b:_)(e)}return u.invert=function(e){return new Date(h(e))},u.domain=function(e){return arguments.length?d(Array.from(e,ma)):d().map(ga)},u.ticks=function(t){var n=d();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var n,i,r,o,s,a,l,c=d();return e&&"function"==typeof e.range||(e=t(c[0],c[c.length-1],null==e?10:e)),e?d((i=e,o=0,s=(n=(n=c).slice()).length-1,a=n[o],(l=n[s])<a&&(r=o,o=s,s=r,r=a,a=l,l=r),n[o]=i.floor(a),n[s]=i.ceil(l),n)):u},u.copy=function(){return jr(u,va(e,t,n,i,r,o,s,a,l,c))},u}function ya(){}function ba(e){return null==e?ya:function(){return this.querySelector(e)}}function _a(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}function wa(){return[]}function Ca(e){return null==e?wa:function(){return this.querySelectorAll(e)}}function xa(e){return function(){return this.matches(e)}}function ka(e){return function(t){return t.matches(e)}}Xo=function(e){var t=e.dateTime,n=e.date,i=e.time,r=e.periods,o=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,c=rs(r),u=os(r),h=rs(o),d=os(o),f=rs(s),p=os(s),g=rs(a),m=os(a),v=rs(l),y=os(l),b={a:function(e){return s[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return a[e.getMonth()]},c:null,d:Ds,e:Ds,f:Ms,g:Ws,G:Us,H:Es,I:Ls,j:Ts,L:Ns,m:As,M:Is,p:function(e){return r[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:fa,s:pa,S:Os,u:Fs,U:Rs,V:Bs,w:js,W:zs,x:null,X:null,y:Vs,Y:Hs,Z:$s,"%":da},_={a:function(e){return s[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return a[e.getUTCMonth()]},c:null,d:qs,e:qs,f:Zs,g:la,G:ua,H:Ks,I:Ys,j:Gs,L:Xs,m:Js,M:Qs,p:function(e){return r[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:fa,s:pa,S:ea,u:ta,U:na,V:ra,w:oa,W:sa,x:null,X:null,y:aa,Y:ca,Z:ha,"%":da},w={a:function(e,t,n){var i=f.exec(t.slice(n));return i?(e.w=p.get(i[0].toLowerCase()),n+i[0].length):-1},A:function(e,t,n){var i=h.exec(t.slice(n));return i?(e.w=d.get(i[0].toLowerCase()),n+i[0].length):-1},b:function(e,t,n){var i=v.exec(t.slice(n));return i?(e.m=y.get(i[0].toLowerCase()),n+i[0].length):-1},B:function(e,t,n){var i=g.exec(t.slice(n));return i?(e.m=m.get(i[0].toLowerCase()),n+i[0].length):-1},c:function(e,n,i){return k(e,t,n,i)},d:ms,e:ms,f:Cs,g:ds,G:hs,H:ys,I:ys,j:vs,L:ws,m:gs,M:bs,p:function(e,t,n){var i=c.exec(t.slice(n));return i?(e.p=u.get(i[0].toLowerCase()),n+i[0].length):-1},q:ps,Q:ks,s:Ss,S:_s,u:as,U:ls,V:cs,w:ss,W:us,x:function(e,t,i){return k(e,n,t,i)},X:function(e,t,n){return k(e,i,t,n)},y:ds,Y:hs,Z:fs,"%":xs};function C(e,t){return function(n){var i,r,o,s=[],a=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++a<c;)37===e.charCodeAt(a)&&(s.push(e.slice(l,a)),null!=(r=Jo[i=e.charAt(++a)])?i=e.charAt(++a):r="e"===i?" ":"0",(o=t[i])&&(i=o(n,r)),s.push(i),l=a+1);return s.push(e.slice(l,a)),s.join("")}}function x(e,t){return function(n){var i,r,o=Go(1900,void 0,1);if(k(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(r=(i=Yo(Go(o.y,0,1))).getUTCDay(),i=r>4||0===r?Vo.ceil(i):Vo(i),i=Bo.offset(i,7*(o.V-1)),o.y=i.getUTCFullYear(),o.m=i.getUTCMonth(),o.d=i.getUTCDate()+(o.w+6)%7):(r=(i=Ko(Go(o.y,0,1))).getDay(),i=r>4||0===r?Mo.ceil(i):Mo(i),i=Lo.offset(i,7*(o.V-1)),o.y=i.getFullYear(),o.m=i.getMonth(),o.d=i.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),r="Z"in o?Yo(Go(o.y,0,1)).getUTCDay():Ko(Go(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(r+5)%7:o.w+7*o.U-(r+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Yo(o)):Ko(o)}}function k(e,t,n,i){for(var r,o,s=0,a=t.length,l=n.length;s<a;){if(i>=l)return-1;if(37===(r=t.charCodeAt(s++))){if(r=t.charAt(s++),!(o=w[r in Jo?t.charAt(s++):r])||(i=o(e,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}return b.x=C(n,b),b.X=C(i,b),b.c=C(t,b),_.x=C(n,_),_.X=C(i,_),_.c=C(t,_),{format:function(e){var t=C(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=x(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=C(e+="",_);return t.toString=function(){return e},t},utcParse:function(e){var t=x(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Zo=Xo.format,Xo.parse,Xo.utcFormat,Xo.utcParse;var Sa=Array.prototype.find;function Da(){return this.firstElementChild}var Ea=Array.prototype.filter;function La(){return Array.from(this.children)}function Ta(e){return new Array(e.length)}function Na(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function Ma(e){return function(){return e}}function Aa(e,t,n,i,r,o){for(var s,a=0,l=t.length,c=o.length;a<c;++a)(s=t[a])?(s.__data__=o[a],i[a]=s):n[a]=new Na(e,o[a]);for(;a<l;++a)(s=t[a])&&(r[a]=s)}function Ia(e,t,n,i,r,o,s){var a,l,c,u=new Map,h=t.length,d=o.length,f=new Array(h);for(a=0;a<h;++a)(l=t[a])&&(f[a]=c=s.call(l,l.__data__,a,t)+"",u.has(c)?r[a]=l:u.set(c,l));for(a=0;a<d;++a)c=s.call(e,o[a],a,o)+"",(l=u.get(c))?(i[a]=l,l.__data__=o[a],u.delete(c)):n[a]=new Na(e,o[a]);for(a=0;a<h;++a)(l=t[a])&&u.get(f[a])===l&&(r[a]=l)}function Oa(e){return e.__data__}function Fa(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Ra(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}Na.prototype={constructor:Na,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var Pa="http://www.w3.org/1999/xhtml";const Ba={svg:"http://www.w3.org/2000/svg",xhtml:Pa,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ja(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Ba.hasOwnProperty(t)?{space:Ba[t],local:e}:e}function za(e){return function(){this.removeAttribute(e)}}function Va(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Wa(e,t){return function(){this.setAttribute(e,t)}}function Ha(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Ua(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function $a(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function qa(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Ka(e){return function(){this.style.removeProperty(e)}}function Ya(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Ga(e,t,n){return function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function Xa(e,t){return e.style.getPropertyValue(t)||qa(e).getComputedStyle(e,null).getPropertyValue(t)}function Za(e){return function(){delete this[e]}}function Ja(e,t){return function(){this[e]=t}}function Qa(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function el(e){return e.trim().split(/^|\s+/)}function tl(e){return e.classList||new nl(e)}function nl(e){this._node=e,this._names=el(e.getAttribute("class")||"")}function il(e,t){for(var n=tl(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function rl(e,t){for(var n=tl(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function ol(e){return function(){il(this,e)}}function sl(e){return function(){rl(this,e)}}function al(e,t){return function(){(t.apply(this,arguments)?il:rl)(this,e)}}function ll(){this.textContent=""}function cl(e){return function(){this.textContent=e}}function ul(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function hl(){this.innerHTML=""}function dl(e){return function(){this.innerHTML=e}}function fl(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function pl(){this.nextSibling&&this.parentNode.appendChild(this)}function gl(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ml(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Pa&&t.documentElement.namespaceURI===Pa?t.createElement(e):t.createElementNS(n,e)}}function vl(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function yl(e){var t=ja(e);return(t.local?vl:ml)(t)}function bl(){return null}function _l(){var e=this.parentNode;e&&e.removeChild(this)}function wl(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Cl(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function xl(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function kl(e){return function(){var t=this.__on;if(t){for(var n,i=0,r=-1,o=t.length;i<o;++i)n=t[i],e.type&&n.type!==e.type||n.name!==e.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?t.length=r:delete this.__on}}}function Sl(e,t,n){return function(){var i,r,o=this.__on,s=(r=t,function(e){r.call(this,e,this.__data__)});if(o)for(var a=0,l=o.length;a<l;++a)if((i=o[a]).type===e.type&&i.name===e.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),void(i.value=t);this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},o?o.push(i):this.__on=[i]}}function Dl(e,t,n){var i=qa(e),r=i.CustomEvent;"function"==typeof r?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function El(e,t){return function(){return Dl(this,e,t)}}function Ll(e,t){return function(){return Dl(this,e,t.apply(this,arguments))}}nl.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Tl=[null];function Nl(e,t){this._groups=e,this._parents=t}function Ml(){return new Nl([[document.documentElement]],Tl)}Nl.prototype=Ml.prototype={constructor:Nl,select:function(e){"function"!=typeof e&&(e=ba(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o,s,a=t[r],l=a.length,c=i[r]=new Array(l),u=0;u<l;++u)(o=a[u])&&(s=e.call(o,o.__data__,u,a))&&("__data__"in o&&(s.__data__=o.__data__),c[u]=s);return new Nl(i,this._parents)},selectAll:function(e){var t;e="function"==typeof e?(t=e,function(){return _a(t.apply(this,arguments))}):Ca(e);for(var n=this._groups,i=n.length,r=[],o=[],s=0;s<i;++s)for(var a,l=n[s],c=l.length,u=0;u<c;++u)(a=l[u])&&(r.push(e.call(a,a.__data__,u,l)),o.push(a));return new Nl(r,o)},selectChild:function(e){return this.select(null==e?Da:(t="function"==typeof e?e:ka(e),function(){return Sa.call(this.children,t)}));var t},selectChildren:function(e){return this.selectAll(null==e?La:(t="function"==typeof e?e:ka(e),function(){return Ea.call(this.children,t)}));var t},filter:function(e){"function"!=typeof e&&(e=xa(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o,s=t[r],a=s.length,l=i[r]=[],c=0;c<a;++c)(o=s[c])&&e.call(o,o.__data__,c,s)&&l.push(o);return new Nl(i,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,Oa);var n=t?Ia:Aa,i=this._parents,r=this._groups;"function"!=typeof e&&(e=Ma(e));for(var o=r.length,s=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var u=i[c],h=r[c],d=h.length,f=Fa(e.call(u,u&&u.__data__,c,i)),p=f.length,g=a[c]=new Array(p),m=s[c]=new Array(p),v=l[c]=new Array(d);n(u,h,g,m,v,f,t);for(var y,b,_=0,w=0;_<p;++_)if(y=g[_]){for(_>=w&&(w=_+1);!(b=m[w])&&++w<p;);y._next=b||null}}return(s=new Nl(s,i))._enter=a,s._exit=l,s},enter:function(){return new Nl(this._enter||this._groups.map(Ta),this._parents)},exit:function(){return new Nl(this._exit||this._groups.map(Ta),this._parents)},join:function(e,t,n){var i=this.enter(),r=this,o=this.exit();return"function"==typeof e?(i=e(i))&&(i=i.selection()):i=i.append(e+""),null!=t&&(r=t(r))&&(r=r.selection()),null==n?o.remove():n(o),i&&r?i.merge(r).order():r},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,r=n.length,o=i.length,s=Math.min(r,o),a=new Array(r),l=0;l<s;++l)for(var c,u=n[l],h=i[l],d=u.length,f=a[l]=new Array(d),p=0;p<d;++p)(c=u[p]||h[p])&&(f[p]=c);for(;l<r;++l)a[l]=n[l];return new Nl(a,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i,r=e[t],o=r.length-1,s=r[o];--o>=0;)(i=r[o])&&(s&&4^i.compareDocumentPosition(s)&&s.parentNode.insertBefore(i,s),s=i);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=Ra);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var s,a=n[o],l=a.length,c=r[o]=new Array(l),u=0;u<l;++u)(s=a[u])&&(c[u]=s);c.sort(t)}return new Nl(r,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r,o=t[n],s=0,a=o.length;s<a;++s)(r=o[s])&&e.call(r,r.__data__,s,o);return this},attr:function(e,t){var n=ja(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==t?n.local?Va:za:"function"==typeof t?n.local?$a:Ua:n.local?Ha:Wa)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?Ka:"function"==typeof t?Ga:Ya)(e,t,null==n?"":n)):Xa(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?Za:"function"==typeof t?Qa:Ja)(e,t)):this.node()[e]},classed:function(e,t){var n=el(e+"");if(arguments.length<2){for(var i=tl(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof t?al:t?ol:sl)(n,t))},text:function(e){return arguments.length?this.each(null==e?ll:("function"==typeof e?ul:cl)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?hl:("function"==typeof e?fl:dl)(e)):this.node().innerHTML},raise:function(){return this.each(pl)},lower:function(){return this.each(gl)},append:function(e){var t="function"==typeof e?e:yl(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:yl(e),i=null==t?bl:"function"==typeof t?t:ba(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(_l)},clone:function(e){return this.select(e?Cl:wl)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var i,r,o=xl(e+""),s=o.length;if(!(arguments.length<2)){for(a=t?Sl:kl,i=0;i<s;++i)this.each(a(o[i],t,n));return this}var a=this.node().__on;if(a)for(var l,c=0,u=a.length;c<u;++c)for(i=0,l=a[c];i<s;++i)if((r=o[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?Ll:El)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i,r=e[t],o=0,s=r.length;o<s;++o)(i=r[o])&&(yield i)}};const Al=Ml;function Il(e){return"string"==typeof e?new Nl([[document.querySelector(e)]],[document.documentElement]):new Nl([[e]],Tl)}function Ol(e){return"string"==typeof e?new Nl([document.querySelectorAll(e)],[document.documentElement]):new Nl([_a(e)],Tl)}const Fl=Math.PI,Rl=2*Fl,Pl=1e-6,Bl=Rl-Pl;function jl(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function zl(){return new jl}jl.prototype=zl.prototype={constructor:jl,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,i){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(e,t,n,i,r,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(e,t,n,i,r){e=+e,t=+t,n=+n,i=+i,r=+r;var o=this._x1,s=this._y1,a=n-e,l=i-t,c=o-e,u=s-t,h=c*c+u*u;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(h>Pl)if(Math.abs(u*a-l*c)>Pl&&r){var d=n-o,f=i-s,p=a*a+l*l,g=d*d+f*f,m=Math.sqrt(p),v=Math.sqrt(h),y=r*Math.tan((Fl-Math.acos((p+h-g)/(2*m*v)))/2),b=y/v,_=y/m;Math.abs(b-1)>Pl&&(this._+="L"+(e+b*c)+","+(t+b*u)),this._+="A"+r+","+r+",0,0,"+ +(u*d>c*f)+","+(this._x1=e+_*a)+","+(this._y1=t+_*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t)},arc:function(e,t,n,i,r,o){e=+e,t=+t,o=!!o;var s=(n=+n)*Math.cos(i),a=n*Math.sin(i),l=e+s,c=t+a,u=1^o,h=o?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>Pl||Math.abs(this._y1-c)>Pl)&&(this._+="L"+l+","+c),n&&(h<0&&(h=h%Rl+Rl),h>Bl?this._+="A"+n+","+n+",0,1,"+u+","+(e-s)+","+(t-a)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):h>Pl&&(this._+="A"+n+","+n+",0,"+ +(h>=Fl)+","+u+","+(this._x1=e+n*Math.cos(r))+","+(this._y1=t+n*Math.sin(r))))},rect:function(e,t,n,i){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};const Vl=zl;function Wl(e){return function(){return e}}var Hl=Math.abs,Ul=Math.atan2,$l=Math.cos,ql=Math.max,Kl=Math.min,Yl=Math.sin,Gl=Math.sqrt,Xl=1e-12,Zl=Math.PI,Jl=Zl/2,Ql=2*Zl;function ec(e){return e>1?0:e<-1?Zl:Math.acos(e)}function tc(e){return e>=1?Jl:e<=-1?-Jl:Math.asin(e)}function nc(e){return e.innerRadius}function ic(e){return e.outerRadius}function rc(e){return e.startAngle}function oc(e){return e.endAngle}function sc(e){return e&&e.padAngle}function ac(e,t,n,i,r,o,s,a){var l=n-e,c=i-t,u=s-r,h=a-o,d=h*l-u*c;if(!(d*d<Xl))return[e+(d=(u*(t-o)-h*(e-r))/d)*l,t+d*c]}function lc(e,t,n,i,r,o,s){var a=e-n,l=t-i,c=(s?o:-o)/Gl(a*a+l*l),u=c*l,h=-c*a,d=e+u,f=t+h,p=n+u,g=i+h,m=(d+p)/2,v=(f+g)/2,y=p-d,b=g-f,_=y*y+b*b,w=r-o,C=d*g-p*f,x=(b<0?-1:1)*Gl(ql(0,w*w*_-C*C)),k=(C*b-y*x)/_,S=(-C*y-b*x)/_,D=(C*b+y*x)/_,E=(-C*y+b*x)/_,L=k-m,T=S-v,N=D-m,M=E-v;return L*L+T*T>N*N+M*M&&(k=D,S=E),{cx:k,cy:S,x01:-u,y01:-h,x11:k*(r/w-1),y11:S*(r/w-1)}}function cc(){var e=nc,t=ic,n=Wl(0),i=null,r=rc,o=oc,s=sc,a=null;function l(){var l,c,u=+e.apply(this,arguments),h=+t.apply(this,arguments),d=r.apply(this,arguments)-Jl,f=o.apply(this,arguments)-Jl,p=Hl(f-d),g=f>d;if(a||(a=l=Vl()),h<u&&(c=h,h=u,u=c),h>Xl)if(p>Ql-Xl)a.moveTo(h*$l(d),h*Yl(d)),a.arc(0,0,h,d,f,!g),u>Xl&&(a.moveTo(u*$l(f),u*Yl(f)),a.arc(0,0,u,f,d,g));else{var m,v,y=d,b=f,_=d,w=f,C=p,x=p,k=s.apply(this,arguments)/2,S=k>Xl&&(i?+i.apply(this,arguments):Gl(u*u+h*h)),D=Kl(Hl(h-u)/2,+n.apply(this,arguments)),E=D,L=D;if(S>Xl){var T=tc(S/u*Yl(k)),N=tc(S/h*Yl(k));(C-=2*T)>Xl?(_+=T*=g?1:-1,w-=T):(C=0,_=w=(d+f)/2),(x-=2*N)>Xl?(y+=N*=g?1:-1,b-=N):(x=0,y=b=(d+f)/2)}var M=h*$l(y),A=h*Yl(y),I=u*$l(w),O=u*Yl(w);if(D>Xl){var F,R=h*$l(b),P=h*Yl(b),B=u*$l(_),j=u*Yl(_);if(p<Zl&&(F=ac(M,A,B,j,R,P,I,O))){var z=M-F[0],V=A-F[1],W=R-F[0],H=P-F[1],U=1/Yl(ec((z*W+V*H)/(Gl(z*z+V*V)*Gl(W*W+H*H)))/2),$=Gl(F[0]*F[0]+F[1]*F[1]);E=Kl(D,(u-$)/(U-1)),L=Kl(D,(h-$)/(U+1))}}x>Xl?L>Xl?(m=lc(B,j,M,A,h,L,g),v=lc(R,P,I,O,h,L,g),a.moveTo(m.cx+m.x01,m.cy+m.y01),L<D?a.arc(m.cx,m.cy,L,Ul(m.y01,m.x01),Ul(v.y01,v.x01),!g):(a.arc(m.cx,m.cy,L,Ul(m.y01,m.x01),Ul(m.y11,m.x11),!g),a.arc(0,0,h,Ul(m.cy+m.y11,m.cx+m.x11),Ul(v.cy+v.y11,v.cx+v.x11),!g),a.arc(v.cx,v.cy,L,Ul(v.y11,v.x11),Ul(v.y01,v.x01),!g))):(a.moveTo(M,A),a.arc(0,0,h,y,b,!g)):a.moveTo(M,A),u>Xl&&C>Xl?E>Xl?(m=lc(I,O,R,P,u,-E,g),v=lc(M,A,B,j,u,-E,g),a.lineTo(m.cx+m.x01,m.cy+m.y01),E<D?a.arc(m.cx,m.cy,E,Ul(m.y01,m.x01),Ul(v.y01,v.x01),!g):(a.arc(m.cx,m.cy,E,Ul(m.y01,m.x01),Ul(m.y11,m.x11),!g),a.arc(0,0,u,Ul(m.cy+m.y11,m.cx+m.x11),Ul(v.cy+v.y11,v.cx+v.x11),g),a.arc(v.cx,v.cy,E,Ul(v.y11,v.x11),Ul(v.y01,v.x01),!g))):a.arc(0,0,u,w,_,g):a.lineTo(I,O)}else a.moveTo(0,0);if(a.closePath(),l)return a=null,l+""||null}return l.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,i=(+r.apply(this,arguments)+ +o.apply(this,arguments))/2-Zl/2;return[$l(i)*n,Yl(i)*n]},l.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:Wl(+t),l):e},l.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:Wl(+e),l):t},l.cornerRadius=function(e){return arguments.length?(n="function"==typeof e?e:Wl(+e),l):n},l.padRadius=function(e){return arguments.length?(i=null==e?null:"function"==typeof e?e:Wl(+e),l):i},l.startAngle=function(e){return arguments.length?(r="function"==typeof e?e:Wl(+e),l):r},l.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:Wl(+e),l):o},l.padAngle=function(e){return arguments.length?(s="function"==typeof e?e:Wl(+e),l):s},l.context=function(e){return arguments.length?(a=null==e?null:e,l):a},l}function uc(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function hc(e){this._context=e}function dc(e){return new hc(e)}function fc(e){return e[0]}function pc(e){return e[1]}function gc(e,t){var n=Wl(!0),i=null,r=dc,o=null;function s(s){var a,l,c,u=(s=uc(s)).length,h=!1;for(null==i&&(o=r(c=Vl())),a=0;a<=u;++a)!(a<u&&n(l=s[a],a,s))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(l,a,s),+t(l,a,s));if(c)return o=null,c+""||null}return e="function"==typeof e?e:void 0===e?fc:Wl(e),t="function"==typeof t?t:void 0===t?pc:Wl(t),s.x=function(t){return arguments.length?(e="function"==typeof t?t:Wl(+t),s):e},s.y=function(e){return arguments.length?(t="function"==typeof e?e:Wl(+e),s):t},s.defined=function(e){return arguments.length?(n="function"==typeof e?e:Wl(!!e),s):n},s.curve=function(e){return arguments.length?(r=e,null!=i&&(o=r(i)),s):r},s.context=function(e){return arguments.length?(null==e?i=o=null:o=r(i=e),s):i},s}function mc(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function vc(e){return e}function yc(){}function bc(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function _c(e){this._context=e}function wc(e){return new _c(e)}function Cc(e){this._context=e}function xc(e){this._context=e}function kc(e){this._context=e}function Sc(e){return e<0?-1:1}function Dc(e,t,n){var i=e._x1-e._x0,r=t-e._x1,o=(e._y1-e._y0)/(i||r<0&&-0),s=(n-e._y1)/(r||i<0&&-0),a=(o*r+s*i)/(i+r);return(Sc(o)+Sc(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function Ec(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Lc(e,t,n){var i=e._x0,r=e._y0,o=e._x1,s=e._y1,a=(o-i)/3;e._context.bezierCurveTo(i+a,r+a*t,o-a,s-a*n,o,s)}function Tc(e){this._context=e}function Nc(e){this._context=new Mc(e)}function Mc(e){this._context=e}function Ac(e){this._context=e}function Ic(e){var t,n,i=e.length-1,r=new Array(i),o=new Array(i),s=new Array(i);for(r[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<i-1;++t)r[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(r[i-1]=2,o[i-1]=7,s[i-1]=8*e[i-1]+e[i],t=1;t<i;++t)n=r[t]/o[t-1],o[t]-=n,s[t]-=n*s[t-1];for(r[i-1]=s[i-1]/o[i-1],t=i-2;t>=0;--t)r[t]=(s[t]-r[t+1])/o[t];for(o[i-1]=(e[i]+r[i-1])/2,t=0;t<i-1;++t)o[t]=2*e[t+1]-r[t+1];return[r,o]}function Oc(e,t){this._context=e,this._t=t}hc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},_c.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:bc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:bc(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Cc.prototype={areaStart:yc,areaEnd:yc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:bc(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},xc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:bc(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},kc.prototype={areaStart:yc,areaEnd:yc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Tc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Lc(this,this._t0,Ec(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Lc(this,Ec(this,n=Dc(this,e,t)),n);break;default:Lc(this,this._t0,n=Dc(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Nc.prototype=Object.create(Tc.prototype)).point=function(e,t){Tc.prototype.point.call(this,t,e)},Mc.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,i,r,o){this._context.bezierCurveTo(t,e,i,n,o,r)}},Ac.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var i=Ic(e),r=Ic(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],e[s],t[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},Oc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var Fc=new Date,Rc=new Date;function Pc(e,t,n,i){function r(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return r.floor=function(t){return e(t=new Date(+t)),t},r.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},r.round=function(e){var t=r(e),n=r.ceil(e);return e-t<n-e?t:n},r.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},r.range=function(n,i,o){var s,a=[];if(n=r.ceil(n),o=null==o?1:Math.floor(o),!(n<i&&o>0))return a;do{a.push(s=new Date(+n)),t(n,o),e(n)}while(s<n&&n<i);return a},r.filter=function(n){return Pc((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,i){if(e>=e)if(i<0)for(;++i<=0;)for(;t(e,-1),!n(e););else for(;--i>=0;)for(;t(e,1),!n(e););}))},n&&(r.count=function(t,i){return Fc.setTime(+t),Rc.setTime(+i),e(Fc),e(Rc),Math.floor(n(Fc,Rc))},r.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?r.filter(i?function(t){return i(t)%e==0}:function(t){return r.count(0,t)%e==0}):r:null}),r}const Bc=864e5,jc=6048e5;function zc(e){return Pc((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/jc}))}var Vc=zc(0),Wc=zc(1);zc(2),zc(3);var Hc=zc(4);zc(5),zc(6);var Uc=Pc((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/Bc}),(function(e){return e.getUTCDate()-1}));const $c=Uc;function qc(e){return Pc((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/jc}))}var Kc=qc(0),Yc=qc(1);qc(2),qc(3);var Gc=qc(4);qc(5),qc(6);var Xc=Pc((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/Bc),(e=>e.getDate()-1));const Zc=Xc;var Jc=Pc((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));Jc.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Pc((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};const Qc=Jc;var eu=Pc((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));eu.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Pc((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};const tu=eu;function nu(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function iu(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ru(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var ou,su,au={"-":"",_:" ",0:"0"},lu=/^\s*\d+/,cu=/^%/,uu=/[\\^$*+?|[\]().{}]/g;function hu(e,t,n){var i=e<0?"-":"",r=(i?-e:e)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(t)+r:r)}function du(e){return e.replace(uu,"\\$&")}function fu(e){return new RegExp("^(?:"+e.map(du).join("|")+")","i")}function pu(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function gu(e,t,n){var i=lu.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function mu(e,t,n){var i=lu.exec(t.slice(n,n+1));return i?(e.u=+i[0],n+i[0].length):-1}function vu(e,t,n){var i=lu.exec(t.slice(n,n+2));return i?(e.U=+i[0],n+i[0].length):-1}function yu(e,t,n){var i=lu.exec(t.slice(n,n+2));return i?(e.V=+i[0],n+i[0].length):-1}function bu(e,t,n){var i=lu.exec(t.slice(n,n+2));return i?(e.W=+i[0],n+i[0].length):-1}function _u(e,t,n){var i=lu.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function wu(e,t,n){var i=lu.exec(t.slice(n,n+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function Cu(e,t,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function xu(e,t,n){var i=lu.exec(t.slice(n,n+1));return i?(e.q=3*i[0]-3,n+i[0].length):-1}function ku(e,t,n){var i=lu.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function Su(e,t,n){var i=lu.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function Du(e,t,n){var i=lu.exec(t.slice(n,n+3));return i?(e.m=0,e.d=+i[0],n+i[0].length):-1}function Eu(e,t,n){var i=lu.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function Lu(e,t,n){var i=lu.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function Tu(e,t,n){var i=lu.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function Nu(e,t,n){var i=lu.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function Mu(e,t,n){var i=lu.exec(t.slice(n,n+6));return i?(e.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function Au(e,t,n){var i=cu.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function Iu(e,t,n){var i=lu.exec(t.slice(n));return i?(e.Q=+i[0],n+i[0].length):-1}function Ou(e,t,n){var i=lu.exec(t.slice(n));return i?(e.s=+i[0],n+i[0].length):-1}function Fu(e,t){return hu(e.getDate(),t,2)}function Ru(e,t){return hu(e.getHours(),t,2)}function Pu(e,t){return hu(e.getHours()%12||12,t,2)}function Bu(e,t){return hu(1+Zc.count(Qc(e),e),t,3)}function ju(e,t){return hu(e.getMilliseconds(),t,3)}function zu(e,t){return ju(e,t)+"000"}function Vu(e,t){return hu(e.getMonth()+1,t,2)}function Wu(e,t){return hu(e.getMinutes(),t,2)}function Hu(e,t){return hu(e.getSeconds(),t,2)}function Uu(e){var t=e.getDay();return 0===t?7:t}function $u(e,t){return hu(Kc.count(Qc(e)-1,e),t,2)}function qu(e){var t=e.getDay();return t>=4||0===t?Gc(e):Gc.ceil(e)}function Ku(e,t){return e=qu(e),hu(Gc.count(Qc(e),e)+(4===Qc(e).getDay()),t,2)}function Yu(e){return e.getDay()}function Gu(e,t){return hu(Yc.count(Qc(e)-1,e),t,2)}function Xu(e,t){return hu(e.getFullYear()%100,t,2)}function Zu(e,t){return hu((e=qu(e)).getFullYear()%100,t,2)}function Ju(e,t){return hu(e.getFullYear()%1e4,t,4)}function Qu(e,t){var n=e.getDay();return hu((e=n>=4||0===n?Gc(e):Gc.ceil(e)).getFullYear()%1e4,t,4)}function eh(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+hu(t/60|0,"0",2)+hu(t%60,"0",2)}function th(e,t){return hu(e.getUTCDate(),t,2)}function nh(e,t){return hu(e.getUTCHours(),t,2)}function ih(e,t){return hu(e.getUTCHours()%12||12,t,2)}function rh(e,t){return hu(1+$c.count(tu(e),e),t,3)}function oh(e,t){return hu(e.getUTCMilliseconds(),t,3)}function sh(e,t){return oh(e,t)+"000"}function ah(e,t){return hu(e.getUTCMonth()+1,t,2)}function lh(e,t){return hu(e.getUTCMinutes(),t,2)}function ch(e,t){return hu(e.getUTCSeconds(),t,2)}function uh(e){var t=e.getUTCDay();return 0===t?7:t}function hh(e,t){return hu(Vc.count(tu(e)-1,e),t,2)}function dh(e){var t=e.getUTCDay();return t>=4||0===t?Hc(e):Hc.ceil(e)}function fh(e,t){return e=dh(e),hu(Hc.count(tu(e),e)+(4===tu(e).getUTCDay()),t,2)}function ph(e){return e.getUTCDay()}function gh(e,t){return hu(Wc.count(tu(e)-1,e),t,2)}function mh(e,t){return hu(e.getUTCFullYear()%100,t,2)}function vh(e,t){return hu((e=dh(e)).getUTCFullYear()%100,t,2)}function yh(e,t){return hu(e.getUTCFullYear()%1e4,t,4)}function bh(e,t){var n=e.getUTCDay();return hu((e=n>=4||0===n?Hc(e):Hc.ceil(e)).getUTCFullYear()%1e4,t,4)}function _h(){return"+0000"}function wh(){return"%"}function Ch(e){return+e}function xh(e){return Math.floor(+e/1e3)}ou=function(e){var t=e.dateTime,n=e.date,i=e.time,r=e.periods,o=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,c=fu(r),u=pu(r),h=fu(o),d=pu(o),f=fu(s),p=pu(s),g=fu(a),m=pu(a),v=fu(l),y=pu(l),b={a:function(e){return s[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return a[e.getMonth()]},c:null,d:Fu,e:Fu,f:zu,g:Zu,G:Qu,H:Ru,I:Pu,j:Bu,L:ju,m:Vu,M:Wu,p:function(e){return r[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Ch,s:xh,S:Hu,u:Uu,U:$u,V:Ku,w:Yu,W:Gu,x:null,X:null,y:Xu,Y:Ju,Z:eh,"%":wh},_={a:function(e){return s[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return a[e.getUTCMonth()]},c:null,d:th,e:th,f:sh,g:vh,G:bh,H:nh,I:ih,j:rh,L:oh,m:ah,M:lh,p:function(e){return r[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Ch,s:xh,S:ch,u:uh,U:hh,V:fh,w:ph,W:gh,x:null,X:null,y:mh,Y:yh,Z:_h,"%":wh},w={a:function(e,t,n){var i=f.exec(t.slice(n));return i?(e.w=p.get(i[0].toLowerCase()),n+i[0].length):-1},A:function(e,t,n){var i=h.exec(t.slice(n));return i?(e.w=d.get(i[0].toLowerCase()),n+i[0].length):-1},b:function(e,t,n){var i=v.exec(t.slice(n));return i?(e.m=y.get(i[0].toLowerCase()),n+i[0].length):-1},B:function(e,t,n){var i=g.exec(t.slice(n));return i?(e.m=m.get(i[0].toLowerCase()),n+i[0].length):-1},c:function(e,n,i){return k(e,t,n,i)},d:Su,e:Su,f:Mu,g:wu,G:_u,H:Eu,I:Eu,j:Du,L:Nu,m:ku,M:Lu,p:function(e,t,n){var i=c.exec(t.slice(n));return i?(e.p=u.get(i[0].toLowerCase()),n+i[0].length):-1},q:xu,Q:Iu,s:Ou,S:Tu,u:mu,U:vu,V:yu,w:gu,W:bu,x:function(e,t,i){return k(e,n,t,i)},X:function(e,t,n){return k(e,i,t,n)},y:wu,Y:_u,Z:Cu,"%":Au};function C(e,t){return function(n){var i,r,o,s=[],a=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++a<c;)37===e.charCodeAt(a)&&(s.push(e.slice(l,a)),null!=(r=au[i=e.charAt(++a)])?i=e.charAt(++a):r="e"===i?" ":"0",(o=t[i])&&(i=o(n,r)),s.push(i),l=a+1);return s.push(e.slice(l,a)),s.join("")}}function x(e,t){return function(n){var i,r,o=ru(1900,void 0,1);if(k(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(r=(i=iu(ru(o.y,0,1))).getUTCDay(),i=r>4||0===r?Wc.ceil(i):Wc(i),i=$c.offset(i,7*(o.V-1)),o.y=i.getUTCFullYear(),o.m=i.getUTCMonth(),o.d=i.getUTCDate()+(o.w+6)%7):(r=(i=nu(ru(o.y,0,1))).getDay(),i=r>4||0===r?Yc.ceil(i):Yc(i),i=Zc.offset(i,7*(o.V-1)),o.y=i.getFullYear(),o.m=i.getMonth(),o.d=i.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),r="Z"in o?iu(ru(o.y,0,1)).getUTCDay():nu(ru(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(r+5)%7:o.w+7*o.U-(r+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,iu(o)):nu(o)}}function k(e,t,n,i){for(var r,o,s=0,a=t.length,l=n.length;s<a;){if(i>=l)return-1;if(37===(r=t.charCodeAt(s++))){if(r=t.charAt(s++),!(o=w[r in au?t.charAt(s++):r])||(i=o(e,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}return b.x=C(n,b),b.X=C(i,b),b.c=C(t,b),_.x=C(n,_),_.X=C(i,_),_.c=C(t,_),{format:function(e){var t=C(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=x(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=C(e+="",_);return t.toString=function(){return e},t},utcParse:function(e){var t=x(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),su=ou.format,ou.parse,ou.utcFormat,ou.utcParse;var kh={value:()=>{}};function Sh(){for(var e,t=0,n=arguments.length,i={};t<n;++t){if(!(e=arguments[t]+"")||e in i||/[\s.]/.test(e))throw new Error("illegal type: "+e);i[e]=[]}return new Dh(i)}function Dh(e){this._=e}function Eh(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",i=e.indexOf(".");if(i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function Lh(e,t){for(var n,i=0,r=e.length;i<r;++i)if((n=e[i]).name===t)return n.value}function Th(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=kh,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=n&&e.push({name:t,value:n}),e}Dh.prototype=Sh.prototype={constructor:Dh,on:function(e,t){var n,i=this._,r=Eh(e+"",i),o=-1,s=r.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<s;)if(n=(e=r[o]).type)i[n]=Th(i[n],e.name,t);else if(null==t)for(n in i)i[n]=Th(i[n],e.name,null);return this}for(;++o<s;)if((n=(e=r[o]).type)&&(n=Lh(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Dh(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(i=this._[e]).length;o<n;++o)i[o].value.apply(t,r)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)}};const Nh=Sh;var Mh,Ah,Ih=0,Oh=0,Fh=0,Rh=0,Ph=0,Bh=0,jh="object"==typeof performance&&performance.now?performance:Date,zh="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Vh(){return Ph||(zh(Wh),Ph=jh.now()+Bh)}function Wh(){Ph=0}function Hh(){this._call=this._time=this._next=null}function Uh(e,t,n){var i=new Hh;return i.restart(e,t,n),i}function $h(){Ph=(Rh=jh.now())+Bh,Ih=Oh=0;try{!function(){Vh(),++Ih;for(var e,t=Mh;t;)(e=Ph-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ih}()}finally{Ih=0,function(){for(var e,t,n=Mh,i=1/0;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Mh=t);Ah=e,Kh(i)}(),Ph=0}}function qh(){var e=jh.now(),t=e-Rh;t>1e3&&(Bh-=t,Rh=e)}function Kh(e){Ih||(Oh&&(Oh=clearTimeout(Oh)),e-Ph>24?(e<1/0&&(Oh=setTimeout($h,e-jh.now()-Bh)),Fh&&(Fh=clearInterval(Fh))):(Fh||(Rh=jh.now(),Fh=setInterval(qh,1e3)),Ih=1,zh($h)))}function Yh(e,t,n){var i=new Hh;return t=null==t?0:+t,i.restart((n=>{i.stop(),e(n+t)}),t,n),i}Hh.prototype=Uh.prototype={constructor:Hh,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?Vh():+n)+(null==t?0:+t),this._next||Ah===this||(Ah?Ah._next=this:Mh=this,Ah=this),this._call=e,this._time=n,Kh()},stop:function(){this._call&&(this._call=null,this._time=1/0,Kh())}};var Gh=Nh("start","end","cancel","interrupt"),Xh=[];function Zh(e,t,n,i,r,o){var s=e.__transition;if(s){if(n in s)return}else e.__transition={};!function(e,t,n){var i,r=e.__transition;function o(l){var c,u,h,d;if(1!==n.state)return a();for(c in r)if((d=r[c]).name===n.name){if(3===d.state)return Yh(o);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete r[c]):+c<t&&(d.state=6,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete r[c])}if(Yh((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(l))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,i=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(d=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++u]=d);i.length=u+1}}function s(t){for(var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(a),n.state=5,1),o=-1,s=i.length;++o<s;)i[o].call(e,r);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){for(var i in n.state=6,n.timer.stop(),delete r[t],r)return;delete e.__transition}r[t]=n,n.timer=Uh((function(e){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}),0,n.time)}(e,n,{name:t,index:i,group:r,on:Gh,tween:Xh,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function Jh(e,t){var n=ed(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function Qh(e,t){var n=ed(e,t);if(n.state>3)throw new Error("too late; already running");return n}function ed(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function td(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var nd,id=180/Math.PI,rd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function od(e,t,n,i,r,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*i)&&(n-=e*l,i-=t*l),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,l/=a),e*i<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(t,e)*id,skewX:Math.atan(l)*id,scaleX:s,scaleY:a}}function sd(e,t,n,i){function r(e){return e.length?e.pop()+" ":""}return function(o,s){var a,l,c,u,h=[],d=[];return o=e(o),s=e(s),function(e,i,r,o,s,a){if(e!==r||i!==o){var l=s.push("translate(",null,t,null,n);a.push({i:l-4,x:td(e,r)},{i:l-2,x:td(i,o)})}else(r||o)&&s.push("translate("+r+t+o+n)}(o.translateX,o.translateY,s.translateX,s.translateY,h,d),a=o.rotate,l=s.rotate,c=h,u=d,a!==l?(a-l>180?l+=360:l-a>180&&(a+=360),u.push({i:c.push(r(c)+"rotate(",null,i)-2,x:td(a,l)})):l&&c.push(r(c)+"rotate("+l+i),function(e,t,n,o){e!==t?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:td(e,t)}):t&&n.push(r(n)+"skewX("+t+i)}(o.skewX,s.skewX,h,d),function(e,t,n,i,o,s){if(e!==n||t!==i){var a=o.push(r(o)+"scale(",null,",",null,")");s.push({i:a-4,x:td(e,n)},{i:a-2,x:td(t,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,h,d),o=s=null,function(e){for(var t,n=-1,i=d.length;++n<i;)h[(t=d[n]).i]=t.x(e);return h.join("")}}}var ad=sd((function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?rd:od(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),ld=sd((function(e){return null==e?rd:(nd||(nd=document.createElementNS("http://www.w3.org/2000/svg","g")),nd.setAttribute("transform",e),(e=nd.transform.baseVal.consolidate())?od((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):rd)}),", ",")",")");function cd(e,t){var n,i;return function(){var r=Qh(this,e),o=r.tween;if(o!==n)for(var s=0,a=(i=n=o).length;s<a;++s)if(i[s].name===t){(i=i.slice()).splice(s,1);break}r.tween=i}}function ud(e,t,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=Qh(this,e),s=o.tween;if(s!==i){r=(i=s).slice();for(var a={name:t,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=a;break}l===c&&r.push(a)}o.tween=r}}function hd(e,t,n){var i=e._id;return e.each((function(){var e=Qh(this,i);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return ed(e,i).value[t]}}const dd=function e(t){var n,i=1==(n=+(n=t))?Mi:function(e,t){return t-e?(i=e,r=t,o=n,i=Math.pow(i,o),r=Math.pow(r,o)-i,o=1/o,function(e){return Math.pow(i+e*r,o)}):Ti(isNaN(e)?t:e);var i,r,o};function r(e,t){var n=i((e=ii(e)).r,(t=ii(t)).r),r=i(e.g,t.g),o=i(e.b,t.b),s=Mi(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=r(t),e.b=o(t),e.opacity=s(t),e+""}}return r.gamma=e,r}(1);var fd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pd=new RegExp(fd.source,"g");function gd(e,t){var n,i,r,o,s=fd.lastIndex=pd.lastIndex=0,a=-1,l=[],c=[];for(e+="",t+="";(n=fd.exec(e))&&(i=pd.exec(t));)(r=i.index)>s&&(r=t.slice(s,r),l[a]?l[a]+=r:l[++a]=r),(n=n[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:td(n,i)})),s=pd.lastIndex;return s<t.length&&(r=t.slice(s),l[a]?l[a]+=r:l[++a]=r),l.length<2?c[0]?(o=c[0].x,function(e){return o(e)+""}):function(e){return function(){return e}}(t):(t=c.length,function(e){for(var n,i=0;i<t;++i)l[(n=c[i]).i]=n.x(e);return l.join("")})}function md(e,t){var n;return("number"==typeof t?td:t instanceof Qn?dd:(n=Qn(t))?(t=n,dd):gd)(e,t)}function vd(e){return function(){this.removeAttribute(e)}}function yd(e){return function(){this.removeAttributeNS(e.space,e.local)}}function bd(e,t,n){var i,r,o=n+"";return function(){var s=this.getAttribute(e);return s===o?null:s===i?r:r=t(i=s,n)}}function _d(e,t,n){var i,r,o=n+"";return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===i?r:r=t(i=s,n)}}function wd(e,t,n){var i,r,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttribute(e))===(a=l+"")?null:s===i&&a===r?o:(r=a,o=t(i=s,l));this.removeAttribute(e)}}function Cd(e,t,n){var i,r,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttributeNS(e.space,e.local))===(a=l+"")?null:s===i&&a===r?o:(r=a,o=t(i=s,l));this.removeAttributeNS(e.space,e.local)}}function xd(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function kd(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Sd(e,t){var n,i;function r(){var r=t.apply(this,arguments);return r!==i&&(n=(i=r)&&kd(e,r)),n}return r._value=t,r}function Dd(e,t){var n,i;function r(){var r=t.apply(this,arguments);return r!==i&&(n=(i=r)&&xd(e,r)),n}return r._value=t,r}function Ed(e,t){return function(){Jh(this,e).delay=+t.apply(this,arguments)}}function Ld(e,t){return t=+t,function(){Jh(this,e).delay=t}}function Td(e,t){return function(){Qh(this,e).duration=+t.apply(this,arguments)}}function Nd(e,t){return t=+t,function(){Qh(this,e).duration=t}}function Md(e,t){if("function"!=typeof t)throw new Error;return function(){Qh(this,e).ease=t}}function Ad(e,t,n){var i,r,o=(t+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))?Jh:Qh;return function(){var s=o(this,e),a=s.on;a!==i&&(r=(i=a).copy()).on(t,n),s.on=r}}var Id=Al.prototype.constructor;function Od(e){return function(){this.style.removeProperty(e)}}function Fd(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function Rd(e,t,n){var i,r;function o(){var o=t.apply(this,arguments);return o!==r&&(i=(r=o)&&Fd(e,o,n)),i}return o._value=t,o}function Pd(e){return function(t){this.textContent=e.call(this,t)}}function Bd(e){var t,n;function i(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Pd(i)),t}return i._value=e,i}var jd=0;function zd(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function Vd(){return++jd}var Wd=Al.prototype;zd.prototype={constructor:zd,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=ba(e));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var a,l,c=i[s],u=c.length,h=o[s]=new Array(u),d=0;d<u;++d)(a=c[d])&&(l=e.call(a,a.__data__,d,c))&&("__data__"in a&&(l.__data__=a.__data__),h[d]=l,Zh(h[d],t,n,d,h,ed(a,n)));return new zd(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Ca(e));for(var i=this._groups,r=i.length,o=[],s=[],a=0;a<r;++a)for(var l,c=i[a],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var d,f=e.call(l,l.__data__,h,c),p=ed(l,n),g=0,m=f.length;g<m;++g)(d=f[g])&&Zh(d,t,n,g,f,p);o.push(f),s.push(l)}return new zd(o,s,t,n)},selectChild:Wd.selectChild,selectChildren:Wd.selectChildren,filter:function(e){"function"!=typeof e&&(e=xa(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o,s=t[r],a=s.length,l=i[r]=[],c=0;c<a;++c)(o=s[c])&&e.call(o,o.__data__,c,s)&&l.push(o);return new zd(i,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var l,c=t[a],u=n[a],h=c.length,d=s[a]=new Array(h),f=0;f<h;++f)(l=c[f]||u[f])&&(d[f]=l);for(;a<i;++a)s[a]=t[a];return new zd(s,this._parents,this._name,this._id)},selection:function(){return new Id(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Vd(),i=this._groups,r=i.length,o=0;o<r;++o)for(var s,a=i[o],l=a.length,c=0;c<l;++c)if(s=a[c]){var u=ed(s,t);Zh(s,e,n,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new zd(i,this._parents,e,n)},call:Wd.call,nodes:Wd.nodes,node:Wd.node,size:Wd.size,empty:Wd.empty,each:Wd.each,on:function(e,t){var n=this._id;return arguments.length<2?ed(this.node(),n).on.on(e):this.each(Ad(n,e,t))},attr:function(e,t){var n=ja(e),i="transform"===n?ld:md;return this.attrTween(e,"function"==typeof t?(n.local?Cd:wd)(n,i,hd(this,"attr."+e,t)):null==t?(n.local?yd:vd)(n):(n.local?_d:bd)(n,i,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var i=ja(e);return this.tween(n,(i.local?Sd:Dd)(i,t))},style:function(e,t,n){var i,r,o,s,a,l="transform"==(e+="")?ad:md;return null==t?this.styleTween(e,(i=e,r=l,function(){var e=Xa(this,i),t=(this.style.removeProperty(i),Xa(this,i));return e===t?null:e===o&&t===s?a:a=r(o=e,s=t)})).on("end.style."+e,Od(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var i,r,o;return function(){var s=Xa(this,e),a=n(this),l=a+"";return null==a&&(this.style.removeProperty(e),l=a=Xa(this,e)),s===l?null:s===i&&l===r?o:(r=l,o=t(i=s,a))}}(e,l,hd(this,"style."+e,t))).each(function(e,t){var n,i,r,o,s="style."+t,a="end."+s;return function(){var l=Qh(this,e),c=l.on,u=null==l.value[s]?o||(o=Od(t)):void 0;c===n&&r===u||(i=(n=c).copy()).on(a,r=u),l.on=i}}(this._id,e)):this.styleTween(e,function(e,t,n){var i,r,o=n+"";return function(){var s=Xa(this,e);return s===o?null:s===i?r:r=t(i=s,n)}}(e,l,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,Rd(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?(t=hd(this,"text",e),function(){var e=t(this);this.textContent=null==e?"":e}):function(e){return function(){this.textContent=e}}(null==e?"":e+""));var t},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,Bd(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i,r=ed(this.node(),n).tween,o=0,s=r.length;o<s;++o)if((i=r[o]).name===e)return i.value;return null}return this.each((null==t?cd:ud)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Ed:Ld)(t,e)):ed(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Td:Nd)(t,e)):ed(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(Md(t,e)):ed(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each((t=this._id,n=e,function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;Qh(this,t).ease=e}));var t,n},end:function(){var e,t,n=this,i=n._id,r=n.size();return new Promise((function(o,s){var a={value:s},l={value:function(){0==--r&&o()}};n.each((function(){var n=Qh(this,i),r=n.on;r!==e&&((t=(e=r).copy())._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),n.on=t})),0===r&&o()}))},[Symbol.iterator]:Wd[Symbol.iterator]};var Hd={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Ud(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function $d(){}function qd(e){return null==e?$d:function(){return this.querySelector(e)}}function Kd(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}function Yd(){return[]}function Gd(e){return null==e?Yd:function(){return this.querySelectorAll(e)}}function Xd(e){return function(){return this.matches(e)}}function Zd(e){return function(t){return t.matches(e)}}Al.prototype.interrupt=function(e){return this.each((function(){!function(e,t){var n,i,r,o=e.__transition,s=!0;if(o){for(r in t=null==t?null:t+"",o)(n=o[r]).name===t?(i=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[r]):s=!1;s&&delete e.__transition}}(this,e)}))},Al.prototype.transition=function(e){var t,n;e instanceof zd?(t=e._id,e=e._name):(t=Vd(),(n=Hd).time=Vh(),e=null==e?null:e+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var s,a=i[o],l=a.length,c=0;c<l;++c)(s=a[c])&&Zh(s,e,t,c,a,n||Ud(s,t));return new zd(i,this._parents,e,t)};var Jd=Array.prototype.find;function Qd(){return this.firstElementChild}var ef=Array.prototype.filter;function tf(){return Array.from(this.children)}function nf(e){return new Array(e.length)}function rf(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function of(e){return function(){return e}}function sf(e,t,n,i,r,o){for(var s,a=0,l=t.length,c=o.length;a<c;++a)(s=t[a])?(s.__data__=o[a],i[a]=s):n[a]=new rf(e,o[a]);for(;a<l;++a)(s=t[a])&&(r[a]=s)}function af(e,t,n,i,r,o,s){var a,l,c,u=new Map,h=t.length,d=o.length,f=new Array(h);for(a=0;a<h;++a)(l=t[a])&&(f[a]=c=s.call(l,l.__data__,a,t)+"",u.has(c)?r[a]=l:u.set(c,l));for(a=0;a<d;++a)c=s.call(e,o[a],a,o)+"",(l=u.get(c))?(i[a]=l,l.__data__=o[a],u.delete(c)):n[a]=new rf(e,o[a]);for(a=0;a<h;++a)(l=t[a])&&u.get(f[a])===l&&(r[a]=l)}function lf(e){return e.__data__}function cf(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function uf(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}rf.prototype={constructor:rf,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var hf="http://www.w3.org/1999/xhtml";const df={svg:"http://www.w3.org/2000/svg",xhtml:hf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ff(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),df.hasOwnProperty(t)?{space:df[t],local:e}:e}function pf(e){return function(){this.removeAttribute(e)}}function gf(e){return function(){this.removeAttributeNS(e.space,e.local)}}function mf(e,t){return function(){this.setAttribute(e,t)}}function vf(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function yf(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function bf(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function _f(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function wf(e){return function(){this.style.removeProperty(e)}}function Cf(e,t,n){return function(){this.style.setProperty(e,t,n)}}function xf(e,t,n){return function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function kf(e,t){return e.style.getPropertyValue(t)||_f(e).getComputedStyle(e,null).getPropertyValue(t)}function Sf(e){return function(){delete this[e]}}function Df(e,t){return function(){this[e]=t}}function Ef(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function Lf(e){return e.trim().split(/^|\s+/)}function Tf(e){return e.classList||new Nf(e)}function Nf(e){this._node=e,this._names=Lf(e.getAttribute("class")||"")}function Mf(e,t){for(var n=Tf(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function Af(e,t){for(var n=Tf(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function If(e){return function(){Mf(this,e)}}function Of(e){return function(){Af(this,e)}}function Ff(e,t){return function(){(t.apply(this,arguments)?Mf:Af)(this,e)}}function Rf(){this.textContent=""}function Pf(e){return function(){this.textContent=e}}function Bf(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function jf(){this.innerHTML=""}function zf(e){return function(){this.innerHTML=e}}function Vf(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function Wf(){this.nextSibling&&this.parentNode.appendChild(this)}function Hf(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Uf(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===hf&&t.documentElement.namespaceURI===hf?t.createElement(e):t.createElementNS(n,e)}}function $f(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function qf(e){var t=ff(e);return(t.local?$f:Uf)(t)}function Kf(){return null}function Yf(){var e=this.parentNode;e&&e.removeChild(this)}function Gf(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Xf(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Zf(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function Jf(e){return function(){var t=this.__on;if(t){for(var n,i=0,r=-1,o=t.length;i<o;++i)n=t[i],e.type&&n.type!==e.type||n.name!==e.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?t.length=r:delete this.__on}}}function Qf(e,t,n){return function(){var i,r,o=this.__on,s=(r=t,function(e){r.call(this,e,this.__data__)});if(o)for(var a=0,l=o.length;a<l;++a)if((i=o[a]).type===e.type&&i.name===e.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),void(i.value=t);this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},o?o.push(i):this.__on=[i]}}function ep(e,t,n){var i=_f(e),r=i.CustomEvent;"function"==typeof r?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function tp(e,t){return function(){return ep(this,e,t)}}function np(e,t){return function(){return ep(this,e,t.apply(this,arguments))}}Nf.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var ip=[null];function rp(e,t){this._groups=e,this._parents=t}function op(){return new rp([[document.documentElement]],ip)}rp.prototype=op.prototype={constructor:rp,select:function(e){"function"!=typeof e&&(e=qd(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o,s,a=t[r],l=a.length,c=i[r]=new Array(l),u=0;u<l;++u)(o=a[u])&&(s=e.call(o,o.__data__,u,a))&&("__data__"in o&&(s.__data__=o.__data__),c[u]=s);return new rp(i,this._parents)},selectAll:function(e){var t;e="function"==typeof e?(t=e,function(){return Kd(t.apply(this,arguments))}):Gd(e);for(var n=this._groups,i=n.length,r=[],o=[],s=0;s<i;++s)for(var a,l=n[s],c=l.length,u=0;u<c;++u)(a=l[u])&&(r.push(e.call(a,a.__data__,u,l)),o.push(a));return new rp(r,o)},selectChild:function(e){return this.select(null==e?Qd:(t="function"==typeof e?e:Zd(e),function(){return Jd.call(this.children,t)}));var t},selectChildren:function(e){return this.selectAll(null==e?tf:(t="function"==typeof e?e:Zd(e),function(){return ef.call(this.children,t)}));var t},filter:function(e){"function"!=typeof e&&(e=Xd(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o,s=t[r],a=s.length,l=i[r]=[],c=0;c<a;++c)(o=s[c])&&e.call(o,o.__data__,c,s)&&l.push(o);return new rp(i,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,lf);var n=t?af:sf,i=this._parents,r=this._groups;"function"!=typeof e&&(e=of(e));for(var o=r.length,s=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var u=i[c],h=r[c],d=h.length,f=cf(e.call(u,u&&u.__data__,c,i)),p=f.length,g=a[c]=new Array(p),m=s[c]=new Array(p),v=l[c]=new Array(d);n(u,h,g,m,v,f,t);for(var y,b,_=0,w=0;_<p;++_)if(y=g[_]){for(_>=w&&(w=_+1);!(b=m[w])&&++w<p;);y._next=b||null}}return(s=new rp(s,i))._enter=a,s._exit=l,s},enter:function(){return new rp(this._enter||this._groups.map(nf),this._parents)},exit:function(){return new rp(this._exit||this._groups.map(nf),this._parents)},join:function(e,t,n){var i=this.enter(),r=this,o=this.exit();return"function"==typeof e?(i=e(i))&&(i=i.selection()):i=i.append(e+""),null!=t&&(r=t(r))&&(r=r.selection()),null==n?o.remove():n(o),i&&r?i.merge(r).order():r},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,r=n.length,o=i.length,s=Math.min(r,o),a=new Array(r),l=0;l<s;++l)for(var c,u=n[l],h=i[l],d=u.length,f=a[l]=new Array(d),p=0;p<d;++p)(c=u[p]||h[p])&&(f[p]=c);for(;l<r;++l)a[l]=n[l];return new rp(a,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i,r=e[t],o=r.length-1,s=r[o];--o>=0;)(i=r[o])&&(s&&4^i.compareDocumentPosition(s)&&s.parentNode.insertBefore(i,s),s=i);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=uf);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var s,a=n[o],l=a.length,c=r[o]=new Array(l),u=0;u<l;++u)(s=a[u])&&(c[u]=s);c.sort(t)}return new rp(r,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r,o=t[n],s=0,a=o.length;s<a;++s)(r=o[s])&&e.call(r,r.__data__,s,o);return this},attr:function(e,t){var n=ff(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==t?n.local?gf:pf:"function"==typeof t?n.local?bf:yf:n.local?vf:mf)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?wf:"function"==typeof t?xf:Cf)(e,t,null==n?"":n)):kf(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?Sf:"function"==typeof t?Ef:Df)(e,t)):this.node()[e]},classed:function(e,t){var n=Lf(e+"");if(arguments.length<2){for(var i=Tf(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof t?Ff:t?If:Of)(n,t))},text:function(e){return arguments.length?this.each(null==e?Rf:("function"==typeof e?Bf:Pf)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?jf:("function"==typeof e?Vf:zf)(e)):this.node().innerHTML},raise:function(){return this.each(Wf)},lower:function(){return this.each(Hf)},append:function(e){var t="function"==typeof e?e:qf(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:qf(e),i=null==t?Kf:"function"==typeof t?t:qd(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(Yf)},clone:function(e){return this.select(e?Xf:Gf)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var i,r,o=Zf(e+""),s=o.length;if(!(arguments.length<2)){for(a=t?Qf:Jf,i=0;i<s;++i)this.each(a(o[i],t,n));return this}var a=this.node().__on;if(a)for(var l,c=0,u=a.length;c<u;++c)for(i=0,l=a[c];i<s;++i)if((r=o[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?np:tp)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i,r=e[t],o=0,s=r.length;o<s;++o)(i=r[o])&&(yield i)}};const sp=op;var ap={value:()=>{}};function lp(){for(var e,t=0,n=arguments.length,i={};t<n;++t){if(!(e=arguments[t]+"")||e in i||/[\s.]/.test(e))throw new Error("illegal type: "+e);i[e]=[]}return new cp(i)}function cp(e){this._=e}function up(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",i=e.indexOf(".");if(i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function hp(e,t){for(var n,i=0,r=e.length;i<r;++i)if((n=e[i]).name===t)return n.value}function dp(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=ap,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=n&&e.push({name:t,value:n}),e}cp.prototype=lp.prototype={constructor:cp,on:function(e,t){var n,i=this._,r=up(e+"",i),o=-1,s=r.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<s;)if(n=(e=r[o]).type)i[n]=dp(i[n],e.name,t);else if(null==t)for(n in i)i[n]=dp(i[n],e.name,null);return this}for(;++o<s;)if((n=(e=r[o]).type)&&(n=hp(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new cp(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(i=this._[e]).length;o<n;++o)i[o].value.apply(t,r)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)}};const fp=lp;var pp,gp,mp=0,vp=0,yp=0,bp=0,_p=0,wp=0,Cp="object"==typeof performance&&performance.now?performance:Date,xp="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function kp(){return _p||(xp(Sp),_p=Cp.now()+wp)}function Sp(){_p=0}function Dp(){this._call=this._time=this._next=null}function Ep(e,t,n){var i=new Dp;return i.restart(e,t,n),i}function Lp(){_p=(bp=Cp.now())+wp,mp=vp=0;try{!function(){kp(),++mp;for(var e,t=pp;t;)(e=_p-t._time)>=0&&t._call.call(void 0,e),t=t._next;--mp}()}finally{mp=0,function(){for(var e,t,n=pp,i=1/0;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:pp=t);gp=e,Np(i)}(),_p=0}}function Tp(){var e=Cp.now(),t=e-bp;t>1e3&&(wp-=t,bp=e)}function Np(e){mp||(vp&&(vp=clearTimeout(vp)),e-_p>24?(e<1/0&&(vp=setTimeout(Lp,e-Cp.now()-wp)),yp&&(yp=clearInterval(yp))):(yp||(bp=Cp.now(),yp=setInterval(Tp,1e3)),mp=1,xp(Lp)))}function Mp(e,t,n){var i=new Dp;return t=null==t?0:+t,i.restart((n=>{i.stop(),e(n+t)}),t,n),i}Dp.prototype=Ep.prototype={constructor:Dp,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?kp():+n)+(null==t?0:+t),this._next||gp===this||(gp?gp._next=this:pp=this,gp=this),this._call=e,this._time=n,Np()},stop:function(){this._call&&(this._call=null,this._time=1/0,Np())}};var Ap=fp("start","end","cancel","interrupt"),Ip=[];function Op(e,t,n,i,r,o){var s=e.__transition;if(s){if(n in s)return}else e.__transition={};!function(e,t,n){var i,r=e.__transition;function o(l){var c,u,h,d;if(1!==n.state)return a();for(c in r)if((d=r[c]).name===n.name){if(3===d.state)return Mp(o);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete r[c]):+c<t&&(d.state=6,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete r[c])}if(Mp((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(l))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,i=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(d=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++u]=d);i.length=u+1}}function s(t){for(var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(a),n.state=5,1),o=-1,s=i.length;++o<s;)i[o].call(e,r);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){for(var i in n.state=6,n.timer.stop(),delete r[t],r)return;delete e.__transition}r[t]=n,n.timer=Ep((function(e){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}),0,n.time)}(e,n,{name:t,index:i,group:r,on:Ap,tween:Ip,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function Fp(e,t){var n=Pp(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function Rp(e,t){var n=Pp(e,t);if(n.state>3)throw new Error("too late; already running");return n}function Pp(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Bp(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var jp,zp=180/Math.PI,Vp={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Wp(e,t,n,i,r,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*i)&&(n-=e*l,i-=t*l),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,l/=a),e*i<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(t,e)*zp,skewX:Math.atan(l)*zp,scaleX:s,scaleY:a}}function Hp(e,t,n,i){function r(e){return e.length?e.pop()+" ":""}return function(o,s){var a,l,c,u,h=[],d=[];return o=e(o),s=e(s),function(e,i,r,o,s,a){if(e!==r||i!==o){var l=s.push("translate(",null,t,null,n);a.push({i:l-4,x:Bp(e,r)},{i:l-2,x:Bp(i,o)})}else(r||o)&&s.push("translate("+r+t+o+n)}(o.translateX,o.translateY,s.translateX,s.translateY,h,d),a=o.rotate,l=s.rotate,c=h,u=d,a!==l?(a-l>180?l+=360:l-a>180&&(a+=360),u.push({i:c.push(r(c)+"rotate(",null,i)-2,x:Bp(a,l)})):l&&c.push(r(c)+"rotate("+l+i),function(e,t,n,o){e!==t?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:Bp(e,t)}):t&&n.push(r(n)+"skewX("+t+i)}(o.skewX,s.skewX,h,d),function(e,t,n,i,o,s){if(e!==n||t!==i){var a=o.push(r(o)+"scale(",null,",",null,")");s.push({i:a-4,x:Bp(e,n)},{i:a-2,x:Bp(t,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,h,d),o=s=null,function(e){for(var t,n=-1,i=d.length;++n<i;)h[(t=d[n]).i]=t.x(e);return h.join("")}}}var Up=Hp((function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Vp:Wp(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),$p=Hp((function(e){return null==e?Vp:(jp||(jp=document.createElementNS("http://www.w3.org/2000/svg","g")),jp.setAttribute("transform",e),(e=jp.transform.baseVal.consolidate())?Wp((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Vp)}),", ",")",")");function qp(e,t){var n,i;return function(){var r=Rp(this,e),o=r.tween;if(o!==n)for(var s=0,a=(i=n=o).length;s<a;++s)if(i[s].name===t){(i=i.slice()).splice(s,1);break}r.tween=i}}function Kp(e,t,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=Rp(this,e),s=o.tween;if(s!==i){r=(i=s).slice();for(var a={name:t,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=a;break}l===c&&r.push(a)}o.tween=r}}function Yp(e,t,n){var i=e._id;return e.each((function(){var e=Rp(this,i);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return Pp(e,i).value[t]}}function Gp(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Xp(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Zp(){}var Jp=.7,Qp=1.4285714285714286,eg="\\s*([+-]?\\d+)\\s*",tg="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ng="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ig=/^#([0-9a-f]{3,8})$/,rg=new RegExp("^rgb\\("+[eg,eg,eg]+"\\)$"),og=new RegExp("^rgb\\("+[ng,ng,ng]+"\\)$"),sg=new RegExp("^rgba\\("+[eg,eg,eg,tg]+"\\)$"),ag=new RegExp("^rgba\\("+[ng,ng,ng,tg]+"\\)$"),lg=new RegExp("^hsl\\("+[tg,ng,ng]+"\\)$"),cg=new RegExp("^hsla\\("+[tg,ng,ng,tg]+"\\)$"),ug={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function hg(){return this.rgb().formatHex()}function dg(){return this.rgb().formatRgb()}function fg(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ig.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?pg(t):3===n?new yg(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?gg(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?gg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=rg.exec(e))?new yg(t[1],t[2],t[3],1):(t=og.exec(e))?new yg(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=sg.exec(e))?gg(t[1],t[2],t[3],t[4]):(t=ag.exec(e))?gg(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=lg.exec(e))?Cg(t[1],t[2]/100,t[3]/100,1):(t=cg.exec(e))?Cg(t[1],t[2]/100,t[3]/100,t[4]):ug.hasOwnProperty(e)?pg(ug[e]):"transparent"===e?new yg(NaN,NaN,NaN,0):null}function pg(e){return new yg(e>>16&255,e>>8&255,255&e,1)}function gg(e,t,n,i){return i<=0&&(e=t=n=NaN),new yg(e,t,n,i)}function mg(e){return e instanceof Zp||(e=fg(e)),e?new yg((e=e.rgb()).r,e.g,e.b,e.opacity):new yg}function vg(e,t,n,i){return 1===arguments.length?mg(e):new yg(e,t,n,null==i?1:i)}function yg(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}function bg(){return"#"+wg(this.r)+wg(this.g)+wg(this.b)}function _g(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function wg(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Cg(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new kg(e,t,n,i)}function xg(e){if(e instanceof kg)return new kg(e.h,e.s,e.l,e.opacity);if(e instanceof Zp||(e=fg(e)),!e)return new kg;if(e instanceof kg)return e;var t=(e=e.rgb()).r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),o=Math.max(t,n,i),s=NaN,a=o-r,l=(o+r)/2;return a?(s=t===o?(n-i)/a+6*(n<i):n===o?(i-t)/a+2:(t-n)/a+4,a/=l<.5?o+r:2-o-r,s*=60):a=l>0&&l<1?0:s,new kg(s,a,l,e.opacity)}function kg(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function Sg(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}Gp(Zp,fg,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:hg,formatHex:hg,formatHsl:function(){return xg(this).formatHsl()},formatRgb:dg,toString:dg}),Gp(yg,vg,Xp(Zp,{brighter:function(e){return e=null==e?Qp:Math.pow(Qp,e),new yg(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?Jp:Math.pow(Jp,e),new yg(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bg,formatHex:bg,formatRgb:_g,toString:_g})),Gp(kg,(function(e,t,n,i){return 1===arguments.length?xg(e):new kg(e,t,n,null==i?1:i)}),Xp(Zp,{brighter:function(e){return e=null==e?Qp:Math.pow(Qp,e),new kg(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?Jp:Math.pow(Jp,e),new kg(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new yg(Sg(e>=240?e-240:e+120,r,i),Sg(e,r,i),Sg(e<120?e+240:e-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));const Dg=e=>()=>e;function Eg(e,t){var n,i,r=t-e;return r?(n=e,i=r,function(e){return n+e*i}):Dg(isNaN(e)?t:e)}const Lg=function e(t){var n,i=1==(n=+(n=t))?Eg:function(e,t){return t-e?(i=e,r=t,o=n,i=Math.pow(i,o),r=Math.pow(r,o)-i,o=1/o,function(e){return Math.pow(i+e*r,o)}):Dg(isNaN(e)?t:e);var i,r,o};function r(e,t){var n=i((e=vg(e)).r,(t=vg(t)).r),r=i(e.g,t.g),o=i(e.b,t.b),s=Eg(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=r(t),e.b=o(t),e.opacity=s(t),e+""}}return r.gamma=e,r}(1);var Tg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ng=new RegExp(Tg.source,"g");function Mg(e,t){var n,i,r,o,s=Tg.lastIndex=Ng.lastIndex=0,a=-1,l=[],c=[];for(e+="",t+="";(n=Tg.exec(e))&&(i=Ng.exec(t));)(r=i.index)>s&&(r=t.slice(s,r),l[a]?l[a]+=r:l[++a]=r),(n=n[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:Bp(n,i)})),s=Ng.lastIndex;return s<t.length&&(r=t.slice(s),l[a]?l[a]+=r:l[++a]=r),l.length<2?c[0]?(o=c[0].x,function(e){return o(e)+""}):function(e){return function(){return e}}(t):(t=c.length,function(e){for(var n,i=0;i<t;++i)l[(n=c[i]).i]=n.x(e);return l.join("")})}function Ag(e,t){var n;return("number"==typeof t?Bp:t instanceof fg?Lg:(n=fg(t))?(t=n,Lg):Mg)(e,t)}function Ig(e){return function(){this.removeAttribute(e)}}function Og(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Fg(e,t,n){var i,r,o=n+"";return function(){var s=this.getAttribute(e);return s===o?null:s===i?r:r=t(i=s,n)}}function Rg(e,t,n){var i,r,o=n+"";return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===i?r:r=t(i=s,n)}}function Pg(e,t,n){var i,r,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttribute(e))===(a=l+"")?null:s===i&&a===r?o:(r=a,o=t(i=s,l));this.removeAttribute(e)}}function Bg(e,t,n){var i,r,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttributeNS(e.space,e.local))===(a=l+"")?null:s===i&&a===r?o:(r=a,o=t(i=s,l));this.removeAttributeNS(e.space,e.local)}}function jg(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function zg(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Vg(e,t){var n,i;function r(){var r=t.apply(this,arguments);return r!==i&&(n=(i=r)&&zg(e,r)),n}return r._value=t,r}function Wg(e,t){var n,i;function r(){var r=t.apply(this,arguments);return r!==i&&(n=(i=r)&&jg(e,r)),n}return r._value=t,r}function Hg(e,t){return function(){Fp(this,e).delay=+t.apply(this,arguments)}}function Ug(e,t){return t=+t,function(){Fp(this,e).delay=t}}function $g(e,t){return function(){Rp(this,e).duration=+t.apply(this,arguments)}}function qg(e,t){return t=+t,function(){Rp(this,e).duration=t}}function Kg(e,t){if("function"!=typeof t)throw new Error;return function(){Rp(this,e).ease=t}}function Yg(e,t,n){var i,r,o=(t+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))?Fp:Rp;return function(){var s=o(this,e),a=s.on;a!==i&&(r=(i=a).copy()).on(t,n),s.on=r}}var Gg=sp.prototype.constructor;function Xg(e){return function(){this.style.removeProperty(e)}}function Zg(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function Jg(e,t,n){var i,r;function o(){var o=t.apply(this,arguments);return o!==r&&(i=(r=o)&&Zg(e,o,n)),i}return o._value=t,o}function Qg(e){return function(t){this.textContent=e.call(this,t)}}function em(e){var t,n;function i(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Qg(i)),t}return i._value=e,i}var tm=0;function nm(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function im(){return++tm}var rm=sp.prototype;nm.prototype={constructor:nm,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=qd(e));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var a,l,c=i[s],u=c.length,h=o[s]=new Array(u),d=0;d<u;++d)(a=c[d])&&(l=e.call(a,a.__data__,d,c))&&("__data__"in a&&(l.__data__=a.__data__),h[d]=l,Op(h[d],t,n,d,h,Pp(a,n)));return new nm(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Gd(e));for(var i=this._groups,r=i.length,o=[],s=[],a=0;a<r;++a)for(var l,c=i[a],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var d,f=e.call(l,l.__data__,h,c),p=Pp(l,n),g=0,m=f.length;g<m;++g)(d=f[g])&&Op(d,t,n,g,f,p);o.push(f),s.push(l)}return new nm(o,s,t,n)},selectChild:rm.selectChild,selectChildren:rm.selectChildren,filter:function(e){"function"!=typeof e&&(e=Xd(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o,s=t[r],a=s.length,l=i[r]=[],c=0;c<a;++c)(o=s[c])&&e.call(o,o.__data__,c,s)&&l.push(o);return new nm(i,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var l,c=t[a],u=n[a],h=c.length,d=s[a]=new Array(h),f=0;f<h;++f)(l=c[f]||u[f])&&(d[f]=l);for(;a<i;++a)s[a]=t[a];return new nm(s,this._parents,this._name,this._id)},selection:function(){return new Gg(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=im(),i=this._groups,r=i.length,o=0;o<r;++o)for(var s,a=i[o],l=a.length,c=0;c<l;++c)if(s=a[c]){var u=Pp(s,t);Op(s,e,n,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new nm(i,this._parents,e,n)},call:rm.call,nodes:rm.nodes,node:rm.node,size:rm.size,empty:rm.empty,each:rm.each,on:function(e,t){var n=this._id;return arguments.length<2?Pp(this.node(),n).on.on(e):this.each(Yg(n,e,t))},attr:function(e,t){var n=ff(e),i="transform"===n?$p:Ag;return this.attrTween(e,"function"==typeof t?(n.local?Bg:Pg)(n,i,Yp(this,"attr."+e,t)):null==t?(n.local?Og:Ig)(n):(n.local?Rg:Fg)(n,i,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var i=ff(e);return this.tween(n,(i.local?Vg:Wg)(i,t))},style:function(e,t,n){var i,r,o,s,a,l="transform"==(e+="")?Up:Ag;return null==t?this.styleTween(e,(i=e,r=l,function(){var e=kf(this,i),t=(this.style.removeProperty(i),kf(this,i));return e===t?null:e===o&&t===s?a:a=r(o=e,s=t)})).on("end.style."+e,Xg(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var i,r,o;return function(){var s=kf(this,e),a=n(this),l=a+"";return null==a&&(this.style.removeProperty(e),l=a=kf(this,e)),s===l?null:s===i&&l===r?o:(r=l,o=t(i=s,a))}}(e,l,Yp(this,"style."+e,t))).each(function(e,t){var n,i,r,o,s="style."+t,a="end."+s;return function(){var l=Rp(this,e),c=l.on,u=null==l.value[s]?o||(o=Xg(t)):void 0;c===n&&r===u||(i=(n=c).copy()).on(a,r=u),l.on=i}}(this._id,e)):this.styleTween(e,function(e,t,n){var i,r,o=n+"";return function(){var s=kf(this,e);return s===o?null:s===i?r:r=t(i=s,n)}}(e,l,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,Jg(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?(t=Yp(this,"text",e),function(){var e=t(this);this.textContent=null==e?"":e}):function(e){return function(){this.textContent=e}}(null==e?"":e+""));var t},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,em(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i,r=Pp(this.node(),n).tween,o=0,s=r.length;o<s;++o)if((i=r[o]).name===e)return i.value;return null}return this.each((null==t?qp:Kp)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Hg:Ug)(t,e)):Pp(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?$g:qg)(t,e)):Pp(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(Kg(t,e)):Pp(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each((t=this._id,n=e,function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;Rp(this,t).ease=e}));var t,n},end:function(){var e,t,n=this,i=n._id,r=n.size();return new Promise((function(o,s){var a={value:s},l={value:function(){0==--r&&o()}};n.each((function(){var n=Rp(this,i),r=n.on;r!==e&&((t=(e=r).copy())._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),n.on=t})),0===r&&o()}))},[Symbol.iterator]:rm[Symbol.iterator]};var om={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function sm(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}sp.prototype.interrupt=function(e){return this.each((function(){!function(e,t){var n,i,r,o=e.__transition,s=!0;if(o){for(r in t=null==t?null:t+"",o)(n=o[r]).name===t?(i=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[r]):s=!1;s&&delete e.__transition}}(this,e)}))},sp.prototype.transition=function(e){var t,n;e instanceof nm?(t=e._id,e=e._name):(t=im(),(n=om).time=kp(),e=null==e?null:e+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var s,a=i[o],l=a.length,c=0;c<l;++c)(s=a[c])&&Op(s,e,t,c,a,n||sm(s,t));return new nm(i,this._parents,e,t)};var am="comm",lm="rule",cm="decl",um=Math.abs,hm=String.fromCharCode;function dm(e){return e.trim()}function fm(e,t,n){return e.replace(t,n)}function pm(e,t){return 0|e.charCodeAt(t)}function gm(e,t,n){return e.slice(t,n)}function mm(e){return e.length}function vm(e){return e.length}function ym(e,t){return t.push(e),e}function bm(e,t){for(var n="",i=vm(e),r=0;r<i;r++)n+=t(e[r],r,e,t)||"";return n}function _m(e,t,n,i){switch(e.type){case"@import":case cm:return e.return=e.return||e.value;case am:return"";case lm:e.value=e.props.join(",")}return mm(n=bm(e.children,i))?e.return=e.value+"{"+n+"}":""}var wm=1,Cm=1,xm=0,km=0,Sm=0,Dm="";function Em(e,t,n,i,r,o,s){return{value:e,root:t,parent:n,type:i,props:r,children:o,line:wm,column:Cm,length:s,return:""}}function Lm(){return Sm=km<xm?pm(Dm,km++):0,Cm++,10===Sm&&(Cm=1,wm++),Sm}function Tm(){return pm(Dm,km)}function Nm(){return km}function Mm(e,t){return gm(Dm,e,t)}function Am(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Im(e){return dm(Mm(km-1,Rm(91===e?e+2:40===e?e+1:e)))}function Om(e){for(;(Sm=Tm())&&Sm<33;)Lm();return Am(e)>2||Am(Sm)>3?"":" "}function Fm(e,t){for(;--t&&Lm()&&!(Sm<48||Sm>102||Sm>57&&Sm<65||Sm>70&&Sm<97););return Mm(e,Nm()+(t<6&&32==Tm()&&32==Lm()))}function Rm(e){for(;Lm();)switch(Sm){case e:return km;case 34:case 39:return Rm(34===e||39===e?e:Sm);case 40:41===e&&Rm(e);break;case 92:Lm()}return km}function Pm(e,t){for(;Lm()&&e+Sm!==57&&(e+Sm!==84||47!==Tm()););return"/*"+Mm(t,km-1)+"*"+hm(47===e?e:Lm())}function Bm(e){for(;!Am(Tm());)Lm();return Mm(e,km)}function jm(e){return function(e){return Dm="",e}(zm("",null,null,null,[""],(wm=Cm=1,xm=mm(Dm=e),km=0,e=[]),0,[0],e))}function zm(e,t,n,i,r,o,s,a,l){for(var c=0,u=0,h=s,d=0,f=0,p=0,g=1,m=1,v=1,y=0,b="",_=r,w=o,C=i,x=b;m;)switch(p=y,y=Lm()){case 34:case 39:case 91:case 40:x+=Im(y);break;case 9:case 10:case 13:case 32:x+=Om(p);break;case 92:x+=Fm(Nm()-1,7);continue;case 47:switch(Tm()){case 42:case 47:ym(Wm(Pm(Lm(),Nm()),t,n),l);break;default:x+="/"}break;case 123*g:a[c++]=mm(x)*v;case 125*g:case 59:case 0:switch(y){case 0:case 125:m=0;case 59+u:f>0&&mm(x)-h&&ym(f>32?Hm(x+";",i,n,h-1):Hm(fm(x," ","")+";",i,n,h-2),l);break;case 59:x+=";";default:if(ym(C=Vm(x,t,n,c,u,r,a,b,_=[],w=[],h),o),123===y)if(0===u)zm(x,t,C,C,_,o,h,a,w);else switch(d){case 100:case 109:case 115:zm(e,C,C,i&&ym(Vm(e,C,C,0,0,r,a,b,r,_=[],h),w),r,w,h,a,i?_:w);break;default:zm(x,C,C,C,[""],w,h,a,w)}}c=u=f=0,g=v=1,b=x="",h=s;break;case 58:h=1+mm(x),f=p;default:if(g<1)if(123==y)--g;else if(125==y&&0==g++&&125==(Sm=km>0?pm(Dm,--km):0,Cm--,10===Sm&&(Cm=1,wm--),Sm))continue;switch(x+=hm(y),y*g){case 38:v=u>0?1:(x+="\f",-1);break;case 44:a[c++]=(mm(x)-1)*v,v=1;break;case 64:45===Tm()&&(x+=Im(Lm())),d=Tm(),u=mm(b=x+=Bm(Nm())),y++;break;case 45:45===p&&2==mm(x)&&(g=0)}}return o}function Vm(e,t,n,i,r,o,s,a,l,c,u){for(var h=r-1,d=0===r?o:[""],f=vm(d),p=0,g=0,m=0;p<i;++p)for(var v=0,y=gm(e,h+1,h=um(g=s[p])),b=e;v<f;++v)(b=dm(g>0?d[v]+" "+y:fm(y,/&\f/g,d[v])))&&(l[m++]=b);return Em(e,t,n,0===r?lm:a,l,c,u)}function Wm(e,t,n){return Em(e,t,n,am,hm(Sm),gm(e,2,-2),0)}function Hm(e,t,n,i){return Em(e,t,n,cm,gm(e,0,i),gm(e,i+1,-1),i)}var Um=n(9609),$m=n(7856),qm=n.n($m),Km=function(e){for(var t="",n=0;n>=0;){if(!((n=e.indexOf("<script"))>=0)){t+=e,n=-1;break}t+=e.substr(0,n),(n=(e=e.substr(n+1)).indexOf("<\/script>"))>=0&&(n+=9,e=e.substr(n))}return(t=(t=(t=(t=t.replace(/script>/gi,"#")).replace(/script>/gi,"#")).replace(/javascript:/gi,"#")).replace(/onerror=/gi,"onerror:")).replace(/<iframe/gi,"")},Ym=function(e,t){return e?qm().sanitize(function(e,t){var n=e,i=!0;if(!t.flowchart||!1!==t.flowchart.htmlLabels&&"false"!==t.flowchart.htmlLabels||(i=!1),i){var r=t.securityLevel;"antiscript"===r?n=Km(n):"loose"!==r&&(n=(n=(n=Zm(n)).replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/=/g,"&equals;"),n=Xm(n))}return n}(e,t)):e},Gm=/<br\s*\/?>/gi,Xm=function(e){return e.replace(/#br#/g,"<br/>")},Zm=function(e){return e.replace(Gm,"#br#")},Jm=function(e){return"false"!==e&&!1!==e};const Qm={getRows:function(e){if(!e)return 1;var t=Zm(e);return(t=t.replace(/\\n/g,"#br#")).split("#br#")},sanitizeText:Ym,hasBreaks:function(e){return/<br\s*[/]?>/gi.test(e)},splitBreaks:function(e){return e.split(/<br\s*[/]?>/gi)},lineBreakRegex:Gm,removeScript:Km,getUrl:function(e){var t="";return e&&(t=(t=(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),t},evaluate:Jm};var ev=n(8613),tv=function(e,t){return t?(0,ev.adjust)(e,{s:-40,l:10}):(0,ev.adjust)(e,{s:-40,l:-10})};function nv(e){return(nv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var iv=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.background="#f4f4f4",this.darkMode=!1,this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}var t;return(t=[{key:"updateColors",value:function(){this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#ddd":"#333"),this.secondaryColor=this.secondaryColor||(0,ev.adjust)(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||(0,ev.adjust)(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||tv(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||tv(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||tv(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||tv(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||(0,ev.invert)(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||(0,ev.invert)(this.tertiaryColor),this.lineColor=this.lineColor||(0,ev.invert)(this.background),this.textColor=this.textColor||this.primaryTextColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?(0,ev.darken)(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||(0,ev.darken)(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||(0,ev.invert)(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||(0,ev.lighten)(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||(0,ev.adjust)(this.primaryColor,{h:64}),this.fillType3=this.fillType3||(0,ev.adjust)(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||(0,ev.adjust)(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||(0,ev.adjust)(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||(0,ev.adjust)(this.primaryColor,{h:128}),this.fillType7=this.fillType7||(0,ev.adjust)(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||(0,ev.adjust)(this.primaryColor,{l:-10}),this.pie5=this.pie5||(0,ev.adjust)(this.secondaryColor,{l:-10}),this.pie6=this.pie6||(0,ev.adjust)(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||(0,ev.adjust)(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||(0,ev.adjust)(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||(0,ev.adjust)(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||(0,ev.adjust)(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||(0,ev.adjust)(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||(0,ev.adjust)(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?(0,ev.darken)(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor}},{key:"calculate",value:function(e){var t=this;if("object"===nv(e)){var n=Object.keys(e);n.forEach((function(n){t[n]=e[n]})),this.updateColors(),n.forEach((function(n){t[n]=e[n]}))}else this.updateColors()}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t),e}();function rv(e){return(rv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ov=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=(0,ev.lighten)(this.primaryColor,16),this.tertiaryColor=(0,ev.adjust)(this.primaryColor,{h:-160}),this.primaryBorderColor=tv(this.primaryColor,this.darkMode),this.secondaryBorderColor=tv(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=tv(this.tertiaryColor,this.darkMode),this.primaryTextColor=(0,ev.invert)(this.primaryColor),this.secondaryTextColor=(0,ev.invert)(this.secondaryColor),this.tertiaryTextColor=(0,ev.invert)(this.tertiaryColor),this.lineColor=(0,ev.invert)(this.background),this.textColor=(0,ev.invert)(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=(0,ev.lighten)((0,ev.invert)("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=(0,ev.rgba)(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=(0,ev.darken)("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.taskBorderColor=(0,ev.rgba)(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=(0,ev.rgba)(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}var t;return(t=[{key:"updateColors",value:function(){this.secondBkg=(0,ev.lighten)(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=(0,ev.lighten)(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=(0,ev.lighten)(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=(0,ev.adjust)(this.primaryColor,{h:64}),this.fillType3=(0,ev.adjust)(this.secondaryColor,{h:64}),this.fillType4=(0,ev.adjust)(this.primaryColor,{h:-64}),this.fillType5=(0,ev.adjust)(this.secondaryColor,{h:-64}),this.fillType6=(0,ev.adjust)(this.primaryColor,{h:128}),this.fillType7=(0,ev.adjust)(this.secondaryColor,{h:128}),this.pie1=this.pie1||"#0b0000",this.pie2=this.pie2||"#4d1037",this.pie3=this.pie3||"#3f5258",this.pie4=this.pie4||"#4f2f1b",this.pie5=this.pie5||"#6e0a0a",this.pie6=this.pie6||"#3b0048",this.pie7=this.pie7||"#995a01",this.pie8=this.pie8||"#154706",this.pie9=this.pie9||"#161722",this.pie10=this.pie10||"#00296f",this.pie11=this.pie11||"#01629c",this.pie12=this.pie12||"#010029",this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?(0,ev.darken)(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor}},{key:"calculate",value:function(e){var t=this;if("object"===rv(e)){var n=Object.keys(e);n.forEach((function(n){t[n]=e[n]})),this.updateColors(),n.forEach((function(n){t[n]=e[n]}))}else this.updateColors()}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t),e}();function sv(e){return(sv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var av=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=(0,ev.adjust)(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=(0,ev.adjust)(this.primaryColor,{h:-160}),this.primaryBorderColor=tv(this.primaryColor,this.darkMode),this.secondaryBorderColor=tv(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=tv(this.tertiaryColor,this.darkMode),this.primaryTextColor=(0,ev.invert)(this.primaryColor),this.secondaryTextColor=(0,ev.invert)(this.secondaryColor),this.tertiaryTextColor=(0,ev.invert)(this.tertiaryColor),this.lineColor=(0,ev.invert)(this.background),this.textColor=(0,ev.invert)(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=(0,ev.rgba)(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}var t;return(t=[{key:"updateColors",value:function(){this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=(0,ev.lighten)(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=(0,ev.adjust)(this.primaryColor,{h:64}),this.fillType3=(0,ev.adjust)(this.secondaryColor,{h:64}),this.fillType4=(0,ev.adjust)(this.primaryColor,{h:-64}),this.fillType5=(0,ev.adjust)(this.secondaryColor,{h:-64}),this.fillType6=(0,ev.adjust)(this.primaryColor,{h:128}),this.fillType7=(0,ev.adjust)(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||(0,ev.adjust)(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||(0,ev.adjust)(this.primaryColor,{l:-10}),this.pie5=this.pie5||(0,ev.adjust)(this.secondaryColor,{l:-30}),this.pie6=this.pie6||(0,ev.adjust)(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||(0,ev.adjust)(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||(0,ev.adjust)(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||(0,ev.adjust)(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||(0,ev.adjust)(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||(0,ev.adjust)(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||(0,ev.adjust)(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor}},{key:"calculate",value:function(e){var t=this;if("object"===sv(e)){var n=Object.keys(e);n.forEach((function(n){t[n]=e[n]})),this.updateColors(),n.forEach((function(n){t[n]=e[n]}))}else this.updateColors()}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t),e}();function lv(e){return(lv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var cv=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=(0,ev.lighten)("#cde498",10),this.primaryBorderColor=tv(this.primaryColor,this.darkMode),this.secondaryBorderColor=tv(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=tv(this.tertiaryColor,this.darkMode),this.primaryTextColor=(0,ev.invert)(this.primaryColor),this.secondaryTextColor=(0,ev.invert)(this.secondaryColor),this.tertiaryTextColor=(0,ev.invert)(this.primaryColor),this.lineColor=(0,ev.invert)(this.background),this.textColor=(0,ev.invert)(this.background),this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}var t;return(t=[{key:"updateColors",value:function(){this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.actorBorder=(0,ev.darken)(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=(0,ev.adjust)(this.primaryColor,{h:64}),this.fillType3=(0,ev.adjust)(this.secondaryColor,{h:64}),this.fillType4=(0,ev.adjust)(this.primaryColor,{h:-64}),this.fillType5=(0,ev.adjust)(this.secondaryColor,{h:-64}),this.fillType6=(0,ev.adjust)(this.primaryColor,{h:128}),this.fillType7=(0,ev.adjust)(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||(0,ev.adjust)(this.primaryColor,{l:-30}),this.pie5=this.pie5||(0,ev.adjust)(this.secondaryColor,{l:-30}),this.pie6=this.pie6||(0,ev.adjust)(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||(0,ev.adjust)(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||(0,ev.adjust)(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||(0,ev.adjust)(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||(0,ev.adjust)(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||(0,ev.adjust)(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||(0,ev.adjust)(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor}},{key:"calculate",value:function(e){var t=this;if("object"===lv(e)){var n=Object.keys(e);n.forEach((function(n){t[n]=e[n]})),this.updateColors(),n.forEach((function(n){t[n]=e[n]}))}else this.updateColors()}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t),e}();function uv(e){return(uv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var hv=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=(0,ev.lighten)(this.contrast,55),this.background="#ffffff",this.tertiaryColor=(0,ev.adjust)(this.primaryColor,{h:-160}),this.primaryBorderColor=tv(this.primaryColor,this.darkMode),this.secondaryBorderColor=tv(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=tv(this.tertiaryColor,this.darkMode),this.primaryTextColor=(0,ev.invert)(this.primaryColor),this.secondaryTextColor=(0,ev.invert)(this.secondaryColor),this.tertiaryTextColor=(0,ev.invert)(this.tertiaryColor),this.lineColor=(0,ev.invert)(this.background),this.textColor=(0,ev.invert)(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}var t;return(t=[{key:"updateColors",value:function(){this.secondBkg=(0,ev.lighten)(this.contrast,55),this.border2=this.contrast,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.actorBorder=(0,ev.lighten)(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.sectionBkgColor=(0,ev.lighten)(this.contrast,30),this.sectionBkgColor2=(0,ev.lighten)(this.contrast,30),this.taskBorderColor=(0,ev.darken)(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=(0,ev.lighten)(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=(0,ev.darken)(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=(0,ev.adjust)(this.primaryColor,{h:64}),this.fillType3=(0,ev.adjust)(this.secondaryColor,{h:64}),this.fillType4=(0,ev.adjust)(this.primaryColor,{h:-64}),this.fillType5=(0,ev.adjust)(this.secondaryColor,{h:-64}),this.fillType6=(0,ev.adjust)(this.primaryColor,{h:128}),this.fillType7=(0,ev.adjust)(this.secondaryColor,{h:128}),this.pie1=this.pie1||"#F4F4F4",this.pie2=this.pie2||"#555",this.pie3=this.pie3||"#BBB",this.pie4=this.pie4||"#777",this.pie5=this.pie5||"#999",this.pie6=this.pie6||"#DDD",this.pie7=this.pie7||"#FFF",this.pie8=this.pie8||"#DDD",this.pie9=this.pie9||"#BBB",this.pie10=this.pie10||"#999",this.pie11=this.pie11||"#777",this.pie12=this.pie12||"#555",this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor}},{key:"calculate",value:function(e){var t=this;if("object"===uv(e)){var n=Object.keys(e);n.forEach((function(n){t[n]=e[n]})),this.updateColors(),n.forEach((function(n){t[n]=e[n]}))}else this.updateColors()}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t),e}();const dv={base:{getThemeVariables:function(e){var t=new iv;return t.calculate(e),t}},dark:{getThemeVariables:function(e){var t=new ov;return t.calculate(e),t}},default:{getThemeVariables:function(e){var t=new av;return t.calculate(e),t}},forest:{getThemeVariables:function(e){var t=new cv;return t.calculate(e),t}},neutral:{getThemeVariables:function(e){var t=new hv;return t.calculate(e),t}}};function fv(e){return function(e){if(Array.isArray(e))return pv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return pv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pv(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function gv(e){return(gv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var mv={theme:"default",themeVariables:dv.default.getThemeVariables(),themeCSS:void 0,maxTextSize:5e4,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize"],deterministicIds:!1,deterministicIDSeed:void 0,flowchart:{diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,useMaxWidth:!0,defaultRenderer:"dagre-d3"},sequence:{activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open-Sans", "sans-serif"',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",useMaxWidth:!0,topAxis:!1,useWidth:void 0},journey:{diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open-Sans", "sans-serif"',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{arrowMarkerAbsolute:!1,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},git:{arrowMarkerAbsolute:!1,useWidth:void 0,useMaxWidth:!0},state:{dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},er:{diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12,useMaxWidth:!0},pie:{useWidth:void 0,useMaxWidth:!0},requirement:{useWidth:void 0,useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20}};mv.class.arrowMarkerAbsolute=mv.arrowMarkerAbsolute,mv.git.arrowMarkerAbsolute=mv.arrowMarkerAbsolute;var vv=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.keys(t).reduce((function(i,r){return Array.isArray(t[r])?i:"object"===gv(t[r])&&null!==t[r]?[].concat(fv(i),[n+r],fv(e(t[r],""))):[].concat(fv(i),[n+r])}),[])}(mv,"");const yv=mv;var bv=void 0;function _v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=xv(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function wv(e){return(wv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cv(e){return function(e){if(Array.isArray(e))return kv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xv(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xv(e,t){if(e){if("string"==typeof e)return kv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kv(e,t):void 0}}function kv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Sv,Dv={curveBasis:wc,curveBasisClosed:function(e){return new Cc(e)},curveBasisOpen:function(e){return new xc(e)},curveLinear:dc,curveLinearClosed:function(e){return new kc(e)},curveMonotoneX:function(e){return new Tc(e)},curveMonotoneY:function(e){return new Nc(e)},curveNatural:function(e){return new Ac(e)},curveStep:function(e){return new Oc(e,.5)},curveStepAfter:function(e){return new Oc(e,1)},curveStepBefore:function(e){return new Oc(e,0)}},Ev=/[%]{2}[{]\s*(?:(?:(\w+)\s*:|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi,Lv=/\s*(?:(?:(\w+)(?=:):|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi,Tv=/\s*%%.*\n/gm,Nv=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{var n=new RegExp("[%]{2}(?![{]".concat(Lv.source,")(?=[}][%]{2}).*\n"),"ig");e=e.trim().replace(n,"").replace(/'/gm,'"'),s.debug("Detecting diagram directive".concat(null!==t?" type:"+t:""," based on the text:").concat(e));for(var i,r=[];null!==(i=Ev.exec(e));)if(i.index===Ev.lastIndex&&Ev.lastIndex++,i&&!t||t&&i[1]&&i[1].match(t)||t&&i[2]&&i[2].match(t)){var o=i[1]?i[1]:i[2],a=i[3]?i[3].trim():i[4]?JSON.parse(i[4].trim()):null;r.push({type:o,args:a})}return 0===r.length&&r.push({type:e,args:null}),1===r.length?r[0]:r}catch(l){return s.error("ERROR: ".concat(l.message," - Unable to parse directive\n      ").concat(null!==t?" type:"+t:""," based on the text:").concat(e)),{type:null,args:null}}},Mv=function(e,t){return(e=e.replace(Ev,"").replace(Tv,"\n")).match(/^\s*sequenceDiagram/)?"sequence":e.match(/^\s*gantt/)?"gantt":e.match(/^\s*classDiagram-v2/)?"classDiagram":e.match(/^\s*classDiagram/)?t&&t.class&&"dagre-wrapper"===t.class.defaultRenderer?"classDiagram":"class":e.match(/^\s*stateDiagram-v2/)?"stateDiagram":e.match(/^\s*stateDiagram/)?t&&t.class&&"dagre-wrapper"===t.state.defaultRenderer?"stateDiagram":"state":e.match(/^\s*gitGraph/)?"git":e.match(/^\s*flowchart/)?"flowchart-v2":e.match(/^\s*info/)?"info":e.match(/^\s*pie/)?"pie":e.match(/^\s*erDiagram/)?"er":e.match(/^\s*journey/)?"journey":e.match(/^\s*requirement/)||e.match(/^\s*requirementDiagram/)?"requirement":t&&t.flowchart&&"dagre-wrapper"===t.flowchart.defaultRenderer?"flowchart-v2":"flowchart"},Av=function(e,t){var n={};return function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];var s=t?t.apply(bv,r):r[0];if(s in n)return n[s];var a=e.apply(void 0,r);return n[s]=a,a}},Iv=function(e,t){if(!e)return t;var n="curve".concat(e.charAt(0).toUpperCase()+e.slice(1));return Dv[n]||t},Ov=function(e,t){return e&&t?Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0},Fv=function(e){for(var t="",n="",i=0;i<e.length;i++)void 0!==e[i]&&(e[i].startsWith("color:")||e[i].startsWith("text-align:")?n=n+e[i]+";":t=t+e[i]+";");return{style:t,labelStyle:n}},Rv=0,Pv=function(){return Rv++,"id-"+Math.random().toString(36).substr(2,12)+"-"+Rv},Bv=function(e){return function(e){for(var t="",n="0123456789abcdef",i=n.length,r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*i));return t}(e.length)},jv=function e(t,n,i){var r=Object.assign({depth:2,clobber:!1},i),o=r.depth,s=r.clobber;return Array.isArray(n)&&!Array.isArray(t)?(n.forEach((function(n){return e(t,n,i)})),t):Array.isArray(n)&&Array.isArray(t)?(n.forEach((function(e){-1===t.indexOf(e)&&t.push(e)})),t):void 0===t||o<=0?null!=t&&"object"===wv(t)&&"object"===wv(n)?Object.assign(t,n):n:(void 0!==n&&"object"===wv(t)&&"object"===wv(n)&&Object.keys(n).forEach((function(i){"object"!==wv(n[i])||void 0!==t[i]&&"object"!==wv(t[i])?(s||"object"!==wv(t[i])&&"object"!==wv(n[i]))&&(t[i]=n[i]):(void 0===t[i]&&(t[i]=Array.isArray(n[i])?[]:{}),t[i]=e(t[i],n[i],{depth:o-1,clobber:s}))})),t)},zv=function(e,t){var n=t.text.replace(Qm.lineBreakRegex," "),i=e.append("text");i.attr("x",t.x),i.attr("y",t.y),i.style("text-anchor",t.anchor),i.style("font-family",t.fontFamily),i.style("font-size",t.fontSize),i.style("font-weight",t.fontWeight),i.attr("fill",t.fill),void 0!==t.class&&i.attr("class",t.class);var r=i.append("tspan");return r.attr("x",t.x+2*t.textMargin),r.attr("fill",t.fill),r.text(n),i},Vv=Av((function(e,t,n){if(!e)return e;if(n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},n),Qm.lineBreakRegex.test(e))return e;var i=e.split(" "),r=[],o="";return i.forEach((function(e,s){var a=Hv("".concat(e," "),n),l=Hv(o,n);if(a>t){var c=Wv(e,t,"-",n),u=c.hyphenatedStrings,h=c.remainingWord;r.push.apply(r,[o].concat(Cv(u))),o=h}else l+a>=t?(r.push(o),o=e):o=[o,e].filter(Boolean).join(" ");s+1===i.length&&r.push(o)})),r.filter((function(e){return""!==e})).join(n.joinWith)}),(function(e,t,n){return"".concat(e,"-").concat(t,"-").concat(n.fontSize,"-").concat(n.fontWeight,"-").concat(n.fontFamily,"-").concat(n.joinWith)})),Wv=Av((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",i=arguments.length>3?arguments[3]:void 0;i=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},i);var r=e.split(""),o=[],s="";return r.forEach((function(e,a){var l="".concat(s).concat(e);if(Hv(l,i)>=t){var c=a+1,u=r.length===c,h="".concat(l).concat(n);o.push(u?l:h),s=""}else s=l})),{hyphenatedStrings:o,remainingWord:s}}),(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",i=arguments.length>3?arguments[3]:void 0;return"".concat(e,"-").concat(t,"-").concat(n,"-").concat(i.fontSize,"-").concat(i.fontWeight,"-").concat(i.fontFamily)})),Hv=function(e,t){return t=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},t),Uv(e,t).width},Uv=Av((function(e,t){var n=t=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},t),i=n.fontSize,r=n.fontFamily,o=n.fontWeight;if(!e)return{width:0,height:0};var s=["sans-serif",r],a=e.split(Qm.lineBreakRegex),l=[],c=Il("body");if(!c.remove)return{width:0,height:0,lineHeight:0};for(var u=c.append("svg"),h=0,d=s;h<d.length;h++){var f,p=d[h],g=0,m={width:0,height:0,lineHeight:0},v=_v(a);try{for(v.s();!(f=v.n()).done;){var y=f.value,b={x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0};b.text=y;var _=zv(u,b).style("font-size",i).style("font-weight",o).style("font-family",p),w=(_._groups||_)[0][0].getBBox();m.width=Math.round(Math.max(m.width,w.width)),g=Math.round(w.height),m.height+=g,m.lineHeight=Math.round(Math.max(m.lineHeight,g))}}catch(C){v.e(C)}finally{v.f()}l.push(m)}return u.remove(),l[isNaN(l[1].height)||isNaN(l[1].width)||isNaN(l[1].lineHeight)||l[0].height>l[1].height&&l[0].width>l[1].width&&l[0].lineHeight>l[1].lineHeight?0:1]}),(function(e,t){return"".concat(e,"-").concat(t.fontSize,"-").concat(t.fontWeight,"-").concat(t.fontFamily)})),$v=function(e,t,n){var i=new Map;return i.set("height",e),n?(i.set("width","100%"),i.set("style","max-width: ".concat(t,"px;"))):i.set("width",t),i},qv=function(e,t,n,i){!function(e,t){var n,i=_v(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;e.attr(r[0],r[1])}}catch(o){i.e(o)}finally{i.f()}}(e,$v(t,n,i))},Kv=function e(t){s.debug("directiveSanitizer called with",t),"object"===wv(t)&&(t.length?t.forEach((function(t){return e(t)})):Object.keys(t).forEach((function(n){s.debug("Checking key",n),0===n.indexOf("__")&&(s.debug("sanitize deleting __ option",n),delete t[n]),n.indexOf("proto")>=0&&(s.debug("sanitize deleting proto option",n),delete t[n]),n.indexOf("constr")>=0&&(s.debug("sanitize deleting constr option",n),delete t[n]),vv.indexOf(n)<0?(s.debug("sanitize deleting option",n),delete t[n]):"object"===wv(t[n])&&(s.debug("sanitize deleting object",n),e(t[n]))})))};const Yv={assignWithDepth:jv,wrapLabel:Vv,calculateTextHeight:function(e,t){return t=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:15},t),Uv(e,t).height},calculateTextWidth:Hv,calculateTextDimensions:Uv,calculateSvgSizeAttrs:$v,configureSvgSize:qv,detectInit:function(e,t){var n=Nv(e,/(?:init\b)|(?:initialize\b)/),i={};if(Array.isArray(n)){var r=n.map((function(e){return e.args}));Kv(r),i=jv(i,Cv(r))}else i=n.args;if(i){var o=Mv(e,t);["config"].forEach((function(e){void 0!==i[e]&&("flowchart-v2"===o&&(o="flowchart"),i[o]=i[e],delete i[e])}))}return i},detectDirective:Nv,detectType:Mv,isSubstringInArray:function(e,t){for(var n=0;n<t.length;n++)if(t[n].match(e))return n;return-1},interpolateToCurve:Iv,calcLabelPosition:function(e){return function(e){var t,n=0;e.forEach((function(e){n+=Ov(e,t),t=e}));var i=n/2,r=void 0;return t=void 0,e.forEach((function(e){if(t&&!r){var n=Ov(e,t);if(n<i)i-=n;else{var o=i/n;o<=0&&(r=t),o>=1&&(r={x:e.x,y:e.y}),o>0&&o<1&&(r={x:(1-o)*t.x+o*e.x,y:(1-o)*t.y+o*e.y})}}t=e})),r}(e)},calcCardinalityPosition:function(e,t,n){var i;s.info("our points",t),t[0]!==n&&(t=t.reverse()),t.forEach((function(e){Ov(e,i),i=e}));var r,o=25;i=void 0,t.forEach((function(e){if(i&&!r){var t=Ov(e,i);if(t<o)o-=t;else{var n=o/t;n<=0&&(r=i),n>=1&&(r={x:e.x,y:e.y}),n>0&&n<1&&(r={x:(1-n)*i.x+n*e.x,y:(1-n)*i.y+n*e.y})}}i=e}));var a=e?10:5,l=Math.atan2(t[0].y-r.y,t[0].x-r.x),c={x:0,y:0};return c.x=Math.sin(l)*a+(t[0].x+r.x)/2,c.y=-Math.cos(l)*a+(t[0].y+r.y)/2,c},calcTerminalLabelPosition:function(e,t,n){var i,r=JSON.parse(JSON.stringify(n));s.info("our points",r),"start_left"!==t&&"start_right"!==t&&(r=r.reverse()),r.forEach((function(e){Ov(e,i),i=e}));var o,a=25+e;i=void 0,r.forEach((function(e){if(i&&!o){var t=Ov(e,i);if(t<a)a-=t;else{var n=a/t;n<=0&&(o=i),n>=1&&(o={x:e.x,y:e.y}),n>0&&n<1&&(o={x:(1-n)*i.x+n*e.x,y:(1-n)*i.y+n*e.y})}}i=e}));var l=10+.5*e,c=Math.atan2(r[0].y-o.y,r[0].x-o.x),u={x:0,y:0};return u.x=Math.sin(c)*l+(r[0].x+o.x)/2,u.y=-Math.cos(c)*l+(r[0].y+o.y)/2,"start_left"===t&&(u.x=Math.sin(c+Math.PI)*l+(r[0].x+o.x)/2,u.y=-Math.cos(c+Math.PI)*l+(r[0].y+o.y)/2),"end_right"===t&&(u.x=Math.sin(c-Math.PI)*l+(r[0].x+o.x)/2-5,u.y=-Math.cos(c-Math.PI)*l+(r[0].y+o.y)/2-5),"end_left"===t&&(u.x=Math.sin(c)*l+(r[0].x+o.x)/2-5,u.y=-Math.cos(c)*l+(r[0].y+o.y)/2-5),u},formatUrl:function(e,t){var n=e.trim();if(n)return"loose"!==t.securityLevel?(0,Um.sanitizeUrl)(n):n},getStylesFromArray:Fv,generateId:Pv,random:Bv,memoize:Av,runFunc:function(e){for(var t,n=e.split("."),i=n.length-1,r=n[i],o=window,s=0;s<i;s++)if(!(o=o[n[s]]))return;for(var a=arguments.length,l=new Array(a>1?a-1:0),c=1;c<a;c++)l[c-1]=arguments[c];(t=o)[r].apply(t,l)},entityDecode:function(e){return Sv=Sv||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),Sv.innerHTML=e,unescape(Sv.textContent)},initIdGeneratior:function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.deterministic=t,this.seed=n,this.count=n?n.length:0}var t;return(t=[{key:"next",value:function(){return this.deterministic?this.count++:Date.now()}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t),e}(),directiveSanitizer:Kv};function Gv(e){return(Gv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Xv,Zv=Object.freeze(yv),Jv=jv({},Zv),Qv=[],ey=jv({},Zv),ty=function(e,t){for(var n=jv({},e),i={},r=0;r<t.length;r++){var o=t[r];ry(o),i=jv(i,o)}if(n=jv(n,i),i.theme){var s=jv({},Xv),a=jv(s.themeVariables||{},i.themeVariables);n.themeVariables=dv[n.theme].getThemeVariables(a)}return ey=n,n},ny=function(){return jv({},Jv)},iy=function(){return jv({},ey)},ry=function e(t){Object.keys(Jv.secure).forEach((function(e){void 0!==t[Jv.secure[e]]&&(s.debug("Denied attempt to modify a secure key ".concat(Jv.secure[e]),t[Jv.secure[e]]),delete t[Jv.secure[e]])})),Object.keys(t).forEach((function(e){0===e.indexOf("__")&&delete t[e]})),Object.keys(t).forEach((function(n){"string"==typeof t[n]&&(t[n].indexOf("<")>-1||t[n].indexOf(">")>-1||t[n].indexOf("url(data:")>-1)&&delete t[n],"object"===Gv(t[n])&&e(t[n])}))},oy=function(e){e.fontFamily&&(e.themeVariables&&e.themeVariables.fontFamily||(e.themeVariables={fontFamily:e.fontFamily})),Qv.push(e),ty(Jv,Qv)},sy=function(){ty(Jv,Qv=[])};function ay(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var ly="classid-",cy=[],uy={},hy=0,dy=[],fy=function(e){var t="",n=e;if(e.indexOf("~")>0){var i=e.split("~");n=i[0],t=i[1]}return{className:n,type:t}},py=function(e){var t=fy(e);void 0===uy[t.className]&&(uy[t.className]={id:t.className,type:t.type,cssClasses:[],methods:[],members:[],annotations:[],domId:ly+t.className+"-"+hy},hy++)},gy=function(e){for(var t=Object.keys(uy),n=0;n<t.length;n++)if(uy[t[n]].id===e)return uy[t[n]].domId},my=function(e,t){var n=fy(e).className,i=uy[n];if("string"==typeof t){var r=t.trim();r.startsWith("<<")&&r.endsWith(">>")?i.annotations.push(r.substring(2,r.length-2)):r.indexOf(")")>0?i.methods.push(r):r&&i.members.push(r)}},vy=function(e,t){e.split(",").forEach((function(e){var n=e;e[0].match(/\d/)&&(n=ly+n),void 0!==uy[n]&&uy[n].cssClasses.push(t)}))},yy={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},by=function(e){var t=Il(".mermaidTooltip");null===(t._groups||t)[0][0]&&(t=Il("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),Il(e).select("svg").selectAll("g.node").on("mouseover",(function(){var e=Il(this);if(null!==e.attr("title")){var n=this.getBoundingClientRect();t.transition().duration(200).style("opacity",".9"),t.html(e.attr("title")).style("left",window.scrollX+n.left+(n.right-n.left)/2+"px").style("top",window.scrollY+n.top-14+document.body.scrollTop+"px"),e.classed("hover",!0)}})).on("mouseout",(function(){t.transition().duration(500).style("opacity",0),Il(this).classed("hover",!1)}))};dy.push(by);var _y="TB";const wy={parseDirective:function(e,t,n){Ok.parseDirective(this,e,t,n)},getConfig:function(){return iy().class},addClass:py,bindFunctions:function(e){dy.forEach((function(t){t(e)}))},clear:function(){cy=[],uy={},(dy=[]).push(by)},getClass:function(e){return uy[e]},getClasses:function(){return uy},addAnnotation:function(e,t){var n=fy(e).className;uy[n].annotations.push(t)},getRelations:function(){return cy},addRelation:function(e){s.debug("Adding relation: "+JSON.stringify(e)),py(e.id1),py(e.id2),e.id1=fy(e.id1).className,e.id2=fy(e.id2).className,cy.push(e)},getDirection:function(){return _y},setDirection:function(e){_y=e},addMember:my,addMembers:function(e,t){Array.isArray(t)&&(t.reverse(),t.forEach((function(t){return my(e,t)})))},cleanupLabel:function(e){return":"===e.substring(0,1)?e.substr(1).trim():e.trim()},lineType:{LINE:0,DOTTED_LINE:1},relationType:yy,setClickEvent:function(e,t,n){e.split(",").forEach((function(e){(function(e,t,n){var i=iy(),r=e,o=gy(r);if("loose"===i.securityLevel&&void 0!==t&&void 0!==uy[r]){var s=[];if("string"==typeof n){s=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(var a=0;a<s.length;a++){var l=s[a].trim();'"'===l.charAt(0)&&'"'===l.charAt(l.length-1)&&(l=l.substr(1,l.length-2)),s[a]=l}}0===s.length&&s.push(o),dy.push((function(){var e=document.querySelector('[id="'.concat(o,'"]'));null!==e&&e.addEventListener("click",(function(){var e;Yv.runFunc.apply(Yv,[t].concat(function(e){if(Array.isArray(e))return ay(e)}(e=s)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ay(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ay(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))}),!1)}))}})(e,t,n),uy[e].haveCallback=!0})),vy(e,"clickable")},setCssClass:vy,setLink:function(e,t,n){var i=iy();e.split(",").forEach((function(e){var r=e;e[0].match(/\d/)&&(r=ly+r),void 0!==uy[r]&&(uy[r].link=Yv.formatUrl(t,i),uy[r].linkTarget="string"==typeof n?n:"_blank")})),vy(e,"clickable")},setTooltip:function(e,t){var n=iy();e.split(",").forEach((function(e){void 0!==t&&(uy[e].tooltip=Qm.sanitizeText(t,n))}))},lookUpDomId:gy};var Cy=n(681),xy=n.n(Cy),ky=n(8282),Sy=n.n(ky),Dy=n(5051),Ey=n.n(Dy),Ly=0,Ty=function(e){var t=e.match(/^(\+|-|~|#)?(\w+)(~\w+~|\[\])?\s+(\w+) *(\*|\$)?$/),n=e.match(/^([+|\-|~|#])?(\w+) *\( *(.*)\) *(\*|\$)? *(\w*[~|[\]]*\s*\w*~?)$/);return t&&!n?Ny(t):n?My(n):Ay(e)},Ny=function(e){var t="",n="";try{var i=e[1]?e[1].trim():"",r=e[2]?e[2].trim():"",o=e[3]?Oy(e[3].trim()):"",s=e[4]?e[4].trim():"",a=e[5]?e[5].trim():"";n=i+r+o+" "+s,t=Fy(a)}catch(l){n=e}return{displayText:n,cssStyle:t}},My=function(e){var t="",n="";try{var i=e[1]?e[1].trim():"",r=e[2]?e[2].trim():"",o=e[3]?Oy(e[3].trim()):"",s=e[4]?e[4].trim():"";n=i+r+"("+o+")"+(e[5]?" : "+Oy(e[5]).trim():""),t=Fy(s)}catch(a){n=e}return{displayText:n,cssStyle:t}},Ay=function(e){var t="",n="",i="",r=e.indexOf("("),o=e.indexOf(")");if(r>1&&o>r&&o<=e.length){var s="",a="",l=e.substring(0,1);l.match(/\w/)?a=e.substring(0,r).trim():(l.match(/\+|-|~|#/)&&(s=l),a=e.substring(1,r).trim());var c=e.substring(r+1,o),u=e.substring(o+1,1);n=Fy(u),t=s+a+"("+Oy(c.trim())+")",o<"".length&&""!==(i=e.substring(o+2).trim())&&(i=" : "+Oy(i))}else t=Oy(e);return{displayText:t,cssStyle:n}},Iy=function(e,t,n,i){var r=Ty(t),o=e.append("tspan").attr("x",i.padding).text(r.displayText);""!==r.cssStyle&&o.attr("style",r.cssStyle),n||o.attr("dy",i.textHeight)},Oy=function e(t){var n=t;return-1!=t.indexOf("~")?e(n=(n=n.replace("~","<")).replace("~",">")):n},Fy=function(e){switch(e){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}};const Ry=function(e,t,n){s.info("Rendering class "+t);var i,r=t.id,o={id:r,label:t.id,width:0,height:0},a=e.append("g").attr("id",gy(r)).attr("class","classGroup");i=t.link?a.append("svg:a").attr("xlink:href",t.link).attr("target",t.linkTarget).append("text").attr("y",n.textHeight+n.padding).attr("x",0):a.append("text").attr("y",n.textHeight+n.padding).attr("x",0);var l=!0;t.annotations.forEach((function(e){var t=i.append("tspan").text(""+e+"");l||t.attr("dy",n.textHeight),l=!1}));var c=t.id;void 0!==t.type&&""!==t.type&&(c+="<"+t.type+">");var u=i.append("tspan").text(c).attr("class","title");l||u.attr("dy",n.textHeight);var h=i.node().getBBox().height,d=a.append("line").attr("x1",0).attr("y1",n.padding+h+n.dividerMargin/2).attr("y2",n.padding+h+n.dividerMargin/2),f=a.append("text").attr("x",n.padding).attr("y",h+n.dividerMargin+n.textHeight).attr("fill","white").attr("class","classText");l=!0,t.members.forEach((function(e){Iy(f,e,l,n),l=!1}));var p=f.node().getBBox(),g=a.append("line").attr("x1",0).attr("y1",n.padding+h+n.dividerMargin+p.height).attr("y2",n.padding+h+n.dividerMargin+p.height),m=a.append("text").attr("x",n.padding).attr("y",h+2*n.dividerMargin+p.height+n.textHeight).attr("fill","white").attr("class","classText");l=!0,t.methods.forEach((function(e){Iy(m,e,l,n),l=!1}));var v=a.node().getBBox(),y=" ";t.cssClasses.length>0&&(y+=t.cssClasses.join(" "));var b=a.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",v.width+2*n.padding).attr("height",v.height+n.padding+.5*n.dividerMargin).attr("class",y).node().getBBox().width;return i.node().childNodes.forEach((function(e){e.setAttribute("x",(b-e.getBBox().width)/2)})),t.tooltip&&i.insert("title").text(t.tooltip),d.attr("x2",b),g.attr("x2",b),o.width=b,o.height=v.height+n.padding+.5*n.dividerMargin,o};Dy.parser.yy=wy;var Py={},By={dividerMargin:10,padding:5,textHeight:10},jy=function(e){for(var t=Object.keys(Py),n=0;n<t.length;n++)if(Py[t[n]].label===e)return t[n]};const zy=function(e){Object.keys(e).forEach((function(t){By[t]=e[t]}))};var Vy={extension:function(e,t,n){s.trace("Making markers for ",n),e.append("defs").append("marker").attr("id",t+"-extensionStart").attr("class","marker extension "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},composition:function(e,t){e.append("defs").append("marker").attr("id",t+"-compositionStart").attr("class","marker composition "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},aggregation:function(e,t){e.append("defs").append("marker").attr("id",t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},dependency:function(e,t){e.append("defs").append("marker").attr("id",t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},point:function(e,t){e.append("marker").attr("id",t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",0).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},circle:function(e,t){e.append("marker").attr("id",t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},cross:function(e,t){e.append("marker").attr("id",t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},barb:function(e,t){e.append("defs").append("marker").attr("id",t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")}};function Wy(e){return(Wy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}const Hy=function(e,t,n,i){var r,o,a,l,c,u,h=e||"";if("object"===Wy(h)&&(h=h[0]),Jm(iy().flowchart.htmlLabels))return h=h.replace(/\\n|\n/g,"<br />"),s.info("vertexText"+h),r={isNode:i,label:h.replace(/fa[lrsb]?:fa-[\w-]+/g,(function(e){return"<i class='".concat(e.replace(":"," "),"'></i>")})),labelStyle:t.replace("fill:","color:")},l=(a=Il(document.createElementNS("http://www.w3.org/2000/svg","foreignObject"))).append("xhtml:div"),c=r.label,u=r.isNode?"nodeLabel":"edgeLabel",l.html('<span class="'+u+'" '+(r.labelStyle?'style="'+r.labelStyle+'"':"")+">"+c+"</span>"),(o=r.labelStyle)&&l.attr("style",o),l.style("display","inline-block"),l.style("white-space","nowrap"),l.attr("xmlns","http://www.w3.org/1999/xhtml"),a.node();var d=document.createElementNS("http://www.w3.org/2000/svg","text");d.setAttribute("style",t.replace("color:","fill:"));var f=[];f="string"==typeof h?h.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(h)?h:[];for(var p=0;p<f.length;p++){var g=document.createElementNS("http://www.w3.org/2000/svg","tspan");g.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),g.setAttribute("dy","1em"),g.setAttribute("x","0"),n?g.setAttribute("class","title-row"):g.setAttribute("class","row"),g.textContent=f[p].trim(),d.appendChild(g)}return d};var Uy=function(e,t,n,i){var r;r=n||"node default";var o=e.insert("g").attr("class",r).attr("id",t.domId||t.id),s=o.insert("g").attr("class","label").attr("style",t.labelStyle),a=s.node().appendChild(Hy(t.labelText,t.labelStyle,!1,i)),l=a.getBBox();if(Jm(iy().flowchart.htmlLabels)){var c=a.children[0],u=Il(a);l=c.getBoundingClientRect(),u.attr("width",l.width),u.attr("height",l.height)}var h=t.padding/2;return s.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),{shapeSvg:o,bbox:l,halfPadding:h,label:s}},$y=function(e,t){var n=t.node().getBBox();e.width=n.width,e.height=n.height};function qy(e,t,n,i){return e.insert("polygon",":first-child").attr("points",i.map((function(e){return e.x+","+e.y})).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+n/2+")")}var Ky={},Yy={},Gy={},Xy=function(e,t){return s.trace("In isDecendant",t," ",e," = ",Yy[t].indexOf(e)>=0),Yy[t].indexOf(e)>=0},Zy=function e(t,n,i,r){s.warn("Copying children of ",t,"root",r,"data",n.node(t),r);var o=n.children(t)||[];t!==r&&o.push(t),s.warn("Copying (nodes) clusterId",t,"nodes",o),o.forEach((function(o){if(n.children(o).length>0)e(o,n,i,r);else{var a=n.node(o);s.info("cp ",o," to ",r," with parent ",t),i.setNode(o,a),r!==n.parent(o)&&(s.warn("Setting parent",o,n.parent(o)),i.setParent(o,n.parent(o))),t!==r&&o!==t?(s.debug("Setting parent",o,t),i.setParent(o,t)):(s.info("In copy ",t,"root",r,"data",n.node(t),r),s.debug("Not Setting parent for node=",o,"cluster!==rootId",t!==r,"node!==clusterId",o!==t));var l=n.edges(o);s.debug("Copying Edges",l),l.forEach((function(e){s.info("Edge",e);var o,a,l=n.edge(e.v,e.w,e.name);s.info("Edge data",l,r);try{o=e,a=r,s.info("Decendants of ",a," is ",Yy[a]),s.info("Edge is ",o),o.v!==a&&o.w!==a&&(Yy[a]?(s.info("Here "),Yy[a].indexOf(o.v)>=0||Xy(o.v,a)||Xy(o.w,a)||Yy[a].indexOf(o.w)>=0):(s.debug("Tilt, ",a,",not in decendants"),0))?(s.info("Copying as ",e.v,e.w,l,e.name),i.setEdge(e.v,e.w,l,e.name),s.info("newGraph edges ",i.edges(),i.edge(i.edges()[0]))):s.info("Skipping copy of edge ",e.v,"--\x3e",e.w," rootId: ",r," clusterId:",t)}catch(o){s.error(o)}}))}s.debug("Removing node",o),n.removeNode(o)}))},Jy=function e(t,n){for(var i=n.children(t),r=[].concat(i),o=0;o<i.length;o++)Gy[i[o]]=t,r=r.concat(e(i[o],n));return r},Qy=function e(t,n){s.trace("Searching",t);var i=n.children(t);if(s.trace("Searching children of id ",t,i),i.length<1)return s.trace("This is a valid node",t),t;for(var r=0;r<i.length;r++){var o=e(i[r],n);if(o)return s.trace("Found replacement for",t," => ",o),o}},eb=function(e){return Ky[e]&&Ky[e].externalConnections&&Ky[e]?Ky[e].id:e},tb=function(e,t){!e||t>10?s.debug("Opting out, no graph "):(s.debug("Opting in, graph "),e.nodes().forEach((function(t){e.children(t).length>0&&(s.warn("Cluster identified",t," Replacement id in edges: ",Qy(t,e)),Yy[t]=Jy(t,e),Ky[t]={id:Qy(t,e),clusterData:e.node(t)})})),e.nodes().forEach((function(t){var n=e.children(t),i=e.edges();n.length>0?(s.debug("Cluster identified",t,Yy),i.forEach((function(e){e.v!==t&&e.w!==t&&Xy(e.v,t)^Xy(e.w,t)&&(s.warn("Edge: ",e," leaves cluster ",t),s.warn("Decendants of XXX ",t,": ",Yy[t]),Ky[t].externalConnections=!0)}))):s.debug("Not a cluster ",t,Yy)})),e.edges().forEach((function(t){var n=e.edge(t);s.warn("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(t)),s.warn("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(e.edge(t)));var i=t.v,r=t.w;s.warn("Fix XXX",Ky,"ids:",t.v,t.w,"Translateing: ",Ky[t.v]," --- ",Ky[t.w]),(Ky[t.v]||Ky[t.w])&&(s.warn("Fixing and trixing - removing XXX",t.v,t.w,t.name),i=eb(t.v),r=eb(t.w),e.removeEdge(t.v,t.w,t.name),i!==t.v&&(n.fromCluster=t.v),r!==t.w&&(n.toCluster=t.w),s.warn("Fix Replacing with XXX",i,r,t.name),e.setEdge(i,r,n,t.name))})),s.warn("Adjusted Graph",Sy().json.write(e)),nb(e,0),s.trace(Ky))},nb=function e(t,n){if(s.warn("extractor - ",n,Sy().json.write(t),t.children("D")),n>10)s.error("Bailing out");else{for(var i=t.nodes(),r=!1,o=0;o<i.length;o++){var a=i[o],l=t.children(a);r=r||l.length>0}if(r){s.debug("Nodes = ",i,n);for(var c=0;c<i.length;c++){var u=i[c];if(s.debug("Extracting node",u,Ky,Ky[u]&&!Ky[u].externalConnections,!t.parent(u),t.node(u),t.children("D")," Depth ",n),Ky[u])if(!Ky[u].externalConnections&&t.children(u)&&t.children(u).length>0){s.warn("Cluster without external connections, without a parent and with children",u,n);var h="TB"===t.graph().rankdir?"LR":"TB";Ky[u]&&Ky[u].clusterData&&Ky[u].clusterData.dir&&(h=Ky[u].clusterData.dir,s.warn("Fixing dir",Ky[u].clusterData.dir,h));var d=new(Sy().Graph)({multigraph:!0,compound:!0}).setGraph({rankdir:h,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}}));s.warn("Old graph before copy",Sy().json.write(t)),Zy(u,t,d,u),t.setNode(u,{clusterNode:!0,id:u,clusterData:Ky[u].clusterData,labelText:Ky[u].labelText,graph:d}),s.warn("New graph after copy node: (",u,")",Sy().json.write(d)),s.debug("Old graph after copy",Sy().json.write(t))}else s.warn("Cluster ** ",u," **not meeting the criteria !externalConnections:",!Ky[u].externalConnections," no parent: ",!t.parent(u)," children ",t.children(u)&&t.children(u).length>0,t.children("D"),n),s.debug(Ky);else s.debug("Not a cluster",u,n)}i=t.nodes(),s.warn("New list of nodes",i);for(var f=0;f<i.length;f++){var p=i[f],g=t.node(p);s.warn(" Now next level",p,g),g.clusterNode&&e(g.graph,n+1)}}else s.debug("Done, no node has children",t.nodes())}},ib=function e(t,n){if(0===n.length)return[];var i=Object.assign(n);return n.forEach((function(n){var r=t.children(n),o=e(t,r);i=i.concat(o)})),i},rb=function(e){return ib(e,e.children())},ob=n(3841);function sb(e,t){return e*t>0}const ab=function(e,t,n,i){var r,o,s,a,l,c,u,h,d,f,p,g,m;if(r=t.y-e.y,s=e.x-t.x,l=t.x*e.y-e.x*t.y,d=r*n.x+s*n.y+l,f=r*i.x+s*i.y+l,!(0!==d&&0!==f&&sb(d,f)||(o=i.y-n.y,a=n.x-i.x,c=i.x*n.y-n.x*i.y,u=o*e.x+a*e.y+c,h=o*t.x+a*t.y+c,0!==u&&0!==h&&sb(u,h)||0==(p=r*a-o*s))))return g=Math.abs(p/2),{x:(m=s*c-a*l)<0?(m-g)/p:(m+g)/p,y:(m=o*l-r*c)<0?(m-g)/p:(m+g)/p}},lb=function(e,t){var n,i,r=e.x,o=e.y,s=t.x-r,a=t.y-o,l=e.width/2,c=e.height/2;return Math.abs(a)*l>Math.abs(s)*c?(a<0&&(c=-c),n=0===a?0:c*s/a,i=c):(s<0&&(l=-l),n=l,i=0===s?0:l*a/s),{x:r+n,y:o+i}},cb=(n.n(ob)(),function(e,t,n){return function(e,t,n,i){var r=e.x,o=e.y,s=r-i.x,a=o-i.y,l=Math.sqrt(t*t*a*a+n*n*s*s),c=Math.abs(t*n*s/l);i.x<r&&(c=-c);var u=Math.abs(t*n*a/l);return i.y<o&&(u=-u),{x:r+c,y:o+u}}(e,t,t,n)}),ub=function(e,t,n){var i=e.x,r=e.y,o=[],s=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY;"function"==typeof t.forEach?t.forEach((function(e){s=Math.min(s,e.x),a=Math.min(a,e.y)})):(s=Math.min(s,t.x),a=Math.min(a,t.y));for(var l=i-e.width/2-s,c=r-e.height/2-a,u=0;u<t.length;u++){var h=t[u],d=t[u<t.length-1?u+1:0],f=ab(e,n,{x:l+h.x,y:c+h.y},{x:l+d.x,y:c+d.y});f&&o.push(f)}return o.length?(o.length>1&&o.sort((function(e,t){var i=e.x-n.x,r=e.y-n.y,o=Math.sqrt(i*i+r*r),s=t.x-n.x,a=t.y-n.y,l=Math.sqrt(s*s+a*a);return o<l?-1:o===l?0:1})),o[0]):e},hb=lb;function db(e){return(db="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var fb=function(e,t,n){var i=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),r=70,o=10;"LR"===n&&(r=10,o=70);var s=i.append("rect").attr("x",-1*r/2).attr("y",-1*o/2).attr("width",r).attr("height",o).attr("class","fork-join");return $y(t,s),t.height=t.height+t.padding/2,t.width=t.width+t.padding/2,t.intersect=function(e){return hb(t,e)},i},pb={question:function(e,t){var n=Uy(e,t,void 0,!0),i=n.shapeSvg,r=n.bbox,o=r.width+t.padding+(r.height+t.padding),a=[{x:o/2,y:0},{x:o,y:-o/2},{x:o/2,y:-o},{x:0,y:-o/2}];s.info("Question main (Circle)");var l=qy(i,o,o,a);return l.attr("style",t.style),$y(t,l),t.intersect=function(e){return s.warn("Intersect called"),ub(t,a,e)},i},rect:function(e,t){var n=Uy(e,t,"node "+t.classes,!0),i=n.shapeSvg,r=n.bbox,o=n.halfPadding;s.trace("Classes = ",t.classes);var a=i.insert("rect",":first-child");return a.attr("class","basic label-container").attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",-r.width/2-o).attr("y",-r.height/2-o).attr("width",r.width+t.padding).attr("height",r.height+t.padding),$y(t,a),t.intersect=function(e){return hb(t,e)},i},rectWithTitle:function(e,t){var n;n=t.classes?"node "+t.classes:"node default";var i,r=e.insert("g").attr("class",n).attr("id",t.domId||t.id),o=r.insert("rect",":first-child"),a=r.insert("line"),l=r.insert("g").attr("class","label"),c=t.labelText.flat?t.labelText.flat():t.labelText;i="object"===db(c)?c[0]:c,s.info("Label text abc79",i,c,"object"===db(c));var u=l.node().appendChild(Hy(i,t.labelStyle,!0,!0)),h={width:0,height:0};if(Jm(iy().flowchart.htmlLabels)){var d=u.children[0],f=Il(u);h=d.getBoundingClientRect(),f.attr("width",h.width),f.attr("height",h.height)}s.info("Text 2",c);var p=c.slice(1,c.length),g=u.getBBox(),m=l.node().appendChild(Hy(p.join?p.join("<br/>"):p,t.labelStyle,!0,!0));if(Jm(iy().flowchart.htmlLabels)){var v=m.children[0],y=Il(m);h=v.getBoundingClientRect(),y.attr("width",h.width),y.attr("height",h.height)}var b=t.padding/2;return Il(m).attr("transform","translate( "+(h.width>g.width?0:(g.width-h.width)/2)+", "+(g.height+b+5)+")"),Il(u).attr("transform","translate( "+(h.width<g.width?0:-(g.width-h.width)/2)+", 0)"),h=l.node().getBBox(),l.attr("transform","translate("+-h.width/2+", "+(-h.height/2-b+3)+")"),o.attr("class","outer title-state").attr("x",-h.width/2-b).attr("y",-h.height/2-b).attr("width",h.width+t.padding).attr("height",h.height+t.padding),a.attr("class","divider").attr("x1",-h.width/2-b).attr("x2",h.width/2+b).attr("y1",-h.height/2-b+g.height+b).attr("y2",-h.height/2-b+g.height+b),$y(t,o),t.intersect=function(e){return hb(t,e)},r},choice:function(e,t){var n=e.insert("g").attr("class","node default").attr("id",t.domId||t.id);return n.insert("polygon",":first-child").attr("points",[{x:0,y:14},{x:14,y:0},{x:0,y:-14},{x:-14,y:0}].map((function(e){return e.x+","+e.y})).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),t.width=28,t.height=28,t.intersect=function(e){return cb(t,14,e)},n},circle:function(e,t){var n=Uy(e,t,void 0,!0),i=n.shapeSvg,r=n.bbox,o=n.halfPadding,a=i.insert("circle",":first-child");return a.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",r.width/2+o).attr("width",r.width+t.padding).attr("height",r.height+t.padding),s.info("Circle main"),$y(t,a),t.intersect=function(e){return s.info("Circle intersect",t,r.width/2+o,e),cb(t,r.width/2+o,e)},i},stadium:function(e,t){var n=Uy(e,t,void 0,!0),i=n.shapeSvg,r=n.bbox,o=r.height+t.padding,s=r.width+o/4+t.padding,a=i.insert("rect",":first-child").attr("style",t.style).attr("rx",o/2).attr("ry",o/2).attr("x",-s/2).attr("y",-o/2).attr("width",s).attr("height",o);return $y(t,a),t.intersect=function(e){return hb(t,e)},i},hexagon:function(e,t){var n=Uy(e,t,void 0,!0),i=n.shapeSvg,r=n.bbox,o=r.height+t.padding,s=o/4,a=r.width+2*s+t.padding,l=[{x:s,y:0},{x:a-s,y:0},{x:a,y:-o/2},{x:a-s,y:-o},{x:s,y:-o},{x:0,y:-o/2}],c=qy(i,a,o,l);return c.attr("style",t.style),$y(t,c),t.intersect=function(e){return ub(t,l,e)},i},rect_left_inv_arrow:function(e,t){var n=Uy(e,t,void 0,!0),i=n.shapeSvg,r=n.bbox,o=r.width+t.padding,s=r.height+t.padding,a=[{x:-s/2,y:0},{x:o,y:0},{x:o,y:-s},{x:-s/2,y:-s},{x:0,y:-s/2}];return qy(i,o,s,a).attr("style",t.style),t.width=o+s,t.height=s,t.intersect=function(e){return ub(t,a,e)},i},lean_right:function(e,t){var n=Uy(e,t,void 0,!0),i=n.shapeSvg,r=n.bbox,o=r.width+t.padding,s=r.height+t.padding,a=[{x:-2*s/6,y:0},{x:o-s/6,y:0},{x:o+2*s/6,y:-s},{x:s/6,y:-s}],l=qy(i,o,s,a);return l.attr("style",t.style),$y(t,l),t.intersect=function(e){return ub(t,a,e)},i},lean_left:function(e,t){var n=Uy(e,t,void 0,!0),i=n.shapeSvg,r=n.bbox,o=r.width+t.padding,s=r.height+t.padding,a=[{x:2*s/6,y:0},{x:o+s/6,y:0},{x:o-2*s/6,y:-s},{x:-s/6,y:-s}],l=qy(i,o,s,a);return l.attr("style",t.style),$y(t,l),t.intersect=function(e){return ub(t,a,e)},i},trapezoid:function(e,t){var n=Uy(e,t,void 0,!0),i=n.shapeSvg,r=n.bbox,o=r.width+t.padding,s=r.height+t.padding,a=[{x:-2*s/6,y:0},{x:o+2*s/6,y:0},{x:o-s/6,y:-s},{x:s/6,y:-s}],l=qy(i,o,s,a);return l.attr("style",t.style),$y(t,l),t.intersect=function(e){return ub(t,a,e)},i},inv_trapezoid:function(e,t){var n=Uy(e,t,void 0,!0),i=n.shapeSvg,r=n.bbox,o=r.width+t.padding,s=r.height+t.padding,a=[{x:s/6,y:0},{x:o-s/6,y:0},{x:o+2*s/6,y:-s},{x:-2*s/6,y:-s}],l=qy(i,o,s,a);return l.attr("style",t.style),$y(t,l),t.intersect=function(e){return ub(t,a,e)},i},rect_right_inv_arrow:function(e,t){var n=Uy(e,t,void 0,!0),i=n.shapeSvg,r=n.bbox,o=r.width+t.padding,s=r.height+t.padding,a=[{x:0,y:0},{x:o+s/2,y:0},{x:o,y:-s/2},{x:o+s/2,y:-s},{x:0,y:-s}],l=qy(i,o,s,a);return l.attr("style",t.style),$y(t,l),t.intersect=function(e){return ub(t,a,e)},i},cylinder:function(e,t){var n=Uy(e,t,void 0,!0),i=n.shapeSvg,r=n.bbox,o=r.width+t.padding,s=o/2,a=s/(2.5+o/50),l=r.height+a+t.padding,c="M 0,"+a+" a "+s+","+a+" 0,0,0 "+o+" 0 a "+s+","+a+" 0,0,0 "+-o+" 0 l 0,"+l+" a "+s+","+a+" 0,0,0 "+o+" 0 l 0,"+-l,u=i.attr("label-offset-y",a).insert("path",":first-child").attr("style",t.style).attr("d",c).attr("transform","translate("+-o/2+","+-(l/2+a)+")");return $y(t,u),t.intersect=function(e){var n=hb(t,e),i=n.x-t.x;if(0!=s&&(Math.abs(i)<t.width/2||Math.abs(i)==t.width/2&&Math.abs(n.y-t.y)>t.height/2-a)){var r=a*a*(1-i*i/(s*s));0!=r&&(r=Math.sqrt(r)),r=a-r,e.y-t.y>0&&(r=-r),n.y+=r}return n},i},start:function(e,t){var n=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),i=n.insert("circle",":first-child");return i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),$y(t,i),t.intersect=function(e){return cb(t,7,e)},n},end:function(e,t){var n=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),i=n.insert("circle",":first-child"),r=n.insert("circle",":first-child");return r.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),i.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),$y(t,r),t.intersect=function(e){return cb(t,7,e)},n},note:function(e,t){var n=Uy(e,t,"node "+t.classes,!0),i=n.shapeSvg,r=n.bbox,o=n.halfPadding;s.info("Classes = ",t.classes);var a=i.insert("rect",":first-child");return a.attr("rx",t.rx).attr("ry",t.ry).attr("x",-r.width/2-o).attr("y",-r.height/2-o).attr("width",r.width+t.padding).attr("height",r.height+t.padding),$y(t,a),t.intersect=function(e){return hb(t,e)},i},subroutine:function(e,t){var n=Uy(e,t,void 0,!0),i=n.shapeSvg,r=n.bbox,o=r.width+t.padding,s=r.height+t.padding,a=[{x:0,y:0},{x:o,y:0},{x:o,y:-s},{x:0,y:-s},{x:0,y:0},{x:-8,y:0},{x:o+8,y:0},{x:o+8,y:-s},{x:-8,y:-s},{x:-8,y:0}],l=qy(i,o,s,a);return l.attr("style",t.style),$y(t,l),t.intersect=function(e){return ub(t,a,e)},i},fork:fb,join:fb,class_box:function(e,t){var n,i=t.padding/2;n=t.classes?"node "+t.classes:"node default";var r=e.insert("g").attr("class",n).attr("id",t.domId||t.id),o=r.insert("rect",":first-child"),s=r.insert("line"),a=r.insert("line"),l=0,c=4,u=r.insert("g").attr("class","label"),h=0,d=t.classData.annotations&&t.classData.annotations[0],f=t.classData.annotations[0]?""+t.classData.annotations[0]+"":"",p=u.node().appendChild(Hy(f,t.labelStyle,!0,!0)),g=p.getBBox();if(Jm(iy().flowchart.htmlLabels)){var m=p.children[0],v=Il(p);g=m.getBoundingClientRect(),v.attr("width",g.width),v.attr("height",g.height)}t.classData.annotations[0]&&(c+=g.height+4,l+=g.width);var y=t.classData.id;void 0!==t.classData.type&&""!==t.classData.type&&(iy().flowchart.htmlLabels?y+="&lt;"+t.classData.type+"&gt;":y+="<"+t.classData.type+">");var b=u.node().appendChild(Hy(y,t.labelStyle,!0,!0));Il(b).attr("class","classTitle");var _=b.getBBox();if(Jm(iy().flowchart.htmlLabels)){var w=b.children[0],C=Il(b);_=w.getBoundingClientRect(),C.attr("width",_.width),C.attr("height",_.height)}c+=_.height+4,_.width>l&&(l=_.width);var x=[];t.classData.members.forEach((function(e){var n=Ty(e),i=n.displayText;iy().flowchart.htmlLabels&&(i=i.replace(/</g,"&lt;").replace(/>/g,"&gt;"));var r=u.node().appendChild(Hy(i,n.cssStyle?n.cssStyle:t.labelStyle,!0,!0)),o=r.getBBox();if(Jm(iy().flowchart.htmlLabels)){var s=r.children[0],a=Il(r);o=s.getBoundingClientRect(),a.attr("width",o.width),a.attr("height",o.height)}o.width>l&&(l=o.width),c+=o.height+4,x.push(r)})),c+=8;var k=[];if(t.classData.methods.forEach((function(e){var n=Ty(e),i=n.displayText;iy().flowchart.htmlLabels&&(i=i.replace(/</g,"&lt;").replace(/>/g,"&gt;"));var r=u.node().appendChild(Hy(i,n.cssStyle?n.cssStyle:t.labelStyle,!0,!0)),o=r.getBBox();if(Jm(iy().flowchart.htmlLabels)){var s=r.children[0],a=Il(r);o=s.getBoundingClientRect(),a.attr("width",o.width),a.attr("height",o.height)}o.width>l&&(l=o.width),c+=o.height+4,k.push(r)})),c+=8,d){var S=(l-g.width)/2;Il(p).attr("transform","translate( "+(-1*l/2+S)+", "+-1*c/2+")"),h=g.height+4}var D=(l-_.width)/2;return Il(b).attr("transform","translate( "+(-1*l/2+D)+", "+(-1*c/2+h)+")"),h+=_.height+4,s.attr("class","divider").attr("x1",-l/2-i).attr("x2",l/2+i).attr("y1",-c/2-i+8+h).attr("y2",-c/2-i+8+h),h+=8,x.forEach((function(e){Il(e).attr("transform","translate( "+-l/2+", "+(-1*c/2+h+4)+")"),h+=_.height+4})),h+=8,a.attr("class","divider").attr("x1",-l/2-i).attr("x2",l/2+i).attr("y1",-c/2-i+8+h).attr("y2",-c/2-i+8+h),h+=8,k.forEach((function(e){Il(e).attr("transform","translate( "+-l/2+", "+(-1*c/2+h)+")"),h+=_.height+4})),o.attr("class","outer title-state").attr("x",-l/2-i).attr("y",-c/2-i).attr("width",l+t.padding).attr("height",c+t.padding),$y(t,o),t.intersect=function(e){return hb(t,e)},r}},gb={},mb=function(e){var t=gb[e.id];s.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");var n=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+n-e.width/2)+", "+(e.y-e.height/2-8)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),n},vb={rect:function(e,t){s.trace("Creating subgraph rect for ",t.id,t);var n=e.insert("g").attr("class","cluster"+(t.class?" "+t.class:"")).attr("id",t.id),i=n.insert("rect",":first-child"),r=n.insert("g").attr("class","cluster-label"),o=r.node().appendChild(Hy(t.labelText,t.labelStyle,void 0,!0)),a=o.getBBox();if(Jm(iy().flowchart.htmlLabels)){var l=o.children[0],c=Il(o);a=l.getBoundingClientRect(),c.attr("width",a.width),c.attr("height",a.height)}var u=0*t.padding,h=u/2,d=t.width<=a.width+u?a.width+u:t.width;t.width<=a.width+u?t.diff=(a.width-t.width)/2:t.diff=-t.padding/2,s.trace("Data ",t,JSON.stringify(t)),i.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-d/2).attr("y",t.y-t.height/2-h).attr("width",d).attr("height",t.height+u),r.attr("transform","translate("+(t.x-a.width/2)+", "+(t.y-t.height/2+t.padding/3)+")");var f=i.node().getBBox();return t.width=f.width,t.height=f.height,t.intersect=function(e){return lb(t,e)},n},roundedWithTitle:function(e,t){var n=e.insert("g").attr("class",t.classes).attr("id",t.id),i=n.insert("rect",":first-child"),r=n.insert("g").attr("class","cluster-label"),o=n.append("rect"),s=r.node().appendChild(Hy(t.labelText,t.labelStyle,void 0,!0)),a=s.getBBox();if(Jm(iy().flowchart.htmlLabels)){var l=s.children[0],c=Il(s);a=l.getBoundingClientRect(),c.attr("width",a.width),c.attr("height",a.height)}a=s.getBBox();var u=0*t.padding,h=u/2,d=t.width<=a.width+t.padding?a.width+t.padding:t.width;t.width<=a.width+t.padding?t.diff=(a.width+0*t.padding-t.width)/2:t.diff=-t.padding/2,i.attr("class","outer").attr("x",t.x-d/2-h).attr("y",t.y-t.height/2-h).attr("width",d+u).attr("height",t.height+u),o.attr("class","inner").attr("x",t.x-d/2-h).attr("y",t.y-t.height/2-h+a.height-1).attr("width",d+u).attr("height",t.height+u-a.height-3),r.attr("transform","translate("+(t.x-a.width/2)+", "+(t.y-t.height/2-t.padding/3+(Jm(iy().flowchart.htmlLabels)?5:3))+")");var f=i.node().getBBox();return t.height=f.height,t.intersect=function(e){return lb(t,e)},n},noteGroup:function(e,t){var n=e.insert("g").attr("class","note-cluster").attr("id",t.id),i=n.insert("rect",":first-child"),r=0*t.padding,o=r/2;i.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-o).attr("y",t.y-t.height/2-o).attr("width",t.width+r).attr("height",t.height+r).attr("fill","none");var s=i.node().getBBox();return t.width=s.width,t.height=s.height,t.intersect=function(e){return lb(t,e)},n},divider:function(e,t){var n=e.insert("g").attr("class",t.classes).attr("id",t.id),i=n.insert("rect",":first-child"),r=0*t.padding,o=r/2;i.attr("class","divider").attr("x",t.x-t.width/2-o).attr("y",t.y-t.height/2).attr("width",t.width+r).attr("height",t.height+r);var s=i.node().getBBox();return t.width=s.width,t.height=s.height,t.diff=-t.padding/2,t.intersect=function(e){return lb(t,e)},n}},yb={},bb={},_b={};function wb(e,t){iy().flowchart.htmlLabels&&e&&(e.style.width=9*t.length+"px",e.style.height="12px")}var Cb=function(e,t){s.warn("abc88 cutPathAtIntersect",e,t);var n=[],i=e[0],r=!1;return e.forEach((function(e){if(s.info("abc88 checking point",e,t),c=e,u=(l=t).x,h=l.y,d=Math.abs(c.x-u),f=Math.abs(c.y-h),p=l.width/2,g=l.height/2,d>=p||f>=g||r)s.warn("abc88 outside",e,i),i=e,r||n.push(e);else{var o=function(e,t,n){s.warn("intersection calc abc89:\n  outsidePoint: ".concat(JSON.stringify(t),"\n  insidePoint : ").concat(JSON.stringify(n),"\n  node        : x:").concat(e.x," y:").concat(e.y," w:").concat(e.width," h:").concat(e.height));var i=e.x,r=e.y,o=Math.abs(i-n.x),a=e.width/2,l=n.x<t.x?a-o:a+o,c=e.height/2,u=Math.abs(t.y-n.y),h=Math.abs(t.x-n.x);if(Math.abs(r-t.y)*a>Math.abs(i-t.x)*c){var d=n.y<t.y?t.y-c-r:r-c-t.y;l=h*d/u;var f={x:n.x<t.x?n.x+l:n.x-h+l,y:n.y<t.y?n.y+u-d:n.y-u+d};return 0===l&&(f.x=t.x,f.y=t.y),0===h&&(f.x=t.x),0===u&&(f.y=t.y),s.warn("abc89 topp/bott calc, Q ".concat(u,", q ").concat(d,", R ").concat(h,", r ").concat(l),f),f}var p=u*(l=n.x<t.x?t.x-a-i:i-a-t.x)/h,g=n.x<t.x?n.x+h-l:n.x-h+l,m=n.y<t.y?n.y+p:n.y-p;return s.warn("sides calc abc89, Q ".concat(u,", q ").concat(p,", R ").concat(h,", r ").concat(l),{_x:g,_y:m}),0===l&&(g=t.x,m=t.y),0===h&&(g=t.x),0===u&&(m=t.y),{x:g,y:m}}(t,i,e);s.warn("abc88 inside",e,i,o),s.warn("abc88 intersection",o);var a=!1;n.forEach((function(e){a=a||e.x===o.x&&e.y===o.y})),n.find((function(e){return e.x===o.x&&e.y===o.y}))?s.warn("abc88 no intersect",o,n):n.push(o),r=!0}var l,c,u,h,d,f,p,g})),s.warn("abc88 returning points",n),n},xb=function e(t,n,i,r){s.info("Graph in recursive render: XXX",Sy().json.write(n),r);var o=n.graph().rankdir;s.trace("Dir in recursive render - dir:",o);var a=t.insert("g").attr("class","root");n.nodes()?s.info("Recursive render XXX",n.nodes()):s.info("No nodes found for",n),n.edges().length>0&&s.trace("Recursive edges",n.edge(n.edges()[0]));var l=a.insert("g").attr("class","clusters"),c=a.insert("g").attr("class","edgePaths"),u=a.insert("g").attr("class","edgeLabels"),h=a.insert("g").attr("class","nodes");n.nodes().forEach((function(t){var a,l=n.node(t);if(void 0!==r){var c=JSON.parse(JSON.stringify(r.clusterData));s.info("Setting data for cluster XXX (",t,") ",c,r),n.setNode(r.id,c),n.parent(t)||(s.trace("Setting parent",t,r.id),n.setParent(t,r.id,c))}if(s.info("(Insert) Node XXX"+t+": "+JSON.stringify(n.node(t))),l&&l.clusterNode){s.info("Cluster identified",t,l.width,n.node(t));var u=e(h,l.graph,i,n.node(t)),d=u.elem;$y(l,d),l.diff=u.diff||0,s.info("Node bounds (abc123)",t,l,l.width,l.x,l.y),a=d,gb[l.id]=a,s.warn("Recursive render complete ",d,l)}else n.children(t).length>0?(s.info("Cluster - the non recursive path XXX",t,l.id,l,n),s.info(Qy(l.id,n)),Ky[l.id]={id:Qy(l.id,n),node:l}):(s.info("Node - the non recursive path",t,l.id,l),function(e,t,n){var i,r;t.link?(i=e.insert("svg:a").attr("xlink:href",t.link).attr("target",t.linkTarget||"_blank"),r=pb[t.shape](i,t,n)):i=r=pb[t.shape](e,t,n),t.tooltip&&r.attr("title",t.tooltip),t.class&&r.attr("class","node default "+t.class),gb[t.id]=i,t.haveCallback&&gb[t.id].attr("class",gb[t.id].attr("class")+" clickable")}(h,n.node(t),o))})),n.edges().forEach((function(e){var t=n.edge(e.v,e.w,e.name);s.info("Edge "+e.v+" -> "+e.w+": "+JSON.stringify(e)),s.info("Edge "+e.v+" -> "+e.w+": ",e," ",JSON.stringify(n.edge(e))),s.info("Fix",Ky,"ids:",e.v,e.w,"Translateing: ",Ky[e.v],Ky[e.w]),function(e,t){var n=Hy(t.label,t.labelStyle),i=e.insert("g").attr("class","edgeLabel"),r=i.insert("g").attr("class","label");r.node().appendChild(n);var o,s=n.getBBox();if(Jm(iy().flowchart.htmlLabels)){var a=n.children[0],l=Il(n);s=a.getBoundingClientRect(),l.attr("width",s.width),l.attr("height",s.height)}if(r.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),bb[t.id]=i,t.width=s.width,t.height=s.height,t.startLabelLeft){var c=Hy(t.startLabelLeft,t.labelStyle),u=e.insert("g").attr("class","edgeTerminals"),h=u.insert("g").attr("class","inner");o=h.node().appendChild(c);var d=c.getBBox();h.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),_b[t.id]||(_b[t.id]={}),_b[t.id].startLeft=u,wb(o,t.startLabelLeft)}if(t.startLabelRight){var f=Hy(t.startLabelRight,t.labelStyle),p=e.insert("g").attr("class","edgeTerminals"),g=p.insert("g").attr("class","inner");o=p.node().appendChild(f),g.node().appendChild(f);var m=f.getBBox();g.attr("transform","translate("+-m.width/2+", "+-m.height/2+")"),_b[t.id]||(_b[t.id]={}),_b[t.id].startRight=p,wb(o,t.startLabelRight)}if(t.endLabelLeft){var v=Hy(t.endLabelLeft,t.labelStyle),y=e.insert("g").attr("class","edgeTerminals"),b=y.insert("g").attr("class","inner");o=b.node().appendChild(v);var _=v.getBBox();b.attr("transform","translate("+-_.width/2+", "+-_.height/2+")"),y.node().appendChild(v),_b[t.id]||(_b[t.id]={}),_b[t.id].endLeft=y,wb(o,t.endLabelLeft)}if(t.endLabelRight){var w=Hy(t.endLabelRight,t.labelStyle),C=e.insert("g").attr("class","edgeTerminals"),x=C.insert("g").attr("class","inner");o=x.node().appendChild(w);var k=w.getBBox();x.attr("transform","translate("+-k.width/2+", "+-k.height/2+")"),C.node().appendChild(w),_b[t.id]||(_b[t.id]={}),_b[t.id].endRight=C,wb(o,t.endLabelRight)}}(u,t)})),n.edges().forEach((function(e){s.info("Edge "+e.v+" -> "+e.w+": "+JSON.stringify(e))})),s.info("#############################################"),s.info("###                Layout                 ###"),s.info("#############################################"),s.info(n),xy().layout(n),s.info("Graph after layout:",Sy().json.write(n));var d=0;return rb(n).forEach((function(e){var t=n.node(e);s.info("Position "+e+": "+JSON.stringify(n.node(e))),s.info("Position "+e+": ("+t.x,","+t.y,") width: ",t.width," height: ",t.height),t&&t.clusterNode?mb(t):n.children(e).length>0?(function(e,t){s.trace("Inserting cluster");var n=t.shape||"rect";yb[t.id]=vb[n](e,t)}(l,t),Ky[t.id].node=t):mb(t)})),n.edges().forEach((function(e){var t=n.edge(e);s.info("Edge "+e.v+" -> "+e.w+": "+JSON.stringify(t),t),function(e,t){s.info("Moving label abc78 ",e.id,e.label,bb[e.id]);var n=t.updatedPath?t.updatedPath:t.originalPath;if(e.label){var i=bb[e.id],r=e.x,o=e.y;if(n){var a=Yv.calcLabelPosition(n);s.info("Moving label from (",r,",",o,") to (",a.x,",",a.y,") abc78")}i.attr("transform","translate("+r+", "+o+")")}if(e.startLabelLeft){var l=_b[e.id].startLeft,c=e.x,u=e.y;if(n){var h=Yv.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",n);c=h.x,u=h.y}l.attr("transform","translate("+c+", "+u+")")}if(e.startLabelRight){var d=_b[e.id].startRight,f=e.x,p=e.y;if(n){var g=Yv.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",n);f=g.x,p=g.y}d.attr("transform","translate("+f+", "+p+")")}if(e.endLabelLeft){var m=_b[e.id].endLeft,v=e.x,y=e.y;if(n){var b=Yv.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",n);v=b.x,y=b.y}m.attr("transform","translate("+v+", "+y+")")}if(e.endLabelRight){var _=_b[e.id].endRight,w=e.x,C=e.y;if(n){var x=Yv.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",n);w=x.x,C=x.y}_.attr("transform","translate("+w+", "+C+")")}}(t,function(e,t,n,i,r,o){var a=n.points,l=!1,c=o.node(t.v),u=o.node(t.w);s.info("abc88 InsertEdge: ",n),u.intersect&&c.intersect&&((a=a.slice(1,n.points.length-1)).unshift(c.intersect(a[0])),s.info("Last point",a[a.length-1],u,u.intersect(a[a.length-1])),a.push(u.intersect(a[a.length-1]))),n.toCluster&&(s.info("to cluster abc88",i[n.toCluster]),a=Cb(n.points,i[n.toCluster].node),l=!0),n.fromCluster&&(s.info("from cluster abc88",i[n.fromCluster]),a=Cb(a.reverse(),i[n.fromCluster].node).reverse(),l=!0);var h,d=a.filter((function(e){return!Number.isNaN(e.y)}));h=("graph"===r||"flowchart"===r)&&n.curve||wc;var f,p=gc().x((function(e){return e.x})).y((function(e){return e.y})).curve(h);switch(n.thickness){case"normal":f="edge-thickness-normal";break;case"thick":f="edge-thickness-thick";break;default:f=""}switch(n.pattern){case"solid":f+=" edge-pattern-solid";break;case"dotted":f+=" edge-pattern-dotted";break;case"dashed":f+=" edge-pattern-dashed"}var g=e.append("path").attr("d",p(d)).attr("id",n.id).attr("class"," "+f+(n.classes?" "+n.classes:"")).attr("style",n.style),m="";switch(iy().state.arrowMarkerAbsolute&&(m=(m=(m=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),s.info("arrowTypeStart",n.arrowTypeStart),s.info("arrowTypeEnd",n.arrowTypeEnd),n.arrowTypeStart){case"arrow_cross":g.attr("marker-start","url("+m+"#"+r+"-crossStart)");break;case"arrow_point":g.attr("marker-start","url("+m+"#"+r+"-pointStart)");break;case"arrow_barb":g.attr("marker-start","url("+m+"#"+r+"-barbStart)");break;case"arrow_circle":g.attr("marker-start","url("+m+"#"+r+"-circleStart)");break;case"aggregation":g.attr("marker-start","url("+m+"#"+r+"-aggregationStart)");break;case"extension":g.attr("marker-start","url("+m+"#"+r+"-extensionStart)");break;case"composition":g.attr("marker-start","url("+m+"#"+r+"-compositionStart)");break;case"dependency":g.attr("marker-start","url("+m+"#"+r+"-dependencyStart)")}switch(n.arrowTypeEnd){case"arrow_cross":g.attr("marker-end","url("+m+"#"+r+"-crossEnd)");break;case"arrow_point":g.attr("marker-end","url("+m+"#"+r+"-pointEnd)");break;case"arrow_barb":g.attr("marker-end","url("+m+"#"+r+"-barbEnd)");break;case"arrow_circle":g.attr("marker-end","url("+m+"#"+r+"-circleEnd)");break;case"aggregation":g.attr("marker-end","url("+m+"#"+r+"-aggregationEnd)");break;case"extension":g.attr("marker-end","url("+m+"#"+r+"-extensionEnd)");break;case"composition":g.attr("marker-end","url("+m+"#"+r+"-compositionEnd)");break;case"dependency":g.attr("marker-end","url("+m+"#"+r+"-dependencyEnd)")}var v={};return l&&(v.updatedPath=a),v.originalPath=n.points,v}(c,e,t,Ky,i,n))})),n.nodes().forEach((function(e){var t=n.node(e);s.info(e,t.type,t.diff),"group"===t.type&&(d=t.diff)})),{elem:a,diff:d}},kb=function(e,t,n,i,r){(function(e,t,n,i){t.forEach((function(t){Vy[t](e,n,i)}))})(e,n,i,r),gb={},bb={},_b={},yb={},Yy={},Gy={},Ky={},s.warn("Graph at first:",Sy().json.write(t)),tb(t),s.warn("Graph after:",Sy().json.write(t)),xb(e,t,i)};Dy.parser.yy=wy;var Sb={dividerMargin:10,padding:5,textHeight:10};function Db(e){var t;switch(e){case 0:t="aggregation";break;case 1:t="extension";break;case 2:t="composition";break;case 3:t="dependency";break;default:t="none"}return t}var Eb={},Lb=[],Tb="",Nb=function(e){return void 0===Eb[e]&&(Eb[e]={attributes:[]},s.info("Added new entity :",e)),Eb[e]};const Mb={Cardinality:{ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE"},Identification:{NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},parseDirective:function(e,t,n){Ok.parseDirective(this,e,t,n)},getConfig:function(){return iy().er},addEntity:Nb,addAttributes:function(e,t){var n,i=Nb(e);for(n=t.length-1;n>=0;n--)i.attributes.push(t[n]),s.debug("Added attribute ",t[n].attributeName)},getEntities:function(){return Eb},addRelationship:function(e,t,n,i){var r={entityA:e,roleA:t,entityB:n,relSpec:i};Lb.push(r),s.debug("Added new relationship :",r)},getRelationships:function(){return Lb},clear:function(){Eb={},Lb=[],Tb=""},setTitle:function(e){Tb=e},getTitle:function(){return Tb}};var Ab=n(4701),Ib=n.n(Ab),Ob={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END"};const Fb=Ob;var Rb={},Pb=function(e){return(e.entityA+e.roleA+e.entityB).replace(/\s/g,"")},Bb=0;const jb=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)Rb[t[n]]=e[t[n]]};function zb(e){return(zb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Wb,Hb,Ub=0,$b=iy(),qb={},Kb=[],Yb=[],Gb=[],Xb={},Zb={},Jb=0,Qb=!0,e_=[],t_=function(e){for(var t=Object.keys(qb),n=0;n<t.length;n++)if(qb[t[n]].id===e)return qb[t[n]].domId;return e},n_=function(e,t,n,i){var r={start:e,end:t,type:void 0,text:""};void 0!==(i=n.text)&&(r.text=Qm.sanitizeText(i.trim(),$b),'"'===r.text[0]&&'"'===r.text[r.text.length-1]&&(r.text=r.text.substring(1,r.text.length-1))),void 0!==n&&(r.type=n.type,r.stroke=n.stroke,r.length=n.length),Kb.push(r)},i_=function(e,t){e.split(",").forEach((function(e){var n=e;void 0!==qb[n]&&qb[n].classes.push(t),void 0!==Xb[n]&&Xb[n].classes.push(t)}))},r_=function(e){var t=Il(".mermaidTooltip");null===(t._groups||t)[0][0]&&(t=Il("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),Il(e).select("svg").selectAll("g.node").on("mouseover",(function(){var e=Il(this);if(null!==e.attr("title")){var n=this.getBoundingClientRect();t.transition().duration(200).style("opacity",".9"),t.html(e.attr("title")).style("left",window.scrollX+n.left+(n.right-n.left)/2+"px").style("top",window.scrollY+n.top-14+document.body.scrollTop+"px"),e.classed("hover",!0)}})).on("mouseout",(function(){t.transition().duration(500).style("opacity",0),Il(this).classed("hover",!1)}))};e_.push(r_);var o_=function(e){for(var t=0;t<Gb.length;t++)if(Gb[t].id===e)return t;return-1},s_=-1,a_=[],l_=function e(t,n){var i=Gb[n].nodes;if(!((s_+=1)>2e3)){if(a_[s_]=n,Gb[n].id===t)return{result:!0,count:0};for(var r=0,o=1;r<i.length;){var s=o_(i[r]);if(s>=0){var a=e(t,s);if(a.result)return{result:!0,count:o+a.count};o+=a.count}r+=1}return{result:!1,count:o}}},c_=function(e,t){var n=!1;return e.forEach((function(e){e.nodes.indexOf(t)>=0&&(n=!0)})),n},u_=function(e,t){var n=[];return e.nodes.forEach((function(i,r){c_(t,i)||n.push(e.nodes[r])})),{nodes:n}};const h_={parseDirective:function(e,t,n){Ok.parseDirective(this,e,t,n)},defaultConfig:function(){return Zv.flowchart},addVertex:function(e,t,n,i,r,o){var s,a=e;void 0!==a&&0!==a.trim().length&&(void 0===qb[a]&&(qb[a]={id:a,domId:"flowchart-"+a+"-"+Ub,styles:[],classes:[]}),Ub++,void 0!==t?($b=iy(),'"'===(s=Qm.sanitizeText(t.trim(),$b))[0]&&'"'===s[s.length-1]&&(s=s.substring(1,s.length-1)),qb[a].text=s):void 0===qb[a].text&&(qb[a].text=e),void 0!==n&&(qb[a].type=n),null!=i&&i.forEach((function(e){qb[a].styles.push(e)})),null!=r&&r.forEach((function(e){qb[a].classes.push(e)})),void 0!==o&&(qb[a].dir=o))},lookUpDomId:t_,addLink:function(e,t,n,i){var r,o;for(r=0;r<e.length;r++)for(o=0;o<t.length;o++)n_(e[r],t[o],n,i)},updateLinkInterpolate:function(e,t){e.forEach((function(e){"default"===e?Kb.defaultInterpolate=t:Kb[e].interpolate=t}))},updateLink:function(e,t){e.forEach((function(e){"default"===e?Kb.defaultStyle=t:(-1===Yv.isSubstringInArray("fill",t)&&t.push("fill:none"),Kb[e].style=t)}))},addClass:function(e,t){void 0===Yb[e]&&(Yb[e]={id:e,styles:[],textStyles:[]}),null!=t&&t.forEach((function(t){if(t.match("color")){var n=t.replace("fill","bgFill").replace("color","fill");Yb[e].textStyles.push(n)}Yb[e].styles.push(t)}))},setDirection:function(e){(Wb=e).match(/.*</)&&(Wb="RL"),Wb.match(/.*\^/)&&(Wb="BT"),Wb.match(/.*>/)&&(Wb="LR"),Wb.match(/.*v/)&&(Wb="TB")},setClass:i_,setTooltip:function(e,t){e.split(",").forEach((function(e){void 0!==t&&(Zb["gen-1"===Hb?t_(e):e]=Qm.sanitizeText(t,$b))}))},getTooltip:function(e){return Zb[e]},setClickEvent:function(e,t,n){e.split(",").forEach((function(e){!function(e,t,n){var i=t_(e);if("loose"===iy().securityLevel&&void 0!==t){var r=[];if("string"==typeof n){r=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(var o=0;o<r.length;o++){var s=r[o].trim();'"'===s.charAt(0)&&'"'===s.charAt(s.length-1)&&(s=s.substr(1,s.length-2)),r[o]=s}}0===r.length&&r.push(e),void 0!==qb[e]&&(qb[e].haveCallback=!0,e_.push((function(){var e=document.querySelector('[id="'.concat(i,'"]'));null!==e&&e.addEventListener("click",(function(){var e;Yv.runFunc.apply(Yv,[t].concat(function(e){if(Array.isArray(e))return Vb(e)}(e=r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Vb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vb(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))}),!1)})))}}(e,t,n)})),i_(e,"clickable")},setLink:function(e,t,n){e.split(",").forEach((function(e){void 0!==qb[e]&&(qb[e].link=Yv.formatUrl(t,$b),qb[e].linkTarget=n)})),i_(e,"clickable")},bindFunctions:function(e){e_.forEach((function(t){t(e)}))},getDirection:function(){return Wb.trim()},getVertices:function(){return qb},getEdges:function(){return Kb},getClasses:function(){return Yb},clear:function(e){qb={},Yb={},Kb=[],(e_=[]).push(r_),Gb=[],Xb={},Jb=0,Zb=[],Qb=!0,Hb=e||"gen-1"},setGen:function(e){Hb=e||"gen-1"},defaultStyle:function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},addSubGraph:function(e,t,n){var i=e.trim(),r=n;e===n&&n.match(/\s/)&&(i=void 0);var o,a,l,c,u=[],h=(o=u.concat.apply(u,t),l={boolean:{},number:{},string:{}},c=[],{nodeList:o.filter((function(e){var t=zb(e);return e.stmt&&"dir"===e.stmt?(a=e.value,!1):""!==e.trim()&&(t in l?!l[t].hasOwnProperty(e)&&(l[t][e]=!0):!(c.indexOf(e)>=0)&&c.push(e))})),dir:a}),d=h.dir;if(u=h.nodeList,"gen-1"===Hb){s.warn("LOOKING UP");for(var f=0;f<u.length;f++)u[f]=t_(u[f])}i=i||"subGraph"+Jb,r=r||"",r=Qm.sanitizeText(r,$b),Jb+=1;var p={id:i,nodes:u,title:r.trim(),classes:[],dir:d};return s.info("Adding",p.id,p.nodes,p.dir),p.nodes=u_(p,Gb).nodes,Gb.push(p),Xb[i]=p,i},getDepthFirstPos:function(e){return a_[e]},indexNodes:function(){s_=-1,Gb.length>0&&l_("none",Gb.length-1)},getSubGraphs:function(){return Gb},destructLink:function(e,t){var n,i=function(e){var t=e.trim(),n=t.slice(0,-1),i="arrow_open";switch(t.slice(-1)){case"x":i="arrow_cross","x"===t[0]&&(i="double_"+i,n=n.slice(1));break;case">":i="arrow_point","<"===t[0]&&(i="double_"+i,n=n.slice(1));break;case"o":i="arrow_circle","o"===t[0]&&(i="double_"+i,n=n.slice(1))}var r="normal",o=n.length-1;"="===n[0]&&(r="thick");var s=function(e,t){for(var n=t.length,i=0,r=0;r<n;++r)"."===t[r]&&++i;return i}(0,n);return s&&(r="dotted",o=s),{type:i,stroke:r,length:o}}(e);if(t){if((n=function(e){var t=e.trim(),n="arrow_open";switch(t[0]){case"<":n="arrow_point",t=t.slice(1);break;case"x":n="arrow_cross",t=t.slice(1);break;case"o":n="arrow_circle",t=t.slice(1)}var i="normal";return-1!==t.indexOf("=")&&(i="thick"),-1!==t.indexOf(".")&&(i="dotted"),{type:n,stroke:i}}(t)).stroke!==i.stroke)return{type:"INVALID",stroke:"INVALID"};if("arrow_open"===n.type)n.type=i.type;else{if(n.type!==i.type)return{type:"INVALID",stroke:"INVALID"};n.type="double_"+n.type}return"double_arrow"===n.type&&(n.type="double_arrow_point"),n.length=i.length,n}return i},lex:{firstGraph:function(){return!!Qb&&(Qb=!1,!0)}},exists:c_,makeUniq:u_};var d_=n(7805),f_=n.n(d_),p_=n(4949),g_=n.n(p_),m_=n(8284),v_=n.n(m_);function y_(e,t,n){var i=.9*(t.width+t.height),r=[{x:i/2,y:0},{x:i,y:-i/2},{x:i/2,y:-i},{x:0,y:-i/2}],o=T_(e,i,i,r);return n.intersect=function(e){return g_().intersect.polygon(n,r,e)},o}function b_(e,t,n){var i=t.height,r=i/4,o=t.width+2*r,s=[{x:r,y:0},{x:o-r,y:0},{x:o,y:-i/2},{x:o-r,y:-i},{x:r,y:-i},{x:0,y:-i/2}],a=T_(e,o,i,s);return n.intersect=function(e){return g_().intersect.polygon(n,s,e)},a}function __(e,t,n){var i=t.width,r=t.height,o=[{x:-r/2,y:0},{x:i,y:0},{x:i,y:-r},{x:-r/2,y:-r},{x:0,y:-r/2}],s=T_(e,i,r,o);return n.intersect=function(e){return g_().intersect.polygon(n,o,e)},s}function w_(e,t,n){var i=t.width,r=t.height,o=[{x:-2*r/6,y:0},{x:i-r/6,y:0},{x:i+2*r/6,y:-r},{x:r/6,y:-r}],s=T_(e,i,r,o);return n.intersect=function(e){return g_().intersect.polygon(n,o,e)},s}function C_(e,t,n){var i=t.width,r=t.height,o=[{x:2*r/6,y:0},{x:i+r/6,y:0},{x:i-2*r/6,y:-r},{x:-r/6,y:-r}],s=T_(e,i,r,o);return n.intersect=function(e){return g_().intersect.polygon(n,o,e)},s}function x_(e,t,n){var i=t.width,r=t.height,o=[{x:-2*r/6,y:0},{x:i+2*r/6,y:0},{x:i-r/6,y:-r},{x:r/6,y:-r}],s=T_(e,i,r,o);return n.intersect=function(e){return g_().intersect.polygon(n,o,e)},s}function k_(e,t,n){var i=t.width,r=t.height,o=[{x:r/6,y:0},{x:i-r/6,y:0},{x:i+2*r/6,y:-r},{x:-2*r/6,y:-r}],s=T_(e,i,r,o);return n.intersect=function(e){return g_().intersect.polygon(n,o,e)},s}function S_(e,t,n){var i=t.width,r=t.height,o=[{x:0,y:0},{x:i+r/2,y:0},{x:i,y:-r/2},{x:i+r/2,y:-r},{x:0,y:-r}],s=T_(e,i,r,o);return n.intersect=function(e){return g_().intersect.polygon(n,o,e)},s}function D_(e,t,n){var i=t.height,r=t.width+i/4,o=e.insert("rect",":first-child").attr("rx",i/2).attr("ry",i/2).attr("x",-r/2).attr("y",-i/2).attr("width",r).attr("height",i);return n.intersect=function(e){return g_().intersect.rect(n,e)},o}function E_(e,t,n){var i=t.width,r=t.height,o=[{x:0,y:0},{x:i,y:0},{x:i,y:-r},{x:0,y:-r},{x:0,y:0},{x:-8,y:0},{x:i+8,y:0},{x:i+8,y:-r},{x:-8,y:-r},{x:-8,y:0}],s=T_(e,i,r,o);return n.intersect=function(e){return g_().intersect.polygon(n,o,e)},s}function L_(e,t,n){var i=t.width,r=i/2,o=r/(2.5+i/50),s=t.height+o,a="M 0,"+o+" a "+r+","+o+" 0,0,0 "+i+" 0 a "+r+","+o+" 0,0,0 "+-i+" 0 l 0,"+s+" a "+r+","+o+" 0,0,0 "+i+" 0 l 0,"+-s,l=e.attr("label-offset-y",o).insert("path",":first-child").attr("d",a).attr("transform","translate("+-i/2+","+-(s/2+o)+")");return n.intersect=function(e){var t=g_().intersect.rect(n,e),i=t.x-n.x;if(0!=r&&(Math.abs(i)<n.width/2||Math.abs(i)==n.width/2&&Math.abs(t.y-n.y)>n.height/2-o)){var s=o*o*(1-i*i/(r*r));0!=s&&(s=Math.sqrt(s)),s=o-s,e.y-n.y>0&&(s=-s),t.y+=s}return t},l}function T_(e,t,n,i){return e.insert("polygon",":first-child").attr("points",i.map((function(e){return e.x+","+e.y})).join(" ")).attr("transform","translate("+-t/2+","+n/2+")")}var N_={};const M_=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)N_[t[n]]=e[t[n]]},A_=function(e,t){s.info("Drawing flowchart"),h_.clear(),h_.setGen("gen-1");var n=f_().parser;n.yy=h_,n.parse(e);var i=h_.getDirection();void 0===i&&(i="TD");for(var r,o=iy().flowchart,a=o.nodeSpacing||50,l=o.rankSpacing||50,c=new(Sy().Graph)({multigraph:!0,compound:!0}).setGraph({rankdir:i,nodesep:a,ranksep:l,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}})),u=h_.getSubGraphs(),h=u.length-1;h>=0;h--)r=u[h],h_.addVertex(r.id,r.title,"group",void 0,r.classes);var d=h_.getVertices();s.warn("Get vertices",d);var f,p,g,m=h_.getEdges(),v=0;for(v=u.length-1;v>=0;v--){r=u[v],Ol("cluster").append("text");for(var y=0;y<r.nodes.length;y++)s.warn("Setting subgraph",r.nodes[y],h_.lookUpDomId(r.nodes[y]),h_.lookUpDomId(r.id)),c.setParent(h_.lookUpDomId(r.nodes[y]),h_.lookUpDomId(r.id))}f=d,p=c,g=Il('[id="'.concat(t,'"]')),Object.keys(f).forEach((function(e){var t=f[e],n="default";t.classes.length>0&&(n=t.classes.join(" "));var i,r=Fv(t.styles),o=void 0!==t.text?t.text:t.id;if(Jm(iy().flowchart.htmlLabels)){var a={label:o.replace(/fa[lrsb]?:fa-[\w-]+/g,(function(e){return"<i class='".concat(e.replace(":"," "),"'></i>")}))};(i=v_()(g,a).node()).parentNode.removeChild(i)}else{var l=document.createElementNS("http://www.w3.org/2000/svg","text");l.setAttribute("style",r.labelStyle.replace("color:","fill:"));for(var c=o.split(Qm.lineBreakRegex),u=0;u<c.length;u++){var h=document.createElementNS("http://www.w3.org/2000/svg","tspan");h.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),h.setAttribute("dy","1em"),h.setAttribute("x","1"),h.textContent=c[u],l.appendChild(h)}i=l}var d=0,m="";switch(t.type){case"round":d=5,m="rect";break;default:m="rect";break;case"diamond":m="question";break;case"hexagon":m="hexagon";break;case"odd":case"odd_right":m="rect_left_inv_arrow";break;case"lean_right":m="lean_right";break;case"lean_left":m="lean_left";break;case"trapezoid":m="trapezoid";break;case"inv_trapezoid":m="inv_trapezoid";break;case"circle":m="circle";break;case"ellipse":m="ellipse";break;case"stadium":m="stadium";break;case"subroutine":m="subroutine";break;case"cylinder":m="cylinder"}s.warn("Adding node",t.id,t.domId),p.setNode(h_.lookUpDomId(t.id),{labelType:"svg",labelStyle:r.labelStyle,shape:m,label:i,rx:d,ry:d,class:n,style:r.style,id:h_.lookUpDomId(t.id)})})),function(e,t){var n,i,r=0;if(void 0!==e.defaultStyle){var o=Fv(e.defaultStyle);n=o.style,i=o.labelStyle}e.forEach((function(o){r++;var s="L-"+o.start+"-"+o.end,a="LS-"+o.start,l="LE-"+o.end,c={};"arrow_open"===o.type?c.arrowhead="none":c.arrowhead="normal";var u="",h="";if(void 0!==o.style){var d=Fv(o.style);u=d.style,h=d.labelStyle}else switch(o.stroke){case"normal":u="fill:none",void 0!==n&&(u=n),void 0!==i&&(h=i);break;case"dotted":u="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":u=" stroke-width: 3.5px;fill:none"}c.style=u,c.labelStyle=h,void 0!==o.interpolate?c.curve=Iv(o.interpolate,dc):void 0!==e.defaultInterpolate?c.curve=Iv(e.defaultInterpolate,dc):c.curve=Iv(N_.curve,dc),void 0===o.text?void 0!==o.style&&(c.arrowheadStyle="fill: #333"):(c.arrowheadStyle="fill: #333",c.labelpos="c",Jm(iy().flowchart.htmlLabels)?(c.labelType="html",c.label='<span id="L-'.concat(s,'" class="edgeLabel L-').concat(a,"' L-").concat(l,'">').concat(o.text.replace(/fa[lrsb]?:fa-[\w-]+/g,(function(e){return"<i class='".concat(e.replace(":"," "),"'></i>")})),"</span>")):(c.labelType="text",c.label=o.text.replace(Qm.lineBreakRegex,"\n"),void 0===o.style&&(c.style=c.style||"stroke: #333; stroke-width: 1.5px;fill:none"),c.labelStyle=c.labelStyle.replace("color:","fill:"))),c.id=s,c.class=a+" "+l,c.minlen=o.length||1,t.setEdge(h_.lookUpDomId(o.start),h_.lookUpDomId(o.end),c,r)}))}(m,c);var b=new(g_().render);(function(e){e.shapes().question=y_,e.shapes().hexagon=b_,e.shapes().stadium=D_,e.shapes().subroutine=E_,e.shapes().cylinder=L_,e.shapes().rect_left_inv_arrow=__,e.shapes().lean_right=w_,e.shapes().lean_left=C_,e.shapes().trapezoid=x_,e.shapes().inv_trapezoid=k_,e.shapes().rect_right_inv_arrow=S_})(b),b.arrows().none=function(e,t,n,i){var r=e.append("marker").attr("id",t).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 0 0 L 0 0 z");g_().util.applyStyle(r,n[i+"Style"])},b.arrows().normal=function(e,t){e.append("marker").attr("id",t).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowheadPath").style("stroke-width",1).style("stroke-dasharray","1,0")};var _=Il('[id="'.concat(t,'"]'));_.attr("xmlns:xlink","http://www.w3.org/1999/xlink"),s.warn(c);var w=Il("#"+t+" g");b(w,c),w.selectAll("g.node").attr("title",(function(){return h_.getTooltip(this.id)}));var C=o.diagramPadding,x=_.node().getBBox(),k=x.width+2*C,S=x.height+2*C;qv(_,S,k,o.useMaxWidth);var D="".concat(x.x-C," ").concat(x.y-C," ").concat(k," ").concat(S);for(s.debug("viewBox ".concat(D)),_.attr("viewBox",D),h_.indexNodes("subGraph"+v),v=0;v<u.length;v++)if("undefined"!==(r=u[v]).title){var E=document.querySelectorAll("#"+t+' [id="'+h_.lookUpDomId(r.id)+'"] rect'),L=document.querySelectorAll("#"+t+' [id="'+h_.lookUpDomId(r.id)+'"]'),T=E[0].x.baseVal.value,N=E[0].y.baseVal.value,M=E[0].width.baseVal.value,A=Il(L[0]).select(".label");A.attr("transform","translate(".concat(T+M/2,", ").concat(N+14,")")),A.attr("id",t+"Text");for(var I=0;I<r.classes.length;I++)L[0].classList.add(r.classes[I])}Jm(o.htmlLabels);for(var O=document.querySelectorAll('[id="'+t+'"] .edgeLabel .label'),F=0;F<O.length;F++){var R=O[F],P=R.getBBox(),B=document.createElementNS("http://www.w3.org/2000/svg","rect");B.setAttribute("rx",0),B.setAttribute("ry",0),B.setAttribute("width",P.width),B.setAttribute("height",P.height),R.insertBefore(B,R.firstChild)}Object.keys(d).forEach((function(e){var n=d[e];if(n.link){var i=Il("#"+t+' [id="'+h_.lookUpDomId(e)+'"]');if(i){var r=document.createElementNS("http://www.w3.org/2000/svg","a");r.setAttributeNS("http://www.w3.org/2000/svg","class",n.classes.join(" ")),r.setAttributeNS("http://www.w3.org/2000/svg","href",n.link),r.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),n.linkTarget&&r.setAttributeNS("http://www.w3.org/2000/svg","target",n.linkTarget);var o=i.insert((function(){return r}),":first-child"),s=i.select(".label-container");s&&o.append((function(){return s.node()}));var a=i.select(".label");a&&o.append((function(){return a.node()}))}}}))};var I_={};const O_=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)I_[t[n]]=e[t[n]]};function F_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var R_,P_,B_="",j_="",z_="",V_=[],W_="",H_=[],U_=[],$_="",q_=["active","done","crit","milestone"],K_=[],Y_=!1,G_=!1,X_=0,Z_=function(e,t,n){return e.isoWeekday()>=6&&n.indexOf("weekends")>=0||n.indexOf(e.format("dddd").toLowerCase())>=0||n.indexOf(e.format(t.trim()))>=0},J_=function(e,t,n){if(n.length&&!e.manualEndTime){var i=r()(e.startTime,t,!0);i.add(1,"d");var o=r()(e.endTime,t,!0),s=Q_(i,o,t,n);e.endTime=o.toDate(),e.renderEndTime=s}},Q_=function(e,t,n,i){for(var r=!1,o=null;e<=t;)r||(o=t.toDate()),(r=Z_(e,n,i))&&t.add(1,"d"),e.add(1,"d");return o},ew=function(e,t,n){n=n.trim();var i=/^after\s+([\d\w- ]+)/.exec(n.trim());if(null!==i){var o=null;if(i[1].split(" ").forEach((function(e){var t=aw(e);void 0!==t&&(o?t.endTime>o.endTime&&(o=t):o=t)})),o)return o.endTime;var a=new Date;return a.setHours(0,0,0,0),a}var l=r()(n,t.trim(),!0);return l.isValid()?l.toDate():(s.debug("Invalid date:"+n),s.debug("With date format:"+t.trim()),new Date)},tw=function(e,t){if(null!==e)switch(e[2]){case"s":t.add(e[1],"seconds");break;case"m":t.add(e[1],"minutes");break;case"h":t.add(e[1],"hours");break;case"d":t.add(e[1],"days");break;case"w":t.add(e[1],"weeks")}return t.toDate()},nw=function(e,t,n,i){i=i||!1,n=n.trim();var o=r()(n,t.trim(),!0);return o.isValid()?(i&&o.add(1,"d"),o.toDate()):tw(/^([\d]+)([wdhms])/.exec(n.trim()),r()(e))},iw=0,rw=function(e){return void 0===e?"task"+(iw+=1):e},ow=[],sw={},aw=function(e){var t=sw[e];return ow[t]},lw=function(){for(var e=function(e){var t=ow[e],n="";switch(ow[e].raw.startTime.type){case"prevTaskEnd":var i=aw(t.prevTaskId);t.startTime=i.endTime;break;case"getStartDate":(n=ew(0,B_,ow[e].raw.startTime.startData))&&(ow[e].startTime=n)}return ow[e].startTime&&(ow[e].endTime=nw(ow[e].startTime,B_,ow[e].raw.endTime.data,Y_),ow[e].endTime&&(ow[e].processed=!0,ow[e].manualEndTime=r()(ow[e].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),J_(ow[e],B_,V_))),ow[e].processed},t=!0,n=0;n<ow.length;n++)e(n),t=t&&ow[n].processed;return t},cw=function(e,t){e.split(",").forEach((function(e){var n=aw(e);void 0!==n&&n.classes.push(t)}))},uw=function(e,t){K_.push((function(){var n=document.querySelector('[id="'.concat(e,'"]'));null!==n&&n.addEventListener("click",(function(){t()}))})),K_.push((function(){var n=document.querySelector('[id="'.concat(e,'-text"]'));null!==n&&n.addEventListener("click",(function(){t()}))}))};const hw={parseDirective:function(e,t,n){Ok.parseDirective(this,e,t,n)},getConfig:function(){return iy().gantt},clear:function(){H_=[],U_=[],$_="",K_=[],W_="",iw=0,R_=void 0,P_=void 0,ow=[],B_="",j_="",z_="",V_=[],Y_=!1,G_=!1,X_=0},setDateFormat:function(e){B_=e},getDateFormat:function(){return B_},enableInclusiveEndDates:function(){Y_=!0},endDatesAreInclusive:function(){return Y_},enableTopAxis:function(){G_=!0},topAxisEnabled:function(){return G_},setAxisFormat:function(e){j_=e},getAxisFormat:function(){return j_},setTodayMarker:function(e){z_=e},getTodayMarker:function(){return z_},setTitle:function(e){W_=e},getTitle:function(){return W_},addSection:function(e){$_=e,H_.push(e)},getSections:function(){return H_},getTasks:function(){for(var e=lw(),t=0;!e&&t<10;)e=lw(),t++;return U_=ow},addTask:function(e,t){var n={section:$_,type:$_,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:t},task:e,classes:[]},i=function(e,t){var n=(":"===t.substr(0,1)?t.substr(1,t.length):t).split(","),i={};dw(n,i,q_);for(var r=0;r<n.length;r++)n[r]=n[r].trim();switch(n.length){case 1:i.id=rw(),i.startTime={type:"prevTaskEnd",id:e},i.endTime={data:n[0]};break;case 2:i.id=rw(),i.startTime={type:"getStartDate",startData:n[0]},i.endTime={data:n[1]};break;case 3:i.id=rw(n[0]),i.startTime={type:"getStartDate",startData:n[1]},i.endTime={data:n[2]}}return i}(P_,t);n.raw.startTime=i.startTime,n.raw.endTime=i.endTime,n.id=i.id,n.prevTaskId=P_,n.active=i.active,n.done=i.done,n.crit=i.crit,n.milestone=i.milestone,n.order=X_,X_++;var r=ow.push(n);P_=n.id,sw[n.id]=r-1},findTaskById:aw,addTaskOrg:function(e,t){var n={section:$_,type:$_,description:e,task:e,classes:[]},i=function(e,t){var n=(":"===t.substr(0,1)?t.substr(1,t.length):t).split(","),i={};dw(n,i,q_);for(var o=0;o<n.length;o++)n[o]=n[o].trim();var s="";switch(n.length){case 1:i.id=rw(),i.startTime=e.endTime,s=n[0];break;case 2:i.id=rw(),i.startTime=ew(0,B_,n[0]),s=n[1];break;case 3:i.id=rw(n[0]),i.startTime=ew(0,B_,n[1]),s=n[2]}return s&&(i.endTime=nw(i.startTime,B_,s,Y_),i.manualEndTime=r()(s,"YYYY-MM-DD",!0).isValid(),J_(i,B_,V_)),i}(R_,t);n.startTime=i.startTime,n.endTime=i.endTime,n.id=i.id,n.active=i.active,n.done=i.done,n.crit=i.crit,n.milestone=i.milestone,R_=n,U_.push(n)},setExcludes:function(e){V_=e.toLowerCase().split(/[\s,]+/)},getExcludes:function(){return V_},setClickEvent:function(e,t,n){e.split(",").forEach((function(e){!function(e,t,n){if("loose"===iy().securityLevel&&void 0!==t){var i=[];if("string"==typeof n){i=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(var r=0;r<i.length;r++){var o=i[r].trim();'"'===o.charAt(0)&&'"'===o.charAt(o.length-1)&&(o=o.substr(1,o.length-2)),i[r]=o}}0===i.length&&i.push(e),void 0!==aw(e)&&uw(e,(function(){var e;Yv.runFunc.apply(Yv,[t].concat(function(e){if(Array.isArray(e))return F_(e)}(e=i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return F_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F_(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))}))}}(e,t,n)})),cw(e,"clickable")},setLink:function(e,t){var n=t;"loose"!==iy().securityLevel&&(n=(0,Um.sanitizeUrl)(t)),e.split(",").forEach((function(e){void 0!==aw(e)&&uw(e,(function(){window.open(n,"_self")}))})),cw(e,"clickable")},bindFunctions:function(e){K_.forEach((function(t){t(e)}))},durationToDate:tw};function dw(e,t,n){for(var i=!0;i;)i=!1,n.forEach((function(n){var r=new RegExp("^\\s*"+n+"\\s*$");e[0].match(r)&&(t[n]=!0,e.shift(1),i=!0)}))}var fw,pw=n(2055),gw=n.n(pw);pw.parser.yy=hw;const mw=function(e,t){var n=iy().gantt;pw.parser.yy.clear(),pw.parser.parse(e);var i=document.getElementById(t);void 0===(fw=i.parentElement.offsetWidth)&&(fw=1200),void 0!==n.useWidth&&(fw=n.useWidth);var r=pw.parser.yy.getTasks(),o=r.length*(n.barHeight+n.barGap)+2*n.topPadding;i.setAttribute("viewBox","0 0 "+fw+" "+o);for(var s=Il('[id="'.concat(t,'"]')),a=function(){return Vr.apply(va($o,qo,Ro,Oo,No,Lo,Do,ko,Co,Zo).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}().domain([u(r,(function(e){return e.startTime})),c(r,(function(e){return e.endTime}))]).rangeRound([0,fw-n.leftPadding-n.rightPadding]),l=[],h=0;h<r.length;h++)l.push(r[h].type);var d,f,p,g,m,v,b,_=l;l=function(e){for(var t={},n=[],i=0,r=e.length;i<r;++i)t.hasOwnProperty(e[i])||(t[e[i]]=!0,n.push(e[i]));return n}(l),r.sort((function(e,t){var n=e.startTime,i=t.startTime,r=0;return n>i?r=1:n<i&&(r=-1),r})),d=r,f=fw,p=o,g=n.barHeight,m=g+n.barGap,v=n.topPadding,b=n.leftPadding,io().domain([0,l.length]).range(["#00B9FA","#F95002"]).interpolate(Ai),function(e,t,i,r){var o,l,c=(o=a,y(3,o)).tickSize(-r+t+n.gridLineStartPadding).tickFormat(su(pw.parser.yy.getAxisFormat()||n.axisFormat||"%Y-%m-%d"));if(s.append("g").attr("class","grid").attr("transform","translate("+e+", "+(r-50)+")").call(c).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),hw.topAxisEnabled()||n.topAxis){var u=(l=a,y(1,l)).tickSize(-r+t+n.gridLineStartPadding).tickFormat(su(pw.parser.yy.getAxisFormat()||n.axisFormat||"%Y-%m-%d"));s.append("g").attr("class","grid").attr("transform","translate("+e+", "+t+")").call(u).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}(b,v,0,p),function(e,t,i,r,o,c,u){s.append("g").selectAll("rect").data(e).enter().append("rect").attr("x",0).attr("y",(function(e,n){return e.order*t+i-2})).attr("width",(function(){return u-n.rightPadding/2})).attr("height",t).attr("class",(function(e){for(var t=0;t<l.length;t++)if(e.type===l[t])return"section section"+t%n.numberSectionStyles;return"section section0"}));var h=s.append("g").selectAll("rect").data(e).enter();h.append("rect").attr("id",(function(e){return e.id})).attr("rx",3).attr("ry",3).attr("x",(function(e){return e.milestone?a(e.startTime)+r+.5*(a(e.endTime)-a(e.startTime))-.5*o:a(e.startTime)+r})).attr("y",(function(e,n){return e.order*t+i})).attr("width",(function(e){return e.milestone?o:a(e.renderEndTime||e.endTime)-a(e.startTime)})).attr("height",o).attr("transform-origin",(function(e,n){return n=e.order,(a(e.startTime)+r+.5*(a(e.endTime)-a(e.startTime))).toString()+"px "+(n*t+i+.5*o).toString()+"px"})).attr("class",(function(e){var t="";e.classes.length>0&&(t=e.classes.join(" "));for(var i=0,r=0;r<l.length;r++)e.type===l[r]&&(i=r%n.numberSectionStyles);var o="";return e.active?e.crit?o+=" activeCrit":o=" active":e.done?o=e.crit?" doneCrit":" done":e.crit&&(o+=" crit"),0===o.length&&(o=" task"),e.milestone&&(o=" milestone "+o),"task"+(o+=i)+" "+t})),h.append("text").attr("id",(function(e){return e.id+"-text"})).text((function(e){return e.task})).attr("font-size",n.fontSize).attr("x",(function(e){var t=a(e.startTime),i=a(e.renderEndTime||e.endTime);e.milestone&&(t+=.5*(a(e.endTime)-a(e.startTime))-.5*o),e.milestone&&(i=t+o);var s=this.getBBox().width;return s>i-t?i+s+1.5*n.leftPadding>u?t+r-5:i+r+5:(i-t)/2+t+r})).attr("y",(function(e,r){return e.order*t+n.barHeight/2+(n.fontSize/2-2)+i})).attr("text-height",o).attr("class",(function(e){var t=a(e.startTime),i=a(e.endTime);e.milestone&&(i=t+o);var r=this.getBBox().width,s="";e.classes.length>0&&(s=e.classes.join(" "));for(var c=0,h=0;h<l.length;h++)e.type===l[h]&&(c=h%n.numberSectionStyles);var d="";return e.active&&(d=e.crit?"activeCritText"+c:"activeText"+c),e.done?d=e.crit?d+" doneCritText"+c:d+" doneText"+c:e.crit&&(d=d+" critText"+c),e.milestone&&(d+=" milestoneText"),r>i-t?i+r+1.5*n.leftPadding>u?s+" taskTextOutsideLeft taskTextOutside"+c+" "+d:s+" taskTextOutsideRight taskTextOutside"+c+" "+d+" width-"+r:s+" taskText taskText"+c+" "+d+" width-"+r}))}(d,m,v,b,g,0,f),function(e,t){for(var i=[],r=0,o=0;o<l.length;o++)i[o]=[l[o],(a=l[o],c=_,function(e){for(var t=e.length,n={};t;)n[e[--t]]=(n[e[t]]||0)+1;return n}(c)[a]||0)];var a,c;s.append("g").selectAll("text").data(i).enter().append((function(e){var t=e[0].split(Qm.lineBreakRegex),n=-(t.length-1)/2,i=document.createElementNS("http://www.w3.org/2000/svg","text");i.setAttribute("dy",n+"em");for(var r=0;r<t.length;r++){var o=document.createElementNS("http://www.w3.org/2000/svg","tspan");o.setAttribute("alignment-baseline","central"),o.setAttribute("x","10"),r>0&&o.setAttribute("dy","1em"),o.textContent=t[r],i.appendChild(o)}return i})).attr("x",10).attr("y",(function(n,o){if(!(o>0))return n[1]*e/2+t;for(var s=0;s<o;s++)return r+=i[o-1][1],n[1]*e/2+r*e+t})).attr("font-size",n.sectionFontSize).attr("font-size",n.sectionFontSize).attr("class",(function(e){for(var t=0;t<l.length;t++)if(e[0]===l[t])return"sectionTitle sectionTitle"+t%n.numberSectionStyles;return"sectionTitle"}))}(m,v),function(e,t,i,r){var o=hw.getTodayMarker();if("off"!==o){var l=s.append("g").attr("class","today"),c=new Date,u=l.append("line");u.attr("x1",a(c)+e).attr("x2",a(c)+e).attr("y1",n.titleTopMargin).attr("y2",r-n.titleTopMargin).attr("class","today"),""!==o&&u.attr("style",o.replace(/,/g,";"))}}(b,0,0,p),qv(s,o,fw,n.useMaxWidth),s.append("text").text(pw.parser.yy.getTitle()).attr("x",fw/2).attr("y",n.titleTopMargin).attr("class","titleText")};var vw={},yw=null,bw={master:yw},_w="master",ww="LR",Cw=0;function xw(){return Bv({length:7})}function kw(e,t){for(s.debug("Entering isfastforwardable:",e.id,t.id);e.seq<=t.seq&&e!==t&&null!=t.parent;){if(Array.isArray(t.parent))return s.debug("In merge commit:",t.parent),kw(e,vw[t.parent[0]])||kw(e,vw[t.parent[1]]);t=vw[t.parent]}return s.debug(e.id,t.id),e.id===t.id}var Sw={};function Dw(e,t,n){var i=e.indexOf(t);-1===i?e.push(n):e.splice(i,1,n)}function Ew(e){var t=e.reduce((function(e,t){return e.seq>t.seq?e:t}),e[0]),n="";e.forEach((function(e){n+=e===t?"\t*":"\t|"}));var i,r,o,a=[n,t.id,t.seq];for(var l in bw)bw[l]===t.id&&a.push(l);if(s.debug(a.join(" ")),Array.isArray(t.parent)){var c=vw[t.parent[0]];Dw(e,t,c),e.push(vw[t.parent[1]])}else{if(null==t.parent)return;var u=vw[t.parent];Dw(e,t,u)}i=e,r=function(e){return e.id},o=Object.create(null),Ew(e=i.reduce((function(e,t){var n=r(t);return o[n]||(o[n]=!0,e.push(t)),e}),[]))}var Lw=function(){var e=Object.keys(vw).map((function(e){return vw[e]}));return e.forEach((function(e){s.debug(e.id)})),e.sort((function(e,t){return t.seq-e.seq})),e};const Tw={setDirection:function(e){ww=e},setOptions:function(e){s.debug("options str",e),e=(e=e&&e.trim())||"{}";try{Sw=JSON.parse(e)}catch(t){s.error("error while parsing gitGraph options",t.message)}},getOptions:function(){return Sw},commit:function(e){var t={id:xw(),message:e,seq:Cw++,parent:null==yw?null:yw.id};yw=t,vw[t.id]=t,bw[_w]=t.id,s.debug("in pushCommit "+t.id)},branch:function(e){bw[e]=null!=yw?yw.id:null,s.debug("in createBranch")},merge:function(e){var t,n,i=vw[bw[_w]],r=vw[bw[e]];if(n=r,(t=i).seq>n.seq&&kw(n,t))s.debug("Already merged");else{if(kw(i,r))bw[_w]=bw[e],yw=vw[bw[_w]];else{var o={id:xw(),message:"merged branch "+e+" into "+_w,seq:Cw++,parent:[null==yw?null:yw.id,bw[e]]};yw=o,vw[o.id]=o,bw[_w]=o.id}s.debug(bw),s.debug("in mergeBranch")}},checkout:function(e){s.debug("in checkout");var t=bw[_w=e];yw=vw[t]},reset:function(e){s.debug("in reset",e);var t=e.split(":")[0],n=parseInt(e.split(":")[1]),i="HEAD"===t?yw:vw[bw[t]];for(s.debug(i,n);n>0;)if(n--,!(i=vw[i.parent])){var r="Critical error - unique parent commit not found during reset";throw s.error(r),r}yw=i,bw[_w]=i.id},prettyPrint:function(){s.debug(vw),Ew([Lw()[0]])},clear:function(){vw={},bw={master:yw=null},_w="master",Cw=0},getBranchesAsObjArray:function(){var e=[];for(var t in bw)e.push({name:t,commit:vw[bw[t]]});return e},getBranches:function(){return bw},getCommits:function(){return vw},getCommitsArray:Lw,getCurrentBranch:function(){return _w},getDirection:function(){return ww},getHead:function(){return yw}};var Nw,Mw=n(8454),Aw=n.n(Mw),Iw={},Ow={nodeSpacing:150,nodeFillColor:"yellow",nodeStrokeWidth:2,nodeStrokeColor:"grey",lineStrokeWidth:4,branchOffset:50,lineColor:"grey",leftMargin:50,branchColors:["#442f74","#983351","#609732","#AA9A39"],nodeRadius:10,nodeLabel:{width:75,height:100,x:-25,y:0}},Fw={};function Rw(e,t,n,i){var r=Iv(i,wc),o=Ow.branchColors[n%Ow.branchColors.length],s=gc().x((function(e){return Math.round(e.x)})).y((function(e){return Math.round(e.y)})).curve(r);e.append("svg:path").attr("d",s(t)).style("stroke",o).style("stroke-width",Ow.lineStrokeWidth).style("fill","none")}function Pw(e,t){t=t||e.node().getBBox();var n=e.node().getCTM();return{left:n.e+t.x*n.a,top:n.f+t.y*n.d,width:t.width,height:t.height}}function Bw(e,t,n,i,r){s.debug("svgDrawLineForCommits: ",t,n);var o=Pw(e.select("#node-"+t+" circle")),a=Pw(e.select("#node-"+n+" circle"));switch(i){case"LR":if(o.left-a.left>Ow.nodeSpacing){var l={x:o.left-Ow.nodeSpacing,y:a.top+a.height/2};Rw(e,[l,{x:a.left+a.width,y:a.top+a.height/2}],r,"linear"),Rw(e,[{x:o.left,y:o.top+o.height/2},{x:o.left-Ow.nodeSpacing/2,y:o.top+o.height/2},{x:o.left-Ow.nodeSpacing/2,y:l.y},l],r)}else Rw(e,[{x:o.left,y:o.top+o.height/2},{x:o.left-Ow.nodeSpacing/2,y:o.top+o.height/2},{x:o.left-Ow.nodeSpacing/2,y:a.top+a.height/2},{x:a.left+a.width,y:a.top+a.height/2}],r);break;case"BT":if(a.top-o.top>Ow.nodeSpacing){var c={x:a.left+a.width/2,y:o.top+o.height+Ow.nodeSpacing};Rw(e,[c,{x:a.left+a.width/2,y:a.top}],r,"linear"),Rw(e,[{x:o.left+o.width/2,y:o.top+o.height},{x:o.left+o.width/2,y:o.top+o.height+Ow.nodeSpacing/2},{x:a.left+a.width/2,y:c.y-Ow.nodeSpacing/2},c],r)}else Rw(e,[{x:o.left+o.width/2,y:o.top+o.height},{x:o.left+o.width/2,y:o.top+Ow.nodeSpacing/2},{x:a.left+a.width/2,y:a.top-Ow.nodeSpacing/2},{x:a.left+a.width/2,y:a.top}],r)}}function jw(e,t){return e.select(t).node().cloneNode(!0)}function zw(e,t,n,i){var r,o=Object.keys(Iw).length;if("string"==typeof t)do{if(r=Iw[t],s.debug("in renderCommitHistory",r.id,r.seq),e.select("#node-"+t).size()>0)return;e.append((function(){return jw(e,"#def-commit")})).attr("class","commit").attr("id",(function(){return"node-"+r.id})).attr("transform",(function(){switch(i){case"LR":return"translate("+(r.seq*Ow.nodeSpacing+Ow.leftMargin)+", "+Nw*Ow.branchOffset+")";case"BT":return"translate("+(Nw*Ow.branchOffset+Ow.leftMargin)+", "+(o-r.seq)*Ow.nodeSpacing+")"}})).attr("fill",Ow.nodeFillColor).attr("stroke",Ow.nodeStrokeColor).attr("stroke-width",Ow.nodeStrokeWidth);var a=void 0;for(var l in n)if(n[l].commit===r){a=n[l];break}a&&(s.debug("found branch ",a.name),e.select("#node-"+r.id+" p").append("xhtml:span").attr("class","branch-label").text(a.name+", ")),e.select("#node-"+r.id+" p").append("xhtml:span").attr("class","commit-id").text(r.id),""!==r.message&&"BT"===i&&e.select("#node-"+r.id+" p").append("xhtml:span").attr("class","commit-msg").text(", "+r.message),t=r.parent}while(t&&Iw[t]);Array.isArray(t)&&(s.debug("found merge commmit",t),zw(e,t[0],n,i),Nw++,zw(e,t[1],n,i),Nw--)}function Vw(e,t,n,i){for(i=i||0;t.seq>0&&!t.lineDrawn;)"string"==typeof t.parent?(Bw(e,t.id,t.parent,n,i),t.lineDrawn=!0,t=Iw[t.parent]):Array.isArray(t.parent)&&(Bw(e,t.id,t.parent[0],n,i),Bw(e,t.id,t.parent[1],n,i+1),Vw(e,Iw[t.parent[1]],n,i+1),t.lineDrawn=!0,t=Iw[t.parent[0]])}const Ww=function(e){Fw=e};var Hw="",Uw=!1;const $w={setMessage:function(e){s.debug("Setting message to: "+e),Hw=e},getMessage:function(){return Hw},setInfo:function(e){Uw=e},getInfo:function(){return Uw}};var qw=n(4645),Kw=n.n(qw),Yw={};const Gw=function(e){Object.keys(e).forEach((function(t){Yw[t]=e[t]}))};var Xw=n(5963),Zw=n.n(Xw),Jw={},Qw="",eC=!1;const tC={parseDirective:function(e,t,n){Ok.parseDirective(this,e,t,n)},getConfig:function(){return iy().pie},addSection:function(e,t){void 0===Jw[e]&&(Jw[e]=t,s.debug("Added new section :",e))},getSections:function(){return Jw},cleanupValue:function(e){return":"===e.substring(0,1)?(e=e.substring(1).trim(),Number(e.trim())):Number(e.trim())},clear:function(){Jw={},Qw="",eC=!1},setTitle:function(e){Qw=e},getTitle:function(){return Qw},setShowData:function(e){eC=e},getShowData:function(){return eC}};var nC,iC=iy();const rC=function(e,t){try{iC=iy();var n=Zw().parser;n.yy=tC,s.debug("Rendering info diagram\n"+e),n.yy.clear(),n.parse(e),s.debug("Parsed info diagram");var i=document.getElementById(t);void 0===(nC=i.parentElement.offsetWidth)&&(nC=1200),void 0!==iC.useWidth&&(nC=iC.useWidth),void 0!==iC.pie.useWidth&&(nC=iC.pie.useWidth);var r=Il("#"+t);qv(r,450,nC,iC.pie.useMaxWidth),i.setAttribute("viewBox","0 0 "+nC+" 450");var o=Math.min(nC,450)/2-40,a=r.append("g").attr("transform","translate("+nC/2+",225)"),l=tC.getSections(),c=0;Object.keys(l).forEach((function(e){c+=l[e]}));var u=iC.themeVariables,h=[u.pie1,u.pie2,u.pie3,u.pie4,u.pie5,u.pie6,u.pie7,u.pie8,u.pie9,u.pie10,u.pie11,u.pie12],d=lo().range(h),f=function(){var e=vc,t=mc,n=null,i=Wl(0),r=Wl(Ql),o=Wl(0);function s(s){var a,l,c,u,h,d=(s=uc(s)).length,f=0,p=new Array(d),g=new Array(d),m=+i.apply(this,arguments),v=Math.min(Ql,Math.max(-Ql,r.apply(this,arguments)-m)),y=Math.min(Math.abs(v)/d,o.apply(this,arguments)),b=y*(v<0?-1:1);for(a=0;a<d;++a)(h=g[p[a]=a]=+e(s[a],a,s))>0&&(f+=h);for(null!=t?p.sort((function(e,n){return t(g[e],g[n])})):null!=n&&p.sort((function(e,t){return n(s[e],s[t])})),a=0,c=f?(v-d*b)/f:0;a<d;++a,m=u)l=p[a],u=m+((h=g[l])>0?h*c:0)+b,g[l]={data:s[l],index:a,value:h,startAngle:m,endAngle:u,padAngle:y};return g}return s.value=function(t){return arguments.length?(e="function"==typeof t?t:Wl(+t),s):e},s.sortValues=function(e){return arguments.length?(t=e,n=null,s):t},s.sort=function(e){return arguments.length?(n=e,t=null,s):n},s.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:Wl(+e),s):i},s.endAngle=function(e){return arguments.length?(r="function"==typeof e?e:Wl(+e),s):r},s.padAngle=function(e){return arguments.length?(o="function"==typeof e?e:Wl(+e),s):o},s}().value((function(e){return e[1]})),p=f(Object.entries(l)),g=cc().innerRadius(0).outerRadius(o);a.selectAll("mySlices").data(p).enter().append("path").attr("d",g).attr("fill",(function(e){return d(e.data[0])})).attr("class","pieCircle"),a.selectAll("mySlices").data(p).enter().append("text").text((function(e){return(e.data[1]/c*100).toFixed(0)+"%"})).attr("transform",(function(e){return"translate("+g.centroid(e)+")"})).style("text-anchor","middle").attr("class","slice"),a.append("text").text(n.yy.getTitle()).attr("x",0).attr("y",-200).attr("class","pieTitleText");var m=a.selectAll(".legend").data(d.domain()).enter().append("g").attr("class","legend").attr("transform",(function(e,t){return"translate(216,"+(22*t-22*d.domain().length/2)+")"}));m.append("rect").attr("width",18).attr("height",18).style("fill",d).style("stroke",d),m.data(p).append("text").attr("x",22).attr("y",14).text((function(e){return n.yy.getShowData()||iC.showData||iC.pie.showData?e.data[0]+" ["+e.data[1]+"]":e.data[0]}))}catch(v){s.error("Error while rendering info diagram"),s.error(v)}};var oC=n(6463),sC=n.n(oC),aC=[],lC={},cC={},uC={},hC={};const dC={RequirementType:{REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},RiskLevel:{LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},VerifyType:{VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},Relationships:{CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},parseDirective:function(e,t,n){Ok.parseDirective(this,e,t,n)},getConfig:function(){return iy().req},addRequirement:function(e,t){return void 0===cC[e]&&(cC[e]={name:e,type:t,id:lC.id,text:lC.text,risk:lC.risk,verifyMethod:lC.verifyMethod}),lC={},cC[e]},getRequirements:function(){return cC},setNewReqId:function(e){void 0!==lC&&(lC.id=e)},setNewReqText:function(e){void 0!==lC&&(lC.text=e)},setNewReqRisk:function(e){void 0!==lC&&(lC.risk=e)},setNewReqVerifyMethod:function(e){void 0!==lC&&(lC.verifyMethod=e)},addElement:function(e){return void 0===hC[e]&&(hC[e]={name:e,type:uC.type,docRef:uC.docRef},s.info("Added new requirement: ",e)),uC={},hC[e]},getElements:function(){return hC},setNewElementType:function(e){void 0!==uC&&(uC.type=e)},setNewElementDocRef:function(e){void 0!==uC&&(uC.docRef=e)},addRelationship:function(e,t,n){aC.push({type:e,src:t,dst:n})},getRelationships:function(){return aC},clear:function(){aC=[],lC={},cC={},uC={},hC={}}};var fC={CONTAINS:"contains",ARROW:"arrow"};const pC=fC;var gC={},mC=0,vC=function(e,t){return e.insert("rect","#"+t).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",gC.rect_min_width+"px").attr("height",gC.rect_min_height+"px")},yC=function(e,t,n){var i=gC.rect_min_width/2,r=e.append("text").attr("class","req reqLabel reqTitle").attr("id",t).attr("x",i).attr("y",gC.rect_padding).attr("dominant-baseline","hanging"),o=0;n.forEach((function(e){0==o?r.append("tspan").attr("text-anchor","middle").attr("x",gC.rect_min_width/2).attr("dy",0).text(e):r.append("tspan").attr("text-anchor","middle").attr("x",gC.rect_min_width/2).attr("dy",.75*gC.line_height).text(e),o++}));var s=1.5*gC.rect_padding+o*gC.line_height*.75;return e.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",gC.rect_min_width).attr("y1",s).attr("y2",s),{titleNode:r,y:s}},bC=function(e,t,n,i){var r=e.append("text").attr("class","req reqLabel").attr("id",t).attr("x",gC.rect_padding).attr("y",i).attr("dominant-baseline","hanging"),o=0,s=[];return n.forEach((function(e){for(var t=e.length;t>30&&o<3;){var n=e.substring(0,30);t=(e=e.substring(30,e.length)).length,s[s.length]=n,o++}if(3==o){var i=s[s.length-1];s[s.length-1]=i.substring(0,i.length-4)+"..."}else s[s.length]=e;o=0})),s.forEach((function(e){r.append("tspan").attr("x",gC.rect_padding).attr("dy",gC.line_height).text(e)})),r},_C=function(e){return e.replace(/\s/g,"").replace(/\./g,"_")};const wC=function(e){if(void 0!==e)for(var t=Object.keys(e),n=0;n<t.length;n++)gC[t[n]]=e[t[n]]};var CC=n(9923),xC=n.n(CC),kC=void 0,SC={},DC=[],EC="",LC=!1,TC=!1,NC=!1,MC=function(e,t,n,i){var r=SC[e];r&&t===r.name&&null==n||(null!=n&&null!=n.text||(n={text:t,wrap:null,type:i}),null!=i&&null!=n.text||(n={text:t,wrap:null,type:i}),SC[e]={name:t,description:n.text,wrap:void 0===n.wrap&&FC()||!!n.wrap,prevActor:kC,links:{},properties:{},actorCnt:null,rectData:null,type:i||"participant"},kC&&SC[kC]&&(SC[kC].nextActor=e),kC=e)},AC=function(e){var t,n=0;for(t=0;t<DC.length;t++)DC[t].type===RC.ACTIVE_START&&DC[t].from.actor===e&&n++,DC[t].type===RC.ACTIVE_END&&DC[t].from.actor===e&&n--;return n},IC=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{text:void 0,wrap:void 0},i=arguments.length>3?arguments[3]:void 0;if(i===RC.ACTIVE_END){var r=AC(e.actor);if(r<1){var o=new Error("Trying to inactivate an inactive participant ("+e.actor+")");throw o.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},o}}return DC.push({from:e,to:t,message:n.text,wrap:void 0===n.wrap&&FC()||!!n.wrap,type:i}),!0},OC=function(e){return SC[e]},FC=function(){return NC},RC={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},PC=function(e,t,n){n.text,void 0===n.wrap&&FC()||n.wrap;var i=[].concat(e,e);DC.push({from:i[0],to:i[1],message:n.text,wrap:void 0===n.wrap&&FC()||!!n.wrap,type:RC.NOTE,placement:t})},BC=function(e,t){var n=OC(e);try{var i=Ym(t.text,iy());i=(i=i.replace(/&amp;/g,"&")).replace(/&equals;/g,"="),jC(n,JSON.parse(i))}catch(r){s.error("error while parsing actor link text",r)}};function jC(e,t){if(null==e.links)e.links=t;else for(var n in t)e.links[n]=t[n]}var zC=function(e,t){var n=OC(e);try{var i=Ym(t.text,iy());VC(n,JSON.parse(i))}catch(r){s.error("error while parsing actor properties text",r)}};function VC(e,t){if(null==e.properties)e.properties=t;else for(var n in t)e.properties[n]=t[n]}var WC=function(e,t){var n=OC(e),i=document.getElementById(t.text);try{var r=i.innerHTML,o=JSON.parse(r);o.properties&&VC(n,o.properties),o.links&&jC(n,o.links)}catch(a){s.error("error while parsing actor details text",a)}},HC=function(e){EC=e.text,LC=void 0===e.wrap&&FC()||!!e.wrap};const UC={addActor:MC,addMessage:function(e,t,n,i){DC.push({from:e,to:t,message:n.text,wrap:void 0===n.wrap&&FC()||!!n.wrap,answer:i})},addSignal:IC,addLinks:BC,addDetails:WC,addProperties:zC,autoWrap:FC,setWrap:function(e){NC=e},enableSequenceNumbers:function(){TC=!0},showSequenceNumbers:function(){return TC},getMessages:function(){return DC},getActors:function(){return SC},getActor:OC,getActorKeys:function(){return Object.keys(SC)},getActorProperty:function(e,t){if(void 0!==e&&void 0!==e.properties)return e.properties[t]},getTitle:function(){return EC},parseDirective:function(e,t,n){Ok.parseDirective(this,e,t,n)},getConfig:function(){return iy().sequence},getTitleWrapped:function(){return LC},clear:function(){SC={},DC=[]},parseMessage:function(e){var t=e.trim(),n={text:t.replace(/^[:]?(?:no)?wrap:/,"").trim(),wrap:null!==t.match(/^[:]?wrap:/)||null===t.match(/^[:]?nowrap:/)&&void 0};return s.debug("parseMessage:",n),n},LINETYPE:RC,ARROWTYPE:{FILLED:0,OPEN:1},PLACEMENT:{LEFTOF:0,RIGHTOF:1,OVER:2},addNote:PC,setTitle:HC,apply:function e(t){if(t instanceof Array)t.forEach((function(t){e(t)}));else switch(t.type){case"addParticipant":MC(t.actor,t.actor,t.description,"participant");break;case"addActor":MC(t.actor,t.actor,t.description,"actor");break;case"activeStart":case"activeEnd":IC(t.actor,void 0,void 0,t.signalType);break;case"addNote":PC(t.actor,t.placement,t.text);break;case"addLinks":BC(t.actor,t.text);break;case"addALink":!function(e,t){var n=OC(e);try{var i={},r=Ym(t.text,iy()),o=r.indexOf("@"),a=(r=(r=r.replace(/&amp;/g,"&")).replace(/&equals;/g,"=")).slice(0,o-1).trim(),l=r.slice(o+1).trim();i[a]=l,jC(n,i)}catch(c){s.error("error while parsing actor link text",c)}}(t.actor,t.text);break;case"addProperties":zC(t.actor,t.text);break;case"addDetails":WC(t.actor,t.text);break;case"addMessage":IC(t.from,t.to,t.msg,t.signalType);break;case"loopStart":IC(void 0,void 0,t.loopText,t.signalType);break;case"loopEnd":case"rectEnd":case"optEnd":case"altEnd":case"parEnd":IC(void 0,void 0,void 0,t.signalType);break;case"rectStart":IC(void 0,void 0,t.color,t.signalType);break;case"optStart":IC(void 0,void 0,t.optText,t.signalType);break;case"altStart":case"else":IC(void 0,void 0,t.altText,t.signalType);break;case"setTitle":HC(t.text);break;case"parStart":case"and":IC(void 0,void 0,t.parText,t.signalType)}}};var $C=[],qC=function(e,t){var n=e.append("rect");return n.attr("x",t.x),n.attr("y",t.y),n.attr("fill",t.fill),n.attr("stroke",t.stroke),n.attr("width",t.width),n.attr("height",t.height),n.attr("rx",t.rx),n.attr("ry",t.ry),void 0!==t.class&&n.attr("class",t.class),n},KC=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/javascript:/g,"")},YC=function(e,t){var n;n=function(){var n=document.querySelectorAll(e);n[0].addEventListener("mouseover",(function(){GC("actor"+t+"_popup")})),n[0].addEventListener("mouseout",(function(){XC("actor"+t+"_popup")}))},$C.push(n)},GC=function(e){var t=document.getElementById(e);null!=t&&(t.style.display="block")},XC=function(e){var t=document.getElementById(e);null!=t&&(t.style.display="none")},ZC=function(e,t){var n=0,i=0,r=t.text.split(Qm.lineBreakRegex),o=[],s=0,a=function(){return t.y};if(void 0!==t.valign&&void 0!==t.textMargin&&t.textMargin>0)switch(t.valign){case"top":case"start":a=function(){return Math.round(t.y+t.textMargin)};break;case"middle":case"center":a=function(){return Math.round(t.y+(n+i+t.textMargin)/2)};break;case"bottom":case"end":a=function(){return Math.round(t.y+(n+i+2*t.textMargin)-t.textMargin)}}if(void 0!==t.anchor&&void 0!==t.textMargin&&void 0!==t.width)switch(t.anchor){case"left":case"start":t.x=Math.round(t.x+t.textMargin),t.anchor="start",t.dominantBaseline="text-after-edge",t.alignmentBaseline="middle";break;case"middle":case"center":t.x=Math.round(t.x+t.width/2),t.anchor="middle",t.dominantBaseline="middle",t.alignmentBaseline="middle";break;case"right":case"end":t.x=Math.round(t.x+t.width-t.textMargin),t.anchor="end",t.dominantBaseline="text-before-edge",t.alignmentBaseline="middle"}for(var l=0;l<r.length;l++){var c=r[l];void 0!==t.textMargin&&0===t.textMargin&&void 0!==t.fontSize&&(s=l*t.fontSize);var u=e.append("text");if(u.attr("x",t.x),u.attr("y",a()),void 0!==t.anchor&&u.attr("text-anchor",t.anchor).attr("dominant-baseline",t.dominantBaseline).attr("alignment-baseline",t.alignmentBaseline),void 0!==t.fontFamily&&u.style("font-family",t.fontFamily),void 0!==t.fontSize&&u.style("font-size",t.fontSize),void 0!==t.fontWeight&&u.style("font-weight",t.fontWeight),void 0!==t.fill&&u.attr("fill",t.fill),void 0!==t.class&&u.attr("class",t.class),void 0!==t.dy?u.attr("dy",t.dy):0!==s&&u.attr("dy",s),t.tspan){var h=u.append("tspan");h.attr("x",t.x),void 0!==t.fill&&h.attr("fill",t.fill),h.text(c)}else u.text(c);void 0!==t.valign&&void 0!==t.textMargin&&t.textMargin>0&&(i+=(u._groups||u)[0][0].getBBox().height,n=i),o.push(u)}return o},JC=-1,QC=function(){function e(e,t,n,r,o,s,a){i(t.append("text").attr("x",n+o/2).attr("y",r+s/2+5).style("text-anchor","middle").text(e),a)}function t(e,t,n,r,o,s,a,l){for(var c=l.actorFontSize,u=l.actorFontFamily,h=l.actorFontWeight,d=e.split(Qm.lineBreakRegex),f=0;f<d.length;f++){var p=f*c-c*(d.length-1)/2,g=t.append("text").attr("x",n+o/2).attr("y",r).style("text-anchor","middle").style("font-size",c).style("font-weight",h).style("font-family",u);g.append("tspan").attr("x",n+o/2).attr("dy",p).text(d[f]),g.attr("y",r+s/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),i(g,a)}}function n(e,n,r,o,s,a,l,c){var u=n.append("switch"),h=u.append("foreignObject").attr("x",r).attr("y",o).attr("width",s).attr("height",a).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");h.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(e),t(e,u,r,o,s,a,l,c),i(h,l)}function i(e,t){for(var n in t)t.hasOwnProperty(n)&&e.attr(n,t[n])}return function(i){return"fo"===i.textPlacement?n:"old"===i.textPlacement?e:t}}(),ex=function(){function e(e,t,n,r,o,s,a){i(t.append("text").attr("x",n).attr("y",r).style("text-anchor","start").text(e),a)}function t(e,t,n,r,o,s,a,l){for(var c=l.actorFontSize,u=l.actorFontFamily,h=l.actorFontWeight,d=e.split(Qm.lineBreakRegex),f=0;f<d.length;f++){var p=f*c-c*(d.length-1)/2,g=t.append("text").attr("x",n).attr("y",r).style("text-anchor","start").style("font-size",c).style("font-weight",h).style("font-family",u);g.append("tspan").attr("x",n).attr("dy",p).text(d[f]),g.attr("y",r+s/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),i(g,a)}}function n(e,n,r,o,s,a,l,c){var u=n.append("switch"),h=u.append("foreignObject").attr("x",r).attr("y",o).attr("width",s).attr("height",a).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");h.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(e),t(e,u,r,o,0,a,l,c),i(h,l)}function i(e,t){for(var n in t)t.hasOwnProperty(n)&&e.attr(n,t[n])}return function(i){return"fo"===i.textPlacement?n:"old"===i.textPlacement?e:t}}();const tx=qC,nx=function(e,t,n){switch(t.type){case"actor":return function(e,t,n){var i=t.x+t.width/2;0===t.y&&(JC++,e.append("line").attr("id","actor"+JC).attr("x1",i).attr("y1",80).attr("x2",i).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"));var r=e.append("g");r.attr("class","actor-man");var o={x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0};o.x=t.x,o.y=t.y,o.fill="#eaeaea",o.width=t.width,o.height=t.height,o.class="actor",o.rx=3,o.ry=3,r.append("line").attr("id","actor-man-torso"+JC).attr("x1",i).attr("y1",t.y+25).attr("x2",i).attr("y2",t.y+45),r.append("line").attr("id","actor-man-arms"+JC).attr("x1",i-18).attr("y1",t.y+33).attr("x2",i+18).attr("y2",t.y+33),r.append("line").attr("x1",i-18).attr("y1",t.y+60).attr("x2",i).attr("y2",t.y+45),r.append("line").attr("x1",i).attr("y1",t.y+45).attr("x2",i+16).attr("y2",t.y+60);var s=r.append("circle");s.attr("cx",t.x+t.width/2),s.attr("cy",t.y+10),s.attr("r",15),s.attr("width",t.width),s.attr("height",t.height);var a=r.node().getBBox();return t.height=a.height,QC(n)(t.description,r,o.x,o.y+35,o.width,o.height,{class:"actor"},n),t.height}(e,t,n);case"participant":return function(e,t,n){var i=t.x+t.width/2,r=e.append("g"),o=r;0===t.y&&(JC++,o.append("line").attr("id","actor"+JC).attr("x1",i).attr("y1",5).attr("x2",i).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"),o=r.append("g"),t.actorCnt=JC,null!=t.links&&(o.attr("id","root-"+JC),YC("#root-"+JC,JC)));var s={x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0},a="actor";null!=t.properties&&t.properties.class?a=t.properties.class:s.fill="#eaeaea",s.x=t.x,s.y=t.y,s.width=t.width,s.height=t.height,s.class=a,s.rx=3,s.ry=3;var l=qC(o,s);if(t.rectData=s,null!=t.properties&&t.properties.icon){var c=t.properties.icon.trim();"@"===c.charAt(0)?function(e,t,n,i){var r=e.append("use");r.attr("x",t),r.attr("y",n);var o=KC(i);r.attr("xlink:href","#"+o)}(o,s.x+s.width-20,s.y+10,c.substr(1)):function(e,t,n,i){var r=e.append("image");r.attr("x",t),r.attr("y",n);var o=KC(i);r.attr("xlink:href",o)}(o,s.x+s.width-20,s.y+10,c)}QC(n)(t.description,o,s.x,s.y,s.width,s.height,{class:"actor"},n);var u=t.height;if(l.node){var h=l.node().getBBox();t.height=h.height,u=h.height}return u}(e,t,n)}},ix=function(e,t,n,i,r){if(void 0===t.links||null===t.links||0===Object.keys(t.links).length)return{height:0,width:0};var o=t.links,s=t.actorCnt,a=t.rectData,l="none";r&&(l="block !important");var c=e.append("g");c.attr("id","actor"+s+"_popup"),c.attr("class","actorPopupMenu"),c.attr("display",l),YC("#actor"+s+"_popup",s);var u="";void 0!==a.class&&(u=" "+a.class);var h=a.width>n?a.width:n,d=c.append("rect");if(d.attr("class","actorPopupMenuPanel"+u),d.attr("x",a.x),d.attr("y",a.height),d.attr("fill",a.fill),d.attr("stroke",a.stroke),d.attr("width",h),d.attr("height",a.height),d.attr("rx",a.rx),d.attr("ry",a.ry),null!=o){var f=20;for(var p in o){var g=c.append("a"),m=KC(o[p]);g.attr("xlink:href",m),g.attr("target","_blank"),ex(i)(p,g,a.x+10,a.height+f,h,20,{class:"actor"},i),f+=30}}return d.attr("height",f),{height:a.height+f,width:h}},rx=function(e){return e.append("g")},ox=function(e,t,n,i){var r=i.boxMargin,o=i.boxTextMargin,s=i.labelBoxHeight,a=i.labelBoxWidth,l=i.messageFontFamily,c=i.messageFontSize,u=i.messageFontWeight,h=e.append("g"),d=function(e,t,n,i){return h.append("line").attr("x1",e).attr("y1",t).attr("x2",n).attr("y2",i).attr("class","loopLine")};d(t.startx,t.starty,t.stopx,t.starty),d(t.stopx,t.starty,t.stopx,t.stopy),d(t.startx,t.stopy,t.stopx,t.stopy),d(t.startx,t.starty,t.startx,t.stopy),void 0!==t.sections&&t.sections.forEach((function(e){d(t.startx,e.y,t.stopx,e.y).style("stroke-dasharray","3, 3")}));var f={x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0};f.text=n,f.x=t.startx,f.y=t.starty,f.fontFamily=l,f.fontSize=c,f.fontWeight=u,f.anchor="middle",f.valign="middle",f.tspan=!1,f.width=a||50,f.height=s||20,f.textMargin=o,f.class="labelText",function(e,t){var n,i,r,o,s=e.append("polygon");s.attr("points",(n=t.x,i=t.y,r=t.width,o=t.height,n+","+i+" "+(n+r)+","+i+" "+(n+r)+","+(i+o-7)+" "+(n+r-8.4)+","+(i+o)+" "+n+","+(i+o))),s.attr("class","labelBox"),t.y=t.y+t.height/2,ZC(e,t)}(h,f),(f={x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}).text=t.title,f.x=t.startx+a/2+(t.stopx-t.startx)/2,f.y=t.starty+r+o,f.anchor="middle",f.valign="middle",f.textMargin=o,f.class="loopText",f.fontFamily=l,f.fontSize=c,f.fontWeight=u,f.wrap=!0;var p=ZC(h,f);return void 0!==t.sectionTitles&&t.sectionTitles.forEach((function(e,n){if(e.message){f.text=e.message,f.x=t.startx+(t.stopx-t.startx)/2,f.y=t.sections[n].y+r+o,f.class="loopText",f.anchor="middle",f.valign="middle",f.tspan=!1,f.fontFamily=l,f.fontSize=c,f.fontWeight=u,f.wrap=t.wrap,p=ZC(h,f);var i=Math.round(p.map((function(e){return(e._groups||e)[0][0].getBBox().height})).reduce((function(e,t){return e+t})));t.sections[n].height+=i-(r+o)}})),t.height=Math.round(t.stopy-t.starty),h},sx=function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},ax=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}};CC.parser.yy=UC;var lx={},cx={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:function(){return Math.max.apply(null,0===this.actors.length?[0]:this.actors.map((function(e){return e.height||0})))+(0===this.loops.length?0:this.loops.map((function(e){return e.height||0})).reduce((function(e,t){return e+t})))+(0===this.messages.length?0:this.messages.map((function(e){return e.height||0})).reduce((function(e,t){return e+t})))+(0===this.notes.length?0:this.notes.map((function(e){return e.height||0})).reduce((function(e,t){return e+t})))},clear:function(){this.actors=[],this.loops=[],this.messages=[],this.notes=[]},addActor:function(e){this.actors.push(e)},addLoop:function(e){this.loops.push(e)},addMessage:function(e){this.messages.push(e)},addNote:function(e){this.notes.push(e)},lastActor:function(){return this.actors[this.actors.length-1]},lastLoop:function(){return this.loops[this.loops.length-1]},lastMessage:function(){return this.messages[this.messages.length-1]},lastNote:function(){return this.notes[this.notes.length-1]},actors:[],loops:[],messages:[],notes:[]},init:function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,gx(CC.parser.yy.getConfig())},updateVal:function(e,t,n,i){void 0===e[t]?e[t]=n:e[t]=i(n,e[t])},updateBounds:function(e,t,n,i){var r=this,o=0;function s(s){return function(a){o++;var l=r.sequenceItems.length-o+1;r.updateVal(a,"starty",t-l*lx.boxMargin,Math.min),r.updateVal(a,"stopy",i+l*lx.boxMargin,Math.max),r.updateVal(cx.data,"startx",e-l*lx.boxMargin,Math.min),r.updateVal(cx.data,"stopx",n+l*lx.boxMargin,Math.max),"activation"!==s&&(r.updateVal(a,"startx",e-l*lx.boxMargin,Math.min),r.updateVal(a,"stopx",n+l*lx.boxMargin,Math.max),r.updateVal(cx.data,"starty",t-l*lx.boxMargin,Math.min),r.updateVal(cx.data,"stopy",i+l*lx.boxMargin,Math.max))}}this.sequenceItems.forEach(s()),this.activations.forEach(s("activation"))},insert:function(e,t,n,i){var r=Math.min(e,n),o=Math.max(e,n),s=Math.min(t,i),a=Math.max(t,i);this.updateVal(cx.data,"startx",r,Math.min),this.updateVal(cx.data,"starty",s,Math.min),this.updateVal(cx.data,"stopx",o,Math.max),this.updateVal(cx.data,"stopy",a,Math.max),this.updateBounds(r,s,o,a)},newActivation:function(e,t,n){var i=n[e.from.actor],r=mx(e.from.actor).length||0,o=i.x+i.width/2+(r-1)*lx.activationWidth/2;this.activations.push({startx:o,starty:this.verticalPos+2,stopx:o+lx.activationWidth,stopy:void 0,actor:e.from.actor,anchored:rx(t)})},endActivation:function(e){var t=this.activations.map((function(e){return e.actor})).lastIndexOf(e.from.actor);return this.activations.splice(t,1)[0]},createLoop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:void 0,wrap:!1,width:void 0},t=arguments.length>1?arguments[1]:void 0;return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:e.message,wrap:e.wrap,width:e.width,height:0,fill:t}},newLoop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:void 0,wrap:!1,width:void 0},t=arguments.length>1?arguments[1]:void 0;this.sequenceItems.push(this.createLoop(e,t))},endLoop:function(){return this.sequenceItems.pop()},addSectionToLoop:function(e){var t=this.sequenceItems.pop();t.sections=t.sections||[],t.sectionTitles=t.sectionTitles||[],t.sections.push({y:cx.getVerticalPos(),height:0}),t.sectionTitles.push(e),this.sequenceItems.push(t)},bumpVerticalPos:function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return{bounds:this.data,models:this.models}}},ux=function(e){return{fontFamily:e.messageFontFamily,fontSize:e.messageFontSize,fontWeight:e.messageFontWeight}},hx=function(e){return{fontFamily:e.noteFontFamily,fontSize:e.noteFontSize,fontWeight:e.noteFontWeight}},dx=function(e){return{fontFamily:e.actorFontFamily,fontSize:e.actorFontSize,fontWeight:e.actorFontWeight}},fx=function(e,t,n,i){for(var r=0,o=0,s=0,a=0;a<n.length;a++){var l=t[n[a]];l.width=l.width||lx.width,l.height=Math.max(l.height||lx.height,lx.height),l.margin=l.margin||lx.actorMargin,l.x=r+o,l.y=i;var c=nx(e,l,lx);s=Math.max(s,c),cx.insert(l.x,i,l.x+l.width,l.height),r+=l.width,o+=l.margin,cx.models.addActor(l)}cx.bumpVerticalPos(s)},px=function(e,t,n){for(var i=0,r=0,o=0;o<n.length;o++){var s=t[n[o]],a=bx(s),l=ix(e,s,a,lx,lx.forceMenus);l.height>i&&(i=l.height),l.width+s.x>r&&(r=l.width+s.x)}return{maxHeight:i,maxWidth:r}},gx=function(e){jv(lx,e),e.fontFamily&&(lx.actorFontFamily=lx.noteFontFamily=lx.messageFontFamily=e.fontFamily),e.fontSize&&(lx.actorFontSize=lx.noteFontSize=lx.messageFontSize=e.fontSize),e.fontWeight&&(lx.actorFontWeight=lx.noteFontWeight=lx.messageFontWeight=e.fontWeight)},mx=function(e){return cx.activations.filter((function(t){return t.actor===e}))},vx=function(e,t){var n=t[e],i=mx(e);return[i.reduce((function(e,t){return Math.min(e,t.startx)}),n.x+n.width/2),i.reduce((function(e,t){return Math.max(e,t.stopx)}),n.x+n.width/2)]};function yx(e,t,n,i,r){cx.bumpVerticalPos(n);var o=i;if(t.id&&t.message&&e[t.id]){var a=e[t.id].width,l=ux(lx);t.message=Yv.wrapLabel("[".concat(t.message,"]"),a-2*lx.wrapPadding,l),t.width=a,t.wrap=!0;var c=Yv.calculateTextDimensions(t.message,l),u=Math.max(c.height,lx.labelBoxHeight);o=i+u,s.debug("".concat(u," - ").concat(t.message))}r(t),cx.bumpVerticalPos(o)}var bx=function(e){var t=0,n=dx(lx);for(var i in e.links){var r=Yv.calculateTextDimensions(i,n).width+2*lx.wrapPadding+2*lx.boxMargin;t<r&&(t=r)}return t};const _x={bounds:cx,drawActors:fx,drawActorsPopup:px,setConf:gx,draw:function(e,t){lx=iy().sequence,CC.parser.yy.clear(),CC.parser.yy.setWrap(lx.wrap),CC.parser.parse(e+"\n"),cx.init(),s.debug("C:".concat(JSON.stringify(lx,null,2)));var n,i,r=Il('[id="'.concat(t,'"]')),o=CC.parser.yy.getActors(),a=CC.parser.yy.getActorKeys(),l=CC.parser.yy.getMessages(),c=CC.parser.yy.getTitle(),u=(n=o,i={},l.forEach((function(e){if(n[e.to]&&n[e.from]){var t=n[e.to];if(e.placement===CC.parser.yy.PLACEMENT.LEFTOF&&!t.prevActor)return;if(e.placement===CC.parser.yy.PLACEMENT.RIGHTOF&&!t.nextActor)return;var r=void 0!==e.placement,o=!r,s=r?hx(lx):ux(lx),a=e.wrap?Yv.wrapLabel(e.message,lx.width-2*lx.wrapPadding,s):e.message,l=Yv.calculateTextDimensions(a,s).width+2*lx.wrapPadding;o&&e.from===t.nextActor?i[e.to]=Math.max(i[e.to]||0,l):o&&e.from===t.prevActor?i[e.from]=Math.max(i[e.from]||0,l):o&&e.from===e.to?(i[e.from]=Math.max(i[e.from]||0,l/2),i[e.to]=Math.max(i[e.to]||0,l/2)):e.placement===CC.parser.yy.PLACEMENT.RIGHTOF?i[e.from]=Math.max(i[e.from]||0,l):e.placement===CC.parser.yy.PLACEMENT.LEFTOF?i[t.prevActor]=Math.max(i[t.prevActor]||0,l):e.placement===CC.parser.yy.PLACEMENT.OVER&&(t.prevActor&&(i[t.prevActor]=Math.max(i[t.prevActor]||0,l/2)),t.nextActor&&(i[e.from]=Math.max(i[e.from]||0,l/2)))}})),s.debug("maxMessageWidthPerActor:",i),i);lx.height=function(e,t){var n=0;for(var i in Object.keys(e).forEach((function(t){var i=e[t];i.wrap&&(i.description=Yv.wrapLabel(i.description,lx.width-2*lx.wrapPadding,dx(lx)));var r=Yv.calculateTextDimensions(i.description,dx(lx));i.width=i.wrap?lx.width:Math.max(lx.width,r.width+2*lx.wrapPadding),i.height=i.wrap?Math.max(r.height,lx.height):lx.height,n=Math.max(n,i.height)})),t){var r=e[i];if(r){var o=e[r.nextActor];if(o){var s=t[i]+lx.actorMargin-r.width/2-o.width/2;r.margin=Math.max(s,lx.actorMargin)}}}return Math.max(n,lx.height)}(o,u),function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")}(r),function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")}(r),function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")}(r),fx(r,o,a,0);var h=function(e,t){var n,i,r,o={},a=[];return e.forEach((function(e){switch(e.id=Yv.random({length:10}),e.type){case CC.parser.yy.LINETYPE.LOOP_START:case CC.parser.yy.LINETYPE.ALT_START:case CC.parser.yy.LINETYPE.OPT_START:case CC.parser.yy.LINETYPE.PAR_START:a.push({id:e.id,msg:e.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case CC.parser.yy.LINETYPE.ALT_ELSE:case CC.parser.yy.LINETYPE.PAR_AND:e.message&&(n=a.pop(),o[n.id]=n,o[e.id]=n,a.push(n));break;case CC.parser.yy.LINETYPE.LOOP_END:case CC.parser.yy.LINETYPE.ALT_END:case CC.parser.yy.LINETYPE.OPT_END:case CC.parser.yy.LINETYPE.PAR_END:n=a.pop(),o[n.id]=n;break;case CC.parser.yy.LINETYPE.ACTIVE_START:var l=t[e.from?e.from.actor:e.to.actor],c=mx(e.from?e.from.actor:e.to.actor).length,u=l.x+l.width/2+(c-1)*lx.activationWidth/2,h={startx:u,stopx:u+lx.activationWidth,actor:e.from.actor,enabled:!0};cx.activations.push(h);break;case CC.parser.yy.LINETYPE.ACTIVE_END:var d=cx.activations.map((function(e){return e.actor})).lastIndexOf(e.from.actor);delete cx.activations.splice(d,1)[0]}var f,p,g,m,v,y,b;void 0!==e.placement?(g=(p=t)[(f=e).from].x,m=p[f.to].x,v=f.wrap&&f.message,y=Yv.calculateTextDimensions(v?Yv.wrapLabel(f.message,lx.width,hx(lx)):f.message,hx(lx)),b={width:v?lx.width:Math.max(lx.width,y.width+2*lx.noteMargin),height:0,startx:p[f.from].x,stopx:0,starty:0,stopy:0,message:f.message},f.placement===CC.parser.yy.PLACEMENT.RIGHTOF?(b.width=v?Math.max(lx.width,y.width):Math.max(p[f.from].width/2+p[f.to].width/2,y.width+2*lx.noteMargin),b.startx=g+(p[f.from].width+lx.actorMargin)/2):f.placement===CC.parser.yy.PLACEMENT.LEFTOF?(b.width=v?Math.max(lx.width,y.width+2*lx.noteMargin):Math.max(p[f.from].width/2+p[f.to].width/2,y.width+2*lx.noteMargin),b.startx=g-b.width+(p[f.from].width-lx.actorMargin)/2):f.to===f.from?(y=Yv.calculateTextDimensions(v?Yv.wrapLabel(f.message,Math.max(lx.width,p[f.from].width),hx(lx)):f.message,hx(lx)),b.width=v?Math.max(lx.width,p[f.from].width):Math.max(p[f.from].width,lx.width,y.width+2*lx.noteMargin),b.startx=g+(p[f.from].width-b.width)/2):(b.width=Math.abs(g+p[f.from].width/2-(m+p[f.to].width/2))+lx.actorMargin,b.startx=g<m?g+p[f.from].width/2-lx.actorMargin/2:m+p[f.to].width/2-lx.actorMargin/2),v&&(b.message=Yv.wrapLabel(f.message,b.width-2*lx.wrapPadding,hx(lx))),s.debug("NM:[".concat(b.startx,",").concat(b.stopx,",").concat(b.starty,",").concat(b.stopy,":").concat(b.width,",").concat(b.height,"=").concat(f.message,"]")),i=b,e.noteModel=i,a.forEach((function(e){(n=e).from=Math.min(n.from,i.startx),n.to=Math.max(n.to,i.startx+i.width),n.width=Math.max(n.width,Math.abs(n.from-n.to))-lx.labelBoxWidth}))):(r=function(e,t){var n=!1;if([CC.parser.yy.LINETYPE.SOLID_OPEN,CC.parser.yy.LINETYPE.DOTTED_OPEN,CC.parser.yy.LINETYPE.SOLID,CC.parser.yy.LINETYPE.DOTTED,CC.parser.yy.LINETYPE.SOLID_CROSS,CC.parser.yy.LINETYPE.DOTTED_CROSS,CC.parser.yy.LINETYPE.SOLID_POINT,CC.parser.yy.LINETYPE.DOTTED_POINT].includes(e.type)&&(n=!0),!n)return{};var i=vx(e.from,t),r=vx(e.to,t),o=i[0]<=r[0]?1:0,s=i[0]<r[0]?0:1,a=i.concat(r),l=Math.abs(r[s]-i[o]);e.wrap&&e.message&&(e.message=Yv.wrapLabel(e.message,Math.max(l+2*lx.wrapPadding,lx.width),ux(lx)));var c=Yv.calculateTextDimensions(e.message,ux(lx));return{width:Math.max(e.wrap?0:c.width+2*lx.wrapPadding,l+2*lx.wrapPadding,lx.width),height:0,startx:i[o],stopx:r[s],starty:0,stopy:0,message:e.message,type:e.type,wrap:e.wrap,fromBounds:Math.min.apply(null,a),toBounds:Math.max.apply(null,a)}}(e,t),e.msgModel=r,r.startx&&r.stopx&&a.length>0&&a.forEach((function(i){if(n=i,r.startx===r.stopx){var o=t[e.from],s=t[e.to];n.from=Math.min(o.x-r.width/2,o.x-o.width/2,n.from),n.to=Math.max(s.x+r.width/2,s.x+o.width/2,n.to),n.width=Math.max(n.width,Math.abs(n.to-n.from))-lx.labelBoxWidth}else n.from=Math.min(r.startx,n.from),n.to=Math.max(r.stopx,n.to),n.width=Math.max(n.width,r.width)-lx.labelBoxWidth})))})),cx.activations=[],s.debug("Loop type widths:",o),o}(l,o);(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")})(r),function(e){var t=e.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);t.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),t.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")}(r),function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")}(r),function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)}(r);var d=1;l.forEach((function(e){var t,n,i,a,l,c;switch(e.type){case CC.parser.yy.LINETYPE.NOTE:n=e.noteModel,function(e,t){cx.bumpVerticalPos(lx.boxMargin),t.height=lx.boxMargin,t.starty=cx.getVerticalPos();var n=ax();n.x=t.startx,n.y=t.starty,n.width=t.width||lx.width,n.class="note";var i=e.append("g"),r=tx(i,n),o=sx();o.x=t.startx,o.y=t.starty,o.width=n.width,o.dy="1em",o.text=t.message,o.class="noteText",o.fontFamily=lx.noteFontFamily,o.fontSize=lx.noteFontSize,o.fontWeight=lx.noteFontWeight,o.anchor=lx.noteAlign,o.textMargin=lx.noteMargin,o.valign=lx.noteAlign;var s=ZC(i,o),a=Math.round(s.map((function(e){return(e._groups||e)[0][0].getBBox().height})).reduce((function(e,t){return e+t})));r.attr("height",a+2*lx.noteMargin),t.height+=a+2*lx.noteMargin,cx.bumpVerticalPos(a+2*lx.noteMargin),t.stopy=t.starty+a+2*lx.noteMargin,t.stopx=t.startx+n.width,cx.insert(t.startx,t.starty,t.stopx,t.stopy),cx.models.addNote(t)}(r,n);break;case CC.parser.yy.LINETYPE.ACTIVE_START:cx.newActivation(e,r,o);break;case CC.parser.yy.LINETYPE.ACTIVE_END:a=e,l=cx.getVerticalPos(),(c=cx.endActivation(a)).starty+18>l&&(c.starty=l-6,l+=12),function(e,t,n,i,r){var o={x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0},s=t.anchored;o.x=t.startx,o.y=t.starty,o.class="activation"+r%3,o.width=t.stopx-t.startx,o.height=n-t.starty,qC(s,o)}(0,c,l,0,mx(a.from.actor).length),cx.insert(c.startx,l-10,c.stopx,l);break;case CC.parser.yy.LINETYPE.LOOP_START:yx(h,e,lx.boxMargin,lx.boxMargin+lx.boxTextMargin,(function(e){return cx.newLoop(e)}));break;case CC.parser.yy.LINETYPE.LOOP_END:t=cx.endLoop(),ox(r,t,"loop",lx),cx.bumpVerticalPos(t.stopy-cx.getVerticalPos()),cx.models.addLoop(t);break;case CC.parser.yy.LINETYPE.RECT_START:yx(h,e,lx.boxMargin,lx.boxMargin,(function(e){return cx.newLoop(void 0,e.message)}));break;case CC.parser.yy.LINETYPE.RECT_END:t=cx.endLoop(),function(e,t){qC(e,{x:t.startx,y:t.starty,width:t.stopx-t.startx,height:t.stopy-t.starty,fill:t.fill,class:"rect"}).lower()}(r,t),cx.models.addLoop(t),cx.bumpVerticalPos(t.stopy-cx.getVerticalPos());break;case CC.parser.yy.LINETYPE.OPT_START:yx(h,e,lx.boxMargin,lx.boxMargin+lx.boxTextMargin,(function(e){return cx.newLoop(e)}));break;case CC.parser.yy.LINETYPE.OPT_END:t=cx.endLoop(),ox(r,t,"opt",lx),cx.bumpVerticalPos(t.stopy-cx.getVerticalPos()),cx.models.addLoop(t);break;case CC.parser.yy.LINETYPE.ALT_START:yx(h,e,lx.boxMargin,lx.boxMargin+lx.boxTextMargin,(function(e){return cx.newLoop(e)}));break;case CC.parser.yy.LINETYPE.ALT_ELSE:yx(h,e,lx.boxMargin+lx.boxTextMargin,lx.boxMargin,(function(e){return cx.addSectionToLoop(e)}));break;case CC.parser.yy.LINETYPE.ALT_END:t=cx.endLoop(),ox(r,t,"alt",lx),cx.bumpVerticalPos(t.stopy-cx.getVerticalPos()),cx.models.addLoop(t);break;case CC.parser.yy.LINETYPE.PAR_START:yx(h,e,lx.boxMargin,lx.boxMargin+lx.boxTextMargin,(function(e){return cx.newLoop(e)}));break;case CC.parser.yy.LINETYPE.PAR_AND:yx(h,e,lx.boxMargin+lx.boxTextMargin,lx.boxMargin,(function(e){return cx.addSectionToLoop(e)}));break;case CC.parser.yy.LINETYPE.PAR_END:t=cx.endLoop(),ox(r,t,"par",lx),cx.bumpVerticalPos(t.stopy-cx.getVerticalPos()),cx.models.addLoop(t);break;default:try{(i=e.msgModel).starty=cx.getVerticalPos(),i.sequenceIndex=d,function(e,t){cx.bumpVerticalPos(10);var n=t.startx,i=t.stopx,r=t.starty,o=t.message,s=t.type,a=t.sequenceIndex,l=Qm.splitBreaks(o).length,c=Yv.calculateTextDimensions(o,ux(lx)),u=c.height/l;t.height+=u,cx.bumpVerticalPos(u);var h=sx();h.x=n,h.y=r+10,h.width=i-n,h.class="messageText",h.dy="1em",h.text=o,h.fontFamily=lx.messageFontFamily,h.fontSize=lx.messageFontSize,h.fontWeight=lx.messageFontWeight,h.anchor=lx.messageAlign,h.valign=lx.messageAlign,h.textMargin=lx.wrapPadding,h.tspan=!1,ZC(e,h);var d,f,p=c.height-10,g=c.width;if(n===i){f=cx.getVerticalPos()+p,lx.rightAngles?d=e.append("path").attr("d","M  ".concat(n,",").concat(f," H ").concat(n+Math.max(lx.width/2,g/2)," V ").concat(f+25," H ").concat(n)):(p+=lx.boxMargin,f=cx.getVerticalPos()+p,d=e.append("path").attr("d","M "+n+","+f+" C "+(n+60)+","+(f-10)+" "+(n+60)+","+(f+30)+" "+n+","+(f+20))),p+=30;var m=Math.max(g/2,lx.width/2);cx.insert(n-m,cx.getVerticalPos()-10+p,i+m,cx.getVerticalPos()+30+p)}else p+=lx.boxMargin,f=cx.getVerticalPos()+p,(d=e.append("line")).attr("x1",n),d.attr("y1",f),d.attr("x2",i),d.attr("y2",f),cx.insert(n,f-10,i,f);s===CC.parser.yy.LINETYPE.DOTTED||s===CC.parser.yy.LINETYPE.DOTTED_CROSS||s===CC.parser.yy.LINETYPE.DOTTED_POINT||s===CC.parser.yy.LINETYPE.DOTTED_OPEN?(d.style("stroke-dasharray","3, 3"),d.attr("class","messageLine1")):d.attr("class","messageLine0");var v="";lx.arrowMarkerAbsolute&&(v=(v=(v=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),d.attr("stroke-width",2),d.attr("stroke","none"),d.style("fill","none"),s!==CC.parser.yy.LINETYPE.SOLID&&s!==CC.parser.yy.LINETYPE.DOTTED||d.attr("marker-end","url("+v+"#arrowhead)"),s!==CC.parser.yy.LINETYPE.SOLID_POINT&&s!==CC.parser.yy.LINETYPE.DOTTED_POINT||d.attr("marker-end","url("+v+"#filled-head)"),s!==CC.parser.yy.LINETYPE.SOLID_CROSS&&s!==CC.parser.yy.LINETYPE.DOTTED_CROSS||d.attr("marker-end","url("+v+"#crosshead)"),(UC.showSequenceNumbers()||lx.showSequenceNumbers)&&(d.attr("marker-start","url("+v+"#sequencenumber)"),e.append("text").attr("x",n).attr("y",f+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("textLength","16px").attr("class","sequenceNumber").text(a)),cx.bumpVerticalPos(p),t.height+=p,t.stopy=t.starty+t.height,cx.insert(t.fromBounds,t.starty,t.toBounds,t.stopy)}(r,i),cx.models.addMessage(i)}catch(a){s.error("error while drawing message",a)}}[CC.parser.yy.LINETYPE.SOLID_OPEN,CC.parser.yy.LINETYPE.DOTTED_OPEN,CC.parser.yy.LINETYPE.SOLID,CC.parser.yy.LINETYPE.DOTTED,CC.parser.yy.LINETYPE.SOLID_CROSS,CC.parser.yy.LINETYPE.DOTTED_CROSS,CC.parser.yy.LINETYPE.SOLID_POINT,CC.parser.yy.LINETYPE.DOTTED_POINT].includes(e.type)&&d++})),lx.mirrorActors&&(cx.bumpVerticalPos(2*lx.boxMargin),fx(r,o,a,cx.getVerticalPos()),cx.bumpVerticalPos(lx.boxMargin),function(e,t){e.selectAll&&e.selectAll(".actor-line").attr("class","200").attr("y2",t-55)}(r,cx.getVerticalPos()));var f=px(r,o,a),p=cx.getBounds().bounds;s.debug("For line height fix Querying: #"+t+" .actor-line"),Ol("#"+t+" .actor-line").attr("y2",p.stopy);var g=p.stopy-p.starty;g<f.maxHeight&&(g=f.maxHeight);var m=g+2*lx.diagramMarginY;lx.mirrorActors&&(m=m-lx.boxMargin+lx.bottomMarginAdj);var v=p.stopx-p.startx;v<f.maxWidth&&(v=f.maxWidth);var y=v+2*lx.diagramMarginX;c&&r.append("text").text(c).attr("x",(p.stopx-p.startx)/2-2*lx.diagramMarginX).attr("y",-25),qv(r,m,y,lx.useMaxWidth);var b=c?40:0;r.attr("viewBox",p.startx-lx.diagramMarginX+" -"+(lx.diagramMarginY+b)+" "+y+" "+(m+b)),s.debug("models:",cx.models)}};var wx=n(5537),Cx=n.n(wx);function xx(e){return(xx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var kx=function(e){return JSON.parse(JSON.stringify(e))},Sx=[],Dx=function e(t,n,i){if("relation"===n.stmt)e(t,n.state1,!0),e(t,n.state2,!1);else if("state"===n.stmt&&"[*]"===n.id&&(n.id=i?t.id+"_start":t.id+"_end",n.start=i),n.doc){var r=[],o=0,s=[];for(o=0;o<n.doc.length;o++)if("divider"===n.doc[o].type){var a=kx(n.doc[o]);a.doc=kx(s),r.push(a),s=[]}else s.push(n.doc[o]);if(r.length>0&&s.length>0){var l={stmt:"state",id:Pv(),type:"divider",doc:kx(s)};r.push(kx(l)),n.doc=r}n.doc.forEach((function(t){return e(n,t,!0)}))}},Ex={root:{relations:[],states:{},documents:{}}},Lx=Ex.root,Tx=0,Nx=function(e,t,n,i,r){void 0===Lx.states[e]?Lx.states[e]={id:e,descriptions:[],type:t,doc:n,note:r}:(Lx.states[e].doc||(Lx.states[e].doc=n),Lx.states[e].type||(Lx.states[e].type=t)),i&&(s.info("Adding state ",e,i),"string"==typeof i&&Ix(e,i.trim()),"object"===xx(i)&&i.forEach((function(t){return Ix(e,t.trim())}))),r&&(Lx.states[e].note=r,Lx.states[e].note.text=Qm.sanitizeText(Lx.states[e].note.text,iy()))},Mx=function(){Lx=(Ex={root:{relations:[],states:{},documents:{}}}).root,Lx=Ex.root,Tx=0,Fx=[]},Ax=function(e,t,n){var i=e,r=t,o="default",s="default";"[*]"===e&&(i="start"+ ++Tx,o="start"),"[*]"===t&&(r="end"+Tx,s="end"),Nx(i,o),Nx(r,s),Lx.relations.push({id1:i,id2:r,title:Qm.sanitizeText(n,iy())})},Ix=function(e,t){var n=Lx.states[e],i=t;":"===i[0]&&(i=i.substr(1).trim()),n.descriptions.push(Qm.sanitizeText(i,iy()))},Ox=0,Fx=[],Rx="TB";const Px={parseDirective:function(e,t,n){Ok.parseDirective(this,e,t,n)},getConfig:function(){return iy().state},addState:Nx,clear:Mx,getState:function(e){return Lx.states[e]},getStates:function(){return Lx.states},getRelations:function(){return Lx.relations},getClasses:function(){return Fx},getDirection:function(){return Rx},addRelation:Ax,getDividerId:function(){return"divider-id-"+ ++Ox},setDirection:function(e){Rx=e},cleanupLabel:function(e){return":"===e.substring(0,1)?e.substr(2).trim():e.trim()},lineType:{LINE:0,DOTTED_LINE:1},relationType:{AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},logDocuments:function(){s.info("Documents = ",Ex)},getRootDoc:function(){return Sx},setRootDoc:function(e){s.info("Setting root doc",e),Sx=e},getRootDocV2:function(){return Dx({id:"root"},{id:"root",doc:Sx},!0),{id:"root",doc:Sx}},extract:function(e){var t;t=e.doc?e.doc:e,s.info(t),Mx(),s.info("Extract",t),t.forEach((function(e){"state"===e.stmt&&Nx(e.id,e.type,e.doc,e.description,e.note),"relation"===e.stmt&&Ax(e.state1.id,e.state2.id,e.description)}))},trimColon:function(e){return e&&":"===e[0]?e.substr(1).trim():e.trim()}};var Bx={};function jx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var zx,Vx=function(e,t,n){var i,r=iy().state.padding,o=2*iy().state.padding,s=e.node().getBBox(),a=s.width,l=s.x,c=e.append("text").attr("x",0).attr("y",iy().state.titleShift).attr("font-size",iy().state.fontSize).attr("class","state-title").text(t.id),u=c.node().getBBox().width+o,h=Math.max(u,a);h===a&&(h+=o);var d=e.node().getBBox();t.doc,i=l-r,u>a&&(i=(a-h)/2+r),Math.abs(l-d.x)<r&&u>a&&(i=l-(u-a)/2);var f=1-iy().state.textHeight;return e.insert("rect",":first-child").attr("x",i).attr("y",f).attr("class",n?"alt-composit":"composit").attr("width",h).attr("height",d.height+iy().state.textHeight+iy().state.titleShift+1).attr("rx","0"),c.attr("x",i+r),u<=a&&c.attr("x",l+(h-o)/2-u/2+r),e.insert("rect",":first-child").attr("x",i).attr("y",iy().state.titleShift-iy().state.textHeight-iy().state.padding).attr("width",h).attr("height",3*iy().state.textHeight).attr("rx",iy().state.radius),e.insert("rect",":first-child").attr("x",i).attr("y",iy().state.titleShift-iy().state.textHeight-iy().state.padding).attr("width",h).attr("height",d.height+3+2*iy().state.textHeight).attr("rx",iy().state.radius),e},Wx=function(e,t){var n=t.id,i={id:n,label:t.id,width:0,height:0},r=e.append("g").attr("id",n).attr("class","stateGroup");"start"===t.type&&r.append("circle").attr("class","start-state").attr("r",iy().state.sizeUnit).attr("cx",iy().state.padding+iy().state.sizeUnit).attr("cy",iy().state.padding+iy().state.sizeUnit),"end"===t.type&&function(e){e.append("circle").attr("class","end-state-outer").attr("r",iy().state.sizeUnit+iy().state.miniPadding).attr("cx",iy().state.padding+iy().state.sizeUnit+iy().state.miniPadding).attr("cy",iy().state.padding+iy().state.sizeUnit+iy().state.miniPadding),e.append("circle").attr("class","end-state-inner").attr("r",iy().state.sizeUnit).attr("cx",iy().state.padding+iy().state.sizeUnit+2).attr("cy",iy().state.padding+iy().state.sizeUnit+2)}(r),"fork"!==t.type&&"join"!==t.type||function(e,t){var n=iy().state.forkWidth,i=iy().state.forkHeight;if(t.parentId){var r=n;n=i,i=r}e.append("rect").style("stroke","black").style("fill","black").attr("width",n).attr("height",i).attr("x",iy().state.padding).attr("y",iy().state.padding)}(r,t),"note"===t.type&&function(e,t){t.attr("class","state-note");var n=t.append("rect").attr("x",0).attr("y",iy().state.padding),i=function(e,t,n,i){var r=0,o=i.append("text");o.style("text-anchor","start"),o.attr("class","noteText");var s,a=e.replace(/\r\n/g,"<br/>"),l=(a=a.replace(/\n/g,"<br/>")).split(Qm.lineBreakRegex),c=1.25*iy().state.noteMargin,u=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return jx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jx(e,t):void 0}}(e))){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}(l);try{for(u.s();!(s=u.n()).done;){var h=s.value.trim();if(h.length>0){var d=o.append("tspan");d.text(h),0===c&&(c+=d.node().getBBox().height),r+=c,d.attr("x",0+iy().state.noteMargin),d.attr("y",0+r+1.25*iy().state.noteMargin)}}}catch(f){u.e(f)}finally{u.f()}return{textWidth:o.node().getBBox().width,textHeight:r}}(e,0,0,t.append("g")),r=i.textWidth,o=i.textHeight;n.attr("height",o+2*iy().state.noteMargin),n.attr("width",r+2*iy().state.noteMargin)}(t.note.text,r),"divider"===t.type&&function(e){e.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",iy().state.textHeight).attr("class","divider").attr("x2",2*iy().state.textHeight).attr("y1",0).attr("y2",0)}(r),"default"===t.type&&0===t.descriptions.length&&function(e,t){var n=e.append("text").attr("x",2*iy().state.padding).attr("y",iy().state.textHeight+2*iy().state.padding).attr("font-size",iy().state.fontSize).attr("class","state-title").text(t.id).node().getBBox();e.insert("rect",":first-child").attr("x",iy().state.padding).attr("y",iy().state.padding).attr("width",n.width+2*iy().state.padding).attr("height",n.height+2*iy().state.padding).attr("rx",iy().state.radius)}(r,t),"default"===t.type&&t.descriptions.length>0&&function(e,t){var n=e.append("text").attr("x",2*iy().state.padding).attr("y",iy().state.textHeight+1.3*iy().state.padding).attr("font-size",iy().state.fontSize).attr("class","state-title").text(t.descriptions[0]).node().getBBox(),i=n.height,r=e.append("text").attr("x",iy().state.padding).attr("y",i+.4*iy().state.padding+iy().state.dividerMargin+iy().state.textHeight).attr("class","state-description"),o=!0,s=!0;t.descriptions.forEach((function(e){var t,n,i;o||(t=e,n=s,i=r.append("tspan").attr("x",2*iy().state.padding).text(t),n||i.attr("dy",iy().state.textHeight),s=!1),o=!1}));var a=e.append("line").attr("x1",iy().state.padding).attr("y1",iy().state.padding+i+iy().state.dividerMargin/2).attr("y2",iy().state.padding+i+iy().state.dividerMargin/2).attr("class","descr-divider"),l=r.node().getBBox(),c=Math.max(l.width,n.width);a.attr("x2",c+3*iy().state.padding),e.insert("rect",":first-child").attr("x",iy().state.padding).attr("y",iy().state.padding).attr("width",c+2*iy().state.padding).attr("height",l.height+i+2*iy().state.padding).attr("rx",iy().state.radius)}(r,t);var o,s=r.node().getBBox();return i.width=s.width+2*iy().state.padding,i.height=s.height+2*iy().state.padding,o=i,Bx[n]=o,i},Hx=0;wx.parser.yy=Px;var Ux={},$x=function e(t,n,i,r){var o,a=new(Sy().Graph)({compound:!0,multigraph:!0}),l=!0;for(o=0;o<t.length;o++)if("relation"===t[o].stmt){l=!1;break}i?a.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:l?1:zx.edgeLengthFactor,nodeSep:l?1:50,isMultiGraph:!0}):a.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:l?1:zx.edgeLengthFactor,nodeSep:l?1:50,ranker:"tight-tree",isMultiGraph:!0}),a.setDefaultEdgeLabel((function(){return{}})),Px.extract(t);for(var c=Px.getStates(),u=Px.getRelations(),h=Object.keys(c),d=0;d<h.length;d++){var f=c[h[d]];i&&(f.parentId=i);var p=void 0;if(f.doc){var g=n.append("g").attr("id",f.id).attr("class","stateGroup");p=e(f.doc,g,f.id,!r);var m=(g=Vx(g,f,r)).node().getBBox();p.width=m.width,p.height=m.height+zx.padding/2,Ux[f.id]={y:zx.compositTitleSize}}else p=Wx(n,f);if(f.note){var v={descriptions:[],id:f.id+"-note",note:f.note,type:"note"},y=Wx(n,v);"left of"===f.note.position?(a.setNode(p.id+"-note",y),a.setNode(p.id,p)):(a.setNode(p.id,p),a.setNode(p.id+"-note",y)),a.setParent(p.id,p.id+"-group"),a.setParent(p.id+"-note",p.id+"-group")}else a.setNode(p.id,p)}s.debug("Count=",a.nodeCount(),a);var b=0;u.forEach((function(e){var t;b++,s.debug("Setting edge",e),a.setEdge(e.id1,e.id2,{relation:e,width:(t=e.title,t?t.length*zx.fontSizeFactor:1),height:zx.labelHeight*Qm.getRows(e.title).length,labelpos:"c"},"id"+b)})),xy().layout(a),s.debug("Graph after layout",a.nodes());var _=n.node();a.nodes().forEach((function(e){void 0!==e&&void 0!==a.node(e)?(s.warn("Node "+e+": "+JSON.stringify(a.node(e))),Il("#"+_.id+" #"+e).attr("transform","translate("+(a.node(e).x-a.node(e).width/2)+","+(a.node(e).y+(Ux[e]?Ux[e].y:0)-a.node(e).height/2)+" )"),Il("#"+_.id+" #"+e).attr("data-x-shift",a.node(e).x-a.node(e).width/2),document.querySelectorAll("#"+_.id+" #"+e+" .divider").forEach((function(e){var t=e.parentElement,n=0,i=0;t&&(t.parentElement&&(n=t.parentElement.getBBox().width),i=parseInt(t.getAttribute("data-x-shift"),10),Number.isNaN(i)&&(i=0)),e.setAttribute("x1",0-i+8),e.setAttribute("x2",n-i-8)}))):s.debug("No Node "+e+": "+JSON.stringify(a.node(e)))}));var w=_.getBBox();a.edges().forEach((function(e){void 0!==e&&void 0!==a.edge(e)&&(s.debug("Edge "+e.v+" -> "+e.w+": "+JSON.stringify(a.edge(e))),function(e,t,n){t.points=t.points.filter((function(e){return!Number.isNaN(e.y)}));var i=t.points,r=gc().x((function(e){return e.x})).y((function(e){return e.y})).curve(wc),o=e.append("path").attr("d",r(i)).attr("id","edge"+Hx).attr("class","transition"),a="";if(iy().state.arrowMarkerAbsolute&&(a=(a=(a=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),o.attr("marker-end","url("+a+"#"+function(e){switch(e){case Px.relationType.AGGREGATION:return"aggregation";case Px.relationType.EXTENSION:return"extension";case Px.relationType.COMPOSITION:return"composition";case Px.relationType.DEPENDENCY:return"dependency"}}(Px.relationType.DEPENDENCY)+"End)"),void 0!==n.title){for(var l=e.append("g").attr("class","stateLabel"),c=Yv.calcLabelPosition(t.points),u=c.x,h=c.y,d=Qm.getRows(n.title),f=0,p=[],g=0,m=0,v=0;v<=d.length;v++){var y=l.append("text").attr("text-anchor","middle").text(d[v]).attr("x",u).attr("y",h+f),b=y.node().getBBox();if(g=Math.max(g,b.width),m=Math.min(m,b.x),s.info(b.x,u,h+f),0===f){var _=y.node().getBBox();f=_.height,s.info("Title height",f,h)}p.push(y)}var w=f*d.length;if(d.length>1){var C=(d.length-1)*f*.5;p.forEach((function(e,t){return e.attr("y",h+t*f-C)})),w=f*d.length}var x=l.node().getBBox();l.insert("rect",":first-child").attr("class","box").attr("x",u-g/2-iy().state.padding/2).attr("y",h-w/2-iy().state.padding/2-3.5).attr("width",g+iy().state.padding).attr("height",w+iy().state.padding),s.info(x)}Hx++}(n,a.edge(e),a.edge(e).relation))})),w=_.getBBox();var C={id:i||"root",label:i||"root",width:0,height:0};return C.width=w.width+2*zx.padding,C.height=w.height+2*zx.padding,s.debug("Doc rendered",C,a),C};const qx=function(e,t){zx=iy().state,wx.parser.yy.clear(),wx.parser.parse(e),s.debug("Rendering diagram "+e);var n=Il("[id='".concat(t,"']"));n.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z"),new(Sy().Graph)({multigraph:!0,compound:!0,rankdir:"RL"}).setDefaultEdgeLabel((function(){return{}}));var i=Px.getRootDoc();$x(i,n,void 0,!1);var r=zx.padding,o=n.node().getBBox(),a=o.width+2*r,l=o.height+2*r;qv(n,l,1.75*a,zx.useMaxWidth),n.attr("viewBox","".concat(o.x-zx.padding,"  ").concat(o.y-zx.padding," ")+a+" "+l)};var Kx={},Yx={},Gx=function(e,t,n,i){if("root"!==n.id){var r="rect";!0===n.start&&(r="start"),!1===n.start&&(r="end"),"default"!==n.type&&(r=n.type),Yx[n.id]||(Yx[n.id]={id:n.id,shape:r,description:Qm.sanitizeText(n.id,iy()),classes:"statediagram-state"}),n.description&&(Array.isArray(Yx[n.id].description)?(Yx[n.id].shape="rectWithTitle",Yx[n.id].description.push(n.description)):Yx[n.id].description.length>0?(Yx[n.id].shape="rectWithTitle",Yx[n.id].description===n.id?Yx[n.id].description=[n.description]:Yx[n.id].description=[Yx[n.id].description,n.description]):(Yx[n.id].shape="rect",Yx[n.id].description=n.description)),!Yx[n.id].type&&n.doc&&(s.info("Setting cluster for ",n.id,Jx(n)),Yx[n.id].type="group",Yx[n.id].dir=Jx(n),Yx[n.id].shape="divider"===n.type?"divider":"roundedWithTitle",Yx[n.id].classes=Yx[n.id].classes+" "+(i?"statediagram-cluster statediagram-cluster-alt":"statediagram-cluster"));var o={labelStyle:"",shape:Yx[n.id].shape,labelText:Yx[n.id].description,classes:Yx[n.id].classes,style:"",id:n.id,dir:Yx[n.id].dir,domId:"state-"+n.id+"-"+Xx,type:Yx[n.id].type,padding:15};if(n.note){var a={labelStyle:"",shape:"note",labelText:n.note.text,classes:"statediagram-note",style:"",id:n.id+"----note-"+Xx,domId:"state-"+n.id+"----note-"+Xx,type:Yx[n.id].type,padding:15},l={labelStyle:"",shape:"noteGroup",labelText:n.note.text,classes:Yx[n.id].classes,style:"",id:n.id+"----parent",domId:"state-"+n.id+"----parent-"+Xx,type:"group",padding:0};Xx++,e.setNode(n.id+"----parent",l),e.setNode(a.id,a),e.setNode(n.id,o),e.setParent(n.id,n.id+"----parent"),e.setParent(a.id,n.id+"----parent");var c=n.id,u=a.id;"left of"===n.note.position&&(c=a.id,u=n.id),e.setEdge(c,u,{arrowhead:"none",arrowType:"",style:"fill:none",labelStyle:"",classes:"transition note-edge",arrowheadStyle:"fill: #333",labelpos:"c",labelType:"text",thickness:"normal"})}else e.setNode(n.id,o)}t&&"root"!==t.id&&(s.trace("Setting node ",n.id," to be child of its parent ",t.id),e.setParent(n.id,t.id)),n.doc&&(s.trace("Adding nodes children "),Zx(e,n,n.doc,!i))},Xx=0,Zx=function(e,t,n,i){s.trace("items",n),n.forEach((function(n){if("state"===n.stmt||"default"===n.stmt)Gx(e,t,n,i);else if("relation"===n.stmt){Gx(e,t,n.state1,i),Gx(e,t,n.state2,i);var r={id:"edge"+Xx,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:"fill:none",labelStyle:"",label:n.description,arrowheadStyle:"fill: #333",labelpos:"c",labelType:"text",thickness:"normal",classes:"transition"},o=n.state1.id,s=n.state2.id;e.setEdge(o,s,r,Xx),Xx++}}))},Jx=function(e,t){var n=t||"TB";if(e.doc)for(var i=0;i<e.doc.length;i++){var r=e.doc[i];"dir"===r.stmt&&(n=r.value)}return n};const Qx=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)Kx[t[n]]=e[t[n]]};function ek(e){return function(e){if(Array.isArray(e))return tk(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return tk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tk(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var nk="",ik="",rk=[],ok=[],sk=[],ak=function(){for(var e=!0,t=0;t<sk.length;t++)sk[t].processed,e=e&&sk[t].processed;return e};const lk={parseDirective:function(e,t,n){Ok.parseDirective(this,e,t,n)},getConfig:function(){return iy().journey},clear:function(){rk.length=0,ok.length=0,ik="",nk="",sk.length=0},setTitle:function(e){nk=e},getTitle:function(){return nk},addSection:function(e){ik=e,rk.push(e)},getSections:function(){return rk},getTasks:function(){for(var e=ak(),t=0;!e&&t<100;)e=ak(),t++;return ok.push.apply(ok,sk),ok},addTask:function(e,t){var n=t.substr(1).split(":"),i=0,r=[];1===n.length?(i=Number(n[0]),r=[]):(i=Number(n[0]),r=n[1].split(","));var o=r.map((function(e){return e.trim()})),s={section:ik,type:ik,people:o,task:e,score:i};sk.push(s)},addTaskOrg:function(e){var t={section:ik,type:ik,description:e,task:e,classes:[]};ok.push(t)},getActors:function(){return e=[],ok.forEach((function(t){t.people&&e.push.apply(e,ek(t.people))})),ek(new Set(e)).sort();var e}};var ck=n(6741),uk=n.n(ck),hk=function(e,t){var n=e.append("rect");return n.attr("x",t.x),n.attr("y",t.y),n.attr("fill",t.fill),n.attr("stroke",t.stroke),n.attr("width",t.width),n.attr("height",t.height),n.attr("rx",t.rx),n.attr("ry",t.ry),void 0!==t.class&&n.attr("class",t.class),n},dk=function(e,t){var n=e.append("circle");return n.attr("cx",t.cx),n.attr("cy",t.cy),n.attr("class","actor-"+t.pos),n.attr("fill",t.fill),n.attr("stroke",t.stroke),n.attr("r",t.r),void 0!==n.class&&n.attr("class",n.class),void 0!==t.title&&n.append("title").text(t.title),n},fk=-1,pk=function(){function e(e,t,n,r,o,s,a,l){i(t.append("text").attr("x",n+o/2).attr("y",r+s/2+5).style("font-color",l).style("text-anchor","middle").text(e),a)}function t(e,t,n,r,o,s,a,l,c){for(var u=l.taskFontSize,h=l.taskFontFamily,d=e.split(/<br\s*\/?>/gi),f=0;f<d.length;f++){var p=f*u-u*(d.length-1)/2,g=t.append("text").attr("x",n+o/2).attr("y",r).attr("fill",c).style("text-anchor","middle").style("font-size",u).style("font-family",h);g.append("tspan").attr("x",n+o/2).attr("dy",p).text(d[f]),g.attr("y",r+s/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),i(g,a)}}function n(e,n,r,o,s,a,l,c){var u=n.append("switch"),h=u.append("foreignObject").attr("x",r).attr("y",o).attr("width",s).attr("height",a).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");h.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(e),t(e,u,r,o,s,a,l,c),i(h,l)}function i(e,t){for(var n in t)n in t&&e.attr(n,t[n])}return function(i){return"fo"===i.textPlacement?n:"old"===i.textPlacement?e:t}}();const gk=dk,mk=function(e,t,n){var i=e.append("g"),r={x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0};r.x=t.x,r.y=t.y,r.fill=t.fill,r.width=n.width,r.height=n.height,r.class="journey-section section-type-"+t.num,r.rx=3,r.ry=3,hk(i,r),pk(n)(t.text,i,r.x,r.y,r.width,r.height,{class:"journey-section section-type-"+t.num},n,t.colour)},vk=function(e,t,n){var i,r,o,s,a,l=t.x+n.width/2,c=e.append("g");fk++,c.append("line").attr("id","task"+fk).attr("x1",l).attr("y1",t.y).attr("x2",l).attr("y2",450).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),i=c,r={cx:l,cy:300+30*(5-t.score),score:t.score},i.append("circle").attr("cx",r.cx).attr("cy",r.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),(o=i.append("g")).append("circle").attr("cx",r.cx-5).attr("cy",r.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),o.append("circle").attr("cx",r.cx+5).attr("cy",r.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),r.score>3?(s=o,a=cc().startAngle(Math.PI/2).endAngle(Math.PI/2*3).innerRadius(7.5).outerRadius(15/2.2),s.append("path").attr("class","mouth").attr("d",a).attr("transform","translate("+r.cx+","+(r.cy+2)+")")):r.score<3?function(e){var t=cc().startAngle(3*Math.PI/2).endAngle(Math.PI/2*5).innerRadius(7.5).outerRadius(15/2.2);e.append("path").attr("class","mouth").attr("d",t).attr("transform","translate("+r.cx+","+(r.cy+7)+")")}(o):function(e){e.append("line").attr("class","mouth").attr("stroke",2).attr("x1",r.cx-5).attr("y1",r.cy+7).attr("x2",r.cx+5).attr("y2",r.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}(o);var u={x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0};u.x=t.x,u.y=t.y,u.fill=t.fill,u.width=n.width,u.height=n.height,u.class="task task-type-"+t.num,u.rx=3,u.ry=3,hk(c,u);var h=t.x+14;t.people.forEach((function(e){var n=t.actors[e].color,i={cx:h,cy:t.y,r:7,fill:n,stroke:"#000",title:e,pos:t.actors[e].position};dk(c,i),h+=10})),pk(n)(t.task,c,u.x,u.y,u.width,u.height,{class:"task"},n,t.colour)};ck.parser.yy=lk;var yk={},bk=iy().journey,_k=iy().journey.leftMargin,wk={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},updateVal:function(e,t,n,i){void 0===e[t]?e[t]=n:e[t]=i(n,e[t])},updateBounds:function(e,t,n,i){var r=iy().journey,o=this,s=0;this.sequenceItems.forEach((function(a){s++;var l=o.sequenceItems.length-s+1;o.updateVal(a,"starty",t-l*r.boxMargin,Math.min),o.updateVal(a,"stopy",i+l*r.boxMargin,Math.max),o.updateVal(wk.data,"startx",e-l*r.boxMargin,Math.min),o.updateVal(wk.data,"stopx",n+l*r.boxMargin,Math.max),o.updateVal(a,"startx",e-l*r.boxMargin,Math.min),o.updateVal(a,"stopx",n+l*r.boxMargin,Math.max),o.updateVal(wk.data,"starty",t-l*r.boxMargin,Math.min),o.updateVal(wk.data,"stopy",i+l*r.boxMargin,Math.max)}))},insert:function(e,t,n,i){var r=Math.min(e,n),o=Math.max(e,n),s=Math.min(t,i),a=Math.max(t,i);this.updateVal(wk.data,"startx",r,Math.min),this.updateVal(wk.data,"starty",s,Math.min),this.updateVal(wk.data,"stopx",o,Math.max),this.updateVal(wk.data,"stopy",a,Math.max),this.updateBounds(r,s,o,a)},bumpVerticalPos:function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return this.data}},Ck=bk.sectionFills,xk=bk.sectionColours;const kk=function(e){Object.keys(e).forEach((function(t){bk[t]=e[t]}))};var Sk={};const Dk=function(e){return"g.classGroup text {\n  fill: ".concat(e.nodeBorder,";\n  fill: ").concat(e.classText,";\n  stroke: none;\n  font-family: ").concat(e.fontFamily,";\n  font-size: 10px;\n\n  .title {\n    font-weight: bolder;\n  }\n\n}\n\n.nodeLabel, .edgeLabel {\n  color: ").concat(e.classText,";\n}\n.edgeLabel .label rect {\n  fill: ").concat(e.mainBkg,";\n}\n.label text {\n  fill: ").concat(e.classText,";\n}\n.edgeLabel .label span {\n  background: ").concat(e.mainBkg,";\n}\n\n.classTitle {\n  font-weight: bolder;\n}\n.node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ").concat(e.mainBkg,";\n    stroke: ").concat(e.nodeBorder,";\n    stroke-width: 1px;\n  }\n\n\n.divider {\n  stroke: ").concat(e.nodeBorder,";\n  stroke: 1;\n}\n\ng.clickable {\n  cursor: pointer;\n}\n\ng.classGroup rect {\n  fill: ").concat(e.mainBkg,";\n  stroke: ").concat(e.nodeBorder,";\n}\n\ng.classGroup line {\n  stroke: ").concat(e.nodeBorder,";\n  stroke-width: 1;\n}\n\n.classLabel .box {\n  stroke: none;\n  stroke-width: 0;\n  fill: ").concat(e.mainBkg,";\n  opacity: 0.5;\n}\n\n.classLabel .label {\n  fill: ").concat(e.nodeBorder,";\n  font-size: 10px;\n}\n\n.relation {\n  stroke: ").concat(e.lineColor,";\n  stroke-width: 1;\n  fill: none;\n}\n\n.dashed-line{\n  stroke-dasharray: 3;\n}\n\n#compositionStart, .composition {\n  fill: ").concat(e.lineColor," !important;\n  stroke: ").concat(e.lineColor," !important;\n  stroke-width: 1;\n}\n\n#compositionEnd, .composition {\n  fill: ").concat(e.lineColor," !important;\n  stroke: ").concat(e.lineColor," !important;\n  stroke-width: 1;\n}\n\n#dependencyStart, .dependency {\n  fill: ").concat(e.lineColor," !important;\n  stroke: ").concat(e.lineColor," !important;\n  stroke-width: 1;\n}\n\n#dependencyStart, .dependency {\n  fill: ").concat(e.lineColor," !important;\n  stroke: ").concat(e.lineColor," !important;\n  stroke-width: 1;\n}\n\n#extensionStart, .extension {\n  fill: ").concat(e.lineColor," !important;\n  stroke: ").concat(e.lineColor," !important;\n  stroke-width: 1;\n}\n\n#extensionEnd, .extension {\n  fill: ").concat(e.lineColor," !important;\n  stroke: ").concat(e.lineColor," !important;\n  stroke-width: 1;\n}\n\n#aggregationStart, .aggregation {\n  fill: ").concat(e.mainBkg," !important;\n  stroke: ").concat(e.lineColor," !important;\n  stroke-width: 1;\n}\n\n#aggregationEnd, .aggregation {\n  fill: ").concat(e.mainBkg," !important;\n  stroke: ").concat(e.lineColor," !important;\n  stroke-width: 1;\n}\n\n.edgeTerminals {\n  font-size: 11px;\n}\n\n")},Ek=function(e){return".label {\n    font-family: ".concat(e.fontFamily,";\n    color: ").concat(e.nodeTextColor||e.textColor,";\n  }\n  .cluster-label text {\n    fill: ").concat(e.titleColor,";\n  }\n  .cluster-label span {\n    color: ").concat(e.titleColor,";\n  }\n\n  .label text,span {\n    fill: ").concat(e.nodeTextColor||e.textColor,";\n    color: ").concat(e.nodeTextColor||e.textColor,";\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ").concat(e.mainBkg,";\n    stroke: ").concat(e.nodeBorder,";\n    stroke-width: 1px;\n  }\n\n  .node .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n  .arrowheadPath {\n    fill: ").concat(e.arrowheadColor,";\n  }\n\n  .edgePath .path {\n    stroke: ").concat(e.lineColor,";\n    stroke-width: 2.0px;\n  }\n\n  .flowchart-link {\n    stroke: ").concat(e.lineColor,";\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ").concat(e.edgeLabelBackground,";\n    rect {\n      opacity: 0.5;\n      background-color: ").concat(e.edgeLabelBackground,";\n      fill: ").concat(e.edgeLabelBackground,";\n    }\n    text-align: center;\n  }\n\n  .cluster rect {\n    fill: ").concat(e.clusterBkg,";\n    stroke: ").concat(e.clusterBorder,";\n    stroke-width: 1px;\n  }\n\n  .cluster text {\n    fill: ").concat(e.titleColor,";\n  }\n\n  .cluster span {\n    color: ").concat(e.titleColor,";\n  }\n  // .cluster div {\n  //   color: ").concat(e.titleColor,";\n  // }\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: ").concat(e.fontFamily,";\n    font-size: 12px;\n    background: ").concat(e.tertiaryColor,";\n    border: 1px solid ").concat(e.border2,";\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n")},Lk=function(e){return"\ndefs #statediagram-barbEnd {\n    fill: ".concat(e.transitionColor,";\n    stroke: ").concat(e.transitionColor,";\n  }\ng.stateGroup text {\n  fill: ").concat(e.nodeBorder,";\n  stroke: none;\n  font-size: 10px;\n}\ng.stateGroup text {\n  fill: ").concat(e.textColor,";\n  stroke: none;\n  font-size: 10px;\n\n}\ng.stateGroup .state-title {\n  font-weight: bolder;\n  fill: ").concat(e.stateLabelColor,";\n}\n\ng.stateGroup rect {\n  fill: ").concat(e.mainBkg,";\n  stroke: ").concat(e.nodeBorder,";\n}\n\ng.stateGroup line {\n  stroke: ").concat(e.lineColor,";\n  stroke-width: 1;\n}\n\n.transition {\n  stroke: ").concat(e.transitionColor,";\n  stroke-width: 1;\n  fill: none;\n}\n\n.stateGroup .composit {\n  fill: ").concat(e.background,";\n  border-bottom: 1px\n}\n\n.stateGroup .alt-composit {\n  fill: #e0e0e0;\n  border-bottom: 1px\n}\n\n.state-note {\n  stroke: ").concat(e.noteBorderColor,";\n  fill: ").concat(e.noteBkgColor,";\n\n  text {\n    fill: ").concat(e.noteTextColor,";\n    stroke: none;\n    font-size: 10px;\n  }\n}\n\n.stateLabel .box {\n  stroke: none;\n  stroke-width: 0;\n  fill: ").concat(e.mainBkg,";\n  opacity: 0.5;\n}\n\n.edgeLabel .label rect {\n  fill: ").concat(e.labelBackgroundColor,";\n  opacity: 0.5;\n}\n.edgeLabel .label text {\n  fill: ").concat(e.transitionLabelColor||e.tertiaryTextColor,";\n}\n.label div .edgeLabel {\n  color: ").concat(e.transitionLabelColor||e.tertiaryTextColor,";\n}\n\n.stateLabel text {\n  fill: ").concat(e.stateLabelColor,";\n  font-size: 10px;\n  font-weight: bold;\n}\n\n.node circle.state-start {\n  fill: ").concat(e.specialStateColor,";\n  stroke: ").concat(e.specialStateColor,";\n}\n\n.node .fork-join {\n  fill: ").concat(e.specialStateColor,";\n  stroke: ").concat(e.specialStateColor,";\n}\n\n.node circle.state-end {\n  fill: ").concat(e.innerEndBackground,";\n  stroke: ").concat(e.background,";\n  stroke-width: 1.5\n}\n.end-state-inner {\n  fill: ").concat(e.compositeBackground||e.background,";\n  // stroke: ").concat(e.background,";\n  stroke-width: 1.5\n}\n\n.node rect {\n  fill: ").concat(e.stateBkg||e.mainBkg,";\n  stroke: ").concat(e.stateBorder||e.nodeBorder,";\n  stroke-width: 1px;\n}\n.node polygon {\n  fill: ").concat(e.mainBkg,";\n  stroke: ").concat(e.stateBorder||e.nodeBorder,";;\n  stroke-width: 1px;\n}\n#statediagram-barbEnd {\n  fill: ").concat(e.lineColor,";\n}\n\n.statediagram-cluster rect {\n  fill: ").concat(e.compositeTitleBackground,";\n  stroke: ").concat(e.stateBorder||e.nodeBorder,";\n  stroke-width: 1px;\n}\n\n.cluster-label, .nodeLabel {\n  color: ").concat(e.stateLabelColor,";\n}\n\n.statediagram-cluster rect.outer {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-state .divider {\n  stroke: ").concat(e.stateBorder||e.nodeBorder,";\n}\n\n.statediagram-state .title-state {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-cluster.statediagram-cluster .inner {\n  fill: ").concat(e.compositeBackground||e.background,";\n}\n.statediagram-cluster.statediagram-cluster-alt .inner {\n  fill: ").concat(e.altBackground?e.altBackground:"#efefef",";\n}\n\n.statediagram-cluster .inner {\n  rx:0;\n  ry:0;\n}\n\n.statediagram-state rect.basic {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-state rect.divider {\n  stroke-dasharray: 10,10;\n  fill: ").concat(e.altBackground?e.altBackground:"#efefef",";\n}\n\n.note-edge {\n  stroke-dasharray: 5;\n}\n\n.statediagram-note rect {\n  fill: ").concat(e.noteBkgColor,";\n  stroke: ").concat(e.noteBorderColor,";\n  stroke-width: 1px;\n  rx: 0;\n  ry: 0;\n}\n.statediagram-note rect {\n  fill: ").concat(e.noteBkgColor,";\n  stroke: ").concat(e.noteBorderColor,";\n  stroke-width: 1px;\n  rx: 0;\n  ry: 0;\n}\n\n.statediagram-note text {\n  fill: ").concat(e.noteTextColor,";\n}\n\n.statediagram-note .nodeLabel {\n  color: ").concat(e.noteTextColor,";\n}\n.statediagram .edgeLabel {\n  color: red; // ").concat(e.noteTextColor,";\n}\n\n#dependencyStart, #dependencyEnd {\n  fill: ").concat(e.lineColor,";\n  stroke: ").concat(e.lineColor,";\n  stroke-width: 1;\n}\n")};var Tk={flowchart:Ek,"flowchart-v2":Ek,sequence:function(e){return".actor {\n    stroke: ".concat(e.actorBorder,";\n    fill: ").concat(e.actorBkg,";\n  }\n\n  text.actor > tspan {\n    fill: ").concat(e.actorTextColor,";\n    stroke: none;\n  }\n\n  .actor-line {\n    stroke: ").concat(e.actorLineColor,";\n  }\n\n  .messageLine0 {\n    stroke-width: 1.5;\n    stroke-dasharray: none;\n    stroke: ").concat(e.signalColor,";\n  }\n\n  .messageLine1 {\n    stroke-width: 1.5;\n    stroke-dasharray: 2, 2;\n    stroke: ").concat(e.signalColor,";\n  }\n\n  #arrowhead path {\n    fill: ").concat(e.signalColor,";\n    stroke: ").concat(e.signalColor,";\n  }\n\n  .sequenceNumber {\n    fill: ").concat(e.sequenceNumberColor,";\n  }\n\n  #sequencenumber {\n    fill: ").concat(e.signalColor,";\n  }\n\n  #crosshead path {\n    fill: ").concat(e.signalColor,";\n    stroke: ").concat(e.signalColor,";\n  }\n\n  .messageText {\n    fill: ").concat(e.signalTextColor,";\n    stroke: ").concat(e.signalTextColor,";\n  }\n\n  .labelBox {\n    stroke: ").concat(e.labelBoxBorderColor,";\n    fill: ").concat(e.labelBoxBkgColor,";\n  }\n\n  .labelText, .labelText > tspan {\n    fill: ").concat(e.labelTextColor,";\n    stroke: none;\n  }\n\n  .loopText, .loopText > tspan {\n    fill: ").concat(e.loopTextColor,";\n    stroke: none;\n  }\n\n  .loopLine {\n    stroke-width: 2px;\n    stroke-dasharray: 2, 2;\n    stroke: ").concat(e.labelBoxBorderColor,";\n    fill: ").concat(e.labelBoxBorderColor,";\n  }\n\n  .note {\n    //stroke: #decc93;\n    stroke: ").concat(e.noteBorderColor,";\n    fill: ").concat(e.noteBkgColor,";\n  }\n\n  .noteText, .noteText > tspan {\n    fill: ").concat(e.noteTextColor,";\n    stroke: none;\n  }\n\n  .activation0 {\n    fill: ").concat(e.activationBkgColor,";\n    stroke: ").concat(e.activationBorderColor,";\n  }\n\n  .activation1 {\n    fill: ").concat(e.activationBkgColor,";\n    stroke: ").concat(e.activationBorderColor,";\n  }\n\n  .activation2 {\n    fill: ").concat(e.activationBkgColor,";\n    stroke: ").concat(e.activationBorderColor,";\n  }\n\n  .actorPopupMenu {\n    position: absolute;\n  }\n\n  .actorPopupMenuPanel {\n    position: absolute;\n    fill: ").concat(e.actorBkg,";\n    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\n    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));\n}\n  .actor-man line {\n    stroke: ").concat(e.actorBorder,";\n    fill: ").concat(e.actorBkg,";\n  }\n  .actor-man circle, line {\n    stroke: ").concat(e.actorBorder,";\n    fill: ").concat(e.actorBkg,";\n    stroke-width: 2px;\n  }\n")},gantt:function(e){return'\n  .mermaid-main-font {\n    font-family: "trebuchet ms", verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n\n  .section {\n    stroke: none;\n    opacity: 0.2;\n  }\n\n  .section0 {\n    fill: '.concat(e.sectionBkgColor,";\n  }\n\n  .section2 {\n    fill: ").concat(e.sectionBkgColor2,";\n  }\n\n  .section1,\n  .section3 {\n    fill: ").concat(e.altSectionBkgColor,";\n    opacity: 0.2;\n  }\n\n  .sectionTitle0 {\n    fill: ").concat(e.titleColor,";\n  }\n\n  .sectionTitle1 {\n    fill: ").concat(e.titleColor,";\n  }\n\n  .sectionTitle2 {\n    fill: ").concat(e.titleColor,";\n  }\n\n  .sectionTitle3 {\n    fill: ").concat(e.titleColor,";\n  }\n\n  .sectionTitle {\n    text-anchor: start;\n    // font-size: ").concat(e.ganttFontSize,";\n    // text-height: 14px;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n\n  }\n\n\n  /* Grid and axis */\n\n  .grid .tick {\n    stroke: ").concat(e.gridColor,";\n    opacity: 0.8;\n    shape-rendering: crispEdges;\n    text {\n      font-family: ").concat(e.fontFamily,";\n      fill: ").concat(e.textColor,";\n    }\n  }\n\n  .grid path {\n    stroke-width: 0;\n  }\n\n\n  /* Today line */\n\n  .today {\n    fill: none;\n    stroke: ").concat(e.todayLineColor,";\n    stroke-width: 2px;\n  }\n\n\n  /* Task styling */\n\n  /* Default task */\n\n  .task {\n    stroke-width: 2;\n  }\n\n  .taskText {\n    text-anchor: middle;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n\n  // .taskText:not([font-size]) {\n  //   font-size: ").concat(e.ganttFontSize,";\n  // }\n\n  .taskTextOutsideRight {\n    fill: ").concat(e.taskTextDarkColor,";\n    text-anchor: start;\n    // font-size: ").concat(e.ganttFontSize,";\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n\n  }\n\n  .taskTextOutsideLeft {\n    fill: ").concat(e.taskTextDarkColor,";\n    text-anchor: end;\n    // font-size: ").concat(e.ganttFontSize,";\n  }\n\n  /* Special case clickable */\n  .task.clickable {\n    cursor: pointer;\n  }\n  .taskText.clickable {\n    cursor: pointer;\n    fill: ").concat(e.taskTextClickableColor," !important;\n    font-weight: bold;\n  }\n\n  .taskTextOutsideLeft.clickable {\n    cursor: pointer;\n    fill: ").concat(e.taskTextClickableColor," !important;\n    font-weight: bold;\n  }\n\n  .taskTextOutsideRight.clickable {\n    cursor: pointer;\n    fill: ").concat(e.taskTextClickableColor," !important;\n    font-weight: bold;\n  }\n\n  /* Specific task settings for the sections*/\n\n  .taskText0,\n  .taskText1,\n  .taskText2,\n  .taskText3 {\n    fill: ").concat(e.taskTextColor,";\n  }\n\n  .task0,\n  .task1,\n  .task2,\n  .task3 {\n    fill: ").concat(e.taskBkgColor,";\n    stroke: ").concat(e.taskBorderColor,";\n  }\n\n  .taskTextOutside0,\n  .taskTextOutside2\n  {\n    fill: ").concat(e.taskTextOutsideColor,";\n  }\n\n  .taskTextOutside1,\n  .taskTextOutside3 {\n    fill: ").concat(e.taskTextOutsideColor,";\n  }\n\n\n  /* Active task */\n\n  .active0,\n  .active1,\n  .active2,\n  .active3 {\n    fill: ").concat(e.activeTaskBkgColor,";\n    stroke: ").concat(e.activeTaskBorderColor,";\n  }\n\n  .activeText0,\n  .activeText1,\n  .activeText2,\n  .activeText3 {\n    fill: ").concat(e.taskTextDarkColor," !important;\n  }\n\n\n  /* Completed task */\n\n  .done0,\n  .done1,\n  .done2,\n  .done3 {\n    stroke: ").concat(e.doneTaskBorderColor,";\n    fill: ").concat(e.doneTaskBkgColor,";\n    stroke-width: 2;\n  }\n\n  .doneText0,\n  .doneText1,\n  .doneText2,\n  .doneText3 {\n    fill: ").concat(e.taskTextDarkColor," !important;\n  }\n\n\n  /* Tasks on the critical line */\n\n  .crit0,\n  .crit1,\n  .crit2,\n  .crit3 {\n    stroke: ").concat(e.critBorderColor,";\n    fill: ").concat(e.critBkgColor,";\n    stroke-width: 2;\n  }\n\n  .activeCrit0,\n  .activeCrit1,\n  .activeCrit2,\n  .activeCrit3 {\n    stroke: ").concat(e.critBorderColor,";\n    fill: ").concat(e.activeTaskBkgColor,";\n    stroke-width: 2;\n  }\n\n  .doneCrit0,\n  .doneCrit1,\n  .doneCrit2,\n  .doneCrit3 {\n    stroke: ").concat(e.critBorderColor,";\n    fill: ").concat(e.doneTaskBkgColor,";\n    stroke-width: 2;\n    cursor: pointer;\n    shape-rendering: crispEdges;\n  }\n\n  .milestone {\n    transform: rotate(45deg) scale(0.8,0.8);\n  }\n\n  .milestoneText {\n    font-style: italic;\n  }\n  .doneCritText0,\n  .doneCritText1,\n  .doneCritText2,\n  .doneCritText3 {\n    fill: ").concat(e.taskTextDarkColor," !important;\n  }\n\n  .activeCritText0,\n  .activeCritText1,\n  .activeCritText2,\n  .activeCritText3 {\n    fill: ").concat(e.taskTextDarkColor," !important;\n  }\n\n  .titleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ").concat(e.textColor,"    ;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n")},classDiagram:Dk,"classDiagram-v2":Dk,class:Dk,stateDiagram:Lk,state:Lk,git:function(){return"\n  .commit-id,\n  .commit-msg,\n  .branch-label {\n    fill: lightgrey;\n    color: lightgrey;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n"},info:function(){return""},pie:function(e){return"\n  .pieCircle{\n    stroke: ".concat(e.pieStrokeColor,";\n    stroke-width : ").concat(e.pieStrokeWidth,";\n    opacity : ").concat(e.pieOpacity,";\n  }\n  .pieTitleText {\n    text-anchor: middle;\n    font-size: ").concat(e.pieTitleTextSize,";\n    fill: ").concat(e.pieTitleTextColor,";\n    font-family: ").concat(e.fontFamily,";\n  }\n  .slice {\n    font-family: ").concat(e.fontFamily,";\n    fill: ").concat(e.pieSectionTextColor,";\n    font-size:").concat(e.pieSectionTextSize,";\n    // fill: white;\n  }\n  .legend text {\n    fill: ").concat(e.pieLegendTextColor,";\n    font-family: ").concat(e.fontFamily,";\n    font-size: ").concat(e.pieLegendTextSize,";\n  }\n")},er:function(e){return"\n  .entityBox {\n    fill: ".concat(e.mainBkg,";\n    stroke: ").concat(e.nodeBorder,";\n  }\n\n  .attributeBoxOdd {\n    fill: #ffffff;\n    stroke: ").concat(e.nodeBorder,";\n  }\n\n  .attributeBoxEven {\n    fill: #f2f2f2;\n    stroke: ").concat(e.nodeBorder,";\n  }\n\n  .relationshipLabelBox {\n    fill: ").concat(e.tertiaryColor,";\n    opacity: 0.7;\n    background-color: ").concat(e.tertiaryColor,";\n      rect {\n        opacity: 0.5;\n      }\n  }\n\n    .relationshipLine {\n      stroke: ").concat(e.lineColor,";\n    }\n")},journey:function(e){return".label {\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n    color: ".concat(e.textColor,";\n  }\n  .mouth {\n    stroke: #666;\n  }\n\n  line {\n    stroke: ").concat(e.textColor,"\n  }\n\n  .legend {\n    fill: ").concat(e.textColor,";\n  }\n\n  .label text {\n    fill: #333;\n  }\n  .label {\n    color: ").concat(e.textColor,"\n  }\n\n  .face {\n    ").concat(e.faceColor?"fill: ".concat(e.faceColor):"fill: #FFF8DC",";\n    stroke: #999;\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ").concat(e.mainBkg,";\n    stroke: ").concat(e.nodeBorder,";\n    stroke-width: 1px;\n  }\n\n  .node .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n  .arrowheadPath {\n    fill: ").concat(e.arrowheadColor,";\n  }\n\n  .edgePath .path {\n    stroke: ").concat(e.lineColor,";\n    stroke-width: 1.5px;\n  }\n\n  .flowchart-link {\n    stroke: ").concat(e.lineColor,";\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ").concat(e.edgeLabelBackground,";\n    rect {\n      opacity: 0.5;\n    }\n    text-align: center;\n  }\n\n  .cluster rect {\n  }\n\n  .cluster text {\n    fill: ").concat(e.titleColor,";\n  }\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n    font-size: 12px;\n    background: ").concat(e.tertiaryColor,";\n    border: 1px solid ").concat(e.border2,";\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n\n  .task-type-0, .section-type-0  {\n    ").concat(e.fillType0?"fill: ".concat(e.fillType0):"",";\n  }\n  .task-type-1, .section-type-1  {\n    ").concat(e.fillType0?"fill: ".concat(e.fillType1):"",";\n  }\n  .task-type-2, .section-type-2  {\n    ").concat(e.fillType0?"fill: ".concat(e.fillType2):"",";\n  }\n  .task-type-3, .section-type-3  {\n    ").concat(e.fillType0?"fill: ".concat(e.fillType3):"",";\n  }\n  .task-type-4, .section-type-4  {\n    ").concat(e.fillType0?"fill: ".concat(e.fillType4):"",";\n  }\n  .task-type-5, .section-type-5  {\n    ").concat(e.fillType0?"fill: ".concat(e.fillType5):"",";\n  }\n  .task-type-6, .section-type-6  {\n    ").concat(e.fillType0?"fill: ".concat(e.fillType6):"",";\n  }\n  .task-type-7, .section-type-7  {\n    ").concat(e.fillType0?"fill: ".concat(e.fillType7):"",";\n  }\n\n  .actor-0 {\n    ").concat(e.actor0?"fill: ".concat(e.actor0):"",";\n  }\n  .actor-1 {\n    ").concat(e.actor1?"fill: ".concat(e.actor1):"",";\n  }\n  .actor-2 {\n    ").concat(e.actor2?"fill: ".concat(e.actor2):"",";\n  }\n  .actor-3 {\n    ").concat(e.actor3?"fill: ".concat(e.actor3):"",";\n  }\n  .actor-4 {\n    ").concat(e.actor4?"fill: ".concat(e.actor4):"",";\n  }\n  .actor-5 {\n    ").concat(e.actor5?"fill: ".concat(e.actor5):"",";\n  }\n\n  }\n")},requirement:function(e){return"\n\n  marker {\n    fill: ".concat(e.relationColor,";\n    stroke: ").concat(e.relationColor,";\n  }\n\n  marker.cross {\n    stroke: ").concat(e.lineColor,";\n  }\n\n  svg {\n    font-family: ").concat(e.fontFamily,";\n    font-size: ").concat(e.fontSize,";\n  }\n\n  .reqBox {\n    fill: ").concat(e.requirementBackground,";\n    fill-opacity: 100%;\n    stroke: ").concat(e.requirementBorderColor,";\n    stroke-width: ").concat(e.requirementBorderSize,";\n  }\n  \n  .reqTitle, .reqLabel{\n    fill:  ").concat(e.requirementTextColor,";\n  }\n  .reqLabelBox {\n    fill: ").concat(e.relationLabelBackground,";\n    fill-opacity: 100%;\n  }\n\n  .req-title-line {\n    stroke: ").concat(e.requirementBorderColor,";\n    stroke-width: ").concat(e.requirementBorderSize,";\n  }\n  .relationshipLine {\n    stroke: ").concat(e.relationColor,";\n    stroke-width: 1;\n  }\n  .relationshipLabel {\n    fill: ").concat(e.relationLabelColor,";\n  }\n\n")}};function Nk(e){return(Nk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Mk={};function Ak(e){var t;Ww(e.git),M_(e.flowchart),O_(e.flowchart),void 0!==e.sequenceDiagram&&_x.setConf(jv(e.sequence,e.sequenceDiagram)),_x.setConf(e.sequence),e.gantt,zy(e.class),e.state,Qx(e.state),Gw(e.class),jb(e.er),kk(e.journey),wC(e.requirement),t=e.class,Object.keys(t).forEach((function(e){Sk[e]=t[e]}))}var Ik=Object.freeze({render:function(e,t,n,i){sy();var r=t,o=Yv.detectInit(r);o&&oy(o);var a=iy();if(t.length>a.maxTextSize&&(r="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa"),void 0!==i)i.innerHTML="",Il(i).append("div").attr("id","d"+e).attr("style","font-family: "+a.fontFamily).append("svg").attr("id",e).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").append("g");else{var l=document.getElementById(e);l&&l.remove();var c=document.querySelector("#d"+e);c&&c.remove(),Il("body").append("div").attr("id","d"+e).append("svg").attr("id",e).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").append("g")}window.txt=r,r=r.replace(/style.*:\S*#.*;/g,(function(e){return e.substring(0,e.length-1)})).replace(/classDef.*:\S*#.*;/g,(function(e){return e.substring(0,e.length-1)})).replace(/#\w+;/g,(function(e){var t=e.substring(1,e.length-1);return/^\+?\d+$/.test(t)?""+t+"":""+t+""}));var u=Il("#d"+e).node(),h=Yv.detectType(r,a),d=u.firstChild,f=d.firstChild,p="";if(void 0!==a.themeCSS&&(p+="\n".concat(a.themeCSS)),void 0!==a.fontFamily&&(p+="\n:root { --mermaid-font-family: ".concat(a.fontFamily,"}")),void 0!==a.altFontFamily&&(p+="\n:root { --mermaid-alt-font-family: ".concat(a.altFontFamily,"}")),"flowchart"===h||"flowchart-v2"===h||"graph"===h){var g=function(e){s.info("Extracting classes"),h_.clear();try{var t=f_().parser;return t.yy=h_,t.parse(e),h_.getClasses()}catch(n){return}}(r),m=a.htmlLabels||a.flowchart.htmlLabels;for(var v in g)m?(p+="\n.".concat(v," > * { ").concat(g[v].styles.join(" !important; ")," !important; }"),p+="\n.".concat(v," span { ").concat(g[v].styles.join(" !important; ")," !important; }")):(p+="\n.".concat(v," path { ").concat(g[v].styles.join(" !important; ")," !important; }"),p+="\n.".concat(v," rect { ").concat(g[v].styles.join(" !important; ")," !important; }"),p+="\n.".concat(v," polygon { ").concat(g[v].styles.join(" !important; ")," !important; }"),p+="\n.".concat(v," ellipse { ").concat(g[v].styles.join(" !important; ")," !important; }"),p+="\n.".concat(v," circle { ").concat(g[v].styles.join(" !important; ")," !important; }"),g[v].textStyles&&(p+="\n.".concat(v," tspan { ").concat(g[v].textStyles.join(" !important; ")," !important; }")))}var y,b,_,w=function(e,t){return bm(jm("".concat(e,"{").concat(t,"}")),_m)}("#".concat(e),(y=h,b=p,_=a.themeVariables," {\n    font-family: ".concat(_.fontFamily,";\n    font-size: ").concat(_.fontSize,";\n    fill: ").concat(_.textColor,"\n  }\n\n  /* Classes common for multiple diagrams */\n\n  .error-icon {\n    fill: ").concat(_.errorBkgColor,";\n  }\n  .error-text {\n    fill: ").concat(_.errorTextColor,";\n    stroke: ").concat(_.errorTextColor,";\n  }\n\n  .edge-thickness-normal {\n    stroke-width: 2px;\n  }\n  .edge-thickness-thick {\n    stroke-width: 3.5px\n  }\n  .edge-pattern-solid {\n    stroke-dasharray: 0;\n  }\n\n  .edge-pattern-dashed{\n    stroke-dasharray: 3;\n  }\n  .edge-pattern-dotted {\n    stroke-dasharray: 2;\n  }\n\n  .marker {\n    fill: ").concat(_.lineColor,";\n    stroke: ").concat(_.lineColor,";\n  }\n  .marker.cross {\n    stroke: ").concat(_.lineColor,";\n  }\n\n  svg {\n    font-family: ").concat(_.fontFamily,";\n    font-size: ").concat(_.fontSize,";\n  }\n\n  ").concat(Tk[y](_),"\n\n  ").concat(b,"\n"))),C=document.createElement("style");C.innerHTML="#".concat(e," ")+w,d.insertBefore(C,f);try{switch(h){case"git":a.flowchart.arrowMarkerAbsolute=a.arrowMarkerAbsolute,Ww(a.git),function(e,t,n){try{var i=Aw().parser;i.yy=Tw,i.yy.clear(),s.debug("in gitgraph renderer",e+"\n","id:",t,!1),i.parse(e+"\n"),Ow=Object.assign(Ow,Fw,Tw.getOptions()),s.debug("effective options",Ow);var r=Tw.getDirection();Iw=Tw.getCommits();var o=Tw.getBranchesAsObjArray();"BT"===r&&(Ow.nodeLabel.x=o.length*Ow.branchOffset,Ow.nodeLabel.width="100%",Ow.nodeLabel.y=-2*Ow.nodeRadius);var a=Il('[id="'.concat(t,'"]'));for(var l in(u=a).append("defs").append("g").attr("id","def-commit").append("circle").attr("r",Ow.nodeRadius).attr("cx",0).attr("cy",0),u.select("#def-commit").append("foreignObject").attr("width",Ow.nodeLabel.width).attr("height",Ow.nodeLabel.height).attr("x",Ow.nodeLabel.x).attr("y",Ow.nodeLabel.y).attr("class","node-label").attr("requiredFeatures","http://www.w3.org/TR/SVG11/feature#Extensibility").append("p").html(""),Nw=1,o){var c=o[l];zw(a,c.commit.id,o,r),Vw(a,c.commit,r),Nw++}a.attr("height",(function(){return"BT"===r?Object.keys(Iw).length*Ow.nodeSpacing:(o.length+1)*Ow.branchOffset}))}catch(u){s.error("Error while rendering gitgraph"),s.error(u.message)}var u}(r,e);break;case"flowchart":a.flowchart.arrowMarkerAbsolute=a.arrowMarkerAbsolute,M_(a.flowchart),A_(r,e);break;case"flowchart-v2":a.flowchart.arrowMarkerAbsolute=a.arrowMarkerAbsolute,O_(a.flowchart),function(e,t){s.info("Drawing flowchart"),h_.clear(),h_.setGen("gen-2");var n=f_().parser;n.yy=h_,n.parse(e);var i=h_.getDirection();void 0===i&&(i="TD");var r,o=iy().flowchart,a=o.nodeSpacing||50,l=o.rankSpacing||50,c=new(Sy().Graph)({multigraph:!0,compound:!0}).setGraph({rankdir:i,nodesep:a,ranksep:l,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}})),u=h_.getSubGraphs();s.info("Subgraphs - ",u);for(var h=u.length-1;h>=0;h--)r=u[h],s.info("Subgraph - ",r),h_.addVertex(r.id,r.title,"group",void 0,r.classes,r.dir);var d=h_.getVertices(),f=h_.getEdges();s.info(f);var p,g,m,v=0;for(v=u.length-1;v>=0;v--){r=u[v],Ol("cluster").append("text");for(var y=0;y<r.nodes.length;y++)s.info("Setting up subgraphs",r.nodes[y],r.id),c.setParent(r.nodes[y],r.id)}p=d,g=c,m=Il('[id="'.concat(t,'"]')),Object.keys(p).forEach((function(e){var t=p[e],n="default";t.classes.length>0&&(n=t.classes.join(" "));var i,r=Fv(t.styles),o=void 0!==t.text?t.text:t.id;if(Jm(iy().flowchart.htmlLabels)){var a={label:o.replace(/fa[lrsb]?:fa-[\w-]+/g,(function(e){return"<i class='".concat(e.replace(":"," "),"'></i>")}))};(i=v_()(m,a).node()).parentNode.removeChild(i)}else{var l=document.createElementNS("http://www.w3.org/2000/svg","text");l.setAttribute("style",r.labelStyle.replace("color:","fill:"));for(var c=o.split(Qm.lineBreakRegex),u=0;u<c.length;u++){var h=document.createElementNS("http://www.w3.org/2000/svg","tspan");h.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),h.setAttribute("dy","1em"),h.setAttribute("x","1"),h.textContent=c[u],l.appendChild(h)}i=l}var d=0,f="";switch(t.type){case"round":d=5,f="rect";break;default:f="rect";break;case"diamond":f="question";break;case"hexagon":f="hexagon";break;case"odd":case"odd_right":f="rect_left_inv_arrow";break;case"lean_right":f="lean_right";break;case"lean_left":f="lean_left";break;case"trapezoid":f="trapezoid";break;case"inv_trapezoid":f="inv_trapezoid";break;case"circle":f="circle";break;case"ellipse":f="ellipse";break;case"stadium":f="stadium";break;case"subroutine":f="subroutine";break;case"cylinder":f="cylinder"}g.setNode(t.id,{labelStyle:r.labelStyle,shape:f,labelText:o,rx:d,ry:d,class:n,style:r.style,id:t.id,link:t.link,linkTarget:t.linkTarget,tooltip:h_.getTooltip(t.id)||"",domId:h_.lookUpDomId(t.id),haveCallback:t.haveCallback,width:"group"===t.type?500:void 0,dir:t.dir,type:t.type,padding:iy().flowchart.padding}),s.info("setNode",{labelStyle:r.labelStyle,shape:f,labelText:o,rx:d,ry:d,class:n,style:r.style,id:t.id,domId:h_.lookUpDomId(t.id),width:"group"===t.type?500:void 0,type:t.type,dir:t.dir,padding:iy().flowchart.padding})})),function(e,t){s.info("abc78 edges = ",e);var n,i,r=0,o={};if(void 0!==e.defaultStyle){var a=Fv(e.defaultStyle);n=a.style,i=a.labelStyle}e.forEach((function(a){r++;var l="L-"+a.start+"-"+a.end;void 0===o[l]?(o[l]=0,s.info("abc78 new entry",l,o[l])):(o[l]++,s.info("abc78 new entry",l,o[l]));var c=l+"-"+o[l];s.info("abc78 new link id to be used is",l,c,o[l]);var u="LS-"+a.start,h="LE-"+a.end,d={style:"",labelStyle:""};switch(d.minlen=a.length||1,"arrow_open"===a.type?d.arrowhead="none":d.arrowhead="normal",d.arrowTypeStart="arrow_open",d.arrowTypeEnd="arrow_open",a.type){case"double_arrow_cross":d.arrowTypeStart="arrow_cross";case"arrow_cross":d.arrowTypeEnd="arrow_cross";break;case"double_arrow_point":d.arrowTypeStart="arrow_point";case"arrow_point":d.arrowTypeEnd="arrow_point";break;case"double_arrow_circle":d.arrowTypeStart="arrow_circle";case"arrow_circle":d.arrowTypeEnd="arrow_circle"}var f="",p="";switch(a.stroke){case"normal":f="fill:none;",void 0!==n&&(f=n),void 0!==i&&(p=i),d.thickness="normal",d.pattern="solid";break;case"dotted":d.thickness="normal",d.pattern="dotted",d.style="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":d.thickness="thick",d.pattern="solid",d.style="stroke-width: 3.5px;fill:none;"}if(void 0!==a.style){var g=Fv(a.style);f=g.style,p=g.labelStyle}d.style=d.style+=f,d.labelStyle=d.labelStyle+=p,void 0!==a.interpolate?d.curve=Iv(a.interpolate,dc):void 0!==e.defaultInterpolate?d.curve=Iv(e.defaultInterpolate,dc):d.curve=Iv(I_.curve,dc),void 0===a.text?void 0!==a.style&&(d.arrowheadStyle="fill: #333"):(d.arrowheadStyle="fill: #333",d.labelpos="c"),d.labelType="text",d.label=a.text.replace(Qm.lineBreakRegex,"\n"),void 0===a.style&&(d.style=d.style||"stroke: #333; stroke-width: 1.5px;fill:none;"),d.labelStyle=d.labelStyle.replace("color:","fill:"),d.id=c,d.classes="flowchart-link "+u+" "+h,t.setEdge(a.start,a.end,d,r)}))}(f,c);var b=Il('[id="'.concat(t,'"]'));b.attr("xmlns:xlink","http://www.w3.org/1999/xlink");var _=Il("#"+t+" g");kb(_,c,["point","circle","cross"],"flowchart",t);var w=o.diagramPadding,C=b.node().getBBox(),x=C.width+2*w,k=C.height+2*w;if(s.debug("new ViewBox 0 0 ".concat(x," ").concat(k),"translate(".concat(w-c._label.marginx,", ").concat(w-c._label.marginy,")")),qv(b,k,x,o.useMaxWidth),b.attr("viewBox","0 0 ".concat(x," ").concat(k)),b.select("g").attr("transform","translate(".concat(w-c._label.marginx,", ").concat(w-C.y,")")),h_.indexNodes("subGraph"+v),!o.htmlLabels)for(var S=document.querySelectorAll('[id="'+t+'"] .edgeLabel .label'),D=0;D<S.length;D++){var E=S[D],L=E.getBBox(),T=document.createElementNS("http://www.w3.org/2000/svg","rect");T.setAttribute("rx",0),T.setAttribute("ry",0),T.setAttribute("width",L.width),T.setAttribute("height",L.height),E.insertBefore(T,E.firstChild)}Object.keys(d).forEach((function(e){var n=d[e];if(n.link){var i=Il("#"+t+' [id="'+e+'"]');if(i){var r=document.createElementNS("http://www.w3.org/2000/svg","a");r.setAttributeNS("http://www.w3.org/2000/svg","class",n.classes.join(" ")),r.setAttributeNS("http://www.w3.org/2000/svg","href",n.link),r.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),n.linkTarget&&r.setAttributeNS("http://www.w3.org/2000/svg","target",n.linkTarget);var o=i.insert((function(){return r}),":first-child"),s=i.select(".label-container");s&&o.append((function(){return s.node()}));var a=i.select(".label");a&&o.append((function(){return a.node()}))}}}))}(r,e);break;case"sequence":a.sequence.arrowMarkerAbsolute=a.arrowMarkerAbsolute,a.sequenceDiagram?(_x.setConf(Object.assign(a.sequence,a.sequenceDiagram)),console.error("`mermaid config.sequenceDiagram` has been renamed to `config.sequence`. Please update your mermaid config.")):_x.setConf(a.sequence),_x.draw(r,e);break;case"gantt":a.gantt.arrowMarkerAbsolute=a.arrowMarkerAbsolute,a.gantt,mw(r,e);break;case"class":a.class.arrowMarkerAbsolute=a.arrowMarkerAbsolute,zy(a.class),function(e,t){Py={},Dy.parser.yy.clear(),Dy.parser.parse(e),s.info("Rendering diagram "+e);var n,i=Il("[id='".concat(t,"']"));i.attr("xmlns:xlink","http://www.w3.org/1999/xlink"),(n=i).append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),n.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),n.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),n.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),n.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),n.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),n.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),n.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z");var r=new(Sy().Graph)({multigraph:!0});r.setGraph({isMultiGraph:!0}),r.setDefaultEdgeLabel((function(){return{}}));for(var o=wy.getClasses(),a=Object.keys(o),l=0;l<a.length;l++){var c=o[a[l]],u=Ry(i,c,By);Py[u.id]=u,r.setNode(u.id,u),s.info("Org height: "+u.height)}wy.getRelations().forEach((function(e){s.info("tjoho"+jy(e.id1)+jy(e.id2)+JSON.stringify(e)),r.setEdge(jy(e.id1),jy(e.id2),{relation:e},e.title||"DEFAULT")})),xy().layout(r),r.nodes().forEach((function(e){void 0!==e&&void 0!==r.node(e)&&(s.debug("Node "+e+": "+JSON.stringify(r.node(e))),Il("#"+gy(e)).attr("transform","translate("+(r.node(e).x-r.node(e).width/2)+","+(r.node(e).y-r.node(e).height/2)+" )"))})),r.edges().forEach((function(e){void 0!==e&&void 0!==r.edge(e)&&(s.debug("Edge "+e.v+" -> "+e.w+": "+JSON.stringify(r.edge(e))),function(e,t,n,i){var r=function(e){switch(e){case yy.AGGREGATION:return"aggregation";case yy.EXTENSION:return"extension";case yy.COMPOSITION:return"composition";case yy.DEPENDENCY:return"dependency"}};t.points=t.points.filter((function(e){return!Number.isNaN(e.y)}));var o,a,l=t.points,c=gc().x((function(e){return e.x})).y((function(e){return e.y})).curve(wc),u=e.append("path").attr("d",c(l)).attr("id","edge"+Ly).attr("class","relation"),h="";i.arrowMarkerAbsolute&&(h=(h=(h=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),1==n.relation.lineType&&u.attr("class","relation dashed-line"),"none"!==n.relation.type1&&u.attr("marker-start","url("+h+"#"+r(n.relation.type1)+"Start)"),"none"!==n.relation.type2&&u.attr("marker-end","url("+h+"#"+r(n.relation.type2)+"End)");var d,f,p,g,m=t.points.length,v=Yv.calcLabelPosition(t.points);if(o=v.x,a=v.y,m%2!=0&&m>1){var y=Yv.calcCardinalityPosition("none"!==n.relation.type1,t.points,t.points[0]),b=Yv.calcCardinalityPosition("none"!==n.relation.type2,t.points,t.points[m-1]);s.debug("cardinality_1_point "+JSON.stringify(y)),s.debug("cardinality_2_point "+JSON.stringify(b)),d=y.x,f=y.y,p=b.x,g=b.y}if(void 0!==n.title){var _=e.append("g").attr("class","classLabel"),w=_.append("text").attr("class","label").attr("x",o).attr("y",a).attr("fill","red").attr("text-anchor","middle").text(n.title);window.label=w;var C=w.node().getBBox();_.insert("rect",":first-child").attr("class","box").attr("x",C.x-i.padding/2).attr("y",C.y-i.padding/2).attr("width",C.width+i.padding).attr("height",C.height+i.padding)}s.info("Rendering relation "+JSON.stringify(n)),void 0!==n.relationTitle1&&"none"!==n.relationTitle1&&e.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",d).attr("y",f).attr("fill","black").attr("font-size","6").text(n.relationTitle1),void 0!==n.relationTitle2&&"none"!==n.relationTitle2&&e.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",p).attr("y",g).attr("fill","black").attr("font-size","6").text(n.relationTitle2),Ly++}(i,r.edge(e),r.edge(e).relation,By))}));var h=i.node().getBBox(),d=h.width+40,f=h.height+40;qv(i,f,d,By.useMaxWidth);var p="".concat(h.x-20," ").concat(h.y-20," ").concat(d," ").concat(f);s.debug("viewBox ".concat(p)),i.attr("viewBox",p)}(r,e);break;case"classDiagram":a.class.arrowMarkerAbsolute=a.arrowMarkerAbsolute,function(e){Object.keys(e).forEach((function(t){Sb[t]=e[t]}))}(a.class),function(e,t){s.info("Drawing class"),wy.clear(),Dy.parser.parse(e);var n=iy().flowchart;s.info("config:",n);var i,r,o,a=n.nodeSpacing||50,l=n.rankSpacing||50,c=new(Sy().Graph)({multigraph:!0,compound:!0}).setGraph({rankdir:wy.getDirection(),nodesep:a,ranksep:l,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}})),u=wy.getClasses(),h=wy.getRelations();s.info(h),i=u,r=c,o=Object.keys(i),s.info("keys:",o),s.info(i),o.forEach((function(e){var t=i[e],n="";t.cssClasses.length>0&&(n=n+" "+t.cssClasses.join(" "));var o,a={labelStyle:""},l=void 0!==t.text?t.text:t.id;t.type,o="class_box",r.setNode(t.id,{labelStyle:a.labelStyle,shape:o,labelText:l,classData:t,rx:0,ry:0,class:n,style:a.style,id:t.id,domId:t.domId,haveCallback:t.haveCallback,link:t.link,width:"group"===t.type?500:void 0,type:t.type,padding:iy().flowchart.padding}),s.info("setNode",{labelStyle:a.labelStyle,shape:o,labelText:l,rx:0,ry:0,class:n,style:a.style,id:t.id,width:"group"===t.type?500:void 0,type:t.type,padding:iy().flowchart.padding})})),function(e,t){var n=0;e.forEach((function(i){n++;var r={classes:"relation"};r.pattern=1==i.relation.lineType?"dashed":"solid",r.id="id"+n,"arrow_open"===i.type?r.arrowhead="none":r.arrowhead="normal",s.info(r,i),r.startLabelRight="none"===i.relationTitle1?"":i.relationTitle1,r.endLabelLeft="none"===i.relationTitle2?"":i.relationTitle2,r.arrowTypeStart=Db(i.relation.type1),r.arrowTypeEnd=Db(i.relation.type2);var o="",a="";if(void 0!==i.style){var l=Fv(i.style);o=l.style,a=l.labelStyle}else o="fill:none";r.style=o,r.labelStyle=a,void 0!==i.interpolate?r.curve=Iv(i.interpolate,dc):void 0!==e.defaultInterpolate?r.curve=Iv(e.defaultInterpolate,dc):r.curve=Iv(Sb.curve,dc),i.text=i.title,void 0===i.text?void 0!==i.style&&(r.arrowheadStyle="fill: #333"):(r.arrowheadStyle="fill: #333",r.labelpos="c",iy().flowchart.htmlLabels?(r.labelType="html",r.label='<span class="edgeLabel">'+i.text+"</span>"):(r.labelType="text",r.label=i.text.replace(Qm.lineBreakRegex,"\n"),void 0===i.style&&(r.style=r.style||"stroke: #333; stroke-width: 1.5px;fill:none"),r.labelStyle=r.labelStyle.replace("color:","fill:"))),t.setEdge(i.id1,i.id2,r,n)}))}(h,c);var d=Il('[id="'.concat(t,'"]'));d.attr("xmlns:xlink","http://www.w3.org/1999/xlink");var f=Il("#"+t+" g");kb(f,c,["aggregation","extension","composition","dependency"],"classDiagram",t);var p=d.node().getBBox(),g=p.width+16,m=p.height+16;if(s.debug("new ViewBox 0 0 ".concat(g," ").concat(m),"translate(".concat(8-c._label.marginx,", ").concat(8-c._label.marginy,")")),qv(d,m,g,n.useMaxWidth),d.attr("viewBox","0 0 ".concat(g," ").concat(m)),d.select("g").attr("transform","translate(".concat(8-c._label.marginx,", ").concat(8-p.y,")")),!n.htmlLabels)for(var v=document.querySelectorAll('[id="'+t+'"] .edgeLabel .label'),y=0;y<v.length;y++){var b=v[y],_=b.getBBox(),w=document.createElementNS("http://www.w3.org/2000/svg","rect");w.setAttribute("rx",0),w.setAttribute("ry",0),w.setAttribute("width",_.width),w.setAttribute("height",_.height),b.insertBefore(w,b.firstChild)}}(r,e);break;case"state":a.class.arrowMarkerAbsolute=a.arrowMarkerAbsolute,a.state,qx(r,e);break;case"stateDiagram":a.class.arrowMarkerAbsolute=a.arrowMarkerAbsolute,Qx(a.state),function(e,t){s.info("Drawing state diagram (v2)",t),Px.clear(),Yx={};var n=Cx().parser;n.yy=Px,n.parse(e);var i=Px.getDirection();void 0===i&&(i="LR");var r=iy().state,o=r.nodeSpacing||50,a=r.rankSpacing||50;s.info(Px.getRootDocV2()),Px.extract(Px.getRootDocV2()),s.info(Px.getRootDocV2());var l=new(Sy().Graph)({multigraph:!0,compound:!0}).setGraph({rankdir:Jx(Px.getRootDocV2()),nodesep:o,ranksep:a,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}}));Gx(l,void 0,Px.getRootDocV2(),!0);var c=Il('[id="'.concat(t,'"]')),u=Il("#"+t+" g");kb(u,l,["barb"],"statediagram",t);var h=c.node().getBBox(),d=h.width+16,f=h.height+16;c.attr("class","statediagram");var p=c.node().getBBox();qv(c,f,1.75*d,r.useMaxWidth);var g="".concat(p.x-8," ").concat(p.y-8," ").concat(d," ").concat(f);s.debug("viewBox ".concat(g)),c.attr("viewBox",g);for(var m=document.querySelectorAll('[id="'+t+'"] .edgeLabel .label'),v=0;v<m.length;v++){var y=m[v],b=y.getBBox(),_=document.createElementNS("http://www.w3.org/2000/svg","rect");_.setAttribute("rx",0),_.setAttribute("ry",0),_.setAttribute("width",b.width),_.setAttribute("height",b.height),y.insertBefore(_,y.firstChild)}}(r,e);break;case"info":a.class.arrowMarkerAbsolute=a.arrowMarkerAbsolute,Gw(a.class),function(e,t,n){try{var i=Kw().parser;i.yy=$w,s.debug("Renering info diagram\n"+e),i.parse(e),s.debug("Parsed info diagram");var r=Il("#"+t);r.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size","32px").style("text-anchor","middle").text("v 8.13.3"),r.attr("height",100),r.attr("width",400)}catch(o){s.error("Error while rendering info diagram"),s.error(o.message)}}(r,e);break;case"pie":rC(r,e);break;case"er":jb(a.er),function(e,t){s.info("Drawing ER diagram"),Mb.clear();var n=Ib().parser;n.yy=Mb;try{n.parse(e)}catch(r){s.debug("Parsing failed")}var i,r,o,a,l=Il("[id='".concat(t,"']"));o=Rb,(r=l).append("defs").append("marker").attr("id",Ob.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",o.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),r.append("defs").append("marker").attr("id",Ob.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",o.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),(a=r.append("defs").append("marker").attr("id",Ob.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto")).append("circle").attr("stroke",o.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),a.append("path").attr("stroke",o.stroke).attr("fill","none").attr("d","M9,0 L9,18"),(a=r.append("defs").append("marker").attr("id",Ob.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto")).append("circle").attr("stroke",o.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),a.append("path").attr("stroke",o.stroke).attr("fill","none").attr("d","M21,0 L21,18"),r.append("defs").append("marker").attr("id",Ob.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",o.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),r.append("defs").append("marker").attr("id",Ob.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",o.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),(a=r.append("defs").append("marker").attr("id",Ob.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto")).append("circle").attr("stroke",o.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),a.append("path").attr("stroke",o.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),(a=r.append("defs").append("marker").attr("id",Ob.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto")).append("circle").attr("stroke",o.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),a.append("path").attr("stroke",o.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18"),i=new(Sy().Graph)({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:Rb.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel((function(){return{}}));var c=function(e,t,n){var i;return Object.keys(t).forEach((function(r){var o=e.append("g").attr("id",r);i=void 0===i?r:i;var s="entity-"+r,a=o.append("text").attr("class","er entityLabel").attr("id",s).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("style","font-family: "+iy().fontFamily+"; font-size: "+Rb.fontSize+"px").text(r),l=function(e,t,n){var i=Rb.entityPadding/3,r=Rb.entityPadding/3,o=.85*Rb.fontSize,s=t.node().getBBox(),a=[],l=!1,c=!1,u=0,h=0,d=0,f=0,p=0,g=s.height+2*i,m=1;n.forEach((function(n){var r="".concat(t.node().id,"-attr-").concat(m),s=0,v=0,y=e.append("text").attr("class","er entityLabel").attr("id","".concat(r,"-type")).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+iy().fontFamily+"; font-size: "+o+"px").text(n.attributeType),b=e.append("text").attr("class","er entityLabel").attr("id","".concat(r,"-name")).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+iy().fontFamily+"; font-size: "+o+"px").text(n.attributeName),_={};_.tn=y,_.nn=b;var w=y.node().getBBox(),C=b.node().getBBox();if(h=Math.max(h,w.width),d=Math.max(d,C.width),s+=w.width,s+=C.width,v=Math.max(w.height,C.height),l||void 0!==n.attributeKeyType){var x=e.append("text").attr("class","er entityLabel").attr("id","".concat(r,"-name")).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+iy().fontFamily+"; font-size: "+o+"px").text(n.attributeKeyType||"");_.kn=x;var k=x.node().getBBox();s+=k.width,f=Math.max(f,s),v=Math.max(v,k.height),l=!0}if(c||void 0!==n.attributeComment){var S=e.append("text").attr("class","er entityLabel").attr("id","".concat(r,"-name")).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+iy().fontFamily+"; font-size: "+o+"px").text(n.attributeComment||"");_.cn=S;var D=S.node().getBBox();s+=D.width,p=Math.max(s,C.width),v=Math.max(v,D.height),c=!0}_.height=v,a.push(_),u=Math.max(u,s),g+=v+2*i,m+=1}));var v={width:Math.max(Rb.minEntityWidth,Math.max(s.width+2*Rb.entityPadding,u+4*r)),height:n.length>0?g:Math.max(Rb.minEntityHeight,s.height+2*Rb.entityPadding)},y=Math.max(0,v.width-u-4*r);if(n.length>0){t.attr("transform","translate("+v.width/2+","+(i+s.height/2)+")");var b=s.height+2*i,_="attributeBoxOdd";a.forEach((function(t){var n=b+i+t.height/2;t.tn.attr("transform","translate("+r+","+n+")");var o=e.insert("rect","#"+t.tn.node().id).attr("class","er ".concat(_)).attr("fill",Rb.fill).attr("fill-opacity","100%").attr("stroke",Rb.stroke).attr("x",0).attr("y",b).attr("width",2*h+y/2).attr("height",t.tn.node().getBBox().height+2*i);t.nn.attr("transform","translate("+(parseFloat(o.attr("width"))+r)+","+n+")"),e.insert("rect","#"+t.nn.node().id).attr("class","er ".concat(_)).attr("fill",Rb.fill).attr("fill-opacity","100%").attr("stroke",Rb.stroke).attr("x","".concat(o.attr("x")+o.attr("width"))).attr("y",b).attr("width",d+2*r+y/2).attr("height",t.nn.node().getBBox().height+2*i),l&&(t.kn.attr("transform","translate("+(parseFloat(o.attr("width"))+r)+","+n+")"),e.insert("rect","#"+t.kn.node().id).attr("class","er ".concat(_)).attr("fill",Rb.fill).attr("fill-opacity","100%").attr("stroke",Rb.stroke).attr("x","".concat(o.attr("x")+o.attr("width"))).attr("y",b).attr("width",f+2*r+y/2).attr("height",t.kn.node().getBBox().height+2*i)),c&&(t.cn.attr("transform","translate("+(parseFloat(o.attr("width"))+r)+","+n+")"),e.insert("rect","#"+t.cn.node().id).attr("class","er ".concat(_)).attr("fill",Rb.fill).attr("fill-opacity","100%").attr("stroke",Rb.stroke).attr("x","".concat(o.attr("x")+o.attr("width"))).attr("y",b).attr("width",p+2*r+y/2).attr("height",t.cn.node().getBBox().height+2*i)),b+=t.height+2*i,_="attributeBoxOdd"==_?"attributeBoxEven":"attributeBoxOdd"}))}else v.height=Math.max(Rb.minEntityHeight,g),t.attr("transform","translate("+v.width/2+","+v.height/2+")");return v}(o,a,t[r].attributes),c=l.width,u=l.height,h=o.insert("rect","#"+s).attr("class","er entityBox").attr("fill",Rb.fill).attr("fill-opacity","100%").attr("stroke",Rb.stroke).attr("x",0).attr("y",0).attr("width",c).attr("height",u).node().getBBox();n.setNode(r,{width:h.width,height:h.height,shape:"rect",id:r})})),i}(l,Mb.getEntities(),i),u=function(e,t){return e.forEach((function(e){t.setEdge(e.entityA,e.entityB,{relationship:e},Pb(e))})),e}(Mb.getRelationships(),i);xy().layout(i),function(e,t){t.nodes().forEach((function(n){void 0!==n&&void 0!==t.node(n)&&e.select("#"+n).attr("transform","translate("+(t.node(n).x-t.node(n).width/2)+","+(t.node(n).y-t.node(n).height/2)+" )")}))}(l,i),u.forEach((function(e){!function(e,t,n,i){Bb++;var r=n.edge(t.entityA,t.entityB,Pb(t)),o=gc().x((function(e){return e.x})).y((function(e){return e.y})).curve(wc),s=e.insert("path","#"+i).attr("class","er relationshipLine").attr("d",o(r.points)).attr("stroke",Rb.stroke).attr("fill","none");t.relSpec.relType===Mb.Identification.NON_IDENTIFYING&&s.attr("stroke-dasharray","8,8");var a="";switch(Rb.arrowMarkerAbsolute&&(a=(a=(a=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),t.relSpec.cardA){case Mb.Cardinality.ZERO_OR_ONE:s.attr("marker-end","url("+a+"#"+Fb.ZERO_OR_ONE_END+")");break;case Mb.Cardinality.ZERO_OR_MORE:s.attr("marker-end","url("+a+"#"+Fb.ZERO_OR_MORE_END+")");break;case Mb.Cardinality.ONE_OR_MORE:s.attr("marker-end","url("+a+"#"+Fb.ONE_OR_MORE_END+")");break;case Mb.Cardinality.ONLY_ONE:s.attr("marker-end","url("+a+"#"+Fb.ONLY_ONE_END+")")}switch(t.relSpec.cardB){case Mb.Cardinality.ZERO_OR_ONE:s.attr("marker-start","url("+a+"#"+Fb.ZERO_OR_ONE_START+")");break;case Mb.Cardinality.ZERO_OR_MORE:s.attr("marker-start","url("+a+"#"+Fb.ZERO_OR_MORE_START+")");break;case Mb.Cardinality.ONE_OR_MORE:s.attr("marker-start","url("+a+"#"+Fb.ONE_OR_MORE_START+")");break;case Mb.Cardinality.ONLY_ONE:s.attr("marker-start","url("+a+"#"+Fb.ONLY_ONE_START+")")}var l=s.node().getTotalLength(),c=s.node().getPointAtLength(.5*l),u="rel"+Bb,h=e.append("text").attr("class","er relationshipLabel").attr("id",u).attr("x",c.x).attr("y",c.y).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("style","font-family: "+iy().fontFamily+"; font-size: "+Rb.fontSize+"px").text(t.roleA).node().getBBox();e.insert("rect","#"+u).attr("class","er relationshipLabelBox").attr("x",c.x-h.width/2).attr("y",c.y-h.height/2).attr("width",h.width).attr("height",h.height).attr("fill","white").attr("fill-opacity","85%")}(l,e,i,c)}));var h=Rb.diagramPadding,d=l.node().getBBox(),f=d.width+2*h,p=d.height+2*h;qv(l,p,f,Rb.useMaxWidth),l.attr("viewBox","".concat(d.x-h," ").concat(d.y-h," ").concat(f," ").concat(p))}(r,e);break;case"journey":kk(a.journey),function(e,t){var n=iy().journey;ck.parser.yy.clear(),ck.parser.parse(e+"\n"),wk.init();var i=Il("#"+t);i.attr("xmlns:xlink","http://www.w3.org/1999/xlink"),i.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z");var r=ck.parser.yy.getTasks(),o=ck.parser.yy.getTitle(),s=ck.parser.yy.getActors();for(var a in yk)delete yk[a];var l,c,u,h=0;s.forEach((function(e){yk[e]={color:n.actorColours[h%n.actorColours.length],position:h},h++})),l=i,c=iy().journey,u=60,Object.keys(yk).forEach((function(e){var t=yk[e].color,n={cx:20,cy:u,r:7,fill:t,stroke:"#000",pos:yk[e].position};gk(l,n);var i={x:40,y:u+7,fill:"#666",text:e,textMargin:5|c.boxTextMargin};(function(e,t){var n=t.text.replace(/<br\s*\/?>/gi," "),i=e.append("text");i.attr("x",t.x),i.attr("y",t.y),i.attr("class","legend"),i.style("text-anchor",t.anchor),void 0!==t.class&&i.attr("class",t.class);var r=i.append("tspan");r.attr("x",t.x+2*t.textMargin),r.text(n)})(l,i),u+=20})),wk.insert(0,0,_k,50*Object.keys(yk).length),function(e,t,n){for(var i=iy().journey,r="",o=0+(2*i.height+i.diagramMarginY),s=0,a="#CCC",l="black",c=0,u=0;u<t.length;u++){var h=t[u];if(r!==h.section){a=Ck[s%Ck.length],c=s%Ck.length,l=xk[s%xk.length];var d={x:u*i.taskMargin+u*i.width+_k,y:50,text:h.section,fill:a,num:c,colour:l};mk(e,d,i),r=h.section,s++}var f=h.people.reduce((function(e,t){return yk[t]&&(e[t]=yk[t]),e}),{});h.x=u*i.taskMargin+u*i.width+_k,h.y=o,h.width=i.diagramMarginX,h.height=i.diagramMarginY,h.colour=l,h.fill=a,h.num=c,h.actors=f,vk(e,h,i),wk.insert(h.x,h.y,h.x+h.width+i.taskMargin,450)}}(i,r);var d=wk.getBounds();o&&i.append("text").text(o).attr("x",_k).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);var f=d.stopy-d.starty+2*n.diagramMarginY,p=_k+d.stopx+2*n.diagramMarginX;qv(i,f,p,n.useMaxWidth),i.append("line").attr("x1",_k).attr("y1",4*n.height).attr("x2",p-_k-4).attr("y2",4*n.height).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");var g=o?70:0;i.attr("viewBox","".concat(d.startx," -25 ").concat(p," ").concat(f+g)),i.attr("preserveAspectRatio","xMinYMin meet"),i.attr("height",f+g+25)}(r,e);break;case"requirement":wC(a.requirement),function(e,t){oC.parser.yy=dC,oC.parser.yy.clear(),oC.parser.parse(e);var n,i,r,o=Il("[id='".concat(t,"']"));i=gC,(r=(n=o).append("defs").append("marker").attr("id",fC.CONTAINS+"_line_ending").attr("refX",0).attr("refY",i.line_height/2).attr("markerWidth",i.line_height).attr("markerHeight",i.line_height).attr("orient","auto").append("g")).append("circle").attr("cx",i.line_height/2).attr("cy",i.line_height/2).attr("r",i.line_height/2).attr("fill","none"),r.append("line").attr("x1",0).attr("x2",i.line_height).attr("y1",i.line_height/2).attr("y2",i.line_height/2).attr("stroke-width",1),r.append("line").attr("y1",0).attr("y2",i.line_height).attr("x1",i.line_height/2).attr("x2",i.line_height/2).attr("stroke-width",1),n.append("defs").append("marker").attr("id",fC.ARROW+"_line_ending").attr("refX",i.line_height).attr("refY",.5*i.line_height).attr("markerWidth",i.line_height).attr("markerHeight",i.line_height).attr("orient","auto").append("path").attr("d","M0,0\n      L".concat(i.line_height,",").concat(i.line_height/2,"\n      M").concat(i.line_height,",").concat(i.line_height/2,"\n      L0,").concat(i.line_height)).attr("stroke-width",1);var a=new(Sy().Graph)({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:gC.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel((function(){return{}})),l=dC.getRequirements(),c=dC.getElements(),u=dC.getRelationships();!function(e,t,n){Object.keys(e).forEach((function(i){var r=e[i];i=_C(i),s.info("Added new requirement: ",i);var o=n.append("g").attr("id",i),a=vC(o,"req-"+i),l=yC(o,i+"_title",["<<".concat(r.type,">>"),"".concat(r.name)]);bC(o,i+"_body",["Id: ".concat(r.id),"Text: ".concat(r.text),"Risk: ".concat(r.risk),"Verification: ".concat(r.verifyMethod)],l.y);var c=a.node().getBBox();t.setNode(i,{width:c.width,height:c.height,shape:"rect",id:i})}))}(l,a,o),function(e,t,n){Object.keys(e).forEach((function(i){var r=e[i],o=_C(i),s=n.append("g").attr("id",o),a="element-"+o,l=vC(s,a),c=yC(s,a+"_title",["<<Element>>","".concat(i)]);bC(s,a+"_body",["Type: ".concat(r.type||"Not Specified"),"Doc Ref: ".concat(r.docRef||"None")],c.y);var u=l.node().getBBox();t.setNode(o,{width:u.width,height:u.height,shape:"rect",id:o})}))}(c,a,o),function(e,t){e.forEach((function(e){var n=_C(e.src),i=_C(e.dst);t.setEdge(n,i,{relationship:e})}))}(u,a),xy().layout(a),function(e,t){t.nodes().forEach((function(n){void 0!==n&&void 0!==t.node(n)&&(e.select("#"+n),e.select("#"+n).attr("transform","translate("+(t.node(n).x-t.node(n).width/2)+","+(t.node(n).y-t.node(n).height/2)+" )"))}))}(o,a),u.forEach((function(e){!function(e,t,n,i){var r=n.edge(_C(t.src),_C(t.dst)),o=gc().x((function(e){return e.x})).y((function(e){return e.y})),s=e.insert("path","#"+i).attr("class","er relationshipLine").attr("d",o(r.points)).attr("fill","none");t.type==dC.Relationships.CONTAINS?s.attr("marker-start","url("+Qm.getUrl(gC.arrowMarkerAbsolute)+"#"+t.type+"_line_ending)"):(s.attr("stroke-dasharray","10,7"),s.attr("marker-end","url("+Qm.getUrl(gC.arrowMarkerAbsolute)+"#"+pC.ARROW+"_line_ending)")),function(e,t,n,i){var r=t.node().getTotalLength(),o=t.node().getPointAtLength(.5*r),s="rel"+mC;mC++;var a=e.append("text").attr("class","req relationshipLabel").attr("id",s).attr("x",o.x).attr("y",o.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(i).node().getBBox();e.insert("rect","#"+s).attr("class","req reqLabelBox").attr("x",o.x-a.width/2).attr("y",o.y-a.height/2).attr("width",a.width).attr("height",a.height).attr("fill","white").attr("fill-opacity","85%")}(e,s,0,"<<".concat(t.type,">>"))}(o,e,a,t)}));var h=gC.rect_padding,d=o.node().getBBox(),f=d.width+2*h,p=d.height+2*h;qv(o,p,f,gC.useMaxWidth),o.attr("viewBox","".concat(d.x-h," ").concat(d.y-h," ").concat(f," ").concat(p))}(r,e)}}catch(b){throw function(e,t){try{s.debug("Renering svg for syntax error\n");var n=Il("#"+e),i=n.append("g");i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1240).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in graph"),i.append("text").attr("class","error-text").attr("x",1050).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text("mermaid version 8.13.3"),n.attr("height",100),n.attr("width",400),n.attr("viewBox","768 0 512 512")}catch(r){s.error("Error while rendering info diagram"),s.error(r.message)}}(e),b}Il('[id="'.concat(e,'"]')).selectAll("foreignobject > *").attr("xmlns","http://www.w3.org/1999/xhtml");var x=Il("#d"+e).node().innerHTML;if(s.debug("cnf.arrowMarkerAbsolute",a.arrowMarkerAbsolute),a.arrowMarkerAbsolute&&"false"!==a.arrowMarkerAbsolute||(x=x.replace(/marker-end="url\(.*?#/g,'marker-end="url(#',"g")),x=function(e){return e.replace(//g,(function(){return"&#"})).replace(//g,(function(){return"&"})).replace(//g,(function(){return";"}))}(x),x=x.replace(/<br>/g,"<br/>"),void 0!==n)switch(h){case"flowchart":case"flowchart-v2":n(x,h_.bindFunctions);break;case"gantt":n(x,hw.bindFunctions);break;case"class":case"classDiagram":n(x,wy.bindFunctions);break;default:n(x)}else s.debug("CB = undefined!");$C.forEach((function(e){e()})),$C=[];var k=Il("#d"+e).node();return null!==k&&"function"==typeof k.remove&&Il("#d"+e).node().remove(),x},parse:function(e){var t=iy(),n=Yv.detectInit(e,t);n&&s.debug("reinit ",n);var i,r=Yv.detectType(e,t);switch(s.debug("Type "+r),r){case"git":(i=Aw()).parser.yy=Tw;break;case"flowchart":case"flowchart-v2":h_.clear(),(i=f_()).parser.yy=h_;break;case"sequence":(i=xC()).parser.yy=UC;break;case"gantt":(i=gw()).parser.yy=hw;break;case"class":case"classDiagram":(i=Ey()).parser.yy=wy;break;case"state":case"stateDiagram":(i=Cx()).parser.yy=Px;break;case"info":s.debug("info info info"),(i=Kw()).parser.yy=$w;break;case"pie":s.debug("pie"),(i=Zw()).parser.yy=tC;break;case"er":s.debug("er"),(i=Ib()).parser.yy=Mb;break;case"journey":s.debug("Journey"),(i=uk()).parser.yy=lk;break;case"requirement":case"requirementDiagram":s.debug("RequirementDiagram"),(i=sC()).parser.yy=dC}return i.parser.yy.graphType=r,i.parser.yy.parseError=function(e,t){throw{str:e,hash:t}},i.parse(e),i},parseDirective:function(e,t,n,i){try{if(void 0!==t)switch(t=t.trim(),n){case"open_directive":Mk={};break;case"type_directive":Mk.type=t.toLowerCase();break;case"arg_directive":Mk.args=JSON.parse(t);break;case"close_directive":(function(e,t,n){switch(s.debug("Directive type=".concat(t.type," with args:"),t.args),t.type){case"init":case"initialize":["config"].forEach((function(e){void 0!==t.args[e]&&("flowchart-v2"===n&&(n="flowchart"),t.args[n]=t.args[e],delete t.args[e])})),s.debug("sanitize in handleDirective",t.args),Kv(t.args),s.debug("sanitize in handleDirective (done)",t.args),t.args,oy(t.args);break;case"wrap":case"nowrap":e&&e.setWrap&&e.setWrap("wrap"===t.type);break;default:s.warn("Unhandled directive: source: '%%{".concat(t.type,": ").concat(JSON.stringify(t.args?t.args:{}),"}%%"),t)}})(e,Mk,i),Mk=null}}catch(r){s.error("Error while rendering sequenceDiagram directive: ".concat(t," jison context: ").concat(n)),s.error(r.message)}},initialize:function(e){e&&e.fontFamily&&(e.themeVariables&&e.themeVariables.fontFamily||(e.themeVariables={fontFamily:e.fontFamily})),Xv=jv({},e),e&&e.theme&&dv[e.theme]?e.themeVariables=dv[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=dv.default.getThemeVariables(e.themeVariables));var t="object"===Nk(e)?function(e){return Jv=jv({},Zv),Jv=jv(Jv,e),e.theme&&(Jv.themeVariables=dv[e.theme].getThemeVariables(e.themeVariables)),ey=ty(Jv,Qv),Jv}(e):ny();Ak(t),a(t.logLevel)},reinitialize:function(){},getConfig:iy,setConfig:function(e){return jv(ey,e),iy()},getSiteConfig:ny,updateSiteConfig:function(e){return Jv=jv(Jv,e),ty(Jv,Qv),Jv},reset:function(){sy()},globalReset:function(){sy(),Ak(iy())},defaultConfig:Zv});a(iy().logLevel),sy(iy());const Ok=Ik;var Fk=function(){Rk.startOnLoad?Ok.getConfig().startOnLoad&&Rk.init():void 0===Rk.startOnLoad&&(s.debug("In start, no config"),Ok.getConfig().startOnLoad&&Rk.init())};"undefined"!=typeof document&&window.addEventListener("load",(function(){Fk()}),!1);var Rk={startOnLoad:!0,htmlLabels:!0,mermaidAPI:Ok,parse:Ok.parse,render:Ok.render,init:function(){var e,t,n=this,i=Ok.getConfig();arguments.length>=2?(void 0!==arguments[0]&&(Rk.sequenceConfig=arguments[0]),e=arguments[1]):e=arguments[0],"function"==typeof arguments[arguments.length-1]?(t=arguments[arguments.length-1],s.debug("Callback function found")):void 0!==i.mermaid&&("function"==typeof i.mermaid.callback?(t=i.mermaid.callback,s.debug("Callback function found")):s.debug("No Callback function found")),e=void 0===e?document.querySelectorAll(".mermaid"):"string"==typeof e?document.querySelectorAll(e):e instanceof window.Node?[e]:e,s.debug("Start On Load before: "+Rk.startOnLoad),void 0!==Rk.startOnLoad&&(s.debug("Start On Load inner: "+Rk.startOnLoad),Ok.updateSiteConfig({startOnLoad:Rk.startOnLoad})),void 0!==Rk.ganttConfig&&Ok.updateSiteConfig({gantt:Rk.ganttConfig});for(var r,o=new Yv.initIdGeneratior(i.deterministicIds,i.deterministicIDSeed),a=function(i){var a=e[i];if(a.getAttribute("data-processed"))return"continue";a.setAttribute("data-processed",!0);var l="mermaid-".concat(o.next());r=a.innerHTML,r=Yv.entityDecode(r).trim().replace(/<br\s*\/?>/gi,"<br/>");var c=Yv.detectInit(r);c&&s.debug("Detected early reinit: ",c);try{Ok.render(l,r,(function(e,n){a.innerHTML=e,void 0!==t&&t(l),n&&n(a)}),a)}catch(u){s.warn("Syntax Error rendering"),s.warn(u),n.parseError&&n.parseError(u)}},l=0;l<e.length;l++)a(l)},initialize:function(e){void 0!==e.mermaid&&(void 0!==e.mermaid.startOnLoad&&(Rk.startOnLoad=e.mermaid.startOnLoad),void 0!==e.mermaid.htmlLabels&&(Rk.htmlLabels="false"!==e.mermaid.htmlLabels&&!1!==e.mermaid.htmlLabels)),Ok.initialize(e)},contentLoaded:Fk};const Pk=Rk},4949:(e,t,n)=>{e.exports={graphlib:n(6614),dagre:n(1463),intersect:n(8114),render:n(5787),util:n(8355),version:n(5689)}},9144:(e,t,n)=>{var i=n(8355);function r(e,t,n,r){var o=e.append("marker").attr("id",t).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");i.applyStyle(o,n[r+"Style"]),n[r+"Class"]&&o.attr("class",n[r+"Class"])}e.exports={default:r,normal:r,vee:function(e,t,n,r){var o=e.append("marker").attr("id",t).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");i.applyStyle(o,n[r+"Style"]),n[r+"Class"]&&o.attr("class",n[r+"Class"])},undirected:function(e,t,n,r){var o=e.append("marker").attr("id",t).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");i.applyStyle(o,n[r+"Style"]),n[r+"Class"]&&o.attr("class",n[r+"Class"])}}},5632:(e,t,n)=>{var i=n(8355),r=n(4322),o=n(1322);e.exports=function(e,t){var n,s=t.nodes().filter((function(e){return i.isSubgraph(t,e)})),a=e.selectAll("g.cluster").data(s,(function(e){return e}));return a.selectAll("*").remove(),a.enter().append("g").attr("class","cluster").attr("id",(function(e){return t.node(e).id})).style("opacity",0),a=e.selectAll("g.cluster"),i.applyTransition(a,t).style("opacity",1),a.each((function(e){var n=t.node(e),i=r.select(this);r.select(this).append("rect");var s=i.append("g").attr("class","label");o(s,n,n.clusterLabelPos)})),a.selectAll("rect").each((function(e){var n=t.node(e),o=r.select(this);i.applyStyle(o,n.style)})),n=a.exit?a.exit():a.selectAll(null),i.applyTransition(n,t).style("opacity",0).remove(),a}},6315:(e,t,n)=>{var i=n(1034),r=n(1322),o=n(8355),s=n(4322);e.exports=function(e,t){var n,a=e.selectAll("g.edgeLabel").data(t.edges(),(function(e){return o.edgeToId(e)})).classed("update",!0);return a.exit().remove(),a.enter().append("g").classed("edgeLabel",!0).style("opacity",0),(a=e.selectAll("g.edgeLabel")).each((function(e){var n=s.select(this);n.select(".label").remove();var o=t.edge(e),a=r(n,t.edge(e),0,0).classed("label",!0),l=a.node().getBBox();o.labelId&&a.attr("id",o.labelId),i.has(o,"width")||(o.width=l.width),i.has(o,"height")||(o.height=l.height)})),n=a.exit?a.exit():a.selectAll(null),o.applyTransition(n,t).style("opacity",0).remove(),a}},940:(e,t,n)=>{var i=n(1034),r=n(7584),o=n(8355),s=n(4322);function a(e,t){var n=(s.line||s.svg.line)().x((function(e){return e.x})).y((function(e){return e.y}));return(n.curve||n.interpolate)(e.curve),n(t)}e.exports=function(e,t,n){var l,c,u=e.selectAll("g.edgePath").data(t.edges(),(function(e){return o.edgeToId(e)})).classed("update",!0),h=(l=t,(c=u.enter().append("g").attr("class","edgePath").style("opacity",0)).append("path").attr("class","path").attr("d",(function(e){var t=l.edge(e),n=l.node(e.v).elem;return a(t,i.range(t.points.length).map((function(){return t=(e=n).getBBox(),{x:(i=e.ownerSVGElement.getScreenCTM().inverse().multiply(e.getScreenCTM()).translate(t.width/2,t.height/2)).e,y:i.f};var e,t,i})))})),c.append("defs"),c);!function(e,t){var n=e.exit();o.applyTransition(n,t).style("opacity",0).remove()}(u,t);var d=void 0!==u.merge?u.merge(h):u;return o.applyTransition(d,t).style("opacity",1),d.each((function(e){var n=s.select(this),i=t.edge(e);i.elem=this,i.id&&n.attr("id",i.id),o.applyClass(n,i.class,(n.classed("update")?"update ":"")+"edgePath")})),d.selectAll("path.path").each((function(e){var n=t.edge(e);n.arrowheadId=i.uniqueId("arrowhead");var l=s.select(this).attr("marker-end",(function(){return"url("+(e=location.href,t=n.arrowheadId,e.split("#")[0]+"#"+t+")");var e,t})).style("fill","none");o.applyTransition(l,t).attr("d",(function(e){return function(e,t){var n=e.edge(t),i=e.node(t.v),o=e.node(t.w),s=n.points.slice(1,n.points.length-1);return s.unshift(r(i,s[0])),s.push(r(o,s[s.length-1])),a(n,s)}(t,e)})),o.applyStyle(l,n.style)})),d.selectAll("defs *").remove(),d.selectAll("defs").each((function(e){var i=t.edge(e);(0,n[i.arrowhead])(s.select(this),i.arrowheadId,i,"arrowhead")})),d}},607:(e,t,n)=>{var i=n(1034),r=n(1322),o=n(8355),s=n(4322);e.exports=function(e,t,n){var a,l=t.nodes().filter((function(e){return!o.isSubgraph(t,e)})),c=e.selectAll("g.node").data(l,(function(e){return e})).classed("update",!0);return c.exit().remove(),c.enter().append("g").attr("class","node").style("opacity",0),(c=e.selectAll("g.node")).each((function(e){var a=t.node(e),l=s.select(this);o.applyClass(l,a.class,(l.classed("update")?"update ":"")+"node"),l.select("g.label").remove();var c=l.append("g").attr("class","label"),u=r(c,a),h=n[a.shape],d=i.pick(u.node().getBBox(),"width","height");a.elem=this,a.id&&l.attr("id",a.id),a.labelId&&c.attr("id",a.labelId),i.has(a,"width")&&(d.width=a.width),i.has(a,"height")&&(d.height=a.height),d.width+=a.paddingLeft+a.paddingRight,d.height+=a.paddingTop+a.paddingBottom,c.attr("transform","translate("+(a.paddingLeft-a.paddingRight)/2+","+(a.paddingTop-a.paddingBottom)/2+")");var f=s.select(this);f.select(".label-container").remove();var p=h(f,d,a).classed("label-container",!0);o.applyStyle(p,a.style);var g=p.node().getBBox();a.width=g.width,a.height=g.height})),a=c.exit?c.exit():c.selectAll(null),o.applyTransition(a,t).style("opacity",0).remove(),c}},4322:(e,t,n)=>{var i;if(!i)try{i=n(7188)}catch(r){}i||(i=window.d3),e.exports=i},1463:(e,t,n)=>{var i;try{i=n(681)}catch(r){}i||(i=window.dagre),e.exports=i},6614:(e,t,n)=>{var i;try{i=n(8282)}catch(r){}i||(i=window.graphlib),e.exports=i},8114:(e,t,n)=>{e.exports={node:n(7584),circle:n(6587),ellipse:n(3260),polygon:n(5337),rect:n(8049)}},6587:(e,t,n)=>{var i=n(3260);e.exports=function(e,t,n){return i(e,t,t,n)}},3260:e=>{e.exports=function(e,t,n,i){var r=e.x,o=e.y,s=r-i.x,a=o-i.y,l=Math.sqrt(t*t*a*a+n*n*s*s),c=Math.abs(t*n*s/l);i.x<r&&(c=-c);var u=Math.abs(t*n*a/l);return i.y<o&&(u=-u),{x:r+c,y:o+u}}},6808:e=>{function t(e,t){return e*t>0}e.exports=function(e,n,i,r){var o,s,a,l,c,u,h,d,f,p,g,m,v;if(o=n.y-e.y,a=e.x-n.x,c=n.x*e.y-e.x*n.y,f=o*i.x+a*i.y+c,p=o*r.x+a*r.y+c,!(0!==f&&0!==p&&t(f,p)||(s=r.y-i.y,l=i.x-r.x,u=r.x*i.y-i.x*r.y,h=s*e.x+l*e.y+u,d=s*n.x+l*n.y+u,0!==h&&0!==d&&t(h,d)||0==(g=o*l-s*a))))return m=Math.abs(g/2),{x:(v=a*u-l*c)<0?(v-m)/g:(v+m)/g,y:(v=s*c-o*u)<0?(v-m)/g:(v+m)/g}}},7584:e=>{e.exports=function(e,t){return e.intersect(t)}},5337:(e,t,n)=>{var i=n(6808);e.exports=function(e,t,n){var r=e.x,o=e.y,s=[],a=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY;t.forEach((function(e){a=Math.min(a,e.x),l=Math.min(l,e.y)}));for(var c=r-e.width/2-a,u=o-e.height/2-l,h=0;h<t.length;h++){var d=t[h],f=t[h<t.length-1?h+1:0],p=i(e,n,{x:c+d.x,y:u+d.y},{x:c+f.x,y:u+f.y});p&&s.push(p)}return s.length?(s.length>1&&s.sort((function(e,t){var i=e.x-n.x,r=e.y-n.y,o=Math.sqrt(i*i+r*r),s=t.x-n.x,a=t.y-n.y,l=Math.sqrt(s*s+a*a);return o<l?-1:o===l?0:1})),s[0]):(console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",e),e)}},8049:e=>{e.exports=function(e,t){var n,i,r=e.x,o=e.y,s=t.x-r,a=t.y-o,l=e.width/2,c=e.height/2;return Math.abs(a)*l>Math.abs(s)*c?(a<0&&(c=-c),n=0===a?0:c*s/a,i=c):(s<0&&(l=-l),n=l,i=0===s?0:l*a/s),{x:r+n,y:o+i}}},8284:(e,t,n)=>{var i=n(8355);e.exports=function(e,t){var n=e.append("foreignObject").attr("width","100000"),r=n.append("xhtml:div");r.attr("xmlns","http://www.w3.org/1999/xhtml");var o=t.label;switch(typeof o){case"function":r.insert(o);break;case"object":r.insert((function(){return o}));break;default:r.html(o)}i.applyStyle(r,t.labelStyle),r.style("display","inline-block"),r.style("white-space","nowrap");var s=r.node().getBoundingClientRect();return n.attr("width",s.width).attr("height",s.height),n}},1322:(e,t,n)=>{var i=n(7318),r=n(8284),o=n(8287);e.exports=function(e,t,n){var s=t.label,a=e.append("g");"svg"===t.labelType?o(a,t):"string"!=typeof s||"html"===t.labelType?r(a,t):i(a,t);var l,c=a.node().getBBox();switch(n){case"top":l=-t.height/2;break;case"bottom":l=t.height/2-c.height;break;default:l=-c.height/2}return a.attr("transform","translate("+-c.width/2+","+l+")"),a}},8287:(e,t,n)=>{var i=n(8355);e.exports=function(e,t){var n=e;return n.node().appendChild(t.label),i.applyStyle(n,t.labelStyle),n}},7318:(e,t,n)=>{var i=n(8355);e.exports=function(e,t){for(var n=e.append("text"),r=function(e){for(var t,n="",i=!1,r=0;r<e.length;++r)t=e[r],i?(n+="n"===t?"\n":t,i=!1):"\\"===t?i=!0:n+=t;return n}(t.label).split("\n"),o=0;o<r.length;o++)n.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(r[o]);return i.applyStyle(n,t.labelStyle),n}},1034:(e,t,n)=>{var i;try{i={defaults:n(1747),each:n(6073),isFunction:n(3560),isPlainObject:n(8630),pick:n(9722),has:n(8721),range:n(6026),uniqueId:n(3955)}}catch(r){}i||(i=window._),e.exports=i},6381:(e,t,n)=>{var i=n(8355),r=n(4322);e.exports=function(e,t){var n=e.filter((function(){return!r.select(this).classed("update")}));function o(e){var n=t.node(e);return"translate("+n.x+","+n.y+")"}n.attr("transform",o),i.applyTransition(e,t).style("opacity",1).attr("transform",o),i.applyTransition(n.selectAll("rect"),t).attr("width",(function(e){return t.node(e).width})).attr("height",(function(e){return t.node(e).height})).attr("x",(function(e){return-t.node(e).width/2})).attr("y",(function(e){return-t.node(e).height/2}))}},4577:(e,t,n)=>{var i=n(8355),r=n(4322),o=n(1034);e.exports=function(e,t){function n(e){var n=t.edge(e);return o.has(n,"x")?"translate("+n.x+","+n.y+")":""}e.filter((function(){return!r.select(this).classed("update")})).attr("transform",n),i.applyTransition(e,t).style("opacity",1).attr("transform",n)}},4849:(e,t,n)=>{var i=n(8355),r=n(4322);e.exports=function(e,t){function n(e){var n=t.node(e);return"translate("+n.x+","+n.y+")"}e.filter((function(){return!r.select(this).classed("update")})).attr("transform",n),i.applyTransition(e,t).style("opacity",1).attr("transform",n)}},5787:(e,t,n)=>{var i=n(1034),r=n(4322),o=n(1463).layout;e.exports=function(){var e=n(607),t=n(5632),r=n(6315),c=n(940),u=n(4849),h=n(4577),d=n(6381),f=n(4418),p=n(9144),g=function(n,g){var m;(m=g).nodes().forEach((function(e){var t=m.node(e);i.has(t,"label")||m.children(e).length||(t.label=e),i.has(t,"paddingX")&&i.defaults(t,{paddingLeft:t.paddingX,paddingRight:t.paddingX}),i.has(t,"paddingY")&&i.defaults(t,{paddingTop:t.paddingY,paddingBottom:t.paddingY}),i.has(t,"padding")&&i.defaults(t,{paddingLeft:t.padding,paddingRight:t.padding,paddingTop:t.padding,paddingBottom:t.padding}),i.defaults(t,s),i.each(["paddingLeft","paddingRight","paddingTop","paddingBottom"],(function(e){t[e]=Number(t[e])})),i.has(t,"width")&&(t._prevWidth=t.width),i.has(t,"height")&&(t._prevHeight=t.height)})),m.edges().forEach((function(e){var t=m.edge(e);i.has(t,"label")||(t.label=""),i.defaults(t,a)}));var v=l(n,"output"),y=l(v,"clusters"),b=l(v,"edgePaths"),_=r(l(v,"edgeLabels"),g),w=e(l(v,"nodes"),g,f);o(g),u(w,g),h(_,g),c(b,g,p);var C=t(y,g);d(C,g),function(e){i.each(e.nodes(),(function(t){var n=e.node(t);i.has(n,"_prevWidth")?n.width=n._prevWidth:delete n.width,i.has(n,"_prevHeight")?n.height=n._prevHeight:delete n.height,delete n._prevWidth,delete n._prevHeight}))}(g)};return g.createNodes=function(t){return arguments.length?(e=t,g):e},g.createClusters=function(e){return arguments.length?(t=e,g):t},g.createEdgeLabels=function(e){return arguments.length?(r=e,g):r},g.createEdgePaths=function(e){return arguments.length?(c=e,g):c},g.shapes=function(e){return arguments.length?(f=e,g):f},g.arrows=function(e){return arguments.length?(p=e,g):p},g};var s={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},a={arrowhead:"normal",curve:r.curveLinear};function l(e,t){var n=e.select("g."+t);return n.empty()&&(n=e.append("g").attr("class",t)),n}},4418:(e,t,n)=>{var i=n(8049),r=n(3260),o=n(6587),s=n(5337);e.exports={rect:function(e,t,n){var r=e.insert("rect",":first-child").attr("rx",n.rx).attr("ry",n.ry).attr("x",-t.width/2).attr("y",-t.height/2).attr("width",t.width).attr("height",t.height);return n.intersect=function(e){return i(n,e)},r},ellipse:function(e,t,n){var i=t.width/2,o=t.height/2,s=e.insert("ellipse",":first-child").attr("x",-t.width/2).attr("y",-t.height/2).attr("rx",i).attr("ry",o);return n.intersect=function(e){return r(n,i,o,e)},s},circle:function(e,t,n){var i=Math.max(t.width,t.height)/2,r=e.insert("circle",":first-child").attr("x",-t.width/2).attr("y",-t.height/2).attr("r",i);return n.intersect=function(e){return o(n,i,e)},r},diamond:function(e,t,n){var i=t.width*Math.SQRT2/2,r=t.height*Math.SQRT2/2,o=[{x:0,y:-r},{x:-i,y:0},{x:0,y:r},{x:i,y:0}],a=e.insert("polygon",":first-child").attr("points",o.map((function(e){return e.x+","+e.y})).join(" "));return n.intersect=function(e){return s(n,o,e)},a}}},8355:(e,t,n)=>{var i=n(1034);e.exports={isSubgraph:function(e,t){return!!e.children(t).length},edgeToId:function(e){return o(e.v)+":"+o(e.w)+":"+o(e.name)},applyStyle:function(e,t){t&&e.attr("style",t)},applyClass:function(e,t,n){t&&e.attr("class",t).attr("class",n+" "+e.attr("class"))},applyTransition:function(e,t){var n=t.graph();if(i.isPlainObject(n)){var r=n.transition;if(i.isFunction(r))return r(e)}return e}};var r=/:/g;function o(e){return e?String(e).replace(r,"\\:"):""}},5689:e=>{e.exports="0.6.4"},7188:(e,t,n)=>{n.r(t),n.d(t,{FormatSpecifier:()=>cl,active:()=>Qi,arc:()=>hw,area:()=>vw,areaRadial:()=>Dw,ascending:()=>r,autoType:()=>Ps,axisBottom:()=>re,axisLeft:()=>oe,axisRight:()=>ie,axisTop:()=>ne,bisect:()=>c,bisectLeft:()=>l,bisectRight:()=>a,bisector:()=>o,blob:()=>va,brush:()=>Lr,brushSelection:()=>Sr,brushX:()=>Dr,brushY:()=>Er,buffer:()=>ba,chord:()=>Pr,clientPoint:()=>Mn,cluster:()=>Df,color:()=>Kt,contourDensity:()=>as,contours:()=>ts,create:()=>B_,creator:()=>rt,cross:()=>d,csv:()=>ka,csvFormat:()=>ks,csvFormatBody:()=>Ss,csvFormatRow:()=>Es,csvFormatRows:()=>Ds,csvFormatValue:()=>Ls,csvParse:()=>Cs,csvParseRows:()=>xs,cubehelix:()=>$o,curveBasis:()=>sC,curveBasisClosed:()=>lC,curveBasisOpen:()=>uC,curveBundle:()=>dC,curveCardinal:()=>gC,curveCardinalClosed:()=>vC,curveCardinalOpen:()=>bC,curveCatmullRom:()=>CC,curveCatmullRomClosed:()=>kC,curveCatmullRomOpen:()=>DC,curveLinear:()=>fw,curveLinearClosed:()=>LC,curveMonotoneX:()=>RC,curveMonotoneY:()=>PC,curveNatural:()=>zC,curveStep:()=>WC,curveStepAfter:()=>UC,curveStepBefore:()=>HC,customEvent:()=>mt,descending:()=>f,deviation:()=>m,dispatch:()=>de,drag:()=>ps,dragDisable:()=>Et,dragEnable:()=>Lt,dsv:()=>xa,dsvFormat:()=>_s,easeBack:()=>ha,easeBackIn:()=>ca,easeBackInOut:()=>ha,easeBackOut:()=>ua,easeBounce:()=>sa,easeBounceIn:()=>oa,easeBounceInOut:()=>aa,easeBounceOut:()=>sa,easeCircle:()=>ia,easeCircleIn:()=>ta,easeCircleInOut:()=>ia,easeCircleOut:()=>na,easeCubic:()=>Gi,easeCubicIn:()=>Ki,easeCubicInOut:()=>Gi,easeCubicOut:()=>Yi,easeElastic:()=>pa,easeElasticIn:()=>fa,easeElasticInOut:()=>ga,easeElasticOut:()=>pa,easeExp:()=>ea,easeExpIn:()=>Js,easeExpInOut:()=>ea,easeExpOut:()=>Qs,easeLinear:()=>js,easePoly:()=>$s,easePolyIn:()=>Hs,easePolyInOut:()=>$s,easePolyOut:()=>Us,easeQuad:()=>Ws,easeQuadIn:()=>zs,easeQuadInOut:()=>Ws,easeQuadOut:()=>Vs,easeSin:()=>Xs,easeSinIn:()=>Ys,easeSinInOut:()=>Xs,easeSinOut:()=>Gs,entries:()=>go,event:()=>ut,extent:()=>v,forceCenter:()=>Ia,forceCollide:()=>qa,forceLink:()=>Ga,forceManyBody:()=>el,forceRadial:()=>tl,forceSimulation:()=>Qa,forceX:()=>nl,forceY:()=>il,format:()=>pl,formatDefaultLocale:()=>bl,formatLocale:()=>yl,formatPrefix:()=>gl,formatSpecifier:()=>ll,geoAlbers:()=>zd,geoAlbersUsa:()=>Vd,geoArea:()=>gc,geoAzimuthalEqualArea:()=>$d,geoAzimuthalEqualAreaRaw:()=>Ud,geoAzimuthalEquidistant:()=>Kd,geoAzimuthalEquidistantRaw:()=>qd,geoBounds:()=>au,geoCentroid:()=>bu,geoCircle:()=>Nu,geoClipAntimeridian:()=>Wu,geoClipCircle:()=>Hu,geoClipExtent:()=>Ku,geoClipRectangle:()=>qu,geoConicConformal:()=>Qd,geoConicConformalRaw:()=>Jd,geoConicEqualArea:()=>jd,geoConicEqualAreaRaw:()=>Bd,geoConicEquidistant:()=>rf,geoConicEquidistantRaw:()=>nf,geoContains:()=>ph,geoDistance:()=>oh,geoEqualEarth:()=>hf,geoEqualEarthRaw:()=>uf,geoEquirectangular:()=>tf,geoEquirectangularRaw:()=>ef,geoGnomonic:()=>ff,geoGnomonicRaw:()=>df,geoGraticule:()=>vh,geoGraticule10:()=>yh,geoIdentity:()=>pf,geoInterpolate:()=>bh,geoLength:()=>nh,geoMercator:()=>Gd,geoMercatorRaw:()=>Yd,geoNaturalEarth1:()=>mf,geoNaturalEarth1Raw:()=>gf,geoOrthographic:()=>yf,geoOrthographicRaw:()=>vf,geoPath:()=>wd,geoProjection:()=>Fd,geoProjectionMutator:()=>Rd,geoRotation:()=>Eu,geoStereographic:()=>_f,geoStereographicRaw:()=>bf,geoStream:()=>nc,geoTransform:()=>Cd,geoTransverseMercator:()=>Cf,geoTransverseMercatorRaw:()=>wf,gray:()=>ko,hcl:()=>Io,hierarchy:()=>Lf,histogram:()=>M,hsl:()=>on,html:()=>Ma,image:()=>Da,interpolate:()=>Tn,interpolateArray:()=>wn,interpolateBasis:()=>cn,interpolateBasisClosed:()=>un,interpolateBlues:()=>h_,interpolateBrBG:()=>xb,interpolateBuGn:()=>Vb,interpolateBuPu:()=>Hb,interpolateCividis:()=>C_,interpolateCool:()=>S_,interpolateCubehelix:()=>zp,interpolateCubehelixDefault:()=>x_,interpolateCubehelixLong:()=>Vp,interpolateDate:()=>xn,interpolateDiscrete:()=>Dp,interpolateGnBu:()=>$b,interpolateGreens:()=>f_,interpolateGreys:()=>g_,interpolateHcl:()=>Pp,interpolateHclLong:()=>Bp,interpolateHsl:()=>Ip,interpolateHslLong:()=>Op,interpolateHue:()=>Ep,interpolateInferno:()=>R_,interpolateLab:()=>Fp,interpolateMagma:()=>F_,interpolateNumber:()=>kn,interpolateNumberArray:()=>bn,interpolateObject:()=>Sn,interpolateOrRd:()=>Kb,interpolateOranges:()=>w_,interpolatePRGn:()=>Sb,interpolatePiYG:()=>Eb,interpolatePlasma:()=>P_,interpolatePuBu:()=>Zb,interpolatePuBuGn:()=>Gb,interpolatePuOr:()=>Tb,interpolatePuRd:()=>Qb,interpolatePurples:()=>v_,interpolateRainbow:()=>E_,interpolateRdBu:()=>Mb,interpolateRdGy:()=>Ib,interpolateRdPu:()=>t_,interpolateRdYlBu:()=>Fb,interpolateRdYlGn:()=>Pb,interpolateReds:()=>b_,interpolateRgb:()=>gn,interpolateRgbBasis:()=>vn,interpolateRgbBasisClosed:()=>yn,interpolateRound:()=>Lp,interpolateSinebow:()=>M_,interpolateSpectral:()=>jb,interpolateString:()=>Ln,interpolateTransformCss:()=>pi,interpolateTransformSvg:()=>gi,interpolateTurbo:()=>A_,interpolateViridis:()=>O_,interpolateWarm:()=>k_,interpolateYlGn:()=>o_,interpolateYlGnBu:()=>i_,interpolateYlOrBr:()=>a_,interpolateYlOrRd:()=>c_,interpolateZoom:()=>Mp,interrupt:()=>oi,interval:()=>cx,isoFormat:()=>ax,isoParse:()=>lx,json:()=>La,keys:()=>fo,lab:()=>So,lch:()=>Ao,line:()=>mw,lineRadial:()=>Sw,linkHorizontal:()=>Fw,linkRadial:()=>Pw,linkVertical:()=>Rw,local:()=>z_,map:()=>no,matcher:()=>ve,max:()=>F,mean:()=>R,median:()=>P,merge:()=>B,min:()=>j,mouse:()=>In,namespace:()=>Se,namespaces:()=>ke,nest:()=>io,now:()=>Un,pack:()=>Qf,packEnclose:()=>Of,packSiblings:()=>Kf,pairs:()=>u,partition:()=>op,path:()=>qr,permute:()=>z,pie:()=>_w,piecewise:()=>Wp,pointRadial:()=>Ew,polygonArea:()=>Up,polygonCentroid:()=>$p,polygonContains:()=>Xp,polygonHull:()=>Gp,polygonLength:()=>Zp,precisionFixed:()=>_l,precisionPrefix:()=>wl,precisionRound:()=>Cl,quadtree:()=>za,quantile:()=>A,quantize:()=>Hp,radialArea:()=>Dw,radialLine:()=>Sw,randomBates:()=>ig,randomExponential:()=>rg,randomIrwinHall:()=>ng,randomLogNormal:()=>tg,randomNormal:()=>eg,randomUniform:()=>Qp,range:()=>x,rgb:()=>Zt,ribbon:()=>Jr,scaleBand:()=>dg,scaleDiverging:()=>ob,scaleDivergingLog:()=>sb,scaleDivergingPow:()=>lb,scaleDivergingSqrt:()=>cb,scaleDivergingSymlog:()=>ab,scaleIdentity:()=>Lg,scaleImplicit:()=>ug,scaleLinear:()=>Eg,scaleLog:()=>Pg,scaleOrdinal:()=>hg,scalePoint:()=>pg,scalePow:()=>qg,scaleQuantile:()=>Yg,scaleQuantize:()=>Gg,scaleSequential:()=>Jy,scaleSequentialLog:()=>Qy,scaleSequentialPow:()=>tb,scaleSequentialQuantile:()=>ib,scaleSequentialSqrt:()=>nb,scaleSequentialSymlog:()=>eb,scaleSqrt:()=>Kg,scaleSymlog:()=>Vg,scaleThreshold:()=>Xg,scaleTime:()=>jy,scaleUtc:()=>Gy,scan:()=>V,schemeAccent:()=>db,schemeBlues:()=>u_,schemeBrBG:()=>Cb,schemeBuGn:()=>zb,schemeBuPu:()=>Wb,schemeCategory10:()=>hb,schemeDark2:()=>fb,schemeGnBu:()=>Ub,schemeGreens:()=>d_,schemeGreys:()=>p_,schemeOrRd:()=>qb,schemeOranges:()=>__,schemePRGn:()=>kb,schemePaired:()=>pb,schemePastel1:()=>gb,schemePastel2:()=>mb,schemePiYG:()=>Db,schemePuBu:()=>Xb,schemePuBuGn:()=>Yb,schemePuOr:()=>Lb,schemePuRd:()=>Jb,schemePurples:()=>m_,schemeRdBu:()=>Nb,schemeRdGy:()=>Ab,schemeRdPu:()=>e_,schemeRdYlBu:()=>Ob,schemeRdYlGn:()=>Rb,schemeReds:()=>y_,schemeSet1:()=>vb,schemeSet2:()=>yb,schemeSet3:()=>bb,schemeSpectral:()=>Bb,schemeTableau10:()=>_b,schemeYlGn:()=>r_,schemeYlGnBu:()=>n_,schemeYlOrBr:()=>s_,schemeYlOrRd:()=>l_,select:()=>kt,selectAll:()=>W_,selection:()=>xt,selector:()=>pe,selectorAll:()=>me,set:()=>ho,shuffle:()=>W,stack:()=>YC,stackOffsetDiverging:()=>XC,stackOffsetExpand:()=>GC,stackOffsetNone:()=>$C,stackOffsetSilhouette:()=>ZC,stackOffsetWiggle:()=>JC,stackOrderAppearance:()=>QC,stackOrderAscending:()=>tx,stackOrderDescending:()=>ix,stackOrderInsideOut:()=>rx,stackOrderNone:()=>qC,stackOrderReverse:()=>ox,stratify:()=>up,style:()=>Re,sum:()=>H,svg:()=>Aa,symbol:()=>nC,symbolCircle:()=>Bw,symbolCross:()=>jw,symbolDiamond:()=>Ww,symbolSquare:()=>Kw,symbolStar:()=>qw,symbolTriangle:()=>Gw,symbolWye:()=>eC,symbols:()=>tC,text:()=>wa,thresholdFreedmanDiaconis:()=>I,thresholdScott:()=>O,thresholdSturges:()=>N,tickFormat:()=>Sg,tickIncrement:()=>L,tickStep:()=>T,ticks:()=>E,timeDay:()=>Em,timeDays:()=>Lm,timeFormat:()=>fv,timeFormatDefaultLocale:()=>Oy,timeFormatLocale:()=>hv,timeFriday:()=>vm,timeFridays:()=>km,timeHour:()=>Nm,timeHours:()=>Mm,timeInterval:()=>Qg,timeMillisecond:()=>jm,timeMilliseconds:()=>zm,timeMinute:()=>Im,timeMinutes:()=>Om,timeMonday:()=>fm,timeMondays:()=>_m,timeMonth:()=>rm,timeMonths:()=>om,timeParse:()=>pv,timeSaturday:()=>ym,timeSaturdays:()=>Sm,timeSecond:()=>Rm,timeSeconds:()=>Pm,timeSunday:()=>dm,timeSundays:()=>bm,timeThursday:()=>mm,timeThursdays:()=>xm,timeTuesday:()=>pm,timeTuesdays:()=>wm,timeWednesday:()=>gm,timeWednesdays:()=>Cm,timeWeek:()=>dm,timeWeeks:()=>bm,timeYear:()=>tm,timeYears:()=>nm,timeout:()=>Jn,timer:()=>Kn,timerFlush:()=>Yn,touch:()=>An,touches:()=>H_,transition:()=>Ui,transpose:()=>U,tree:()=>vp,treemap:()=>Cp,treemapBinary:()=>xp,treemapDice:()=>rp,treemapResquarify:()=>Sp,treemapSlice:()=>yp,treemapSliceDice:()=>kp,treemapSquarify:()=>wp,tsv:()=>Sa,tsvFormat:()=>As,tsvFormatBody:()=>Is,tsvFormatRow:()=>Fs,tsvFormatRows:()=>Os,tsvFormatValue:()=>Rs,tsvParse:()=>Ns,tsvParseRows:()=>Ms,utcDay:()=>iv,utcDays:()=>rv,utcFormat:()=>gv,utcFriday:()=>Km,utcFridays:()=>ev,utcHour:()=>Uy,utcHours:()=>$y,utcMillisecond:()=>jm,utcMilliseconds:()=>zm,utcMinute:()=>Ky,utcMinutes:()=>Yy,utcMonday:()=>Hm,utcMondays:()=>Xm,utcMonth:()=>Vy,utcMonths:()=>Wy,utcParse:()=>mv,utcSaturday:()=>Ym,utcSaturdays:()=>tv,utcSecond:()=>Rm,utcSeconds:()=>Pm,utcSunday:()=>Wm,utcSundays:()=>Gm,utcThursday:()=>qm,utcThursdays:()=>Qm,utcTuesday:()=>Um,utcTuesdays:()=>Zm,utcWednesday:()=>$m,utcWednesdays:()=>Jm,utcWeek:()=>Wm,utcWeeks:()=>Gm,utcYear:()=>sv,utcYears:()=>av,values:()=>po,variance:()=>g,version:()=>i,voronoi:()=>Gx,window:()=>Ae,xml:()=>Na,zip:()=>q,zoom:()=>ck,zoomIdentity:()=>Qx,zoomTransform:()=>ek});var i="5.16.0";function r(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function o(e){var t;return 1===e.length&&(t=e,e=function(e,n){return r(t(e),n)}),{left:function(t,n,i,r){for(null==i&&(i=0),null==r&&(r=t.length);i<r;){var o=i+r>>>1;e(t[o],n)<0?i=o+1:r=o}return i},right:function(t,n,i,r){for(null==i&&(i=0),null==r&&(r=t.length);i<r;){var o=i+r>>>1;e(t[o],n)>0?r=o:i=o+1}return i}}}var s=o(r),a=s.right,l=s.left;const c=a;function u(e,t){null==t&&(t=h);for(var n=0,i=e.length-1,r=e[0],o=new Array(i<0?0:i);n<i;)o[n]=t(r,r=e[++n]);return o}function h(e,t){return[e,t]}function d(e,t,n){var i,r,o,s,a=e.length,l=t.length,c=new Array(a*l);for(null==n&&(n=h),i=o=0;i<a;++i)for(s=e[i],r=0;r<l;++r,++o)c[o]=n(s,t[r]);return c}function f(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function p(e){return null===e?NaN:+e}function g(e,t){var n,i,r=e.length,o=0,s=-1,a=0,l=0;if(null==t)for(;++s<r;)isNaN(n=p(e[s]))||(l+=(i=n-a)*(n-(a+=i/++o)));else for(;++s<r;)isNaN(n=p(t(e[s],s,e)))||(l+=(i=n-a)*(n-(a+=i/++o)));if(o>1)return l/(o-1)}function m(e,t){var n=g(e,t);return n?Math.sqrt(n):n}function v(e,t){var n,i,r,o=e.length,s=-1;if(null==t){for(;++s<o;)if(null!=(n=e[s])&&n>=n)for(i=r=n;++s<o;)null!=(n=e[s])&&(i>n&&(i=n),r<n&&(r=n))}else for(;++s<o;)if(null!=(n=t(e[s],s,e))&&n>=n)for(i=r=n;++s<o;)null!=(n=t(e[s],s,e))&&(i>n&&(i=n),r<n&&(r=n));return[i,r]}var y=Array.prototype,b=y.slice,_=y.map;function w(e){return function(){return e}}function C(e){return e}function x(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(r);++i<r;)o[i]=e+i*n;return o}var k=Math.sqrt(50),S=Math.sqrt(10),D=Math.sqrt(2);function E(e,t,n){var i,r,o,s,a=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((i=t<e)&&(r=e,e=t,t=r),0===(s=L(e,t,n))||!isFinite(s))return[];if(s>0)for(e=Math.ceil(e/s),t=Math.floor(t/s),o=new Array(r=Math.ceil(t-e+1));++a<r;)o[a]=(e+a)*s;else for(e=Math.floor(e*s),t=Math.ceil(t*s),o=new Array(r=Math.ceil(e-t+1));++a<r;)o[a]=(e-a)/s;return i&&o.reverse(),o}function L(e,t,n){var i=(t-e)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=k?10:o>=S?5:o>=D?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=k?10:o>=S?5:o>=D?2:1)}function T(e,t,n){var i=Math.abs(t-e)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=k?r*=10:o>=S?r*=5:o>=D&&(r*=2),t<e?-r:r}function N(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1}function M(){var e=C,t=v,n=N;function i(i){var r,o,s=i.length,a=new Array(s);for(r=0;r<s;++r)a[r]=e(i[r],r,i);var l=t(a),u=l[0],h=l[1],d=n(a,u,h);Array.isArray(d)||(d=T(u,h,d),d=x(Math.ceil(u/d)*d,h,d));for(var f=d.length;d[0]<=u;)d.shift(),--f;for(;d[f-1]>h;)d.pop(),--f;var p,g=new Array(f+1);for(r=0;r<=f;++r)(p=g[r]=[]).x0=r>0?d[r-1]:u,p.x1=r<f?d[r]:h;for(r=0;r<s;++r)u<=(o=a[r])&&o<=h&&g[c(d,o,0,f)].push(i[r]);return g}return i.value=function(t){return arguments.length?(e="function"==typeof t?t:w(t),i):e},i.domain=function(e){return arguments.length?(t="function"==typeof e?e:w([e[0],e[1]]),i):t},i.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:Array.isArray(e)?w(b.call(e)):w(e),i):n},i}function A(e,t,n){if(null==n&&(n=p),i=e.length){if((t=+t)<=0||i<2)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,r=(i-1)*t,o=Math.floor(r),s=+n(e[o],o,e);return s+(+n(e[o+1],o+1,e)-s)*(r-o)}}function I(e,t,n){return e=_.call(e,p).sort(r),Math.ceil((n-t)/(2*(A(e,.75)-A(e,.25))*Math.pow(e.length,-1/3)))}function O(e,t,n){return Math.ceil((n-t)/(3.5*m(e)*Math.pow(e.length,-1/3)))}function F(e,t){var n,i,r=e.length,o=-1;if(null==t){for(;++o<r;)if(null!=(n=e[o])&&n>=n)for(i=n;++o<r;)null!=(n=e[o])&&n>i&&(i=n)}else for(;++o<r;)if(null!=(n=t(e[o],o,e))&&n>=n)for(i=n;++o<r;)null!=(n=t(e[o],o,e))&&n>i&&(i=n);return i}function R(e,t){var n,i=e.length,r=i,o=-1,s=0;if(null==t)for(;++o<i;)isNaN(n=p(e[o]))?--r:s+=n;else for(;++o<i;)isNaN(n=p(t(e[o],o,e)))?--r:s+=n;if(r)return s/r}function P(e,t){var n,i=e.length,o=-1,s=[];if(null==t)for(;++o<i;)isNaN(n=p(e[o]))||s.push(n);else for(;++o<i;)isNaN(n=p(t(e[o],o,e)))||s.push(n);return A(s.sort(r),.5)}function B(e){for(var t,n,i,r=e.length,o=-1,s=0;++o<r;)s+=e[o].length;for(n=new Array(s);--r>=0;)for(t=(i=e[r]).length;--t>=0;)n[--s]=i[t];return n}function j(e,t){var n,i,r=e.length,o=-1;if(null==t){for(;++o<r;)if(null!=(n=e[o])&&n>=n)for(i=n;++o<r;)null!=(n=e[o])&&i>n&&(i=n)}else for(;++o<r;)if(null!=(n=t(e[o],o,e))&&n>=n)for(i=n;++o<r;)null!=(n=t(e[o],o,e))&&i>n&&(i=n);return i}function z(e,t){for(var n=t.length,i=new Array(n);n--;)i[n]=e[t[n]];return i}function V(e,t){if(n=e.length){var n,i,o=0,s=0,a=e[s];for(null==t&&(t=r);++o<n;)(t(i=e[o],a)<0||0!==t(a,a))&&(a=i,s=o);return 0===t(a,a)?s:void 0}}function W(e,t,n){for(var i,r,o=(null==n?e.length:n)-(t=null==t?0:+t);o;)r=Math.random()*o--|0,i=e[o+t],e[o+t]=e[r+t],e[r+t]=i;return e}function H(e,t){var n,i=e.length,r=-1,o=0;if(null==t)for(;++r<i;)(n=+e[r])&&(o+=n);else for(;++r<i;)(n=+t(e[r],r,e))&&(o+=n);return o}function U(e){if(!(r=e.length))return[];for(var t=-1,n=j(e,$),i=new Array(n);++t<n;)for(var r,o=-1,s=i[t]=new Array(r);++o<r;)s[o]=e[o][t];return i}function $(e){return e.length}function q(){return U(arguments)}var K=Array.prototype.slice;function Y(e){return e}var G=1e-6;function X(e){return"translate("+(e+.5)+",0)"}function Z(e){return"translate(0,"+(e+.5)+")"}function J(e){return function(t){return+e(t)}}function Q(e){var t=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(t=Math.round(t)),function(n){return+e(n)+t}}function ee(){return!this.__axis}function te(e,t){var n=[],i=null,r=null,o=6,s=6,a=3,l=1===e||4===e?-1:1,c=4===e||2===e?"x":"y",u=1===e||3===e?X:Z;function h(h){var d=null==i?t.ticks?t.ticks.apply(t,n):t.domain():i,f=null==r?t.tickFormat?t.tickFormat.apply(t,n):Y:r,p=Math.max(o,0)+a,g=t.range(),m=+g[0]+.5,v=+g[g.length-1]+.5,y=(t.bandwidth?Q:J)(t.copy()),b=h.selection?h.selection():h,_=b.selectAll(".domain").data([null]),w=b.selectAll(".tick").data(d,t).order(),C=w.exit(),x=w.enter().append("g").attr("class","tick"),k=w.select("line"),S=w.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(x),k=k.merge(x.append("line").attr("stroke","currentColor").attr(c+"2",l*o)),S=S.merge(x.append("text").attr("fill","currentColor").attr(c,l*p).attr("dy",1===e?"0em":3===e?"0.71em":"0.32em")),h!==b&&(_=_.transition(h),w=w.transition(h),k=k.transition(h),S=S.transition(h),C=C.transition(h).attr("opacity",G).attr("transform",(function(e){return isFinite(e=y(e))?u(e):this.getAttribute("transform")})),x.attr("opacity",G).attr("transform",(function(e){var t=this.parentNode.__axis;return u(t&&isFinite(t=t(e))?t:y(e))}))),C.remove(),_.attr("d",4===e||2==e?s?"M"+l*s+","+m+"H0.5V"+v+"H"+l*s:"M0.5,"+m+"V"+v:s?"M"+m+","+l*s+"V0.5H"+v+"V"+l*s:"M"+m+",0.5H"+v),w.attr("opacity",1).attr("transform",(function(e){return u(y(e))})),k.attr(c+"2",l*o),S.attr(c,l*p).text(f),b.filter(ee).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===e?"start":4===e?"end":"middle"),b.each((function(){this.__axis=y}))}return h.scale=function(e){return arguments.length?(t=e,h):t},h.ticks=function(){return n=K.call(arguments),h},h.tickArguments=function(e){return arguments.length?(n=null==e?[]:K.call(e),h):n.slice()},h.tickValues=function(e){return arguments.length?(i=null==e?null:K.call(e),h):i&&i.slice()},h.tickFormat=function(e){return arguments.length?(r=e,h):r},h.tickSize=function(e){return arguments.length?(o=s=+e,h):o},h.tickSizeInner=function(e){return arguments.length?(o=+e,h):o},h.tickSizeOuter=function(e){return arguments.length?(s=+e,h):s},h.tickPadding=function(e){return arguments.length?(a=+e,h):a},h}function ne(e){return te(1,e)}function ie(e){return te(2,e)}function re(e){return te(3,e)}function oe(e){return te(4,e)}var se={value:function(){}};function ae(){for(var e,t=0,n=arguments.length,i={};t<n;++t){if(!(e=arguments[t]+"")||e in i||/[\s.]/.test(e))throw new Error("illegal type: "+e);i[e]=[]}return new le(i)}function le(e){this._=e}function ce(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",i=e.indexOf(".");if(i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function ue(e,t){for(var n,i=0,r=e.length;i<r;++i)if((n=e[i]).name===t)return n.value}function he(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=se,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=n&&e.push({name:t,value:n}),e}le.prototype=ae.prototype={constructor:le,on:function(e,t){var n,i=this._,r=ce(e+"",i),o=-1,s=r.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<s;)if(n=(e=r[o]).type)i[n]=he(i[n],e.name,t);else if(null==t)for(n in i)i[n]=he(i[n],e.name,null);return this}for(;++o<s;)if((n=(e=r[o]).type)&&(n=ue(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new le(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(i=this._[e]).length;o<n;++o)i[o].value.apply(t,r)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)}};const de=ae;function fe(){}function pe(e){return null==e?fe:function(){return this.querySelector(e)}}function ge(){return[]}function me(e){return null==e?ge:function(){return this.querySelectorAll(e)}}function ve(e){return function(){return this.matches(e)}}function ye(e){return new Array(e.length)}function be(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function _e(e,t,n,i,r,o){for(var s,a=0,l=t.length,c=o.length;a<c;++a)(s=t[a])?(s.__data__=o[a],i[a]=s):n[a]=new be(e,o[a]);for(;a<l;++a)(s=t[a])&&(r[a]=s)}function we(e,t,n,i,r,o,s){var a,l,c,u={},h=t.length,d=o.length,f=new Array(h);for(a=0;a<h;++a)(l=t[a])&&(f[a]=c="$"+s.call(l,l.__data__,a,t),c in u?r[a]=l:u[c]=l);for(a=0;a<d;++a)(l=u[c="$"+s.call(e,o[a],a,o)])?(i[a]=l,l.__data__=o[a],u[c]=null):n[a]=new be(e,o[a]);for(a=0;a<h;++a)(l=t[a])&&u[f[a]]===l&&(r[a]=l)}function Ce(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}be.prototype={constructor:be,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var xe="http://www.w3.org/1999/xhtml";const ke={svg:"http://www.w3.org/2000/svg",xhtml:xe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Se(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),ke.hasOwnProperty(t)?{space:ke[t],local:e}:e}function De(e){return function(){this.removeAttribute(e)}}function Ee(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Le(e,t){return function(){this.setAttribute(e,t)}}function Te(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Ne(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Me(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Ae(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Ie(e){return function(){this.style.removeProperty(e)}}function Oe(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Fe(e,t,n){return function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function Re(e,t){return e.style.getPropertyValue(t)||Ae(e).getComputedStyle(e,null).getPropertyValue(t)}function Pe(e){return function(){delete this[e]}}function Be(e,t){return function(){this[e]=t}}function je(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function ze(e){return e.trim().split(/^|\s+/)}function Ve(e){return e.classList||new We(e)}function We(e){this._node=e,this._names=ze(e.getAttribute("class")||"")}function He(e,t){for(var n=Ve(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function Ue(e,t){for(var n=Ve(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function $e(e){return function(){He(this,e)}}function qe(e){return function(){Ue(this,e)}}function Ke(e,t){return function(){(t.apply(this,arguments)?He:Ue)(this,e)}}function Ye(){this.textContent=""}function Ge(e){return function(){this.textContent=e}}function Xe(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function Ze(){this.innerHTML=""}function Je(e){return function(){this.innerHTML=e}}function Qe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function et(){this.nextSibling&&this.parentNode.appendChild(this)}function tt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function nt(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===xe&&t.documentElement.namespaceURI===xe?t.createElement(e):t.createElementNS(n,e)}}function it(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function rt(e){var t=Se(e);return(t.local?it:nt)(t)}function ot(){return null}function st(){var e=this.parentNode;e&&e.removeChild(this)}function at(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function lt(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}We.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var ct={},ut=null;function ht(e,t,n){return e=dt(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function dt(e,t,n){return function(i){var r=ut;ut=i;try{e.call(this,this.__data__,t,n)}finally{ut=r}}}function ft(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function pt(e){return function(){var t=this.__on;if(t){for(var n,i=0,r=-1,o=t.length;i<o;++i)n=t[i],e.type&&n.type!==e.type||n.name!==e.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?t.length=r:delete this.__on}}}function gt(e,t,n){var i=ct.hasOwnProperty(e.type)?ht:dt;return function(r,o,s){var a,l=this.__on,c=i(t,o,s);if(l)for(var u=0,h=l.length;u<h;++u)if((a=l[u]).type===e.type&&a.name===e.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=c,a.capture=n),void(a.value=t);this.addEventListener(e.type,c,n),a={type:e.type,name:e.name,value:t,listener:c,capture:n},l?l.push(a):this.__on=[a]}}function mt(e,t,n,i){var r=ut;e.sourceEvent=ut,ut=e;try{return t.apply(n,i)}finally{ut=r}}function vt(e,t,n){var i=Ae(e),r=i.CustomEvent;"function"==typeof r?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function yt(e,t){return function(){return vt(this,e,t)}}function bt(e,t){return function(){return vt(this,e,t.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(ct={mouseenter:"mouseover",mouseleave:"mouseout"}));var _t=[null];function wt(e,t){this._groups=e,this._parents=t}function Ct(){return new wt([[document.documentElement]],_t)}wt.prototype=Ct.prototype={constructor:wt,select:function(e){"function"!=typeof e&&(e=pe(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o,s,a=t[r],l=a.length,c=i[r]=new Array(l),u=0;u<l;++u)(o=a[u])&&(s=e.call(o,o.__data__,u,a))&&("__data__"in o&&(s.__data__=o.__data__),c[u]=s);return new wt(i,this._parents)},selectAll:function(e){"function"!=typeof e&&(e=me(e));for(var t=this._groups,n=t.length,i=[],r=[],o=0;o<n;++o)for(var s,a=t[o],l=a.length,c=0;c<l;++c)(s=a[c])&&(i.push(e.call(s,s.__data__,c,a)),r.push(s));return new wt(i,r)},filter:function(e){"function"!=typeof e&&(e=ve(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o,s=t[r],a=s.length,l=i[r]=[],c=0;c<a;++c)(o=s[c])&&e.call(o,o.__data__,c,s)&&l.push(o);return new wt(i,this._parents)},data:function(e,t){if(!e)return p=new Array(this.size()),u=-1,this.each((function(e){p[++u]=e})),p;var n,i=t?we:_e,r=this._parents,o=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var s=o.length,a=new Array(s),l=new Array(s),c=new Array(s),u=0;u<s;++u){var h=r[u],d=o[u],f=d.length,p=e.call(h,h&&h.__data__,u,r),g=p.length,m=l[u]=new Array(g),v=a[u]=new Array(g);i(h,d,m,v,c[u]=new Array(f),p,t);for(var y,b,_=0,w=0;_<g;++_)if(y=m[_]){for(_>=w&&(w=_+1);!(b=v[w])&&++w<g;);y._next=b||null}}return(a=new wt(a,r))._enter=l,a._exit=c,a},enter:function(){return new wt(this._enter||this._groups.map(ye),this._parents)},exit:function(){return new wt(this._exit||this._groups.map(ye),this._parents)},join:function(e,t,n){var i=this.enter(),r=this,o=this.exit();return i="function"==typeof e?e(i):i.append(e+""),null!=t&&(r=t(r)),null==n?o.remove():n(o),i&&r?i.merge(r).order():r},merge:function(e){for(var t=this._groups,n=e._groups,i=t.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var l,c=t[a],u=n[a],h=c.length,d=s[a]=new Array(h),f=0;f<h;++f)(l=c[f]||u[f])&&(d[f]=l);for(;a<i;++a)s[a]=t[a];return new wt(s,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i,r=e[t],o=r.length-1,s=r[o];--o>=0;)(i=r[o])&&(s&&4^i.compareDocumentPosition(s)&&s.parentNode.insertBefore(i,s),s=i);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=Ce);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var s,a=n[o],l=a.length,c=r[o]=new Array(l),u=0;u<l;++u)(s=a[u])&&(c[u]=s);c.sort(t)}return new wt(r,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each((function(){e[++t]=this})),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null},size:function(){var e=0;return this.each((function(){++e})),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r,o=t[n],s=0,a=o.length;s<a;++s)(r=o[s])&&e.call(r,r.__data__,s,o);return this},attr:function(e,t){var n=Se(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==t?n.local?Ee:De:"function"==typeof t?n.local?Me:Ne:n.local?Te:Le)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?Ie:"function"==typeof t?Fe:Oe)(e,t,null==n?"":n)):Re(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?Pe:"function"==typeof t?je:Be)(e,t)):this.node()[e]},classed:function(e,t){var n=ze(e+"");if(arguments.length<2){for(var i=Ve(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof t?Ke:t?$e:qe)(n,t))},text:function(e){return arguments.length?this.each(null==e?Ye:("function"==typeof e?Xe:Ge)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?Ze:("function"==typeof e?Qe:Je)(e)):this.node().innerHTML},raise:function(){return this.each(et)},lower:function(){return this.each(tt)},append:function(e){var t="function"==typeof e?e:rt(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:rt(e),i=null==t?ot:"function"==typeof t?t:pe(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(st)},clone:function(e){return this.select(e?lt:at)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var i,r,o=ft(e+""),s=o.length;if(!(arguments.length<2)){for(a=t?gt:pt,null==n&&(n=!1),i=0;i<s;++i)this.each(a(o[i],t,n));return this}var a=this.node().__on;if(a)for(var l,c=0,u=a.length;c<u;++c)for(i=0,l=a[c];i<s;++i)if((r=o[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?bt:yt)(e,t))}};const xt=Ct;function kt(e){return"string"==typeof e?new wt([[document.querySelector(e)]],[document.documentElement]):new wt([[e]],_t)}function St(){ut.stopImmediatePropagation()}function Dt(){ut.preventDefault(),ut.stopImmediatePropagation()}function Et(e){var t=e.document.documentElement,n=kt(e).on("dragstart.drag",Dt,!0);"onselectstart"in t?n.on("selectstart.drag",Dt,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Lt(e,t){var n=e.document.documentElement,i=kt(e).on("dragstart.drag",null);t&&(i.on("click.drag",Dt,!0),setTimeout((function(){i.on("click.drag",null)}),0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Tt(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Nt(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Mt(){}var At=.7,It=1/At,Ot="\\s*([+-]?\\d+)\\s*",Ft="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Rt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pt=/^#([0-9a-f]{3,8})$/,Bt=new RegExp("^rgb\\("+[Ot,Ot,Ot]+"\\)$"),jt=new RegExp("^rgb\\("+[Rt,Rt,Rt]+"\\)$"),zt=new RegExp("^rgba\\("+[Ot,Ot,Ot,Ft]+"\\)$"),Vt=new RegExp("^rgba\\("+[Rt,Rt,Rt,Ft]+"\\)$"),Wt=new RegExp("^hsl\\("+[Ft,Rt,Rt]+"\\)$"),Ht=new RegExp("^hsla\\("+[Ft,Rt,Rt,Ft]+"\\)$"),Ut={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function $t(){return this.rgb().formatHex()}function qt(){return this.rgb().formatRgb()}function Kt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Pt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Yt(t):3===n?new Jt(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Gt(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Gt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Bt.exec(e))?new Jt(t[1],t[2],t[3],1):(t=jt.exec(e))?new Jt(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=zt.exec(e))?Gt(t[1],t[2],t[3],t[4]):(t=Vt.exec(e))?Gt(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Wt.exec(e))?nn(t[1],t[2]/100,t[3]/100,1):(t=Ht.exec(e))?nn(t[1],t[2]/100,t[3]/100,t[4]):Ut.hasOwnProperty(e)?Yt(Ut[e]):"transparent"===e?new Jt(NaN,NaN,NaN,0):null}function Yt(e){return new Jt(e>>16&255,e>>8&255,255&e,1)}function Gt(e,t,n,i){return i<=0&&(e=t=n=NaN),new Jt(e,t,n,i)}function Xt(e){return e instanceof Mt||(e=Kt(e)),e?new Jt((e=e.rgb()).r,e.g,e.b,e.opacity):new Jt}function Zt(e,t,n,i){return 1===arguments.length?Xt(e):new Jt(e,t,n,null==i?1:i)}function Jt(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}function Qt(){return"#"+tn(this.r)+tn(this.g)+tn(this.b)}function en(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function tn(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function nn(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new sn(e,t,n,i)}function rn(e){if(e instanceof sn)return new sn(e.h,e.s,e.l,e.opacity);if(e instanceof Mt||(e=Kt(e)),!e)return new sn;if(e instanceof sn)return e;var t=(e=e.rgb()).r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),o=Math.max(t,n,i),s=NaN,a=o-r,l=(o+r)/2;return a?(s=t===o?(n-i)/a+6*(n<i):n===o?(i-t)/a+2:(t-n)/a+4,a/=l<.5?o+r:2-o-r,s*=60):a=l>0&&l<1?0:s,new sn(s,a,l,e.opacity)}function on(e,t,n,i){return 1===arguments.length?rn(e):new sn(e,t,n,null==i?1:i)}function sn(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function an(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function ln(e,t,n,i,r){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*i+s*r)/6}function cn(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[i],o=e[i+1],s=i>0?e[i-1]:2*r-o,a=i<t-1?e[i+2]:2*o-r;return ln((n-i/t)*t,s,r,o,a)}}function un(e){var t=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*t),r=e[(i+t-1)%t],o=e[i%t],s=e[(i+1)%t],a=e[(i+2)%t];return ln((n-i/t)*t,r,o,s,a)}}function hn(e){return function(){return e}}function dn(e,t){return function(n){return e+n*t}}function fn(e,t){var n=t-e;return n?dn(e,n>180||n<-180?n-360*Math.round(n/360):n):hn(isNaN(e)?t:e)}function pn(e,t){var n=t-e;return n?dn(e,n):hn(isNaN(e)?t:e)}Tt(Mt,Kt,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:$t,formatHex:$t,formatHsl:function(){return rn(this).formatHsl()},formatRgb:qt,toString:qt}),Tt(Jt,Zt,Nt(Mt,{brighter:function(e){return e=null==e?It:Math.pow(It,e),new Jt(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?At:Math.pow(At,e),new Jt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qt,formatHex:Qt,formatRgb:en,toString:en})),Tt(sn,on,Nt(Mt,{brighter:function(e){return e=null==e?It:Math.pow(It,e),new sn(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?At:Math.pow(At,e),new sn(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new Jt(an(e>=240?e-240:e+120,r,i),an(e,r,i),an(e<120?e+240:e-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));const gn=function e(t){var n,i=1==(n=+(n=t))?pn:function(e,t){return t-e?(i=e,r=t,o=n,i=Math.pow(i,o),r=Math.pow(r,o)-i,o=1/o,function(e){return Math.pow(i+e*r,o)}):hn(isNaN(e)?t:e);var i,r,o};function r(e,t){var n=i((e=Zt(e)).r,(t=Zt(t)).r),r=i(e.g,t.g),o=i(e.b,t.b),s=pn(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=r(t),e.b=o(t),e.opacity=s(t),e+""}}return r.gamma=e,r}(1);function mn(e){return function(t){var n,i,r=t.length,o=new Array(r),s=new Array(r),a=new Array(r);for(n=0;n<r;++n)i=Zt(t[n]),o[n]=i.r||0,s[n]=i.g||0,a[n]=i.b||0;return o=e(o),s=e(s),a=e(a),i.opacity=1,function(e){return i.r=o(e),i.g=s(e),i.b=a(e),i+""}}}var vn=mn(cn),yn=mn(un);function bn(e,t){t||(t=[]);var n,i=e?Math.min(t.length,e.length):0,r=t.slice();return function(o){for(n=0;n<i;++n)r[n]=e[n]*(1-o)+t[n]*o;return r}}function _n(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function wn(e,t){return(_n(t)?bn:Cn)(e,t)}function Cn(e,t){var n,i=t?t.length:0,r=e?Math.min(i,e.length):0,o=new Array(r),s=new Array(i);for(n=0;n<r;++n)o[n]=Tn(e[n],t[n]);for(;n<i;++n)s[n]=t[n];return function(e){for(n=0;n<r;++n)s[n]=o[n](e);return s}}function xn(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function kn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Sn(e,t){var n,i={},r={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?i[n]=Tn(e[n],t[n]):r[n]=t[n];return function(e){for(n in i)r[n]=i[n](e);return r}}var Dn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,En=new RegExp(Dn.source,"g");function Ln(e,t){var n,i,r,o,s=Dn.lastIndex=En.lastIndex=0,a=-1,l=[],c=[];for(e+="",t+="";(n=Dn.exec(e))&&(i=En.exec(t));)(r=i.index)>s&&(r=t.slice(s,r),l[a]?l[a]+=r:l[++a]=r),(n=n[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:kn(n,i)})),s=En.lastIndex;return s<t.length&&(r=t.slice(s),l[a]?l[a]+=r:l[++a]=r),l.length<2?c[0]?(o=c[0].x,function(e){return o(e)+""}):function(e){return function(){return e}}(t):(t=c.length,function(e){for(var n,i=0;i<t;++i)l[(n=c[i]).i]=n.x(e);return l.join("")})}function Tn(e,t){var n,i=typeof t;return null==t||"boolean"===i?hn(t):("number"===i?kn:"string"===i?(n=Kt(t))?(t=n,gn):Ln:t instanceof Kt?gn:t instanceof Date?xn:_n(t)?bn:Array.isArray(t)?Cn:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Sn:kn)(e,t)}function Nn(){for(var e,t=ut;e=t.sourceEvent;)t=e;return t}function Mn(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,[(i=i.matrixTransform(e.getScreenCTM().inverse())).x,i.y]}var r=e.getBoundingClientRect();return[t.clientX-r.left-e.clientLeft,t.clientY-r.top-e.clientTop]}function An(e,t,n){arguments.length<3&&(n=t,t=Nn().changedTouches);for(var i,r=0,o=t?t.length:0;r<o;++r)if((i=t[r]).identifier===n)return Mn(e,i);return null}function In(e){var t=Nn();return t.changedTouches&&(t=t.changedTouches[0]),Mn(e,t)}var On,Fn,Rn=0,Pn=0,Bn=0,jn=0,zn=0,Vn=0,Wn="object"==typeof performance&&performance.now?performance:Date,Hn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Un(){return zn||(Hn($n),zn=Wn.now()+Vn)}function $n(){zn=0}function qn(){this._call=this._time=this._next=null}function Kn(e,t,n){var i=new qn;return i.restart(e,t,n),i}function Yn(){Un(),++Rn;for(var e,t=On;t;)(e=zn-t._time)>=0&&t._call.call(null,e),t=t._next;--Rn}function Gn(){zn=(jn=Wn.now())+Vn,Rn=Pn=0;try{Yn()}finally{Rn=0,function(){for(var e,t,n=On,i=1/0;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:On=t);Fn=e,Zn(i)}(),zn=0}}function Xn(){var e=Wn.now(),t=e-jn;t>1e3&&(Vn-=t,jn=e)}function Zn(e){Rn||(Pn&&(Pn=clearTimeout(Pn)),e-zn>24?(e<1/0&&(Pn=setTimeout(Gn,e-Wn.now()-Vn)),Bn&&(Bn=clearInterval(Bn))):(Bn||(jn=Wn.now(),Bn=setInterval(Xn,1e3)),Rn=1,Hn(Gn)))}function Jn(e,t,n){var i=new qn;return t=null==t?0:+t,i.restart((function(n){i.stop(),e(n+t)}),t,n),i}qn.prototype=Kn.prototype={constructor:qn,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?Un():+n)+(null==t?0:+t),this._next||Fn===this||(Fn?Fn._next=this:On=this,Fn=this),this._call=e,this._time=n,Zn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Zn())}};var Qn=de("start","end","cancel","interrupt"),ei=[];function ti(e,t,n,i,r,o){var s=e.__transition;if(s){if(n in s)return}else e.__transition={};!function(e,t,n){var i,r=e.__transition;function o(l){var c,u,h,d;if(1!==n.state)return a();for(c in r)if((d=r[c]).name===n.name){if(3===d.state)return Jn(o);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete r[c]):+c<t&&(d.state=6,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete r[c])}if(Jn((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(l))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,i=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(d=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++u]=d);i.length=u+1}}function s(t){for(var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(a),n.state=5,1),o=-1,s=i.length;++o<s;)i[o].call(e,r);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){for(var i in n.state=6,n.timer.stop(),delete r[t],r)return;delete e.__transition}r[t]=n,n.timer=Kn((function(e){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}),0,n.time)}(e,n,{name:t,index:i,group:r,on:Qn,tween:ei,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function ni(e,t){var n=ri(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function ii(e,t){var n=ri(e,t);if(n.state>3)throw new Error("too late; already running");return n}function ri(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function oi(e,t){var n,i,r,o=e.__transition,s=!0;if(o){for(r in t=null==t?null:t+"",o)(n=o[r]).name===t?(i=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[r]):s=!1;s&&delete e.__transition}}var si,ai,li,ci,ui=180/Math.PI,hi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function di(e,t,n,i,r,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*i)&&(n-=e*l,i-=t*l),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,l/=a),e*i<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(t,e)*ui,skewX:Math.atan(l)*ui,scaleX:s,scaleY:a}}function fi(e,t,n,i){function r(e){return e.length?e.pop()+" ":""}return function(o,s){var a,l,c,u,h=[],d=[];return o=e(o),s=e(s),function(e,i,r,o,s,a){if(e!==r||i!==o){var l=s.push("translate(",null,t,null,n);a.push({i:l-4,x:kn(e,r)},{i:l-2,x:kn(i,o)})}else(r||o)&&s.push("translate("+r+t+o+n)}(o.translateX,o.translateY,s.translateX,s.translateY,h,d),a=o.rotate,l=s.rotate,c=h,u=d,a!==l?(a-l>180?l+=360:l-a>180&&(a+=360),u.push({i:c.push(r(c)+"rotate(",null,i)-2,x:kn(a,l)})):l&&c.push(r(c)+"rotate("+l+i),function(e,t,n,o){e!==t?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:kn(e,t)}):t&&n.push(r(n)+"skewX("+t+i)}(o.skewX,s.skewX,h,d),function(e,t,n,i,o,s){if(e!==n||t!==i){var a=o.push(r(o)+"scale(",null,",",null,")");s.push({i:a-4,x:kn(e,n)},{i:a-2,x:kn(t,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,h,d),o=s=null,function(e){for(var t,n=-1,i=d.length;++n<i;)h[(t=d[n]).i]=t.x(e);return h.join("")}}}var pi=fi((function(e){return"none"===e?hi:(si||(si=document.createElement("DIV"),ai=document.documentElement,li=document.defaultView),si.style.transform=e,e=li.getComputedStyle(ai.appendChild(si),null).getPropertyValue("transform"),ai.removeChild(si),di(+(e=e.slice(7,-1).split(","))[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}),"px, ","px)","deg)"),gi=fi((function(e){return null==e?hi:(ci||(ci=document.createElementNS("http://www.w3.org/2000/svg","g")),ci.setAttribute("transform",e),(e=ci.transform.baseVal.consolidate())?di((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):hi)}),", ",")",")");function mi(e,t){var n,i;return function(){var r=ii(this,e),o=r.tween;if(o!==n)for(var s=0,a=(i=n=o).length;s<a;++s)if(i[s].name===t){(i=i.slice()).splice(s,1);break}r.tween=i}}function vi(e,t,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=ii(this,e),s=o.tween;if(s!==i){r=(i=s).slice();for(var a={name:t,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=a;break}l===c&&r.push(a)}o.tween=r}}function yi(e,t,n){var i=e._id;return e.each((function(){var e=ii(this,i);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return ri(e,i).value[t]}}function bi(e,t){var n;return("number"==typeof t?kn:t instanceof Kt?gn:(n=Kt(t))?(t=n,gn):Ln)(e,t)}function _i(e){return function(){this.removeAttribute(e)}}function wi(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ci(e,t,n){var i,r,o=n+"";return function(){var s=this.getAttribute(e);return s===o?null:s===i?r:r=t(i=s,n)}}function xi(e,t,n){var i,r,o=n+"";return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===i?r:r=t(i=s,n)}}function ki(e,t,n){var i,r,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttribute(e))===(a=l+"")?null:s===i&&a===r?o:(r=a,o=t(i=s,l));this.removeAttribute(e)}}function Si(e,t,n){var i,r,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttributeNS(e.space,e.local))===(a=l+"")?null:s===i&&a===r?o:(r=a,o=t(i=s,l));this.removeAttributeNS(e.space,e.local)}}function Di(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Ei(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Li(e,t){var n,i;function r(){var r=t.apply(this,arguments);return r!==i&&(n=(i=r)&&Ei(e,r)),n}return r._value=t,r}function Ti(e,t){var n,i;function r(){var r=t.apply(this,arguments);return r!==i&&(n=(i=r)&&Di(e,r)),n}return r._value=t,r}function Ni(e,t){return function(){ni(this,e).delay=+t.apply(this,arguments)}}function Mi(e,t){return t=+t,function(){ni(this,e).delay=t}}function Ai(e,t){return function(){ii(this,e).duration=+t.apply(this,arguments)}}function Ii(e,t){return t=+t,function(){ii(this,e).duration=t}}function Oi(e,t){if("function"!=typeof t)throw new Error;return function(){ii(this,e).ease=t}}function Fi(e,t,n){var i,r,o=(t+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))?ni:ii;return function(){var s=o(this,e),a=s.on;a!==i&&(r=(i=a).copy()).on(t,n),s.on=r}}var Ri=xt.prototype.constructor;function Pi(e){return function(){this.style.removeProperty(e)}}function Bi(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function ji(e,t,n){var i,r;function o(){var o=t.apply(this,arguments);return o!==r&&(i=(r=o)&&Bi(e,o,n)),i}return o._value=t,o}function zi(e){return function(t){this.textContent=e.call(this,t)}}function Vi(e){var t,n;function i(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&zi(i)),t}return i._value=e,i}var Wi=0;function Hi(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function Ui(e){return xt().transition(e)}function $i(){return++Wi}var qi=xt.prototype;function Ki(e){return e*e*e}function Yi(e){return--e*e*e+1}function Gi(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}Hi.prototype=Ui.prototype={constructor:Hi,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=pe(e));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var a,l,c=i[s],u=c.length,h=o[s]=new Array(u),d=0;d<u;++d)(a=c[d])&&(l=e.call(a,a.__data__,d,c))&&("__data__"in a&&(l.__data__=a.__data__),h[d]=l,ti(h[d],t,n,d,h,ri(a,n)));return new Hi(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=me(e));for(var i=this._groups,r=i.length,o=[],s=[],a=0;a<r;++a)for(var l,c=i[a],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var d,f=e.call(l,l.__data__,h,c),p=ri(l,n),g=0,m=f.length;g<m;++g)(d=f[g])&&ti(d,t,n,g,f,p);o.push(f),s.push(l)}return new Hi(o,s,t,n)},filter:function(e){"function"!=typeof e&&(e=ve(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o,s=t[r],a=s.length,l=i[r]=[],c=0;c<a;++c)(o=s[c])&&e.call(o,o.__data__,c,s)&&l.push(o);return new Hi(i,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var l,c=t[a],u=n[a],h=c.length,d=s[a]=new Array(h),f=0;f<h;++f)(l=c[f]||u[f])&&(d[f]=l);for(;a<i;++a)s[a]=t[a];return new Hi(s,this._parents,this._name,this._id)},selection:function(){return new Ri(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=$i(),i=this._groups,r=i.length,o=0;o<r;++o)for(var s,a=i[o],l=a.length,c=0;c<l;++c)if(s=a[c]){var u=ri(s,t);ti(s,e,n,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Hi(i,this._parents,e,n)},call:qi.call,nodes:qi.nodes,node:qi.node,size:qi.size,empty:qi.empty,each:qi.each,on:function(e,t){var n=this._id;return arguments.length<2?ri(this.node(),n).on.on(e):this.each(Fi(n,e,t))},attr:function(e,t){var n=Se(e),i="transform"===n?gi:bi;return this.attrTween(e,"function"==typeof t?(n.local?Si:ki)(n,i,yi(this,"attr."+e,t)):null==t?(n.local?wi:_i)(n):(n.local?xi:Ci)(n,i,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var i=Se(e);return this.tween(n,(i.local?Li:Ti)(i,t))},style:function(e,t,n){var i,r,o,s,a,l="transform"==(e+="")?pi:bi;return null==t?this.styleTween(e,(i=e,r=l,function(){var e=Re(this,i),t=(this.style.removeProperty(i),Re(this,i));return e===t?null:e===o&&t===s?a:a=r(o=e,s=t)})).on("end.style."+e,Pi(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var i,r,o;return function(){var s=Re(this,e),a=n(this),l=a+"";return null==a&&(this.style.removeProperty(e),l=a=Re(this,e)),s===l?null:s===i&&l===r?o:(r=l,o=t(i=s,a))}}(e,l,yi(this,"style."+e,t))).each(function(e,t){var n,i,r,o,s="style."+t,a="end."+s;return function(){var l=ii(this,e),c=l.on,u=null==l.value[s]?o||(o=Pi(t)):void 0;c===n&&r===u||(i=(n=c).copy()).on(a,r=u),l.on=i}}(this._id,e)):this.styleTween(e,function(e,t,n){var i,r,o=n+"";return function(){var s=Re(this,e);return s===o?null:s===i?r:r=t(i=s,n)}}(e,l,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,ji(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?(t=yi(this,"text",e),function(){var e=t(this);this.textContent=null==e?"":e}):function(e){return function(){this.textContent=e}}(null==e?"":e+""));var t},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,Vi(e))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i,r=ri(this.node(),n).tween,o=0,s=r.length;o<s;++o)if((i=r[o]).name===e)return i.value;return null}return this.each((null==t?mi:vi)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Ni:Mi)(t,e)):ri(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Ai:Ii)(t,e)):ri(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(Oi(t,e)):ri(this.node(),t).ease},end:function(){var e,t,n=this,i=n._id,r=n.size();return new Promise((function(o,s){var a={value:s},l={value:function(){0==--r&&o()}};n.each((function(){var n=ii(this,i),r=n.on;r!==e&&((t=(e=r).copy())._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),n.on=t}))}))}};var Xi={time:null,delay:0,duration:250,ease:Gi};function Zi(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return Xi.time=Un(),Xi;return n}xt.prototype.interrupt=function(e){return this.each((function(){oi(this,e)}))},xt.prototype.transition=function(e){var t,n;e instanceof Hi?(t=e._id,e=e._name):(t=$i(),(n=Xi).time=Un(),e=null==e?null:e+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var s,a=i[o],l=a.length,c=0;c<l;++c)(s=a[c])&&ti(s,e,t,c,a,n||Zi(s,t));return new Hi(i,this._parents,e,t)};var Ji=[null];function Qi(e,t){var n,i,r=e.__transition;if(r)for(i in t=null==t?null:t+"",r)if((n=r[i]).state>1&&n.name===t)return new Hi([[e]],Ji,t,+i);return null}function er(e){return function(){return e}}function tr(e,t,n){this.target=e,this.type=t,this.selection=n}function nr(){ut.stopImmediatePropagation()}function ir(){ut.preventDefault(),ut.stopImmediatePropagation()}var rr={name:"drag"},or={name:"space"},sr={name:"handle"},ar={name:"center"};function lr(e){return[+e[0],+e[1]]}function cr(e){return[lr(e[0]),lr(e[1])]}function ur(e){return function(t){return An(t,ut.touches,e)}}var hr={name:"x",handles:["w","e"].map(br),input:function(e,t){return null==e?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},dr={name:"y",handles:["n","s"].map(br),input:function(e,t){return null==e?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},fr={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(br),input:function(e){return null==e?null:cr(e)},output:function(e){return e}},pr={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},gr={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},mr={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},vr={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},yr={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function br(e){return{type:e}}function _r(){return!ut.ctrlKey&&!ut.button}function wr(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function Cr(){return navigator.maxTouchPoints||"ontouchstart"in this}function xr(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function kr(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function Sr(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function Dr(){return Tr(hr)}function Er(){return Tr(dr)}function Lr(){return Tr(fr)}function Tr(e){var t,n=wr,i=_r,r=Cr,o=!0,s=de("start","brush","end"),a=6;function l(t){var n=t.property("__brush",g).selectAll(".overlay").data([br("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",pr.overlay).merge(n).each((function(){var e=xr(this).extent;kt(this).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1])})),t.selectAll(".selection").data([br("selection")]).enter().append("rect").attr("class","selection").attr("cursor",pr.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=t.selectAll(".handle").data(e.handles,(function(e){return e.type}));i.exit().remove(),i.enter().append("rect").attr("class",(function(e){return"handle handle--"+e.type})).attr("cursor",(function(e){return pr[e.type]})),t.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",d).filter(r).on("touchstart.brush",d).on("touchmove.brush",f).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){var e=kt(this),t=xr(this).selection;t?(e.selectAll(".selection").style("display",null).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1]),e.selectAll(".handle").style("display",null).attr("x",(function(e){return"e"===e.type[e.type.length-1]?t[1][0]-a/2:t[0][0]-a/2})).attr("y",(function(e){return"s"===e.type[0]?t[1][1]-a/2:t[0][1]-a/2})).attr("width",(function(e){return"n"===e.type||"s"===e.type?t[1][0]-t[0][0]+a:a})).attr("height",(function(e){return"e"===e.type||"w"===e.type?t[1][1]-t[0][1]+a:a}))):e.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function u(e,t,n){var i=e.__brush.emitter;return!i||n&&i.clean?new h(e,t,n):i}function h(e,t,n){this.that=e,this.args=t,this.state=e.__brush,this.active=0,this.clean=n}function d(){if((!t||ut.touches)&&i.apply(this,arguments)){var n,r,s,a,l,h,d,f,p,g,m,v=this,y=ut.target.__data__.type,b="selection"===(o&&ut.metaKey?y="overlay":y)?rr:o&&ut.altKey?ar:sr,_=e===dr?null:vr[y],w=e===hr?null:yr[y],C=xr(v),x=C.extent,k=C.selection,S=x[0][0],D=x[0][1],E=x[1][0],L=x[1][1],T=0,N=0,M=_&&w&&o&&ut.shiftKey,A=ut.touches?ur(ut.changedTouches[0].identifier):In,I=A(v),O=I,F=u(v,arguments,!0).beforestart();"overlay"===y?(k&&(p=!0),C.selection=k=[[n=e===dr?S:I[0],s=e===hr?D:I[1]],[l=e===dr?E:n,d=e===hr?L:s]]):(n=k[0][0],s=k[0][1],l=k[1][0],d=k[1][1]),r=n,a=s,h=l,f=d;var R=kt(v).attr("pointer-events","none"),P=R.selectAll(".overlay").attr("cursor",pr[y]);if(ut.touches)F.moved=j,F.ended=V;else{var B=kt(ut.view).on("mousemove.brush",j,!0).on("mouseup.brush",V,!0);o&&B.on("keydown.brush",W,!0).on("keyup.brush",H,!0),Et(ut.view)}nr(),oi(v),c.call(v),F.start()}function j(){var e=A(v);!M||g||m||(Math.abs(e[0]-O[0])>Math.abs(e[1]-O[1])?m=!0:g=!0),O=e,p=!0,ir(),z()}function z(){var e;switch(T=O[0]-I[0],N=O[1]-I[1],b){case or:case rr:_&&(T=Math.max(S-n,Math.min(E-l,T)),r=n+T,h=l+T),w&&(N=Math.max(D-s,Math.min(L-d,N)),a=s+N,f=d+N);break;case sr:_<0?(T=Math.max(S-n,Math.min(E-n,T)),r=n+T,h=l):_>0&&(T=Math.max(S-l,Math.min(E-l,T)),r=n,h=l+T),w<0?(N=Math.max(D-s,Math.min(L-s,N)),a=s+N,f=d):w>0&&(N=Math.max(D-d,Math.min(L-d,N)),a=s,f=d+N);break;case ar:_&&(r=Math.max(S,Math.min(E,n-T*_)),h=Math.max(S,Math.min(E,l+T*_))),w&&(a=Math.max(D,Math.min(L,s-N*w)),f=Math.max(D,Math.min(L,d+N*w)))}h<r&&(_*=-1,e=n,n=l,l=e,e=r,r=h,h=e,y in gr&&P.attr("cursor",pr[y=gr[y]])),f<a&&(w*=-1,e=s,s=d,d=e,e=a,a=f,f=e,y in mr&&P.attr("cursor",pr[y=mr[y]])),C.selection&&(k=C.selection),g&&(r=k[0][0],h=k[1][0]),m&&(a=k[0][1],f=k[1][1]),k[0][0]===r&&k[0][1]===a&&k[1][0]===h&&k[1][1]===f||(C.selection=[[r,a],[h,f]],c.call(v),F.brush())}function V(){if(nr(),ut.touches){if(ut.touches.length)return;t&&clearTimeout(t),t=setTimeout((function(){t=null}),500)}else Lt(ut.view,p),B.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);R.attr("pointer-events","all"),P.attr("cursor",pr.overlay),C.selection&&(k=C.selection),kr(k)&&(C.selection=null,c.call(v)),F.end()}function W(){switch(ut.keyCode){case 16:M=_&&w;break;case 18:b===sr&&(_&&(l=h-T*_,n=r+T*_),w&&(d=f-N*w,s=a+N*w),b=ar,z());break;case 32:b!==sr&&b!==ar||(_<0?l=h-T:_>0&&(n=r-T),w<0?d=f-N:w>0&&(s=a-N),b=or,P.attr("cursor",pr.selection),z());break;default:return}ir()}function H(){switch(ut.keyCode){case 16:M&&(g=m=M=!1,z());break;case 18:b===ar&&(_<0?l=h:_>0&&(n=r),w<0?d=f:w>0&&(s=a),b=sr,z());break;case 32:b===or&&(ut.altKey?(_&&(l=h-T*_,n=r+T*_),w&&(d=f-N*w,s=a+N*w),b=ar):(_<0?l=h:_>0&&(n=r),w<0?d=f:w>0&&(s=a),b=sr),P.attr("cursor",pr[y]),z());break;default:return}ir()}}function f(){u(this,arguments).moved()}function p(){u(this,arguments).ended()}function g(){var t=this.__brush||{selection:null};return t.extent=cr(n.apply(this,arguments)),t.dim=e,t}return l.move=function(t,n){t.selection?t.on("start.brush",(function(){u(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){u(this,arguments).end()})).tween("brush",(function(){var t=this,i=t.__brush,r=u(t,arguments),o=i.selection,s=e.input("function"==typeof n?n.apply(this,arguments):n,i.extent),a=Tn(o,s);function l(e){i.selection=1===e&&null===s?null:a(e),c.call(t),r.brush()}return null!==o&&null!==s?l:l(1)})):t.each((function(){var t=this,i=arguments,r=t.__brush,o=e.input("function"==typeof n?n.apply(t,i):n,r.extent),s=u(t,i).beforestart();oi(t),r.selection=null===o?null:o,c.call(t),s.start().brush().end()}))},l.clear=function(e){l.move(e,null)},h.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){mt(new tr(l,t,e.output(this.state.selection)),s.apply,s,[t,this.that,this.args])}},l.extent=function(e){return arguments.length?(n="function"==typeof e?e:er(cr(e)),l):n},l.filter=function(e){return arguments.length?(i="function"==typeof e?e:er(!!e),l):i},l.touchable=function(e){return arguments.length?(r="function"==typeof e?e:er(!!e),l):r},l.handleSize=function(e){return arguments.length?(a=+e,l):a},l.keyModifiers=function(e){return arguments.length?(o=!!e,l):o},l.on=function(){var e=s.on.apply(s,arguments);return e===s?l:e},l}var Nr=Math.cos,Mr=Math.sin,Ar=Math.PI,Ir=Ar/2,Or=2*Ar,Fr=Math.max;function Rr(e){return function(t,n){return e(t.source.value+t.target.value,n.source.value+n.target.value)}}function Pr(){var e=0,t=null,n=null,i=null;function r(r){var o,s,a,l,c,u,h=r.length,d=[],f=x(h),p=[],g=[],m=g.groups=new Array(h),v=new Array(h*h);for(o=0,c=-1;++c<h;){for(s=0,u=-1;++u<h;)s+=r[c][u];d.push(s),p.push(x(h)),o+=s}for(t&&f.sort((function(e,n){return t(d[e],d[n])})),n&&p.forEach((function(e,t){e.sort((function(e,i){return n(r[t][e],r[t][i])}))})),l=(o=Fr(0,Or-e*h)/o)?e:Or/h,s=0,c=-1;++c<h;){for(a=s,u=-1;++u<h;){var y=f[c],b=p[y][u],_=r[y][b],w=s,C=s+=_*o;v[b*h+y]={index:y,subindex:b,startAngle:w,endAngle:C,value:_}}m[y]={index:y,startAngle:a,endAngle:s,value:d[y]},s+=l}for(c=-1;++c<h;)for(u=c-1;++u<h;){var k=v[u*h+c],S=v[c*h+u];(k.value||S.value)&&g.push(k.value<S.value?{source:S,target:k}:{source:k,target:S})}return i?g.sort(i):g}return r.padAngle=function(t){return arguments.length?(e=Fr(0,t),r):e},r.sortGroups=function(e){return arguments.length?(t=e,r):t},r.sortSubgroups=function(e){return arguments.length?(n=e,r):n},r.sortChords=function(e){return arguments.length?(null==e?i=null:(i=Rr(e))._=e,r):i&&i._},r}var Br=Array.prototype.slice;function jr(e){return function(){return e}}var zr=Math.PI,Vr=2*zr,Wr=1e-6,Hr=Vr-Wr;function Ur(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function $r(){return new Ur}Ur.prototype=$r.prototype={constructor:Ur,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,i){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(e,t,n,i,r,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(e,t,n,i,r){e=+e,t=+t,n=+n,i=+i,r=+r;var o=this._x1,s=this._y1,a=n-e,l=i-t,c=o-e,u=s-t,h=c*c+u*u;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(h>Wr)if(Math.abs(u*a-l*c)>Wr&&r){var d=n-o,f=i-s,p=a*a+l*l,g=d*d+f*f,m=Math.sqrt(p),v=Math.sqrt(h),y=r*Math.tan((zr-Math.acos((p+h-g)/(2*m*v)))/2),b=y/v,_=y/m;Math.abs(b-1)>Wr&&(this._+="L"+(e+b*c)+","+(t+b*u)),this._+="A"+r+","+r+",0,0,"+ +(u*d>c*f)+","+(this._x1=e+_*a)+","+(this._y1=t+_*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t)},arc:function(e,t,n,i,r,o){e=+e,t=+t,o=!!o;var s=(n=+n)*Math.cos(i),a=n*Math.sin(i),l=e+s,c=t+a,u=1^o,h=o?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>Wr||Math.abs(this._y1-c)>Wr)&&(this._+="L"+l+","+c),n&&(h<0&&(h=h%Vr+Vr),h>Hr?this._+="A"+n+","+n+",0,1,"+u+","+(e-s)+","+(t-a)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):h>Wr&&(this._+="A"+n+","+n+",0,"+ +(h>=zr)+","+u+","+(this._x1=e+n*Math.cos(r))+","+(this._y1=t+n*Math.sin(r))))},rect:function(e,t,n,i){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};const qr=$r;function Kr(e){return e.source}function Yr(e){return e.target}function Gr(e){return e.radius}function Xr(e){return e.startAngle}function Zr(e){return e.endAngle}function Jr(){var e=Kr,t=Yr,n=Gr,i=Xr,r=Zr,o=null;function s(){var s,a=Br.call(arguments),l=e.apply(this,a),c=t.apply(this,a),u=+n.apply(this,(a[0]=l,a)),h=i.apply(this,a)-Ir,d=r.apply(this,a)-Ir,f=u*Nr(h),p=u*Mr(h),g=+n.apply(this,(a[0]=c,a)),m=i.apply(this,a)-Ir,v=r.apply(this,a)-Ir;if(o||(o=s=qr()),o.moveTo(f,p),o.arc(0,0,u,h,d),h===m&&d===v||(o.quadraticCurveTo(0,0,g*Nr(m),g*Mr(m)),o.arc(0,0,g,m,v)),o.quadraticCurveTo(0,0,f,p),o.closePath(),s)return o=null,s+""||null}return s.radius=function(e){return arguments.length?(n="function"==typeof e?e:jr(+e),s):n},s.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:jr(+e),s):i},s.endAngle=function(e){return arguments.length?(r="function"==typeof e?e:jr(+e),s):r},s.source=function(t){return arguments.length?(e=t,s):e},s.target=function(e){return arguments.length?(t=e,s):t},s.context=function(e){return arguments.length?(o=null==e?null:e,s):o},s}var Qr="$";function eo(){}function to(e,t){var n=new eo;if(e instanceof eo)e.each((function(e,t){n.set(t,e)}));else if(Array.isArray(e)){var i,r=-1,o=e.length;if(null==t)for(;++r<o;)n.set(r,e[r]);else for(;++r<o;)n.set(t(i=e[r],r,e),i)}else if(e)for(var s in e)n.set(s,e[s]);return n}eo.prototype=to.prototype={constructor:eo,has:function(e){return Qr+e in this},get:function(e){return this[Qr+e]},set:function(e,t){return this[Qr+e]=t,this},remove:function(e){var t=Qr+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===Qr&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===Qr&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===Qr&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===Qr&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===Qr&&++e;return e},empty:function(){for(var e in this)if(e[0]===Qr)return!1;return!0},each:function(e){for(var t in this)t[0]===Qr&&e(this[t],t.slice(1),this)}};const no=to;function io(){var e,t,n,i=[],r=[];function o(n,r,s,a){if(r>=i.length)return null!=e&&n.sort(e),null!=t?t(n):n;for(var l,c,u,h=-1,d=n.length,f=i[r++],p=no(),g=s();++h<d;)(u=p.get(l=f(c=n[h])+""))?u.push(c):p.set(l,[c]);return p.each((function(e,t){a(g,t,o(e,r,s,a))})),g}function s(e,n){if(++n>i.length)return e;var o,a=r[n-1];return null!=t&&n>=i.length?o=e.entries():(o=[],e.each((function(e,t){o.push({key:t,values:s(e,n)})}))),null!=a?o.sort((function(e,t){return a(e.key,t.key)})):o}return n={object:function(e){return o(e,0,ro,oo)},map:function(e){return o(e,0,so,ao)},entries:function(e){return s(o(e,0,so,ao),0)},key:function(e){return i.push(e),n},sortKeys:function(e){return r[i.length-1]=e,n},sortValues:function(t){return e=t,n},rollup:function(e){return t=e,n}}}function ro(){return{}}function oo(e,t,n){e[t]=n}function so(){return no()}function ao(e,t,n){e.set(t,n)}function lo(){}var co=no.prototype;function uo(e,t){var n=new lo;if(e instanceof lo)e.each((function(e){n.add(e)}));else if(e){var i=-1,r=e.length;if(null==t)for(;++i<r;)n.add(e[i]);else for(;++i<r;)n.add(t(e[i],i,e))}return n}lo.prototype=uo.prototype={constructor:lo,has:co.has,add:function(e){return this[Qr+(e+="")]=e,this},remove:co.remove,clear:co.clear,values:co.keys,size:co.size,empty:co.empty,each:co.each};const ho=uo;function fo(e){var t=[];for(var n in e)t.push(n);return t}function po(e){var t=[];for(var n in e)t.push(e[n]);return t}function go(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t}var mo=Math.PI/180,vo=180/Math.PI,yo=.96422,bo=.82521,_o=4/29,wo=6/29,Co=3*wo*wo;function xo(e){if(e instanceof Do)return new Do(e.l,e.a,e.b,e.opacity);if(e instanceof Oo)return Fo(e);e instanceof Jt||(e=Xt(e));var t,n,i=No(e.r),r=No(e.g),o=No(e.b),s=Eo((.2225045*i+.7168786*r+.0606169*o)/1);return i===r&&r===o?t=n=s:(t=Eo((.4360747*i+.3850649*r+.1430804*o)/yo),n=Eo((.0139322*i+.0971045*r+.7141733*o)/bo)),new Do(116*s-16,500*(t-s),200*(s-n),e.opacity)}function ko(e,t){return new Do(e,0,0,null==t?1:t)}function So(e,t,n,i){return 1===arguments.length?xo(e):new Do(e,t,n,null==i?1:i)}function Do(e,t,n,i){this.l=+e,this.a=+t,this.b=+n,this.opacity=+i}function Eo(e){return e>.008856451679035631?Math.pow(e,1/3):e/Co+_o}function Lo(e){return e>wo?e*e*e:Co*(e-_o)}function To(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function No(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Mo(e){if(e instanceof Oo)return new Oo(e.h,e.c,e.l,e.opacity);if(e instanceof Do||(e=xo(e)),0===e.a&&0===e.b)return new Oo(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*vo;return new Oo(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Ao(e,t,n,i){return 1===arguments.length?Mo(e):new Oo(n,t,e,null==i?1:i)}function Io(e,t,n,i){return 1===arguments.length?Mo(e):new Oo(e,t,n,null==i?1:i)}function Oo(e,t,n,i){this.h=+e,this.c=+t,this.l=+n,this.opacity=+i}function Fo(e){if(isNaN(e.h))return new Do(e.l,0,0,e.opacity);var t=e.h*mo;return new Do(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Tt(Do,So,Nt(Mt,{brighter:function(e){return new Do(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new Do(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new Jt(To(3.1338561*(t=yo*Lo(t))-1.6168667*(e=1*Lo(e))-.4906146*(n=bo*Lo(n))),To(-.9787684*t+1.9161415*e+.033454*n),To(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),Tt(Oo,Io,Nt(Mt,{brighter:function(e){return new Oo(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new Oo(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return Fo(this).rgb()}}));var Ro=-.14861,Po=1.78277,Bo=-.29227,jo=-.90649,zo=1.97294,Vo=zo*jo,Wo=zo*Po,Ho=Po*Bo-jo*Ro;function Uo(e){if(e instanceof qo)return new qo(e.h,e.s,e.l,e.opacity);e instanceof Jt||(e=Xt(e));var t=e.r/255,n=e.g/255,i=e.b/255,r=(Ho*i+Vo*t-Wo*n)/(Ho+Vo-Wo),o=i-r,s=(zo*(n-r)-Bo*o)/jo,a=Math.sqrt(s*s+o*o)/(zo*r*(1-r)),l=a?Math.atan2(s,o)*vo-120:NaN;return new qo(l<0?l+360:l,a,r,e.opacity)}function $o(e,t,n,i){return 1===arguments.length?Uo(e):new qo(e,t,n,null==i?1:i)}function qo(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}Tt(qo,$o,Nt(Mt,{brighter:function(e){return e=null==e?It:Math.pow(It,e),new qo(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?At:Math.pow(At,e),new qo(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*mo,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),i=Math.cos(e),r=Math.sin(e);return new Jt(255*(t+n*(Ro*i+Po*r)),255*(t+n*(Bo*i+jo*r)),255*(t+n*(zo*i)),this.opacity)}}));var Ko=Array.prototype.slice;function Yo(e,t){return e-t}function Go(e){return function(){return e}}function Xo(e,t){for(var n,i=-1,r=t.length;++i<r;)if(n=Zo(e,t[i]))return n;return 0}function Zo(e,t){for(var n=t[0],i=t[1],r=-1,o=0,s=e.length,a=s-1;o<s;a=o++){var l=e[o],c=l[0],u=l[1],h=e[a],d=h[0],f=h[1];if(Jo(l,h,t))return 0;u>i!=f>i&&n<(d-c)*(i-u)/(f-u)+c&&(r=-r)}return r}function Jo(e,t,n){var i,r,o,s,a,l,c;return a=e,c=n,((l=t)[0]-a[0])*(c[1]-a[1])==(c[0]-a[0])*(l[1]-a[1])&&(r=e[i=+(e[0]===t[0])],o=n[i],s=t[i],r<=o&&o<=s||s<=o&&o<=r)}function Qo(){}var es=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function ts(){var e=1,t=1,n=N,i=a;function r(e){var t=n(e);if(Array.isArray(t))t=t.slice().sort(Yo);else{var i=v(e),r=i[0],s=i[1];t=T(r,s,t),t=x(Math.floor(r/t)*t,Math.floor(s/t)*t,t)}return t.map((function(t){return o(e,t)}))}function o(n,r){var o=[],a=[];return function(n,i,r){var o,a,l,c,u,h,d=new Array,f=new Array;for(o=a=-1,c=n[0]>=i,es[c<<1].forEach(p);++o<e-1;)l=c,c=n[o+1]>=i,es[l|c<<1].forEach(p);for(es[c<<0].forEach(p);++a<t-1;){for(o=-1,c=n[a*e+e]>=i,u=n[a*e]>=i,es[c<<1|u<<2].forEach(p);++o<e-1;)l=c,c=n[a*e+e+o+1]>=i,h=u,u=n[a*e+o+1]>=i,es[l|c<<1|u<<2|h<<3].forEach(p);es[c|u<<3].forEach(p)}for(o=-1,u=n[a*e]>=i,es[u<<2].forEach(p);++o<e-1;)h=u,u=n[a*e+o+1]>=i,es[u<<2|h<<3].forEach(p);function p(e){var t,n,i=[e[0][0]+o,e[0][1]+a],l=[e[1][0]+o,e[1][1]+a],c=s(i),u=s(l);(t=f[c])?(n=d[u])?(delete f[t.end],delete d[n.start],t===n?(t.ring.push(l),r(t.ring)):d[t.start]=f[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete f[t.end],t.ring.push(l),f[t.end=u]=t):(t=d[u])?(n=f[c])?(delete d[t.start],delete f[n.end],t===n?(t.ring.push(l),r(t.ring)):d[n.start]=f[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete d[t.start],t.ring.unshift(i),d[t.start=c]=t):d[c]=f[u]={start:c,end:u,ring:[i,l]}}es[u<<3].forEach(p)}(n,r,(function(e){i(e,n,r),function(e){for(var t=0,n=e.length,i=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)i+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return i}(e)>0?o.push([e]):a.push(e)})),a.forEach((function(e){for(var t,n=0,i=o.length;n<i;++n)if(-1!==Xo((t=o[n])[0],e))return void t.push(e)})),{type:"MultiPolygon",value:r,coordinates:o}}function s(t){return 2*t[0]+t[1]*(e+1)*4}function a(n,i,r){n.forEach((function(n){var o,s=n[0],a=n[1],l=0|s,c=0|a,u=i[c*e+l];s>0&&s<e&&l===s&&(o=i[c*e+l-1],n[0]=s+(r-o)/(u-o)-.5),a>0&&a<t&&c===a&&(o=i[(c-1)*e+l],n[1]=a+(r-o)/(u-o)-.5)}))}return r.contour=o,r.size=function(n){if(!arguments.length)return[e,t];var i=Math.ceil(n[0]),o=Math.ceil(n[1]);if(!(i>0&&o>0))throw new Error("invalid size");return e=i,t=o,r},r.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:Array.isArray(e)?Go(Ko.call(e)):Go(e),r):n},r.smooth=function(e){return arguments.length?(i=e?a:Qo,r):i===a},r}function ns(e,t,n){for(var i=e.width,r=e.height,o=1+(n<<1),s=0;s<r;++s)for(var a=0,l=0;a<i+n;++a)a<i&&(l+=e.data[a+s*i]),a>=n&&(a>=o&&(l-=e.data[a-o+s*i]),t.data[a-n+s*i]=l/Math.min(a+1,i-1+o-a,o))}function is(e,t,n){for(var i=e.width,r=e.height,o=1+(n<<1),s=0;s<i;++s)for(var a=0,l=0;a<r+n;++a)a<r&&(l+=e.data[s+a*i]),a>=n&&(a>=o&&(l-=e.data[s+(a-o)*i]),t.data[s+(a-n)*i]=l/Math.min(a+1,r-1+o-a,o))}function rs(e){return e[0]}function os(e){return e[1]}function ss(){return 1}function as(){var e=rs,t=os,n=ss,i=960,r=500,o=20,s=2,a=3*o,l=i+2*a>>s,c=r+2*a>>s,u=Go(20);function h(i){var r=new Float32Array(l*c),h=new Float32Array(l*c);i.forEach((function(i,o,u){var h=+e(i,o,u)+a>>s,d=+t(i,o,u)+a>>s,f=+n(i,o,u);h>=0&&h<l&&d>=0&&d<c&&(r[h+d*l]+=f)})),ns({width:l,height:c,data:r},{width:l,height:c,data:h},o>>s),is({width:l,height:c,data:h},{width:l,height:c,data:r},o>>s),ns({width:l,height:c,data:r},{width:l,height:c,data:h},o>>s),is({width:l,height:c,data:h},{width:l,height:c,data:r},o>>s),ns({width:l,height:c,data:r},{width:l,height:c,data:h},o>>s),is({width:l,height:c,data:h},{width:l,height:c,data:r},o>>s);var f=u(r);if(!Array.isArray(f)){var p=F(r);f=T(0,p,f),(f=x(0,Math.floor(p/f)*f,f)).shift()}return ts().thresholds(f).size([l,c])(r).map(d)}function d(e){return e.value*=Math.pow(2,-2*s),e.coordinates.forEach(f),e}function f(e){e.forEach(p)}function p(e){e.forEach(g)}function g(e){e[0]=e[0]*Math.pow(2,s)-a,e[1]=e[1]*Math.pow(2,s)-a}function m(){return l=i+2*(a=3*o)>>s,c=r+2*a>>s,h}return h.x=function(t){return arguments.length?(e="function"==typeof t?t:Go(+t),h):e},h.y=function(e){return arguments.length?(t="function"==typeof e?e:Go(+e),h):t},h.weight=function(e){return arguments.length?(n="function"==typeof e?e:Go(+e),h):n},h.size=function(e){if(!arguments.length)return[i,r];var t=Math.ceil(e[0]),n=Math.ceil(e[1]);if(!(t>=0||t>=0))throw new Error("invalid size");return i=t,r=n,m()},h.cellSize=function(e){if(!arguments.length)return 1<<s;if(!((e=+e)>=1))throw new Error("invalid cell size");return s=Math.floor(Math.log(e)/Math.LN2),m()},h.thresholds=function(e){return arguments.length?(u="function"==typeof e?e:Array.isArray(e)?Go(Ko.call(e)):Go(e),h):u},h.bandwidth=function(e){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((e=+e)>=0))throw new Error("invalid bandwidth");return o=Math.round((Math.sqrt(4*e*e+1)-1)/2),m()},h}function ls(e){return function(){return e}}function cs(e,t,n,i,r,o,s,a,l,c){this.target=e,this.type=t,this.subject=n,this.identifier=i,this.active=r,this.x=o,this.y=s,this.dx=a,this.dy=l,this._=c}function us(){return!ut.ctrlKey&&!ut.button}function hs(){return this.parentNode}function ds(e){return null==e?{x:ut.x,y:ut.y}:e}function fs(){return navigator.maxTouchPoints||"ontouchstart"in this}function ps(){var e,t,n,i,r=us,o=hs,s=ds,a=fs,l={},c=de("start","drag","end"),u=0,h=0;function d(e){e.on("mousedown.drag",f).filter(a).on("touchstart.drag",m).on("touchmove.drag",v).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(){if(!i&&r.apply(this,arguments)){var s=b("mouse",o.apply(this,arguments),In,this,arguments);s&&(kt(ut.view).on("mousemove.drag",p,!0).on("mouseup.drag",g,!0),Et(ut.view),St(),n=!1,e=ut.clientX,t=ut.clientY,s("start"))}}function p(){if(Dt(),!n){var i=ut.clientX-e,r=ut.clientY-t;n=i*i+r*r>h}l.mouse("drag")}function g(){kt(ut.view).on("mousemove.drag mouseup.drag",null),Lt(ut.view,n),Dt(),l.mouse("end")}function m(){if(r.apply(this,arguments)){var e,t,n=ut.changedTouches,i=o.apply(this,arguments),s=n.length;for(e=0;e<s;++e)(t=b(n[e].identifier,i,An,this,arguments))&&(St(),t("start"))}}function v(){var e,t,n=ut.changedTouches,i=n.length;for(e=0;e<i;++e)(t=l[n[e].identifier])&&(Dt(),t("drag"))}function y(){var e,t,n=ut.changedTouches,r=n.length;for(i&&clearTimeout(i),i=setTimeout((function(){i=null}),500),e=0;e<r;++e)(t=l[n[e].identifier])&&(St(),t("end"))}function b(e,t,n,i,r){var o,a,h,f=n(t,e),p=c.copy();if(mt(new cs(d,"beforestart",o,e,u,f[0],f[1],0,0,p),(function(){return null!=(ut.subject=o=s.apply(i,r))&&(a=o.x-f[0]||0,h=o.y-f[1]||0,!0)})))return function s(c){var g,m=f;switch(c){case"start":l[e]=s,g=u++;break;case"end":delete l[e],--u;case"drag":f=n(t,e),g=u}mt(new cs(d,c,o,e,g,f[0]+a,f[1]+h,f[0]-m[0],f[1]-m[1],p),p.apply,p,[c,i,r])}}return d.filter=function(e){return arguments.length?(r="function"==typeof e?e:ls(!!e),d):r},d.container=function(e){return arguments.length?(o="function"==typeof e?e:ls(e),d):o},d.subject=function(e){return arguments.length?(s="function"==typeof e?e:ls(e),d):s},d.touchable=function(e){return arguments.length?(a="function"==typeof e?e:ls(!!e),d):a},d.on=function(){var e=c.on.apply(c,arguments);return e===c?d:e},d.clickDistance=function(e){return arguments.length?(h=(e=+e)*e,d):Math.sqrt(h)},d}cs.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var gs={},ms={};function vs(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function ys(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var i in e)i in t||n.push(t[i]=i)})),n}function bs(e,t){var n=e+"",i=n.length;return i<t?new Array(t-i+1).join(0)+n:n}function _s(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function i(e,t){var i,r=[],o=e.length,s=0,a=0,l=o<=0,c=!1;function u(){if(l)return ms;if(c)return c=!1,gs;var t,i,r=s;if(34===e.charCodeAt(r)){for(;s++<o&&34!==e.charCodeAt(s)||34===e.charCodeAt(++s););return(t=s)>=o?l=!0:10===(i=e.charCodeAt(s++))?c=!0:13===i&&(c=!0,10===e.charCodeAt(s)&&++s),e.slice(r+1,t-1).replace(/""/g,'"')}for(;s<o;){if(10===(i=e.charCodeAt(t=s++)))c=!0;else if(13===i)c=!0,10===e.charCodeAt(s)&&++s;else if(i!==n)continue;return e.slice(r,t)}return l=!0,e.slice(r,o)}for(10===e.charCodeAt(o-1)&&--o,13===e.charCodeAt(o-1)&&--o;(i=u())!==ms;){for(var h=[];i!==gs&&i!==ms;)h.push(i),i=u();t&&null==(h=t(h,a++))||r.push(h)}return r}function r(t,n){return t.map((function(t){return n.map((function(e){return s(t[e])})).join(e)}))}function o(t){return t.map(s).join(e)}function s(e){return null==e?"":e instanceof Date?(r=(n=e).getUTCHours(),o=n.getUTCMinutes(),s=n.getUTCSeconds(),a=n.getUTCMilliseconds(),isNaN(n)?"Invalid Date":((i=n.getUTCFullYear())<0?"-"+bs(-i,6):i>9999?"+"+bs(i,6):bs(i,4))+"-"+bs(n.getUTCMonth()+1,2)+"-"+bs(n.getUTCDate(),2)+(a?"T"+bs(r,2)+":"+bs(o,2)+":"+bs(s,2)+"."+bs(a,3)+"Z":s?"T"+bs(r,2)+":"+bs(o,2)+":"+bs(s,2)+"Z":o||r?"T"+bs(r,2)+":"+bs(o,2)+"Z":"")):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e;var n,i,r,o,s,a}return{parse:function(e,t){var n,r,o=i(e,(function(e,i){if(n)return n(e,i-1);var o,s,a;r=e,n=t?(s=t,a=vs(o=e),function(e,t){return s(a(e),t,o)}):vs(e)}));return o.columns=r||[],o},parseRows:i,format:function(t,n){return null==n&&(n=ys(t)),[n.map(s).join(e)].concat(r(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=ys(e)),r(e,t).join("\n")},formatRows:function(e){return e.map(o).join("\n")},formatRow:o,formatValue:s}}var ws=_s(","),Cs=ws.parse,xs=ws.parseRows,ks=ws.format,Ss=ws.formatBody,Ds=ws.formatRows,Es=ws.formatRow,Ls=ws.formatValue,Ts=_s("\t"),Ns=Ts.parse,Ms=Ts.parseRows,As=Ts.format,Is=Ts.formatBody,Os=Ts.formatRows,Fs=Ts.formatRow,Rs=Ts.formatValue;function Ps(e){for(var t in e){var n,i,r=e[t].trim();if(r)if("true"===r)r=!0;else if("false"===r)r=!1;else if("NaN"===r)r=NaN;else if(isNaN(n=+r)){if(!(i=r.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Bs&&i[4]&&!i[7]&&(r=r.replace(/-/g,"/").replace(/T/," ")),r=new Date(r)}else r=n;else r=null;e[t]=r}return e}var Bs=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function js(e){return+e}function zs(e){return e*e}function Vs(e){return e*(2-e)}function Ws(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}var Hs=function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n}(3),Us=function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),$s=function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),qs=Math.PI,Ks=qs/2;function Ys(e){return 1==+e?1:1-Math.cos(e*Ks)}function Gs(e){return Math.sin(e*Ks)}function Xs(e){return(1-Math.cos(qs*e))/2}function Zs(e){return 1.0009775171065494*(Math.pow(2,-10*e)-.0009765625)}function Js(e){return Zs(1-+e)}function Qs(e){return 1-Zs(e)}function ea(e){return((e*=2)<=1?Zs(1-e):2-Zs(e-1))/2}function ta(e){return 1-Math.sqrt(1-e*e)}function na(e){return Math.sqrt(1- --e*e)}function ia(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var ra=7.5625;function oa(e){return 1-sa(1-e)}function sa(e){return(e=+e)<.36363636363636365?ra*e*e:e<.7272727272727273?ra*(e-=.5454545454545454)*e+.75:e<.9090909090909091?ra*(e-=.8181818181818182)*e+.9375:ra*(e-=.9545454545454546)*e+.984375}function aa(e){return((e*=2)<=1?1-sa(1-e):sa(e-1)+1)/2}var la=1.70158,ca=function e(t){function n(e){return(e=+e)*e*(t*(e-1)+e)}return t=+t,n.overshoot=e,n}(la),ua=function e(t){function n(e){return--e*e*((e+1)*t+e)+1}return t=+t,n.overshoot=e,n}(la),ha=function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(la),da=2*Math.PI,fa=function e(t,n){var i=Math.asin(1/(t=Math.max(1,t)))*(n/=da);function r(e){return t*Zs(- --e)*Math.sin((i-e)/n)}return r.amplitude=function(t){return e(t,n*da)},r.period=function(n){return e(t,n)},r}(1,.3),pa=function e(t,n){var i=Math.asin(1/(t=Math.max(1,t)))*(n/=da);function r(e){return 1-t*Zs(e=+e)*Math.sin((e+i)/n)}return r.amplitude=function(t){return e(t,n*da)},r.period=function(n){return e(t,n)},r}(1,.3),ga=function e(t,n){var i=Math.asin(1/(t=Math.max(1,t)))*(n/=da);function r(e){return((e=2*e-1)<0?t*Zs(-e)*Math.sin((i-e)/n):2-t*Zs(e)*Math.sin((i+e)/n))/2}return r.amplitude=function(t){return e(t,n*da)},r.period=function(n){return e(t,n)},r}(1,.3);function ma(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.blob()}function va(e,t){return fetch(e,t).then(ma)}function ya(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.arrayBuffer()}function ba(e,t){return fetch(e,t).then(ya)}function _a(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function wa(e,t){return fetch(e,t).then(_a)}function Ca(e){return function(t,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=void 0),wa(t,n).then((function(t){return e(t,i)}))}}function xa(e,t,n,i){3===arguments.length&&"function"==typeof n&&(i=n,n=void 0);var r=_s(e);return wa(t,n).then((function(e){return r.parse(e,i)}))}var ka=Ca(Cs),Sa=Ca(Ns);function Da(e,t){return new Promise((function(n,i){var r=new Image;for(var o in t)r[o]=t[o];r.onerror=i,r.onload=function(){n(r)},r.src=e}))}function Ea(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(204!==e.status&&205!==e.status)return e.json()}function La(e,t){return fetch(e,t).then(Ea)}function Ta(e){return function(t,n){return wa(t,n).then((function(t){return(new DOMParser).parseFromString(t,e)}))}}const Na=Ta("application/xml");var Ma=Ta("text/html"),Aa=Ta("image/svg+xml");function Ia(e,t){var n;function i(){var i,r,o=n.length,s=0,a=0;for(i=0;i<o;++i)s+=(r=n[i]).x,a+=r.y;for(s=s/o-e,a=a/o-t,i=0;i<o;++i)(r=n[i]).x-=s,r.y-=a}return null==e&&(e=0),null==t&&(t=0),i.initialize=function(e){n=e},i.x=function(t){return arguments.length?(e=+t,i):e},i.y=function(e){return arguments.length?(t=+e,i):t},i}function Oa(e){return function(){return e}}function Fa(){return 1e-6*(Math.random()-.5)}function Ra(e,t,n,i){if(isNaN(t)||isNaN(n))return e;var r,o,s,a,l,c,u,h,d,f=e._root,p={data:i},g=e._x0,m=e._y0,v=e._x1,y=e._y1;if(!f)return e._root=p,e;for(;f.length;)if((c=t>=(o=(g+v)/2))?g=o:v=o,(u=n>=(s=(m+y)/2))?m=s:y=s,r=f,!(f=f[h=u<<1|c]))return r[h]=p,e;if(a=+e._x.call(null,f.data),l=+e._y.call(null,f.data),t===a&&n===l)return p.next=f,r?r[h]=p:e._root=p,e;do{r=r?r[h]=new Array(4):e._root=new Array(4),(c=t>=(o=(g+v)/2))?g=o:v=o,(u=n>=(s=(m+y)/2))?m=s:y=s}while((h=u<<1|c)==(d=(l>=s)<<1|a>=o));return r[d]=f,r[h]=p,e}function Pa(e,t,n,i,r){this.node=e,this.x0=t,this.y0=n,this.x1=i,this.y1=r}function Ba(e){return e[0]}function ja(e){return e[1]}function za(e,t,n){var i=new Va(null==t?Ba:t,null==n?ja:n,NaN,NaN,NaN,NaN);return null==e?i:i.addAll(e)}function Va(e,t,n,i,r,o){this._x=e,this._y=t,this._x0=n,this._y0=i,this._x1=r,this._y1=o,this._root=void 0}function Wa(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Ha=za.prototype=Va.prototype;function Ua(e){return e.x+e.vx}function $a(e){return e.y+e.vy}function qa(e){var t,n,i=1,r=1;function o(){for(var e,o,a,l,c,u,h,d=t.length,f=0;f<r;++f)for(o=za(t,Ua,$a).visitAfter(s),e=0;e<d;++e)a=t[e],u=n[a.index],h=u*u,l=a.x+a.vx,c=a.y+a.vy,o.visit(p);function p(e,t,n,r,o){var s=e.data,d=e.r,f=u+d;if(!s)return t>l+f||r<l-f||n>c+f||o<c-f;if(s.index>a.index){var p=l-s.x-s.vx,g=c-s.y-s.vy,m=p*p+g*g;m<f*f&&(0===p&&(m+=(p=Fa())*p),0===g&&(m+=(g=Fa())*g),m=(f-(m=Math.sqrt(m)))/m*i,a.vx+=(p*=m)*(f=(d*=d)/(h+d)),a.vy+=(g*=m)*f,s.vx-=p*(f=1-f),s.vy-=g*f)}}}function s(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function a(){if(t){var i,r,o=t.length;for(n=new Array(o),i=0;i<o;++i)r=t[i],n[r.index]=+e(r,i,t)}}return"function"!=typeof e&&(e=Oa(null==e?1:+e)),o.initialize=function(e){t=e,a()},o.iterations=function(e){return arguments.length?(r=+e,o):r},o.strength=function(e){return arguments.length?(i=+e,o):i},o.radius=function(t){return arguments.length?(e="function"==typeof t?t:Oa(+t),a(),o):e},o}function Ka(e){return e.index}function Ya(e,t){var n=e.get(t);if(!n)throw new Error("missing: "+t);return n}function Ga(e){var t,n,i,r,o,s=Ka,a=function(e){return 1/Math.min(r[e.source.index],r[e.target.index])},l=Oa(30),c=1;function u(i){for(var r=0,s=e.length;r<c;++r)for(var a,l,u,h,d,f,p,g=0;g<s;++g)l=(a=e[g]).source,h=(u=a.target).x+u.vx-l.x-l.vx||Fa(),d=u.y+u.vy-l.y-l.vy||Fa(),h*=f=((f=Math.sqrt(h*h+d*d))-n[g])/f*i*t[g],d*=f,u.vx-=h*(p=o[g]),u.vy-=d*p,l.vx+=h*(p=1-p),l.vy+=d*p}function h(){if(i){var a,l,c=i.length,u=e.length,h=no(i,s);for(a=0,r=new Array(c);a<u;++a)(l=e[a]).index=a,"object"!=typeof l.source&&(l.source=Ya(h,l.source)),"object"!=typeof l.target&&(l.target=Ya(h,l.target)),r[l.source.index]=(r[l.source.index]||0)+1,r[l.target.index]=(r[l.target.index]||0)+1;for(a=0,o=new Array(u);a<u;++a)l=e[a],o[a]=r[l.source.index]/(r[l.source.index]+r[l.target.index]);t=new Array(u),d(),n=new Array(u),f()}}function d(){if(i)for(var n=0,r=e.length;n<r;++n)t[n]=+a(e[n],n,e)}function f(){if(i)for(var t=0,r=e.length;t<r;++t)n[t]=+l(e[t],t,e)}return null==e&&(e=[]),u.initialize=function(e){i=e,h()},u.links=function(t){return arguments.length?(e=t,h(),u):e},u.id=function(e){return arguments.length?(s=e,u):s},u.iterations=function(e){return arguments.length?(c=+e,u):c},u.strength=function(e){return arguments.length?(a="function"==typeof e?e:Oa(+e),d(),u):a},u.distance=function(e){return arguments.length?(l="function"==typeof e?e:Oa(+e),f(),u):l},u}function Xa(e){return e.x}function Za(e){return e.y}Ha.copy=function(){var e,t,n=new Va(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=Wa(i),n;for(e=[{source:i,target:n._root=new Array(4)}];i=e.pop();)for(var r=0;r<4;++r)(t=i.source[r])&&(t.length?e.push({source:t,target:i.target[r]=new Array(4)}):i.target[r]=Wa(t));return n},Ha.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return Ra(this.cover(t,n),t,n,e)},Ha.addAll=function(e){var t,n,i,r,o=e.length,s=new Array(o),a=new Array(o),l=1/0,c=1/0,u=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(r=+this._y.call(null,t))||(s[n]=i,a[n]=r,i<l&&(l=i),i>u&&(u=i),r<c&&(c=r),r>h&&(h=r));if(l>u||c>h)return this;for(this.cover(l,c).cover(u,h),n=0;n<o;++n)Ra(this,s[n],a[n],e[n]);return this},Ha.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(n))r=(n=Math.floor(e))+1,o=(i=Math.floor(t))+1;else{for(var s,a,l=r-n,c=this._root;n>e||e>=r||i>t||t>=o;)switch(a=(t<i)<<1|e<n,(s=new Array(4))[a]=c,c=s,l*=2,a){case 0:r=n+l,o=i+l;break;case 1:n=r-l,o=i+l;break;case 2:r=n+l,i=o-l;break;case 3:n=r-l,i=o-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=i,this._x1=r,this._y1=o,this},Ha.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},Ha.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Ha.find=function(e,t,n){var i,r,o,s,a,l,c,u=this._x0,h=this._y0,d=this._x1,f=this._y1,p=[],g=this._root;for(g&&p.push(new Pa(g,u,h,d,f)),null==n?n=1/0:(u=e-n,h=t-n,d=e+n,f=t+n,n*=n);l=p.pop();)if(!(!(g=l.node)||(r=l.x0)>d||(o=l.y0)>f||(s=l.x1)<u||(a=l.y1)<h))if(g.length){var m=(r+s)/2,v=(o+a)/2;p.push(new Pa(g[3],m,v,s,a),new Pa(g[2],r,v,m,a),new Pa(g[1],m,o,s,v),new Pa(g[0],r,o,m,v)),(c=(t>=v)<<1|e>=m)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=l)}else{var y=e-+this._x.call(null,g.data),b=t-+this._y.call(null,g.data),_=y*y+b*b;if(_<n){var w=Math.sqrt(n=_);u=e-w,h=t-w,d=e+w,f=t+w,i=g.data}}return i},Ha.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(s=+this._y.call(null,e)))return this;var t,n,i,r,o,s,a,l,c,u,h,d,f=this._root,p=this._x0,g=this._y0,m=this._x1,v=this._y1;if(!f)return this;if(f.length)for(;;){if((c=o>=(a=(p+m)/2))?p=a:m=a,(u=s>=(l=(g+v)/2))?g=l:v=l,t=f,!(f=f[h=u<<1|c]))return this;if(!f.length)break;(t[h+1&3]||t[h+2&3]||t[h+3&3])&&(n=t,d=h)}for(;f.data!==e;)if(i=f,!(f=f.next))return this;return(r=f.next)&&delete f.next,i?(r?i.next=r:delete i.next,this):t?(r?t[h]=r:delete t[h],(f=t[0]||t[1]||t[2]||t[3])&&f===(t[3]||t[2]||t[1]||t[0])&&!f.length&&(n?n[d]=f:this._root=f),this):(this._root=r,this)},Ha.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},Ha.root=function(){return this._root},Ha.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},Ha.visit=function(e){var t,n,i,r,o,s,a=[],l=this._root;for(l&&a.push(new Pa(l,this._x0,this._y0,this._x1,this._y1));t=a.pop();)if(!e(l=t.node,i=t.x0,r=t.y0,o=t.x1,s=t.y1)&&l.length){var c=(i+o)/2,u=(r+s)/2;(n=l[3])&&a.push(new Pa(n,c,u,o,s)),(n=l[2])&&a.push(new Pa(n,i,u,c,s)),(n=l[1])&&a.push(new Pa(n,c,r,o,u)),(n=l[0])&&a.push(new Pa(n,i,r,c,u))}return this},Ha.visitAfter=function(e){var t,n=[],i=[];for(this._root&&n.push(new Pa(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var r=t.node;if(r.length){var o,s=t.x0,a=t.y0,l=t.x1,c=t.y1,u=(s+l)/2,h=(a+c)/2;(o=r[0])&&n.push(new Pa(o,s,a,u,h)),(o=r[1])&&n.push(new Pa(o,u,a,l,h)),(o=r[2])&&n.push(new Pa(o,s,h,u,c)),(o=r[3])&&n.push(new Pa(o,u,h,l,c))}i.push(t)}for(;t=i.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},Ha.x=function(e){return arguments.length?(this._x=e,this):this._x},Ha.y=function(e){return arguments.length?(this._y=e,this):this._y};var Ja=Math.PI*(3-Math.sqrt(5));function Qa(e){var t,n=1,i=.001,r=1-Math.pow(i,1/300),o=0,s=.6,a=no(),l=Kn(u),c=de("tick","end");function u(){h(),c.call("tick",t),n<i&&(l.stop(),c.call("end",t))}function h(i){var l,c,u=e.length;void 0===i&&(i=1);for(var h=0;h<i;++h)for(n+=(o-n)*r,a.each((function(e){e(n)})),l=0;l<u;++l)null==(c=e[l]).fx?c.x+=c.vx*=s:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=s:(c.y=c.fy,c.vy=0);return t}function d(){for(var t,n=0,i=e.length;n<i;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var r=10*Math.sqrt(n),o=n*Ja;t.x=r*Math.cos(o),t.y=r*Math.sin(o)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function f(t){return t.initialize&&t.initialize(e),t}return null==e&&(e=[]),d(),t={tick:h,restart:function(){return l.restart(u),t},stop:function(){return l.stop(),t},nodes:function(n){return arguments.length?(e=n,d(),a.each(f),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(i=+e,t):i},alphaDecay:function(e){return arguments.length?(r=+e,t):+r},alphaTarget:function(e){return arguments.length?(o=+e,t):o},velocityDecay:function(e){return arguments.length?(s=1-e,t):1-s},force:function(e,n){return arguments.length>1?(null==n?a.remove(e):a.set(e,f(n)),t):a.get(e)},find:function(t,n,i){var r,o,s,a,l,c=0,u=e.length;for(null==i?i=1/0:i*=i,c=0;c<u;++c)(s=(r=t-(a=e[c]).x)*r+(o=n-a.y)*o)<i&&(l=a,i=s);return l},on:function(e,n){return arguments.length>1?(c.on(e,n),t):c.on(e)}}}function el(){var e,t,n,i,r=Oa(-30),o=1,s=1/0,a=.81;function l(i){var r,o=e.length,s=za(e,Xa,Za).visitAfter(u);for(n=i,r=0;r<o;++r)t=e[r],s.visit(h)}function c(){if(e){var t,n,o=e.length;for(i=new Array(o),t=0;t<o;++t)n=e[t],i[n.index]=+r(n,t,e)}}function u(e){var t,n,r,o,s,a=0,l=0;if(e.length){for(r=o=s=0;s<4;++s)(t=e[s])&&(n=Math.abs(t.value))&&(a+=t.value,l+=n,r+=n*t.x,o+=n*t.y);e.x=r/l,e.y=o/l}else{(t=e).x=t.data.x,t.y=t.data.y;do{a+=i[t.data.index]}while(t=t.next)}e.value=a}function h(e,r,l,c){if(!e.value)return!0;var u=e.x-t.x,h=e.y-t.y,d=c-r,f=u*u+h*h;if(d*d/a<f)return f<s&&(0===u&&(f+=(u=Fa())*u),0===h&&(f+=(h=Fa())*h),f<o&&(f=Math.sqrt(o*f)),t.vx+=u*e.value*n/f,t.vy+=h*e.value*n/f),!0;if(!(e.length||f>=s)){(e.data!==t||e.next)&&(0===u&&(f+=(u=Fa())*u),0===h&&(f+=(h=Fa())*h),f<o&&(f=Math.sqrt(o*f)));do{e.data!==t&&(d=i[e.data.index]*n/f,t.vx+=u*d,t.vy+=h*d)}while(e=e.next)}}return l.initialize=function(t){e=t,c()},l.strength=function(e){return arguments.length?(r="function"==typeof e?e:Oa(+e),c(),l):r},l.distanceMin=function(e){return arguments.length?(o=e*e,l):Math.sqrt(o)},l.distanceMax=function(e){return arguments.length?(s=e*e,l):Math.sqrt(s)},l.theta=function(e){return arguments.length?(a=e*e,l):Math.sqrt(a)},l}function tl(e,t,n){var i,r,o,s=Oa(.1);function a(e){for(var s=0,a=i.length;s<a;++s){var l=i[s],c=l.x-t||1e-6,u=l.y-n||1e-6,h=Math.sqrt(c*c+u*u),d=(o[s]-h)*r[s]*e/h;l.vx+=c*d,l.vy+=u*d}}function l(){if(i){var t,n=i.length;for(r=new Array(n),o=new Array(n),t=0;t<n;++t)o[t]=+e(i[t],t,i),r[t]=isNaN(o[t])?0:+s(i[t],t,i)}}return"function"!=typeof e&&(e=Oa(+e)),null==t&&(t=0),null==n&&(n=0),a.initialize=function(e){i=e,l()},a.strength=function(e){return arguments.length?(s="function"==typeof e?e:Oa(+e),l(),a):s},a.radius=function(t){return arguments.length?(e="function"==typeof t?t:Oa(+t),l(),a):e},a.x=function(e){return arguments.length?(t=+e,a):t},a.y=function(e){return arguments.length?(n=+e,a):n},a}function nl(e){var t,n,i,r=Oa(.1);function o(e){for(var r,o=0,s=t.length;o<s;++o)(r=t[o]).vx+=(i[o]-r.x)*n[o]*e}function s(){if(t){var o,s=t.length;for(n=new Array(s),i=new Array(s),o=0;o<s;++o)n[o]=isNaN(i[o]=+e(t[o],o,t))?0:+r(t[o],o,t)}}return"function"!=typeof e&&(e=Oa(null==e?0:+e)),o.initialize=function(e){t=e,s()},o.strength=function(e){return arguments.length?(r="function"==typeof e?e:Oa(+e),s(),o):r},o.x=function(t){return arguments.length?(e="function"==typeof t?t:Oa(+t),s(),o):e},o}function il(e){var t,n,i,r=Oa(.1);function o(e){for(var r,o=0,s=t.length;o<s;++o)(r=t[o]).vy+=(i[o]-r.y)*n[o]*e}function s(){if(t){var o,s=t.length;for(n=new Array(s),i=new Array(s),o=0;o<s;++o)n[o]=isNaN(i[o]=+e(t[o],o,t))?0:+r(t[o],o,t)}}return"function"!=typeof e&&(e=Oa(null==e?0:+e)),o.initialize=function(e){t=e,s()},o.strength=function(e){return arguments.length?(r="function"==typeof e?e:Oa(+e),s(),o):r},o.y=function(t){return arguments.length?(e="function"==typeof t?t:Oa(+t),s(),o):e},o}function rl(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function ol(e){return(e=rl(Math.abs(e)))?e[1]:NaN}var sl,al=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ll(e){if(!(t=al.exec(e)))throw new Error("invalid format: "+e);var t;return new cl({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function cl(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function ul(e,t){var n=rl(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}ll.prototype=cl.prototype,cl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const hl={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return ul(100*e,t)},r:ul,s:function(e,t){var n=rl(e,t);if(!n)return e+"";var i=n[0],r=n[1],o=r-(sl=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,s=i.length;return o===s?i:o>s?i+new Array(o-s+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+rl(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function dl(e){return e}var fl,pl,gl,ml=Array.prototype.map,vl=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function yl(e){var t,n,i,r=void 0===e.grouping||void 0===e.thousands?dl:(t=ml.call(e.grouping,Number),n=e.thousands+"",function(e,i){for(var r=e.length,o=[],s=0,a=t[0],l=0;r>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),o.push(e.substring(r-=a,r+a)),!((l+=a+1)>i));)a=t[s=(s+1)%t.length];return o.reverse().join(n)}),o=void 0===e.currency?"":e.currency[0]+"",s=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",l=void 0===e.numerals?dl:(i=ml.call(e.numerals,String),function(e){return e.replace(/[0-9]/g,(function(e){return i[+e]}))}),c=void 0===e.percent?"%":e.percent+"",u=void 0===e.minus?"-":e.minus+"",h=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=ll(e)).fill,n=e.align,i=e.sign,d=e.symbol,f=e.zero,p=e.width,g=e.comma,m=e.precision,v=e.trim,y=e.type;"n"===y?(g=!0,y="g"):hl[y]||(void 0===m&&(m=12),v=!0,y="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===d?o:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",_="$"===d?s:/[%p]/.test(y)?c:"",w=hl[y],C=/[defgprs%]/.test(y);function x(e){var o,s,c,d=b,x=_;if("c"===y)x=w(e)+x,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?h:w(Math.abs(e),m),v&&(e=function(e){e:for(var t,n=e.length,i=1,r=-1;i<n;++i)switch(e[i]){case".":r=t=i;break;case"0":0===r&&(r=i),t=i;break;default:if(!+e[i])break e;r>0&&(r=0)}return r>0?e.slice(0,r)+e.slice(t+1):e}(e)),k&&0==+e&&"+"!==i&&(k=!1),d=(k?"("===i?i:u:"-"===i||"("===i?"":i)+d,x=("s"===y?vl[8+sl/3]:"")+x+(k&&"("===i?")":""),C)for(o=-1,s=e.length;++o<s;)if(48>(c=e.charCodeAt(o))||c>57){x=(46===c?a+e.slice(o+1):e.slice(o))+x,e=e.slice(0,o);break}}g&&!f&&(e=r(e,1/0));var S=d.length+e.length+x.length,D=S<p?new Array(p-S+1).join(t):"";switch(g&&f&&(e=r(D+e,D.length?p-x.length:1/0),D=""),n){case"<":e=d+e+x+D;break;case"=":e=d+D+e+x;break;case"^":e=D.slice(0,S=D.length>>1)+d+e+x+D.slice(S);break;default:e=D+d+e+x}return l(e)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),x.toString=function(){return e+""},x}return{format:d,formatPrefix:function(e,t){var n=d(((e=ll(e)).type="f",e)),i=3*Math.max(-8,Math.min(8,Math.floor(ol(t)/3))),r=Math.pow(10,-i),o=vl[8+i/3];return function(e){return n(r*e)+o}}}}function bl(e){return fl=yl(e),pl=fl.format,gl=fl.formatPrefix,fl}function _l(e){return Math.max(0,-ol(Math.abs(e)))}function wl(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ol(t)/3)))-ol(Math.abs(e)))}function Cl(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ol(t)-ol(e))+1}function xl(){return new kl}function kl(){this.reset()}bl({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),kl.prototype={constructor:kl,reset:function(){this.s=this.t=0},add:function(e){Dl(Sl,e,this.t),Dl(this,Sl.s,this.s),this.s?this.t+=Sl.t:this.s=Sl.t},valueOf:function(){return this.s}};var Sl=new kl;function Dl(e,t,n){var i=e.s=t+n,r=i-t,o=i-r;e.t=t-o+(n-r)}var El=1e-6,Ll=1e-12,Tl=Math.PI,Nl=Tl/2,Ml=Tl/4,Al=2*Tl,Il=180/Tl,Ol=Tl/180,Fl=Math.abs,Rl=Math.atan,Pl=Math.atan2,Bl=Math.cos,jl=Math.ceil,zl=Math.exp,Vl=Math.log,Wl=Math.pow,Hl=Math.sin,Ul=Math.sign||function(e){return e>0?1:e<0?-1:0},$l=Math.sqrt,ql=Math.tan;function Kl(e){return e>1?0:e<-1?Tl:Math.acos(e)}function Yl(e){return e>1?Nl:e<-1?-Nl:Math.asin(e)}function Gl(e){return(e=Hl(e/2))*e}function Xl(){}function Zl(e,t){e&&Ql.hasOwnProperty(e.type)&&Ql[e.type](e,t)}var Jl={Feature:function(e,t){Zl(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)Zl(n[i].geometry,t)}},Ql={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){ec(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)ec(n[i],t,0)},Polygon:function(e,t){tc(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)tc(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)Zl(n[i],t)}};function ec(e,t,n){var i,r=-1,o=e.length-n;for(t.lineStart();++r<o;)i=e[r],t.point(i[0],i[1],i[2]);t.lineEnd()}function tc(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)ec(e[n],t,1);t.polygonEnd()}function nc(e,t){e&&Jl.hasOwnProperty(e.type)?Jl[e.type](e,t):Zl(e,t)}var ic,rc,oc,sc,ac,lc=xl(),cc=xl(),uc={point:Xl,lineStart:Xl,lineEnd:Xl,polygonStart:function(){lc.reset(),uc.lineStart=hc,uc.lineEnd=dc},polygonEnd:function(){var e=+lc;cc.add(e<0?Al+e:e),this.lineStart=this.lineEnd=this.point=Xl},sphere:function(){cc.add(Al)}};function hc(){uc.point=fc}function dc(){pc(ic,rc)}function fc(e,t){uc.point=pc,ic=e,rc=t,oc=e*=Ol,sc=Bl(t=(t*=Ol)/2+Ml),ac=Hl(t)}function pc(e,t){var n=(e*=Ol)-oc,i=n>=0?1:-1,r=i*n,o=Bl(t=(t*=Ol)/2+Ml),s=Hl(t),a=ac*s,l=sc*o+a*Bl(r),c=a*i*Hl(r);lc.add(Pl(c,l)),oc=e,sc=o,ac=s}function gc(e){return cc.reset(),nc(e,uc),2*cc}function mc(e){return[Pl(e[1],e[0]),Yl(e[2])]}function vc(e){var t=e[0],n=e[1],i=Bl(n);return[i*Bl(t),i*Hl(t),Hl(n)]}function yc(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function bc(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function _c(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function wc(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Cc(e){var t=$l(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var xc,kc,Sc,Dc,Ec,Lc,Tc,Nc,Mc,Ac,Ic,Oc,Fc,Rc,Pc,Bc,jc,zc,Vc,Wc,Hc,Uc,$c,qc,Kc,Yc,Gc=xl(),Xc={point:Zc,lineStart:Qc,lineEnd:eu,polygonStart:function(){Xc.point=tu,Xc.lineStart=nu,Xc.lineEnd=iu,Gc.reset(),uc.polygonStart()},polygonEnd:function(){uc.polygonEnd(),Xc.point=Zc,Xc.lineStart=Qc,Xc.lineEnd=eu,lc<0?(xc=-(Sc=180),kc=-(Dc=90)):Gc>El?Dc=90:Gc<-1e-6&&(kc=-90),Ac[0]=xc,Ac[1]=Sc},sphere:function(){xc=-(Sc=180),kc=-(Dc=90)}};function Zc(e,t){Mc.push(Ac=[xc=e,Sc=e]),t<kc&&(kc=t),t>Dc&&(Dc=t)}function Jc(e,t){var n=vc([e*Ol,t*Ol]);if(Nc){var i=bc(Nc,n),r=bc([i[1],-i[0],0],i);Cc(r),r=mc(r);var o,s=e-Ec,a=s>0?1:-1,l=r[0]*Il*a,c=Fl(s)>180;c^(a*Ec<l&&l<a*e)?(o=r[1]*Il)>Dc&&(Dc=o):c^(a*Ec<(l=(l+360)%360-180)&&l<a*e)?(o=-r[1]*Il)<kc&&(kc=o):(t<kc&&(kc=t),t>Dc&&(Dc=t)),c?e<Ec?ru(xc,e)>ru(xc,Sc)&&(Sc=e):ru(e,Sc)>ru(xc,Sc)&&(xc=e):Sc>=xc?(e<xc&&(xc=e),e>Sc&&(Sc=e)):e>Ec?ru(xc,e)>ru(xc,Sc)&&(Sc=e):ru(e,Sc)>ru(xc,Sc)&&(xc=e)}else Mc.push(Ac=[xc=e,Sc=e]);t<kc&&(kc=t),t>Dc&&(Dc=t),Nc=n,Ec=e}function Qc(){Xc.point=Jc}function eu(){Ac[0]=xc,Ac[1]=Sc,Xc.point=Zc,Nc=null}function tu(e,t){if(Nc){var n=e-Ec;Gc.add(Fl(n)>180?n+(n>0?360:-360):n)}else Lc=e,Tc=t;uc.point(e,t),Jc(e,t)}function nu(){uc.lineStart()}function iu(){tu(Lc,Tc),uc.lineEnd(),Fl(Gc)>El&&(xc=-(Sc=180)),Ac[0]=xc,Ac[1]=Sc,Nc=null}function ru(e,t){return(t-=e)<0?t+360:t}function ou(e,t){return e[0]-t[0]}function su(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function au(e){var t,n,i,r,o,s,a;if(Dc=Sc=-(xc=kc=1/0),Mc=[],nc(e,Xc),n=Mc.length){for(Mc.sort(ou),t=1,o=[i=Mc[0]];t<n;++t)su(i,(r=Mc[t])[0])||su(i,r[1])?(ru(i[0],r[1])>ru(i[0],i[1])&&(i[1]=r[1]),ru(r[0],i[1])>ru(i[0],i[1])&&(i[0]=r[0])):o.push(i=r);for(s=-1/0,t=0,i=o[n=o.length-1];t<=n;i=r,++t)r=o[t],(a=ru(i[1],r[0]))>s&&(s=a,xc=r[0],Sc=i[1])}return Mc=Ac=null,xc===1/0||kc===1/0?[[NaN,NaN],[NaN,NaN]]:[[xc,kc],[Sc,Dc]]}var lu={sphere:Xl,point:cu,lineStart:hu,lineEnd:pu,polygonStart:function(){lu.lineStart=gu,lu.lineEnd=mu},polygonEnd:function(){lu.lineStart=hu,lu.lineEnd=pu}};function cu(e,t){e*=Ol;var n=Bl(t*=Ol);uu(n*Bl(e),n*Hl(e),Hl(t))}function uu(e,t,n){++Ic,Fc+=(e-Fc)/Ic,Rc+=(t-Rc)/Ic,Pc+=(n-Pc)/Ic}function hu(){lu.point=du}function du(e,t){e*=Ol;var n=Bl(t*=Ol);qc=n*Bl(e),Kc=n*Hl(e),Yc=Hl(t),lu.point=fu,uu(qc,Kc,Yc)}function fu(e,t){e*=Ol;var n=Bl(t*=Ol),i=n*Bl(e),r=n*Hl(e),o=Hl(t),s=Pl($l((s=Kc*o-Yc*r)*s+(s=Yc*i-qc*o)*s+(s=qc*r-Kc*i)*s),qc*i+Kc*r+Yc*o);Oc+=s,Bc+=s*(qc+(qc=i)),jc+=s*(Kc+(Kc=r)),zc+=s*(Yc+(Yc=o)),uu(qc,Kc,Yc)}function pu(){lu.point=cu}function gu(){lu.point=vu}function mu(){yu(Uc,$c),lu.point=cu}function vu(e,t){Uc=e,$c=t,e*=Ol,t*=Ol,lu.point=yu;var n=Bl(t);qc=n*Bl(e),Kc=n*Hl(e),Yc=Hl(t),uu(qc,Kc,Yc)}function yu(e,t){e*=Ol;var n=Bl(t*=Ol),i=n*Bl(e),r=n*Hl(e),o=Hl(t),s=Kc*o-Yc*r,a=Yc*i-qc*o,l=qc*r-Kc*i,c=$l(s*s+a*a+l*l),u=Yl(c),h=c&&-u/c;Vc+=h*s,Wc+=h*a,Hc+=h*l,Oc+=u,Bc+=u*(qc+(qc=i)),jc+=u*(Kc+(Kc=r)),zc+=u*(Yc+(Yc=o)),uu(qc,Kc,Yc)}function bu(e){Ic=Oc=Fc=Rc=Pc=Bc=jc=zc=Vc=Wc=Hc=0,nc(e,lu);var t=Vc,n=Wc,i=Hc,r=t*t+n*n+i*i;return r<Ll&&(t=Bc,n=jc,i=zc,Oc<El&&(t=Fc,n=Rc,i=Pc),(r=t*t+n*n+i*i)<Ll)?[NaN,NaN]:[Pl(n,t)*Il,Yl(i/$l(r))*Il]}function _u(e){return function(){return e}}function wu(e,t){function n(n,i){return n=e(n,i),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,i){return(n=t.invert(n,i))&&e.invert(n[0],n[1])}),n}function Cu(e,t){return[Fl(e)>Tl?e+Math.round(-e/Al)*Al:e,t]}function xu(e,t,n){return(e%=Al)?t||n?wu(Su(e),Du(t,n)):Su(e):t||n?Du(t,n):Cu}function ku(e){return function(t,n){return[(t+=e)>Tl?t-Al:t<-Tl?t+Al:t,n]}}function Su(e){var t=ku(e);return t.invert=ku(-e),t}function Du(e,t){var n=Bl(e),i=Hl(e),r=Bl(t),o=Hl(t);function s(e,t){var s=Bl(t),a=Bl(e)*s,l=Hl(e)*s,c=Hl(t),u=c*n+a*i;return[Pl(l*r-u*o,a*n-c*i),Yl(u*r+l*o)]}return s.invert=function(e,t){var s=Bl(t),a=Bl(e)*s,l=Hl(e)*s,c=Hl(t),u=c*r-l*o;return[Pl(l*r+c*o,a*n+u*i),Yl(u*n-a*i)]},s}function Eu(e){function t(t){return(t=e(t[0]*Ol,t[1]*Ol))[0]*=Il,t[1]*=Il,t}return e=xu(e[0]*Ol,e[1]*Ol,e.length>2?e[2]*Ol:0),t.invert=function(t){return(t=e.invert(t[0]*Ol,t[1]*Ol))[0]*=Il,t[1]*=Il,t},t}function Lu(e,t,n,i,r,o){if(n){var s=Bl(t),a=Hl(t),l=i*n;null==r?(r=t+i*Al,o=t-l/2):(r=Tu(s,r),o=Tu(s,o),(i>0?r<o:r>o)&&(r+=i*Al));for(var c,u=r;i>0?u>o:u<o;u-=l)c=mc([s,-a*Bl(u),-a*Hl(u)]),e.point(c[0],c[1])}}function Tu(e,t){(t=vc(t))[0]-=e,Cc(t);var n=Kl(-t[1]);return((-t[2]<0?-n:n)+Al-El)%Al}function Nu(){var e,t,n=_u([0,0]),i=_u(90),r=_u(6),o={point:function(n,i){e.push(n=t(n,i)),n[0]*=Il,n[1]*=Il}};function s(){var s=n.apply(this,arguments),a=i.apply(this,arguments)*Ol,l=r.apply(this,arguments)*Ol;return e=[],t=xu(-s[0]*Ol,-s[1]*Ol,0).invert,Lu(o,a,l,1),s={type:"Polygon",coordinates:[e]},e=t=null,s}return s.center=function(e){return arguments.length?(n="function"==typeof e?e:_u([+e[0],+e[1]]),s):n},s.radius=function(e){return arguments.length?(i="function"==typeof e?e:_u(+e),s):i},s.precision=function(e){return arguments.length?(r="function"==typeof e?e:_u(+e),s):r},s}function Mu(){var e,t=[];return{point:function(t,n,i){e.push([t,n,i])},lineStart:function(){t.push(e=[])},lineEnd:Xl,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Au(e,t){return Fl(e[0]-t[0])<El&&Fl(e[1]-t[1])<El}function Iu(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Ou(e,t,n,i,r){var o,s,a=[],l=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,i=e[0],s=e[t];if(Au(i,s)){if(!i[2]&&!s[2]){for(r.lineStart(),o=0;o<t;++o)r.point((i=e[o])[0],i[1]);return void r.lineEnd()}s[0]+=2e-6}a.push(n=new Iu(i,e,null,!0)),l.push(n.o=new Iu(i,null,n,!1)),a.push(n=new Iu(s,e,null,!1)),l.push(n.o=new Iu(s,null,n,!0))}})),a.length){for(l.sort(t),Fu(a),Fu(l),o=0,s=l.length;o<s;++o)l[o].e=n=!n;for(var c,u,h=a[0];;){for(var d=h,f=!0;d.v;)if((d=d.n)===h)return;c=d.z,r.lineStart();do{if(d.v=d.o.v=!0,d.e){if(f)for(o=0,s=c.length;o<s;++o)r.point((u=c[o])[0],u[1]);else i(d.x,d.n.x,1,r);d=d.n}else{if(f)for(c=d.p.z,o=c.length-1;o>=0;--o)r.point((u=c[o])[0],u[1]);else i(d.x,d.p.x,-1,r);d=d.p}c=(d=d.o).z,f=!f}while(!d.v);r.lineEnd()}}}function Fu(e){if(t=e.length){for(var t,n,i=0,r=e[0];++i<t;)r.n=n=e[i],n.p=r,r=n;r.n=n=e[0],n.p=r}}Cu.invert=Cu;var Ru=xl();function Pu(e){return Fl(e[0])<=Tl?e[0]:Ul(e[0])*((Fl(e[0])+Tl)%Al-Tl)}function Bu(e,t){var n=Pu(t),i=t[1],r=Hl(i),o=[Hl(n),-Bl(n),0],s=0,a=0;Ru.reset(),1===r?i=Nl+El:-1===r&&(i=-Nl-El);for(var l=0,c=e.length;l<c;++l)if(h=(u=e[l]).length)for(var u,h,d=u[h-1],f=Pu(d),p=d[1]/2+Ml,g=Hl(p),m=Bl(p),v=0;v<h;++v,f=b,g=w,m=C,d=y){var y=u[v],b=Pu(y),_=y[1]/2+Ml,w=Hl(_),C=Bl(_),x=b-f,k=x>=0?1:-1,S=k*x,D=S>Tl,E=g*w;if(Ru.add(Pl(E*k*Hl(S),m*C+E*Bl(S))),s+=D?x+k*Al:x,D^f>=n^b>=n){var L=bc(vc(d),vc(y));Cc(L);var T=bc(o,L);Cc(T);var N=(D^x>=0?-1:1)*Yl(T[2]);(i>N||i===N&&(L[0]||L[1]))&&(a+=D^x>=0?1:-1)}}return(s<-1e-6||s<El&&Ru<-1e-6)^1&a}function ju(e,t,n,i){return function(r){var o,s,a,l=t(r),c=Mu(),u=t(c),h=!1,d={point:f,lineStart:g,lineEnd:m,polygonStart:function(){d.point=v,d.lineStart=y,d.lineEnd=b,s=[],o=[]},polygonEnd:function(){d.point=f,d.lineStart=g,d.lineEnd=m,s=B(s);var e=Bu(o,i);s.length?(h||(r.polygonStart(),h=!0),Ou(s,Vu,e,n,r)):e&&(h||(r.polygonStart(),h=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),h&&(r.polygonEnd(),h=!1),s=o=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function f(t,n){e(t,n)&&r.point(t,n)}function p(e,t){l.point(e,t)}function g(){d.point=p,l.lineStart()}function m(){d.point=f,l.lineEnd()}function v(e,t){a.push([e,t]),u.point(e,t)}function y(){u.lineStart(),a=[]}function b(){v(a[0][0],a[0][1]),u.lineEnd();var e,t,n,i,l=u.clean(),d=c.result(),f=d.length;if(a.pop(),o.push(a),a=null,f)if(1&l){if((t=(n=d[0]).length-1)>0){for(h||(r.polygonStart(),h=!0),r.lineStart(),e=0;e<t;++e)r.point((i=n[e])[0],i[1]);r.lineEnd()}}else f>1&&2&l&&d.push(d.pop().concat(d.shift())),s.push(d.filter(zu))}return d}}function zu(e){return e.length>1}function Vu(e,t){return((e=e.x)[0]<0?e[1]-Nl-El:Nl-e[1])-((t=t.x)[0]<0?t[1]-Nl-El:Nl-t[1])}const Wu=ju((function(){return!0}),(function(e){var t,n=NaN,i=NaN,r=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,s){var a,l,c,u,h,d,f,p=o>0?Tl:-Tl,g=Fl(o-n);Fl(g-Tl)<El?(e.point(n,i=(i+s)/2>0?Nl:-Nl),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(p,i),e.point(o,i),t=0):r!==p&&g>=Tl&&(Fl(n-r)<El&&(n-=r*El),Fl(o-p)<El&&(o-=p*El),l=i,u=s,f=Hl((a=n)-(c=o)),i=Fl(f)>El?Rl((Hl(l)*(d=Bl(u))*Hl(c)-Hl(u)*(h=Bl(l))*Hl(a))/(h*d*f)):(l+u)/2,e.point(r,i),e.lineEnd(),e.lineStart(),e.point(p,i),t=0),e.point(n=o,i=s),r=p},lineEnd:function(){e.lineEnd(),n=i=NaN},clean:function(){return 2-t}}}),(function(e,t,n,i){var r;if(null==e)r=n*Nl,i.point(-Tl,r),i.point(0,r),i.point(Tl,r),i.point(Tl,0),i.point(Tl,-r),i.point(0,-r),i.point(-Tl,-r),i.point(-Tl,0),i.point(-Tl,r);else if(Fl(e[0]-t[0])>El){var o=e[0]<t[0]?Tl:-Tl;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(t[0],t[1])}),[-Tl,-Nl]);function Hu(e){var t=Bl(e),n=6*Ol,i=t>0,r=Fl(t)>El;function o(e,n){return Bl(e)*Bl(n)>t}function s(e,n,i){var r=[1,0,0],o=bc(vc(e),vc(n)),s=yc(o,o),a=o[0],l=s-a*a;if(!l)return!i&&e;var c=t*s/l,u=-t*a/l,h=bc(r,o),d=wc(r,c);_c(d,wc(o,u));var f=h,p=yc(d,f),g=yc(f,f),m=p*p-g*(yc(d,d)-1);if(!(m<0)){var v=$l(m),y=wc(f,(-p-v)/g);if(_c(y,d),y=mc(y),!i)return y;var b,_=e[0],w=n[0],C=e[1],x=n[1];w<_&&(b=_,_=w,w=b);var k=w-_,S=Fl(k-Tl)<El;if(!S&&x<C&&(b=C,C=x,x=b),S||k<El?S?C+x>0^y[1]<(Fl(y[0]-_)<El?C:x):C<=y[1]&&y[1]<=x:k>Tl^(_<=y[0]&&y[0]<=w)){var D=wc(f,(-p+v)/g);return _c(D,d),[y,mc(D)]}}}function a(t,n){var r=i?e:Tl-e,o=0;return t<-r?o|=1:t>r&&(o|=2),n<-r?o|=4:n>r&&(o|=8),o}return ju(o,(function(e){var t,n,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(h,d){var f,p=[h,d],g=o(h,d),m=i?g?0:a(h,d):g?a(h+(h<0?Tl:-Tl),d):0;if(!t&&(c=l=g)&&e.lineStart(),g!==l&&(!(f=s(t,p))||Au(t,f)||Au(p,f))&&(p[2]=1),g!==l)u=0,g?(e.lineStart(),f=s(p,t),e.point(f[0],f[1])):(f=s(t,p),e.point(f[0],f[1],2),e.lineEnd()),t=f;else if(r&&t&&i^g){var v;m&n||!(v=s(p,t,!0))||(u=0,i?(e.lineStart(),e.point(v[0][0],v[0][1]),e.point(v[1][0],v[1][1]),e.lineEnd()):(e.point(v[1][0],v[1][1]),e.lineEnd(),e.lineStart(),e.point(v[0][0],v[0][1],3)))}!g||t&&Au(t,p)||e.point(p[0],p[1]),t=p,l=g,n=m},lineEnd:function(){l&&e.lineEnd(),t=null},clean:function(){return u|(c&&l)<<1}}}),(function(t,i,r,o){Lu(o,e,n,r,t,i)}),i?[0,-e]:[-Tl,e-Tl])}var Uu=1e9,$u=-Uu;function qu(e,t,n,i){function r(r,o){return e<=r&&r<=n&&t<=o&&o<=i}function o(r,o,a,c){var u=0,h=0;if(null==r||(u=s(r,a))!==(h=s(o,a))||l(r,o)<0^a>0)do{c.point(0===u||3===u?e:n,u>1?i:t)}while((u=(u+a+4)%4)!==h);else c.point(o[0],o[1])}function s(i,r){return Fl(i[0]-e)<El?r>0?0:3:Fl(i[0]-n)<El?r>0?2:1:Fl(i[1]-t)<El?r>0?1:0:r>0?3:2}function a(e,t){return l(e.x,t.x)}function l(e,t){var n=s(e,1),i=s(t,1);return n!==i?n-i:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(s){var l,c,u,h,d,f,p,g,m,v,y,b=s,_=Mu(),w={point:C,lineStart:function(){w.point=x,c&&c.push(u=[]),v=!0,m=!1,p=g=NaN},lineEnd:function(){l&&(x(h,d),f&&m&&_.rejoin(),l.push(_.result())),w.point=C,m&&b.lineEnd()},polygonStart:function(){b=_,l=[],c=[],y=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,r=c.length;n<r;++n)for(var o,s,a=c[n],l=1,u=a.length,h=a[0],d=h[0],f=h[1];l<u;++l)o=d,s=f,d=(h=a[l])[0],f=h[1],s<=i?f>i&&(d-o)*(i-s)>(f-s)*(e-o)&&++t:f<=i&&(d-o)*(i-s)<(f-s)*(e-o)&&--t;return t}(),n=y&&t,r=(l=B(l)).length;(n||r)&&(s.polygonStart(),n&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),r&&Ou(l,a,t,o,s),s.polygonEnd()),b=s,l=c=u=null}};function C(e,t){r(e,t)&&b.point(e,t)}function x(o,s){var a=r(o,s);if(c&&u.push([o,s]),v)h=o,d=s,f=a,v=!1,a&&(b.lineStart(),b.point(o,s));else if(a&&m)b.point(o,s);else{var l=[p=Math.max($u,Math.min(Uu,p)),g=Math.max($u,Math.min(Uu,g))],_=[o=Math.max($u,Math.min(Uu,o)),s=Math.max($u,Math.min(Uu,s))];!function(e,t,n,i,r,o){var s,a=e[0],l=e[1],c=0,u=1,h=t[0]-a,d=t[1]-l;if(s=n-a,h||!(s>0)){if(s/=h,h<0){if(s<c)return;s<u&&(u=s)}else if(h>0){if(s>u)return;s>c&&(c=s)}if(s=r-a,h||!(s<0)){if(s/=h,h<0){if(s>u)return;s>c&&(c=s)}else if(h>0){if(s<c)return;s<u&&(u=s)}if(s=i-l,d||!(s>0)){if(s/=d,d<0){if(s<c)return;s<u&&(u=s)}else if(d>0){if(s>u)return;s>c&&(c=s)}if(s=o-l,d||!(s<0)){if(s/=d,d<0){if(s>u)return;s>c&&(c=s)}else if(d>0){if(s<c)return;s<u&&(u=s)}return c>0&&(e[0]=a+c*h,e[1]=l+c*d),u<1&&(t[0]=a+u*h,t[1]=l+u*d),!0}}}}}(l,_,e,t,n,i)?a&&(b.lineStart(),b.point(o,s),y=!1):(m||(b.lineStart(),b.point(l[0],l[1])),b.point(_[0],_[1]),a||b.lineEnd(),y=!1)}p=o,g=s,m=a}return w}}function Ku(){var e,t,n,i=0,r=0,o=960,s=500;return n={stream:function(n){return e&&t===n?e:e=qu(i,r,o,s)(t=n)},extent:function(a){return arguments.length?(i=+a[0][0],r=+a[0][1],o=+a[1][0],s=+a[1][1],e=t=null,n):[[i,r],[o,s]]}}}var Yu,Gu,Xu,Zu=xl(),Ju={sphere:Xl,point:Xl,lineStart:function(){Ju.point=eh,Ju.lineEnd=Qu},lineEnd:Xl,polygonStart:Xl,polygonEnd:Xl};function Qu(){Ju.point=Ju.lineEnd=Xl}function eh(e,t){Yu=e*=Ol,Gu=Hl(t*=Ol),Xu=Bl(t),Ju.point=th}function th(e,t){e*=Ol;var n=Hl(t*=Ol),i=Bl(t),r=Fl(e-Yu),o=Bl(r),s=i*Hl(r),a=Xu*n-Gu*i*o,l=Gu*n+Xu*i*o;Zu.add(Pl($l(s*s+a*a),l)),Yu=e,Gu=n,Xu=i}function nh(e){return Zu.reset(),nc(e,Ju),+Zu}var ih=[null,null],rh={type:"LineString",coordinates:ih};function oh(e,t){return ih[0]=e,ih[1]=t,nh(rh)}var sh={Feature:function(e,t){return lh(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)if(lh(n[i].geometry,t))return!0;return!1}},ah={Sphere:function(){return!0},Point:function(e,t){return ch(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)if(ch(n[i],t))return!0;return!1},LineString:function(e,t){return uh(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)if(uh(n[i],t))return!0;return!1},Polygon:function(e,t){return hh(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)if(hh(n[i],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)if(lh(n[i],t))return!0;return!1}};function lh(e,t){return!(!e||!ah.hasOwnProperty(e.type))&&ah[e.type](e,t)}function ch(e,t){return 0===oh(e,t)}function uh(e,t){for(var n,i,r,o=0,s=e.length;o<s;o++){if(0===(i=oh(e[o],t)))return!0;if(o>0&&(r=oh(e[o],e[o-1]))>0&&n<=r&&i<=r&&(n+i-r)*(1-Math.pow((n-i)/r,2))<Ll*r)return!0;n=i}return!1}function hh(e,t){return!!Bu(e.map(dh),fh(t))}function dh(e){return(e=e.map(fh)).pop(),e}function fh(e){return[e[0]*Ol,e[1]*Ol]}function ph(e,t){return(e&&sh.hasOwnProperty(e.type)?sh[e.type]:lh)(e,t)}function gh(e,t,n){var i=x(e,t-El,n).concat(t);return function(e){return i.map((function(t){return[e,t]}))}}function mh(e,t,n){var i=x(e,t-El,n).concat(t);return function(e){return i.map((function(t){return[t,e]}))}}function vh(){var e,t,n,i,r,o,s,a,l,c,u,h,d=10,f=d,p=90,g=360,m=2.5;function v(){return{type:"MultiLineString",coordinates:y()}}function y(){return x(jl(i/p)*p,n,p).map(u).concat(x(jl(a/g)*g,s,g).map(h)).concat(x(jl(t/d)*d,e,d).filter((function(e){return Fl(e%p)>El})).map(l)).concat(x(jl(o/f)*f,r,f).filter((function(e){return Fl(e%g)>El})).map(c))}return v.lines=function(){return y().map((function(e){return{type:"LineString",coordinates:e}}))},v.outline=function(){return{type:"Polygon",coordinates:[u(i).concat(h(s).slice(1),u(n).reverse().slice(1),h(a).reverse().slice(1))]}},v.extent=function(e){return arguments.length?v.extentMajor(e).extentMinor(e):v.extentMinor()},v.extentMajor=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],a=+e[0][1],s=+e[1][1],i>n&&(e=i,i=n,n=e),a>s&&(e=a,a=s,s=e),v.precision(m)):[[i,a],[n,s]]},v.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],o=+n[0][1],r=+n[1][1],t>e&&(n=t,t=e,e=n),o>r&&(n=o,o=r,r=n),v.precision(m)):[[t,o],[e,r]]},v.step=function(e){return arguments.length?v.stepMajor(e).stepMinor(e):v.stepMinor()},v.stepMajor=function(e){return arguments.length?(p=+e[0],g=+e[1],v):[p,g]},v.stepMinor=function(e){return arguments.length?(d=+e[0],f=+e[1],v):[d,f]},v.precision=function(d){return arguments.length?(m=+d,l=gh(o,r,90),c=mh(t,e,m),u=gh(a,s,90),h=mh(i,n,m),v):m},v.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function yh(){return vh()()}function bh(e,t){var n=e[0]*Ol,i=e[1]*Ol,r=t[0]*Ol,o=t[1]*Ol,s=Bl(i),a=Hl(i),l=Bl(o),c=Hl(o),u=s*Bl(n),h=s*Hl(n),d=l*Bl(r),f=l*Hl(r),p=2*Yl($l(Gl(o-i)+s*l*Gl(r-n))),g=Hl(p),m=p?function(e){var t=Hl(e*=p)/g,n=Hl(p-e)/g,i=n*u+t*d,r=n*h+t*f,o=n*a+t*c;return[Pl(r,i)*Il,Pl(o,$l(i*i+r*r))*Il]}:function(){return[n*Il,i*Il]};return m.distance=p,m}function _h(e){return e}var wh,Ch,xh,kh,Sh=xl(),Dh=xl(),Eh={point:Xl,lineStart:Xl,lineEnd:Xl,polygonStart:function(){Eh.lineStart=Lh,Eh.lineEnd=Mh},polygonEnd:function(){Eh.lineStart=Eh.lineEnd=Eh.point=Xl,Sh.add(Fl(Dh)),Dh.reset()},result:function(){var e=Sh/2;return Sh.reset(),e}};function Lh(){Eh.point=Th}function Th(e,t){Eh.point=Nh,wh=xh=e,Ch=kh=t}function Nh(e,t){Dh.add(kh*e-xh*t),xh=e,kh=t}function Mh(){Nh(wh,Ch)}const Ah=Eh;var Ih=1/0,Oh=Ih,Fh=-Ih,Rh=Fh;const Ph={point:function(e,t){e<Ih&&(Ih=e),e>Fh&&(Fh=e),t<Oh&&(Oh=t),t>Rh&&(Rh=t)},lineStart:Xl,lineEnd:Xl,polygonStart:Xl,polygonEnd:Xl,result:function(){var e=[[Ih,Oh],[Fh,Rh]];return Fh=Rh=-(Oh=Ih=1/0),e}};var Bh,jh,zh,Vh,Wh=0,Hh=0,Uh=0,$h=0,qh=0,Kh=0,Yh=0,Gh=0,Xh=0,Zh={point:Jh,lineStart:Qh,lineEnd:nd,polygonStart:function(){Zh.lineStart=id,Zh.lineEnd=rd},polygonEnd:function(){Zh.point=Jh,Zh.lineStart=Qh,Zh.lineEnd=nd},result:function(){var e=Xh?[Yh/Xh,Gh/Xh]:Kh?[$h/Kh,qh/Kh]:Uh?[Wh/Uh,Hh/Uh]:[NaN,NaN];return Wh=Hh=Uh=$h=qh=Kh=Yh=Gh=Xh=0,e}};function Jh(e,t){Wh+=e,Hh+=t,++Uh}function Qh(){Zh.point=ed}function ed(e,t){Zh.point=td,Jh(zh=e,Vh=t)}function td(e,t){var n=e-zh,i=t-Vh,r=$l(n*n+i*i);$h+=r*(zh+e)/2,qh+=r*(Vh+t)/2,Kh+=r,Jh(zh=e,Vh=t)}function nd(){Zh.point=Jh}function id(){Zh.point=od}function rd(){sd(Bh,jh)}function od(e,t){Zh.point=sd,Jh(Bh=zh=e,jh=Vh=t)}function sd(e,t){var n=e-zh,i=t-Vh,r=$l(n*n+i*i);$h+=r*(zh+e)/2,qh+=r*(Vh+t)/2,Kh+=r,Yh+=(r=Vh*e-zh*t)*(zh+e),Gh+=r*(Vh+t),Xh+=3*r,Jh(zh=e,Vh=t)}const ad=Zh;function ld(e){this._context=e}ld.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Al)}},result:Xl};var cd,ud,hd,dd,fd,pd=xl(),gd={point:Xl,lineStart:function(){gd.point=md},lineEnd:function(){cd&&vd(ud,hd),gd.point=Xl},polygonStart:function(){cd=!0},polygonEnd:function(){cd=null},result:function(){var e=+pd;return pd.reset(),e}};function md(e,t){gd.point=vd,ud=dd=e,hd=fd=t}function vd(e,t){dd-=e,fd-=t,pd.add($l(dd*dd+fd*fd)),dd=e,fd=t}const yd=gd;function bd(){this._string=[]}function _d(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function wd(e,t){var n,i,r=4.5;function o(e){return e&&("function"==typeof r&&i.pointRadius(+r.apply(this,arguments)),nc(e,n(i))),i.result()}return o.area=function(e){return nc(e,n(Ah)),Ah.result()},o.measure=function(e){return nc(e,n(yd)),yd.result()},o.bounds=function(e){return nc(e,n(Ph)),Ph.result()},o.centroid=function(e){return nc(e,n(ad)),ad.result()},o.projection=function(t){return arguments.length?(n=null==t?(e=null,_h):(e=t).stream,o):e},o.context=function(e){return arguments.length?(i=null==e?(t=null,new bd):new ld(t=e),"function"!=typeof r&&i.pointRadius(r),o):t},o.pointRadius=function(e){return arguments.length?(r="function"==typeof e?e:(i.pointRadius(+e),+e),o):r},o.projection(e).context(t)}function Cd(e){return{stream:xd(e)}}function xd(e){return function(t){var n=new kd;for(var i in e)n[i]=e[i];return n.stream=t,n}}function kd(){}function Sd(e,t,n){var i=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=i&&e.clipExtent(null),nc(n,e.stream(Ph)),t(Ph.result()),null!=i&&e.clipExtent(i),e}function Dd(e,t,n){return Sd(e,(function(n){var i=t[1][0]-t[0][0],r=t[1][1]-t[0][1],o=Math.min(i/(n[1][0]-n[0][0]),r/(n[1][1]-n[0][1])),s=+t[0][0]+(i-o*(n[1][0]+n[0][0]))/2,a=+t[0][1]+(r-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([s,a])}),n)}function Ed(e,t,n){return Dd(e,[[0,0],t],n)}function Ld(e,t,n){return Sd(e,(function(n){var i=+t,r=i/(n[1][0]-n[0][0]),o=(i-r*(n[1][0]+n[0][0]))/2,s=-r*n[0][1];e.scale(150*r).translate([o,s])}),n)}function Td(e,t,n){return Sd(e,(function(n){var i=+t,r=i/(n[1][1]-n[0][1]),o=-r*n[0][0],s=(i-r*(n[1][1]+n[0][1]))/2;e.scale(150*r).translate([o,s])}),n)}bd.prototype={_radius:4.5,_circle:_d(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=_d(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}},kd.prototype={constructor:kd,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Nd=Bl(30*Ol);function Md(e,t){return+t?function(e,t){function n(i,r,o,s,a,l,c,u,h,d,f,p,g,m){var v=c-i,y=u-r,b=v*v+y*y;if(b>4*t&&g--){var _=s+d,w=a+f,C=l+p,x=$l(_*_+w*w+C*C),k=Yl(C/=x),S=Fl(Fl(C)-1)<El||Fl(o-h)<El?(o+h)/2:Pl(w,_),D=e(S,k),E=D[0],L=D[1],T=E-i,N=L-r,M=y*T-v*N;(M*M/b>t||Fl((v*T+y*N)/b-.5)>.3||s*d+a*f+l*p<Nd)&&(n(i,r,o,s,a,l,E,L,S,_/=x,w/=x,C,g,m),m.point(E,L),n(E,L,S,_,w,C,c,u,h,d,f,p,g,m))}}return function(t){var i,r,o,s,a,l,c,u,h,d,f,p,g={point:m,lineStart:v,lineEnd:b,polygonStart:function(){t.polygonStart(),g.lineStart=_},polygonEnd:function(){t.polygonEnd(),g.lineStart=v}};function m(n,i){n=e(n,i),t.point(n[0],n[1])}function v(){u=NaN,g.point=y,t.lineStart()}function y(i,r){var o=vc([i,r]),s=e(i,r);n(u,h,c,d,f,p,u=s[0],h=s[1],c=i,d=o[0],f=o[1],p=o[2],16,t),t.point(u,h)}function b(){g.point=m,t.lineEnd()}function _(){v(),g.point=w,g.lineEnd=C}function w(e,t){y(i=e,t),r=u,o=h,s=d,a=f,l=p,g.point=y}function C(){n(u,h,c,d,f,p,r,o,i,s,a,l,16,t),g.lineEnd=b,b()}return g}}(e,t):(n=e,xd({point:function(e,t){e=n(e,t),this.stream.point(e[0],e[1])}}));var n}var Ad=xd({point:function(e,t){this.stream.point(e*Ol,t*Ol)}});function Id(e,t,n,i,r){function o(o,s){return[t+e*(o*=i),n-e*(s*=r)]}return o.invert=function(o,s){return[(o-t)/e*i,(n-s)/e*r]},o}function Od(e,t,n,i,r,o){var s=Bl(o),a=Hl(o),l=s*e,c=a*e,u=s/e,h=a/e,d=(a*n-s*t)/e,f=(a*t+s*n)/e;function p(e,o){return[l*(e*=i)-c*(o*=r)+t,n-c*e-l*o]}return p.invert=function(e,t){return[i*(u*e-h*t+d),r*(f-h*e-u*t)]},p}function Fd(e){return Rd((function(){return e}))()}function Rd(e){var t,n,i,r,o,s,a,l,c,u,h=150,d=480,f=250,p=0,g=0,m=0,v=0,y=0,b=0,_=1,w=1,C=null,x=Wu,k=null,S=_h,D=.5;function E(e){return l(e[0]*Ol,e[1]*Ol)}function L(e){return(e=l.invert(e[0],e[1]))&&[e[0]*Il,e[1]*Il]}function T(){var e=Od(h,0,0,_,w,b).apply(null,t(p,g)),i=(b?Od:Id)(h,d-e[0],f-e[1],_,w,b);return n=xu(m,v,y),a=wu(t,i),l=wu(n,a),s=Md(a,D),N()}function N(){return c=u=null,E}return E.stream=function(e){return c&&u===e?c:c=Ad((t=n,xd({point:function(e,n){var i=t(e,n);return this.stream.point(i[0],i[1])}}))(x(s(S(u=e)))));var t},E.preclip=function(e){return arguments.length?(x=e,C=void 0,N()):x},E.postclip=function(e){return arguments.length?(S=e,k=i=r=o=null,N()):S},E.clipAngle=function(e){return arguments.length?(x=+e?Hu(C=e*Ol):(C=null,Wu),N()):C*Il},E.clipExtent=function(e){return arguments.length?(S=null==e?(k=i=r=o=null,_h):qu(k=+e[0][0],i=+e[0][1],r=+e[1][0],o=+e[1][1]),N()):null==k?null:[[k,i],[r,o]]},E.scale=function(e){return arguments.length?(h=+e,T()):h},E.translate=function(e){return arguments.length?(d=+e[0],f=+e[1],T()):[d,f]},E.center=function(e){return arguments.length?(p=e[0]%360*Ol,g=e[1]%360*Ol,T()):[p*Il,g*Il]},E.rotate=function(e){return arguments.length?(m=e[0]%360*Ol,v=e[1]%360*Ol,y=e.length>2?e[2]%360*Ol:0,T()):[m*Il,v*Il,y*Il]},E.angle=function(e){return arguments.length?(b=e%360*Ol,T()):b*Il},E.reflectX=function(e){return arguments.length?(_=e?-1:1,T()):_<0},E.reflectY=function(e){return arguments.length?(w=e?-1:1,T()):w<0},E.precision=function(e){return arguments.length?(s=Md(a,D=e*e),N()):$l(D)},E.fitExtent=function(e,t){return Dd(E,e,t)},E.fitSize=function(e,t){return Ed(E,e,t)},E.fitWidth=function(e,t){return Ld(E,e,t)},E.fitHeight=function(e,t){return Td(E,e,t)},function(){return t=e.apply(this,arguments),E.invert=t.invert&&L,T()}}function Pd(e){var t=0,n=Tl/3,i=Rd(e),r=i(t,n);return r.parallels=function(e){return arguments.length?i(t=e[0]*Ol,n=e[1]*Ol):[t*Il,n*Il]},r}function Bd(e,t){var n=Hl(e),i=(n+Hl(t))/2;if(Fl(i)<El)return function(e){var t=Bl(e);function n(e,n){return[e*t,Hl(n)/t]}return n.invert=function(e,n){return[e/t,Yl(n*t)]},n}(e);var r=1+n*(2*i-n),o=$l(r)/i;function s(e,t){var n=$l(r-2*i*Hl(t))/i;return[n*Hl(e*=i),o-n*Bl(e)]}return s.invert=function(e,t){var n=o-t,s=Pl(e,Fl(n))*Ul(n);return n*i<0&&(s-=Tl*Ul(e)*Ul(n)),[s/i,Yl((r-(e*e+n*n)*i*i)/(2*i))]},s}function jd(){return Pd(Bd).scale(155.424).center([0,33.6442])}function zd(){return jd().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Vd(){var e,t,n,i,r,o,s=zd(),a=jd().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=jd().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(e,t){o=[e,t]}};function u(e){var t=e[0],s=e[1];return o=null,n.point(t,s),o||(i.point(t,s),o)||(r.point(t,s),o)}function h(){return e=t=null,u}return u.invert=function(e){var t=s.scale(),n=s.translate(),i=(e[0]-n[0])/t,r=(e[1]-n[1])/t;return(r>=.12&&r<.234&&i>=-.425&&i<-.214?a:r>=.166&&r<.234&&i>=-.214&&i<-.115?l:s).invert(e)},u.stream=function(n){return e&&t===n?e:(i=[s.stream(t=n),a.stream(n),l.stream(n)],r=i.length,e={point:function(e,t){for(var n=-1;++n<r;)i[n].point(e,t)},sphere:function(){for(var e=-1;++e<r;)i[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)i[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)i[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)i[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)i[e].polygonEnd()}});var i,r},u.precision=function(e){return arguments.length?(s.precision(e),a.precision(e),l.precision(e),h()):s.precision()},u.scale=function(e){return arguments.length?(s.scale(e),a.scale(.35*e),l.scale(e),u.translate(s.translate())):s.scale()},u.translate=function(e){if(!arguments.length)return s.translate();var t=s.scale(),o=+e[0],u=+e[1];return n=s.translate(e).clipExtent([[o-.455*t,u-.238*t],[o+.455*t,u+.238*t]]).stream(c),i=a.translate([o-.307*t,u+.201*t]).clipExtent([[o-.425*t+El,u+.12*t+El],[o-.214*t-El,u+.234*t-El]]).stream(c),r=l.translate([o-.205*t,u+.212*t]).clipExtent([[o-.214*t+El,u+.166*t+El],[o-.115*t-El,u+.234*t-El]]).stream(c),h()},u.fitExtent=function(e,t){return Dd(u,e,t)},u.fitSize=function(e,t){return Ed(u,e,t)},u.fitWidth=function(e,t){return Ld(u,e,t)},u.fitHeight=function(e,t){return Td(u,e,t)},u.scale(1070)}function Wd(e){return function(t,n){var i=Bl(t),r=Bl(n),o=e(i*r);return[o*r*Hl(t),o*Hl(n)]}}function Hd(e){return function(t,n){var i=$l(t*t+n*n),r=e(i),o=Hl(r),s=Bl(r);return[Pl(t*o,i*s),Yl(i&&n*o/i)]}}var Ud=Wd((function(e){return $l(2/(1+e))}));function $d(){return Fd(Ud).scale(124.75).clipAngle(179.999)}Ud.invert=Hd((function(e){return 2*Yl(e/2)}));var qd=Wd((function(e){return(e=Kl(e))&&e/Hl(e)}));function Kd(){return Fd(qd).scale(79.4188).clipAngle(179.999)}function Yd(e,t){return[e,Vl(ql((Nl+t)/2))]}function Gd(){return Xd(Yd).scale(961/Al)}function Xd(e){var t,n,i,r=Fd(e),o=r.center,s=r.scale,a=r.translate,l=r.clipExtent,c=null;function u(){var o=Tl*s(),a=r(Eu(r.rotate()).invert([0,0]));return l(null==c?[[a[0]-o,a[1]-o],[a[0]+o,a[1]+o]]:e===Yd?[[Math.max(a[0]-o,c),t],[Math.min(a[0]+o,n),i]]:[[c,Math.max(a[1]-o,t)],[n,Math.min(a[1]+o,i)]])}return r.scale=function(e){return arguments.length?(s(e),u()):s()},r.translate=function(e){return arguments.length?(a(e),u()):a()},r.center=function(e){return arguments.length?(o(e),u()):o()},r.clipExtent=function(e){return arguments.length?(null==e?c=t=n=i=null:(c=+e[0][0],t=+e[0][1],n=+e[1][0],i=+e[1][1]),u()):null==c?null:[[c,t],[n,i]]},u()}function Zd(e){return ql((Nl+e)/2)}function Jd(e,t){var n=Bl(e),i=e===t?Hl(e):Vl(n/Bl(t))/Vl(Zd(t)/Zd(e)),r=n*Wl(Zd(e),i)/i;if(!i)return Yd;function o(e,t){r>0?t<-Nl+El&&(t=-Nl+El):t>Nl-El&&(t=Nl-El);var n=r/Wl(Zd(t),i);return[n*Hl(i*e),r-n*Bl(i*e)]}return o.invert=function(e,t){var n=r-t,o=Ul(i)*$l(e*e+n*n),s=Pl(e,Fl(n))*Ul(n);return n*i<0&&(s-=Tl*Ul(e)*Ul(n)),[s/i,2*Rl(Wl(r/o,1/i))-Nl]},o}function Qd(){return Pd(Jd).scale(109.5).parallels([30,30])}function ef(e,t){return[e,t]}function tf(){return Fd(ef).scale(152.63)}function nf(e,t){var n=Bl(e),i=e===t?Hl(e):(n-Bl(t))/(t-e),r=n/i+e;if(Fl(i)<El)return ef;function o(e,t){var n=r-t,o=i*e;return[n*Hl(o),r-n*Bl(o)]}return o.invert=function(e,t){var n=r-t,o=Pl(e,Fl(n))*Ul(n);return n*i<0&&(o-=Tl*Ul(e)*Ul(n)),[o/i,r-Ul(i)*$l(e*e+n*n)]},o}function rf(){return Pd(nf).scale(131.154).center([0,13.9389])}qd.invert=Hd((function(e){return e})),Yd.invert=function(e,t){return[e,2*Rl(zl(t))-Nl]},ef.invert=ef;var of=1.340264,sf=-.081106,af=893e-6,lf=.003796,cf=$l(3)/2;function uf(e,t){var n=Yl(cf*Hl(t)),i=n*n,r=i*i*i;return[e*Bl(n)/(cf*(of+3*sf*i+r*(7*af+9*lf*i))),n*(of+sf*i+r*(af+lf*i))]}function hf(){return Fd(uf).scale(177.158)}function df(e,t){var n=Bl(t),i=Bl(e)*n;return[n*Hl(e)/i,Hl(t)/i]}function ff(){return Fd(df).scale(144.049).clipAngle(60)}function pf(){var e,t,n,i,r,o,s,a=1,l=0,c=0,u=1,h=1,d=0,f=null,p=1,g=1,m=xd({point:function(e,t){var n=b([e,t]);this.stream.point(n[0],n[1])}}),v=_h;function y(){return p=a*u,g=a*h,o=s=null,b}function b(n){var i=n[0]*p,r=n[1]*g;if(d){var o=r*e-i*t;i=i*e+r*t,r=o}return[i+l,r+c]}return b.invert=function(n){var i=n[0]-l,r=n[1]-c;if(d){var o=r*e+i*t;i=i*e-r*t,r=o}return[i/p,r/g]},b.stream=function(e){return o&&s===e?o:o=m(v(s=e))},b.postclip=function(e){return arguments.length?(v=e,f=n=i=r=null,y()):v},b.clipExtent=function(e){return arguments.length?(v=null==e?(f=n=i=r=null,_h):qu(f=+e[0][0],n=+e[0][1],i=+e[1][0],r=+e[1][1]),y()):null==f?null:[[f,n],[i,r]]},b.scale=function(e){return arguments.length?(a=+e,y()):a},b.translate=function(e){return arguments.length?(l=+e[0],c=+e[1],y()):[l,c]},b.angle=function(n){return arguments.length?(t=Hl(d=n%360*Ol),e=Bl(d),y()):d*Il},b.reflectX=function(e){return arguments.length?(u=e?-1:1,y()):u<0},b.reflectY=function(e){return arguments.length?(h=e?-1:1,y()):h<0},b.fitExtent=function(e,t){return Dd(b,e,t)},b.fitSize=function(e,t){return Ed(b,e,t)},b.fitWidth=function(e,t){return Ld(b,e,t)},b.fitHeight=function(e,t){return Td(b,e,t)},b}function gf(e,t){var n=t*t,i=n*n;return[e*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791)),t*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))]}function mf(){return Fd(gf).scale(175.295)}function vf(e,t){return[Bl(t)*Hl(e),Hl(t)]}function yf(){return Fd(vf).scale(249.5).clipAngle(90.000001)}function bf(e,t){var n=Bl(t),i=1+Bl(e)*n;return[n*Hl(e)/i,Hl(t)/i]}function _f(){return Fd(bf).scale(250).clipAngle(142)}function wf(e,t){return[Vl(ql((Nl+t)/2)),-e]}function Cf(){var e=Xd(wf),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)}function xf(e,t){return e.parent===t.parent?1:2}function kf(e,t){return e+t.x}function Sf(e,t){return Math.max(e,t.y)}function Df(){var e=xf,t=1,n=1,i=!1;function r(r){var o,s=0;r.eachAfter((function(t){var n,i=t.children;i?(t.x=(n=i).reduce(kf,0)/n.length,t.y=function(e){return 1+e.reduce(Sf,0)}(i)):(t.x=o?s+=e(t,o):0,t.y=0,o=t)}));var a=function(e){for(var t;t=e.children;)e=t[0];return e}(r),l=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(r),c=a.x-e(a,l)/2,u=l.x+e(l,a)/2;return r.eachAfter(i?function(e){e.x=(e.x-r.x)*t,e.y=(r.y-e.y)*n}:function(e){e.x=(e.x-c)/(u-c)*t,e.y=(1-(r.y?e.y/r.y:1))*n})}return r.separation=function(t){return arguments.length?(e=t,r):e},r.size=function(e){return arguments.length?(i=!1,t=+e[0],n=+e[1],r):i?null:[t,n]},r.nodeSize=function(e){return arguments.length?(i=!0,t=+e[0],n=+e[1],r):i?[t,n]:null},r}function Ef(e){var t=0,n=e.children,i=n&&n.length;if(i)for(;--i>=0;)t+=n[i].value;else t=1;e.value=t}function Lf(e,t){var n,i,r,o,s,a=new Af(e),l=+e.value&&(a.value=e.value),c=[a];for(null==t&&(t=Tf);n=c.pop();)if(l&&(n.value=+n.data.value),(r=t(n.data))&&(s=r.length))for(n.children=new Array(s),o=s-1;o>=0;--o)c.push(i=n.children[o]=new Af(r[o])),i.parent=n,i.depth=n.depth+1;return a.eachBefore(Mf)}function Tf(e){return e.children}function Nf(e){e.data=e.data.data}function Mf(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function Af(e){this.data=e,this.depth=this.height=0,this.parent=null}uf.invert=function(e,t){for(var n,i=t,r=i*i,o=r*r*r,s=0;s<12&&(o=(r=(i-=n=(i*(of+sf*r+o*(af+lf*r))-t)/(of+3*sf*r+o*(7*af+9*lf*r)))*i)*r*r,!(Fl(n)<Ll));++s);return[cf*e*(of+3*sf*r+o*(7*af+9*lf*r))/Bl(i),Yl(Hl(i)/cf)]},df.invert=Hd(Rl),gf.invert=function(e,t){var n,i=t,r=25;do{var o=i*i,s=o*o;i-=n=(i*(1.007226+o*(.015085+s*(.028874*o-.044475-.005916*s)))-t)/(1.007226+o*(.045255+s*(.259866*o-.311325-.005916*11*s)))}while(Fl(n)>El&&--r>0);return[e/(.8707+(o=i*i)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),i]},vf.invert=Hd(Yl),bf.invert=Hd((function(e){return 2*Rl(e)})),wf.invert=function(e,t){return[-t,2*Rl(zl(e))-Nl]},Af.prototype=Lf.prototype={constructor:Af,count:function(){return this.eachAfter(Ef)},each:function(e){var t,n,i,r,o=this,s=[o];do{for(t=s.reverse(),s=[];o=t.pop();)if(e(o),n=o.children)for(i=0,r=n.length;i<r;++i)s.push(n[i])}while(s.length);return this},eachAfter:function(e){for(var t,n,i,r=this,o=[r],s=[];r=o.pop();)if(s.push(r),t=r.children)for(n=0,i=t.length;n<i;++n)o.push(t[n]);for(;r=s.pop();)e(r);return this},eachBefore:function(e){for(var t,n,i=this,r=[i];i=r.pop();)if(e(i),t=i.children)for(n=t.length-1;n>=0;--n)r.push(t[n]);return this},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,i=t.children,r=i&&i.length;--r>=0;)n+=i[r].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),i=t.ancestors(),r=null;for(e=n.pop(),t=i.pop();e===t;)r=e,e=n.pop(),t=i.pop();return r}(t,e),i=[t];t!==n;)t=t.parent,i.push(t);for(var r=i.length;e!==n;)i.splice(r,0,e),e=e.parent;return i},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){var e=[];return this.each((function(t){e.push(t)})),e},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return Lf(this).eachBefore(Nf)}};var If=Array.prototype.slice;function Of(e){for(var t,n,i=0,r=(e=function(e){for(var t,n,i=e.length;i;)n=Math.random()*i--|0,t=e[i],e[i]=e[n],e[n]=t;return e}(If.call(e))).length,o=[];i<r;)t=e[i],n&&Pf(n,t)?++i:(n=jf(o=Ff(o,t)),i=0);return n}function Ff(e,t){var n,i;if(Bf(t,e))return[t];for(n=0;n<e.length;++n)if(Rf(t,e[n])&&Bf(zf(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(i=n+1;i<e.length;++i)if(Rf(zf(e[n],e[i]),t)&&Rf(zf(e[n],t),e[i])&&Rf(zf(e[i],t),e[n])&&Bf(Vf(e[n],e[i],t),e))return[e[n],e[i],t];throw new Error}function Rf(e,t){var n=e.r-t.r,i=t.x-e.x,r=t.y-e.y;return n<0||n*n<i*i+r*r}function Pf(e,t){var n=e.r-t.r+1e-6,i=t.x-e.x,r=t.y-e.y;return n>0&&n*n>i*i+r*r}function Bf(e,t){for(var n=0;n<t.length;++n)if(!Pf(e,t[n]))return!1;return!0}function jf(e){switch(e.length){case 1:return{x:(t=e[0]).x,y:t.y,r:t.r};case 2:return zf(e[0],e[1]);case 3:return Vf(e[0],e[1],e[2])}var t}function zf(e,t){var n=e.x,i=e.y,r=e.r,o=t.x,s=t.y,a=t.r,l=o-n,c=s-i,u=a-r,h=Math.sqrt(l*l+c*c);return{x:(n+o+l/h*u)/2,y:(i+s+c/h*u)/2,r:(h+r+a)/2}}function Vf(e,t,n){var i=e.x,r=e.y,o=e.r,s=t.x,a=t.y,l=t.r,c=n.x,u=n.y,h=n.r,d=i-s,f=i-c,p=r-a,g=r-u,m=l-o,v=h-o,y=i*i+r*r-o*o,b=y-s*s-a*a+l*l,_=y-c*c-u*u+h*h,w=f*p-d*g,C=(p*_-g*b)/(2*w)-i,x=(g*m-p*v)/w,k=(f*b-d*_)/(2*w)-r,S=(d*v-f*m)/w,D=x*x+S*S-1,E=2*(o+C*x+k*S),L=C*C+k*k-o*o,T=-(D?(E+Math.sqrt(E*E-4*D*L))/(2*D):L/E);return{x:i+C+x*T,y:r+k+S*T,r:T}}function Wf(e,t,n){var i,r,o,s,a=e.x-t.x,l=e.y-t.y,c=a*a+l*l;c?(r=t.r+n.r,r*=r,s=e.r+n.r,r>(s*=s)?(i=(c+s-r)/(2*c),o=Math.sqrt(Math.max(0,s/c-i*i)),n.x=e.x-i*a-o*l,n.y=e.y-i*l+o*a):(i=(c+r-s)/(2*c),o=Math.sqrt(Math.max(0,r/c-i*i)),n.x=t.x+i*a-o*l,n.y=t.y+i*l+o*a)):(n.x=t.x+n.r,n.y=t.y)}function Hf(e,t){var n=e.r+t.r-1e-6,i=t.x-e.x,r=t.y-e.y;return n>0&&n*n>i*i+r*r}function Uf(e){var t=e._,n=e.next._,i=t.r+n.r,r=(t.x*n.r+n.x*t.r)/i,o=(t.y*n.r+n.y*t.r)/i;return r*r+o*o}function $f(e){this._=e,this.next=null,this.previous=null}function qf(e){if(!(r=e.length))return 0;var t,n,i,r,o,s,a,l,c,u,h;if((t=e[0]).x=0,t.y=0,!(r>1))return t.r;if(n=e[1],t.x=-n.r,n.x=t.r,n.y=0,!(r>2))return t.r+n.r;Wf(n,t,i=e[2]),t=new $f(t),n=new $f(n),i=new $f(i),t.next=i.previous=n,n.next=t.previous=i,i.next=n.previous=t;e:for(a=3;a<r;++a){Wf(t._,n._,i=e[a]),i=new $f(i),l=n.next,c=t.previous,u=n._.r,h=t._.r;do{if(u<=h){if(Hf(l._,i._)){n=l,t.next=n,n.previous=t,--a;continue e}u+=l._.r,l=l.next}else{if(Hf(c._,i._)){(t=c).next=n,n.previous=t,--a;continue e}h+=c._.r,c=c.previous}}while(l!==c.next);for(i.previous=t,i.next=n,t.next=n.previous=n=i,o=Uf(t);(i=i.next)!==n;)(s=Uf(i))<o&&(t=i,o=s);n=t.next}for(t=[n._],i=n;(i=i.next)!==n;)t.push(i._);for(i=Of(t),a=0;a<r;++a)(t=e[a]).x-=i.x,t.y-=i.y;return i.r}function Kf(e){return qf(e),e}function Yf(e){return null==e?null:Gf(e)}function Gf(e){if("function"!=typeof e)throw new Error;return e}function Xf(){return 0}function Zf(e){return function(){return e}}function Jf(e){return Math.sqrt(e.value)}function Qf(){var e=null,t=1,n=1,i=Xf;function r(r){return r.x=t/2,r.y=n/2,e?r.eachBefore(ep(e)).eachAfter(tp(i,.5)).eachBefore(np(1)):r.eachBefore(ep(Jf)).eachAfter(tp(Xf,1)).eachAfter(tp(i,r.r/Math.min(t,n))).eachBefore(np(Math.min(t,n)/(2*r.r))),r}return r.radius=function(t){return arguments.length?(e=Yf(t),r):e},r.size=function(e){return arguments.length?(t=+e[0],n=+e[1],r):[t,n]},r.padding=function(e){return arguments.length?(i="function"==typeof e?e:Zf(+e),r):i},r}function ep(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function tp(e,t){return function(n){if(i=n.children){var i,r,o,s=i.length,a=e(n)*t||0;if(a)for(r=0;r<s;++r)i[r].r+=a;if(o=qf(i),a)for(r=0;r<s;++r)i[r].r-=a;n.r=o+a}}}function np(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function ip(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function rp(e,t,n,i,r){for(var o,s=e.children,a=-1,l=s.length,c=e.value&&(i-t)/e.value;++a<l;)(o=s[a]).y0=n,o.y1=r,o.x0=t,o.x1=t+=o.value*c}function op(){var e=1,t=1,n=0,i=!1;function r(r){var o,s,a=r.height+1;return r.x0=r.y0=n,r.x1=e,r.y1=t/a,r.eachBefore((o=t,s=a,function(e){e.children&&rp(e,e.x0,o*(e.depth+1)/s,e.x1,o*(e.depth+2)/s);var t=e.x0,i=e.y0,r=e.x1-n,a=e.y1-n;r<t&&(t=r=(t+r)/2),a<i&&(i=a=(i+a)/2),e.x0=t,e.y0=i,e.x1=r,e.y1=a})),i&&r.eachBefore(ip),r}return r.round=function(e){return arguments.length?(i=!!e,r):i},r.size=function(n){return arguments.length?(e=+n[0],t=+n[1],r):[e,t]},r.padding=function(e){return arguments.length?(n=+e,r):n},r}var sp={depth:-1},ap={};function lp(e){return e.id}function cp(e){return e.parentId}function up(){var e=lp,t=cp;function n(n){var i,r,o,s,a,l,c,u=n.length,h=new Array(u),d={};for(r=0;r<u;++r)i=n[r],a=h[r]=new Af(i),null!=(l=e(i,r,n))&&(l+="")&&(d[c="$"+(a.id=l)]=c in d?ap:a);for(r=0;r<u;++r)if(a=h[r],null!=(l=t(n[r],r,n))&&(l+="")){if(!(s=d["$"+l]))throw new Error("missing: "+l);if(s===ap)throw new Error("ambiguous: "+l);s.children?s.children.push(a):s.children=[a],a.parent=s}else{if(o)throw new Error("multiple roots");o=a}if(!o)throw new Error("no root");if(o.parent=sp,o.eachBefore((function(e){e.depth=e.parent.depth+1,--u})).eachBefore(Mf),o.parent=null,u>0)throw new Error("cycle");return o}return n.id=function(t){return arguments.length?(e=Gf(t),n):e},n.parentId=function(e){return arguments.length?(t=Gf(e),n):t},n}function hp(e,t){return e.parent===t.parent?1:2}function dp(e){var t=e.children;return t?t[0]:e.t}function fp(e){var t=e.children;return t?t[t.length-1]:e.t}function pp(e,t,n){var i=n/(t.i-e.i);t.c-=i,t.s+=n,e.c+=i,t.z+=n,t.m+=n}function gp(e,t,n){return e.a.parent===t.parent?e.a:n}function mp(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function vp(){var e=hp,t=1,n=1,i=null;function r(r){var l=function(e){for(var t,n,i,r,o,s=new mp(e,0),a=[s];t=a.pop();)if(i=t._.children)for(t.children=new Array(o=i.length),r=o-1;r>=0;--r)a.push(n=t.children[r]=new mp(i[r],r)),n.parent=t;return(s.parent=new mp(null,0)).children=[s],s}(r);if(l.eachAfter(o),l.parent.m=-l.z,l.eachBefore(s),i)r.eachBefore(a);else{var c=r,u=r,h=r;r.eachBefore((function(e){e.x<c.x&&(c=e),e.x>u.x&&(u=e),e.depth>h.depth&&(h=e)}));var d=c===u?1:e(c,u)/2,f=d-c.x,p=t/(u.x+d+f),g=n/(h.depth||1);r.eachBefore((function(e){e.x=(e.x+f)*p,e.y=e.depth*g}))}return r}function o(t){var n=t.children,i=t.parent.children,r=t.i?i[t.i-1]:null;if(n){!function(e){for(var t,n=0,i=0,r=e.children,o=r.length;--o>=0;)(t=r[o]).z+=n,t.m+=n,n+=t.s+(i+=t.c)}(t);var o=(n[0].z+n[n.length-1].z)/2;r?(t.z=r.z+e(t._,r._),t.m=t.z-o):t.z=o}else r&&(t.z=r.z+e(t._,r._));t.parent.A=function(t,n,i){if(n){for(var r,o=t,s=t,a=n,l=o.parent.children[0],c=o.m,u=s.m,h=a.m,d=l.m;a=fp(a),o=dp(o),a&&o;)l=dp(l),(s=fp(s)).a=t,(r=a.z+h-o.z-c+e(a._,o._))>0&&(pp(gp(a,t,i),t,r),c+=r,u+=r),h+=a.m,c+=o.m,d+=l.m,u+=s.m;a&&!fp(s)&&(s.t=a,s.m+=h-u),o&&!dp(l)&&(l.t=o,l.m+=c-d,i=t)}return i}(t,r,t.parent.A||i[0])}function s(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function a(e){e.x*=t,e.y=e.depth*n}return r.separation=function(t){return arguments.length?(e=t,r):e},r.size=function(e){return arguments.length?(i=!1,t=+e[0],n=+e[1],r):i?null:[t,n]},r.nodeSize=function(e){return arguments.length?(i=!0,t=+e[0],n=+e[1],r):i?[t,n]:null},r}function yp(e,t,n,i,r){for(var o,s=e.children,a=-1,l=s.length,c=e.value&&(r-n)/e.value;++a<l;)(o=s[a]).x0=t,o.x1=i,o.y0=n,o.y1=n+=o.value*c}mp.prototype=Object.create(Af.prototype);var bp=(1+Math.sqrt(5))/2;function _p(e,t,n,i,r,o){for(var s,a,l,c,u,h,d,f,p,g,m,v=[],y=t.children,b=0,_=0,w=y.length,C=t.value;b<w;){l=r-n,c=o-i;do{u=y[_++].value}while(!u&&_<w);for(h=d=u,m=u*u*(g=Math.max(c/l,l/c)/(C*e)),p=Math.max(d/m,m/h);_<w;++_){if(u+=a=y[_].value,a<h&&(h=a),a>d&&(d=a),m=u*u*g,(f=Math.max(d/m,m/h))>p){u-=a;break}p=f}v.push(s={value:u,dice:l<c,children:y.slice(b,_)}),s.dice?rp(s,n,i,r,C?i+=c*u/C:o):yp(s,n,i,C?n+=l*u/C:r,o),C-=u,b=_}return v}const wp=function e(t){function n(e,n,i,r,o){_p(t,e,n,i,r,o)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(bp);function Cp(){var e=wp,t=!1,n=1,i=1,r=[0],o=Xf,s=Xf,a=Xf,l=Xf,c=Xf;function u(e){return e.x0=e.y0=0,e.x1=n,e.y1=i,e.eachBefore(h),r=[0],t&&e.eachBefore(ip),e}function h(t){var n=r[t.depth],i=t.x0+n,u=t.y0+n,h=t.x1-n,d=t.y1-n;h<i&&(i=h=(i+h)/2),d<u&&(u=d=(u+d)/2),t.x0=i,t.y0=u,t.x1=h,t.y1=d,t.children&&(n=r[t.depth+1]=o(t)/2,i+=c(t)-n,u+=s(t)-n,(h-=a(t)-n)<i&&(i=h=(i+h)/2),(d-=l(t)-n)<u&&(u=d=(u+d)/2),e(t,i,u,h,d))}return u.round=function(e){return arguments.length?(t=!!e,u):t},u.size=function(e){return arguments.length?(n=+e[0],i=+e[1],u):[n,i]},u.tile=function(t){return arguments.length?(e=Gf(t),u):e},u.padding=function(e){return arguments.length?u.paddingInner(e).paddingOuter(e):u.paddingInner()},u.paddingInner=function(e){return arguments.length?(o="function"==typeof e?e:Zf(+e),u):o},u.paddingOuter=function(e){return arguments.length?u.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):u.paddingTop()},u.paddingTop=function(e){return arguments.length?(s="function"==typeof e?e:Zf(+e),u):s},u.paddingRight=function(e){return arguments.length?(a="function"==typeof e?e:Zf(+e),u):a},u.paddingBottom=function(e){return arguments.length?(l="function"==typeof e?e:Zf(+e),u):l},u.paddingLeft=function(e){return arguments.length?(c="function"==typeof e?e:Zf(+e),u):c},u}function xp(e,t,n,i,r){var o,s,a=e.children,l=a.length,c=new Array(l+1);for(c[0]=s=o=0;o<l;++o)c[o+1]=s+=a[o].value;!function e(t,n,i,r,o,s,l){if(t>=n-1){var u=a[t];return u.x0=r,u.y0=o,u.x1=s,void(u.y1=l)}for(var h=c[t],d=i/2+h,f=t+1,p=n-1;f<p;){var g=f+p>>>1;c[g]<d?f=g+1:p=g}d-c[f-1]<c[f]-d&&t+1<f&&--f;var m=c[f]-h,v=i-m;if(s-r>l-o){var y=(r*v+s*m)/i;e(t,f,m,r,o,y,l),e(f,n,v,y,o,s,l)}else{var b=(o*v+l*m)/i;e(t,f,m,r,o,s,b),e(f,n,v,r,b,s,l)}}(0,l,e.value,t,n,i,r)}function kp(e,t,n,i,r){(1&e.depth?yp:rp)(e,t,n,i,r)}const Sp=function e(t){function n(e,n,i,r,o){if((s=e._squarify)&&s.ratio===t)for(var s,a,l,c,u,h=-1,d=s.length,f=e.value;++h<d;){for(l=(a=s[h]).children,c=a.value=0,u=l.length;c<u;++c)a.value+=l[c].value;a.dice?rp(a,n,i,r,i+=(o-i)*a.value/f):yp(a,n,i,n+=(r-n)*a.value/f,o),f-=a.value}else e._squarify=s=_p(t,e,n,i,r,o),s.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(bp);function Dp(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function Ep(e,t){var n=fn(+e,+t);return function(e){var t=n(e);return t-360*Math.floor(t/360)}}function Lp(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Tp=Math.SQRT2;function Np(e){return((e=Math.exp(e))+1/e)/2}function Mp(e,t){var n,i,r=e[0],o=e[1],s=e[2],a=t[0],l=t[1],c=t[2],u=a-r,h=l-o,d=u*u+h*h;if(d<1e-12)i=Math.log(c/s)/Tp,n=function(e){return[r+e*u,o+e*h,s*Math.exp(Tp*e*i)]};else{var f=Math.sqrt(d),p=(c*c-s*s+4*d)/(2*s*2*f),g=(c*c-s*s-4*d)/(2*c*2*f),m=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(g*g+1)-g);i=(v-m)/Tp,n=function(e){var t,n,a=e*i,l=Np(m),c=s/(2*f)*(l*(t=Tp*a+m,((t=Math.exp(2*t))-1)/(t+1))-(n=m,((n=Math.exp(n))-1/n)/2));return[r+c*u,o+c*h,s*l/Np(Tp*a+m)]}}return n.duration=1e3*i,n}function Ap(e){return function(t,n){var i=e((t=on(t)).h,(n=on(n)).h),r=pn(t.s,n.s),o=pn(t.l,n.l),s=pn(t.opacity,n.opacity);return function(e){return t.h=i(e),t.s=r(e),t.l=o(e),t.opacity=s(e),t+""}}}const Ip=Ap(fn);var Op=Ap(pn);function Fp(e,t){var n=pn((e=So(e)).l,(t=So(t)).l),i=pn(e.a,t.a),r=pn(e.b,t.b),o=pn(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=i(t),e.b=r(t),e.opacity=o(t),e+""}}function Rp(e){return function(t,n){var i=e((t=Io(t)).h,(n=Io(n)).h),r=pn(t.c,n.c),o=pn(t.l,n.l),s=pn(t.opacity,n.opacity);return function(e){return t.h=i(e),t.c=r(e),t.l=o(e),t.opacity=s(e),t+""}}}const Pp=Rp(fn);var Bp=Rp(pn);function jp(e){return function t(n){function i(t,i){var r=e((t=$o(t)).h,(i=$o(i)).h),o=pn(t.s,i.s),s=pn(t.l,i.l),a=pn(t.opacity,i.opacity);return function(e){return t.h=r(e),t.s=o(e),t.l=s(Math.pow(e,n)),t.opacity=a(e),t+""}}return n=+n,i.gamma=t,i}(1)}const zp=jp(fn);var Vp=jp(pn);function Wp(e,t){for(var n=0,i=t.length-1,r=t[0],o=new Array(i<0?0:i);n<i;)o[n]=e(r,r=t[++n]);return function(e){var t=Math.max(0,Math.min(i-1,Math.floor(e*=i)));return o[t](e-t)}}function Hp(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e(i/(t-1));return n}function Up(e){for(var t,n=-1,i=e.length,r=e[i-1],o=0;++n<i;)t=r,r=e[n],o+=t[1]*r[0]-t[0]*r[1];return o/2}function $p(e){for(var t,n,i=-1,r=e.length,o=0,s=0,a=e[r-1],l=0;++i<r;)t=a,a=e[i],l+=n=t[0]*a[1]-a[0]*t[1],o+=(t[0]+a[0])*n,s+=(t[1]+a[1])*n;return[o/(l*=3),s/l]}function qp(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function Kp(e,t){return e[0]-t[0]||e[1]-t[1]}function Yp(e){for(var t=e.length,n=[0,1],i=2,r=2;r<t;++r){for(;i>1&&qp(e[n[i-2]],e[n[i-1]],e[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function Gp(e){if((n=e.length)<3)return null;var t,n,i=new Array(n),r=new Array(n);for(t=0;t<n;++t)i[t]=[+e[t][0],+e[t][1],t];for(i.sort(Kp),t=0;t<n;++t)r[t]=[i[t][0],-i[t][1]];var o=Yp(i),s=Yp(r),a=s[0]===o[0],l=s[s.length-1]===o[o.length-1],c=[];for(t=o.length-1;t>=0;--t)c.push(e[i[o[t]][2]]);for(t=+a;t<s.length-l;++t)c.push(e[i[s[t]][2]]);return c}function Xp(e,t){for(var n,i,r=e.length,o=e[r-1],s=t[0],a=t[1],l=o[0],c=o[1],u=!1,h=0;h<r;++h)n=(o=e[h])[0],(i=o[1])>a!=c>a&&s<(l-n)*(a-i)/(c-i)+n&&(u=!u),l=n,c=i;return u}function Zp(e){for(var t,n,i=-1,r=e.length,o=e[r-1],s=o[0],a=o[1],l=0;++i<r;)t=s,n=a,t-=s=(o=e[i])[0],n-=a=o[1],l+=Math.sqrt(t*t+n*n);return l}function Jp(){return Math.random()}const Qp=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,1===arguments.length?(n=e,e=0):n-=e,function(){return t()*n+e}}return n.source=e,n}(Jp),eg=function e(t){function n(e,n){var i,r;return e=null==e?0:+e,n=null==n?1:+n,function(){var o;if(null!=i)o=i,i=null;else do{i=2*t()-1,o=2*t()-1,r=i*i+o*o}while(!r||r>1);return e+n*o*Math.sqrt(-2*Math.log(r)/r)}}return n.source=e,n}(Jp),tg=function e(t){function n(){var e=eg.source(t).apply(this,arguments);return function(){return Math.exp(e())}}return n.source=e,n}(Jp),ng=function e(t){function n(e){return function(){for(var n=0,i=0;i<e;++i)n+=t();return n}}return n.source=e,n}(Jp),ig=function e(t){function n(e){var n=ng.source(t)(e);return function(){return n()/e}}return n.source=e,n}(Jp),rg=function e(t){function n(e){return function(){return-Math.log(1-t())/e}}return n.source=e,n}(Jp);function og(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function sg(e,t){switch(arguments.length){case 0:break;case 1:this.interpolator(e);break;default:this.interpolator(t).domain(e)}return this}var ag=Array.prototype,lg=ag.map,cg=ag.slice,ug={name:"implicit"};function hg(){var e=no(),t=[],n=[],i=ug;function r(r){var o=r+"",s=e.get(o);if(!s){if(i!==ug)return i;e.set(o,s=t.push(r))}return n[(s-1)%n.length]}return r.domain=function(n){if(!arguments.length)return t.slice();t=[],e=no();for(var i,o,s=-1,a=n.length;++s<a;)e.has(o=(i=n[s])+"")||e.set(o,t.push(i));return r},r.range=function(e){return arguments.length?(n=cg.call(e),r):n.slice()},r.unknown=function(e){return arguments.length?(i=e,r):i},r.copy=function(){return hg(t,n).unknown(i)},og.apply(r,arguments),r}function dg(){var e,t,n=hg().unknown(void 0),i=n.domain,r=n.range,o=[0,1],s=!1,a=0,l=0,c=.5;function u(){var n=i().length,u=o[1]<o[0],h=o[u-0],d=o[1-u];e=(d-h)/Math.max(1,n-a+2*l),s&&(e=Math.floor(e)),h+=(d-h-e*(n-a))*c,t=e*(1-a),s&&(h=Math.round(h),t=Math.round(t));var f=x(n).map((function(t){return h+e*t}));return r(u?f.reverse():f)}return delete n.unknown,n.domain=function(e){return arguments.length?(i(e),u()):i()},n.range=function(e){return arguments.length?(o=[+e[0],+e[1]],u()):o.slice()},n.rangeRound=function(e){return o=[+e[0],+e[1]],s=!0,u()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,u()):s},n.padding=function(e){return arguments.length?(a=Math.min(1,l=+e),u()):a},n.paddingInner=function(e){return arguments.length?(a=Math.min(1,e),u()):a},n.paddingOuter=function(e){return arguments.length?(l=+e,u()):l},n.align=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),u()):c},n.copy=function(){return dg(i(),o).round(s).paddingInner(a).paddingOuter(l).align(c)},og.apply(u(),arguments)}function fg(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return fg(t())},e}function pg(){return fg(dg.apply(null,arguments).paddingInner(1))}function gg(e){return+e}var mg=[0,1];function vg(e){return e}function yg(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function bg(e){var t,n=e[0],i=e[e.length-1];return n>i&&(t=n,n=i,i=t),function(e){return Math.max(n,Math.min(i,e))}}function _g(e,t,n){var i=e[0],r=e[1],o=t[0],s=t[1];return r<i?(i=yg(r,i),o=n(s,o)):(i=yg(i,r),o=n(o,s)),function(e){return o(i(e))}}function wg(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),o=new Array(i),s=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<i;)r[s]=yg(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(t){var n=c(e,t,1,i)-1;return o[n](r[n](t))}}function Cg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function xg(){var e,t,n,i,r,o,s=mg,a=mg,l=Tn,c=vg;function u(){return i=Math.min(s.length,a.length)>2?wg:_g,r=o=null,h}function h(t){return isNaN(t=+t)?n:(r||(r=i(s.map(e),a,l)))(e(c(t)))}return h.invert=function(n){return c(t((o||(o=i(a,s.map(e),kn)))(n)))},h.domain=function(e){return arguments.length?(s=lg.call(e,gg),c===vg||(c=bg(s)),u()):s.slice()},h.range=function(e){return arguments.length?(a=cg.call(e),u()):a.slice()},h.rangeRound=function(e){return a=cg.call(e),l=Lp,u()},h.clamp=function(e){return arguments.length?(c=e?bg(s):vg,h):c!==vg},h.interpolate=function(e){return arguments.length?(l=e,u()):l},h.unknown=function(e){return arguments.length?(n=e,h):n},function(n,i){return e=n,t=i,u()}}function kg(e,t){return xg()(e,t)}function Sg(e,t,n,i){var r,o=T(e,t,n);switch((i=ll(null==i?",f":i)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=i.precision||isNaN(r=wl(o,s))||(i.precision=r),gl(i,s);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=Cl(o,Math.max(Math.abs(e),Math.abs(t))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=_l(o))||(i.precision=r-2*("%"===i.type))}return pl(i)}function Dg(e){var t=e.domain;return e.ticks=function(e){var n=t();return E(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var i=t();return Sg(i[0],i[i.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var i,r=t(),o=0,s=r.length-1,a=r[o],l=r[s];return l<a&&(i=a,a=l,l=i,i=o,o=s,s=i),(i=L(a,l,n))>0?i=L(a=Math.floor(a/i)*i,l=Math.ceil(l/i)*i,n):i<0&&(i=L(a=Math.ceil(a*i)/i,l=Math.floor(l*i)/i,n)),i>0?(r[o]=Math.floor(a/i)*i,r[s]=Math.ceil(l/i)*i,t(r)):i<0&&(r[o]=Math.ceil(a*i)/i,r[s]=Math.floor(l*i)/i,t(r)),e},e}function Eg(){var e=kg(vg,vg);return e.copy=function(){return Cg(e,Eg())},og.apply(e,arguments),Dg(e)}function Lg(e){var t;function n(e){return isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=lg.call(t,gg),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return Lg(e).unknown(t)},e=arguments.length?lg.call(e,gg):[0,1],Dg(n)}function Tg(e,t){var n,i=0,r=(e=e.slice()).length-1,o=e[i],s=e[r];return s<o&&(n=i,i=r,r=n,n=o,o=s,s=n),e[i]=t.floor(o),e[r]=t.ceil(s),e}function Ng(e){return Math.log(e)}function Mg(e){return Math.exp(e)}function Ag(e){return-Math.log(-e)}function Ig(e){return-Math.exp(-e)}function Og(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Fg(e){return function(t){return-e(-t)}}function Rg(e){var t,n,i=e(Ng,Mg),r=i.domain,o=10;function s(){return t=(s=o)===Math.E?Math.log:10===s&&Math.log10||2===s&&Math.log2||(s=Math.log(s),function(e){return Math.log(e)/s}),n=function(e){return 10===e?Og:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(o),r()[0]<0?(t=Fg(t),n=Fg(n),e(Ag,Ig)):e(Ng,Mg),i;var s}return i.base=function(e){return arguments.length?(o=+e,s()):o},i.domain=function(e){return arguments.length?(r(e),s()):r()},i.ticks=function(e){var i,s=r(),a=s[0],l=s[s.length-1];(i=l<a)&&(d=a,a=l,l=d);var c,u,h,d=t(a),f=t(l),p=null==e?10:+e,g=[];if(!(o%1)&&f-d<p){if(d=Math.round(d)-1,f=Math.round(f)+1,a>0){for(;d<f;++d)for(u=1,c=n(d);u<o;++u)if(!((h=c*u)<a)){if(h>l)break;g.push(h)}}else for(;d<f;++d)for(u=o-1,c=n(d);u>=1;--u)if(!((h=c*u)<a)){if(h>l)break;g.push(h)}}else g=E(d,f,Math.min(f-d,p)).map(n);return i?g.reverse():g},i.tickFormat=function(e,r){if(null==r&&(r=10===o?".0e":","),"function"!=typeof r&&(r=pl(r)),e===1/0)return r;null==e&&(e=10);var s=Math.max(1,o*e/i.ticks().length);return function(e){var i=e/n(Math.round(t(e)));return i*o<o-.5&&(i*=o),i<=s?r(e):""}},i.nice=function(){return r(Tg(r(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},i}function Pg(){var e=Rg(xg()).domain([1,10]);return e.copy=function(){return Cg(e,Pg()).base(e.base())},og.apply(e,arguments),e}function Bg(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function jg(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function zg(e){var t=1,n=e(Bg(t),jg(t));return n.constant=function(n){return arguments.length?e(Bg(t=+n),jg(t)):t},Dg(n)}function Vg(){var e=zg(xg());return e.copy=function(){return Cg(e,Vg()).constant(e.constant())},og.apply(e,arguments)}function Wg(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Hg(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Ug(e){return e<0?-e*e:e*e}function $g(e){var t=e(vg,vg),n=1;function i(){return 1===n?e(vg,vg):.5===n?e(Hg,Ug):e(Wg(n),Wg(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,i()):n},Dg(t)}function qg(){var e=$g(xg());return e.copy=function(){return Cg(e,qg()).exponent(e.exponent())},og.apply(e,arguments),e}function Kg(){return qg.apply(null,arguments).exponent(.5)}function Yg(){var e,t=[],n=[],i=[];function o(){var e=0,r=Math.max(1,n.length);for(i=new Array(r-1);++e<r;)i[e-1]=A(t,e/r);return s}function s(t){return isNaN(t=+t)?e:n[c(i,t)]}return s.invertExtent=function(e){var r=n.indexOf(e);return r<0?[NaN,NaN]:[r>0?i[r-1]:t[0],r<i.length?i[r]:t[t.length-1]]},s.domain=function(e){if(!arguments.length)return t.slice();t=[];for(var n,i=0,s=e.length;i<s;++i)null==(n=e[i])||isNaN(n=+n)||t.push(n);return t.sort(r),o()},s.range=function(e){return arguments.length?(n=cg.call(e),o()):n.slice()},s.unknown=function(t){return arguments.length?(e=t,s):e},s.quantiles=function(){return i.slice()},s.copy=function(){return Yg().domain(t).range(n).unknown(e)},og.apply(s,arguments)}function Gg(){var e,t=0,n=1,i=1,r=[.5],o=[0,1];function s(t){return t<=t?o[c(r,t,0,i)]:e}function a(){var e=-1;for(r=new Array(i);++e<i;)r[e]=((e+1)*n-(e-i)*t)/(i+1);return s}return s.domain=function(e){return arguments.length?(t=+e[0],n=+e[1],a()):[t,n]},s.range=function(e){return arguments.length?(i=(o=cg.call(e)).length-1,a()):o.slice()},s.invertExtent=function(e){var s=o.indexOf(e);return s<0?[NaN,NaN]:s<1?[t,r[0]]:s>=i?[r[i-1],n]:[r[s-1],r[s]]},s.unknown=function(t){return arguments.length?(e=t,s):s},s.thresholds=function(){return r.slice()},s.copy=function(){return Gg().domain([t,n]).range(o).unknown(e)},og.apply(Dg(s),arguments)}function Xg(){var e,t=[.5],n=[0,1],i=1;function r(r){return r<=r?n[c(t,r,0,i)]:e}return r.domain=function(e){return arguments.length?(t=cg.call(e),i=Math.min(t.length,n.length-1),r):t.slice()},r.range=function(e){return arguments.length?(n=cg.call(e),i=Math.min(t.length,n.length-1),r):n.slice()},r.invertExtent=function(e){var i=n.indexOf(e);return[t[i-1],t[i]]},r.unknown=function(t){return arguments.length?(e=t,r):e},r.copy=function(){return Xg().domain(t).range(n).unknown(e)},og.apply(r,arguments)}var Zg=new Date,Jg=new Date;function Qg(e,t,n,i){function r(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return r.floor=function(t){return e(t=new Date(+t)),t},r.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},r.round=function(e){var t=r(e),n=r.ceil(e);return e-t<n-e?t:n},r.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},r.range=function(n,i,o){var s,a=[];if(n=r.ceil(n),o=null==o?1:Math.floor(o),!(n<i&&o>0))return a;do{a.push(s=new Date(+n)),t(n,o),e(n)}while(s<n&&n<i);return a},r.filter=function(n){return Qg((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,i){if(e>=e)if(i<0)for(;++i<=0;)for(;t(e,-1),!n(e););else for(;--i>=0;)for(;t(e,1),!n(e););}))},n&&(r.count=function(t,i){return Zg.setTime(+t),Jg.setTime(+i),e(Zg),e(Jg),Math.floor(n(Zg,Jg))},r.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?r.filter(i?function(t){return i(t)%e==0}:function(t){return r.count(0,t)%e==0}):r:null}),r}var em=Qg((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));em.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Qg((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};const tm=em;var nm=em.range,im=Qg((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}));const rm=im;var om=im.range,sm=1e3,am=6e4,lm=36e5,cm=864e5,um=6048e5;function hm(e){return Qg((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*am)/um}))}var dm=hm(0),fm=hm(1),pm=hm(2),gm=hm(3),mm=hm(4),vm=hm(5),ym=hm(6),bm=dm.range,_m=fm.range,wm=pm.range,Cm=gm.range,xm=mm.range,km=vm.range,Sm=ym.range,Dm=Qg((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*am)/cm}),(function(e){return e.getDate()-1}));const Em=Dm;var Lm=Dm.range,Tm=Qg((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*sm-e.getMinutes()*am)}),(function(e,t){e.setTime(+e+t*lm)}),(function(e,t){return(t-e)/lm}),(function(e){return e.getHours()}));const Nm=Tm;var Mm=Tm.range,Am=Qg((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*sm)}),(function(e,t){e.setTime(+e+t*am)}),(function(e,t){return(t-e)/am}),(function(e){return e.getMinutes()}));const Im=Am;var Om=Am.range,Fm=Qg((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*sm)}),(function(e,t){return(t-e)/sm}),(function(e){return e.getUTCSeconds()}));const Rm=Fm;var Pm=Fm.range,Bm=Qg((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));Bm.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?Qg((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):Bm:null};const jm=Bm;var zm=Bm.range;function Vm(e){return Qg((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/um}))}var Wm=Vm(0),Hm=Vm(1),Um=Vm(2),$m=Vm(3),qm=Vm(4),Km=Vm(5),Ym=Vm(6),Gm=Wm.range,Xm=Hm.range,Zm=Um.range,Jm=$m.range,Qm=qm.range,ev=Km.range,tv=Ym.range,nv=Qg((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/cm}),(function(e){return e.getUTCDate()-1}));const iv=nv;var rv=nv.range,ov=Qg((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));ov.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Qg((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};const sv=ov;var av=ov.range;function lv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function cv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function uv(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function hv(e){var t=e.dateTime,n=e.date,i=e.time,r=e.periods,o=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,c=xv(r),u=kv(r),h=xv(o),d=kv(o),f=xv(s),p=kv(s),g=xv(a),m=kv(a),v=xv(l),y=kv(l),b={a:function(e){return s[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return a[e.getMonth()]},c:null,d:$v,e:$v,f:Xv,g:ay,G:cy,H:qv,I:Kv,j:Yv,L:Gv,m:Zv,M:Jv,p:function(e){return r[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Ay,s:Iy,S:Qv,u:ey,U:ty,V:iy,w:ry,W:oy,x:null,X:null,y:sy,Y:ly,Z:uy,"%":My},_={a:function(e){return s[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return a[e.getUTCMonth()]},c:null,d:hy,e:hy,f:my,g:Ey,G:Ty,H:dy,I:fy,j:py,L:gy,m:vy,M:yy,p:function(e){return r[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Ay,s:Iy,S:by,u:_y,U:wy,V:xy,w:ky,W:Sy,x:null,X:null,y:Dy,Y:Ly,Z:Ny,"%":My},w={a:function(e,t,n){var i=f.exec(t.slice(n));return i?(e.w=p[i[0].toLowerCase()],n+i[0].length):-1},A:function(e,t,n){var i=h.exec(t.slice(n));return i?(e.w=d[i[0].toLowerCase()],n+i[0].length):-1},b:function(e,t,n){var i=v.exec(t.slice(n));return i?(e.m=y[i[0].toLowerCase()],n+i[0].length):-1},B:function(e,t,n){var i=g.exec(t.slice(n));return i?(e.m=m[i[0].toLowerCase()],n+i[0].length):-1},c:function(e,n,i){return k(e,t,n,i)},d:Fv,e:Fv,f:Vv,g:Mv,G:Nv,H:Pv,I:Pv,j:Rv,L:zv,m:Ov,M:Bv,p:function(e,t,n){var i=c.exec(t.slice(n));return i?(e.p=u[i[0].toLowerCase()],n+i[0].length):-1},q:Iv,Q:Hv,s:Uv,S:jv,u:Dv,U:Ev,V:Lv,w:Sv,W:Tv,x:function(e,t,i){return k(e,n,t,i)},X:function(e,t,n){return k(e,i,t,n)},y:Mv,Y:Nv,Z:Av,"%":Wv};function C(e,t){return function(n){var i,r,o,s=[],a=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++a<c;)37===e.charCodeAt(a)&&(s.push(e.slice(l,a)),null!=(r=vv[i=e.charAt(++a)])?i=e.charAt(++a):r="e"===i?" ":"0",(o=t[i])&&(i=o(n,r)),s.push(i),l=a+1);return s.push(e.slice(l,a)),s.join("")}}function x(e,t){return function(n){var i,r,o=uv(1900,void 0,1);if(k(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(r=(i=cv(uv(o.y,0,1))).getUTCDay(),i=r>4||0===r?Hm.ceil(i):Hm(i),i=iv.offset(i,7*(o.V-1)),o.y=i.getUTCFullYear(),o.m=i.getUTCMonth(),o.d=i.getUTCDate()+(o.w+6)%7):(r=(i=lv(uv(o.y,0,1))).getDay(),i=r>4||0===r?fm.ceil(i):fm(i),i=Em.offset(i,7*(o.V-1)),o.y=i.getFullYear(),o.m=i.getMonth(),o.d=i.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),r="Z"in o?cv(uv(o.y,0,1)).getUTCDay():lv(uv(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(r+5)%7:o.w+7*o.U-(r+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,cv(o)):lv(o)}}function k(e,t,n,i){for(var r,o,s=0,a=t.length,l=n.length;s<a;){if(i>=l)return-1;if(37===(r=t.charCodeAt(s++))){if(r=t.charAt(s++),!(o=w[r in vv?t.charAt(s++):r])||(i=o(e,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}return b.x=C(n,b),b.X=C(i,b),b.c=C(t,b),_.x=C(n,_),_.X=C(i,_),_.c=C(t,_),{format:function(e){var t=C(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=x(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=C(e+="",_);return t.toString=function(){return e},t},utcParse:function(e){var t=x(e+="",!0);return t.toString=function(){return e},t}}}var dv,fv,pv,gv,mv,vv={"-":"",_:" ",0:"0"},yv=/^\s*\d+/,bv=/^%/,_v=/[\\^$*+?|[\]().{}]/g;function wv(e,t,n){var i=e<0?"-":"",r=(i?-e:e)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(t)+r:r)}function Cv(e){return e.replace(_v,"\\$&")}function xv(e){return new RegExp("^(?:"+e.map(Cv).join("|")+")","i")}function kv(e){for(var t={},n=-1,i=e.length;++n<i;)t[e[n].toLowerCase()]=n;return t}function Sv(e,t,n){var i=yv.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function Dv(e,t,n){var i=yv.exec(t.slice(n,n+1));return i?(e.u=+i[0],n+i[0].length):-1}function Ev(e,t,n){var i=yv.exec(t.slice(n,n+2));return i?(e.U=+i[0],n+i[0].length):-1}function Lv(e,t,n){var i=yv.exec(t.slice(n,n+2));return i?(e.V=+i[0],n+i[0].length):-1}function Tv(e,t,n){var i=yv.exec(t.slice(n,n+2));return i?(e.W=+i[0],n+i[0].length):-1}function Nv(e,t,n){var i=yv.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function Mv(e,t,n){var i=yv.exec(t.slice(n,n+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function Av(e,t,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function Iv(e,t,n){var i=yv.exec(t.slice(n,n+1));return i?(e.q=3*i[0]-3,n+i[0].length):-1}function Ov(e,t,n){var i=yv.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function Fv(e,t,n){var i=yv.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function Rv(e,t,n){var i=yv.exec(t.slice(n,n+3));return i?(e.m=0,e.d=+i[0],n+i[0].length):-1}function Pv(e,t,n){var i=yv.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function Bv(e,t,n){var i=yv.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function jv(e,t,n){var i=yv.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function zv(e,t,n){var i=yv.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function Vv(e,t,n){var i=yv.exec(t.slice(n,n+6));return i?(e.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function Wv(e,t,n){var i=bv.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function Hv(e,t,n){var i=yv.exec(t.slice(n));return i?(e.Q=+i[0],n+i[0].length):-1}function Uv(e,t,n){var i=yv.exec(t.slice(n));return i?(e.s=+i[0],n+i[0].length):-1}function $v(e,t){return wv(e.getDate(),t,2)}function qv(e,t){return wv(e.getHours(),t,2)}function Kv(e,t){return wv(e.getHours()%12||12,t,2)}function Yv(e,t){return wv(1+Em.count(tm(e),e),t,3)}function Gv(e,t){return wv(e.getMilliseconds(),t,3)}function Xv(e,t){return Gv(e,t)+"000"}function Zv(e,t){return wv(e.getMonth()+1,t,2)}function Jv(e,t){return wv(e.getMinutes(),t,2)}function Qv(e,t){return wv(e.getSeconds(),t,2)}function ey(e){var t=e.getDay();return 0===t?7:t}function ty(e,t){return wv(dm.count(tm(e)-1,e),t,2)}function ny(e){var t=e.getDay();return t>=4||0===t?mm(e):mm.ceil(e)}function iy(e,t){return e=ny(e),wv(mm.count(tm(e),e)+(4===tm(e).getDay()),t,2)}function ry(e){return e.getDay()}function oy(e,t){return wv(fm.count(tm(e)-1,e),t,2)}function sy(e,t){return wv(e.getFullYear()%100,t,2)}function ay(e,t){return wv((e=ny(e)).getFullYear()%100,t,2)}function ly(e,t){return wv(e.getFullYear()%1e4,t,4)}function cy(e,t){var n=e.getDay();return wv((e=n>=4||0===n?mm(e):mm.ceil(e)).getFullYear()%1e4,t,4)}function uy(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+wv(t/60|0,"0",2)+wv(t%60,"0",2)}function hy(e,t){return wv(e.getUTCDate(),t,2)}function dy(e,t){return wv(e.getUTCHours(),t,2)}function fy(e,t){return wv(e.getUTCHours()%12||12,t,2)}function py(e,t){return wv(1+iv.count(sv(e),e),t,3)}function gy(e,t){return wv(e.getUTCMilliseconds(),t,3)}function my(e,t){return gy(e,t)+"000"}function vy(e,t){return wv(e.getUTCMonth()+1,t,2)}function yy(e,t){return wv(e.getUTCMinutes(),t,2)}function by(e,t){return wv(e.getUTCSeconds(),t,2)}function _y(e){var t=e.getUTCDay();return 0===t?7:t}function wy(e,t){return wv(Wm.count(sv(e)-1,e),t,2)}function Cy(e){var t=e.getUTCDay();return t>=4||0===t?qm(e):qm.ceil(e)}function xy(e,t){return e=Cy(e),wv(qm.count(sv(e),e)+(4===sv(e).getUTCDay()),t,2)}function ky(e){return e.getUTCDay()}function Sy(e,t){return wv(Hm.count(sv(e)-1,e),t,2)}function Dy(e,t){return wv(e.getUTCFullYear()%100,t,2)}function Ey(e,t){return wv((e=Cy(e)).getUTCFullYear()%100,t,2)}function Ly(e,t){return wv(e.getUTCFullYear()%1e4,t,4)}function Ty(e,t){var n=e.getUTCDay();return wv((e=n>=4||0===n?qm(e):qm.ceil(e)).getUTCFullYear()%1e4,t,4)}function Ny(){return"+0000"}function My(){return"%"}function Ay(e){return+e}function Iy(e){return Math.floor(+e/1e3)}function Oy(e){return dv=hv(e),fv=dv.format,pv=dv.parse,gv=dv.utcFormat,mv=dv.utcParse,dv}Oy({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Fy=31536e6;function Ry(e){return new Date(e)}function Py(e){return e instanceof Date?+e:+new Date(+e)}function By(e,t,n,i,r,s,a,l,c){var u=kg(vg,vg),h=u.invert,d=u.domain,f=c(".%L"),p=c(":%S"),g=c("%I:%M"),m=c("%I %p"),v=c("%a %d"),y=c("%b %d"),b=c("%B"),_=c("%Y"),w=[[a,1,1e3],[a,5,5e3],[a,15,15e3],[a,30,3e4],[s,1,6e4],[s,5,3e5],[s,15,9e5],[s,30,18e5],[r,1,36e5],[r,3,108e5],[r,6,216e5],[r,12,432e5],[i,1,864e5],[i,2,1728e5],[n,1,6048e5],[t,1,2592e6],[t,3,7776e6],[e,1,Fy]];function C(o){return(a(o)<o?f:s(o)<o?p:r(o)<o?g:i(o)<o?m:t(o)<o?n(o)<o?v:y:e(o)<o?b:_)(o)}function x(t,n,i,r){if(null==t&&(t=10),"number"==typeof t){var s=Math.abs(i-n)/t,a=o((function(e){return e[2]})).right(w,s);a===w.length?(r=T(n/Fy,i/Fy,t),t=e):a?(r=(a=w[s/w[a-1][2]<w[a][2]/s?a-1:a])[1],t=a[0]):(r=Math.max(T(n,i,t),1),t=l)}return null==r?t:t.every(r)}return u.invert=function(e){return new Date(h(e))},u.domain=function(e){return arguments.length?d(lg.call(e,Py)):d().map(Ry)},u.ticks=function(e,t){var n,i=d(),r=i[0],o=i[i.length-1],s=o<r;return s&&(n=r,r=o,o=n),n=(n=x(e,r,o,t))?n.range(r,o+1):[],s?n.reverse():n},u.tickFormat=function(e,t){return null==t?C:c(t)},u.nice=function(e,t){var n=d();return(e=x(e,n[0],n[n.length-1],t))?d(Tg(n,e)):u},u.copy=function(){return Cg(u,By(e,t,n,i,r,s,a,l,c))},u}function jy(){return og.apply(By(tm,rm,dm,Em,Nm,Im,Rm,jm,fv).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var zy=Qg((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}));const Vy=zy;var Wy=zy.range,Hy=Qg((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*lm)}),(function(e,t){return(t-e)/lm}),(function(e){return e.getUTCHours()}));const Uy=Hy;var $y=Hy.range,qy=Qg((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*am)}),(function(e,t){return(t-e)/am}),(function(e){return e.getUTCMinutes()}));const Ky=qy;var Yy=qy.range;function Gy(){return og.apply(By(sv,Vy,Wm,iv,Uy,Ky,Rm,jm,gv).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Xy(){var e,t,n,i,r,o=0,s=1,a=vg,l=!1;function c(t){return isNaN(t=+t)?r:a(0===n?.5:(t=(i(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}return c.domain=function(r){return arguments.length?(e=i(o=+r[0]),t=i(s=+r[1]),n=e===t?0:1/(t-e),c):[o,s]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(a=e,c):a},c.unknown=function(e){return arguments.length?(r=e,c):r},function(r){return i=r,e=r(o),t=r(s),n=e===t?0:1/(t-e),c}}function Zy(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Jy(){var e=Dg(Xy()(vg));return e.copy=function(){return Zy(e,Jy())},sg.apply(e,arguments)}function Qy(){var e=Rg(Xy()).domain([1,10]);return e.copy=function(){return Zy(e,Qy()).base(e.base())},sg.apply(e,arguments)}function eb(){var e=zg(Xy());return e.copy=function(){return Zy(e,eb()).constant(e.constant())},sg.apply(e,arguments)}function tb(){var e=$g(Xy());return e.copy=function(){return Zy(e,tb()).exponent(e.exponent())},sg.apply(e,arguments)}function nb(){return tb.apply(null,arguments).exponent(.5)}function ib(){var e=[],t=vg;function n(n){if(!isNaN(n=+n))return t((c(e,n)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var i,o=0,s=t.length;o<s;++o)null==(i=t[o])||isNaN(i=+i)||e.push(i);return e.sort(r),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return ib(t).domain(e)},sg.apply(n,arguments)}function rb(){var e,t,n,i,r,o,s,a=0,l=.5,c=1,u=vg,h=!1;function d(e){return isNaN(e=+e)?s:(e=.5+((e=+o(e))-t)*(e<t?i:r),u(h?Math.max(0,Math.min(1,e)):e))}return d.domain=function(s){return arguments.length?(e=o(a=+s[0]),t=o(l=+s[1]),n=o(c=+s[2]),i=e===t?0:.5/(t-e),r=t===n?0:.5/(n-t),d):[a,l,c]},d.clamp=function(e){return arguments.length?(h=!!e,d):h},d.interpolator=function(e){return arguments.length?(u=e,d):u},d.unknown=function(e){return arguments.length?(s=e,d):s},function(s){return o=s,e=s(a),t=s(l),n=s(c),i=e===t?0:.5/(t-e),r=t===n?0:.5/(n-t),d}}function ob(){var e=Dg(rb()(vg));return e.copy=function(){return Zy(e,ob())},sg.apply(e,arguments)}function sb(){var e=Rg(rb()).domain([.1,1,10]);return e.copy=function(){return Zy(e,sb()).base(e.base())},sg.apply(e,arguments)}function ab(){var e=zg(rb());return e.copy=function(){return Zy(e,ab()).constant(e.constant())},sg.apply(e,arguments)}function lb(){var e=$g(rb());return e.copy=function(){return Zy(e,lb()).exponent(e.exponent())},sg.apply(e,arguments)}function cb(){return lb.apply(null,arguments).exponent(.5)}function ub(e){for(var t=e.length/6|0,n=new Array(t),i=0;i<t;)n[i]="#"+e.slice(6*i,6*++i);return n}const hb=ub("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),db=ub("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),fb=ub("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),pb=ub("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),gb=ub("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),mb=ub("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),vb=ub("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),yb=ub("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),bb=ub("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),_b=ub("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function wb(e){return vn(e[e.length-1])}var Cb=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(ub);const xb=wb(Cb);var kb=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(ub);const Sb=wb(kb);var Db=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(ub);const Eb=wb(Db);var Lb=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(ub);const Tb=wb(Lb);var Nb=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(ub);const Mb=wb(Nb);var Ab=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(ub);const Ib=wb(Ab);var Ob=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(ub);const Fb=wb(Ob);var Rb=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(ub);const Pb=wb(Rb);var Bb=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(ub);const jb=wb(Bb);var zb=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(ub);const Vb=wb(zb);var Wb=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(ub);const Hb=wb(Wb);var Ub=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(ub);const $b=wb(Ub);var qb=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(ub);const Kb=wb(qb);var Yb=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(ub);const Gb=wb(Yb);var Xb=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(ub);const Zb=wb(Xb);var Jb=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(ub);const Qb=wb(Jb);var e_=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(ub);const t_=wb(e_);var n_=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(ub);const i_=wb(n_);var r_=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(ub);const o_=wb(r_);var s_=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(ub);const a_=wb(s_);var l_=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(ub);const c_=wb(l_);var u_=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(ub);const h_=wb(u_);var d_=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(ub);const f_=wb(d_);var p_=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(ub);const g_=wb(p_);var m_=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(ub);const v_=wb(m_);var y_=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(ub);const b_=wb(y_);var __=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(ub);const w_=wb(__);function C_(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"}const x_=Vp($o(300,.5,0),$o(-240,.5,1));var k_=Vp($o(-100,.75,.35),$o(80,1.5,.8)),S_=Vp($o(260,.75,.35),$o(80,1.5,.8)),D_=$o();function E_(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return D_.h=360*e-100,D_.s=1.5-1.5*t,D_.l=.8-.9*t,D_+""}var L_=Zt(),T_=Math.PI/3,N_=2*Math.PI/3;function M_(e){var t;return e=(.5-e)*Math.PI,L_.r=255*(t=Math.sin(e))*t,L_.g=255*(t=Math.sin(e+T_))*t,L_.b=255*(t=Math.sin(e+N_))*t,L_+""}function A_(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"}function I_(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const O_=I_(ub("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var F_=I_(ub("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),R_=I_(ub("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),P_=I_(ub("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function B_(e){return kt(rt(e).call(document.documentElement))}var j_=0;function z_(){return new V_}function V_(){this._="@"+(++j_).toString(36)}function W_(e){return"string"==typeof e?new wt([document.querySelectorAll(e)],[document.documentElement]):new wt([null==e?[]:e],_t)}function H_(e,t){null==t&&(t=Nn().touches);for(var n=0,i=t?t.length:0,r=new Array(i);n<i;++n)r[n]=Mn(e,t[n]);return r}function U_(e){return function(){return e}}V_.prototype=z_.prototype={constructor:V_,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var $_=Math.abs,q_=Math.atan2,K_=Math.cos,Y_=Math.max,G_=Math.min,X_=Math.sin,Z_=Math.sqrt,J_=1e-12,Q_=Math.PI,ew=Q_/2,tw=2*Q_;function nw(e){return e>1?0:e<-1?Q_:Math.acos(e)}function iw(e){return e>=1?ew:e<=-1?-ew:Math.asin(e)}function rw(e){return e.innerRadius}function ow(e){return e.outerRadius}function sw(e){return e.startAngle}function aw(e){return e.endAngle}function lw(e){return e&&e.padAngle}function cw(e,t,n,i,r,o,s,a){var l=n-e,c=i-t,u=s-r,h=a-o,d=h*l-u*c;if(!(d*d<J_))return[e+(d=(u*(t-o)-h*(e-r))/d)*l,t+d*c]}function uw(e,t,n,i,r,o,s){var a=e-n,l=t-i,c=(s?o:-o)/Z_(a*a+l*l),u=c*l,h=-c*a,d=e+u,f=t+h,p=n+u,g=i+h,m=(d+p)/2,v=(f+g)/2,y=p-d,b=g-f,_=y*y+b*b,w=r-o,C=d*g-p*f,x=(b<0?-1:1)*Z_(Y_(0,w*w*_-C*C)),k=(C*b-y*x)/_,S=(-C*y-b*x)/_,D=(C*b+y*x)/_,E=(-C*y+b*x)/_,L=k-m,T=S-v,N=D-m,M=E-v;return L*L+T*T>N*N+M*M&&(k=D,S=E),{cx:k,cy:S,x01:-u,y01:-h,x11:k*(r/w-1),y11:S*(r/w-1)}}function hw(){var e=rw,t=ow,n=U_(0),i=null,r=sw,o=aw,s=lw,a=null;function l(){var l,c,u=+e.apply(this,arguments),h=+t.apply(this,arguments),d=r.apply(this,arguments)-ew,f=o.apply(this,arguments)-ew,p=$_(f-d),g=f>d;if(a||(a=l=qr()),h<u&&(c=h,h=u,u=c),h>J_)if(p>tw-J_)a.moveTo(h*K_(d),h*X_(d)),a.arc(0,0,h,d,f,!g),u>J_&&(a.moveTo(u*K_(f),u*X_(f)),a.arc(0,0,u,f,d,g));else{var m,v,y=d,b=f,_=d,w=f,C=p,x=p,k=s.apply(this,arguments)/2,S=k>J_&&(i?+i.apply(this,arguments):Z_(u*u+h*h)),D=G_($_(h-u)/2,+n.apply(this,arguments)),E=D,L=D;if(S>J_){var T=iw(S/u*X_(k)),N=iw(S/h*X_(k));(C-=2*T)>J_?(_+=T*=g?1:-1,w-=T):(C=0,_=w=(d+f)/2),(x-=2*N)>J_?(y+=N*=g?1:-1,b-=N):(x=0,y=b=(d+f)/2)}var M=h*K_(y),A=h*X_(y),I=u*K_(w),O=u*X_(w);if(D>J_){var F,R=h*K_(b),P=h*X_(b),B=u*K_(_),j=u*X_(_);if(p<Q_&&(F=cw(M,A,B,j,R,P,I,O))){var z=M-F[0],V=A-F[1],W=R-F[0],H=P-F[1],U=1/X_(nw((z*W+V*H)/(Z_(z*z+V*V)*Z_(W*W+H*H)))/2),$=Z_(F[0]*F[0]+F[1]*F[1]);E=G_(D,(u-$)/(U-1)),L=G_(D,(h-$)/(U+1))}}x>J_?L>J_?(m=uw(B,j,M,A,h,L,g),v=uw(R,P,I,O,h,L,g),a.moveTo(m.cx+m.x01,m.cy+m.y01),L<D?a.arc(m.cx,m.cy,L,q_(m.y01,m.x01),q_(v.y01,v.x01),!g):(a.arc(m.cx,m.cy,L,q_(m.y01,m.x01),q_(m.y11,m.x11),!g),a.arc(0,0,h,q_(m.cy+m.y11,m.cx+m.x11),q_(v.cy+v.y11,v.cx+v.x11),!g),a.arc(v.cx,v.cy,L,q_(v.y11,v.x11),q_(v.y01,v.x01),!g))):(a.moveTo(M,A),a.arc(0,0,h,y,b,!g)):a.moveTo(M,A),u>J_&&C>J_?E>J_?(m=uw(I,O,R,P,u,-E,g),v=uw(M,A,B,j,u,-E,g),a.lineTo(m.cx+m.x01,m.cy+m.y01),E<D?a.arc(m.cx,m.cy,E,q_(m.y01,m.x01),q_(v.y01,v.x01),!g):(a.arc(m.cx,m.cy,E,q_(m.y01,m.x01),q_(m.y11,m.x11),!g),a.arc(0,0,u,q_(m.cy+m.y11,m.cx+m.x11),q_(v.cy+v.y11,v.cx+v.x11),g),a.arc(v.cx,v.cy,E,q_(v.y11,v.x11),q_(v.y01,v.x01),!g))):a.arc(0,0,u,w,_,g):a.lineTo(I,O)}else a.moveTo(0,0);if(a.closePath(),l)return a=null,l+""||null}return l.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,i=(+r.apply(this,arguments)+ +o.apply(this,arguments))/2-Q_/2;return[K_(i)*n,X_(i)*n]},l.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:U_(+t),l):e},l.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:U_(+e),l):t},l.cornerRadius=function(e){return arguments.length?(n="function"==typeof e?e:U_(+e),l):n},l.padRadius=function(e){return arguments.length?(i=null==e?null:"function"==typeof e?e:U_(+e),l):i},l.startAngle=function(e){return arguments.length?(r="function"==typeof e?e:U_(+e),l):r},l.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:U_(+e),l):o},l.padAngle=function(e){return arguments.length?(s="function"==typeof e?e:U_(+e),l):s},l.context=function(e){return arguments.length?(a=null==e?null:e,l):a},l}function dw(e){this._context=e}function fw(e){return new dw(e)}function pw(e){return e[0]}function gw(e){return e[1]}function mw(){var e=pw,t=gw,n=U_(!0),i=null,r=fw,o=null;function s(s){var a,l,c,u=s.length,h=!1;for(null==i&&(o=r(c=qr())),a=0;a<=u;++a)!(a<u&&n(l=s[a],a,s))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(l,a,s),+t(l,a,s));if(c)return o=null,c+""||null}return s.x=function(t){return arguments.length?(e="function"==typeof t?t:U_(+t),s):e},s.y=function(e){return arguments.length?(t="function"==typeof e?e:U_(+e),s):t},s.defined=function(e){return arguments.length?(n="function"==typeof e?e:U_(!!e),s):n},s.curve=function(e){return arguments.length?(r=e,null!=i&&(o=r(i)),s):r},s.context=function(e){return arguments.length?(null==e?i=o=null:o=r(i=e),s):i},s}function vw(){var e=pw,t=null,n=U_(0),i=gw,r=U_(!0),o=null,s=fw,a=null;function l(l){var c,u,h,d,f,p=l.length,g=!1,m=new Array(p),v=new Array(p);for(null==o&&(a=s(f=qr())),c=0;c<=p;++c){if(!(c<p&&r(d=l[c],c,l))===g)if(g=!g)u=c,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),h=c-1;h>=u;--h)a.point(m[h],v[h]);a.lineEnd(),a.areaEnd()}g&&(m[c]=+e(d,c,l),v[c]=+n(d,c,l),a.point(t?+t(d,c,l):m[c],i?+i(d,c,l):v[c]))}if(f)return a=null,f+""||null}function c(){return mw().defined(r).curve(s).context(o)}return l.x=function(n){return arguments.length?(e="function"==typeof n?n:U_(+n),t=null,l):e},l.x0=function(t){return arguments.length?(e="function"==typeof t?t:U_(+t),l):e},l.x1=function(e){return arguments.length?(t=null==e?null:"function"==typeof e?e:U_(+e),l):t},l.y=function(e){return arguments.length?(n="function"==typeof e?e:U_(+e),i=null,l):n},l.y0=function(e){return arguments.length?(n="function"==typeof e?e:U_(+e),l):n},l.y1=function(e){return arguments.length?(i=null==e?null:"function"==typeof e?e:U_(+e),l):i},l.lineX0=l.lineY0=function(){return c().x(e).y(n)},l.lineY1=function(){return c().x(e).y(i)},l.lineX1=function(){return c().x(t).y(n)},l.defined=function(e){return arguments.length?(r="function"==typeof e?e:U_(!!e),l):r},l.curve=function(e){return arguments.length?(s=e,null!=o&&(a=s(o)),l):s},l.context=function(e){return arguments.length?(null==e?o=a=null:a=s(o=e),l):o},l}function yw(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function bw(e){return e}function _w(){var e=bw,t=yw,n=null,i=U_(0),r=U_(tw),o=U_(0);function s(s){var a,l,c,u,h,d=s.length,f=0,p=new Array(d),g=new Array(d),m=+i.apply(this,arguments),v=Math.min(tw,Math.max(-tw,r.apply(this,arguments)-m)),y=Math.min(Math.abs(v)/d,o.apply(this,arguments)),b=y*(v<0?-1:1);for(a=0;a<d;++a)(h=g[p[a]=a]=+e(s[a],a,s))>0&&(f+=h);for(null!=t?p.sort((function(e,n){return t(g[e],g[n])})):null!=n&&p.sort((function(e,t){return n(s[e],s[t])})),a=0,c=f?(v-d*b)/f:0;a<d;++a,m=u)l=p[a],u=m+((h=g[l])>0?h*c:0)+b,g[l]={data:s[l],index:a,value:h,startAngle:m,endAngle:u,padAngle:y};return g}return s.value=function(t){return arguments.length?(e="function"==typeof t?t:U_(+t),s):e},s.sortValues=function(e){return arguments.length?(t=e,n=null,s):t},s.sort=function(e){return arguments.length?(n=e,t=null,s):n},s.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:U_(+e),s):i},s.endAngle=function(e){return arguments.length?(r="function"==typeof e?e:U_(+e),s):r},s.padAngle=function(e){return arguments.length?(o="function"==typeof e?e:U_(+e),s):o},s}dw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var ww=xw(fw);function Cw(e){this._curve=e}function xw(e){function t(t){return new Cw(e(t))}return t._curve=e,t}function kw(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(xw(e)):t()._curve},e}function Sw(){return kw(mw().curve(ww))}function Dw(){var e=vw().curve(ww),t=e.curve,n=e.lineX0,i=e.lineX1,r=e.lineY0,o=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return kw(n())},delete e.lineX0,e.lineEndAngle=function(){return kw(i())},delete e.lineX1,e.lineInnerRadius=function(){return kw(r())},delete e.lineY0,e.lineOuterRadius=function(){return kw(o())},delete e.lineY1,e.curve=function(e){return arguments.length?t(xw(e)):t()._curve},e}function Ew(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}Cw.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};var Lw=Array.prototype.slice;function Tw(e){return e.source}function Nw(e){return e.target}function Mw(e){var t=Tw,n=Nw,i=pw,r=gw,o=null;function s(){var s,a=Lw.call(arguments),l=t.apply(this,a),c=n.apply(this,a);if(o||(o=s=qr()),e(o,+i.apply(this,(a[0]=l,a)),+r.apply(this,a),+i.apply(this,(a[0]=c,a)),+r.apply(this,a)),s)return o=null,s+""||null}return s.source=function(e){return arguments.length?(t=e,s):t},s.target=function(e){return arguments.length?(n=e,s):n},s.x=function(e){return arguments.length?(i="function"==typeof e?e:U_(+e),s):i},s.y=function(e){return arguments.length?(r="function"==typeof e?e:U_(+e),s):r},s.context=function(e){return arguments.length?(o=null==e?null:e,s):o},s}function Aw(e,t,n,i,r){e.moveTo(t,n),e.bezierCurveTo(t=(t+i)/2,n,t,r,i,r)}function Iw(e,t,n,i,r){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+r)/2,i,n,i,r)}function Ow(e,t,n,i,r){var o=Ew(t,n),s=Ew(t,n=(n+r)/2),a=Ew(i,n),l=Ew(i,r);e.moveTo(o[0],o[1]),e.bezierCurveTo(s[0],s[1],a[0],a[1],l[0],l[1])}function Fw(){return Mw(Aw)}function Rw(){return Mw(Iw)}function Pw(){var e=Mw(Ow);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}const Bw={draw:function(e,t){var n=Math.sqrt(t/Q_);e.moveTo(n,0),e.arc(0,0,n,0,tw)}},jw={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}};var zw=Math.sqrt(1/3),Vw=2*zw;const Ww={draw:function(e,t){var n=Math.sqrt(t/Vw),i=n*zw;e.moveTo(0,-n),e.lineTo(i,0),e.lineTo(0,n),e.lineTo(-i,0),e.closePath()}};var Hw=Math.sin(Q_/10)/Math.sin(7*Q_/10),Uw=Math.sin(tw/10)*Hw,$w=-Math.cos(tw/10)*Hw;const qw={draw:function(e,t){var n=Math.sqrt(.8908130915292852*t),i=Uw*n,r=$w*n;e.moveTo(0,-n),e.lineTo(i,r);for(var o=1;o<5;++o){var s=tw*o/5,a=Math.cos(s),l=Math.sin(s);e.lineTo(l*n,-a*n),e.lineTo(a*i-l*r,l*i+a*r)}e.closePath()}},Kw={draw:function(e,t){var n=Math.sqrt(t),i=-n/2;e.rect(i,i,n,n)}};var Yw=Math.sqrt(3);const Gw={draw:function(e,t){var n=-Math.sqrt(t/(3*Yw));e.moveTo(0,2*n),e.lineTo(-Yw*n,-n),e.lineTo(Yw*n,-n),e.closePath()}};var Xw=-.5,Zw=Math.sqrt(3)/2,Jw=1/Math.sqrt(12),Qw=3*(Jw/2+1);const eC={draw:function(e,t){var n=Math.sqrt(t/Qw),i=n/2,r=n*Jw,o=i,s=n*Jw+n,a=-o,l=s;e.moveTo(i,r),e.lineTo(o,s),e.lineTo(a,l),e.lineTo(Xw*i-Zw*r,Zw*i+Xw*r),e.lineTo(Xw*o-Zw*s,Zw*o+Xw*s),e.lineTo(Xw*a-Zw*l,Zw*a+Xw*l),e.lineTo(Xw*i+Zw*r,Xw*r-Zw*i),e.lineTo(Xw*o+Zw*s,Xw*s-Zw*o),e.lineTo(Xw*a+Zw*l,Xw*l-Zw*a),e.closePath()}};var tC=[Bw,jw,Ww,Kw,qw,Gw,eC];function nC(){var e=U_(Bw),t=U_(64),n=null;function i(){var i;if(n||(n=i=qr()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return i.type=function(t){return arguments.length?(e="function"==typeof t?t:U_(t),i):e},i.size=function(e){return arguments.length?(t="function"==typeof e?e:U_(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}function iC(){}function rC(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function oC(e){this._context=e}function sC(e){return new oC(e)}function aC(e){this._context=e}function lC(e){return new aC(e)}function cC(e){this._context=e}function uC(e){return new cC(e)}function hC(e,t){this._basis=new oC(e),this._beta=t}oC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:rC(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:rC(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},aC.prototype={areaStart:iC,areaEnd:iC,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:rC(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},cC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:rC(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},hC.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var i,r=e[0],o=t[0],s=e[n]-r,a=t[n]-o,l=-1;++l<=n;)i=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(r+i*s),this._beta*t[l]+(1-this._beta)*(o+i*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const dC=function e(t){function n(e){return 1===t?new oC(e):new hC(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function fC(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function pC(e,t){this._context=e,this._k=(1-t)/6}pC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:fC(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:fC(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const gC=function e(t){function n(e){return new pC(e,t)}return n.tension=function(t){return e(+t)},n}(0);function mC(e,t){this._context=e,this._k=(1-t)/6}mC.prototype={areaStart:iC,areaEnd:iC,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:fC(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const vC=function e(t){function n(e){return new mC(e,t)}return n.tension=function(t){return e(+t)},n}(0);function yC(e,t){this._context=e,this._k=(1-t)/6}yC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:fC(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const bC=function e(t){function n(e){return new yC(e,t)}return n.tension=function(t){return e(+t)},n}(0);function _C(e,t,n){var i=e._x1,r=e._y1,o=e._x2,s=e._y2;if(e._l01_a>J_){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);i=(i*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,r=(r*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>J_){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*c+e._x1*e._l23_2a-t*e._l12_2a)/u,s=(s*c+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(i,r,o,s,e._x2,e._y2)}function wC(e,t){this._context=e,this._alpha=t}wC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:_C(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const CC=function e(t){function n(e){return t?new wC(e,t):new pC(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function xC(e,t){this._context=e,this._alpha=t}xC.prototype={areaStart:iC,areaEnd:iC,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:_C(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const kC=function e(t){function n(e){return t?new xC(e,t):new mC(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function SC(e,t){this._context=e,this._alpha=t}SC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:_C(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const DC=function e(t){function n(e){return t?new SC(e,t):new yC(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function EC(e){this._context=e}function LC(e){return new EC(e)}function TC(e){return e<0?-1:1}function NC(e,t,n){var i=e._x1-e._x0,r=t-e._x1,o=(e._y1-e._y0)/(i||r<0&&-0),s=(n-e._y1)/(r||i<0&&-0),a=(o*r+s*i)/(i+r);return(TC(o)+TC(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function MC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function AC(e,t,n){var i=e._x0,r=e._y0,o=e._x1,s=e._y1,a=(o-i)/3;e._context.bezierCurveTo(i+a,r+a*t,o-a,s-a*n,o,s)}function IC(e){this._context=e}function OC(e){this._context=new FC(e)}function FC(e){this._context=e}function RC(e){return new IC(e)}function PC(e){return new OC(e)}function BC(e){this._context=e}function jC(e){var t,n,i=e.length-1,r=new Array(i),o=new Array(i),s=new Array(i);for(r[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<i-1;++t)r[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(r[i-1]=2,o[i-1]=7,s[i-1]=8*e[i-1]+e[i],t=1;t<i;++t)n=r[t]/o[t-1],o[t]-=n,s[t]-=n*s[t-1];for(r[i-1]=s[i-1]/o[i-1],t=i-2;t>=0;--t)r[t]=(s[t]-r[t+1])/o[t];for(o[i-1]=(e[i]+r[i-1])/2,t=0;t<i-1;++t)o[t]=2*e[t+1]-r[t+1];return[r,o]}function zC(e){return new BC(e)}function VC(e,t){this._context=e,this._t=t}function WC(e){return new VC(e,.5)}function HC(e){return new VC(e,0)}function UC(e){return new VC(e,1)}function $C(e,t){if((r=e.length)>1)for(var n,i,r,o=1,s=e[t[0]],a=s.length;o<r;++o)for(i=s,s=e[t[o]],n=0;n<a;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function qC(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function KC(e,t){return e[t]}function YC(){var e=U_([]),t=qC,n=$C,i=KC;function r(r){var o,s,a=e.apply(this,arguments),l=r.length,c=a.length,u=new Array(c);for(o=0;o<c;++o){for(var h,d=a[o],f=u[o]=new Array(l),p=0;p<l;++p)f[p]=h=[0,+i(r[p],d,p,r)],h.data=r[p];f.key=d}for(o=0,s=t(u);o<c;++o)u[s[o]].index=o;return n(u,s),u}return r.keys=function(t){return arguments.length?(e="function"==typeof t?t:U_(Lw.call(t)),r):e},r.value=function(e){return arguments.length?(i="function"==typeof e?e:U_(+e),r):i},r.order=function(e){return arguments.length?(t=null==e?qC:"function"==typeof e?e:U_(Lw.call(e)),r):t},r.offset=function(e){return arguments.length?(n=null==e?$C:e,r):n},r}function GC(e,t){if((i=e.length)>0){for(var n,i,r,o=0,s=e[0].length;o<s;++o){for(r=n=0;n<i;++n)r+=e[n][o][1]||0;if(r)for(n=0;n<i;++n)e[n][o][1]/=r}$C(e,t)}}function XC(e,t){if((a=e.length)>0)for(var n,i,r,o,s,a,l=0,c=e[t[0]].length;l<c;++l)for(o=s=0,n=0;n<a;++n)(r=(i=e[t[n]][l])[1]-i[0])>0?(i[0]=o,i[1]=o+=r):r<0?(i[1]=s,i[0]=s+=r):(i[0]=0,i[1]=r)}function ZC(e,t){if((n=e.length)>0){for(var n,i=0,r=e[t[0]],o=r.length;i<o;++i){for(var s=0,a=0;s<n;++s)a+=e[s][i][1]||0;r[i][1]+=r[i][0]=-a/2}$C(e,t)}}function JC(e,t){if((r=e.length)>0&&(i=(n=e[t[0]]).length)>0){for(var n,i,r,o=0,s=1;s<i;++s){for(var a=0,l=0,c=0;a<r;++a){for(var u=e[t[a]],h=u[s][1]||0,d=(h-(u[s-1][1]||0))/2,f=0;f<a;++f){var p=e[t[f]];d+=(p[s][1]||0)-(p[s-1][1]||0)}l+=h,c+=d*h}n[s-1][1]+=n[s-1][0]=o,l&&(o-=c/l)}n[s-1][1]+=n[s-1][0]=o,$C(e,t)}}function QC(e){var t=e.map(ex);return qC(e).sort((function(e,n){return t[e]-t[n]}))}function ex(e){for(var t,n=-1,i=0,r=e.length,o=-1/0;++n<r;)(t=+e[n][1])>o&&(o=t,i=n);return i}function tx(e){var t=e.map(nx);return qC(e).sort((function(e,n){return t[e]-t[n]}))}function nx(e){for(var t,n=0,i=-1,r=e.length;++i<r;)(t=+e[i][1])&&(n+=t);return n}function ix(e){return tx(e).reverse()}function rx(e){var t,n,i=e.length,r=e.map(nx),o=QC(e),s=0,a=0,l=[],c=[];for(t=0;t<i;++t)n=o[t],s<a?(s+=r[n],l.push(n)):(a+=r[n],c.push(n));return c.reverse().concat(l)}function ox(e){return qC(e).reverse()}EC.prototype={areaStart:iC,areaEnd:iC,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},IC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:AC(this,this._t0,MC(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,AC(this,MC(this,n=NC(this,e,t)),n);break;default:AC(this,this._t0,n=NC(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(OC.prototype=Object.create(IC.prototype)).point=function(e,t){IC.prototype.point.call(this,t,e)},FC.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,i,r,o){this._context.bezierCurveTo(t,e,i,n,o,r)}},BC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var i=jC(e),r=jC(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],e[s],t[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},VC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var sx="%Y-%m-%dT%H:%M:%S.%LZ";const ax=Date.prototype.toISOString?function(e){return e.toISOString()}:gv(sx);const lx=+new Date("2000-01-01T00:00:00.000Z")?function(e){var t=new Date(e);return isNaN(t)?null:t}:mv(sx);function cx(e,t,n){var i=new qn,r=t;return null==t?(i.restart(e,t,n),i):(t=+t,n=null==n?Un():+n,i.restart((function o(s){s+=r,i.restart(o,r+=t,n),e(s)}),t,n),i)}function ux(e){return function(){return e}}function hx(e){return e[0]}function dx(e){return e[1]}function fx(){this._=null}function px(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function gx(e,t){var n=t,i=t.R,r=n.U;r?r.L===n?r.L=i:r.R=i:e._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function mx(e,t){var n=t,i=t.L,r=n.U;r?r.L===n?r.L=i:r.R=i:e._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function vx(e){for(;e.L;)e=e.L;return e}fx.prototype={constructor:fx,insert:function(e,t){var n,i,r;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=vx(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,e=i):(e===n.R&&(gx(this,n),n=(e=n).U),n.C=!1,i.C=!0,mx(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,e=i):(e===n.L&&(mx(this,n),n=(e=n).U),n.C=!1,i.C=!0,gx(this,i)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,i,r=e.U,o=e.L,s=e.R;if(n=o?s?vx(s):o:s,r?r.L===e?r.L=n:r.R=n:this._=n,o&&s?(i=n.C,n.C=e.C,n.L=o,o.U=n,n!==s?(r=n.U,n.U=e.U,e=n.R,r.L=e,n.R=s,s.U=n):(n.U=r,r=n,e=n.R)):(i=e.C,e=n),e&&(e.U=r),!i)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===r.L){if((t=r.R).C&&(t.C=!1,r.C=!0,gx(this,r),t=r.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,mx(this,t),t=r.R),t.C=r.C,r.C=t.R.C=!1,gx(this,r),e=this._;break}}else if((t=r.L).C&&(t.C=!1,r.C=!0,mx(this,r),t=r.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,gx(this,t),t=r.L),t.C=r.C,r.C=t.L.C=!1,mx(this,r),e=this._;break}t.C=!0,e=r,r=r.U}while(!e.C);e&&(e.C=!1)}}};const yx=fx;function bx(e,t,n,i){var r=[null,null],o=Hx.push(r)-1;return r.left=e,r.right=t,n&&wx(r,e,t,n),i&&wx(r,t,e,i),Vx[e.index].halfedges.push(o),Vx[t.index].halfedges.push(o),r}function _x(e,t,n){var i=[t,n];return i.left=e,i}function wx(e,t,n,i){e[0]||e[1]?e.left===n?e[1]=i:e[0]=i:(e[0]=i,e.left=t,e.right=n)}function Cx(e,t,n,i,r){var o,s=e[0],a=e[1],l=s[0],c=s[1],u=0,h=1,d=a[0]-l,f=a[1]-c;if(o=t-l,d||!(o>0)){if(o/=d,d<0){if(o<u)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>u&&(u=o)}if(o=i-l,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>u&&(u=o)}else if(d>0){if(o<u)return;o<h&&(h=o)}if(o=n-c,f||!(o>0)){if(o/=f,f<0){if(o<u)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>u&&(u=o)}if(o=r-c,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>u&&(u=o)}else if(f>0){if(o<u)return;o<h&&(h=o)}return!(u>0||h<1)||(u>0&&(e[0]=[l+u*d,c+u*f]),h<1&&(e[1]=[l+h*d,c+h*f]),!0)}}}}}function xx(e,t,n,i,r){var o=e[1];if(o)return!0;var s,a,l=e[0],c=e.left,u=e.right,h=c[0],d=c[1],f=u[0],p=u[1],g=(h+f)/2,m=(d+p)/2;if(p===d){if(g<t||g>=i)return;if(h>f){if(l){if(l[1]>=r)return}else l=[g,n];o=[g,r]}else{if(l){if(l[1]<n)return}else l=[g,r];o=[g,n]}}else if(a=m-(s=(h-f)/(p-d))*g,s<-1||s>1)if(h>f){if(l){if(l[1]>=r)return}else l=[(n-a)/s,n];o=[(r-a)/s,r]}else{if(l){if(l[1]<n)return}else l=[(r-a)/s,r];o=[(n-a)/s,n]}else if(d<p){if(l){if(l[0]>=i)return}else l=[t,s*t+a];o=[i,s*i+a]}else{if(l){if(l[0]<t)return}else l=[i,s*i+a];o=[t,s*t+a]}return e[0]=l,e[1]=o,!0}function kx(e,t){var n=e.site,i=t.left,r=t.right;return n===r&&(r=i,i=n),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(n===i?(i=t[1],r=t[0]):(i=t[0],r=t[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function Sx(e,t){return t[+(t.left!==e.site)]}function Dx(e,t){return t[+(t.left===e.site)]}var Ex,Lx=[];function Tx(){px(this),this.x=this.y=this.arc=this.site=this.cy=null}function Nx(e){var t=e.P,n=e.N;if(t&&n){var i=t.site,r=e.site,o=n.site;if(i!==o){var s=r[0],a=r[1],l=i[0]-s,c=i[1]-a,u=o[0]-s,h=o[1]-a,d=2*(l*h-c*u);if(!(d>=-$x)){var f=l*l+c*c,p=u*u+h*h,g=(h*f-c*p)/d,m=(l*p-u*f)/d,v=Lx.pop()||new Tx;v.arc=e,v.site=r,v.x=g+s,v.y=(v.cy=m+a)+Math.sqrt(g*g+m*m),e.circle=v;for(var y=null,b=Wx._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}Wx.insert(y,v),y||(Ex=v)}}}}function Mx(e){var t=e.circle;t&&(t.P||(Ex=t.N),Wx.remove(t),Lx.push(t),px(t),e.circle=null)}var Ax=[];function Ix(){px(this),this.edge=this.site=this.circle=null}function Ox(e){var t=Ax.pop()||new Ix;return t.site=e,t}function Fx(e){Mx(e),zx.remove(e),Ax.push(e),px(e)}function Rx(e){var t=e.circle,n=t.x,i=t.cy,r=[n,i],o=e.P,s=e.N,a=[e];Fx(e);for(var l=o;l.circle&&Math.abs(n-l.circle.x)<Ux&&Math.abs(i-l.circle.cy)<Ux;)o=l.P,a.unshift(l),Fx(l),l=o;a.unshift(l),Mx(l);for(var c=s;c.circle&&Math.abs(n-c.circle.x)<Ux&&Math.abs(i-c.circle.cy)<Ux;)s=c.N,a.push(c),Fx(c),c=s;a.push(c),Mx(c);var u,h=a.length;for(u=1;u<h;++u)c=a[u],l=a[u-1],wx(c.edge,l.site,c.site,r);l=a[0],(c=a[h-1]).edge=bx(l.site,c.site,null,r),Nx(l),Nx(c)}function Px(e){for(var t,n,i,r,o=e[0],s=e[1],a=zx._;a;)if((i=Bx(a,s)-o)>Ux)a=a.L;else{if(!((r=o-jx(a,s))>Ux)){i>-Ux?(t=a.P,n=a):r>-Ux?(t=a,n=a.N):t=n=a;break}if(!a.R){t=a;break}a=a.R}var l;Vx[(l=e).index]={site:l,halfedges:[]};var c=Ox(e);if(zx.insert(t,c),t||n){if(t===n)return Mx(t),n=Ox(t.site),zx.insert(c,n),c.edge=n.edge=bx(t.site,c.site),Nx(t),void Nx(n);if(n){Mx(t),Mx(n);var u=t.site,h=u[0],d=u[1],f=e[0]-h,p=e[1]-d,g=n.site,m=g[0]-h,v=g[1]-d,y=2*(f*v-p*m),b=f*f+p*p,_=m*m+v*v,w=[(v*b-p*_)/y+h,(f*_-m*b)/y+d];wx(n.edge,u,g,w),c.edge=bx(u,e,null,w),n.edge=bx(e,g,null,w),Nx(t),Nx(n)}else c.edge=bx(t.site,c.site)}}function Bx(e,t){var n=e.site,i=n[0],r=n[1],o=r-t;if(!o)return i;var s=e.P;if(!s)return-1/0;var a=(n=s.site)[0],l=n[1],c=l-t;if(!c)return a;var u=a-i,h=1/o-1/c,d=u/c;return h?(-d+Math.sqrt(d*d-2*h*(u*u/(-2*c)-l+c/2+r-o/2)))/h+i:(i+a)/2}function jx(e,t){var n=e.N;if(n)return Bx(n,t);var i=e.site;return i[1]===t?i[0]:1/0}var zx,Vx,Wx,Hx,Ux=1e-6,$x=1e-12;function qx(e,t,n){return(e[0]-n[0])*(t[1]-e[1])-(e[0]-t[0])*(n[1]-e[1])}function Kx(e,t){return t[1]-e[1]||t[0]-e[0]}function Yx(e,t){var n,i,r,o=e.sort(Kx).pop();for(Hx=[],Vx=new Array(e.length),zx=new yx,Wx=new yx;;)if(r=Ex,o&&(!r||o[1]<r.y||o[1]===r.y&&o[0]<r.x))o[0]===n&&o[1]===i||(Px(o),n=o[0],i=o[1]),o=e.pop();else{if(!r)break;Rx(r.arc)}if(function(){for(var e,t,n,i,r=0,o=Vx.length;r<o;++r)if((e=Vx[r])&&(i=(t=e.halfedges).length)){var s=new Array(i),a=new Array(i);for(n=0;n<i;++n)s[n]=n,a[n]=kx(e,Hx[t[n]]);for(s.sort((function(e,t){return a[t]-a[e]})),n=0;n<i;++n)a[n]=t[s[n]];for(n=0;n<i;++n)t[n]=a[n]}}(),t){var s=+t[0][0],a=+t[0][1],l=+t[1][0],c=+t[1][1];!function(e,t,n,i){for(var r,o=Hx.length;o--;)xx(r=Hx[o],e,t,n,i)&&Cx(r,e,t,n,i)&&(Math.abs(r[0][0]-r[1][0])>Ux||Math.abs(r[0][1]-r[1][1])>Ux)||delete Hx[o]}(s,a,l,c),function(e,t,n,i){var r,o,s,a,l,c,u,h,d,f,p,g,m=Vx.length,v=!0;for(r=0;r<m;++r)if(o=Vx[r]){for(s=o.site,a=(l=o.halfedges).length;a--;)Hx[l[a]]||l.splice(a,1);for(a=0,c=l.length;a<c;)p=(f=Dx(o,Hx[l[a]]))[0],g=f[1],h=(u=Sx(o,Hx[l[++a%c]]))[0],d=u[1],(Math.abs(p-h)>Ux||Math.abs(g-d)>Ux)&&(l.splice(a,0,Hx.push(_x(s,f,Math.abs(p-e)<Ux&&i-g>Ux?[e,Math.abs(h-e)<Ux?d:i]:Math.abs(g-i)<Ux&&n-p>Ux?[Math.abs(d-i)<Ux?h:n,i]:Math.abs(p-n)<Ux&&g-t>Ux?[n,Math.abs(h-n)<Ux?d:t]:Math.abs(g-t)<Ux&&p-e>Ux?[Math.abs(d-t)<Ux?h:e,t]:null))-1),++c);c&&(v=!1)}if(v){var y,b,_,w=1/0;for(r=0,v=null;r<m;++r)(o=Vx[r])&&(_=(y=(s=o.site)[0]-e)*y+(b=s[1]-t)*b)<w&&(w=_,v=o);if(v){var C=[e,t],x=[e,i],k=[n,i],S=[n,t];v.halfedges.push(Hx.push(_x(s=v.site,C,x))-1,Hx.push(_x(s,x,k))-1,Hx.push(_x(s,k,S))-1,Hx.push(_x(s,S,C))-1)}}for(r=0;r<m;++r)(o=Vx[r])&&(o.halfedges.length||delete Vx[r])}(s,a,l,c)}this.edges=Hx,this.cells=Vx,zx=Wx=Hx=Vx=null}function Gx(){var e=hx,t=dx,n=null;function i(i){return new Yx(i.map((function(n,r){var o=[Math.round(e(n,r,i)/Ux)*Ux,Math.round(t(n,r,i)/Ux)*Ux];return o.index=r,o.data=n,o})),n)}return i.polygons=function(e){return i(e).polygons()},i.links=function(e){return i(e).links()},i.triangles=function(e){return i(e).triangles()},i.x=function(t){return arguments.length?(e="function"==typeof t?t:ux(+t),i):e},i.y=function(e){return arguments.length?(t="function"==typeof e?e:ux(+e),i):t},i.extent=function(e){return arguments.length?(n=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],i):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},i.size=function(e){return arguments.length?(n=null==e?null:[[0,0],[+e[0],+e[1]]],i):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},i}function Xx(e){return function(){return e}}function Zx(e,t,n){this.target=e,this.type=t,this.transform=n}function Jx(e,t,n){this.k=e,this.x=t,this.y=n}Yx.prototype={constructor:Yx,polygons:function(){var e=this.edges;return this.cells.map((function(t){var n=t.halfedges.map((function(n){return Sx(t,e[n])}));return n.data=t.site.data,n}))},triangles:function(){var e=[],t=this.edges;return this.cells.forEach((function(n,i){if(o=(r=n.halfedges).length)for(var r,o,s,a=n.site,l=-1,c=t[r[o-1]],u=c.left===a?c.right:c.left;++l<o;)s=u,u=(c=t[r[l]]).left===a?c.right:c.left,s&&u&&i<s.index&&i<u.index&&qx(a,s,u)<0&&e.push([a.data,s.data,u.data])})),e},links:function(){return this.edges.filter((function(e){return e.right})).map((function(e){return{source:e.left.data,target:e.right.data}}))},find:function(e,t,n){for(var i,r,o=this,s=o._found||0,a=o.cells.length;!(r=o.cells[s]);)if(++s>=a)return null;var l=e-r.site[0],c=t-r.site[1],u=l*l+c*c;do{r=o.cells[i=s],s=null,r.halfedges.forEach((function(n){var i=o.edges[n],a=i.left;if(a!==r.site&&a||(a=i.right)){var l=e-a[0],c=t-a[1],h=l*l+c*c;h<u&&(u=h,s=a.index)}}))}while(null!==s);return o._found=i,null==n||u<=n*n?r.site:null}},Jx.prototype={constructor:Jx,scale:function(e){return 1===e?this:new Jx(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Jx(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Qx=new Jx(1,0,0);function ek(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Qx;return e.__zoom}function tk(){ut.stopImmediatePropagation()}function nk(){ut.preventDefault(),ut.stopImmediatePropagation()}function ik(){return!ut.ctrlKey&&!ut.button}function rk(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function ok(){return this.__zoom||Qx}function sk(){return-ut.deltaY*(1===ut.deltaMode?.05:ut.deltaMode?1:.002)}function ak(){return navigator.maxTouchPoints||"ontouchstart"in this}function lk(e,t,n){var i=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function ck(){var e,t,n=ik,i=rk,r=lk,o=sk,s=ak,a=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,u=Mp,h=de("start","zoom","end"),d=500,f=0;function p(e){e.property("__zoom",ok).on("wheel.zoom",w).on("mousedown.zoom",C).on("dblclick.zoom",x).filter(s).on("touchstart.zoom",k).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",D).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(e,t){return(t=Math.max(a[0],Math.min(a[1],t)))===e.k?e:new Jx(t,e.x,e.y)}function m(e,t,n){var i=t[0]-n[0]*e.k,r=t[1]-n[1]*e.k;return i===e.x&&r===e.y?e:new Jx(e.k,i,r)}function v(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function y(e,t,n){e.on("start.zoom",(function(){b(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){b(this,arguments).end()})).tween("zoom",(function(){var e=this,r=arguments,o=b(e,r),s=i.apply(e,r),a=null==n?v(s):"function"==typeof n?n.apply(e,r):n,l=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),c=e.__zoom,h="function"==typeof t?t.apply(e,r):t,d=u(c.invert(a).concat(l/c.k),h.invert(a).concat(l/h.k));return function(e){if(1===e)e=h;else{var t=d(e),n=l/t[2];e=new Jx(n,a[0]-t[0]*n,a[1]-t[1]*n)}o.zoom(null,e)}}))}function b(e,t,n){return!n&&e.__zooming||new _(e,t)}function _(e,t){this.that=e,this.args=t,this.active=0,this.extent=i.apply(e,t),this.taps=0}function w(){if(n.apply(this,arguments)){var e=b(this,arguments),t=this.__zoom,i=Math.max(a[0],Math.min(a[1],t.k*Math.pow(2,o.apply(this,arguments)))),s=In(this);if(e.wheel)e.mouse[0][0]===s[0]&&e.mouse[0][1]===s[1]||(e.mouse[1]=t.invert(e.mouse[0]=s)),clearTimeout(e.wheel);else{if(t.k===i)return;e.mouse=[s,t.invert(s)],oi(this),e.start()}nk(),e.wheel=setTimeout(c,150),e.zoom("mouse",r(m(g(t,i),e.mouse[0],e.mouse[1]),e.extent,l))}function c(){e.wheel=null,e.end()}}function C(){if(!t&&n.apply(this,arguments)){var e=b(this,arguments,!0),i=kt(ut.view).on("mousemove.zoom",c,!0).on("mouseup.zoom",u,!0),o=In(this),s=ut.clientX,a=ut.clientY;Et(ut.view),tk(),e.mouse=[o,this.__zoom.invert(o)],oi(this),e.start()}function c(){if(nk(),!e.moved){var t=ut.clientX-s,n=ut.clientY-a;e.moved=t*t+n*n>f}e.zoom("mouse",r(m(e.that.__zoom,e.mouse[0]=In(e.that),e.mouse[1]),e.extent,l))}function u(){i.on("mousemove.zoom mouseup.zoom",null),Lt(ut.view,e.moved),nk(),e.end()}}function x(){if(n.apply(this,arguments)){var e=this.__zoom,t=In(this),o=e.invert(t),s=e.k*(ut.shiftKey?.5:2),a=r(m(g(e,s),t,o),i.apply(this,arguments),l);nk(),c>0?kt(this).transition().duration(c).call(y,a,t):kt(this).call(p.transform,a)}}function k(){if(n.apply(this,arguments)){var t,i,r,o,s=ut.touches,a=s.length,l=b(this,arguments,ut.changedTouches.length===a);for(tk(),i=0;i<a;++i)o=[o=An(this,s,(r=s[i]).identifier),this.__zoom.invert(o),r.identifier],l.touch0?l.touch1||l.touch0[2]===o[2]||(l.touch1=o,l.taps=0):(l.touch0=o,t=!0,l.taps=1+!!e);e&&(e=clearTimeout(e)),t&&(l.taps<2&&(e=setTimeout((function(){e=null}),d)),oi(this),l.start())}}function S(){if(this.__zooming){var t,n,i,o,s=b(this,arguments),a=ut.changedTouches,c=a.length;for(nk(),e&&(e=clearTimeout(e)),s.taps=0,t=0;t<c;++t)i=An(this,a,(n=a[t]).identifier),s.touch0&&s.touch0[2]===n.identifier?s.touch0[0]=i:s.touch1&&s.touch1[2]===n.identifier&&(s.touch1[0]=i);if(n=s.that.__zoom,s.touch1){var u=s.touch0[0],h=s.touch0[1],d=s.touch1[0],f=s.touch1[1],p=(p=d[0]-u[0])*p+(p=d[1]-u[1])*p,v=(v=f[0]-h[0])*v+(v=f[1]-h[1])*v;n=g(n,Math.sqrt(p/v)),i=[(u[0]+d[0])/2,(u[1]+d[1])/2],o=[(h[0]+f[0])/2,(h[1]+f[1])/2]}else{if(!s.touch0)return;i=s.touch0[0],o=s.touch0[1]}s.zoom("touch",r(m(n,i,o),s.extent,l))}}function D(){if(this.__zooming){var e,n,i=b(this,arguments),r=ut.changedTouches,o=r.length;for(tk(),t&&clearTimeout(t),t=setTimeout((function(){t=null}),d),e=0;e<o;++e)n=r[e],i.touch0&&i.touch0[2]===n.identifier?delete i.touch0:i.touch1&&i.touch1[2]===n.identifier&&delete i.touch1;if(i.touch1&&!i.touch0&&(i.touch0=i.touch1,delete i.touch1),i.touch0)i.touch0[1]=this.__zoom.invert(i.touch0[0]);else if(i.end(),2===i.taps){var s=kt(this).on("dblclick.zoom");s&&s.apply(this,arguments)}}}return p.transform=function(e,t,n){var i=e.selection?e.selection():e;i.property("__zoom",ok),e!==i?y(e,t,n):i.interrupt().each((function(){b(this,arguments).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()}))},p.scaleBy=function(e,t,n){p.scaleTo(e,(function(){var e=this.__zoom.k,n="function"==typeof t?t.apply(this,arguments):t;return e*n}),n)},p.scaleTo=function(e,t,n){p.transform(e,(function(){var e=i.apply(this,arguments),o=this.__zoom,s=null==n?v(e):"function"==typeof n?n.apply(this,arguments):n,a=o.invert(s),c="function"==typeof t?t.apply(this,arguments):t;return r(m(g(o,c),s,a),e,l)}),n)},p.translateBy=function(e,t,n){p.transform(e,(function(){return r(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),l)}))},p.translateTo=function(e,t,n,o){p.transform(e,(function(){var e=i.apply(this,arguments),s=this.__zoom,a=null==o?v(e):"function"==typeof o?o.apply(this,arguments):o;return r(Qx.translate(a[0],a[1]).scale(s.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,l)}),o)},_.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){mt(new Zx(p,e,this.that.__zoom),h.apply,h,[e,this.that,this.args])}},p.wheelDelta=function(e){return arguments.length?(o="function"==typeof e?e:Xx(+e),p):o},p.filter=function(e){return arguments.length?(n="function"==typeof e?e:Xx(!!e),p):n},p.touchable=function(e){return arguments.length?(s="function"==typeof e?e:Xx(!!e),p):s},p.extent=function(e){return arguments.length?(i="function"==typeof e?e:Xx([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),p):i},p.scaleExtent=function(e){return arguments.length?(a[0]=+e[0],a[1]=+e[1],p):[a[0],a[1]]},p.translateExtent=function(e){return arguments.length?(l[0][0]=+e[0][0],l[1][0]=+e[1][0],l[0][1]=+e[0][1],l[1][1]=+e[1][1],p):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},p.constrain=function(e){return arguments.length?(r=e,p):r},p.duration=function(e){return arguments.length?(c=+e,p):c},p.interpolate=function(e){return arguments.length?(u=e,p):u},p.on=function(){var e=h.on.apply(h,arguments);return e===h?p:e},p.clickDistance=function(e){return arguments.length?(f=(e=+e)*e,p):Math.sqrt(f)},p}ek.prototype=Jx.prototype},681:(e,t,n)=>{e.exports={graphlib:n(574),layout:n(8123),debug:n(7570),util:{time:n(1138).time,notime:n(1138).notime},version:n(8177)}},2188:(e,t,n)=>{var i=n(8436),r=n(4079);e.exports={run:function(e){var t,n="greedy"===e.graph().acyclicer?r(e,(t=e,function(e){return t.edge(e).weight})):function(e){var t=[],n={},r={};return i.forEach(e.nodes(),(function o(s){i.has(r,s)||(r[s]=!0,n[s]=!0,i.forEach(e.outEdges(s),(function(e){i.has(n,e.w)?t.push(e):o(e.w)})),delete n[s])})),t}(e);i.forEach(n,(function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,i.uniqueId("rev"))}))},undo:function(e){i.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var i=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,i)}}))}}},1133:(e,t,n)=>{var i=n(8436),r=n(1138);function o(e,t,n,i,o,s){var a={width:0,height:0,rank:s,borderType:t},l=o[t][s-1],c=r.addDummyNode(e,"border",a,n);o[t][s]=c,e.setParent(c,i),l&&e.setEdge(l,c,{weight:1})}e.exports=function(e){i.forEach(e.children(),(function t(n){var r=e.children(n),s=e.node(n);if(r.length&&i.forEach(r,t),i.has(s,"minRank")){s.borderLeft=[],s.borderRight=[];for(var a=s.minRank,l=s.maxRank+1;a<l;++a)o(e,"borderLeft","_bl",n,s,a),o(e,"borderRight","_br",n,s,a)}}))}},3258:(e,t,n)=>{var i=n(8436);function r(e){i.forEach(e.nodes(),(function(t){o(e.node(t))})),i.forEach(e.edges(),(function(t){o(e.edge(t))}))}function o(e){var t=e.width;e.width=e.height,e.height=t}function s(e){e.y=-e.y}function a(e){var t=e.x;e.x=e.y,e.y=t}e.exports={adjust:function(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||r(e)},undo:function(e){var t,n=e.graph().rankdir.toLowerCase();"bt"!==n&&"rl"!==n||(t=e,i.forEach(t.nodes(),(function(e){s(t.node(e))})),i.forEach(t.edges(),(function(e){var n=t.edge(e);i.forEach(n.points,s),i.has(n,"y")&&s(n)}))),"lr"!==n&&"rl"!==n||(function(e){i.forEach(e.nodes(),(function(t){a(e.node(t))})),i.forEach(e.edges(),(function(t){var n=e.edge(t);i.forEach(n.points,a),i.has(n,"x")&&a(n)}))}(e),r(e))}}},7822:e=>{function t(){var e={};e._next=e._prev=e,this._sentinel=e}function n(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function i(e,t){if("_next"!==e&&"_prev"!==e)return t}e.exports=t,t.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return n(t),t},t.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&n(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},t.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,i)),n=n._prev;return"["+e.join(", ")+"]"}},7570:(e,t,n)=>{var i=n(8436),r=n(1138),o=n(574).Graph;e.exports={debugOrdering:function(e){var t=r.buildLayerMatrix(e),n=new o({compound:!0,multigraph:!0}).setGraph({});return i.forEach(e.nodes(),(function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)})),i.forEach(e.edges(),(function(e){n.setEdge(e.v,e.w,{},e.name)})),i.forEach(t,(function(e,t){var r="layer"+t;n.setNode(r,{rank:"same"}),i.reduce(e,(function(e,t){return n.setEdge(e,t,{style:"invis"}),t}))})),n}}},574:(e,t,n)=>{var i;try{i=n(8282)}catch(r){}i||(i=window.graphlib),e.exports=i},4079:(e,t,n)=>{var i=n(8436),r=n(574).Graph,o=n(7822);e.exports=function(e,t){if(e.nodeCount()<=1)return[];var n=function(e,t){var n=new r,s=0,a=0;i.forEach(e.nodes(),(function(e){n.setNode(e,{v:e,in:0,out:0})})),i.forEach(e.edges(),(function(e){var i=n.edge(e.v,e.w)||0,r=t(e),o=i+r;n.setEdge(e.v,e.w,o),a=Math.max(a,n.node(e.v).out+=r),s=Math.max(s,n.node(e.w).in+=r)}));var c=i.range(a+s+3).map((function(){return new o})),u=s+1;return i.forEach(n.nodes(),(function(e){l(c,u,n.node(e))})),{graph:n,buckets:c,zeroIdx:u}}(e,t||s),c=function(e,t,n){for(var i,r=[],o=t[t.length-1],s=t[0];e.nodeCount();){for(;i=s.dequeue();)a(e,t,n,i);for(;i=o.dequeue();)a(e,t,n,i);if(e.nodeCount())for(var l=t.length-2;l>0;--l)if(i=t[l].dequeue()){r=r.concat(a(e,t,n,i,!0));break}}return r}(n.graph,n.buckets,n.zeroIdx);return i.flatten(i.map(c,(function(t){return e.outEdges(t.v,t.w)})),!0)};var s=i.constant(1);function a(e,t,n,r,o){var s=o?[]:void 0;return i.forEach(e.inEdges(r.v),(function(i){var r=e.edge(i),a=e.node(i.v);o&&s.push({v:i.v,w:i.w}),a.out-=r,l(t,n,a)})),i.forEach(e.outEdges(r.v),(function(i){var r=e.edge(i),o=i.w,s=e.node(o);s.in-=r,l(t,n,s)})),e.removeNode(r.v),s}function l(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}},8123:(e,t,n)=>{var i=n(8436),r=n(2188),o=n(5995),s=n(8093),a=n(1138).normalizeRanks,l=n(4219),c=n(1138).removeEmptyRanks,u=n(2981),h=n(1133),d=n(3258),f=n(3408),p=n(7873),g=n(1138),m=n(574).Graph;e.exports=function(e,t){var n=t&&t.debugTiming?g.time:g.notime;n("layout",(function(){var t=n("  buildLayoutGraph",(function(){return t=e,n=new m({multigraph:!0,compound:!0}),r=D(t.graph()),n.setGraph(i.merge({},y,S(r,v),i.pick(r,b))),i.forEach(t.nodes(),(function(e){var r=D(t.node(e));n.setNode(e,i.defaults(S(r,_),w)),n.setParent(e,t.parent(e))})),i.forEach(t.edges(),(function(e){var r=D(t.edge(e));n.setEdge(e,i.merge({},x,S(r,C),i.pick(r,k)))})),n;var t,n,r}));n("  runLayout",(function(){var e,m;e=t,(m=n)("    makeSpaceForEdgeLabels",(function(){var t,n;(n=(t=e).graph()).ranksep/=2,i.forEach(t.edges(),(function(e){var i=t.edge(e);i.minlen*=2,"c"!==i.labelpos.toLowerCase()&&("TB"===n.rankdir||"BT"===n.rankdir?i.width+=i.labeloffset:i.height+=i.labeloffset)}))})),m("    removeSelfEdges",(function(){var t;t=e,i.forEach(t.edges(),(function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdge(e)}}))})),m("    acyclic",(function(){r.run(e)})),m("    nestingGraph.run",(function(){u.run(e)})),m("    rank",(function(){s(g.asNonCompoundGraph(e))})),m("    injectEdgeLabelProxies",(function(){var t;t=e,i.forEach(t.edges(),(function(e){var n=t.edge(e);if(n.width&&n.height){var i=t.node(e.v),r={rank:(t.node(e.w).rank-i.rank)/2+i.rank,e:e};g.addDummyNode(t,"edge-proxy",r,"_ep")}}))})),m("    removeEmptyRanks",(function(){c(e)})),m("    nestingGraph.cleanup",(function(){u.cleanup(e)})),m("    normalizeRanks",(function(){a(e)})),m("    assignRankMinMax",(function(){var t,n;t=e,n=0,i.forEach(t.nodes(),(function(e){var r=t.node(e);r.borderTop&&(r.minRank=t.node(r.borderTop).rank,r.maxRank=t.node(r.borderBottom).rank,n=i.max(n,r.maxRank))})),t.graph().maxRank=n})),m("    removeEdgeLabelProxies",(function(){var t;t=e,i.forEach(t.nodes(),(function(e){var n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))}))})),m("    normalize.run",(function(){o.run(e)})),m("    parentDummyChains",(function(){l(e)})),m("    addBorderSegments",(function(){h(e)})),m("    order",(function(){f(e)})),m("    insertSelfEdges",(function(){var t,n;t=e,n=g.buildLayerMatrix(t),i.forEach(n,(function(e){var n=0;i.forEach(e,(function(e,r){var o=t.node(e);o.order=r+n,i.forEach(o.selfEdges,(function(e){g.addDummyNode(t,"selfedge",{width:e.label.width,height:e.label.height,rank:o.rank,order:r+ ++n,e:e.e,label:e.label},"_se")})),delete o.selfEdges}))}))})),m("    adjustCoordinateSystem",(function(){d.adjust(e)})),m("    position",(function(){p(e)})),m("    positionSelfEdges",(function(){var t;t=e,i.forEach(t.nodes(),(function(e){var n=t.node(e);if("selfedge"===n.dummy){var i=t.node(n.e.v),r=i.x+i.width/2,o=i.y,s=n.x-r,a=i.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:r+2*s/3,y:o-a},{x:r+5*s/6,y:o-a},{x:r+s,y:o},{x:r+5*s/6,y:o+a},{x:r+2*s/3,y:o+a}],n.label.x=n.x,n.label.y=n.y}}))})),m("    removeBorderNodes",(function(){var t;t=e,i.forEach(t.nodes(),(function(e){if(t.children(e).length){var n=t.node(e),r=t.node(n.borderTop),o=t.node(n.borderBottom),s=t.node(i.last(n.borderLeft)),a=t.node(i.last(n.borderRight));n.width=Math.abs(a.x-s.x),n.height=Math.abs(o.y-r.y),n.x=s.x+n.width/2,n.y=r.y+n.height/2}})),i.forEach(t.nodes(),(function(e){"border"===t.node(e).dummy&&t.removeNode(e)}))})),m("    normalize.undo",(function(){o.undo(e)})),m("    fixupEdgeLabelCoords",(function(){var t;t=e,i.forEach(t.edges(),(function(e){var n=t.edge(e);if(i.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))})),m("    undoCoordinateSystem",(function(){d.undo(e)})),m("    translateGraph",(function(){!function(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,o=0,s=e.graph(),a=s.marginx||0,l=s.marginy||0;function c(e){var i=e.x,s=e.y,a=e.width,l=e.height;t=Math.min(t,i-a/2),n=Math.max(n,i+a/2),r=Math.min(r,s-l/2),o=Math.max(o,s+l/2)}i.forEach(e.nodes(),(function(t){c(e.node(t))})),i.forEach(e.edges(),(function(t){var n=e.edge(t);i.has(n,"x")&&c(n)})),t-=a,r-=l,i.forEach(e.nodes(),(function(n){var i=e.node(n);i.x-=t,i.y-=r})),i.forEach(e.edges(),(function(n){var o=e.edge(n);i.forEach(o.points,(function(e){e.x-=t,e.y-=r})),i.has(o,"x")&&(o.x-=t),i.has(o,"y")&&(o.y-=r)})),s.width=n-t+a,s.height=o-r+l}(e)})),m("    assignNodeIntersects",(function(){var t;t=e,i.forEach(t.edges(),(function(e){var n,i,r=t.edge(e),o=t.node(e.v),s=t.node(e.w);r.points?(n=r.points[0],i=r.points[r.points.length-1]):(r.points=[],n=s,i=o),r.points.unshift(g.intersectRect(o,n)),r.points.push(g.intersectRect(s,i))}))})),m("    reversePoints",(function(){var t;t=e,i.forEach(t.edges(),(function(e){var n=t.edge(e);n.reversed&&n.points.reverse()}))})),m("    acyclic.undo",(function(){r.undo(e)}))})),n("  updateInputGraph",(function(){var n,r;n=e,r=t,i.forEach(n.nodes(),(function(e){var t=n.node(e),i=r.node(e);t&&(t.x=i.x,t.y=i.y,r.children(e).length&&(t.width=i.width,t.height=i.height))})),i.forEach(n.edges(),(function(e){var t=n.edge(e),o=r.edge(e);t.points=o.points,i.has(o,"x")&&(t.x=o.x,t.y=o.y)})),n.graph().width=r.graph().width,n.graph().height=r.graph().height}))}))};var v=["nodesep","edgesep","ranksep","marginx","marginy"],y={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},b=["acyclicer","ranker","rankdir","align"],_=["width","height"],w={width:0,height:0},C=["minlen","weight","width","height","labeloffset"],x={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},k=["labelpos"];function S(e,t){return i.mapValues(i.pick(e,t),Number)}function D(e){var t={};return i.forEach(e,(function(e,n){t[n.toLowerCase()]=e})),t}},8436:(e,t,n)=>{var i;try{i={cloneDeep:n(361),constant:n(5703),defaults:n(1747),each:n(6073),filter:n(3105),find:n(3311),flatten:n(5564),forEach:n(4486),forIn:n(2620),has:n(8721),isUndefined:n(2353),last:n(928),map:n(5161),mapValues:n(6604),max:n(6162),merge:n(3857),min:n(3632),minBy:n(2762),now:n(7771),pick:n(9722),range:n(6026),reduce:n(4061),sortBy:n(9734),uniqueId:n(3955),values:n(2628),zipObject:n(7287)}}catch(r){}i||(i=window._),e.exports=i},2981:(e,t,n)=>{var i=n(8436),r=n(1138);function o(e,t,n,s,a,l,c){var u=e.children(c);if(u.length){var h=r.addBorderNode(e,"_bt"),d=r.addBorderNode(e,"_bb"),f=e.node(c);e.setParent(h,c),f.borderTop=h,e.setParent(d,c),f.borderBottom=d,i.forEach(u,(function(i){o(e,t,n,s,a,l,i);var r=e.node(i),u=r.borderTop?r.borderTop:i,f=r.borderBottom?r.borderBottom:i,p=r.borderTop?s:2*s,g=u!==f?1:a-l[c]+1;e.setEdge(h,u,{weight:p,minlen:g,nestingEdge:!0}),e.setEdge(f,d,{weight:p,minlen:g,nestingEdge:!0})})),e.parent(c)||e.setEdge(t,h,{weight:0,minlen:a+l[c]})}else c!==t&&e.setEdge(t,c,{weight:0,minlen:n})}e.exports={run:function(e){var t=r.addDummyNode(e,"root",{},"_root"),n=function(e){var t={};function n(r,o){var s=e.children(r);s&&s.length&&i.forEach(s,(function(e){n(e,o+1)})),t[r]=o}return i.forEach(e.children(),(function(e){n(e,1)})),t}(e),s=i.max(i.values(n))-1,a=2*s+1;e.graph().nestingRoot=t,i.forEach(e.edges(),(function(t){e.edge(t).minlen*=a}));var l,c=(l=e,i.reduce(l.edges(),(function(e,t){return e+l.edge(t).weight}),0)+1);i.forEach(e.children(),(function(i){o(e,t,a,c,s,n,i)})),e.graph().nodeRankFactor=a},cleanup:function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,i.forEach(e.edges(),(function(t){e.edge(t).nestingEdge&&e.removeEdge(t)}))}}},5995:(e,t,n)=>{var i=n(8436),r=n(1138);e.exports={run:function(e){e.graph().dummyChains=[],i.forEach(e.edges(),(function(t){!function(e,t){var n,i,o,s=t.v,a=e.node(s).rank,l=t.w,c=e.node(l).rank,u=t.name,h=e.edge(t),d=h.labelRank;if(c!==a+1){for(e.removeEdge(t),o=0,++a;a<c;++o,++a)h.points=[],i={width:0,height:0,edgeLabel:h,edgeObj:t,rank:a},n=r.addDummyNode(e,"edge",i,"_d"),a===d&&(i.width=h.width,i.height=h.height,i.dummy="edge-label",i.labelpos=h.labelpos),e.setEdge(s,n,{weight:h.weight},u),0===o&&e.graph().dummyChains.push(n),s=n;e.setEdge(s,l,{weight:h.weight},u)}}(e,t)}))},undo:function(e){i.forEach(e.graph().dummyChains,(function(t){var n,i=e.node(t),r=i.edgeLabel;for(e.setEdge(i.edgeObj,r);i.dummy;)n=e.successors(t)[0],e.removeNode(t),r.points.push({x:i.x,y:i.y}),"edge-label"===i.dummy&&(r.x=i.x,r.y=i.y,r.width=i.width,r.height=i.height),t=n,i=e.node(t)}))}}},5093:(e,t,n)=>{var i=n(8436);e.exports=function(e,t,n){var r,o={};i.forEach(n,(function(n){for(var i,s,a=e.parent(n);a;){if((i=e.parent(a))?(s=o[i],o[i]=a):(s=r,r=a),s&&s!==a)return void t.setEdge(s,a);a=i}}))}},5439:(e,t,n)=>{var i=n(8436);e.exports=function(e,t){return i.map(t,(function(t){var n=e.inEdges(t);if(n.length){var r=i.reduce(n,(function(t,n){var i=e.edge(n),r=e.node(n.v);return{sum:t.sum+i.weight*r.order,weight:t.weight+i.weight}}),{sum:0,weight:0});return{v:t,barycenter:r.sum/r.weight,weight:r.weight}}return{v:t}}))}},3128:(e,t,n)=>{var i=n(8436),r=n(574).Graph;e.exports=function(e,t,n){var o=function(e){for(var t;e.hasNode(t=i.uniqueId("_root")););return t}(e),s=new r({compound:!0}).setGraph({root:o}).setDefaultNodeLabel((function(t){return e.node(t)}));return i.forEach(e.nodes(),(function(r){var a=e.node(r),l=e.parent(r);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(s.setNode(r),s.setParent(r,l||o),i.forEach(e[n](r),(function(t){var n=t.v===r?t.w:t.v,o=s.edge(n,r),a=i.isUndefined(o)?0:o.weight;s.setEdge(n,r,{weight:e.edge(t).weight+a})})),i.has(a,"minRank")&&s.setNode(r,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))})),s}},6630:(e,t,n)=>{var i=n(8436);function r(e,t,n){for(var r=i.zipObject(n,i.map(n,(function(e,t){return t}))),o=i.flatten(i.map(t,(function(t){return i.sortBy(i.map(e.outEdges(t),(function(t){return{pos:r[t.w],weight:e.edge(t).weight}})),"pos")})),!0),s=1;s<n.length;)s<<=1;var a=2*s-1;s-=1;var l=i.map(new Array(a),(function(){return 0})),c=0;return i.forEach(o.forEach((function(e){var t=e.pos+s;l[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=l[t+1]),l[t=t-1>>1]+=e.weight;c+=e.weight*n}))),c}e.exports=function(e,t){for(var n=0,i=1;i<t.length;++i)n+=r(e,t[i-1],t[i]);return n}},3408:(e,t,n)=>{var i=n(8436),r=n(2588),o=n(6630),s=n(1026),a=n(3128),l=n(5093),c=n(574).Graph,u=n(1138);function h(e,t,n){return i.map(t,(function(t){return a(e,t,n)}))}function d(e,t){var n=new c;i.forEach(e,(function(e){var r=e.graph().root,o=s(e,r,n,t);i.forEach(o.vs,(function(t,n){e.node(t).order=n})),l(e,n,o.vs)}))}function f(e,t){i.forEach(t,(function(t){i.forEach(t,(function(t,n){e.node(t).order=n}))}))}e.exports=function(e){var t=u.maxRank(e),n=h(e,i.range(1,t+1),"inEdges"),s=h(e,i.range(t-1,-1,-1),"outEdges"),a=r(e);f(e,a);for(var l,c=Number.POSITIVE_INFINITY,p=0,g=0;g<4;++p,++g){d(p%2?n:s,p%4>=2),a=u.buildLayerMatrix(e);var m=o(e,a);m<c&&(g=0,l=i.cloneDeep(a),c=m)}f(e,l)}},2588:(e,t,n)=>{var i=n(8436);e.exports=function(e){var t={},n=i.filter(e.nodes(),(function(t){return!e.children(t).length})),r=i.max(i.map(n,(function(t){return e.node(t).rank}))),o=i.map(i.range(r+1),(function(){return[]})),s=i.sortBy(n,(function(t){return e.node(t).rank}));return i.forEach(s,(function n(r){if(!i.has(t,r)){t[r]=!0;var s=e.node(r);o[s.rank].push(r),i.forEach(e.successors(r),n)}})),o}},9567:(e,t,n)=>{var i=n(8436);e.exports=function(e,t){var n={};return i.forEach(e,(function(e,t){var r=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};i.isUndefined(e.barycenter)||(r.barycenter=e.barycenter,r.weight=e.weight)})),i.forEach(t.edges(),(function(e){var t=n[e.v],r=n[e.w];i.isUndefined(t)||i.isUndefined(r)||(r.indegree++,t.out.push(n[e.w]))})),function(e){var t=[];function n(e){return function(t){var n,r,o,s;t.merged||(i.isUndefined(t.barycenter)||i.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&(r=t,o=0,s=0,(n=e).weight&&(o+=n.barycenter*n.weight,s+=n.weight),r.weight&&(o+=r.barycenter*r.weight,s+=r.weight),n.vs=r.vs.concat(n.vs),n.barycenter=o/s,n.weight=s,n.i=Math.min(r.i,n.i),r.merged=!0)}}function r(t){return function(n){n.in.push(t),0==--n.indegree&&e.push(n)}}for(;e.length;){var o=e.pop();t.push(o),i.forEach(o.in.reverse(),n(o)),i.forEach(o.out,r(o))}return i.map(i.filter(t,(function(e){return!e.merged})),(function(e){return i.pick(e,["vs","i","barycenter","weight"])}))}(i.filter(n,(function(e){return!e.indegree})))}},1026:(e,t,n)=>{var i=n(8436),r=n(5439),o=n(9567),s=n(7304);e.exports=function e(t,n,a,l){var c=t.children(n),u=t.node(n),h=u?u.borderLeft:void 0,d=u?u.borderRight:void 0,f={};h&&(c=i.filter(c,(function(e){return e!==h&&e!==d})));var p=r(t,c);i.forEach(p,(function(n){if(t.children(n.v).length){var r=e(t,n.v,a,l);f[n.v]=r,i.has(r,"barycenter")&&(o=n,s=r,i.isUndefined(o.barycenter)?(o.barycenter=s.barycenter,o.weight=s.weight):(o.barycenter=(o.barycenter*o.weight+s.barycenter*s.weight)/(o.weight+s.weight),o.weight+=s.weight))}var o,s}));var g,m,v=o(p,a);g=v,m=f,i.forEach(g,(function(e){e.vs=i.flatten(e.vs.map((function(e){return m[e]?m[e].vs:e})),!0)}));var y=s(v,l);if(h&&(y.vs=i.flatten([h,y.vs,d],!0),t.predecessors(h).length)){var b=t.node(t.predecessors(h)[0]),_=t.node(t.predecessors(d)[0]);i.has(y,"barycenter")||(y.barycenter=0,y.weight=0),y.barycenter=(y.barycenter*y.weight+b.order+_.order)/(y.weight+2),y.weight+=2}return y}},7304:(e,t,n)=>{var i=n(8436),r=n(1138);function o(e,t,n){for(var r;t.length&&(r=i.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}e.exports=function(e,t){var n,s=r.partition(e,(function(e){return i.has(e,"barycenter")})),a=s.lhs,l=i.sortBy(s.rhs,(function(e){return-e.i})),c=[],u=0,h=0,d=0;a.sort((n=!!t,function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:n?t.i-e.i:e.i-t.i})),d=o(c,l,d),i.forEach(a,(function(e){d+=e.vs.length,c.push(e.vs),u+=e.barycenter*e.weight,h+=e.weight,d=o(c,l,d)}));var f={vs:i.flatten(c,!0)};return h&&(f.barycenter=u/h,f.weight=h),f}},4219:(e,t,n)=>{var i=n(8436);e.exports=function(e){var t,n,r,o=(t=e,n={},r=0,i.forEach(t.children(),(function e(o){var s=r;i.forEach(t.children(o),e),n[o]={low:s,lim:r++}})),n);i.forEach(e.graph().dummyChains,(function(t){for(var n=e.node(t),i=n.edgeObj,r=function(e,t,n,i){var r,o,s=[],a=[],l=Math.min(t[n].low,t[i].low),c=Math.max(t[n].lim,t[i].lim);r=n;do{r=e.parent(r),s.push(r)}while(r&&(t[r].low>l||c>t[r].lim));for(o=r,r=i;(r=e.parent(r))!==o;)a.push(r);return{path:s.concat(a.reverse()),lca:o}}(e,o,i.v,i.w),s=r.path,a=r.lca,l=0,c=s[l],u=!0;t!==i.w;){if(n=e.node(t),u){for(;(c=s[l])!==a&&e.node(c).maxRank<n.rank;)l++;c===a&&(u=!1)}if(!u){for(;l<s.length-1&&e.node(c=s[l+1]).minRank<=n.rank;)l++;c=s[l]}e.setParent(t,c),t=e.successors(t)[0]}}))}},3573:(e,t,n)=>{var i=n(8436),r=n(574).Graph,o=n(1138);function s(e,t){var n={};return i.reduce(t,(function(t,r){var o=0,s=0,a=t.length,c=i.last(r);return i.forEach(r,(function(t,u){var h=function(e,t){if(e.node(t).dummy)return i.find(e.predecessors(t),(function(t){return e.node(t).dummy}))}(e,t),d=h?e.node(h).order:a;(h||t===c)&&(i.forEach(r.slice(s,u+1),(function(t){i.forEach(e.predecessors(t),(function(i){var r=e.node(i),s=r.order;!(s<o||d<s)||r.dummy&&e.node(t).dummy||l(n,i,t)}))})),s=u+1,o=d)})),r})),n}function a(e,t){var n={};function r(t,r,o,s,a){var c;i.forEach(i.range(r,o),(function(r){c=t[r],e.node(c).dummy&&i.forEach(e.predecessors(c),(function(t){var i=e.node(t);i.dummy&&(i.order<s||i.order>a)&&l(n,t,c)}))}))}return i.reduce(t,(function(t,n){var o,s=-1,a=0;return i.forEach(n,(function(i,l){if("border"===e.node(i).dummy){var c=e.predecessors(i);c.length&&(o=e.node(c[0]).order,r(n,a,l,s,o),a=l,s=o)}r(n,a,n.length,o,t.length)})),n})),n}function l(e,t,n){if(t>n){var i=t;t=n,n=i}var r=e[t];r||(e[t]=r={}),r[n]=!0}function c(e,t,n){if(t>n){var r=t;t=n,n=r}return i.has(e[t],n)}function u(e,t,n,r){var o={},s={},a={};return i.forEach(t,(function(e){i.forEach(e,(function(e,t){o[e]=e,s[e]=e,a[e]=t}))})),i.forEach(t,(function(e){var t=-1;i.forEach(e,(function(e){var l=r(e);if(l.length)for(var u=((l=i.sortBy(l,(function(e){return a[e]}))).length-1)/2,h=Math.floor(u),d=Math.ceil(u);h<=d;++h){var f=l[h];s[e]===e&&t<a[f]&&!c(n,e,f)&&(s[f]=e,s[e]=o[e]=o[f],t=a[f])}}))})),{root:o,align:s}}function h(e,t,n,o,s){var a,l,c,u,h,d,f,p,g,m,v={},y=(a=e,l=t,c=n,u=s,p=new r,g=a.graph(),h=g.nodesep,d=g.edgesep,f=u,m=function(e,t,n){var r,o=e.node(t),s=e.node(n),a=0;if(a+=o.width/2,i.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":r=-o.width/2;break;case"r":r=o.width/2}if(r&&(a+=f?r:-r),r=0,a+=(o.dummy?d:h)/2,a+=(s.dummy?d:h)/2,a+=s.width/2,i.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":r=s.width/2;break;case"r":r=-s.width/2}return r&&(a+=f?r:-r),r=0,a},i.forEach(l,(function(e){var t;i.forEach(e,(function(e){var n=c[e];if(p.setNode(n),t){var i=c[t],r=p.edge(i,n);p.setEdge(i,n,Math.max(m(a,e,t),r||0))}t=e}))})),p),b=s?"borderLeft":"borderRight";function _(e,t){for(var n=y.nodes(),i=n.pop(),r={};i;)r[i]?e(i):(r[i]=!0,n.push(i),n=n.concat(t(i))),i=n.pop()}return _((function(e){v[e]=y.inEdges(e).reduce((function(e,t){return Math.max(e,v[t.v]+y.edge(t))}),0)}),y.predecessors.bind(y)),_((function(t){var n=y.outEdges(t).reduce((function(e,t){return Math.min(e,v[t.w]-y.edge(t))}),Number.POSITIVE_INFINITY),i=e.node(t);n!==Number.POSITIVE_INFINITY&&i.borderType!==b&&(v[t]=Math.max(v[t],n))}),y.successors.bind(y)),i.forEach(o,(function(e){v[e]=v[n[e]]})),v}function d(e,t){return i.minBy(i.values(t),(function(t){var n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return i.forIn(t,(function(t,i){var o,s=(o=i,e.node(o).width/2);n=Math.max(t+s,n),r=Math.min(t-s,r)})),n-r}))}function f(e,t){var n=i.values(t),r=i.min(n),o=i.max(n);i.forEach(["u","d"],(function(n){i.forEach(["l","r"],(function(s){var a,l=n+s,c=e[l];if(c!==t){var u=i.values(c);(a="l"===s?r-i.min(u):o-i.max(u))&&(e[l]=i.mapValues(c,(function(e){return e+a})))}}))}))}function p(e,t){return i.mapValues(e.ul,(function(n,r){if(t)return e[t.toLowerCase()][r];var o=i.sortBy(i.map(e,r));return(o[1]+o[2])/2}))}e.exports={positionX:function(e){var t,n=o.buildLayerMatrix(e),r=i.merge(s(e,n),a(e,n)),l={};i.forEach(["u","d"],(function(o){t="u"===o?n:i.values(n).reverse(),i.forEach(["l","r"],(function(n){"r"===n&&(t=i.map(t,(function(e){return i.values(e).reverse()})));var s=("u"===o?e.predecessors:e.successors).bind(e),a=u(0,t,r,s),c=h(e,t,a.root,a.align,"r"===n);"r"===n&&(c=i.mapValues(c,(function(e){return-e}))),l[o+n]=c}))}));var c=d(e,l);return f(l,c),p(l,e.graph().align)},findType1Conflicts:s,findType2Conflicts:a,addConflict:l,hasConflict:c,verticalAlignment:u,horizontalCompaction:h,alignCoordinates:f,findSmallestWidthAlignment:d,balance:p}},7873:(e,t,n)=>{var i=n(8436),r=n(1138),o=n(3573).positionX;e.exports=function(e){var t,n,s,a;t=e=r.asNonCompoundGraph(e),n=r.buildLayerMatrix(t),s=t.graph().ranksep,a=0,i.forEach(n,(function(e){var n=i.max(i.map(e,(function(e){return t.node(e).height})));i.forEach(e,(function(e){t.node(e).y=a+n/2})),a+=n+s})),i.forEach(o(e),(function(t,n){e.node(n).x=t}))}},300:(e,t,n)=>{var i=n(8436),r=n(574).Graph,o=n(6681).slack;function s(e,t){return i.forEach(e.nodes(),(function n(r){i.forEach(t.nodeEdges(r),(function(i){var s=i.v,a=r===s?i.w:s;e.hasNode(a)||o(t,i)||(e.setNode(a,{}),e.setEdge(r,a,{}),n(a))}))})),e.nodeCount()}function a(e,t){return i.minBy(t.edges(),(function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return o(t,n)}))}function l(e,t,n){i.forEach(e.nodes(),(function(e){t.node(e).rank+=n}))}e.exports=function(e){var t,n,i=new r({directed:!1}),c=e.nodes()[0],u=e.nodeCount();for(i.setNode(c,{});s(i,e)<u;)t=a(i,e),n=i.hasNode(t.v)?o(e,t):-o(e,t),l(i,e,n);return i}},8093:(e,t,n)=>{var i=n(6681).longestPath,r=n(300),o=n(2472);e.exports=function(e){switch(e.graph().ranker){default:a(e);break;case"tight-tree":i(t=e),r(t);break;case"longest-path":s(e)}var t};var s=i;function a(e){o(e)}},2472:(e,t,n)=>{var i=n(8436),r=n(300),o=n(6681).slack,s=n(6681).longestPath,a=n(574).alg.preorder,l=n(574).alg.postorder,c=n(1138).simplify;function u(e){e=c(e),s(e);var t,n=r(e);for(f(n),h(n,e);t=g(n);)v(n,e,t,m(n,e,t))}function h(e,t){var n=l(e,e.nodes());n=n.slice(0,n.length-1),i.forEach(n,(function(n){var i,r,o,s;r=t,o=n,s=(i=e).node(o).parent,i.edge(o,s).cutvalue=d(i,r,o)}))}function d(e,t,n){var r=e.node(n).parent,o=!0,s=t.edge(n,r),a=0;return s||(o=!1,s=t.edge(r,n)),a=s.weight,i.forEach(t.nodeEdges(n),(function(i){var s,l,c=i.v===n,u=c?i.w:i.v;if(u!==r){var h=c===o,d=t.edge(i).weight;if(a+=h?d:-d,s=n,l=u,e.hasEdge(s,l)){var f=e.edge(n,u).cutvalue;a+=h?-f:f}}})),a}function f(e,t){arguments.length<2&&(t=e.nodes()[0]),p(e,{},1,t)}function p(e,t,n,r,o){var s=n,a=e.node(r);return t[r]=!0,i.forEach(e.neighbors(r),(function(o){i.has(t,o)||(n=p(e,t,n,o,r))})),a.low=s,a.lim=n++,o?a.parent=o:delete a.parent,n}function g(e){return i.find(e.edges(),(function(t){return e.edge(t).cutvalue<0}))}function m(e,t,n){var r=n.v,s=n.w;t.hasEdge(r,s)||(r=n.w,s=n.v);var a=e.node(r),l=e.node(s),c=a,u=!1;a.lim>l.lim&&(c=l,u=!0);var h=i.filter(t.edges(),(function(t){return u===y(0,e.node(t.v),c)&&u!==y(0,e.node(t.w),c)}));return i.minBy(h,(function(e){return o(t,e)}))}function v(e,t,n,r){var o,s,l,c,u=n.v,d=n.w;e.removeEdge(u,d),e.setEdge(r.v,r.w,{}),f(e),h(e,t),o=e,s=t,l=i.find(o.nodes(),(function(e){return!s.node(e).parent})),c=(c=a(o,l)).slice(1),i.forEach(c,(function(e){var t=o.node(e).parent,n=s.edge(e,t),i=!1;n||(n=s.edge(t,e),i=!0),s.node(e).rank=s.node(t).rank+(i?n.minlen:-n.minlen)}))}function y(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}e.exports=u,u.initLowLimValues=f,u.initCutValues=h,u.calcCutValue=d,u.leaveEdge=g,u.enterEdge=m,u.exchangeEdges=v},6681:(e,t,n)=>{var i=n(8436);e.exports={longestPath:function(e){var t={};i.forEach(e.sources(),(function n(r){var o=e.node(r);if(i.has(t,r))return o.rank;t[r]=!0;var s=i.min(i.map(e.outEdges(r),(function(t){return n(t.w)-e.edge(t).minlen})));return s!==Number.POSITIVE_INFINITY&&null!=s||(s=0),o.rank=s}))},slack:function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}}},1138:(e,t,n)=>{var i=n(8436),r=n(574).Graph;function o(e,t,n,r){var o;do{o=i.uniqueId(r)}while(e.hasNode(o));return n.dummy=t,e.setNode(o,n),o}function s(e){return i.max(i.map(e.nodes(),(function(t){var n=e.node(t).rank;if(!i.isUndefined(n))return n})))}e.exports={addDummyNode:o,simplify:function(e){var t=(new r).setGraph(e.graph());return i.forEach(e.nodes(),(function(n){t.setNode(n,e.node(n))})),i.forEach(e.edges(),(function(n){var i=t.edge(n.v,n.w)||{weight:0,minlen:1},r=e.edge(n);t.setEdge(n.v,n.w,{weight:i.weight+r.weight,minlen:Math.max(i.minlen,r.minlen)})})),t},asNonCompoundGraph:function(e){var t=new r({multigraph:e.isMultigraph()}).setGraph(e.graph());return i.forEach(e.nodes(),(function(n){e.children(n).length||t.setNode(n,e.node(n))})),i.forEach(e.edges(),(function(n){t.setEdge(n,e.edge(n))})),t},successorWeights:function(e){var t=i.map(e.nodes(),(function(t){var n={};return i.forEach(e.outEdges(t),(function(t){n[t.w]=(n[t.w]||0)+e.edge(t).weight})),n}));return i.zipObject(e.nodes(),t)},predecessorWeights:function(e){var t=i.map(e.nodes(),(function(t){var n={};return i.forEach(e.inEdges(t),(function(t){n[t.v]=(n[t.v]||0)+e.edge(t).weight})),n}));return i.zipObject(e.nodes(),t)},intersectRect:function(e,t){var n,i,r=e.x,o=e.y,s=t.x-r,a=t.y-o,l=e.width/2,c=e.height/2;if(!s&&!a)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(a)*l>Math.abs(s)*c?(a<0&&(c=-c),n=c*s/a,i=c):(s<0&&(l=-l),n=l,i=l*a/s),{x:r+n,y:o+i}},buildLayerMatrix:function(e){var t=i.map(i.range(s(e)+1),(function(){return[]}));return i.forEach(e.nodes(),(function(n){var r=e.node(n),o=r.rank;i.isUndefined(o)||(t[o][r.order]=n)})),t},normalizeRanks:function(e){var t=i.min(i.map(e.nodes(),(function(t){return e.node(t).rank})));i.forEach(e.nodes(),(function(n){var r=e.node(n);i.has(r,"rank")&&(r.rank-=t)}))},removeEmptyRanks:function(e){var t=i.min(i.map(e.nodes(),(function(t){return e.node(t).rank}))),n=[];i.forEach(e.nodes(),(function(i){var r=e.node(i).rank-t;n[r]||(n[r]=[]),n[r].push(i)}));var r=0,o=e.graph().nodeRankFactor;i.forEach(n,(function(t,n){i.isUndefined(t)&&n%o!=0?--r:r&&i.forEach(t,(function(t){e.node(t).rank+=r}))}))},addBorderNode:function(e,t,n,i){var r={width:0,height:0};return arguments.length>=4&&(r.rank=n,r.order=i),o(e,"border",r,t)},maxRank:s,partition:function(e,t){var n={lhs:[],rhs:[]};return i.forEach(e,(function(e){t(e)?n.lhs.push(e):n.rhs.push(e)})),n},time:function(e,t){var n=i.now();try{return t()}finally{console.log(e+" time: "+(i.now()-n)+"ms")}},notime:function(e,t){return t()}}},8177:e=>{e.exports="0.8.5"},7856:function(e){e.exports=function(){var e=Object.hasOwnProperty,t=Object.setPrototypeOf,n=Object.isFrozen,i=Object.getPrototypeOf,r=Object.getOwnPropertyDescriptor,o=Object.freeze,s=Object.seal,a=Object.create,l="undefined"!=typeof Reflect&&Reflect,c=l.apply,u=l.construct;c||(c=function(e,t,n){return e.apply(t,n)}),o||(o=function(e){return e}),s||(s=function(e){return e}),u||(u=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))))});var h,d=C(Array.prototype.forEach),f=C(Array.prototype.pop),p=C(Array.prototype.push),g=C(String.prototype.toLowerCase),m=C(String.prototype.match),v=C(String.prototype.replace),y=C(String.prototype.indexOf),b=C(String.prototype.trim),_=C(RegExp.prototype.test),w=(h=TypeError,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return u(h,t)});function C(e){return function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return c(e,t,i)}}function x(e,i){t&&t(e,null);for(var r=i.length;r--;){var o=i[r];if("string"==typeof o){var s=g(o);s!==o&&(n(i)||(i[r]=s),o=s)}e[o]=!0}return e}function k(t){var n=a(null),i=void 0;for(i in t)c(e,t,[i])&&(n[i]=t[i]);return n}function S(e,t){for(;null!==e;){var n=r(e,t);if(n){if(n.get)return C(n.get);if("function"==typeof n.value)return C(n.value)}e=i(e)}return function(e){return console.warn("fallback value for",e),null}}var D=o(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),E=o(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),L=o(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),T=o(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),N=o(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),M=o(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),A=o(["#text"]),I=o(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),O=o(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),F=o(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),R=o(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),P=s(/\{\{[\s\S]*|[\s\S]*\}\}/gm),B=s(/<%[\s\S]*|[\s\S]*%>/gm),j=s(/^data-[\-\w.\u00B7-\uFFFF]/),z=s(/^aria-[\-\w]+$/),V=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),W=s(/^(?:\w+script|data):/i),H=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function $(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var q=function(){return"undefined"==typeof window?null:window},K=function(e,t){if("object"!==(void 0===e?"undefined":U(e))||"function"!=typeof e.createPolicy)return null;var n=null,i="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(i)&&(n=t.currentScript.getAttribute(i));var r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:function(e){return e}})}catch(o){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q(),n=function(t){return e(t)};if(n.version="2.3.3",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var i=t.document,r=t.document,s=t.DocumentFragment,a=t.HTMLTemplateElement,l=t.Node,c=t.Element,u=t.NodeFilter,h=t.NamedNodeMap,C=void 0===h?t.NamedNodeMap||t.MozNamedAttrMap:h,Y=t.Text,G=t.Comment,X=t.DOMParser,Z=t.trustedTypes,J=c.prototype,Q=S(J,"cloneNode"),ee=S(J,"nextSibling"),te=S(J,"childNodes"),ne=S(J,"parentNode");if("function"==typeof a){var ie=r.createElement("template");ie.content&&ie.content.ownerDocument&&(r=ie.content.ownerDocument)}var re=K(Z,i),oe=re&&Pe?re.createHTML(""):"",se=r,ae=se.implementation,le=se.createNodeIterator,ce=se.createDocumentFragment,ue=se.getElementsByTagName,he=i.importNode,de={};try{de=k(r).documentMode?r.documentMode:{}}catch(Ct){}var fe={};n.isSupported="function"==typeof ne&&ae&&void 0!==ae.createHTMLDocument&&9!==de;var pe=P,ge=B,me=j,ve=z,ye=W,be=H,_e=V,we=null,Ce=x({},[].concat($(D),$(E),$(L),$(N),$(A))),xe=null,ke=x({},[].concat($(I),$(O),$(F),$(R))),Se=null,De=null,Ee=!0,Le=!0,Te=!1,Ne=!1,Me=!1,Ae=!1,Ie=!1,Oe=!1,Fe=!1,Re=!0,Pe=!1,Be=!0,je=!0,ze=!1,Ve={},We=null,He=x({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ue=null,$e=x({},["audio","video","img","source","image","track"]),qe=null,Ke=x({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ye="http://www.w3.org/1998/Math/MathML",Ge="http://www.w3.org/2000/svg",Xe="http://www.w3.org/1999/xhtml",Ze=Xe,Je=!1,Qe=void 0,et=["application/xhtml+xml","text/html"],tt="text/html",nt=void 0,it=null,rt=r.createElement("form"),ot=function(e){it&&it===e||(e&&"object"===(void 0===e?"undefined":U(e))||(e={}),e=k(e),we="ALLOWED_TAGS"in e?x({},e.ALLOWED_TAGS):Ce,xe="ALLOWED_ATTR"in e?x({},e.ALLOWED_ATTR):ke,qe="ADD_URI_SAFE_ATTR"in e?x(k(Ke),e.ADD_URI_SAFE_ATTR):Ke,Ue="ADD_DATA_URI_TAGS"in e?x(k($e),e.ADD_DATA_URI_TAGS):$e,We="FORBID_CONTENTS"in e?x({},e.FORBID_CONTENTS):He,Se="FORBID_TAGS"in e?x({},e.FORBID_TAGS):{},De="FORBID_ATTR"in e?x({},e.FORBID_ATTR):{},Ve="USE_PROFILES"in e&&e.USE_PROFILES,Ee=!1!==e.ALLOW_ARIA_ATTR,Le=!1!==e.ALLOW_DATA_ATTR,Te=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ne=e.SAFE_FOR_TEMPLATES||!1,Me=e.WHOLE_DOCUMENT||!1,Oe=e.RETURN_DOM||!1,Fe=e.RETURN_DOM_FRAGMENT||!1,Re=!1!==e.RETURN_DOM_IMPORT,Pe=e.RETURN_TRUSTED_TYPE||!1,Ie=e.FORCE_BODY||!1,Be=!1!==e.SANITIZE_DOM,je=!1!==e.KEEP_CONTENT,ze=e.IN_PLACE||!1,_e=e.ALLOWED_URI_REGEXP||_e,Ze=e.NAMESPACE||Xe,Qe=Qe=-1===et.indexOf(e.PARSER_MEDIA_TYPE)?tt:e.PARSER_MEDIA_TYPE,nt="application/xhtml+xml"===Qe?function(e){return e}:g,Ne&&(Le=!1),Fe&&(Oe=!0),Ve&&(we=x({},[].concat($(A))),xe=[],!0===Ve.html&&(x(we,D),x(xe,I)),!0===Ve.svg&&(x(we,E),x(xe,O),x(xe,R)),!0===Ve.svgFilters&&(x(we,L),x(xe,O),x(xe,R)),!0===Ve.mathMl&&(x(we,N),x(xe,F),x(xe,R))),e.ADD_TAGS&&(we===Ce&&(we=k(we)),x(we,e.ADD_TAGS)),e.ADD_ATTR&&(xe===ke&&(xe=k(xe)),x(xe,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&x(qe,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&(We===He&&(We=k(We)),x(We,e.FORBID_CONTENTS)),je&&(we["#text"]=!0),Me&&x(we,["html","head","body"]),we.table&&(x(we,["tbody"]),delete Se.tbody),o&&o(e),it=e)},st=x({},["mi","mo","mn","ms","mtext"]),at=x({},["foreignobject","desc","title","annotation-xml"]),lt=x({},E);x(lt,L),x(lt,T);var ct=x({},N);x(ct,M);var ut=function(e){var t=ne(e);t&&t.tagName||(t={namespaceURI:Xe,tagName:"template"});var n=g(e.tagName),i=g(t.tagName);if(e.namespaceURI===Ge)return t.namespaceURI===Xe?"svg"===n:t.namespaceURI===Ye?"svg"===n&&("annotation-xml"===i||st[i]):Boolean(lt[n]);if(e.namespaceURI===Ye)return t.namespaceURI===Xe?"math"===n:t.namespaceURI===Ge?"math"===n&&at[i]:Boolean(ct[n]);if(e.namespaceURI===Xe){if(t.namespaceURI===Ge&&!at[i])return!1;if(t.namespaceURI===Ye&&!st[i])return!1;var r=x({},["title","style","font","a","script"]);return!ct[n]&&(r[n]||!lt[n])}return!1},ht=function(e){p(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=oe}catch(i){e.remove()}}},dt=function(e,t){try{p(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(i){p(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!xe[e])if(Oe||Fe)try{ht(t)}catch(i){}else try{t.setAttribute(e,"")}catch(i){}},ft=function(e){var t=void 0,n=void 0;if(Ie)e="<remove></remove>"+e;else{var i=m(e,/^[\r\n\t ]+/);n=i&&i[0]}"application/xhtml+xml"===Qe&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var o=re?re.createHTML(e):e;if(Ze===Xe)try{t=(new X).parseFromString(o,Qe)}catch(a){}if(!t||!t.documentElement){t=ae.createDocument(Ze,"template",null);try{t.documentElement.innerHTML=Je?"":o}catch(a){}}var s=t.body||t.documentElement;return e&&n&&s.insertBefore(r.createTextNode(n),s.childNodes[0]||null),Ze===Xe?ue.call(t,Me?"html":"body")[0]:Me?t.documentElement:s},pt=function(e){return le.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null,!1)},gt=function(e){return!(e instanceof Y||e instanceof G||"string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof C&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute&&"string"==typeof e.namespaceURI&&"function"==typeof e.insertBefore)},mt=function(e){return"object"===(void 0===l?"undefined":U(l))?e instanceof l:e&&"object"===(void 0===e?"undefined":U(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},vt=function(e,t,i){fe[e]&&d(fe[e],(function(e){e.call(n,t,i,it)}))},yt=function(e){var t=void 0;if(vt("beforeSanitizeElements",e,null),gt(e))return ht(e),!0;if(m(e.nodeName,/[\u0080-\uFFFF]/))return ht(e),!0;var i=nt(e.nodeName);if(vt("uponSanitizeElement",e,{tagName:i,allowedTags:we}),!mt(e.firstElementChild)&&(!mt(e.content)||!mt(e.content.firstElementChild))&&_(/<[/\w]/g,e.innerHTML)&&_(/<[/\w]/g,e.textContent))return ht(e),!0;if("select"===i&&_(/<template/i,e.innerHTML))return ht(e),!0;if(!we[i]||Se[i]){if(je&&!We[i]){var r=ne(e)||e.parentNode,o=te(e)||e.childNodes;if(o&&r)for(var s=o.length-1;s>=0;--s)r.insertBefore(Q(o[s],!0),ee(e))}return ht(e),!0}return e instanceof c&&!ut(e)?(ht(e),!0):"noscript"!==i&&"noembed"!==i||!_(/<\/no(script|embed)/i,e.innerHTML)?(Ne&&3===e.nodeType&&(t=e.textContent,t=v(t,pe," "),t=v(t,ge," "),e.textContent!==t&&(p(n.removed,{element:e.cloneNode()}),e.textContent=t)),vt("afterSanitizeElements",e,null),!1):(ht(e),!0)},bt=function(e,t,n){if(Be&&("id"===t||"name"===t)&&(n in r||n in rt))return!1;if(Le&&!De[t]&&_(me,t));else if(Ee&&_(ve,t));else{if(!xe[t]||De[t])return!1;if(qe[t]);else if(_(_e,v(n,be,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==y(n,"data:")||!Ue[e])if(Te&&!_(ye,v(n,be,"")));else if(n)return!1}return!0},_t=function(e){var t=void 0,i=void 0,r=void 0,o=void 0;vt("beforeSanitizeAttributes",e,null);var s=e.attributes;if(s){var a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:xe};for(o=s.length;o--;){var l=t=s[o],c=l.name,u=l.namespaceURI;if(i=b(t.value),r=nt(c),a.attrName=r,a.attrValue=i,a.keepAttr=!0,a.forceKeepAttr=void 0,vt("uponSanitizeAttribute",e,a),i=a.attrValue,!a.forceKeepAttr&&(dt(c,e),a.keepAttr))if(_(/\/>/i,i))dt(c,e);else{Ne&&(i=v(i,pe," "),i=v(i,ge," "));var h=nt(e.nodeName);if(bt(h,r,i))try{u?e.setAttributeNS(u,c,i):e.setAttribute(c,i),f(n.removed)}catch(d){}}}vt("afterSanitizeAttributes",e,null)}},wt=function e(t){var n=void 0,i=pt(t);for(vt("beforeSanitizeShadowDOM",t,null);n=i.nextNode();)vt("uponSanitizeShadowNode",n,null),yt(n)||(n.content instanceof s&&e(n.content),_t(n));vt("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e,r){var o=void 0,a=void 0,c=void 0,u=void 0,h=void 0;if((Je=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!mt(e)){if("function"!=typeof e.toString)throw w("toString is not a function");if("string"!=typeof(e=e.toString()))throw w("dirty is not a string, aborting")}if(!n.isSupported){if("object"===U(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(mt(e))return t.toStaticHTML(e.outerHTML)}return e}if(Ae||ot(r),n.removed=[],"string"==typeof e&&(ze=!1),ze);else if(e instanceof l)1===(a=(o=ft("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?o=a:o.appendChild(a);else{if(!Oe&&!Ne&&!Me&&-1===e.indexOf("<"))return re&&Pe?re.createHTML(e):e;if(!(o=ft(e)))return Oe?null:oe}o&&Ie&&ht(o.firstChild);for(var d=pt(ze?e:o);c=d.nextNode();)3===c.nodeType&&c===u||yt(c)||(c.content instanceof s&&wt(c.content),_t(c),u=c);if(u=null,ze)return e;if(Oe){if(Fe)for(h=ce.call(o.ownerDocument);o.firstChild;)h.appendChild(o.firstChild);else h=o;return Re&&(h=he.call(i,h,!0)),h}var f=Me?o.outerHTML:o.innerHTML;return Ne&&(f=v(f,pe," "),f=v(f,ge," ")),re&&Pe?re.createHTML(f):f},n.setConfig=function(e){ot(e),Ae=!0},n.clearConfig=function(){it=null,Ae=!1},n.isValidAttribute=function(e,t,n){it||ot({});var i=nt(e),r=nt(t);return bt(i,r,n)},n.addHook=function(e,t){"function"==typeof t&&(fe[e]=fe[e]||[],p(fe[e],t))},n.removeHook=function(e){fe[e]&&f(fe[e])},n.removeHooks=function(e){fe[e]&&(fe[e]=[])},n.removeAllHooks=function(){fe={}},n}()}()},8282:(e,t,n)=>{var i=n(2354);e.exports={Graph:i.Graph,json:n(8974),alg:n(2440),version:i.version}},2842:(e,t,n)=>{var i=n(9126);e.exports=function(e){var t,n={},r=[];function o(r){i.has(n,r)||(n[r]=!0,t.push(r),i.each(e.successors(r),o),i.each(e.predecessors(r),o))}return i.each(e.nodes(),(function(e){t=[],o(e),t.length&&r.push(t)})),r}},3984:(e,t,n)=>{var i=n(9126);function r(e,t,n,o,s,a){i.has(o,t)||(o[t]=!0,n||a.push(t),i.each(s(t),(function(t){r(e,t,n,o,s,a)})),n&&a.push(t))}e.exports=function(e,t,n){i.isArray(t)||(t=[t]);var o=(e.isDirected()?e.successors:e.neighbors).bind(e),s=[],a={};return i.each(t,(function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);r(e,t,"post"===n,a,o,s)})),s}},4847:(e,t,n)=>{var i=n(3763),r=n(9126);e.exports=function(e,t,n){return r.transform(e.nodes(),(function(r,o){r[o]=i(e,o,t,n)}),{})}},3763:(e,t,n)=>{var i=n(9126),r=n(9675);e.exports=function(e,t,n,i){return function(e,t,n,i){var o,s,a={},l=new r,c=function(e){var t=e.v!==o?e.v:e.w,i=a[t],r=n(e),c=s.distance+r;if(r<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+r);c<i.distance&&(i.distance=c,i.predecessor=o,l.decrease(t,c))};for(e.nodes().forEach((function(e){var n=e===t?0:Number.POSITIVE_INFINITY;a[e]={distance:n},l.add(e,n)}));l.size()>0&&(o=l.removeMin(),(s=a[o]).distance!==Number.POSITIVE_INFINITY);)i(o).forEach(c);return a}(e,String(t),n||o,i||function(t){return e.outEdges(t)})};var o=i.constant(1)},9096:(e,t,n)=>{var i=n(9126),r=n(5023);e.exports=function(e){return i.filter(r(e),(function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])}))}},8924:(e,t,n)=>{var i=n(9126);e.exports=function(e,t,n){return i=t||r,o=n||function(t){return e.outEdges(t)},s={},(a=e.nodes()).forEach((function(e){s[e]={},s[e][e]={distance:0},a.forEach((function(t){e!==t&&(s[e][t]={distance:Number.POSITIVE_INFINITY})})),o(e).forEach((function(t){var n=t.v===e?t.w:t.v,r=i(t);s[e][n]={distance:r,predecessor:e}}))})),a.forEach((function(e){var t=s[e];a.forEach((function(n){var i=s[n];a.forEach((function(n){var r=i[e],o=t[n],s=i[n],a=r.distance+o.distance;a<s.distance&&(s.distance=a,s.predecessor=o.predecessor)}))}))})),s;var i,o,s,a};var r=i.constant(1)},2440:(e,t,n)=>{e.exports={components:n(2842),dijkstra:n(3763),dijkstraAll:n(4847),findCycles:n(9096),floydWarshall:n(8924),isAcyclic:n(2707),postorder:n(8828),preorder:n(2648),prim:n(514),tarjan:n(5023),topsort:n(2166)}},2707:(e,t,n)=>{var i=n(2166);e.exports=function(e){try{i(e)}catch(t){if(t instanceof i.CycleException)return!1;throw t}return!0}},8828:(e,t,n)=>{var i=n(3984);e.exports=function(e,t){return i(e,t,"post")}},2648:(e,t,n)=>{var i=n(3984);e.exports=function(e,t){return i(e,t,"pre")}},514:(e,t,n)=>{var i=n(9126),r=n(771),o=n(9675);e.exports=function(e,t){var n,s=new r,a={},l=new o;function c(e){var i=e.v===n?e.w:e.v,r=l.priority(i);if(void 0!==r){var o=t(e);o<r&&(a[i]=n,l.decrease(i,o))}}if(0===e.nodeCount())return s;i.each(e.nodes(),(function(e){l.add(e,Number.POSITIVE_INFINITY),s.setNode(e)})),l.decrease(e.nodes()[0],0);for(var u=!1;l.size()>0;){if(n=l.removeMin(),i.has(a,n))s.setEdge(n,a[n]);else{if(u)throw new Error("Input graph is not connected: "+e);u=!0}e.nodeEdges(n).forEach(c)}return s}},5023:(e,t,n)=>{var i=n(9126);e.exports=function(e){var t=0,n=[],r={},o=[];function s(a){var l=r[a]={onStack:!0,lowlink:t,index:t++};if(n.push(a),e.successors(a).forEach((function(e){i.has(r,e)?r[e].onStack&&(l.lowlink=Math.min(l.lowlink,r[e].index)):(s(e),l.lowlink=Math.min(l.lowlink,r[e].lowlink))})),l.lowlink===l.index){var c,u=[];do{c=n.pop(),r[c].onStack=!1,u.push(c)}while(a!==c);o.push(u)}}return e.nodes().forEach((function(e){i.has(r,e)||s(e)})),o}},2166:(e,t,n)=>{var i=n(9126);function r(e){var t={},n={},r=[];if(i.each(e.sinks(),(function s(a){if(i.has(n,a))throw new o;i.has(t,a)||(n[a]=!0,t[a]=!0,i.each(e.predecessors(a),s),delete n[a],r.push(a))})),i.size(t)!==e.nodeCount())throw new o;return r}function o(){}e.exports=r,r.CycleException=o,o.prototype=new Error},9675:(e,t,n)=>{var i=n(9126);function r(){this._arr=[],this._keyIndices={}}e.exports=r,r.prototype.size=function(){return this._arr.length},r.prototype.keys=function(){return this._arr.map((function(e){return e.key}))},r.prototype.has=function(e){return i.has(this._keyIndices,e)},r.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},r.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},r.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!i.has(n,e)){var r=this._arr,o=r.length;return n[e]=o,r.push({key:e,priority:t}),this._decrease(o),!0}return!1},r.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},r.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},r.prototype._heapify=function(e){var t=this._arr,n=2*e,i=n+1,r=e;n<t.length&&(r=t[n].priority<t[r].priority?n:r,i<t.length&&(r=t[i].priority<t[r].priority?i:r),r!==e&&(this._swap(e,r),this._heapify(r)))},r.prototype._decrease=function(e){for(var t,n=this._arr,i=n[e].priority;0!==e&&!(n[t=e>>1].priority<i);)this._swap(e,t),e=t},r.prototype._swap=function(e,t){var n=this._arr,i=this._keyIndices,r=n[e],o=n[t];n[e]=o,n[t]=r,i[o.key]=e,i[r.key]=t}},771:(e,t,n)=>{var i=n(9126);e.exports=o;var r="\0";function o(e){this._isDirected=!i.has(e,"directed")||e.directed,this._isMultigraph=!!i.has(e,"multigraph")&&e.multigraph,this._isCompound=!!i.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=i.constant(void 0),this._defaultEdgeLabelFn=i.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function s(e,t){e[t]?e[t]++:e[t]=1}function a(e,t){--e[t]||delete e[t]}function l(e,t,n,r){var o=""+t,s=""+n;if(!e&&o>s){var a=o;o=s,s=a}return o+""+s+""+(i.isUndefined(r)?"\0":r)}function c(e,t,n,i){var r=""+t,o=""+n;if(!e&&r>o){var s=r;r=o,o=s}var a={v:r,w:o};return i&&(a.name=i),a}function u(e,t){return l(e,t.v,t.w,t.name)}o.prototype._nodeCount=0,o.prototype._edgeCount=0,o.prototype.isDirected=function(){return this._isDirected},o.prototype.isMultigraph=function(){return this._isMultigraph},o.prototype.isCompound=function(){return this._isCompound},o.prototype.setGraph=function(e){return this._label=e,this},o.prototype.graph=function(){return this._label},o.prototype.setDefaultNodeLabel=function(e){return i.isFunction(e)||(e=i.constant(e)),this._defaultNodeLabelFn=e,this},o.prototype.nodeCount=function(){return this._nodeCount},o.prototype.nodes=function(){return i.keys(this._nodes)},o.prototype.sources=function(){var e=this;return i.filter(this.nodes(),(function(t){return i.isEmpty(e._in[t])}))},o.prototype.sinks=function(){var e=this;return i.filter(this.nodes(),(function(t){return i.isEmpty(e._out[t])}))},o.prototype.setNodes=function(e,t){var n=arguments,r=this;return i.each(e,(function(e){n.length>1?r.setNode(e,t):r.setNode(e)})),this},o.prototype.setNode=function(e,t){return i.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=r,this._children[e]={},this._children["\0"][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},o.prototype.node=function(e){return this._nodes[e]},o.prototype.hasNode=function(e){return i.has(this._nodes,e)},o.prototype.removeNode=function(e){var t=this;if(i.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],i.each(this.children(e),(function(e){t.setParent(e)})),delete this._children[e]),i.each(i.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],i.each(i.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},o.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(i.isUndefined(t))t=r;else{for(var n=t+="";!i.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},o.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},o.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!==r)return t}},o.prototype.children=function(e){if(i.isUndefined(e)&&(e=r),this._isCompound){var t=this._children[e];if(t)return i.keys(t)}else{if(e===r)return this.nodes();if(this.hasNode(e))return[]}},o.prototype.predecessors=function(e){var t=this._preds[e];if(t)return i.keys(t)},o.prototype.successors=function(e){var t=this._sucs[e];if(t)return i.keys(t)},o.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return i.union(t,this.successors(e))},o.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},o.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;i.each(this._nodes,(function(n,i){e(i)&&t.setNode(i,n)})),i.each(this._edgeObjs,(function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))}));var r={};function o(e){var i=n.parent(e);return void 0===i||t.hasNode(i)?(r[e]=i,i):i in r?r[i]:o(i)}return this._isCompound&&i.each(t.nodes(),(function(e){t.setParent(e,o(e))})),t},o.prototype.setDefaultEdgeLabel=function(e){return i.isFunction(e)||(e=i.constant(e)),this._defaultEdgeLabelFn=e,this},o.prototype.edgeCount=function(){return this._edgeCount},o.prototype.edges=function(){return i.values(this._edgeObjs)},o.prototype.setPath=function(e,t){var n=this,r=arguments;return i.reduce(e,(function(e,i){return r.length>1?n.setEdge(e,i,t):n.setEdge(e,i),i})),this},o.prototype.setEdge=function(){var e,t,n,r,o=!1,a=arguments[0];"object"==typeof a&&null!==a&&"v"in a?(e=a.v,t=a.w,n=a.name,2===arguments.length&&(r=arguments[1],o=!0)):(e=a,t=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],o=!0)),e=""+e,t=""+t,i.isUndefined(n)||(n=""+n);var u=l(this._isDirected,e,t,n);if(i.has(this._edgeLabels,u))return o&&(this._edgeLabels[u]=r),this;if(!i.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[u]=o?r:this._defaultEdgeLabelFn(e,t,n);var h=c(this._isDirected,e,t,n);return e=h.v,t=h.w,Object.freeze(h),this._edgeObjs[u]=h,s(this._preds[t],e),s(this._sucs[e],t),this._in[t][u]=h,this._out[e][u]=h,this._edgeCount++,this},o.prototype.edge=function(e,t,n){var i=1===arguments.length?u(this._isDirected,arguments[0]):l(this._isDirected,e,t,n);return this._edgeLabels[i]},o.prototype.hasEdge=function(e,t,n){var r=1===arguments.length?u(this._isDirected,arguments[0]):l(this._isDirected,e,t,n);return i.has(this._edgeLabels,r)},o.prototype.removeEdge=function(e,t,n){var i=1===arguments.length?u(this._isDirected,arguments[0]):l(this._isDirected,e,t,n),r=this._edgeObjs[i];return r&&(e=r.v,t=r.w,delete this._edgeLabels[i],delete this._edgeObjs[i],a(this._preds[t],e),a(this._sucs[e],t),delete this._in[t][i],delete this._out[e][i],this._edgeCount--),this},o.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var r=i.values(n);return t?i.filter(r,(function(e){return e.v===t})):r}},o.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var r=i.values(n);return t?i.filter(r,(function(e){return e.w===t})):r}},o.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}},2354:(e,t,n)=>{e.exports={Graph:n(771),version:n(9631)}},8974:(e,t,n)=>{var i=n(9126),r=n(771);function o(e){return i.map(e.nodes(),(function(t){var n=e.node(t),r=e.parent(t),o={v:t};return i.isUndefined(n)||(o.value=n),i.isUndefined(r)||(o.parent=r),o}))}function s(e){return i.map(e.edges(),(function(t){var n=e.edge(t),r={v:t.v,w:t.w};return i.isUndefined(t.name)||(r.name=t.name),i.isUndefined(n)||(r.value=n),r}))}e.exports={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:o(e),edges:s(e)};return i.isUndefined(e.graph())||(t.value=i.clone(e.graph())),t},read:function(e){var t=new r(e.options).setGraph(e.value);return i.each(e.nodes,(function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)})),i.each(e.edges,(function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)})),t}}},9126:(e,t,n)=>{var i;try{i={clone:n(6678),constant:n(5703),each:n(6073),filter:n(3105),has:n(8721),isArray:n(1469),isEmpty:n(1609),isFunction:n(3560),isUndefined:n(2353),keys:n(3674),map:n(5161),reduce:n(4061),size:n(4238),transform:n(8718),union:n(3386),values:n(2628)}}catch(r){}i||(i=window._),e.exports=i},9631:e=>{e.exports="2.1.8"},1773:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(1083),r=n(7628),o=function(){function e(e,t){this.color=t,this.changed=!1,this.data=e,this.type=new r.default}return e.prototype.set=function(e,t){return this.color=t,this.changed=!1,this.data=e,this.type.type=0,this},e.prototype._ensureHSL=function(){var e=this.data,t=e.h,n=e.s,r=e.l;void 0===t&&(e.h=i.default.channel.rgb2hsl(e,"h")),void 0===n&&(e.s=i.default.channel.rgb2hsl(e,"s")),void 0===r&&(e.l=i.default.channel.rgb2hsl(e,"l"))},e.prototype._ensureRGB=function(){var e=this.data,t=e.r,n=e.g,r=e.b;void 0===t&&(e.r=i.default.channel.hsl2rgb(e,"r")),void 0===n&&(e.g=i.default.channel.hsl2rgb(e,"g")),void 0===r&&(e.b=i.default.channel.hsl2rgb(e,"b"))},Object.defineProperty(e.prototype,"r",{get:function(){var e=this.data,t=e.r;return this.type.is(2)||void 0===t?(this._ensureHSL(),i.default.channel.hsl2rgb(e,"r")):t},set:function(e){this.type.set(1),this.changed=!0,this.data.r=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"g",{get:function(){var e=this.data,t=e.g;return this.type.is(2)||void 0===t?(this._ensureHSL(),i.default.channel.hsl2rgb(e,"g")):t},set:function(e){this.type.set(1),this.changed=!0,this.data.g=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"b",{get:function(){var e=this.data,t=e.b;return this.type.is(2)||void 0===t?(this._ensureHSL(),i.default.channel.hsl2rgb(e,"b")):t},set:function(e){this.type.set(1),this.changed=!0,this.data.b=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"h",{get:function(){var e=this.data,t=e.h;return this.type.is(1)||void 0===t?(this._ensureRGB(),i.default.channel.rgb2hsl(e,"h")):t},set:function(e){this.type.set(2),this.changed=!0,this.data.h=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"s",{get:function(){var e=this.data,t=e.s;return this.type.is(1)||void 0===t?(this._ensureRGB(),i.default.channel.rgb2hsl(e,"s")):t},set:function(e){this.type.set(2),this.changed=!0,this.data.s=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"l",{get:function(){var e=this.data,t=e.l;return this.type.is(1)||void 0===t?(this._ensureRGB(),i.default.channel.rgb2hsl(e,"l")):t},set:function(e){this.type.set(2),this.changed=!0,this.data.l=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"a",{get:function(){return this.data.a},set:function(e){this.changed=!0,this.data.a=e},enumerable:!0,configurable:!0}),e}();t.default=o},8167:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=new(n(1773).default)({r:0,g:0,b:0,a:0},"transparent");t.default=i},7628:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.type=0}return e.prototype.get=function(){return this.type},e.prototype.set=function(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e},e.prototype.reset=function(){this.type=0},e.prototype.is=function(e){return this.type===e},e}();t.default=n},1655:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(8167),r=n(6061),o={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:function(e){if(35===e.charCodeAt(0)){var t=e.match(o.re);if(t){var n=t[1],r=parseInt(n,16),s=n.length,a=s%4==0,l=s>4,c=l?1:17,u=l?8:4,h=a?0:-1,d=l?255:15;return i.default.set({r:(r>>u*(h+3)&d)*c,g:(r>>u*(h+2)&d)*c,b:(r>>u*(h+1)&d)*c,a:a?(r&d)*c/255:1},e)}}},stringify:function(e){var t=e.r,n=e.g,i=e.b,o=e.a;return o<1?"#"+r.DEC2HEX[Math.round(t)]+r.DEC2HEX[Math.round(n)]+r.DEC2HEX[Math.round(i)]+r.DEC2HEX[Math.round(255*o)]:"#"+r.DEC2HEX[Math.round(t)]+r.DEC2HEX[Math.round(n)]+r.DEC2HEX[Math.round(i)]}};t.default=o},8589:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(1083),r=n(8167),o={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:function(e){var t=e.match(o.hueRe);if(t){var n=t[1];switch(t[2]){case"grad":return i.default.channel.clamp.h(.9*parseFloat(n));case"rad":return i.default.channel.clamp.h(180*parseFloat(n)/Math.PI);case"turn":return i.default.channel.clamp.h(360*parseFloat(n))}}return i.default.channel.clamp.h(parseFloat(e))},parse:function(e){var t=e.charCodeAt(0);if(104===t||72===t){var n=e.match(o.re);if(n){var s=n[1],a=n[2],l=n[3],c=n[4],u=n[5];return r.default.set({h:o._hue2deg(s),s:i.default.channel.clamp.s(parseFloat(a)),l:i.default.channel.clamp.l(parseFloat(l)),a:c?i.default.channel.clamp.a(u?parseFloat(c)/100:parseFloat(c)):1},e)}}},stringify:function(e){var t=e.h,n=e.s,r=e.l,o=e.a;return o<1?"hsla("+i.default.lang.round(t)+", "+i.default.lang.round(n)+"%, "+i.default.lang.round(r)+"%, "+o+")":"hsl("+i.default.lang.round(t)+", "+i.default.lang.round(n)+"%, "+i.default.lang.round(r)+"%)"}};t.default=o},2191:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(1655),r=n(7538),o=n(6762),s=n(8589),a={format:{keyword:r.default,hex:i.default,rgb:o.default,rgba:o.default,hsl:s.default,hsla:s.default},parse:function(e){if("string"!=typeof e)return e;var t=i.default.parse(e)||o.default.parse(e)||s.default.parse(e)||r.default.parse(e);if(t)return t;throw new Error('Unsupported color format: "'+e+'"')},stringify:function(e){return!e.changed&&e.color?e.color:e.type.is(2)||void 0===e.data.r?s.default.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?o.default.stringify(e):i.default.stringify(e)}};t.default=a},7538:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(1655),r={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:function(e){e=e.toLowerCase();var t=r.colors[e];if(t)return i.default.parse(t)},stringify:function(e){var t=i.default.stringify(e);for(var n in r.colors)if(r.colors[n]===t)return n}};t.default=r},6762:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(1083),r=n(8167),o={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:function(e){var t=e.charCodeAt(0);if(114===t||82===t){var n=e.match(o.re);if(n){var s=n[1],a=n[2],l=n[3],c=n[4],u=n[5],h=n[6],d=n[7],f=n[8];return r.default.set({r:i.default.channel.clamp.r(a?2.55*parseFloat(s):parseFloat(s)),g:i.default.channel.clamp.g(c?2.55*parseFloat(l):parseFloat(l)),b:i.default.channel.clamp.b(h?2.55*parseFloat(u):parseFloat(u)),a:d?i.default.channel.clamp.a(f?parseFloat(d)/100:parseFloat(d)):1},e)}}},stringify:function(e){var t=e.r,n=e.g,r=e.b,o=e.a;return o<1?"rgba("+i.default.lang.round(t)+", "+i.default.lang.round(n)+", "+i.default.lang.round(r)+", "+i.default.lang.round(o)+")":"rgb("+i.default.lang.round(t)+", "+i.default.lang.round(n)+", "+i.default.lang.round(r)+")"}};t.default=o},6061:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(1083),r={};t.DEC2HEX=r;for(var o=0;o<=255;o++)r[o]=i.default.unit.dec2hex(o)},8613:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(1203))},5371:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(2191),r=n(418);t.default=function(e,t){var n=i.default.parse(e),o={};for(var s in t)t[s]&&(o[s]=n[s]+t[s]);return r.default(e,o)}},1416:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(1083),r=n(2191);t.default=function(e,t,n){var o=r.default.parse(e),s=o[t],a=i.default.channel.clamp[t](s+n);return s!==a&&(o[t]=a),r.default.stringify(o)}},9353:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(6197);t.default=function(e){return i.default(e,"a")}},3394:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(6197);t.default=function(e){return i.default(e,"b")}},418:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(1083),r=n(2191);t.default=function(e,t){var n=r.default.parse(e);for(var o in t)n[o]=i.default.channel.clamp[o](t[o]);return r.default.stringify(n)}},6197:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(1083),r=n(2191);t.default=function(e,t){return i.default.lang.round(r.default.parse(e)[t])}},7361:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(1416);t.default=function(e){return i.default(e,"h",180)}},3042:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(1083),r=n(8346);t.default=function(e,t){var n=r.default(e),o=r.default(t),s=Math.max(n,o),a=Math.min(n,o),l=(s+Number.EPSILON)/(a+Number.EPSILON);return i.default.lang.round(i.default.lang.clamp(l,1,10))}},1364:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(1416);t.default=function(e,t){return i.default(e,"l",-t)}},9610:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(1416);t.default=function(e,t){return i.default(e,"s",-t)}},572:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(418);t.default=function(e){return i.default(e,{s:0})}},2299:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(6197);t.default=function(e){return i.default(e,"g")}},3116:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(1083),r=n(8167),o=n(2191);t.default=function(e,t,n,s){void 0===s&&(s=1);var a=r.default.set({h:i.default.channel.clamp.h(e),s:i.default.channel.clamp.s(t),l:i.default.channel.clamp.l(n),a:i.default.channel.clamp.a(s)});return o.default.stringify(a)}},3008:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(6197);t.default=function(e){return i.default(e,"h")}},1203:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(6538);t.hex=i.default;var r=n(6538);t.rgb=r.default;var o=n(6538);t.rgba=o.default;var s=n(3116);t.hsl=s.default;var a=n(3116);t.hsla=a.default;var l=n(2619);t.toKeyword=l.default;var c=n(4307);t.toHex=c.default;var u=n(4125);t.toRgba=u.default;var h=n(7329);t.toHsla=h.default;var d=n(6197);t.channel=d.default;var f=n(9640);t.red=f.default;var p=n(2299);t.green=p.default;var g=n(3394);t.blue=g.default;var m=n(3008);t.hue=m.default;var v=n(6451);t.saturation=v.default;var y=n(9235);t.lightness=y.default;var b=n(9353);t.alpha=b.default;var _=n(9353);t.opacity=_.default;var w=n(3042);t.contrast=w.default;var C=n(8346);t.luminance=C.default;var x=n(4117);t.isDark=x.default;var k=n(2224);t.isLight=k.default;var S=n(585);t.isValid=S.default;var D=n(1080);t.saturate=D.default;var E=n(9610);t.desaturate=E.default;var L=n(3235);t.lighten=L.default;var T=n(1364);t.darken=T.default;var N=n(7189);t.opacify=N.default;var M=n(7189);t.fadeIn=M.default;var A=n(4989);t.transparentize=A.default;var I=n(4989);t.fadeOut=I.default;var O=n(7361);t.complement=O.default;var F=n(572);t.grayscale=F.default;var R=n(5371);t.adjust=R.default;var P=n(418);t.change=P.default;var B=n(566);t.invert=B.default;var j=n(1861);t.mix=j.default;var z=n(7081);t.scale=z.default},566:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(2191),r=n(1861);t.default=function(e,t){void 0===t&&(t=100);var n=i.default.parse(e);return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,r.default(n,e,t)}},4117:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(2224);t.default=function(e){return!i.default(e)}},2224:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(8346);t.default=function(e){return i.default(e)>=.5}},585:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(2191);t.default=function(e){try{return i.default.parse(e),!0}catch(t){return!1}}},3235:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(1416);t.default=function(e,t){return i.default(e,"l",t)}},9235:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(6197);t.default=function(e){return i.default(e,"l")}},8346:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(1083),r=n(2191);t.default=function(e){var t=r.default.parse(e),n=t.r,o=t.g,s=t.b,a=.2126*i.default.channel.toLinear(n)+.7152*i.default.channel.toLinear(o)+.0722*i.default.channel.toLinear(s);return i.default.lang.round(a)}},1861:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(2191),r=n(6538);t.default=function(e,t,n){void 0===n&&(n=50);var o=i.default.parse(e),s=o.r,a=o.g,l=o.b,c=o.a,u=i.default.parse(t),h=u.r,d=u.g,f=u.b,p=u.a,g=n/100,m=2*g-1,v=c-p,y=((m*v==-1?m:(m+v)/(1+m*v))+1)/2,b=1-y,_=s*y+h*b,w=a*y+d*b,C=l*y+f*b,x=c*g+p*(1-g);return r.default(_,w,C,x)}},7189:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(1416);t.default=function(e,t){return i.default(e,"a",t)}},9640:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(6197);t.default=function(e){return i.default(e,"r")}},6538:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(1083),r=n(8167),o=n(2191),s=n(418);t.default=function(e,t,n,a){if(void 0===n&&(n=0),void 0===a&&(a=1),"number"!=typeof e)return s.default(e,{a:t});var l=r.default.set({r:i.default.channel.clamp.r(e),g:i.default.channel.clamp.g(t),b:i.default.channel.clamp.b(n),a:i.default.channel.clamp.a(a)});return o.default.stringify(l)}},1080:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(1416);t.default=function(e,t){return i.default(e,"s",t)}},6451:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(6197);t.default=function(e){return i.default(e,"s")}},7081:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(1083),r=n(2191),o=n(5371);t.default=function(e,t){var n,s,a,l=r.default.parse(e),c={};for(var u in t)c[u]=(n=l[u],s=t[u],a=i.default.channel.max[u],s>0?(a-n)*s/100:n*s/100);return o.default(e,c)}},4307:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(2191);t.default=function(e){return i.default.format.hex.stringify(i.default.parse(e))}},7329:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(2191);t.default=function(e){return i.default.format.hsla.stringify(i.default.parse(e))}},2619:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(2191);t.default=function(e){return i.default.format.keyword.stringify(i.default.parse(e))}},4125:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(2191);t.default=function(e){return i.default.format.rgba.stringify(i.default.parse(e))}},4989:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(1416);t.default=function(e,t){return i.default(e,"a",-t)}},7994:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:function(e){return e>=255?255:e<0?0:e},g:function(e){return e>=255?255:e<0?0:e},b:function(e){return e>=255?255:e<0?0:e},h:function(e){return e%360},s:function(e){return e>=100?100:e<0?0:e},l:function(e){return e>=100?100:e<0?0:e},a:function(e){return e>=1?1:e<0?0:e}},toLinear:function(e){var t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},hsl2rgb:function(e,t){var i=e.h,r=e.s,o=e.l;if(!r)return 2.55*o;i/=360,r/=100;var s=(o/=100)<.5?o*(1+r):o+r-o*r,a=2*o-s;switch(t){case"r":return 255*n.hue2rgb(a,s,i+1/3);case"g":return 255*n.hue2rgb(a,s,i);case"b":return 255*n.hue2rgb(a,s,i-1/3)}},rgb2hsl:function(e,t){var n=e.r,i=e.g,r=e.b;n/=255,i/=255,r/=255;var o=Math.max(n,i,r),s=Math.min(n,i,r),a=(o+s)/2;if("l"===t)return 100*a;if(o===s)return 0;var l=o-s;if("s"===t)return 100*(a>.5?l/(2-o-s):l/(o+s));switch(o){case n:return 60*((i-r)/l+(i<r?6:0));case i:return 60*((r-n)/l+2);case r:return 60*((n-i)/l+4);default:return-1}}};t.default=n},1083:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(7994),r=n(4027),o=n(318),s={channel:i.default,lang:r.default,unit:o.default};t.default=s},4027:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n={clamp:function(e,t,n){return t>n?Math.min(t,Math.max(n,e)):Math.min(n,Math.max(t,e))},round:function(e){return Math.round(1e10*e)/1e10}};t.default=n},318:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n={dec2hex:function(e){var t=Math.round(e).toString(16);return t.length>1?t:"0"+t}};t.default=n},8552:(e,t,n)=>{var i=n(852)(n(5639),"DataView");e.exports=i},1989:(e,t,n)=>{var i=n(1789),r=n(401),o=n(7667),s=n(1327),a=n(1866);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,e.exports=l},8407:(e,t,n)=>{var i=n(7040),r=n(1362),o=n(2117),s=n(7518),a=n(4705);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,e.exports=l},7071:(e,t,n)=>{var i=n(852)(n(5639),"Map");e.exports=i},3369:(e,t,n)=>{var i=n(4785),r=n(1285),o=n(6e3),s=n(9916),a=n(5265);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,e.exports=l},3818:(e,t,n)=>{var i=n(852)(n(5639),"Promise");e.exports=i},8525:(e,t,n)=>{var i=n(852)(n(5639),"Set");e.exports=i},8668:(e,t,n)=>{var i=n(3369),r=n(619),o=n(2385);function s(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i;++t<n;)this.add(e[t])}s.prototype.add=s.prototype.push=r,s.prototype.has=o,e.exports=s},6384:(e,t,n)=>{var i=n(8407),r=n(7465),o=n(3779),s=n(7599),a=n(4758),l=n(4309);function c(e){var t=this.__data__=new i(e);this.size=t.size}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=s,c.prototype.has=a,c.prototype.set=l,e.exports=c},2705:(e,t,n)=>{var i=n(5639).Symbol;e.exports=i},1149:(e,t,n)=>{var i=n(5639).Uint8Array;e.exports=i},577:(e,t,n)=>{var i=n(852)(n(5639),"WeakMap");e.exports=i},6874:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},7412:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}},4963:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var s=e[n];t(s,n,e)&&(o[r++]=s)}return o}},7443:(e,t,n)=>{var i=n(2118);e.exports=function(e,t){return!(null==e||!e.length)&&i(e,t,0)>-1}},1196:e=>{e.exports=function(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}},4636:(e,t,n)=>{var i=n(2545),r=n(5694),o=n(1469),s=n(4144),a=n(5776),l=n(6719),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&r(e),h=!n&&!u&&s(e),d=!n&&!u&&!h&&l(e),f=n||u||h||d,p=f?i(e.length,String):[],g=p.length;for(var m in e)!t&&!c.call(e,m)||f&&("length"==m||h&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||a(m,g))||p.push(m);return p}},9932:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}},2488:e=>{e.exports=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}},2663:e=>{e.exports=function(e,t,n,i){var r=-1,o=null==e?0:e.length;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}},2908:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}},8983:(e,t,n)=>{var i=n(371)("length");e.exports=i},6556:(e,t,n)=>{var i=n(9465),r=n(7813);e.exports=function(e,t,n){(void 0!==n&&!r(e[t],n)||void 0===n&&!(t in e))&&i(e,t,n)}},4865:(e,t,n)=>{var i=n(9465),r=n(7813),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var s=e[t];o.call(e,t)&&r(s,n)&&(void 0!==n||t in e)||i(e,t,n)}},8470:(e,t,n)=>{var i=n(7813);e.exports=function(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}},4037:(e,t,n)=>{var i=n(8363),r=n(3674);e.exports=function(e,t){return e&&i(t,r(t),e)}},3886:(e,t,n)=>{var i=n(8363),r=n(1704);e.exports=function(e,t){return e&&i(t,r(t),e)}},9465:(e,t,n)=>{var i=n(8777);e.exports=function(e,t,n){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},5990:(e,t,n)=>{var i=n(6384),r=n(7412),o=n(4865),s=n(4037),a=n(3886),l=n(4626),c=n(278),u=n(8805),h=n(1911),d=n(8234),f=n(6904),p=n(4160),g=n(3824),m=n(9148),v=n(8517),y=n(1469),b=n(4144),_=n(6688),w=n(3218),C=n(2928),x=n(3674),k=n(1704),S="[object Arguments]",D="[object Function]",E="[object Object]",L={};L[S]=L["[object Array]"]=L["[object ArrayBuffer]"]=L["[object DataView]"]=L["[object Boolean]"]=L["[object Date]"]=L["[object Float32Array]"]=L["[object Float64Array]"]=L["[object Int8Array]"]=L["[object Int16Array]"]=L["[object Int32Array]"]=L["[object Map]"]=L["[object Number]"]=L[E]=L["[object RegExp]"]=L["[object Set]"]=L["[object String]"]=L["[object Symbol]"]=L["[object Uint8Array]"]=L["[object Uint8ClampedArray]"]=L["[object Uint16Array]"]=L["[object Uint32Array]"]=!0,L["[object Error]"]=L[D]=L["[object WeakMap]"]=!1,e.exports=function e(t,n,T,N,M,A){var I,O=1&n,F=2&n,R=4&n;if(T&&(I=M?T(t,N,M,A):T(t)),void 0!==I)return I;if(!w(t))return t;var P=y(t);if(P){if(I=g(t),!O)return c(t,I)}else{var B=p(t),j=B==D||"[object GeneratorFunction]"==B;if(b(t))return l(t,O);if(B==E||B==S||j&&!M){if(I=F||j?{}:v(t),!O)return F?h(t,a(I,t)):u(t,s(I,t))}else{if(!L[B])return M?t:{};I=m(t,B,O)}}A||(A=new i);var z=A.get(t);if(z)return z;A.set(t,I),C(t)?t.forEach((function(i){I.add(e(i,n,T,i,t,A))})):_(t)&&t.forEach((function(i,r){I.set(r,e(i,n,T,r,t,A))}));var V=P?void 0:(R?F?f:d:F?k:x)(t);return r(V||t,(function(i,r){V&&(i=t[r=i]),o(I,r,e(i,n,T,r,t,A))})),I}},3118:(e,t,n)=>{var i=n(3218),r=Object.create,o=function(){function e(){}return function(t){if(!i(t))return{};if(r)return r(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},9881:(e,t,n)=>{var i=n(7816),r=n(9291)(i);e.exports=r},6029:(e,t,n)=>{var i=n(3448);e.exports=function(e,t,n){for(var r=-1,o=e.length;++r<o;){var s=e[r],a=t(s);if(null!=a&&(void 0===l?a==a&&!i(a):n(a,l)))var l=a,c=s}return c}},760:(e,t,n)=>{var i=n(9881);e.exports=function(e,t){var n=[];return i(e,(function(e,i,r){t(e,i,r)&&n.push(e)})),n}},1848:e=>{e.exports=function(e,t,n,i){for(var r=e.length,o=n+(i?1:-1);i?o--:++o<r;)if(t(e[o],o,e))return o;return-1}},1078:(e,t,n)=>{var i=n(2488),r=n(7285);e.exports=function e(t,n,o,s,a){var l=-1,c=t.length;for(o||(o=r),a||(a=[]);++l<c;){var u=t[l];n>0&&o(u)?n>1?e(u,n-1,o,s,a):i(a,u):s||(a[a.length]=u)}return a}},8483:(e,t,n)=>{var i=n(5063)();e.exports=i},7816:(e,t,n)=>{var i=n(8483),r=n(3674);e.exports=function(e,t){return e&&i(e,t,r)}},7786:(e,t,n)=>{var i=n(1811),r=n(327);e.exports=function(e,t){for(var n=0,o=(t=i(t,e)).length;null!=e&&n<o;)e=e[r(t[n++])];return n&&n==o?e:void 0}},8866:(e,t,n)=>{var i=n(2488),r=n(1469);e.exports=function(e,t,n){var o=t(e);return r(e)?o:i(o,n(e))}},4239:(e,t,n)=>{var i=n(2705),r=n(9607),o=n(2333),s=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?r(e):o(e)}},3325:e=>{e.exports=function(e,t){return e>t}},8565:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e,n){return null!=e&&t.call(e,n)}},13:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},2118:(e,t,n)=>{var i=n(1848),r=n(2722),o=n(2351);e.exports=function(e,t,n){return t==t?o(e,t,n):i(e,r,n)}},9454:(e,t,n)=>{var i=n(4239),r=n(7005);e.exports=function(e){return r(e)&&"[object Arguments]"==i(e)}},939:(e,t,n)=>{var i=n(2492),r=n(7005);e.exports=function e(t,n,o,s,a){return t===n||(null==t||null==n||!r(t)&&!r(n)?t!=t&&n!=n:i(t,n,o,s,e,a))}},2492:(e,t,n)=>{var i=n(6384),r=n(7114),o=n(8351),s=n(6096),a=n(4160),l=n(1469),c=n(4144),u=n(6719),h="[object Arguments]",d="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,m,v){var y=l(e),b=l(t),_=y?d:a(e),w=b?d:a(t),C=(_=_==h?f:_)==f,x=(w=w==h?f:w)==f,k=_==w;if(k&&c(e)){if(!c(t))return!1;y=!0,C=!1}if(k&&!C)return v||(v=new i),y||u(e)?r(e,t,n,g,m,v):o(e,t,_,n,g,m,v);if(!(1&n)){var S=C&&p.call(e,"__wrapped__"),D=x&&p.call(t,"__wrapped__");if(S||D){var E=S?e.value():e,L=D?t.value():t;return v||(v=new i),m(E,L,n,g,v)}}return!!k&&(v||(v=new i),s(e,t,n,g,m,v))}},5588:(e,t,n)=>{var i=n(4160),r=n(7005);e.exports=function(e){return r(e)&&"[object Map]"==i(e)}},2958:(e,t,n)=>{var i=n(6384),r=n(939);e.exports=function(e,t,n,o){var s=n.length,a=s,l=!o;if(null==e)return!a;for(e=Object(e);s--;){var c=n[s];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<a;){var u=(c=n[s])[0],h=e[u],d=c[1];if(l&&c[2]){if(void 0===h&&!(u in e))return!1}else{var f=new i;if(o)var p=o(h,d,u,e,t,f);if(!(void 0===p?r(d,h,3,o,f):p))return!1}}return!0}},2722:e=>{e.exports=function(e){return e!=e}},8458:(e,t,n)=>{var i=n(3560),r=n(5346),o=n(3218),s=n(346),a=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,h=c.hasOwnProperty,d=RegExp("^"+u.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||r(e))&&(i(e)?d:a).test(s(e))}},9221:(e,t,n)=>{var i=n(4160),r=n(7005);e.exports=function(e){return r(e)&&"[object Set]"==i(e)}},8749:(e,t,n)=>{var i=n(4239),r=n(1780),o=n(7005),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&r(e.length)&&!!s[i(e)]}},7206:(e,t,n)=>{var i=n(1573),r=n(6432),o=n(6557),s=n(1469),a=n(9601);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?s(e)?r(e[0],e[1]):i(e):a(e)}},280:(e,t,n)=>{var i=n(5726),r=n(6916),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return r(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},313:(e,t,n)=>{var i=n(3218),r=n(5726),o=n(3498),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return o(e);var t=r(e),n=[];for(var a in e)("constructor"!=a||!t&&s.call(e,a))&&n.push(a);return n}},433:e=>{e.exports=function(e,t){return e<t}},9199:(e,t,n)=>{var i=n(9881),r=n(8612);e.exports=function(e,t){var n=-1,o=r(e)?Array(e.length):[];return i(e,(function(e,i,r){o[++n]=t(e,i,r)})),o}},1573:(e,t,n)=>{var i=n(2958),r=n(1499),o=n(2634);e.exports=function(e){var t=r(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||i(n,e,t)}}},6432:(e,t,n)=>{var i=n(939),r=n(1917),o=n(9095),s=n(5403),a=n(9162),l=n(2634),c=n(327);e.exports=function(e,t){return s(e)&&a(t)?l(c(e),t):function(n){var s=r(n,e);return void 0===s&&s===t?o(n,e):i(t,s,3)}}},2980:(e,t,n)=>{var i=n(6384),r=n(6556),o=n(8483),s=n(9783),a=n(3218),l=n(1704),c=n(6390);e.exports=function e(t,n,u,h,d){t!==n&&o(n,(function(o,l){if(d||(d=new i),a(o))s(t,n,l,u,e,h,d);else{var f=h?h(c(t,l),o,l+"",t,n,d):void 0;void 0===f&&(f=o),r(t,l,f)}}),l)}},9783:(e,t,n)=>{var i=n(6556),r=n(4626),o=n(7133),s=n(278),a=n(8517),l=n(5694),c=n(1469),u=n(9246),h=n(4144),d=n(3560),f=n(3218),p=n(8630),g=n(6719),m=n(6390),v=n(3678);e.exports=function(e,t,n,y,b,_,w){var C=m(e,n),x=m(t,n),k=w.get(x);if(k)i(e,n,k);else{var S=_?_(C,x,n+"",e,t,w):void 0,D=void 0===S;if(D){var E=c(x),L=!E&&h(x),T=!E&&!L&&g(x);S=x,E||L||T?c(C)?S=C:u(C)?S=s(C):L?(D=!1,S=r(x,!0)):T?(D=!1,S=o(x,!0)):S=[]:p(x)||l(x)?(S=C,l(C)?S=v(C):f(C)&&!d(C)||(S=a(x))):D=!1}D&&(w.set(x,S),b(S,x,y,_,w),w.delete(x)),i(e,n,S)}}},9556:(e,t,n)=>{var i=n(9932),r=n(7786),o=n(7206),s=n(9199),a=n(1131),l=n(1717),c=n(5022),u=n(6557),h=n(1469);e.exports=function(e,t,n){t=t.length?i(t,(function(e){return h(e)?function(t){return r(t,1===e.length?e[0]:e)}:e})):[u];var d=-1;t=i(t,l(o));var f=s(e,(function(e,n,r){return{criteria:i(t,(function(t){return t(e)})),index:++d,value:e}}));return a(f,(function(e,t){return c(e,t,n)}))}},5970:(e,t,n)=>{var i=n(3012),r=n(9095);e.exports=function(e,t){return i(e,t,(function(t,n){return r(e,n)}))}},3012:(e,t,n)=>{var i=n(7786),r=n(611),o=n(1811);e.exports=function(e,t,n){for(var s=-1,a=t.length,l={};++s<a;){var c=t[s],u=i(e,c);n(u,c)&&r(l,o(c,e),u)}return l}},371:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},9152:(e,t,n)=>{var i=n(7786);e.exports=function(e){return function(t){return i(t,e)}}},98:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,i,r,o){for(var s=-1,a=n(t((i-e)/(r||1)),0),l=Array(a);a--;)l[o?a:++s]=e,e+=r;return l}},107:e=>{e.exports=function(e,t,n,i,r){return r(e,(function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)})),n}},5976:(e,t,n)=>{var i=n(6557),r=n(5357),o=n(61);e.exports=function(e,t){return o(r(e,t,i),e+"")}},611:(e,t,n)=>{var i=n(4865),r=n(1811),o=n(5776),s=n(3218),a=n(327);e.exports=function(e,t,n,l){if(!s(e))return e;for(var c=-1,u=(t=r(t,e)).length,h=u-1,d=e;null!=d&&++c<u;){var f=a(t[c]),p=n;if("__proto__"===f||"constructor"===f||"prototype"===f)return e;if(c!=h){var g=d[f];void 0===(p=l?l(g,f,d):void 0)&&(p=s(g)?g:o(t[c+1])?[]:{})}i(d,f,p),d=d[f]}return e}},6560:(e,t,n)=>{var i=n(5703),r=n(8777),o=n(6557),s=r?function(e,t){return r(e,"toString",{configurable:!0,enumerable:!1,value:i(t),writable:!0})}:o;e.exports=s},1131:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},2545:e=>{e.exports=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}},531:(e,t,n)=>{var i=n(2705),r=n(9932),o=n(1469),s=n(3448),a=i?i.prototype:void 0,l=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return r(t,e)+"";if(s(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},7561:(e,t,n)=>{var i=n(7990),r=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(r,""):e}},1717:e=>{e.exports=function(e){return function(t){return e(t)}}},5652:(e,t,n)=>{var i=n(8668),r=n(7443),o=n(1196),s=n(4757),a=n(3593),l=n(1814);e.exports=function(e,t,n){var c=-1,u=r,h=e.length,d=!0,f=[],p=f;if(n)d=!1,u=o;else if(h>=200){var g=t?null:a(e);if(g)return l(g);d=!1,u=s,p=new i}else p=t?[]:f;e:for(;++c<h;){var m=e[c],v=t?t(m):m;if(m=n||0!==m?m:0,d&&v==v){for(var y=p.length;y--;)if(p[y]===v)continue e;t&&p.push(v),f.push(m)}else u(p,v,n)||(p!==f&&p.push(v),f.push(m))}return f}},7415:(e,t,n)=>{var i=n(9932);e.exports=function(e,t){return i(t,(function(t){return e[t]}))}},1757:e=>{e.exports=function(e,t,n){for(var i=-1,r=e.length,o=t.length,s={};++i<r;){var a=i<o?t[i]:void 0;n(s,e[i],a)}return s}},4757:e=>{e.exports=function(e,t){return e.has(t)}},4290:(e,t,n)=>{var i=n(6557);e.exports=function(e){return"function"==typeof e?e:i}},1811:(e,t,n)=>{var i=n(1469),r=n(5403),o=n(5514),s=n(9833);e.exports=function(e,t){return i(e)?e:r(e,t)?[e]:o(s(e))}},4318:(e,t,n)=>{var i=n(1149);e.exports=function(e){var t=new e.constructor(e.byteLength);return new i(t).set(new i(e)),t}},4626:(e,t,n)=>{e=n.nmd(e);var i=n(5639),r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,s=o&&o.exports===r?i.Buffer:void 0,a=s?s.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,i=a?a(n):new e.constructor(n);return e.copy(i),i}},7157:(e,t,n)=>{var i=n(4318);e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},3147:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},419:(e,t,n)=>{var i=n(2705),r=i?i.prototype:void 0,o=r?r.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},7133:(e,t,n)=>{var i=n(4318);e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},6393:(e,t,n)=>{var i=n(3448);e.exports=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,o=e==e,s=i(e),a=void 0!==t,l=null===t,c=t==t,u=i(t);if(!l&&!u&&!s&&e>t||s&&a&&c&&!l&&!u||r&&a&&c||!n&&c||!o)return 1;if(!r&&!s&&!u&&e<t||u&&n&&o&&!r&&!s||l&&n&&o||!a&&o||!c)return-1}return 0}},5022:(e,t,n)=>{var i=n(6393);e.exports=function(e,t,n){for(var r=-1,o=e.criteria,s=t.criteria,a=o.length,l=n.length;++r<a;){var c=i(o[r],s[r]);if(c)return r>=l?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}},278:e=>{e.exports=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}},8363:(e,t,n)=>{var i=n(4865),r=n(9465);e.exports=function(e,t,n,o){var s=!n;n||(n={});for(var a=-1,l=t.length;++a<l;){var c=t[a],u=o?o(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),s?r(n,c,u):i(n,c,u)}return n}},8805:(e,t,n)=>{var i=n(8363),r=n(9551);e.exports=function(e,t){return i(e,r(e),t)}},1911:(e,t,n)=>{var i=n(8363),r=n(1442);e.exports=function(e,t){return i(e,r(e),t)}},4429:(e,t,n)=>{var i=n(5639)["__core-js_shared__"];e.exports=i},1750:(e,t,n)=>{var i=n(5976),r=n(6612);e.exports=function(e){return i((function(t,n){var i=-1,o=n.length,s=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(s=e.length>3&&"function"==typeof s?(o--,s):void 0,a&&r(n[0],n[1],a)&&(s=o<3?void 0:s,o=1),t=Object(t);++i<o;){var l=n[i];l&&e(t,l,i,s)}return t}))}},9291:(e,t,n)=>{var i=n(8612);e.exports=function(e,t){return function(n,r){if(null==n)return n;if(!i(n))return e(n,r);for(var o=n.length,s=t?o:-1,a=Object(n);(t?s--:++s<o)&&!1!==r(a[s],s,a););return n}}},5063:e=>{e.exports=function(e){return function(t,n,i){for(var r=-1,o=Object(t),s=i(t),a=s.length;a--;){var l=s[e?a:++r];if(!1===n(o[l],l,o))break}return t}}},7740:(e,t,n)=>{var i=n(7206),r=n(8612),o=n(3674);e.exports=function(e){return function(t,n,s){var a=Object(t);if(!r(t)){var l=i(n,3);t=o(t),n=function(e){return l(a[e],e,a)}}var c=e(t,n,s);return c>-1?a[l?t[c]:c]:void 0}}},7445:(e,t,n)=>{var i=n(98),r=n(6612),o=n(8601);e.exports=function(e){return function(t,n,s){return s&&"number"!=typeof s&&r(t,n,s)&&(n=s=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),s=void 0===s?t<n?1:-1:o(s),i(t,n,s,e)}}},3593:(e,t,n)=>{var i=n(8525),r=n(308),o=n(1814),s=i&&1/o(new i([,-0]))[1]==1/0?function(e){return new i(e)}:r;e.exports=s},8777:(e,t,n)=>{var i=n(852),r=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=r},7114:(e,t,n)=>{var i=n(8668),r=n(2908),o=n(4757);e.exports=function(e,t,n,s,a,l){var c=1&n,u=e.length,h=t.length;if(u!=h&&!(c&&h>u))return!1;var d=l.get(e),f=l.get(t);if(d&&f)return d==t&&f==e;var p=-1,g=!0,m=2&n?new i:void 0;for(l.set(e,t),l.set(t,e);++p<u;){var v=e[p],y=t[p];if(s)var b=c?s(y,v,p,t,e,l):s(v,y,p,e,t,l);if(void 0!==b){if(b)continue;g=!1;break}if(m){if(!r(t,(function(e,t){if(!o(m,t)&&(v===e||a(v,e,n,s,l)))return m.push(t)}))){g=!1;break}}else if(v!==y&&!a(v,y,n,s,l)){g=!1;break}}return l.delete(e),l.delete(t),g}},8351:(e,t,n)=>{var i=n(2705),r=n(1149),o=n(7813),s=n(7114),a=n(8776),l=n(1814),c=i?i.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,i,c,h,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!h(new r(e),new r(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=a;case"[object Set]":var p=1&i;if(f||(f=l),e.size!=t.size&&!p)return!1;var g=d.get(e);if(g)return g==t;i|=2,d.set(e,t);var m=s(f(e),f(t),i,c,h,d);return d.delete(e),m;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},6096:(e,t,n)=>{var i=n(8234),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,s,a){var l=1&n,c=i(e),u=c.length;if(u!=i(t).length&&!l)return!1;for(var h=u;h--;){var d=c[h];if(!(l?d in t:r.call(t,d)))return!1}var f=a.get(e),p=a.get(t);if(f&&p)return f==t&&p==e;var g=!0;a.set(e,t),a.set(t,e);for(var m=l;++h<u;){var v=e[d=c[h]],y=t[d];if(o)var b=l?o(y,v,d,t,e,a):o(v,y,d,e,t,a);if(!(void 0===b?v===y||s(v,y,n,o,a):b)){g=!1;break}m||(m="constructor"==d)}if(g&&!m){var _=e.constructor,w=t.constructor;_==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(g=!1)}return a.delete(e),a.delete(t),g}},9021:(e,t,n)=>{var i=n(5564),r=n(5357),o=n(61);e.exports=function(e){return o(r(e,void 0,i),e+"")}},1957:(e,t,n)=>{var i="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=i},8234:(e,t,n)=>{var i=n(8866),r=n(9551),o=n(3674);e.exports=function(e){return i(e,o,r)}},6904:(e,t,n)=>{var i=n(8866),r=n(1442),o=n(1704);e.exports=function(e){return i(e,o,r)}},5050:(e,t,n)=>{var i=n(7019);e.exports=function(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}},1499:(e,t,n)=>{var i=n(9162),r=n(3674);e.exports=function(e){for(var t=r(e),n=t.length;n--;){var o=t[n],s=e[o];t[n]=[o,s,i(s)]}return t}},852:(e,t,n)=>{var i=n(8458),r=n(7801);e.exports=function(e,t){var n=r(e,t);return i(n)?n:void 0}},5924:(e,t,n)=>{var i=n(5569)(Object.getPrototypeOf,Object);e.exports=i},9607:(e,t,n)=>{var i=n(2705),r=Object.prototype,o=r.hasOwnProperty,s=r.toString,a=i?i.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var i=!0}catch(l){}var r=s.call(e);return i&&(t?e[a]=n:delete e[a]),r}},9551:(e,t,n)=>{var i=n(4963),r=n(479),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(e){return null==e?[]:(e=Object(e),i(s(e),(function(t){return o.call(e,t)})))}:r;e.exports=a},1442:(e,t,n)=>{var i=n(2488),r=n(5924),o=n(9551),s=n(479),a=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)i(t,o(e)),e=r(e);return t}:s;e.exports=a},4160:(e,t,n)=>{var i=n(8552),r=n(7071),o=n(3818),s=n(8525),a=n(577),l=n(4239),c=n(346),u="[object Map]",h="[object Promise]",d="[object Set]",f="[object WeakMap]",p="[object DataView]",g=c(i),m=c(r),v=c(o),y=c(s),b=c(a),_=l;(i&&_(new i(new ArrayBuffer(1)))!=p||r&&_(new r)!=u||o&&_(o.resolve())!=h||s&&_(new s)!=d||a&&_(new a)!=f)&&(_=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,i=n?c(n):"";if(i)switch(i){case g:return p;case m:return u;case v:return h;case y:return d;case b:return f}return t}),e.exports=_},7801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},222:(e,t,n)=>{var i=n(1811),r=n(5694),o=n(1469),s=n(5776),a=n(1780),l=n(327);e.exports=function(e,t,n){for(var c=-1,u=(t=i(t,e)).length,h=!1;++c<u;){var d=l(t[c]);if(!(h=null!=e&&n(e,d)))break;e=e[d]}return h||++c!=u?h:!!(u=null==e?0:e.length)&&a(u)&&s(d,u)&&(o(e)||r(e))}},2689:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},1789:(e,t,n)=>{var i=n(4536);e.exports=function(){this.__data__=i?i(null):{},this.size=0}},401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},7667:(e,t,n)=>{var i=n(4536),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(i){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return r.call(t,e)?t[e]:void 0}},1327:(e,t,n)=>{var i=n(4536),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return i?void 0!==t[e]:r.call(t,e)}},1866:(e,t,n)=>{var i=n(4536);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?"__lodash_hash_undefined__":t,this}},3824:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,i=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(i.index=e.index,i.input=e.input),i}},9148:(e,t,n)=>{var i=n(4318),r=n(7157),o=n(3147),s=n(419),a=n(7133);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return i(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return r(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(e,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return o(e);case"[object Symbol]":return s(e)}}},8517:(e,t,n)=>{var i=n(3118),r=n(5924),o=n(5726);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:i(r(e))}},7285:(e,t,n)=>{var i=n(2705),r=n(5694),o=n(1469),s=i?i.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||r(e)||!!(s&&e&&e[s])}},5776:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var i=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==i||"symbol"!=i&&t.test(e))&&e>-1&&e%1==0&&e<n}},6612:(e,t,n)=>{var i=n(7813),r=n(8612),o=n(5776),s=n(3218);e.exports=function(e,t,n){if(!s(n))return!1;var a=typeof t;return!!("number"==a?r(n)&&o(t,n.length):"string"==a&&t in n)&&i(n[t],e)}},5403:(e,t,n)=>{var i=n(1469),r=n(3448),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!r(e))||s.test(e)||!o.test(e)||null!=t&&e in Object(t)}},7019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},5346:(e,t,n)=>{var i,r=n(4429),o=(i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";e.exports=function(e){return!!o&&o in e}},5726:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},9162:(e,t,n)=>{var i=n(3218);e.exports=function(e){return e==e&&!i(e)}},7040:e=>{e.exports=function(){this.__data__=[],this.size=0}},1362:(e,t,n)=>{var i=n(8470),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=i(t,e);return!(n<0||(n==t.length-1?t.pop():r.call(t,n,1),--this.size,0))}},2117:(e,t,n)=>{var i=n(8470);e.exports=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}},7518:(e,t,n)=>{var i=n(8470);e.exports=function(e){return i(this.__data__,e)>-1}},4705:(e,t,n)=>{var i=n(8470);e.exports=function(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},4785:(e,t,n)=>{var i=n(1989),r=n(8407),o=n(7071);e.exports=function(){this.size=0,this.__data__={hash:new i,map:new(o||r),string:new i}}},1285:(e,t,n)=>{var i=n(5050);e.exports=function(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}},6e3:(e,t,n)=>{var i=n(5050);e.exports=function(e){return i(this,e).get(e)}},9916:(e,t,n)=>{var i=n(5050);e.exports=function(e){return i(this,e).has(e)}},5265:(e,t,n)=>{var i=n(5050);e.exports=function(e,t){var n=i(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}},8776:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}},2634:e=>{e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},4523:(e,t,n)=>{var i=n(8306);e.exports=function(e){var t=i(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},4536:(e,t,n)=>{var i=n(852)(Object,"create");e.exports=i},6916:(e,t,n)=>{var i=n(5569)(Object.keys,Object);e.exports=i},3498:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},1167:(e,t,n)=>{e=n.nmd(e);var i=n(1957),r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,s=o&&o.exports===r&&i.process,a=function(){try{return o&&o.require&&o.require("util").types||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=a},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},5357:(e,t,n)=>{var i=n(6874),r=Math.max;e.exports=function(e,t,n){return t=r(void 0===t?e.length-1:t,0),function(){for(var o=arguments,s=-1,a=r(o.length-t,0),l=Array(a);++s<a;)l[s]=o[t+s];s=-1;for(var c=Array(t+1);++s<t;)c[s]=o[s];return c[t]=n(l),i(e,this,c)}}},5639:(e,t,n)=>{var i=n(1957),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();e.exports=o},6390:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},2385:e=>{e.exports=function(e){return this.__data__.has(e)}},1814:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},61:(e,t,n)=>{var i=n(6560),r=n(1275)(i);e.exports=r},1275:e=>{var t=Date.now;e.exports=function(e){var n=0,i=0;return function(){var r=t(),o=16-(r-i);if(i=r,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},7465:(e,t,n)=>{var i=n(8407);e.exports=function(){this.__data__=new i,this.size=0}},3779:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},7599:e=>{e.exports=function(e){return this.__data__.get(e)}},4758:e=>{e.exports=function(e){return this.__data__.has(e)}},4309:(e,t,n)=>{var i=n(8407),r=n(7071),o=n(3369);e.exports=function(e,t){var n=this.__data__;if(n instanceof i){var s=n.__data__;if(!r||s.length<199)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(e,t),this.size=n.size,this}},2351:e=>{e.exports=function(e,t,n){for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}},8016:(e,t,n)=>{var i=n(8983),r=n(2689),o=n(1903);e.exports=function(e){return r(e)?o(e):i(e)}},5514:(e,t,n)=>{var i=n(4523),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,s=i((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,(function(e,n,i,r){t.push(i?r.replace(o,"$1"):n||e)})),t}));e.exports=s},327:(e,t,n)=>{var i=n(3448);e.exports=function(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},7990:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},1903:e=>{var t="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",n="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",r="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+t+"|"+n+")?",a="[\\ufe0e\\ufe0f]?",l=a+s+"(?:\\u200d(?:"+[i,r,o].join("|")+")"+a+s+")*",c="(?:"+[i+t+"?",t,r,o,"[\\ud800-\\udfff]"].join("|")+")",u=RegExp(n+"(?="+n+")|"+c+l,"g");e.exports=function(e){for(var t=u.lastIndex=0;u.test(e);)++t;return t}},6678:(e,t,n)=>{var i=n(5990);e.exports=function(e){return i(e,4)}},361:(e,t,n)=>{var i=n(5990);e.exports=function(e){return i(e,5)}},5703:e=>{e.exports=function(e){return function(){return e}}},1747:(e,t,n)=>{var i=n(5976),r=n(7813),o=n(6612),s=n(1704),a=Object.prototype,l=a.hasOwnProperty,c=i((function(e,t){e=Object(e);var n=-1,i=t.length,c=i>2?t[2]:void 0;for(c&&o(t[0],t[1],c)&&(i=1);++n<i;)for(var u=t[n],h=s(u),d=-1,f=h.length;++d<f;){var p=h[d],g=e[p];(void 0===g||r(g,a[p])&&!l.call(e,p))&&(e[p]=u[p])}return e}));e.exports=c},6073:(e,t,n)=>{e.exports=n(4486)},7813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},3105:(e,t,n)=>{var i=n(4963),r=n(760),o=n(7206),s=n(1469);e.exports=function(e,t){return(s(e)?i:r)(e,o(t,3))}},3311:(e,t,n)=>{var i=n(7740)(n(998));e.exports=i},998:(e,t,n)=>{var i=n(1848),r=n(7206),o=n(554),s=Math.max;e.exports=function(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var l=null==n?0:o(n);return l<0&&(l=s(a+l,0)),i(e,r(t,3),l)}},5564:(e,t,n)=>{var i=n(1078);e.exports=function(e){return null!=e&&e.length?i(e,1):[]}},4486:(e,t,n)=>{var i=n(7412),r=n(9881),o=n(4290),s=n(1469);e.exports=function(e,t){return(s(e)?i:r)(e,o(t))}},2620:(e,t,n)=>{var i=n(8483),r=n(4290),o=n(1704);e.exports=function(e,t){return null==e?e:i(e,r(t),o)}},1917:(e,t,n)=>{var i=n(7786);e.exports=function(e,t,n){var r=null==e?void 0:i(e,t);return void 0===r?n:r}},8721:(e,t,n)=>{var i=n(8565),r=n(222);e.exports=function(e,t){return null!=e&&r(e,t,i)}},9095:(e,t,n)=>{var i=n(13),r=n(222);e.exports=function(e,t){return null!=e&&r(e,t,i)}},6557:e=>{e.exports=function(e){return e}},5694:(e,t,n)=>{var i=n(9454),r=n(7005),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,l=i(function(){return arguments}())?i:function(e){return r(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=l},1469:e=>{var t=Array.isArray;e.exports=t},8612:(e,t,n)=>{var i=n(3560),r=n(1780);e.exports=function(e){return null!=e&&r(e.length)&&!i(e)}},9246:(e,t,n)=>{var i=n(8612),r=n(7005);e.exports=function(e){return r(e)&&i(e)}},4144:(e,t,n)=>{e=n.nmd(e);var i=n(5639),r=n(5062),o=t&&!t.nodeType&&t,s=o&&e&&!e.nodeType&&e,a=s&&s.exports===o?i.Buffer:void 0,l=(a?a.isBuffer:void 0)||r;e.exports=l},1609:(e,t,n)=>{var i=n(280),r=n(4160),o=n(5694),s=n(1469),a=n(8612),l=n(4144),c=n(5726),u=n(6719),h=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(a(e)&&(s(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||u(e)||o(e)))return!e.length;var t=r(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!i(e).length;for(var n in e)if(h.call(e,n))return!1;return!0}},3560:(e,t,n)=>{var i=n(4239),r=n(3218);e.exports=function(e){if(!r(e))return!1;var t=i(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1780:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6688:(e,t,n)=>{var i=n(5588),r=n(1717),o=n(1167),s=o&&o.isMap,a=s?r(s):i;e.exports=a},3218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},8630:(e,t,n)=>{var i=n(4239),r=n(5924),o=n(7005),s=Function.prototype,a=Object.prototype,l=s.toString,c=a.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=i(e))return!1;var t=r(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},2928:(e,t,n)=>{var i=n(9221),r=n(1717),o=n(1167),s=o&&o.isSet,a=s?r(s):i;e.exports=a},7037:(e,t,n)=>{var i=n(4239),r=n(1469),o=n(7005);e.exports=function(e){return"string"==typeof e||!r(e)&&o(e)&&"[object String]"==i(e)}},3448:(e,t,n)=>{var i=n(4239),r=n(7005);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==i(e)}},6719:(e,t,n)=>{var i=n(8749),r=n(1717),o=n(1167),s=o&&o.isTypedArray,a=s?r(s):i;e.exports=a},2353:e=>{e.exports=function(e){return void 0===e}},3674:(e,t,n)=>{var i=n(4636),r=n(280),o=n(8612);e.exports=function(e){return o(e)?i(e):r(e)}},1704:(e,t,n)=>{var i=n(4636),r=n(313),o=n(8612);e.exports=function(e){return o(e)?i(e,!0):r(e)}},928:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},5161:(e,t,n)=>{var i=n(9932),r=n(7206),o=n(9199),s=n(1469);e.exports=function(e,t){return(s(e)?i:o)(e,r(t,3))}},6604:(e,t,n)=>{var i=n(9465),r=n(7816),o=n(7206);e.exports=function(e,t){var n={};return t=o(t,3),r(e,(function(e,r,o){i(n,r,t(e,r,o))})),n}},6162:(e,t,n)=>{var i=n(6029),r=n(3325),o=n(6557);e.exports=function(e){return e&&e.length?i(e,o,r):void 0}},8306:(e,t,n)=>{var i=n(3369);function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=e.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(r.Cache||i),n}r.Cache=i,e.exports=r},3857:(e,t,n)=>{var i=n(2980),r=n(1750)((function(e,t,n){i(e,t,n)}));e.exports=r},3632:(e,t,n)=>{var i=n(6029),r=n(433),o=n(6557);e.exports=function(e){return e&&e.length?i(e,o,r):void 0}},2762:(e,t,n)=>{var i=n(6029),r=n(7206),o=n(433);e.exports=function(e,t){return e&&e.length?i(e,r(t,2),o):void 0}},308:e=>{e.exports=function(){}},7771:(e,t,n)=>{var i=n(5639);e.exports=function(){return i.Date.now()}},9722:(e,t,n)=>{var i=n(5970),r=n(9021)((function(e,t){return null==e?{}:i(e,t)}));e.exports=r},9601:(e,t,n)=>{var i=n(371),r=n(9152),o=n(5403),s=n(327);e.exports=function(e){return o(e)?i(s(e)):r(e)}},6026:(e,t,n)=>{var i=n(7445)();e.exports=i},4061:(e,t,n)=>{var i=n(2663),r=n(9881),o=n(7206),s=n(107),a=n(1469);e.exports=function(e,t,n){var l=a(e)?i:s,c=arguments.length<3;return l(e,o(t,4),n,c,r)}},4238:(e,t,n)=>{var i=n(280),r=n(4160),o=n(8612),s=n(7037),a=n(8016);e.exports=function(e){if(null==e)return 0;if(o(e))return s(e)?a(e):e.length;var t=r(e);return"[object Map]"==t||"[object Set]"==t?e.size:i(e).length}},9734:(e,t,n)=>{var i=n(1078),r=n(9556),o=n(5976),s=n(6612),a=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&s(e,t[0],t[1])?t=[]:n>2&&s(t[0],t[1],t[2])&&(t=[t[0]]),r(e,i(t,1),[])}));e.exports=a},479:e=>{e.exports=function(){return[]}},5062:e=>{e.exports=function(){return!1}},8601:(e,t,n)=>{var i=n(4841);e.exports=function(e){return e?(e=i(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},554:(e,t,n)=>{var i=n(8601);e.exports=function(e){var t=i(e),n=t%1;return t==t?n?t-n:t:0}},4841:(e,t,n)=>{var i=n(7561),r=n(3218),o=n(3448),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var n=a.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):s.test(e)?NaN:+e}},3678:(e,t,n)=>{var i=n(8363),r=n(1704);e.exports=function(e){return i(e,r(e))}},9833:(e,t,n)=>{var i=n(531);e.exports=function(e){return null==e?"":i(e)}},8718:(e,t,n)=>{var i=n(7412),r=n(3118),o=n(7816),s=n(7206),a=n(5924),l=n(1469),c=n(4144),u=n(3560),h=n(3218),d=n(6719);e.exports=function(e,t,n){var f=l(e),p=f||c(e)||d(e);if(t=s(t,4),null==n){var g=e&&e.constructor;n=p?f?new g:[]:h(e)&&u(g)?r(a(e)):{}}return(p?i:o)(e,(function(e,i,r){return t(n,e,i,r)})),n}},3386:(e,t,n)=>{var i=n(1078),r=n(5976),o=n(5652),s=n(9246),a=r((function(e){return o(i(e,1,s,!0))}));e.exports=a},3955:(e,t,n)=>{var i=n(9833),r=0;e.exports=function(e){var t=++r;return i(e)+t}},2628:(e,t,n)=>{var i=n(7415),r=n(3674);e.exports=function(e){return null==e?[]:i(e,r(e))}},7287:(e,t,n)=>{var i=n(4865),r=n(1757);e.exports=function(e,t){return r(e||[],t||[],i)}},9234:()=>{},1748:(e,t,n)=>{var i={"./locale":9234,"./locale.js":9234};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=o,e.exports=r,r.id=1748},1941:function(e,t,n){(e=n.nmd(e)).exports=function(){var t,i;function r(){return t.apply(null,arguments)}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e){return void 0===e}function l(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function c(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function d(e,t){for(var n in t)h(t,n)&&(e[n]=t[n]);return h(t,"toString")&&(e.toString=t.toString),h(t,"valueOf")&&(e.valueOf=t.valueOf),e}function f(e,t,n,i){return bt(e,t,n,i,!0).utc()}function p(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function g(e){if(null==e._isValid){var t=p(e),n=i.call(t.parsedDateParts,(function(e){return null!=e})),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function m(e){var t=f(NaN);return null!=e?d(p(t),e):p(t).userInvalidated=!0,t}i=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var v=r.momentProperties=[];function y(e,t){var n,i,r;if(a(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),a(t._i)||(e._i=t._i),a(t._f)||(e._f=t._f),a(t._l)||(e._l=t._l),a(t._strict)||(e._strict=t._strict),a(t._tzm)||(e._tzm=t._tzm),a(t._isUTC)||(e._isUTC=t._isUTC),a(t._offset)||(e._offset=t._offset),a(t._pf)||(e._pf=p(t)),a(t._locale)||(e._locale=t._locale),0<v.length)for(n=0;n<v.length;n++)a(r=t[i=v[n]])||(e[i]=r);return e}var b=!1;function _(e){y(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,r.updateOffset(this),b=!1)}function w(e){return e instanceof _||null!=e&&null!=e._isAMomentObject}function C(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function x(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=C(t)),n}function k(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0;for(i=0;i<r;i++)(n&&e[i]!==t[i]||!n&&x(e[i])!==x(t[i]))&&s++;return s+o}function S(e){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function D(e,t){var n=!0;return d((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){for(var i,o=[],s=0;s<arguments.length;s++){if(i="","object"==typeof arguments[s]){for(var a in i+="\n["+s+"] ",arguments[0])i+=a+": "+arguments[0][a]+", ";i=i.slice(0,-2)}else i=arguments[s];o.push(i)}S(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var E,L={};function T(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),L[e]||(S(t),L[e]=!0)}function N(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function M(e,t){var n,i=d({},e);for(n in t)h(t,n)&&(s(e[n])&&s(t[n])?(i[n]={},d(i[n],e[n]),d(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)h(e,n)&&!h(t,n)&&s(e[n])&&(i[n]=d({},i[n]));return i}function A(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,E=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)h(e,t)&&n.push(t);return n};var I={};function O(e,t){var n=e.toLowerCase();I[n]=I[n+"s"]=I[t]=e}function F(e){return"string"==typeof e?I[e]||I[e.toLowerCase()]:void 0}function R(e){var t,n,i={};for(n in e)h(e,n)&&(t=F(n))&&(i[t]=e[n]);return i}var P={};function B(e,t){P[e]=t}function j(e,t,n){var i=""+Math.abs(e),r=t-i.length;return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}var z=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,V=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,W={},H={};function U(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(H[e]=r),t&&(H[t[0]]=function(){return j(r.apply(this,arguments),t[1],t[2])}),n&&(H[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function $(e,t){return e.isValid()?(t=q(t,e.localeData()),W[t]=W[t]||function(e){var t,n,i,r=e.match(z);for(t=0,n=r.length;t<n;t++)H[r[t]]?r[t]=H[r[t]]:r[t]=(i=r[t]).match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(t){var i,o="";for(i=0;i<n;i++)o+=N(r[i])?r[i].call(t,e):r[i];return o}}(t),W[t](e)):e.localeData().invalidDate()}function q(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}for(V.lastIndex=0;0<=n&&V.test(e);)e=e.replace(V,i),V.lastIndex=0,n-=1;return e}var K=/\d/,Y=/\d\d/,G=/\d{3}/,X=/\d{4}/,Z=/[+-]?\d{6}/,J=/\d\d?/,Q=/\d\d\d\d?/,ee=/\d\d\d\d\d\d?/,te=/\d{1,3}/,ne=/\d{1,4}/,ie=/[+-]?\d{1,6}/,re=/\d+/,oe=/[+-]?\d+/,se=/Z|[+-]\d\d:?\d\d/gi,ae=/Z|[+-]\d\d(?::?\d\d)?/gi,le=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ce={};function ue(e,t,n){ce[e]=N(t)?t:function(e,i){return e&&n?n:t}}function he(e,t){return h(ce,e)?ce[e](t._strict,t._locale):new RegExp(de(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,i,r){return t||n||i||r}))))}function de(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var fe={};function pe(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),l(t)&&(i=function(e,n){n[t]=x(e)}),n=0;n<e.length;n++)fe[e[n]]=i}function ge(e,t){pe(e,(function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)}))}function me(e){return ve(e)?366:365}function ve(e){return e%4==0&&e%100!=0||e%400==0}U("Y",0,0,(function(){var e=this.year();return e<=9999?""+e:"+"+e})),U(0,["YY",2],0,(function(){return this.year()%100})),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),O("year","y"),B("year",1),ue("Y",oe),ue("YY",J,Y),ue("YYYY",ne,X),ue("YYYYY",ie,Z),ue("YYYYYY",ie,Z),pe(["YYYYY","YYYYYY"],0),pe("YYYY",(function(e,t){t[0]=2===e.length?r.parseTwoDigitYear(e):x(e)})),pe("YY",(function(e,t){t[0]=r.parseTwoDigitYear(e)})),pe("Y",(function(e,t){t[0]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return x(e)+(68<x(e)?1900:2e3)};var ye,be=_e("FullYear",!0);function _e(e,t){return function(n){return null!=n?(Ce(this,e,n),r.updateOffset(this,t),this):we(this,e)}}function we(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Ce(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ve(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),xe(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function xe(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=(t%12+12)%12;return e+=(t-n)/12,1===n?ve(e)?29:28:31-n%7%2}ye=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},U("M",["MM",2],"Mo",(function(){return this.month()+1})),U("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),U("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),O("month","M"),B("month",8),ue("M",J),ue("MM",J,Y),ue("MMM",(function(e,t){return t.monthsShortRegex(e)})),ue("MMMM",(function(e,t){return t.monthsRegex(e)})),pe(["M","MM"],(function(e,t){t[1]=x(e)-1})),pe(["MMM","MMMM"],(function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[1]=r:p(n).invalidMonth=e}));var ke=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Se="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),De="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Ee(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=x(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),xe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Le(e){return null!=e?(Ee(this,e),r.updateOffset(this,!0),this):we(this,"Month")}var Te=le,Ne=le;function Me(){function e(e,t){return t.length-e.length}var t,n,i=[],r=[],o=[];for(t=0;t<12;t++)n=f([2e3,t]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(e),r.sort(e),o.sort(e),t=0;t<12;t++)i[t]=de(i[t]),r[t]=de(r[t]);for(t=0;t<24;t++)o[t]=de(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function Ae(e){var t;if(e<100&&0<=e){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function Ie(e,t,n){var i=7+t-n;return-(7+Ae(e,0,i).getUTCDay()-t)%7+i-1}function Oe(e,t,n,i,r){var o,s,a=1+7*(t-1)+(7+n-i)%7+Ie(e,i,r);return s=a<=0?me(o=e-1)+a:a>me(e)?(o=e+1,a-me(e)):(o=e,a),{year:o,dayOfYear:s}}function Fe(e,t,n){var i,r,o=Ie(e.year(),t,n),s=Math.floor((e.dayOfYear()-o-1)/7)+1;return s<1?i=s+Re(r=e.year()-1,t,n):s>Re(e.year(),t,n)?(i=s-Re(e.year(),t,n),r=e.year()+1):(r=e.year(),i=s),{week:i,year:r}}function Re(e,t,n){var i=Ie(e,t,n),r=Ie(e+1,t,n);return(me(e)-i+r)/7}function Pe(e,t){return e.slice(t,7).concat(e.slice(0,t))}U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),O("week","w"),O("isoWeek","W"),B("week",5),B("isoWeek",5),ue("w",J),ue("ww",J,Y),ue("W",J),ue("WW",J,Y),ge(["w","ww","W","WW"],(function(e,t,n,i){t[i.substr(0,1)]=x(e)})),U("d",0,"do","day"),U("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),U("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),U("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),O("day","d"),O("weekday","e"),O("isoWeekday","E"),B("day",11),B("weekday",11),B("isoWeekday",11),ue("d",J),ue("e",J),ue("E",J),ue("dd",(function(e,t){return t.weekdaysMinRegex(e)})),ue("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),ue("dddd",(function(e,t){return t.weekdaysRegex(e)})),ge(["dd","ddd","dddd"],(function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null!=r?t.d=r:p(n).invalidWeekday=e})),ge(["d","e","E"],(function(e,t,n,i){t[i]=x(e)}));var Be="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),je="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ze="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ve=le,We=le,He=le;function Ue(){function e(e,t){return t.length-e.length}var t,n,i,r,o,s=[],a=[],l=[],c=[];for(t=0;t<7;t++)n=f([2e3,1]).day(t),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),s.push(i),a.push(r),l.push(o),c.push(i),c.push(r),c.push(o);for(s.sort(e),a.sort(e),l.sort(e),c.sort(e),t=0;t<7;t++)a[t]=de(a[t]),l[t]=de(l[t]),c[t]=de(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function $e(){return this.hours()%12||12}function qe(e,t){U(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function Ke(e,t){return t._meridiemParse}U("H",["HH",2],0,"hour"),U("h",["hh",2],0,$e),U("k",["kk",2],0,(function(){return this.hours()||24})),U("hmm",0,0,(function(){return""+$e.apply(this)+j(this.minutes(),2)})),U("hmmss",0,0,(function(){return""+$e.apply(this)+j(this.minutes(),2)+j(this.seconds(),2)})),U("Hmm",0,0,(function(){return""+this.hours()+j(this.minutes(),2)})),U("Hmmss",0,0,(function(){return""+this.hours()+j(this.minutes(),2)+j(this.seconds(),2)})),qe("a",!0),qe("A",!1),O("hour","h"),B("hour",13),ue("a",Ke),ue("A",Ke),ue("H",J),ue("h",J),ue("k",J),ue("HH",J,Y),ue("hh",J,Y),ue("kk",J,Y),ue("hmm",Q),ue("hmmss",ee),ue("Hmm",Q),ue("Hmmss",ee),pe(["H","HH"],3),pe(["k","kk"],(function(e,t,n){var i=x(e);t[3]=24===i?0:i})),pe(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),pe(["h","hh"],(function(e,t,n){t[3]=x(e),p(n).bigHour=!0})),pe("hmm",(function(e,t,n){var i=e.length-2;t[3]=x(e.substr(0,i)),t[4]=x(e.substr(i)),p(n).bigHour=!0})),pe("hmmss",(function(e,t,n){var i=e.length-4,r=e.length-2;t[3]=x(e.substr(0,i)),t[4]=x(e.substr(i,2)),t[5]=x(e.substr(r)),p(n).bigHour=!0})),pe("Hmm",(function(e,t,n){var i=e.length-2;t[3]=x(e.substr(0,i)),t[4]=x(e.substr(i))})),pe("Hmmss",(function(e,t,n){var i=e.length-4,r=e.length-2;t[3]=x(e.substr(0,i)),t[4]=x(e.substr(i,2)),t[5]=x(e.substr(r))}));var Ye,Ge=_e("Hours",!0),Xe={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Se,monthsShort:De,week:{dow:0,doy:6},weekdays:Be,weekdaysMin:ze,weekdaysShort:je,meridiemParse:/[ap]\.?m?\.?/i},Ze={},Je={};function Qe(e){return e?e.toLowerCase().replace("_","-"):e}function et(t){var i=null;if(!Ze[t]&&e&&e.exports)try{i=Ye._abbr,n(1748)("./"+t),tt(i)}catch(r){}return Ze[t]}function tt(e,t){var n;return e&&((n=a(t)?it(e):nt(e,t))?Ye=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Ye._abbr}function nt(e,t){if(null===t)return delete Ze[e],null;var n,i=Xe;if(t.abbr=e,null!=Ze[e])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Ze[e]._config;else if(null!=t.parentLocale)if(null!=Ze[t.parentLocale])i=Ze[t.parentLocale]._config;else{if(null==(n=et(t.parentLocale)))return Je[t.parentLocale]||(Je[t.parentLocale]=[]),Je[t.parentLocale].push({name:e,config:t}),null;i=n._config}return Ze[e]=new A(M(i,t)),Je[e]&&Je[e].forEach((function(e){nt(e.name,e.config)})),tt(e),Ze[e]}function it(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Ye;if(!o(e)){if(t=et(e))return t;e=[e]}return function(e){for(var t,n,i,r,o=0;o<e.length;){for(t=(r=Qe(e[o]).split("-")).length,n=(n=Qe(e[o+1]))?n.split("-"):null;0<t;){if(i=et(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&k(r,n,!0)>=t-1)break;t--}o++}return Ye}(e)}function rt(e){var t,n=e._a;return n&&-2===p(e).overflow&&(t=n[1]<0||11<n[1]?1:n[2]<1||n[2]>xe(n[0],n[1])?2:n[3]<0||24<n[3]||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||59<n[4]?4:n[5]<0||59<n[5]?5:n[6]<0||999<n[6]?6:-1,p(e)._overflowDayOfYear&&(t<0||2<t)&&(t=2),p(e)._overflowWeeks&&-1===t&&(t=7),p(e)._overflowWeekday&&-1===t&&(t=8),p(e).overflow=t),e}function ot(e,t,n){return null!=e?e:null!=t?t:n}function st(e){var t,n,i,o,s,a=[];if(!e._d){var l,c;for(l=e,c=new Date(r.now()),i=l._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()],e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,n,i,r,o,s,a,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)o=1,s=4,n=ot(t.GG,e._a[0],Fe(_t(),1,4).year),i=ot(t.W,1),((r=ot(t.E,1))<1||7<r)&&(l=!0);else{o=e._locale._week.dow,s=e._locale._week.doy;var c=Fe(_t(),o,s);n=ot(t.gg,e._a[0],c.year),i=ot(t.w,c.week),null!=t.d?((r=t.d)<0||6<r)&&(l=!0):null!=t.e?(r=t.e+o,(t.e<0||6<t.e)&&(l=!0)):r=o}i<1||i>Re(n,o,s)?p(e)._overflowWeeks=!0:null!=l?p(e)._overflowWeekday=!0:(a=Oe(n,i,r,o,s),e._a[0]=a.year,e._dayOfYear=a.dayOfYear)}(e),null!=e._dayOfYear&&(s=ot(e._a[0],i[0]),(e._dayOfYear>me(s)||0===e._dayOfYear)&&(p(e)._overflowDayOfYear=!0),n=Ae(s,0,e._dayOfYear),e._a[1]=n.getUTCMonth(),e._a[2]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=i[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Ae:function(e,t,n,i,r,o,s){var a;return e<100&&0<=e?(a=new Date(e+400,t,n,i,r,o,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,i,r,o,s),a}).apply(null,a),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(p(e).weekdayMismatch=!0)}}var at=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,lt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ct=/Z|[+-]\d\d(?::?\d\d)?/,ut=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ht=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],dt=/^\/?Date\((\-?\d+)/i;function ft(e){var t,n,i,r,o,s,a=e._i,l=at.exec(a)||lt.exec(a);if(l){for(p(e).iso=!0,t=0,n=ut.length;t<n;t++)if(ut[t][1].exec(l[1])){r=ut[t][0],i=!1!==ut[t][2];break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=ht.length;t<n;t++)if(ht[t][1].exec(l[3])){o=(l[2]||" ")+ht[t][0];break}if(null==o)return void(e._isValid=!1)}if(!i&&null!=o)return void(e._isValid=!1);if(l[4]){if(!ct.exec(l[4]))return void(e._isValid=!1);s="Z"}e._f=r+(o||"")+(s||""),vt(e)}else e._isValid=!1}var pt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,gt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function mt(e){var t,n,i,r,o,s,a,l,c,u,h,d,f=pt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(f){var g=(r=f[4],o=f[3],s=f[2],a=f[5],l=f[6],c=f[7],d=[(u=r,h=parseInt(u,10),h<=49?2e3+h:h<=999?1900+h:h),De.indexOf(o),parseInt(s,10),parseInt(a,10),parseInt(l,10)],c&&d.push(parseInt(c,10)),d);if(n=g,i=e,(t=f[1])&&je.indexOf(t)!==new Date(n[0],n[1],n[2]).getDay()&&(p(i).weekdayMismatch=!0,!(i._isValid=!1)))return;e._a=g,e._tzm=function(e,t,n){if(e)return gt[e];if(t)return 0;var i=parseInt(n,10),r=i%100;return(i-r)/100*60+r}(f[8],f[9],f[10]),e._d=Ae.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),p(e).rfc2822=!0}else e._isValid=!1}function vt(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],p(e).empty=!0;var t,n,i,o,s,a,l,c,u=""+e._i,d=u.length,f=0;for(i=q(e._f,e._locale).match(z)||[],t=0;t<i.length;t++)o=i[t],(n=(u.match(he(o,e))||[])[0])&&(0<(s=u.substr(0,u.indexOf(n))).length&&p(e).unusedInput.push(s),u=u.slice(u.indexOf(n)+n.length),f+=n.length),H[o]?(n?p(e).empty=!1:p(e).unusedTokens.push(o),a=o,c=e,null!=(l=n)&&h(fe,a)&&fe[a](l,c._a,c,a)):e._strict&&!n&&p(e).unusedTokens.push(o);p(e).charsLeftOver=d-f,0<u.length&&p(e).unusedInput.push(u),e._a[3]<=12&&!0===p(e).bigHour&&0<e._a[3]&&(p(e).bigHour=void 0),p(e).parsedDateParts=e._a.slice(0),p(e).meridiem=e._meridiem,e._a[3]=(g=e._locale,m=e._a[3],null==(v=e._meridiem)?m:null!=g.meridiemHour?g.meridiemHour(m,v):(null!=g.isPM&&((y=g.isPM(v))&&m<12&&(m+=12),y||12!==m||(m=0)),m)),st(e),rt(e)}else mt(e);else ft(e);var g,m,v,y}function yt(e){var t,n,i,h,f=e._i,v=e._f;return e._locale=e._locale||it(e._l),null===f||void 0===v&&""===f?m({nullInput:!0}):("string"==typeof f&&(e._i=f=e._locale.preparse(f)),w(f)?new _(rt(f)):(c(f)?e._d=f:o(v)?function(e){var t,n,i,r,o;if(0===e._f.length)return p(e).invalidFormat=!0,e._d=new Date(NaN);for(r=0;r<e._f.length;r++)o=0,t=y({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],vt(t),g(t)&&(o+=p(t).charsLeftOver,o+=10*p(t).unusedTokens.length,p(t).score=o,(null==i||o<i)&&(i=o,n=t));d(e,n||t)}(e):v?vt(e):a(n=(t=e)._i)?t._d=new Date(r.now()):c(n)?t._d=new Date(n.valueOf()):"string"==typeof n?(i=t,null===(h=dt.exec(i._i))?(ft(i),!1===i._isValid&&(delete i._isValid,mt(i),!1===i._isValid&&(delete i._isValid,r.createFromInputFallback(i)))):i._d=new Date(+h[1])):o(n)?(t._a=u(n.slice(0),(function(e){return parseInt(e,10)})),st(t)):s(n)?function(e){if(!e._d){var t=R(e._i);e._a=u([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),st(e)}}(t):l(n)?t._d=new Date(n):r.createFromInputFallback(t),g(e)||(e._d=null),e))}function bt(e,t,n,i,r){var a,l={};return!0!==n&&!1!==n||(i=n,n=void 0),(s(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||o(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=r,l._l=n,l._i=e,l._f=t,l._strict=i,(a=new _(rt(yt(l))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function _t(e,t,n,i){return bt(e,t,n,i,!1)}r.createFromInputFallback=D("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var wt=D("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=_t.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()})),Ct=D("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=_t.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:m()}));function xt(e,t){var n,i;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return _t();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}var kt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function St(e){var t=R(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===ye.call(kt,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,i=0;i<kt.length;++i)if(e[kt[i]]){if(n)return!1;parseFloat(e[kt[i]])!==x(e[kt[i]])&&(n=!0)}return!0}(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*a*60*60,this._days=+s+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=it(),this._bubble()}function Dt(e){return e instanceof St}function Et(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Lt(e,t){U(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+j(~~(e/60),2)+t+j(~~e%60,2)}))}Lt("Z",":"),Lt("ZZ",""),ue("Z",ae),ue("ZZ",ae),pe(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=Nt(ae,e)}));var Tt=/([\+\-]|\d\d)/gi;function Nt(e,t){var n=(t||"").match(e);if(null===n)return null;var i=((n[n.length-1]||[])+"").match(Tt)||["-",0,0],r=60*i[1]+x(i[2]);return 0===r?0:"+"===i[0]?r:-r}function Mt(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(w(e)||c(e)?e.valueOf():_t(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):_t(e).local()}function At(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function It(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Ot=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ft=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Rt(e,t){var n,i,r,o,s,a,c=e,u=null;return Dt(e)?c={ms:e._milliseconds,d:e._days,M:e._months}:l(e)?(c={},t?c[t]=e:c.milliseconds=e):(u=Ot.exec(e))?(n="-"===u[1]?-1:1,c={y:0,d:x(u[2])*n,h:x(u[3])*n,m:x(u[4])*n,s:x(u[5])*n,ms:x(Et(1e3*u[6]))*n}):(u=Ft.exec(e))?(n="-"===u[1]?-1:1,c={y:Pt(u[2],n),M:Pt(u[3],n),w:Pt(u[4],n),d:Pt(u[5],n),h:Pt(u[6],n),m:Pt(u[7],n),s:Pt(u[8],n)}):null==c?c={}:"object"==typeof c&&("from"in c||"to"in c)&&(o=_t(c.from),s=_t(c.to),r=o.isValid()&&s.isValid()?(s=Mt(s,o),o.isBefore(s)?a=Bt(o,s):((a=Bt(s,o)).milliseconds=-a.milliseconds,a.months=-a.months),a):{milliseconds:0,months:0},(c={}).ms=r.milliseconds,c.M=r.months),i=new St(c),Dt(e)&&h(e,"_locale")&&(i._locale=e._locale),i}function Pt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Bt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function jt(e,t){return function(n,i){var r;return null===i||isNaN(+i)||(T(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),zt(this,Rt(n="string"==typeof n?+n:n,i),e),this}}function zt(e,t,n,i){var o=t._milliseconds,s=Et(t._days),a=Et(t._months);e.isValid()&&(i=null==i||i,a&&Ee(e,we(e,"Month")+a*n),s&&Ce(e,"Date",we(e,"Date")+s*n),o&&e._d.setTime(e._d.valueOf()+o*n),i&&r.updateOffset(e,s||a))}Rt.fn=St.prototype,Rt.invalid=function(){return Rt(NaN)};var Vt=jt(1,"add"),Wt=jt(-1,"subtract");function Ht(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(n,"months");return-(n+(t-i<0?(t-i)/(i-e.clone().add(n-1,"months")):(t-i)/(e.clone().add(n+1,"months")-i)))||0}function Ut(e){var t;return void 0===e?this._locale._abbr:(null!=(t=it(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var $t=D("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function qt(){return this._locale}var Kt=126227808e5;function Yt(e,t){return(e%t+t)%t}function Gt(e,t,n){return e<100&&0<=e?new Date(e+400,t,n)-Kt:new Date(e,t,n).valueOf()}function Xt(e,t,n){return e<100&&0<=e?Date.UTC(e+400,t,n)-Kt:Date.UTC(e,t,n)}function Zt(e,t){U(0,[e,e.length],0,t)}function Jt(e,t,n,i,r){var o;return null==e?Fe(this,i,r).year:((o=Re(e,i,r))<t&&(t=o),function(e,t,n,i,r){var o=Oe(e,t,n,i,r),s=Ae(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}.call(this,e,t,n,i,r))}U(0,["gg",2],0,(function(){return this.weekYear()%100})),U(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Zt("gggg","weekYear"),Zt("ggggg","weekYear"),Zt("GGGG","isoWeekYear"),Zt("GGGGG","isoWeekYear"),O("weekYear","gg"),O("isoWeekYear","GG"),B("weekYear",1),B("isoWeekYear",1),ue("G",oe),ue("g",oe),ue("GG",J,Y),ue("gg",J,Y),ue("GGGG",ne,X),ue("gggg",ne,X),ue("GGGGG",ie,Z),ue("ggggg",ie,Z),ge(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,i){t[i.substr(0,2)]=x(e)})),ge(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),U("Q",0,"Qo","quarter"),O("quarter","Q"),B("quarter",7),ue("Q",K),pe("Q",(function(e,t){t[1]=3*(x(e)-1)})),U("D",["DD",2],"Do","date"),O("date","D"),B("date",9),ue("D",J),ue("DD",J,Y),ue("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),pe(["D","DD"],2),pe("Do",(function(e,t){t[2]=x(e.match(J)[0])}));var Qt=_e("Date",!0);U("DDD",["DDDD",3],"DDDo","dayOfYear"),O("dayOfYear","DDD"),B("dayOfYear",4),ue("DDD",te),ue("DDDD",G),pe(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=x(e)})),U("m",["mm",2],0,"minute"),O("minute","m"),B("minute",14),ue("m",J),ue("mm",J,Y),pe(["m","mm"],4);var en=_e("Minutes",!1);U("s",["ss",2],0,"second"),O("second","s"),B("second",15),ue("s",J),ue("ss",J,Y),pe(["s","ss"],5);var tn,nn=_e("Seconds",!1);for(U("S",0,0,(function(){return~~(this.millisecond()/100)})),U(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),U(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),U(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),U(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),U(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),U(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),O("millisecond","ms"),B("millisecond",16),ue("S",te,K),ue("SS",te,Y),ue("SSS",te,G),tn="SSSS";tn.length<=9;tn+="S")ue(tn,re);function rn(e,t){t[6]=x(1e3*("0."+e))}for(tn="S";tn.length<=9;tn+="S")pe(tn,rn);var on=_e("Milliseconds",!1);U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var sn=_.prototype;function an(e){return e}sn.add=Vt,sn.calendar=function(e,t){var n=e||_t(),i=Mt(n,this).startOf("day"),o=r.calendarFormat(this,i)||"sameElse",s=t&&(N(t[o])?t[o].call(this,n):t[o]);return this.format(s||this.localeData().calendar(o,this,_t(n)))},sn.clone=function(){return new _(this)},sn.diff=function(e,t,n){var i,r,o;if(!this.isValid())return NaN;if(!(i=Mt(e,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),t=F(t)){case"year":o=Ht(this,i)/12;break;case"month":o=Ht(this,i);break;case"quarter":o=Ht(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-r)/864e5;break;case"week":o=(this-i-r)/6048e5;break;default:o=this-i}return n?o:C(o)},sn.endOf=function(e){var t;if(void 0===(e=F(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?Xt:Gt;switch(e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-Yt(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-Yt(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-Yt(t,1e3)-1}return this._d.setTime(t),r.updateOffset(this,!0),this},sn.format=function(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=$(this,e);return this.localeData().postformat(t)},sn.from=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||_t(e).isValid())?Rt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},sn.fromNow=function(e){return this.from(_t(),e)},sn.to=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||_t(e).isValid())?Rt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},sn.toNow=function(e){return this.to(_t(),e)},sn.get=function(e){return N(this[e=F(e)])?this[e]():this},sn.invalidAt=function(){return p(this).overflow},sn.isAfter=function(e,t){var n=w(e)?e:_t(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=F(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},sn.isBefore=function(e,t){var n=w(e)?e:_t(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=F(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},sn.isBetween=function(e,t,n,i){var r=w(e)?e:_t(e),o=w(t)?t:_t(t);return!!(this.isValid()&&r.isValid()&&o.isValid())&&("("===(i=i||"()")[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===i[1]?this.isBefore(o,n):!this.isAfter(o,n))},sn.isSame=function(e,t){var n,i=w(e)?e:_t(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=F(t)||"millisecond")?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},sn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},sn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},sn.isValid=function(){return g(this)},sn.lang=$t,sn.locale=Ut,sn.localeData=qt,sn.max=Ct,sn.min=wt,sn.parsingFlags=function(){return d({},p(this))},sn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:P[n]});return t.sort((function(e,t){return e.priority-t.priority})),t}(e=R(e)),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit]);else if(N(this[e=F(e)]))return this[e](t);return this},sn.startOf=function(e){var t;if(void 0===(e=F(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?Xt:Gt;switch(e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Yt(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=Yt(t,6e4);break;case"second":t=this._d.valueOf(),t-=Yt(t,1e3)}return this._d.setTime(t),r.updateOffset(this,!0),this},sn.subtract=Wt,sn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},sn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},sn.toDate=function(){return new Date(this.valueOf())},sn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||9999<n.year()?$(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):N(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",$(n,"Z")):$(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},sn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=t+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+r)},sn.toJSON=function(){return this.isValid()?this.toISOString():null},sn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},sn.unix=function(){return Math.floor(this.valueOf()/1e3)},sn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},sn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},sn.year=be,sn.isLeapYear=function(){return ve(this.year())},sn.weekYear=function(e){return Jt.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},sn.isoWeekYear=function(e){return Jt.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},sn.quarter=sn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},sn.month=Le,sn.daysInMonth=function(){return xe(this.year(),this.month())},sn.week=sn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},sn.isoWeek=sn.isoWeeks=function(e){var t=Fe(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},sn.weeksInYear=function(){var e=this.localeData()._week;return Re(this.year(),e.dow,e.doy)},sn.isoWeeksInYear=function(){return Re(this.year(),1,4)},sn.date=Qt,sn.day=sn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,n,i=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,n=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=n.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-i,"d")):i},sn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},sn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null==e)return this.day()||7;var t,n,i=(t=e,n=this.localeData(),"string"==typeof t?n.weekdaysParse(t)%7||7:isNaN(t)?null:t);return this.day(this.day()%7?i:i-7)},sn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},sn.hour=sn.hours=Ge,sn.minute=sn.minutes=en,sn.second=sn.seconds=nn,sn.millisecond=sn.milliseconds=on,sn.utcOffset=function(e,t,n){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null==e)return this._isUTC?o:At(this);if("string"==typeof e){if(null===(e=Nt(ae,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=At(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!t||this._changeInProgress?zt(this,Rt(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this},sn.utc=function(e){return this.utcOffset(0,e)},sn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(At(this),"m")),this},sn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Nt(se,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},sn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?_t(e).utcOffset():0,(this.utcOffset()-e)%60==0)},sn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},sn.isLocal=function(){return!!this.isValid()&&!this._isUTC},sn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},sn.isUtc=It,sn.isUTC=It,sn.zoneAbbr=function(){return this._isUTC?"UTC":""},sn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},sn.dates=D("dates accessor is deprecated. Use date instead.",Qt),sn.months=D("months accessor is deprecated. Use month instead",Le),sn.years=D("years accessor is deprecated. Use year instead",be),sn.zone=D("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),sn.isDSTShifted=D("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!a(this._isDSTShifted))return this._isDSTShifted;var e={};if(y(e,this),(e=yt(e))._a){var t=e._isUTC?f(e._a):_t(e._a);this._isDSTShifted=this.isValid()&&0<k(e._a,t.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted}));var ln=A.prototype;function cn(e,t,n,i){var r=it(),o=f().set(i,t);return r[n](o,e)}function un(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return cn(e,t,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=cn(e,i,n,"month");return r}function hn(e,t,n,i){"boolean"==typeof e?l(t)&&(n=t,t=void 0):(t=e,e=!1,l(n=t)&&(n=t,t=void 0)),t=t||"";var r,o=it(),s=e?o._week.dow:0;if(null!=n)return cn(t,(n+s)%7,i,"day");var a=[];for(r=0;r<7;r++)a[r]=cn(t,(r+s)%7,i,"day");return a}ln.calendar=function(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return N(i)?i.call(t,n):i},ln.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])},ln.invalidDate=function(){return this._invalidDate},ln.ordinal=function(e){return this._ordinal.replace("%d",e)},ln.preparse=an,ln.postformat=an,ln.relativeTime=function(e,t,n,i){var r=this._relativeTime[n];return N(r)?r(e,t,n,i):r.replace(/%d/i,e)},ln.pastFuture=function(e,t){var n=this._relativeTime[0<e?"future":"past"];return N(n)?n(t):n.replace(/%s/i,t)},ln.set=function(e){var t,n;for(n in e)N(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},ln.months=function(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||ke).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone},ln.monthsShort=function(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[ke.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},ln.monthsParse=function(e,t,n){var i,r,o;if(this._monthsParseExact)return function(e,t,n){var i,r,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=f([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=ye.call(this._shortMonthsParse,s))?r:null:-1!==(r=ye.call(this._longMonthsParse,s))?r:null:"MMM"===t?-1!==(r=ye.call(this._shortMonthsParse,s))||-1!==(r=ye.call(this._longMonthsParse,s))?r:null:-1!==(r=ye.call(this._longMonthsParse,s))||-1!==(r=ye.call(this._shortMonthsParse,s))?r:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=f([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},ln.monthsRegex=function(e){return this._monthsParseExact?(h(this,"_monthsRegex")||Me.call(this),e?this._monthsStrictRegex:this._monthsRegex):(h(this,"_monthsRegex")||(this._monthsRegex=Ne),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},ln.monthsShortRegex=function(e){return this._monthsParseExact?(h(this,"_monthsRegex")||Me.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(h(this,"_monthsShortRegex")||(this._monthsShortRegex=Te),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},ln.week=function(e){return Fe(e,this._week.dow,this._week.doy).week},ln.firstDayOfYear=function(){return this._week.doy},ln.firstDayOfWeek=function(){return this._week.dow},ln.weekdays=function(e,t){var n=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Pe(n,this._week.dow):e?n[e.day()]:n},ln.weekdaysMin=function(e){return!0===e?Pe(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},ln.weekdaysShort=function(e){return!0===e?Pe(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},ln.weekdaysParse=function(e,t,n){var i,r,o;if(this._weekdaysParseExact)return function(e,t,n){var i,r,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=f([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(r=ye.call(this._weekdaysParse,s))?r:null:"ddd"===t?-1!==(r=ye.call(this._shortWeekdaysParse,s))?r:null:-1!==(r=ye.call(this._minWeekdaysParse,s))?r:null:"dddd"===t?-1!==(r=ye.call(this._weekdaysParse,s))||-1!==(r=ye.call(this._shortWeekdaysParse,s))||-1!==(r=ye.call(this._minWeekdaysParse,s))?r:null:"ddd"===t?-1!==(r=ye.call(this._shortWeekdaysParse,s))||-1!==(r=ye.call(this._weekdaysParse,s))||-1!==(r=ye.call(this._minWeekdaysParse,s))?r:null:-1!==(r=ye.call(this._minWeekdaysParse,s))||-1!==(r=ye.call(this._weekdaysParse,s))||-1!==(r=ye.call(this._shortWeekdaysParse,s))?r:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=f([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}},ln.weekdaysRegex=function(e){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Ue.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(h(this,"_weekdaysRegex")||(this._weekdaysRegex=Ve),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},ln.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Ue.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(h(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=We),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},ln.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Ue.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(h(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=He),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},ln.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},ln.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},tt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===x(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=D("moment.lang is deprecated. Use moment.locale instead.",tt),r.langData=D("moment.langData is deprecated. Use moment.localeData instead.",it);var dn=Math.abs;function fn(e,t,n,i){var r=Rt(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function pn(e){return e<0?Math.floor(e):Math.ceil(e)}function gn(e){return 4800*e/146097}function mn(e){return 146097*e/4800}function vn(e){return function(){return this.as(e)}}var yn=vn("ms"),bn=vn("s"),_n=vn("m"),wn=vn("h"),Cn=vn("d"),xn=vn("w"),kn=vn("M"),Sn=vn("Q"),Dn=vn("y");function En(e){return function(){return this.isValid()?this._data[e]:NaN}}var Ln=En("milliseconds"),Tn=En("seconds"),Nn=En("minutes"),Mn=En("hours"),An=En("days"),In=En("months"),On=En("years"),Fn=Math.round,Rn={ss:44,s:45,m:45,h:22,d:26,M:11},Pn=Math.abs;function Bn(e){return(0<e)-(e<0)||+e}function jn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Pn(this._milliseconds)/1e3,i=Pn(this._days),r=Pn(this._months);t=C((e=C(n/60))/60),n%=60,e%=60;var o=C(r/12),s=r%=12,a=i,l=t,c=e,u=n?n.toFixed(3).replace(/\.?0+$/,""):"",h=this.asSeconds();if(!h)return"P0D";var d=h<0?"-":"",f=Bn(this._months)!==Bn(h)?"-":"",p=Bn(this._days)!==Bn(h)?"-":"",g=Bn(this._milliseconds)!==Bn(h)?"-":"";return d+"P"+(o?f+o+"Y":"")+(s?f+s+"M":"")+(a?p+a+"D":"")+(l||c||u?"T":"")+(l?g+l+"H":"")+(c?g+c+"M":"")+(u?g+u+"S":"")}var zn=St.prototype;return zn.isValid=function(){return this._isValid},zn.abs=function(){var e=this._data;return this._milliseconds=dn(this._milliseconds),this._days=dn(this._days),this._months=dn(this._months),e.milliseconds=dn(e.milliseconds),e.seconds=dn(e.seconds),e.minutes=dn(e.minutes),e.hours=dn(e.hours),e.months=dn(e.months),e.years=dn(e.years),this},zn.add=function(e,t){return fn(this,e,t,1)},zn.subtract=function(e,t){return fn(this,e,t,-1)},zn.as=function(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=F(e))||"quarter"===e||"year"===e)switch(t=this._days+i/864e5,n=this._months+gn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(mn(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}},zn.asMilliseconds=yn,zn.asSeconds=bn,zn.asMinutes=_n,zn.asHours=wn,zn.asDays=Cn,zn.asWeeks=xn,zn.asMonths=kn,zn.asQuarters=Sn,zn.asYears=Dn,zn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*x(this._months/12):NaN},zn._bubble=function(){var e,t,n,i,r,o=this._milliseconds,s=this._days,a=this._months,l=this._data;return 0<=o&&0<=s&&0<=a||o<=0&&s<=0&&a<=0||(o+=864e5*pn(mn(a)+s),a=s=0),l.milliseconds=o%1e3,e=C(o/1e3),l.seconds=e%60,t=C(e/60),l.minutes=t%60,n=C(t/60),l.hours=n%24,a+=r=C(gn(s+=C(n/24))),s-=pn(mn(r)),i=C(a/12),a%=12,l.days=s,l.months=a,l.years=i,this},zn.clone=function(){return Rt(this)},zn.get=function(e){return e=F(e),this.isValid()?this[e+"s"]():NaN},zn.milliseconds=Ln,zn.seconds=Tn,zn.minutes=Nn,zn.hours=Mn,zn.days=An,zn.weeks=function(){return C(this.days()/7)},zn.months=In,zn.years=On,zn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t,n,i,r,o,s,a,l,c,u,h=this.localeData(),d=(t=!e,n=h,i=Rt(this).abs(),r=Fn(i.as("s")),o=Fn(i.as("m")),s=Fn(i.as("h")),a=Fn(i.as("d")),l=Fn(i.as("M")),c=Fn(i.as("y")),(u=r<=Rn.ss&&["s",r]||r<Rn.s&&["ss",r]||o<=1&&["m"]||o<Rn.m&&["mm",o]||s<=1&&["h"]||s<Rn.h&&["hh",s]||a<=1&&["d"]||a<Rn.d&&["dd",a]||l<=1&&["M"]||l<Rn.M&&["MM",l]||c<=1&&["y"]||["yy",c])[2]=t,u[3]=0<+this,u[4]=n,function(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}.apply(null,u));return e&&(d=h.pastFuture(+this,d)),h.postformat(d)},zn.toISOString=jn,zn.toString=jn,zn.toJSON=jn,zn.locale=Ut,zn.localeData=qt,zn.toIsoString=D("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",jn),zn.lang=$t,U("X",0,0,"unix"),U("x",0,0,"valueOf"),ue("x",oe),ue("X",/[+-]?\d+(\.\d{1,3})?/),pe("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))})),pe("x",(function(e,t,n){n._d=new Date(x(e))})),r.version="2.24.0",t=_t,r.fn=sn,r.min=function(){return xt("isBefore",[].slice.call(arguments,0))},r.max=function(){return xt("isAfter",[].slice.call(arguments,0))},r.now=function(){return Date.now?Date.now():+new Date},r.utc=f,r.unix=function(e){return _t(1e3*e)},r.months=function(e,t){return un(e,t,"months")},r.isDate=c,r.locale=tt,r.invalid=m,r.duration=Rt,r.isMoment=w,r.weekdays=function(e,t,n){return hn(e,t,n,"weekdays")},r.parseZone=function(){return _t.apply(null,arguments).parseZone()},r.localeData=it,r.isDuration=Dt,r.monthsShort=function(e,t){return un(e,t,"monthsShort")},r.weekdaysMin=function(e,t,n){return hn(e,t,n,"weekdaysMin")},r.defineLocale=nt,r.updateLocale=function(e,t){if(null!=t){var n,i,r=Xe;null!=(i=et(e))&&(r=i._config),(n=new A(t=M(r,t))).parentLocale=Ze[e],Ze[e]=n,tt(e)}else null!=Ze[e]&&(null!=Ze[e].parentLocale?Ze[e]=Ze[e].parentLocale:null!=Ze[e]&&delete Ze[e]);return Ze[e]},r.locales=function(){return E(Ze)},r.weekdaysShort=function(e,t,n){return hn(e,t,n,"weekdaysShort")},r.normalizeUnits=F,r.relativeTimeRounding=function(e){return void 0===e?Fn:"function"==typeof e&&(Fn=e,!0)},r.relativeTimeThreshold=function(e,t){return void 0!==Rn[e]&&(void 0===t?Rn[e]:(Rn[e]=t,"s"===e&&(Rn.ss=t-1),!0))},r.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},r.prototype=sn,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},6470:e=>{function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var n,i="",r=0,o=-1,s=0,a=0;a<=e.length;++a){if(a<e.length)n=e.charCodeAt(a);else{if(47===n)break;n=47}if(47===n){if(o===a-1||1===s);else if(o!==a-1&&2===s){if(i.length<2||2!==r||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2))if(i.length>2){var l=i.lastIndexOf("/");if(l!==i.length-1){-1===l?(i="",r=0):r=(i=i.slice(0,l)).length-1-i.lastIndexOf("/"),o=a,s=0;continue}}else if(2===i.length||1===i.length){i="",r=0,o=a,s=0;continue}t&&(i.length>0?i+="/..":i="..",r=2)}else i.length>0?i+="/"+e.slice(o+1,a):i=e.slice(o+1,a),r=a-o-1;o=a,s=0}else 46===n&&-1!==s?++s:s=-1}return i}var i={resolve:function(){for(var e,i="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var s;o>=0?s=arguments[o]:(void 0===e&&(e=process.cwd()),s=e),t(s),0!==s.length&&(i=s+"/"+i,r=47===s.charCodeAt(0))}return i=n(i,!r),r?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(e){if(t(e),0===e.length)return".";var i=47===e.charCodeAt(0),r=47===e.charCodeAt(e.length-1);return 0!==(e=n(e,!i)).length||i||(e="."),e.length>0&&r&&(e+="/"),i?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,n=0;n<arguments.length;++n){var r=arguments[n];t(r),r.length>0&&(void 0===e?e=r:e+="/"+r)}return void 0===e?".":i.normalize(e)},relative:function(e,n){if(t(e),t(n),e===n)return"";if((e=i.resolve(e))===(n=i.resolve(n)))return"";for(var r=1;r<e.length&&47===e.charCodeAt(r);++r);for(var o=e.length,s=o-r,a=1;a<n.length&&47===n.charCodeAt(a);++a);for(var l=n.length-a,c=s<l?s:l,u=-1,h=0;h<=c;++h){if(h===c){if(l>c){if(47===n.charCodeAt(a+h))return n.slice(a+h+1);if(0===h)return n.slice(a+h)}else s>c&&(47===e.charCodeAt(r+h)?u=h:0===h&&(u=0));break}var d=e.charCodeAt(r+h);if(d!==n.charCodeAt(a+h))break;47===d&&(u=h)}var f="";for(h=r+u+1;h<=o;++h)h!==o&&47!==e.charCodeAt(h)||(0===f.length?f+="..":f+="/..");return f.length>0?f+n.slice(a+u):(a+=u,47===n.charCodeAt(a)&&++a,n.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var n=e.charCodeAt(0),i=47===n,r=-1,o=!0,s=e.length-1;s>=1;--s)if(47===(n=e.charCodeAt(s))){if(!o){r=s;break}}else o=!1;return-1===r?i?"/":".":i&&1===r?"//":e.slice(0,r)},basename:function(e,n){if(void 0!==n&&"string"!=typeof n)throw new TypeError('"ext" argument must be a string');t(e);var i,r=0,o=-1,s=!0;if(void 0!==n&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var a=n.length-1,l=-1;for(i=e.length-1;i>=0;--i){var c=e.charCodeAt(i);if(47===c){if(!s){r=i+1;break}}else-1===l&&(s=!1,l=i+1),a>=0&&(c===n.charCodeAt(a)?-1==--a&&(o=i):(a=-1,o=l))}return r===o?o=l:-1===o&&(o=e.length),e.slice(r,o)}for(i=e.length-1;i>=0;--i)if(47===e.charCodeAt(i)){if(!s){r=i+1;break}}else-1===o&&(s=!1,o=i+1);return-1===o?"":e.slice(r,o)},extname:function(e){t(e);for(var n=-1,i=0,r=-1,o=!0,s=0,a=e.length-1;a>=0;--a){var l=e.charCodeAt(a);if(47!==l)-1===r&&(o=!1,r=a+1),46===l?-1===n?n=a:1!==s&&(s=1):-1!==n&&(s=-1);else if(!o){i=a+1;break}}return-1===n||-1===r||0===s||1===s&&n===r-1&&n===i+1?"":e.slice(n,r)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return n=(t=e).dir||t.root,i=t.base||(t.name||"")+(t.ext||""),n?n===t.root?n+i:n+"/"+i:i;var t,n,i},parse:function(e){t(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var i,r=e.charCodeAt(0),o=47===r;o?(n.root="/",i=1):i=0;for(var s=-1,a=0,l=-1,c=!0,u=e.length-1,h=0;u>=i;--u)if(47!==(r=e.charCodeAt(u)))-1===l&&(c=!1,l=u+1),46===r?-1===s?s=u:1!==h&&(h=1):-1!==s&&(h=-1);else if(!c){a=u+1;break}return-1===s||-1===l||0===h||1===h&&s===l-1&&s===a+1?-1!==l&&(n.base=n.name=0===a&&o?e.slice(1,l):e.slice(a,l)):(0===a&&o?(n.name=e.slice(1,s),n.base=e.slice(1,l)):(n.name=e.slice(a,s),n.base=e.slice(a,l)),n.ext=e.slice(s,l)),a>0?n.dir=e.slice(0,a-1):o&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};i.posix=i,e.exports=i},8218:()=>{},8009:()=>{},5354:()=>{},6878:()=>{},8183:()=>{},1428:()=>{},4551:()=>{},8800:()=>{},1993:()=>{},3069:()=>{},9143:()=>{}},LT={};function TT(e){var t=LT[e];if(void 0!==t)return t.exports;var n=LT[e]={id:e,loaded:!1,exports:{}};return ET[e].call(n.exports,n,n.exports,TT),n.loaded=!0,n.exports}TT.c=LT,TT.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return TT.d(t,{a:t}),t},TT.d=(e,t)=>{for(var n in t)TT.o(t,n)&&!TT.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},TT.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),TT.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),TT.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},TT.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var NT=TT(TT.s=7458).Z;const MT=xx("abcedfghicklmn",10);function AT(e){const t=e.toString(16);return 1==t.length?"0"+t:t}function IT(e){if(!e)return"";const t=e.split(",").map((e=>Number(e.trim())));if(t.length<3)return e;return t.every((e=>e>=0&&e<=256))?function(e,t,n){return"#"+AT(e)+AT(t)+AT(n)}(...t):e}const OT=e=>{var t;return(null===(t=null==e?void 0:e.attrs)||void 0===t?void 0:t.identity)||MT()},FT=/^```mermaid$/,RT=Bw(),PT=Vx(((e,t)=>{var n;const{mermaidVariables:i,codeStyle:r,hideCodeStyle:o,previewPanelStyle:s}=(e=>({codeStyle:e.getStyle((({palette:e,size:t,font:n})=>ix`
            color: ${e("neutral",.87)};
            background-color: ${e("background")};
            border-radius: ${t.radius};
            padding: 1rem 2rem;
            font-size: 0.875rem;
            font-family: ${n.code};
            overflow: hidden;
            .ProseMirror {
                outline: none;
            }
        `)),hideCodeStyle:ix`
        display: none;
    `,previewPanelStyle:e.getStyle((()=>ix`
            display: flex;
            justify-content: center;
            padding: 1rem 0;
        `)),mermaidVariables:()=>{const e=getComputedStyle(document.documentElement),t=t=>IT(e.getPropertyValue("--"+t)),n=t("primary"),i=t("secondary"),r=t("solid"),o=t("neutral"),s=t("background"),a={background:s,primaryColor:i,secondaryColor:n,primaryTextColor:o,noteBkgColor:s,noteTextColor:r};return Object.entries(a).filter((([e,t])=>t.length>0)).map((([e,t])=>`'${e}':'${t}'`)).join(", ")}}))(e),a=`%%{init: {'theme': 'base', 'themeVariables': { ${i()} }}}%%\n`,l="diagram";NT.startOnLoad=!1,NT.initialize({startOnLoad:!1});const c=Object.assign({empty:"Empty",error:"Syntax Error"},null!==(n=null==t?void 0:t.placeholder)&&void 0!==n?n:{});return{id:l,schema:()=>({content:"text*",group:"block",marks:"",defining:!0,atom:!0,code:!0,isolating:!0,attrs:{value:{default:""},identity:{default:""}},parseDOM:[{tag:'div[data-type="diagram"]',preserveWhitespace:"full",getAttrs:e=>{if(!(e instanceof HTMLElement))throw new Error;return{value:e.innerHTML,id:e.id}}}],toDOM:t=>["div",{id:OT(t),class:e.getClassName(t.attrs,"mermaid"),"data-type":l,"data-value":t.attrs.value},0],parseMarkdown:{match:({type:e})=>e===l,runner:(e,t,n)=>{const i=t.value;e.openNode(n,{value:i}),e.addText(i),e.closeNode()}},toMarkdown:{match:e=>e.type.name===l,runner:(e,t)=>{var n;e.addNode("code",void 0,(null===(n=t.content.firstChild)||void 0===n?void 0:n.text)||"",{lang:"mermaid"})}}}),commands:e=>[Rw(RT,(()=>Cf(e,{id:OT()})))],view:()=>(e,t,n)=>{const i=((e,t)=>{let n,i=!1;return{isEditing:()=>i,innerView:()=>n,openEditor:(r,o)=>{n=new Pm(r,{state:sf.create({doc:o,plugins:[Gf({Tab:(e,t)=>(t&&t(e.tr.insertText("\t")),!0),Enter:yf,"Mod-Enter":(t,n)=>{if(n){const{state:t}=e,{to:n}=t.selection,i=t.tr.replaceWith(n,n,t.schema.nodes.paragraph.createAndFill());e.dispatch(i.setSelection(qd.create(i.doc,n))),e.focus()}return!0}})]}),dispatchTransaction:i=>{if(!n)return;const{state:r,transactions:o}=n.state.applyTransaction(i);if(n.updateState(r),!i.getMeta("fromOutside")){const n=e.state.tr,i=hd.offset(t()+1);o.forEach((e=>{const{steps:t}=e;t.forEach((e=>{const t=e.map(i);if(!t)throw Error("step discarded!");n.step(t)}))})),n.docChanged&&e.dispatch(n)}}}),n.focus();const{state:s}=n;n.dispatch(s.tr.setSelection(qd.create(s.doc,0))),i=!0},closeEditor:()=>{n&&n.destroy(),n=void 0,i=!1}}})(t,n),u=OT(e);let h=e;const d=document.createElement("div");d.classList.add("mermaid","diagram");const f=document.createElement("div");f.dataset.type=l,f.dataset.value=e.attrs.value,r&&f.classList.add(r,o);const p=document.createElement("div");p.id=u,s&&p.classList.add(s),d.append(f);const g=e=>{try{if(e){const t=NT.render(u,a+e);p.innerHTML=t}else p.innerHTML=c.empty}catch(t){const e=document.getElementById("d"+u);e&&e.remove(),p.innerHTML=c.error}finally{d.appendChild(p)}};return g(e.attrs.value),{dom:d,update:t=>{var n;if(!t.sameMarkup(h))return!1;h=t;const r=i.innerView();if(r){const n=r.state,i=t.content.findDiffStart(n.doc.content);if(null!=i){const o=t.content.findDiffEnd(n.doc.content);if(o){let{a:t,b:s}=o;const a=i-Math.min(t,s);a>0&&(t+=a,s+=a),r.dispatch(n.tr.replace(i,s,e.slice(i,t)).setMeta("fromOutside",!0))}}}const o=(null===(n=t.content.firstChild)||void 0===n?void 0:n.text)||"";return f.dataset.value=o,g(o),!0},selectNode:()=>{t.editable&&(f.classList.remove(o),i.openEditor(f,h),d.classList.add("ProseMirror-selectednode"))},deselectNode:()=>{f.classList.add(o),i.closeEditor(),d.classList.remove("ProseMirror-selectednode")},stopEvent:e=>{const t=i.innerView(),{target:n}=e,r=n&&(null==t?void 0:t.dom.contains(n));return!(!t||!r)},ignoreMutation:()=>!0,destroy(){p.remove(),f.remove(),d.remove()}}},inputRules:e=>[Ff(FT,e,(()=>({id:OT()})))],remarkPlugins:()=>[BT]}})),BT=()=>function(e){Yb(e,"code",((e,t,n)=>{const{lang:i,value:r}=e;if("mermaid"!==i)return e;const o={type:"diagram",value:r};return n&&t&&n.children.splice(t,1,o),e}))},jT=Ox.create([PT()]),zT=Ru({},"listener"),VT=e=>(e.inject(zT),e=>Tu(void 0,void 0,void 0,(function*(){yield e.wait(ww);const t=e.get(zT),n=e.get(bw),i=new uf({state:{init:()=>{},apply:e=>{var i,r;e.docChanged&&(null===(i=t.markdown)||void 0===i||i.forEach((t=>{t((()=>n(e.doc)))})),null===(r=t.doc)||void 0===r||r.forEach((t=>{t(e.doc)})))}}});e.update(C_,(e=>e.concat(i)))})));var WT=function(){};WT.prototype.append=function(e){return e.length?(e=WT.from(e),!this.length&&e||e.length<200&&this.leafAppend(e)||this.length<200&&e.leafPrepend(this)||this.appendInner(e)):this},WT.prototype.prepend=function(e){return e.length?WT.from(e).append(this):this},WT.prototype.appendInner=function(e){return new UT(this,e)},WT.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?WT.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},WT.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},WT.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},WT.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var i=[];return this.forEach((function(t,n){return i.push(e(t,n))}),t,n),i},WT.from=function(e){return e instanceof WT?e:e&&e.length?new HT(e):WT.empty};var HT=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,i){for(var r=t;r<n;r++)if(!1===e(this.values[r],i+r))return!1},t.prototype.forEachInvertedInner=function(e,t,n,i){for(var r=t-1;r>=n;r--)if(!1===e(this.values[r],i+r))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=200)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=200)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(WT);WT.empty=new HT([]);var UT=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,i){var r=this.left.length;return!(t<r&&!1===this.left.forEachInner(e,t,Math.min(n,r),i))&&(!(n>r&&!1===this.right.forEachInner(e,Math.max(t-r,0),Math.min(this.length,n)-r,i+r))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,i){var r=this.left.length;return!(t>r&&!1===this.right.forEachInvertedInner(e,t-r,Math.max(n,r)-r,i+r))&&(!(n<r&&!1===this.left.forEachInvertedInner(e,Math.min(t,r),n,i))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(WT),$T=WT,qT=function(e,t){this.items=e,this.eventCount=t};qT.prototype.popEvent=function(e,t){var n=this;if(0==this.eventCount)return null;for(var i,r,o=this.items.length;;o--){if(this.items.get(o-1).selection){--o;break}}t&&(i=this.remapping(o,this.items.length),r=i.maps.length);var s,a,l=e.tr,c=[],u=[];return this.items.forEach((function(e,t){if(!e.step)return i||(i=n.remapping(o,t+1),r=i.maps.length),r--,void u.push(e);if(i){u.push(new KT(e.map));var h,d=e.step.map(i.slice(r));d&&l.maybeStep(d).doc&&(h=l.mapping.maps[l.mapping.maps.length-1],c.push(new KT(h,null,null,c.length+u.length))),r--,h&&i.appendMap(h,r)}else l.maybeStep(e.step);return e.selection?(s=i?e.selection.map(i.slice(r)):e.selection,a=new qT(n.items.slice(0,o).append(u.reverse().concat(c)),n.eventCount-1),!1):void 0}),this.items.length,0),{remaining:a,transform:l,selection:s}},qT.prototype.addTransform=function(e,t,n,i){for(var r=[],o=this.eventCount,s=this.items,a=!i&&s.length?s.get(s.length-1):null,l=0;l<e.steps.length;l++){var c,u=e.steps[l].invert(e.docs[l]),h=new KT(e.mapping.maps[l],u,t);(c=a&&a.merge(h))&&(h=c,l?r.pop():s=s.slice(0,s.length-1)),r.push(h),t&&(o++,t=null),i||(a=h)}var d,f,p,g=o-n.depth;return g>GT&&(f=g,(d=s).forEach((function(e,t){if(e.selection&&0==f--)return p=t,!1})),s=d.slice(p),o-=g),new qT(s.append(r),o)},qT.prototype.remapping=function(e,t){var n=new dd;return this.items.forEach((function(t,i){var r=null!=t.mirrorOffset&&i-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:null;n.appendMap(t.map,r)}),e,t),n},qT.prototype.addMaps=function(e){return 0==this.eventCount?this:new qT(this.items.append(e.map((function(e){return new KT(e)}))),this.eventCount)},qT.prototype.rebased=function(e,t){if(!this.eventCount)return this;var n=[],i=Math.max(0,this.items.length-t),r=e.mapping,o=e.steps.length,s=this.eventCount;this.items.forEach((function(e){e.selection&&s--}),i);var a=t;this.items.forEach((function(t){var i=r.getMirror(--a);if(null!=i){o=Math.min(o,i);var l=r.maps[i];if(t.step){var c=e.steps[i].invert(e.docs[i]),u=t.selection&&t.selection.map(r.slice(a+1,i));u&&s++,n.push(new KT(l,c,u))}else n.push(new KT(l))}}),i);for(var l=[],c=t;c<o;c++)l.push(new KT(r.maps[c]));var u=this.items.slice(0,i).append(l).append(n),h=new qT(u,s);return h.emptyItemCount()>500&&(h=h.compress(this.items.length-n.length)),h},qT.prototype.emptyItemCount=function(){var e=0;return this.items.forEach((function(t){t.step||e++})),e},qT.prototype.compress=function(e){void 0===e&&(e=this.items.length);var t=this.remapping(0,e),n=t.maps.length,i=[],r=0;return this.items.forEach((function(o,s){if(s>=e)i.push(o),o.selection&&r++;else if(o.step){var a=o.step.map(t.slice(n)),l=a&&a.getMap();if(n--,l&&t.appendMap(l,n),a){var c=o.selection&&o.selection.map(t.slice(n));c&&r++;var u,h=new KT(l.invert(),a,c),d=i.length-1;(u=i.length&&i[d].merge(h))?i[d]=u:i.push(h)}}else o.map&&n--}),this.items.length,0),new qT($T.from(i.reverse()),r)},qT.empty=new qT($T.empty,0);var KT=function(e,t,n,i){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=i};KT.prototype.merge=function(e){if(this.step&&e.step&&!e.selection){var t=e.step.merge(this.step);if(t)return new KT(t.getMap().invert(),t,this.selection)}};var YT=function(e,t,n,i){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=i},GT=20;function XT(e){var t=[];return e.forEach((function(e,n,i,r){return t.push(i,r)})),t}function ZT(e,t){if(!e)return null;for(var n=[],i=0;i<e.length;i+=2){var r=t.map(e[i],1),o=t.map(e[i+1],-1);r<=o&&n.push(r,o)}return n}function JT(e,t,n,i){var r=tN(t),o=nN.get(t).spec.config,s=(i?e.undone:e.done).popEvent(t,r);if(s){var a=s.selection.resolve(s.transform.doc),l=(i?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),o,r),c=new YT(i?l:s.remaining,i?s.remaining:l,null,0);n(s.transform.setSelection(a).setMeta(nN,{redo:i,historyState:c}).scrollIntoView())}}var QT=!1,eN=null;function tN(e){var t=e.plugins;if(eN!=t){QT=!1,eN=t;for(var n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){QT=!0;break}}return QT}var nN=new ff("history"),iN=new ff("closeHistory");function rN(e){return e={depth:e&&e.depth||100,newGroupDelay:e&&e.newGroupDelay||500},new uf({key:nN,state:{init:function(){return new YT(qT.empty,qT.empty,null,0)},apply:function(t,n,i){return function(e,t,n,i){var r,o=n.getMeta(nN);if(o)return o.historyState;n.getMeta(iN)&&(e=new YT(e.done,e.undone,null,0));var s=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(s&&s.getMeta(nN))return s.getMeta(nN).redo?new YT(e.done.addTransform(n,null,i,tN(t)),e.undone,XT(n.mapping.maps[n.steps.length-1]),e.prevTime):new YT(e.done,e.undone.addTransform(n,null,i,tN(t)),null,e.prevTime);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(r=n.getMeta("rebased"))?new YT(e.done.rebased(n,r),e.undone.rebased(n,r),ZT(e.prevRanges,n.mapping),e.prevTime):new YT(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),ZT(e.prevRanges,n.mapping),e.prevTime);var a=0==e.prevTime||!s&&(e.prevTime<(n.time||0)-i.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;var n=!1;return e.mapping.maps[0].forEach((function(e,i){for(var r=0;r<t.length;r+=2)e<=t[r+1]&&i>=t[r]&&(n=!0)})),n}(n,e.prevRanges)),l=s?ZT(e.prevRanges,n.mapping):XT(n.mapping.maps[n.steps.length-1]);return new YT(e.done.addTransform(n,a?t.selection.getBookmark():null,i,tN(t)),qT.empty,l,n.time)}(n,i,t,e)}},config:e,props:{handleDOMEvents:{beforeinput:function(e,t){var n="historyUndo"==t.inputType?oN(e.state,e.dispatch):"historyRedo"==t.inputType&&sN(e.state,e.dispatch);return n&&t.preventDefault(),n}}}})}function oN(e,t){var n=nN.getState(e);return!(!n||0==n.done.eventCount)&&(t&&JT(n,e,t,!1),!0)}function sN(e,t){var n=nN.getState(e);return!(!n||0==n.undone.eventCount)&&(t&&JT(n,e,t,!0),!0)}const aN=Wx((()=>({prosePlugins:()=>[rN(),Gf({"Mod-z":oN,"Mod-y":sN,"Shift-Mod-z":sN})]})))();var lN="object"==typeof Zm&&Zm&&Zm.Object===Object&&Zm,cN=lN,uN="object"==typeof self&&self&&self.Object===Object&&self,hN=cN||uN||Function("return this")(),dN=hN.Symbol;var fN=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t},pN=dN,gN=Object.prototype,mN=gN.hasOwnProperty,vN=gN.toString,yN=pN?pN.toStringTag:void 0;var bN=function(e){var t=mN.call(e,yN),n=e[yN];try{e[yN]=void 0;var i=!0}catch(nR){}var r=vN.call(e);return i&&(t?e[yN]=n:delete e[yN]),r},_N=Object.prototype.toString;var wN=bN,CN=function(e){return _N.call(e)},xN=dN?dN.toStringTag:void 0;var kN=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":xN&&xN in Object(e)?wN(e):CN(e)};var SN=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},DN=kN,EN=SN;var LN,TN=function(e){if(!EN(e))return!1;var t=DN(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},NN=hN["__core-js_shared__"],MN=(LN=/[^.]+$/.exec(NN&&NN.keys&&NN.keys.IE_PROTO||""))?"Symbol(src)_1."+LN:"";var AN=function(e){return!!MN&&MN in e},IN=Function.prototype.toString;var ON=function(e){if(null!=e){try{return IN.call(e)}catch(nR){}try{return e+""}catch(nR){}}return""},FN=TN,RN=AN,PN=SN,BN=ON,jN=/^\[object .+?Constructor\]$/,zN=Function.prototype,VN=Object.prototype,WN=zN.toString,HN=VN.hasOwnProperty,UN=RegExp("^"+WN.call(HN).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var $N=function(e){return!(!PN(e)||RN(e))&&(FN(e)?UN:jN).test(BN(e))},qN=function(e,t){return null==e?void 0:e[t]};var KN=function(e,t){var n=qN(e,t);return $N(n)?n:void 0},YN=KN(hN,"DataView"),GN=KN(hN,"Map"),XN=KN(hN,"Promise"),ZN=KN(hN,"Set"),JN=KN(hN,"WeakMap"),QN=kN,eM=ON,tM=eM(YN),nM=eM(GN),iM=eM(XN),rM=eM(ZN),oM=eM(JN),sM=QN;(YN&&"[object DataView]"!=sM(new YN(new ArrayBuffer(1)))||GN&&"[object Map]"!=sM(new GN)||XN&&"[object Promise]"!=sM(XN.resolve())||ZN&&"[object Set]"!=sM(new ZN)||JN&&"[object WeakMap]"!=sM(new JN))&&(sM=function(e){var t=QN(e),n="[object Object]"==t?e.constructor:void 0,i=n?eM(n):"";if(i)switch(i){case tM:return"[object DataView]";case nM:return"[object Map]";case iM:return"[object Promise]";case rM:return"[object Set]";case oM:return"[object WeakMap]"}return t});var aM=sM;var lM=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},cM=TN,uM=lM;var hM=function(e){return null!=e&&uM(e.length)&&!cM(e)},dM=Array.isArray;var fM=function(e){return null!=e&&"object"==typeof e},pM=kN,gM=dM,mM=fM;var vM=function(e){return"string"==typeof e||!gM(e)&&mM(e)&&"[object String]"==pM(e)};var yM=function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n};var bM=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n};var _M=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n};var wM=function(e){return e.split("")},CM=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var xM=function(e){return CM.test(e)},kM="[\\ud800-\\udfff]",SM="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",DM="\\ud83c[\\udffb-\\udfff]",EM="[^\\ud800-\\udfff]",LM="(?:\\ud83c[\\udde6-\\uddff]){2}",TM="[\\ud800-\\udbff][\\udc00-\\udfff]",NM="(?:"+SM+"|"+DM+")"+"?",MM="[\\ufe0e\\ufe0f]?"+NM+("(?:\\u200d(?:"+[EM,LM,TM].join("|")+")[\\ufe0e\\ufe0f]?"+NM+")*"),AM="(?:"+[EM+SM+"?",SM,LM,TM,kM].join("|")+")",IM=RegExp(DM+"(?="+DM+")|"+AM+MM,"g");var OM=wM,FM=xM,RM=function(e){return e.match(IM)||[]};var PM=function(e){return FM(e)?RM(e):OM(e)};var BM=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r};var jM=function(e,t){return BM(t,(function(t){return e[t]}))};var zM=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i},VM=kN,WM=fM;var HM,UM,$M,qM,KM,YM,GM,XM,ZM=function(e){return WM(e)&&"[object Arguments]"==VM(e)},JM=fM,QM=Object.prototype,eA=QM.hasOwnProperty,tA=QM.propertyIsEnumerable,nA=ZM(function(){return arguments}())?ZM:function(e){return JM(e)&&eA.call(e,"callee")&&!tA.call(e,"callee")},iA={exports:{}};HM=iA,$M=hN,qM=function(){return!1},KM=(UM=iA.exports)&&!UM.nodeType&&UM,YM=KM&&HM&&!HM.nodeType&&HM,GM=YM&&YM.exports===KM?$M.Buffer:void 0,XM=(GM?GM.isBuffer:void 0)||qM,HM.exports=XM;var rA=/^(?:0|[1-9]\d*)$/;var oA=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&rA.test(e))&&e>-1&&e%1==0&&e<t},sA=kN,aA=lM,lA=fM,cA={};cA["[object Float32Array]"]=cA["[object Float64Array]"]=cA["[object Int8Array]"]=cA["[object Int16Array]"]=cA["[object Int32Array]"]=cA["[object Uint8Array]"]=cA["[object Uint8ClampedArray]"]=cA["[object Uint16Array]"]=cA["[object Uint32Array]"]=!0,cA["[object Arguments]"]=cA["[object Array]"]=cA["[object ArrayBuffer]"]=cA["[object Boolean]"]=cA["[object DataView]"]=cA["[object Date]"]=cA["[object Error]"]=cA["[object Function]"]=cA["[object Map]"]=cA["[object Number]"]=cA["[object Object]"]=cA["[object RegExp]"]=cA["[object Set]"]=cA["[object String]"]=cA["[object WeakMap]"]=!1;var uA=function(e){return lA(e)&&aA(e.length)&&!!cA[sA(e)]};var hA=function(e){return function(t){return e(t)}},dA={exports:{}};!function(e,t){var n=lN,i=t&&!t.nodeType&&t,r=i&&e&&!e.nodeType&&e,o=r&&r.exports===i&&n.process,s=function(){try{var e=r&&r.require&&r.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(nR){}}();e.exports=s}(dA,dA.exports);var fA=uA,pA=hA,gA=dA.exports,mA=gA&&gA.isTypedArray,vA=mA?pA(mA):fA,yA=zM,bA=nA,_A=dM,wA=iA.exports,CA=oA,xA=vA,kA=Object.prototype.hasOwnProperty;var SA=function(e,t){var n=_A(e),i=!n&&bA(e),r=!n&&!i&&wA(e),o=!n&&!i&&!r&&xA(e),s=n||i||r||o,a=s?yA(e.length,String):[],l=a.length;for(var c in e)!t&&!kA.call(e,c)||s&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||CA(c,l))||a.push(c);return a},DA=Object.prototype;var EA=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||DA)};var LA=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),TA=EA,NA=LA,MA=Object.prototype.hasOwnProperty;var AA=SA,IA=function(e){if(!TA(e))return NA(e);var t=[];for(var n in Object(e))MA.call(e,n)&&"constructor"!=n&&t.push(n);return t},OA=hM;var FA=jM,RA=function(e){return OA(e)?AA(e):IA(e)};var PA=fN,BA=aM,jA=hM,zA=vM,VA=yM,WA=bM,HA=_M,UA=PM,$A=function(e){return null==e?[]:FA(e,RA(e))},qA=dN?dN.iterator:void 0;var KA=function(e){if(!e)return[];if(jA(e))return zA(e)?UA(e):PA(e);if(qA&&e[qA])return VA(e[qA]());var t=BA(e);return("[object Map]"==t?WA:"[object Set]"==t?HA:$A)(e)},YA=JSON.parse('{"100":"","1234":"","umbrella_with_rain_drops":"","coffee":"","aries":"","taurus":"","sagittarius":"","capricorn":"","aquarius":"","pisces":"","anchor":"","white_check_mark":"","sparkles":"","question":"","grey_question":"","grey_exclamation":"","exclamation":"","heavy_exclamation_mark":"","heavy_plus_sign":"","heavy_minus_sign":"","heavy_division_sign":"","hash":"#","keycap_star":"*","zero":"0","one":"1","two":"2","three":"3","four":"4","five":"5","six":"6","seven":"7","eight":"8","nine":"9","copyright":"","registered":"","mahjong":"","black_joker":"","a":"","b":"","o2":"","parking":"","ab":"","cl":"","cool":"","free":"","id":"","new":"","ng":"","ok":"","sos":"","up":"","vs":"","flag-ac":"","flag-ad":"","flag-ae":"","flag-af":"","flag-ag":"","flag-ai":"","flag-al":"","flag-am":"","flag-ao":"","flag-aq":"","flag-ar":"","flag-as":"","flag-at":"","flag-au":"","flag-aw":"","flag-ax":"","flag-az":"","flag-ba":"","flag-bb":"","flag-bd":"","flag-be":"","flag-bf":"","flag-bg":"","flag-bh":"","flag-bi":"","flag-bj":"","flag-bl":"","flag-bm":"","flag-bn":"","flag-bo":"","flag-bq":"","flag-br":"","flag-bs":"","flag-bt":"","flag-bv":"","flag-bw":"","flag-by":"","flag-bz":"","flag-ca":"","flag-cc":"","flag-cd":"","flag-cf":"","flag-cg":"","flag-ch":"","flag-ci":"","flag-ck":"","flag-cl":"","flag-cm":"","cn":"","flag-cn":"","flag-co":"","flag-cp":"","flag-cr":"","flag-cu":"","flag-cv":"","flag-cw":"","flag-cx":"","flag-cy":"","flag-cz":"","de":"","flag-de":"","flag-dg":"","flag-dj":"","flag-dk":"","flag-dm":"","flag-do":"","flag-dz":"","flag-ea":"","flag-ec":"","flag-ee":"","flag-eg":"","flag-eh":"","flag-er":"","es":"","flag-es":"","flag-et":"","flag-eu":"","flag-fi":"","flag-fj":"","flag-fk":"","flag-fm":"","flag-fo":"","fr":"","flag-fr":"","flag-ga":"","gb":"","uk":"","flag-gb":"","flag-gd":"","flag-ge":"","flag-gf":"","flag-gg":"","flag-gh":"","flag-gi":"","flag-gl":"","flag-gm":"","flag-gn":"","flag-gp":"","flag-gq":"","flag-gr":"","flag-gs":"","flag-gt":"","flag-gu":"","flag-gw":"","flag-gy":"","flag-hk":"","flag-hm":"","flag-hn":"","flag-hr":"","flag-ht":"","flag-hu":"","flag-ic":"","flag-id":"","flag-ie":"","flag-il":"","flag-im":"","flag-in":"","flag-io":"","flag-iq":"","flag-ir":"","flag-is":"","it":"","flag-it":"","flag-je":"","flag-jm":"","flag-jo":"","jp":"","flag-jp":"","flag-ke":"","flag-kg":"","flag-kh":"","flag-ki":"","flag-km":"","flag-kn":"","flag-kp":"","kr":"","flag-kr":"","flag-kw":"","flag-ky":"","flag-kz":"","flag-la":"","flag-lb":"","flag-lc":"","flag-li":"","flag-lk":"","flag-lr":"","flag-ls":"","flag-lt":"","flag-lu":"","flag-lv":"","flag-ly":"","flag-ma":"","flag-mc":"","flag-md":"","flag-me":"","flag-mf":"","flag-mg":"","flag-mh":"","flag-mk":"","flag-ml":"","flag-mm":"","flag-mn":"","flag-mo":"","flag-mp":"","flag-mq":"","flag-mr":"","flag-ms":"","flag-mt":"","flag-mu":"","flag-mv":"","flag-mw":"","flag-mx":"","flag-my":"","flag-mz":"","flag-na":"","flag-nc":"","flag-ne":"","flag-nf":"","flag-ng":"","flag-ni":"","flag-nl":"","flag-no":"","flag-np":"","flag-nr":"","flag-nu":"","flag-nz":"","flag-om":"","flag-pa":"","flag-pe":"","flag-pf":"","flag-pg":"","flag-ph":"","flag-pk":"","flag-pl":"","flag-pm":"","flag-pn":"","flag-pr":"","flag-ps":"","flag-pt":"","flag-pw":"","flag-py":"","flag-qa":"","flag-re":"","flag-ro":"","flag-rs":"","ru":"","flag-ru":"","flag-rw":"","flag-sa":"","flag-sb":"","flag-sc":"","flag-sd":"","flag-se":"","flag-sg":"","flag-sh":"","flag-si":"","flag-sj":"","flag-sk":"","flag-sl":"","flag-sm":"","flag-sn":"","flag-so":"","flag-sr":"","flag-ss":"","flag-st":"","flag-sv":"","flag-sx":"","flag-sy":"","flag-sz":"","flag-ta":"","flag-tc":"","flag-td":"","flag-tf":"","flag-tg":"","flag-th":"","flag-tj":"","flag-tk":"","flag-tl":"","flag-tm":"","flag-tn":"","flag-to":"","flag-tr":"","flag-tt":"","flag-tv":"","flag-tw":"","flag-tz":"","flag-ua":"","flag-ug":"","flag-um":"","flag-un":"","us":"","flag-us":"","flag-uy":"","flag-uz":"","flag-va":"","flag-vc":"","flag-ve":"","flag-vg":"","flag-vi":"","flag-vn":"","flag-vu":"","flag-wf":"","flag-ws":"","flag-xk":"","flag-ye":"","flag-yt":"","flag-za":"","flag-zm":"","flag-zw":"","koko":"","sa":"","u7121":"","u6307":"","u7981":"","u7a7a":"","u5408":"","u6e80":"","u6709":"","u6708":"","u7533":"","u5272":"","u55b6":"","ideograph_advantage":"","accept":"","cyclone":"","foggy":"","closed_umbrella":"","night_with_stars":"","sunrise_over_mountains":"","sunrise":"","city_sunset":"","city_sunrise":"","rainbow":"","bridge_at_night":"","ocean":"","volcano":"","milky_way":"","earth_africa":"","earth_americas":"","earth_asia":"","globe_with_meridians":"","new_moon":"","waxing_crescent_moon":"","first_quarter_moon":"","moon":"","waxing_gibbous_moon":"","full_moon":"","waning_gibbous_moon":"","last_quarter_moon":"","waning_crescent_moon":"","crescent_moon":"","new_moon_with_face":"","first_quarter_moon_with_face":"","last_quarter_moon_with_face":"","full_moon_with_face":"","sun_with_face":"","star2":"","stars":"","thermometer":"","mostly_sunny":"","sun_small_cloud":"","barely_sunny":"","sun_behind_cloud":"","partly_sunny_rain":"","sun_behind_rain_cloud":"","rain_cloud":"","snow_cloud":"","lightning":"","lightning_cloud":"","tornado":"","tornado_cloud":"","fog":"","wind_blowing_face":"","hotdog":"","taco":"","burrito":"","chestnut":"","seedling":"","evergreen_tree":"","deciduous_tree":"","palm_tree":"","cactus":"","hot_pepper":"","tulip":"","cherry_blossom":"","rose":"","hibiscus":"","sunflower":"","blossom":"","corn":"","ear_of_rice":"","herb":"","four_leaf_clover":"","maple_leaf":"","fallen_leaf":"","leaves":"","mushroom":"","tomato":"","eggplant":"","grapes":"","melon":"","watermelon":"","tangerine":"","lemon":"","banana":"","pineapple":"","apple":"","green_apple":"","pear":"","peach":"","cherries":"","strawberry":"","hamburger":"","pizza":"","meat_on_bone":"","poultry_leg":"","rice_cracker":"","rice_ball":"","rice":"","curry":"","ramen":"","spaghetti":"","bread":"","fries":"","sweet_potato":"","dango":"","oden":"","sushi":"","fried_shrimp":"","fish_cake":"","icecream":"","shaved_ice":"","ice_cream":"","doughnut":"","cookie":"","chocolate_bar":"","candy":"","lollipop":"","custard":"","honey_pot":"","cake":"","bento":"","stew":"","fried_egg":"","cooking":"","fork_and_knife":"","tea":"","sake":"","wine_glass":"","cocktail":"","tropical_drink":"","beer":"","beers":"","baby_bottle":"","knife_fork_plate":"","champagne":"","popcorn":"","ribbon":"","gift":"","birthday":"","jack_o_lantern":"","christmas_tree":"","santa":"","fireworks":"","sparkler":"","balloon":"","tada":"","confetti_ball":"","tanabata_tree":"","crossed_flags":"","bamboo":"","dolls":"","flags":"","wind_chime":"","rice_scene":"","school_satchel":"","mortar_board":"","medal":"","reminder_ribbon":"","studio_microphone":"","level_slider":"","control_knobs":"","film_frames":"","admission_tickets":"","carousel_horse":"","ferris_wheel":"","roller_coaster":"","fishing_pole_and_fish":"","microphone":"","movie_camera":"","cinema":"","headphones":"","art":"","tophat":"","circus_tent":"","ticket":"","clapper":"","performing_arts":"","video_game":"","dart":"","slot_machine":"","8ball":"","game_die":"","bowling":"","flower_playing_cards":"","musical_note":"","notes":"","saxophone":"","guitar":"","musical_keyboard":"","trumpet":"","violin":"","musical_score":"","running_shirt_with_sash":"","tennis":"","ski":"","basketball":"","checkered_flag":"","snowboarder":"","woman-running":"","man-running":"","runner":"","running":"","woman-surfing":"","man-surfing":"","surfer":"","sports_medal":"","trophy":"","horse_racing":"","football":"","rugby_football":"","woman-swimming":"","man-swimming":"","swimmer":"","woman-lifting-weights":"","man-lifting-weights":"","weight_lifter":"","woman-golfing":"","man-golfing":"","golfer":"","racing_motorcycle":"","racing_car":"","cricket_bat_and_ball":"","volleyball":"","field_hockey_stick_and_ball":"","ice_hockey_stick_and_puck":"","table_tennis_paddle_and_ball":"","snow_capped_mountain":"","camping":"","beach_with_umbrella":"","building_construction":"","house_buildings":"","cityscape":"","derelict_house_building":"","classical_building":"","desert":"","desert_island":"","national_park":"","stadium":"","house":"","house_with_garden":"","office":"","post_office":"","european_post_office":"","hospital":"","bank":"","atm":"","hotel":"","love_hotel":"","convenience_store":"","school":"","department_store":"","factory":"","izakaya_lantern":"","lantern":"","japanese_castle":"","european_castle":"","rainbow-flag":"","transgender_flag":"","waving_white_flag":"","pirate_flag":"","flag-england":"","flag-scotland":"","flag-wales":"","waving_black_flag":"","rosette":"","label":"","badminton_racquet_and_shuttlecock":"","bow_and_arrow":"","amphora":"","skin-tone-2":"","skin-tone-3":"","skin-tone-4":"","skin-tone-5":"","skin-tone-6":"","rat":"","mouse2":"","ox":"","water_buffalo":"","cow2":"","tiger2":"","leopard":"","rabbit2":"","black_cat":"","cat2":"","dragon":"","crocodile":"","whale2":"","snail":"","snake":"","racehorse":"","ram":"","goat":"","sheep":"","monkey":"","rooster":"","chicken":"","service_dog":"","dog2":"","pig2":"","boar":"","elephant":"","octopus":"","shell":"","bug":"","ant":"","bee":"","honeybee":"","ladybug":"","lady_beetle":"","fish":"","tropical_fish":"","blowfish":"","turtle":"","hatching_chick":"","baby_chick":"","hatched_chick":"","bird":"","penguin":"","koala":"","poodle":"","dromedary_camel":"","camel":"","dolphin":"","flipper":"","mouse":"","cow":"","tiger":"","rabbit":"","cat":"","dragon_face":"","whale":"","horse":"","monkey_face":"","dog":"","pig":"","frog":"","hamster":"","wolf":"","polar_bear":"","bear":"","panda_face":"","pig_nose":"","feet":"","paw_prints":"","chipmunk":"","eyes":"","eye-in-speech-bubble":"","eye":"","ear":"","nose":"","lips":"","tongue":"","point_up_2":"","point_down":"","point_left":"","point_right":"","facepunch":"","punch":"","wave":"","ok_hand":"","+1":"","thumbsup":"","-1":"","thumbsdown":"","clap":"","open_hands":"","crown":"","womans_hat":"","eyeglasses":"","necktie":"","shirt":"","tshirt":"","jeans":"","dress":"","kimono":"","bikini":"","womans_clothes":"","purse":"","handbag":"","pouch":"","mans_shoe":"","shoe":"","athletic_shoe":"","high_heel":"","sandal":"","boot":"","footprints":"","bust_in_silhouette":"","busts_in_silhouette":"","boy":"","girl":"","male-farmer":"","male-cook":"","man_feeding_baby":"","male-student":"","male-singer":"","male-artist":"","male-teacher":"","male-factory-worker":"","man-boy-boy":"","man-boy":"","man-girl-boy":"","man-girl-girl":"","man-girl":"","man-man-boy":"","man-man-boy-boy":"","man-man-girl":"","man-man-girl-boy":"","man-man-girl-girl":"","man-woman-boy":"","family":"","man-woman-boy-boy":"","man-woman-girl":"","man-woman-girl-boy":"","man-woman-girl-girl":"","male-technologist":"","male-office-worker":"","male-mechanic":"","male-scientist":"","male-astronaut":"","male-firefighter":"","man_with_probing_cane":"","red_haired_man":"","curly_haired_man":"","bald_man":"","white_haired_man":"","man_in_motorized_wheelchair":"","man_in_manual_wheelchair":"","male-doctor":"","male-judge":"","male-pilot":"","man-heart-man":"","man-kiss-man":"","man":"","female-farmer":"","female-cook":"","woman_feeding_baby":"","female-student":"","female-singer":"","female-artist":"","female-teacher":"","female-factory-worker":"","woman-boy-boy":"","woman-boy":"","woman-girl-boy":"","woman-girl-girl":"","woman-girl":"","woman-woman-boy":"","woman-woman-boy-boy":"","woman-woman-girl":"","woman-woman-girl-boy":"","woman-woman-girl-girl":"","female-technologist":"","female-office-worker":"","female-mechanic":"","female-scientist":"","female-astronaut":"","female-firefighter":"","woman_with_probing_cane":"","red_haired_woman":"","curly_haired_woman":"","bald_woman":"","white_haired_woman":"","woman_in_motorized_wheelchair":"","woman_in_manual_wheelchair":"","female-doctor":"","female-judge":"","female-pilot":"","woman-heart-man":"","woman-heart-woman":"","woman-kiss-man":"","woman-kiss-woman":"","woman":"","man_and_woman_holding_hands":"","woman_and_man_holding_hands":"","couple":"","two_men_holding_hands":"","men_holding_hands":"","two_women_holding_hands":"","women_holding_hands":"","female-police-officer":"","male-police-officer":"","cop":"","women-with-bunny-ears-partying":"","woman-with-bunny-ears-partying":"","dancers":"","men-with-bunny-ears-partying":"","man-with-bunny-ears-partying":"","woman_with_veil":"","man_with_veil":"","bride_with_veil":"","blond-haired-woman":"","blond-haired-man":"","person_with_blond_hair":"","man_with_gua_pi_mao":"","woman-wearing-turban":"","man-wearing-turban":"","man_with_turban":"","older_man":"","older_woman":"","baby":"","female-construction-worker":"","male-construction-worker":"","construction_worker":"","princess":"","japanese_ogre":"","japanese_goblin":"","ghost":"","angel":"","alien":"","space_invader":"","imp":"","skull":"","woman-tipping-hand":"","information_desk_person":"","man-tipping-hand":"","female-guard":"","male-guard":"","guardsman":"","dancer":"","lipstick":"","nail_care":"","woman-getting-massage":"","massage":"","man-getting-massage":"","woman-getting-haircut":"","haircut":"","man-getting-haircut":"","barber":"","syringe":"","pill":"","kiss":"","love_letter":"","ring":"","gem":"","couplekiss":"","bouquet":"","couple_with_heart":"","wedding":"","heartbeat":"","broken_heart":"","two_hearts":"","sparkling_heart":"","heartpulse":"","cupid":"","blue_heart":"","green_heart":"","yellow_heart":"","purple_heart":"","gift_heart":"","revolving_hearts":"","heart_decoration":"","diamond_shape_with_a_dot_inside":"","bulb":"","anger":"","bomb":"","zzz":"","boom":"","collision":"","sweat_drops":"","droplet":"","dash":"","hankey":"","poop":"","shit":"","muscle":"","dizzy":"","speech_balloon":"","thought_balloon":"","white_flower":"","moneybag":"","currency_exchange":"","heavy_dollar_sign":"","credit_card":"","yen":"","dollar":"","euro":"","pound":"","money_with_wings":"","chart":"","seat":"","computer":"","briefcase":"","minidisc":"","floppy_disk":"","cd":"","dvd":"","file_folder":"","open_file_folder":"","page_with_curl":"","page_facing_up":"","date":"","calendar":"","card_index":"","chart_with_upwards_trend":"","chart_with_downwards_trend":"","bar_chart":"","clipboard":"","pushpin":"","round_pushpin":"","paperclip":"","straight_ruler":"","triangular_ruler":"","bookmark_tabs":"","ledger":"","notebook":"","notebook_with_decorative_cover":"","closed_book":"","book":"","open_book":"","green_book":"","blue_book":"","orange_book":"","books":"","name_badge":"","scroll":"","memo":"","pencil":"","telephone_receiver":"","pager":"","fax":"","satellite_antenna":"","loudspeaker":"","mega":"","outbox_tray":"","inbox_tray":"","package":"","e-mail":"","incoming_envelope":"","envelope_with_arrow":"","mailbox_closed":"","mailbox":"","mailbox_with_mail":"","mailbox_with_no_mail":"","postbox":"","postal_horn":"","newspaper":"","iphone":"","calling":"","vibration_mode":"","mobile_phone_off":"","no_mobile_phones":"","signal_strength":"","camera":"","camera_with_flash":"","video_camera":"","tv":"","radio":"","vhs":"","film_projector":"","prayer_beads":"","twisted_rightwards_arrows":"","repeat":"","repeat_one":"","arrows_clockwise":"","arrows_counterclockwise":"","low_brightness":"","high_brightness":"","mute":"","speaker":"","sound":"","loud_sound":"","battery":"","electric_plug":"","mag":"","mag_right":"","lock_with_ink_pen":"","closed_lock_with_key":"","key":"","lock":"","unlock":"","bell":"","no_bell":"","bookmark":"","link":"","radio_button":"","back":"","end":"","on":"","soon":"","top":"","underage":"","keycap_ten":"","capital_abcd":"","abcd":"","symbols":"","abc":"","fire":"","flashlight":"","wrench":"","hammer":"","nut_and_bolt":"","hocho":"","knife":"","gun":"","microscope":"","telescope":"","crystal_ball":"","six_pointed_star":"","beginner":"","trident":"","black_square_button":"","white_square_button":"","red_circle":"","large_blue_circle":"","large_orange_diamond":"","large_blue_diamond":"","small_orange_diamond":"","small_blue_diamond":"","small_red_triangle":"","small_red_triangle_down":"","arrow_up_small":"","arrow_down_small":"","om_symbol":"","dove_of_peace":"","kaaba":"","mosque":"","synagogue":"","menorah_with_nine_branches":"","clock1":"","clock2":"","clock3":"","clock4":"","clock5":"","clock6":"","clock7":"","clock8":"","clock9":"","clock10":"","clock11":"","clock12":"","clock130":"","clock230":"","clock330":"","clock430":"","clock530":"","clock630":"","clock730":"","clock830":"","clock930":"","clock1030":"","clock1130":"","clock1230":"","candle":"","mantelpiece_clock":"","hole":"","man_in_business_suit_levitating":"","female-detective":"","male-detective":"","sleuth_or_spy":"","dark_sunglasses":"","spider":"","spider_web":"","joystick":"","man_dancing":"","linked_paperclips":"","lower_left_ballpoint_pen":"","lower_left_fountain_pen":"","lower_left_paintbrush":"","lower_left_crayon":"","raised_hand_with_fingers_splayed":"","middle_finger":"","reversed_hand_with_middle_finger_extended":"","spock-hand":"","black_heart":"","desktop_computer":"","printer":"","three_button_mouse":"","trackball":"","frame_with_picture":"","card_index_dividers":"","card_file_box":"","file_cabinet":"","wastebasket":"","spiral_note_pad":"","spiral_calendar_pad":"","compression":"","old_key":"","rolled_up_newspaper":"","dagger_knife":"","speaking_head_in_silhouette":"","left_speech_bubble":"","right_anger_bubble":"","ballot_box_with_ballot":"","world_map":"","mount_fuji":"","tokyo_tower":"","statue_of_liberty":"","japan":"","moyai":"","grinning":"","grin":"","joy":"","smiley":"","smile":"","sweat_smile":"","laughing":"","satisfied":"","innocent":"","smiling_imp":"","wink":"","blush":"","yum":"","relieved":"","heart_eyes":"","sunglasses":"","smirk":"","neutral_face":"","expressionless":"","unamused":"","sweat":"","pensive":"","confused":"","confounded":"","kissing":"","kissing_heart":"","kissing_smiling_eyes":"","kissing_closed_eyes":"","stuck_out_tongue":"","stuck_out_tongue_winking_eye":"","stuck_out_tongue_closed_eyes":"","disappointed":"","worried":"","angry":"","rage":"","cry":"","persevere":"","triumph":"","disappointed_relieved":"","frowning":"","anguished":"","fearful":"","weary":"","sleepy":"","tired_face":"","grimacing":"","sob":"","face_exhaling":"","open_mouth":"","hushed":"","cold_sweat":"","scream":"","astonished":"","flushed":"","sleeping":"","face_with_spiral_eyes":"","dizzy_face":"","face_in_clouds":"","no_mouth":"","mask":"","smile_cat":"","joy_cat":"","smiley_cat":"","heart_eyes_cat":"","smirk_cat":"","kissing_cat":"","pouting_cat":"","crying_cat_face":"","scream_cat":"","slightly_frowning_face":"","slightly_smiling_face":"","upside_down_face":"","face_with_rolling_eyes":"","woman-gesturing-no":"","no_good":"","man-gesturing-no":"","woman-gesturing-ok":"","ok_woman":"","man-gesturing-ok":"","woman-bowing":"","man-bowing":"","bow":"","see_no_evil":"","hear_no_evil":"","speak_no_evil":"","woman-raising-hand":"","raising_hand":"","man-raising-hand":"","raised_hands":"","woman-frowning":"","person_frowning":"","man-frowning":"","woman-pouting":"","person_with_pouting_face":"","man-pouting":"","pray":"","rocket":"","helicopter":"","steam_locomotive":"","railway_car":"","bullettrain_side":"","bullettrain_front":"","train2":"","metro":"","light_rail":"","station":"","tram":"","train":"","bus":"","oncoming_bus":"","trolleybus":"","busstop":"","minibus":"","ambulance":"","fire_engine":"","police_car":"","oncoming_police_car":"","taxi":"","oncoming_taxi":"","car":"","red_car":"","oncoming_automobile":"","blue_car":"","truck":"","articulated_lorry":"","tractor":"","monorail":"","mountain_railway":"","suspension_railway":"","mountain_cableway":"","aerial_tramway":"","ship":"","woman-rowing-boat":"","man-rowing-boat":"","rowboat":"","speedboat":"","traffic_light":"","vertical_traffic_light":"","construction":"","rotating_light":"","triangular_flag_on_post":"","door":"","no_entry_sign":"","smoking":"","no_smoking":"","put_litter_in_its_place":"","do_not_litter":"","potable_water":"","non-potable_water":"","bike":"","no_bicycles":"","woman-biking":"","man-biking":"","bicyclist":"","woman-mountain-biking":"","man-mountain-biking":"","mountain_bicyclist":"","woman-walking":"","man-walking":"","walking":"","no_pedestrians":"","children_crossing":"","mens":"","womens":"","restroom":"","baby_symbol":"","toilet":"","wc":"","shower":"","bath":"","bathtub":"","passport_control":"","customs":"","baggage_claim":"","left_luggage":"","couch_and_lamp":"","sleeping_accommodation":"","shopping_bags":"","bellhop_bell":"","bed":"","place_of_worship":"","octagonal_sign":"","shopping_trolley":"","hindu_temple":"","hut":"","elevator":"","hammer_and_wrench":"","shield":"","oil_drum":"","motorway":"","railway_track":"","motor_boat":"","small_airplane":"","airplane_departure":"","airplane_arriving":"","satellite":"","passenger_ship":"","scooter":"","motor_scooter":"","canoe":"","sled":"","flying_saucer":"","skateboard":"","auto_rickshaw":"","pickup_truck":"","roller_skate":"","large_orange_circle":"","large_yellow_circle":"","large_green_circle":"","large_purple_circle":"","large_brown_circle":"","large_red_square":"","large_blue_square":"","large_orange_square":"","large_yellow_square":"","large_green_square":"","large_purple_square":"","large_brown_square":"","pinched_fingers":"","white_heart":"","brown_heart":"","pinching_hand":"","zipper_mouth_face":"","money_mouth_face":"","face_with_thermometer":"","nerd_face":"","thinking_face":"","face_with_head_bandage":"","robot_face":"","hugging_face":"","the_horns":"","sign_of_the_horns":"","call_me_hand":"","raised_back_of_hand":"","left-facing_fist":"","right-facing_fist":"","handshake":"","crossed_fingers":"","hand_with_index_and_middle_fingers_crossed":"","i_love_you_hand_sign":"","face_with_cowboy_hat":"","clown_face":"","nauseated_face":"","rolling_on_the_floor_laughing":"","drooling_face":"","lying_face":"","woman-facepalming":"","man-facepalming":"","face_palm":"","sneezing_face":"","face_with_raised_eyebrow":"","face_with_one_eyebrow_raised":"","star-struck":"","grinning_face_with_star_eyes":"","zany_face":"","grinning_face_with_one_large_and_one_small_eye":"","shushing_face":"","face_with_finger_covering_closed_lips":"","face_with_symbols_on_mouth":"","serious_face_with_symbols_covering_mouth":"","face_with_hand_over_mouth":"","smiling_face_with_smiling_eyes_and_hand_covering_mouth":"","face_vomiting":"","face_with_open_mouth_vomiting":"","exploding_head":"","shocked_face_with_exploding_head":"","pregnant_woman":"","breast-feeding":"","palms_up_together":"","selfie":"","prince":"","woman_in_tuxedo":"","man_in_tuxedo":"","person_in_tuxedo":"","mrs_claus":"","mother_christmas":"","woman-shrugging":"","man-shrugging":"","shrug":"","woman-cartwheeling":"","man-cartwheeling":"","person_doing_cartwheel":"","woman-juggling":"","man-juggling":"","juggling":"","fencer":"","woman-wrestling":"","man-wrestling":"","wrestlers":"","woman-playing-water-polo":"","man-playing-water-polo":"","water_polo":"","woman-playing-handball":"","man-playing-handball":"","handball":"","diving_mask":"","wilted_flower":"","drum_with_drumsticks":"","clinking_glasses":"","tumbler_glass":"","spoon":"","goal_net":"","first_place_medal":"","second_place_medal":"","third_place_medal":"","boxing_glove":"","martial_arts_uniform":"","curling_stone":"","lacrosse":"","softball":"","flying_disc":"","croissant":"","avocado":"","cucumber":"","bacon":"","potato":"","carrot":"","baguette_bread":"","green_salad":"","shallow_pan_of_food":"","stuffed_flatbread":"","egg":"","glass_of_milk":"","peanuts":"","kiwifruit":"","pancakes":"","dumpling":"","fortune_cookie":"","takeout_box":"","chopsticks":"","bowl_with_spoon":"","cup_with_straw":"","coconut":"","broccoli":"","pie":"","pretzel":"","cut_of_meat":"","sandwich":"","canned_food":"","leafy_green":"","mango":"","moon_cake":"","bagel":"","smiling_face_with_3_hearts":"","yawning_face":"","smiling_face_with_tear":"","partying_face":"","woozy_face":"","hot_face":"","cold_face":"","ninja":"","disguised_face":"","pleading_face":"","sari":"","lab_coat":"","goggles":"","hiking_boot":"","womans_flat_shoe":"","crab":"","lion_face":"","scorpion":"","turkey":"","unicorn_face":"","eagle":"","duck":"","bat":"","shark":"","owl":"","fox_face":"","butterfly":"","deer":"","gorilla":"","lizard":"","rhinoceros":"","shrimp":"","squid":"","giraffe_face":"","zebra_face":"","hedgehog":"","sauropod":"","t-rex":"","cricket":"","kangaroo":"","llama":"","peacock":"","hippopotamus":"","parrot":"","raccoon":"","lobster":"","mosquito":"","microbe":"","badger":"","swan":"","mammoth":"","dodo":"","sloth":"","otter":"","orangutan":"","skunk":"","flamingo":"","oyster":"","beaver":"","bison":"","seal":"","guide_dog":"","probing_cane":"","bone":"","leg":"","foot":"","tooth":"","female_superhero":"","male_superhero":"","superhero":"","female_supervillain":"","male_supervillain":"","supervillain":"","safety_vest":"","ear_with_hearing_aid":"","motorized_wheelchair":"","manual_wheelchair":"","mechanical_arm":"","mechanical_leg":"","cheese_wedge":"","cupcake":"","salt":"","beverage_box":"","garlic":"","onion":"","falafel":"","waffle":"","butter":"","mate_drink":"","ice_cube":"","bubble_tea":"","woman_standing":"","man_standing":"","standing_person":"","woman_kneeling":"","man_kneeling":"","kneeling_person":"","deaf_woman":"","deaf_man":"","deaf_person":"","face_with_monocle":"","farmer":"","cook":"","person_feeding_baby":"","mx_claus":"","student":"","singer":"","artist":"","teacher":"","factory_worker":"","technologist":"","office_worker":"","mechanic":"","scientist":"","astronaut":"","firefighter":"","people_holding_hands":"","person_with_probing_cane":"","red_haired_person":"","curly_haired_person":"","bald_person":"","white_haired_person":"","person_in_motorized_wheelchair":"","person_in_manual_wheelchair":"","health_worker":"","judge":"","pilot":"","adult":"","child":"","older_adult":"","woman_with_beard":"","man_with_beard":"","bearded_person":"","person_with_headscarf":"","woman_in_steamy_room":"","man_in_steamy_room":"","person_in_steamy_room":"","woman_climbing":"","person_climbing":"","man_climbing":"","woman_in_lotus_position":"","person_in_lotus_position":"","man_in_lotus_position":"","female_mage":"","mage":"","male_mage":"","female_fairy":"","fairy":"","male_fairy":"","female_vampire":"","vampire":"","male_vampire":"","mermaid":"","merman":"","merperson":"","female_elf":"","male_elf":"","elf":"","female_genie":"","male_genie":"","genie":"","female_zombie":"","male_zombie":"","zombie":"","brain":"","orange_heart":"","billed_cap":"","scarf":"","gloves":"","coat":"","socks":"","red_envelope":"","firecracker":"","jigsaw":"","test_tube":"","petri_dish":"","dna":"","compass":"","abacus":"","fire_extinguisher":"","toolbox":"","bricks":"","magnet":"","luggage":"","lotion_bottle":"","thread":"","yarn":"","safety_pin":"","teddy_bear":"","broom":"","basket":"","roll_of_paper":"","soap":"","sponge":"","receipt":"","nazar_amulet":"","ballet_shoes":"","one-piece_swimsuit":"","briefs":"","shorts":"","thong_sandal":"","drop_of_blood":"","adhesive_bandage":"","stethoscope":"","yo-yo":"","kite":"","parachute":"","boomerang":"","magic_wand":"","pinata":"","nesting_dolls":"","ringed_planet":"","chair":"","razor":"","axe":"","diya_lamp":"","banjo":"","military_helmet":"","accordion":"","long_drum":"","coin":"","carpentry_saw":"","screwdriver":"","ladder":"","hook":"","mirror":"","window":"","plunger":"","sewing_needle":"","knot":"","bucket":"","mouse_trap":"","toothbrush":"","headstone":"","placard":"","rock":"","fly":"","worm":"","beetle":"","cockroach":"","potted_plant":"","wood":"","feather":"","anatomical_heart":"","lungs":"","people_hugging":"","blueberries":"","bell_pepper":"","olive":"","flatbread":"","tamale":"","fondue":"","teapot":"","bangbang":"","interrobang":"","tm":"","information_source":"","left_right_arrow":"","arrow_up_down":"","arrow_upper_left":"","arrow_upper_right":"","arrow_lower_right":"","arrow_lower_left":"","leftwards_arrow_with_hook":"","arrow_right_hook":"","watch":"","hourglass":"","keyboard":"","eject":"","fast_forward":"","rewind":"","arrow_double_up":"","arrow_double_down":"","black_right_pointing_double_triangle_with_vertical_bar":"","black_left_pointing_double_triangle_with_vertical_bar":"","black_right_pointing_triangle_with_double_vertical_bar":"","alarm_clock":"","stopwatch":"","timer_clock":"","hourglass_flowing_sand":"","double_vertical_bar":"","black_square_for_stop":"","black_circle_for_record":"","m":"","black_small_square":"","white_small_square":"","arrow_forward":"","arrow_backward":"","white_medium_square":"","black_medium_square":"","white_medium_small_square":"","black_medium_small_square":"","sunny":"","cloud":"","umbrella":"","snowman":"","comet":"","phone":"","telephone":"","ballot_box_with_check":"","shamrock":"","point_up":"","skull_and_crossbones":"","radioactive_sign":"","biohazard_sign":"","orthodox_cross":"","star_and_crescent":"","peace_symbol":"","yin_yang":"","wheel_of_dharma":"","white_frowning_face":"","relaxed":"","female_sign":"","male_sign":"","gemini":"","cancer":"","leo":"","virgo":"","libra":"","scorpius":"","chess_pawn":"","spades":"","clubs":"","hearts":"","diamonds":"","hotsprings":"","recycle":"","infinity":"","wheelchair":"","hammer_and_pick":"","crossed_swords":"","medical_symbol":"","staff_of_aesculapius":"","scales":"","alembic":"","gear":"","atom_symbol":"","fleur_de_lis":"","warning":"","zap":"","transgender_symbol":"","white_circle":"","black_circle":"","coffin":"","funeral_urn":"","soccer":"","baseball":"","snowman_without_snow":"","partly_sunny":"","thunder_cloud_and_rain":"","ophiuchus":"","pick":"","helmet_with_white_cross":"","chains":"","no_entry":"","shinto_shrine":"","church":"","mountain":"","umbrella_on_ground":"","fountain":"","golf":"","ferry":"","boat":"","sailboat":"","skier":"","ice_skate":"","woman-bouncing-ball":"","man-bouncing-ball":"","person_with_ball":"","tent":"","fuelpump":"","scissors":"","airplane":"","email":"","envelope":"","fist":"","hand":"","raised_hand":"","v":"","writing_hand":"","pencil2":"","black_nib":"","heavy_check_mark":"","heavy_multiplication_x":"","latin_cross":"","star_of_david":"","eight_spoked_asterisk":"","eight_pointed_black_star":"","snowflake":"","sparkle":"","x":"","negative_squared_cross_mark":"","heavy_heart_exclamation_mark_ornament":"","heart_on_fire":"","mending_heart":"","heart":"","arrow_right":"","curly_loop":"","loop":"","arrow_heading_up":"","arrow_heading_down":"","arrow_left":"","arrow_up":"","arrow_down":"","black_large_square":"","white_large_square":"","star":"","o":"","wavy_dash":"","part_alternation_mark":"","congratulations":"","secret":""}'),GA=KA,XA=YA,ZA=/:([a-zA-Z0-9_\-\+]+):/g,JA=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function QA(e){var t=e.indexOf(":");return t>-1?t===e.length-1?QA(e=e.substring(0,t)):QA(e=e.substr(t+1)):e}function eI(e){return"string"==typeof e&&e.length>0?":"+e+":":e}var tI=String.fromCharCode(65039),nI=new RegExp(tI,"g");function iI(e){return e.replace(nI,"")}var rI=Object.keys(XA).reduce((function(e,t){return e[iI(XA[t])]=t,e}),{}),oI={emoji:XA};oI._get=function(e){return rI[iI(e)]?e:XA.hasOwnProperty(e)?XA[e]:"string"==typeof(t=e)&&":"!==t[0]?eI(t):t;var t},oI.get=function(e){return e=QA(e),oI._get(e)},oI.find=function(e){return oI.findByName(e)||oI.findByCode(e)},oI.findByName=function(e){var t=QA(e),n=XA[t];return n?{emoji:n,key:t}:void 0},oI.findByCode=function(e){var t=iI(e),n=rI[t];return n?{emoji:XA[n],key:n}:void 0},oI.hasEmoji=function(e){return oI.hasEmojiByName(e)||oI.hasEmojiByCode(e)},oI.hasEmojiByName=function(e){var t=oI.findByName(e);return!!t&&t.key===QA(e)},oI.hasEmojiByCode=function(e){var t=oI.findByCode(e);return!!t&&iI(t.emoji)===iI(e)},oI.which=function(e,t){var n=iI(e),i=rI[n];return t?eI(i):i},oI.emojify=function(e,t,n){return e?e.split(ZA).map((function(e,i){if(i%2==0)return e;var r=oI._get(e),o=r.indexOf(":")>-1;return o&&"function"==typeof t?t(e):o||"function"!=typeof n?r:n(r,e)})).join(""):""},oI.random=function(){var e=Object.keys(XA),t=e[Math.floor(Math.random()*e.length)];return{key:t,emoji:oI._get(t)}},oI.search=function(e){var t=Object.keys(XA),n=QA(e);return t.filter((function(e){return 0===e.toString().indexOf(n)})).map((function(e){return{key:e,emoji:oI._get(e)}}))},oI.unemojify=function(e){return e?GA(e).map((function(e){return oI.which(e,!0)||e})).join(""):""},oI.replace=function(e,t,n){if(!e)return"";var i="function"==typeof t?t:function(){return t},r=GA(e),o=r.map((function(e,t){var o=oI.findByCode(e);return o&&n&&" "===r[t+1]&&(r[t+1]=""),o?i(o):e})).join("");return n?o.replace(JA,""):o},oI.strip=function(e){return oI.replace(e,"",!0)};var sI=oI;const aI=[{name:"angry",emoji:"",tags:["mad","annoyed"],description:"angry face",emoticons:[">:(",">:[",">:-(",">:-[",">=(",">=[",">=-(",">=-["]},{name:"blush",emoji:"",tags:["proud"],description:"smiling face with smiling eyes",emoticons:[':")',':"]',':"D',':-")',':-"]',':-"D','=")','="]','="D','=-")','=-"]','=-"D']},{name:"broken_heart",emoji:"",tags:[],description:"broken heart",emoticons:["<\\3","</3"]},{name:"confused",emoji:"",tags:[],description:"confused face",emoticons:[":/",":\\",":-/",":-\\","=/","=\\","=-/","=-\\"]},{name:"cry",emoji:"",tags:["sad","tear"],description:"crying face",emoticons:[":,(",":,[",":,|",":,-(",":,-[",":,-|",":'(",":'[",":'|",":'-(",":'-[",":'-|","=,(","=,[","=,|","=,-(","=,-[","=,-|","='(","='[","='|","='-(","='-[","='-|"]},{name:"frowning",emoji:"",tags:[],description:"frowning face with open mouth",emoticons:[":(",":[",":-(",":-[","=(","=[","=-(","=-["]},{name:"heart",emoji:"",tags:["love"],description:"red heart",emoticons:["<3"]},{name:"imp",emoji:"",tags:["angry","devil","evil","horns"],description:"angry face with horns",emoticons:["]:(","]:[","]:-(","]:-[","]=(","]=[","]=-(","]=-["]},{name:"innocent",emoji:"",tags:["angel"],description:"smiling face with halo",emoticons:["o:)","o:]","o:D","o:-)","o:-]","o:-D","o=)","o=]","o=D","o=-)","o=-]","o=-D","O:)","O:]","O:D","O:-)","O:-]","O:-D","O=)","O=]","O=D","O=-)","O=-]","O=-D","0:)","0:]","0:D","0:-)","0:-]","0:-D","0=)","0=]","0=D","0=-)","0=-]","0=-D"]},{name:"joy",emoji:"",tags:["tears"],description:"face with tears of joy",emoticons:[":,)",":,]",":,D",":,-)",":,-]",":,-D",":')",":']",":'D",":'-)",":'-]",":'-D","=,)","=,]","=,D","=,-)","=,-]","=,-D","=')","=']","='D","='-)","='-]","='-D"]},{name:"kissing",emoji:"",tags:[],description:"kissing face",emoticons:[":*",":-*","=*","=-*"]},{name:"laughing",emoji:"",tags:["happy","haha"],description:"grinning squinting face",emoticons:["x)","x]","xD","x-)","x-]","x-D","X)","X]","X-)","X-]","X-D"]},{name:"man",emoji:"",tags:["mustache","father","dad"],description:"man",emoticons:[":3",":-3","=3","=-3",";3",";-3","x3","x-3","X3","X-3"]},{name:"neutral_face",emoji:"",tags:["meh"],description:"neutral face",emoticons:[":|",":-|","=|","=-|"]},{name:"no_mouth",emoji:"",tags:["mute","silence"],description:"face without mouth",emoticons:[":-"]},{name:"open_mouth",emoji:"",tags:["surprise","impressed","wow"],description:"face with open mouth",emoticons:[":o",":O",":0",":-o",":-O",":-0","=o","=O","=0","=-o","=-O","=-0"]},{name:"rage",emoji:"",tags:["angry"],description:"pouting face",emoticons:[":@",":-@","=@","=-@"]},{name:"smile",emoji:"",tags:["happy","joy","laugh","pleased"],description:"grinning face with smiling eyes",emoticons:[":D",":-D","=D","=-D"]},{name:"smiley",emoji:"",tags:["happy","joy","haha"],description:"grinning face with big eyes",emoticons:[":)",":]",":-)",":-]","=)","=]","=-)","=-]"]},{name:"smiling_imp",emoji:"",tags:["devil","evil","horns"],description:"smiling face with horns",emoticons:["]:)","]:]","]:D","]:-)","]:-]","]:-D","]=)","]=]","]=D","]=-)","]=-]","]=-D"]},{name:"sob",emoji:"",tags:["sad","cry","bawling"],description:"loudly crying face",emoticons:[":,'(",":,'[",":,'-(",":,'-[",":',(",":',[",":',-(",":',-[","=,'(","=,'[","=,'-(","=,'-[","=',(","=',[","=',-(","=',-["]},{name:"stuck_out_tongue",emoji:"",tags:[],description:"face with tongue",emoticons:[":p",":P",":d",":-p",":-P",":-d","=p","=P","=d","=-p","=-P","=-d"]},{name:"stuck_out_tongue_closed_eyes",emoji:"",tags:["prank"],description:"squinting face with tongue",emoticons:["xP","x-p","x-P","x-d","Xp","Xd","X-p","X-P","X-d"]},{name:"stuck_out_tongue_winking_eye",emoji:"",tags:["prank","silly"],description:"winking face with tongue",emoticons:[";p",";P",";d",";-p",";-P",";-d"]},{name:"sunglasses",emoji:"",tags:["cool"],description:"smiling face with sunglasses",emoticons:["8)","8]","8D","8-)","8-]","8-D","B)","B]","B-)","B-]","B-D"]},{name:"sweat",emoji:"",tags:[],description:"downcast face with sweat",emoticons:[",:(",",:[",",:-(",",:-[",",=(",",=[",",=-(",",=-[","':(","':[","':-(","':-[","'=(","'=[","'=-(","'=-["]},{name:"sweat_smile",emoji:"",tags:["hot"],description:"grinning face with sweat",emoticons:[",:)",",:]",",:D",",:-)",",:-]",",:-D",",=)",",=]",",=D",",=-)",",=-]",",=-D","':)","':]","':D","':-)","':-]","':-D","'=)","'=]","'=D","'=-)","'=-]","'=-D"]},{name:"unamused",emoji:"",tags:["meh"],description:"unamused face",emoticons:[":$",":s",":z",":S",":Z",":-$",":-s",":-z",":-S",":-Z","=$","=s","=z","=S","=Z","=-$","=-s","=-z","=-S","=-Z"]},{name:"wink",emoji:"",tags:["flirt"],description:"winking face",emoticons:[";)",";]",";D",";-)",";-]",";-D"]}],lI=/:\+1:|:-1:|:[\w-]+:/g,cI=/[$@|*'",;.=:\-)([\]\\/<>038BOopPsSdDxXzZ]{2,5}/g,uI=/_/g,hI={padSpaceAfter:!1,emoticon:!1};function dI(e){const t=Object.assign({},hI,e),n=!!t.padSpaceAfter,i=!!t.emoticon;function r(e){const t=aI.find((t=>t.emoticons.includes(e))),i=aI.find((t=>t.emoticons.includes(e.slice(0,-1)))),r=i?e.slice(-1):"",o=n?" ":"";return(t?t.emoji+o:i&&i.emoji+o+r)||e}function o(e){let t=sI.get(e);if(e.endsWith("_man:")&&t===e){const n="man-"+e.slice(1,-5).replace(uI,"-"),i=sI.get(n);i!==n&&(t=i)}else if(e.endsWith("_woman:")&&t===e){const n="woman-"+e.slice(1,-7).replace(uI,"-"),i=sI.get(n);i!==n&&(t=i)}return n&&t!==e?t+" ":t}return function(e){Yb(e,"text",(function(e){e.value=e.value.replace(lI,o),i&&(e.value=e.value.replace(cI,r))}))}}const fI=/:\+1|:-1|:[\w-]+/,pI=/:\+1:|:-1:|:[\w-]+:/,gI=/(:([^:\s]+):)$/;
/*! Copyright Twitter Inc. and other contributors. Licensed under MIT */
var mI=function(){var e={base:"https://twemoji.maxcdn.com/v/13.1.0/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:function(e){var t="string"==typeof e?parseInt(e,16):e;if(t<65536)return a(t);return a(55296+((t-=65536)>>10),56320+(1023&t))},toCodePoint:v},onerror:function(){this.parentNode&&this.parentNode.replaceChild(l(this.alt,!1),this)},parse:function(t,n){n&&"function"!=typeof n||(n={callback:n});return("string"==typeof t?f:d)(t,{callback:n.callback||c,attributes:"function"==typeof n.attributes?n.attributes:g,base:"string"==typeof n.base?n.base:e.base,ext:n.ext||e.ext,size:n.folder||(i=n.size||e.size,"number"==typeof i?i+"x"+i:i),className:n.className||e.className,onerror:n.onerror||e.onerror});var i},replace:m,test:function(e){n.lastIndex=0;var t=n.test(e);return n.lastIndex=0,t}},t={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},n=/(?:\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d\udc8f\ud83c[\udffb-\udfff]|\ud83d\udc91\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d\udc8f\udc91])|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd4\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\ude36\u200d\ud83c\udf2b\ufe0f|\u2764\ufe0f\u200d\ud83d\udd25|\u2764\ufe0f\u200d\ud83e\ude79|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83d\ude2e\u200d\ud83d\udca8|\ud83d\ude35\u200d\ud83d\udcab|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udc8e\udc90\udc92-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udeeb\udeec\udef4-\udefc\udfe0-\udfeb]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78\udd7a-\uddb4\uddb7\uddba\uddbc-\uddcb\uddd0\uddde-\uddff\ude70-\ude74\ude78-\ude7a\ude80-\ude86\ude90-\udea8\udeb0-\udeb6\udec0-\udec2\uded0-\uded6]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,i=/\uFE0F/g,r=String.fromCharCode(8205),o=/[&<>'"]/g,s=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,a=String.fromCharCode;return e;function l(e,t){return document.createTextNode(t?e.replace(i,""):e)}function c(e,t){return"".concat(t.base,t.size,"/",e,t.ext)}function u(e,t){for(var n,i,r=e.childNodes,o=r.length;o--;)3===(i=(n=r[o]).nodeType)?t.push(n):1!==i||"ownerSVGElement"in n||s.test(n.nodeName.toLowerCase())||u(n,t);return t}function h(e){return v(e.indexOf(r)<0?e.replace(i,""):e)}function d(e,t){for(var i,r,o,s,a,c,d,f,p,g,m,v,y,b=u(e,[]),_=b.length;_--;){for(o=!1,s=document.createDocumentFragment(),c=(a=b[_]).nodeValue,f=0;d=n.exec(c);){if((p=d.index)!==f&&s.appendChild(l(c.slice(f,p),!0)),v=h(m=d[0]),f=p+m.length,y=t.callback(v,t),v&&y){for(r in(g=new Image).onerror=t.onerror,g.setAttribute("draggable","false"),i=t.attributes(m,v))i.hasOwnProperty(r)&&0!==r.indexOf("on")&&!g.hasAttribute(r)&&g.setAttribute(r,i[r]);g.className=t.className,g.alt=m,g.src=y,o=!0,s.appendChild(g)}g||s.appendChild(l(m,!1)),g=null}o&&(f<c.length&&s.appendChild(l(c.slice(f),!0)),a.parentNode.replaceChild(s,a))}return e}function f(e,t){return m(e,(function(e){var n,i,r=e,s=h(e),a=t.callback(s,t);if(s&&a){for(i in r="<img ".concat('class="',t.className,'" ','draggable="false" ','alt="',e,'"',' src="',a,'"'),n=t.attributes(e,s))n.hasOwnProperty(i)&&0!==i.indexOf("on")&&-1===r.indexOf(" "+i+"=")&&(r=r.concat(" ",i,'="',n[i].replace(o,p),'"'));r=r.concat("/>")}return r}))}function p(e){return t[e]}function g(){return null}function m(e,t){return String(e).replace(n,t)}function v(e,t){for(var n=[],i=0,r=0,o=0;o<e.length;)i=e.charCodeAt(o++),r?(n.push((65536+(r-55296<<10)+(i-56320)).toString(16)),r=0):55296<=i&&i<=56319?r=i:n.push(i.toString(16));return n.join(t||"-")}}();const vI=e=>mI.parse(e,{attributes:e=>({title:e})}),yI=({size:e,mixin:t,palette:n,font:i})=>{var r,o;return ix`
        position: absolute;
        &.hide {
            display: none;
        }

        ${null===(r=t.border)||void 0===r?void 0:r.call(t)};
        border-radius: ${e.radius};
        background: ${n("surface")};
        ${null===(o=t.shadow)||void 0===o?void 0:o.call(t)};

        .milkdown-emoji-filter_item {
            display: flex;
            gap: 0.5rem;
            height: 2.25rem;
            padding: 0 1rem;
            align-items: center;
            justify-content: flex-start;
            cursor: pointer;
            line-height: 2;
            font-family: ${i.typography};
            font-size: 0.875rem;
            &.active {
                background: ${n("secondary",.12)};
                color: ${n("primary")};
            }
        }

        .emoji {
            height: 1em;
            width: 1em;
            margin: 0 0.05em 0 0.1em;
            vertical-align: -0.1em;
        }
    `},bI=e=>{let t=!1,n=0,i="",r=null;const o=()=>{t=!1,n=0,i="",r=null};return new uf({props:{handleKeyDown:(e,n)=>["Delete","Backspace"].includes(n.key)?(i=i.slice(0,-1),i.length<=1&&o(),!1):!!t&&!!["ArrowUp","ArrowDown","Enter"].includes(n.key),handleTextInput:(e,r,s,a)=>(t=((e,t,n,i,r,o)=>{if(e.composing)return!1;const{state:s}=e,a=s.doc.resolve(t);if(a.parent.type.spec.code)return!1;const l=a.parent.textBetween(Math.max(0,a.parentOffset-10),a.parentOffset,void 0,"")+i;if(pI.test(l))return!1;const c=fI.exec(l);if(c&&l.endsWith(c[0])){const e=c[0];return r(t-(e.length-i.length),n),o(e),!0}return!1})(e,r,s,a,(e=>{n=e}),(e=>{i=e})),t||o(),!1)},view:s=>{const{parentNode:a}=s.dom;if(!a)throw new Error;const l=document.createElement("div"),c=e.getStyle(yI);c&&l.classList.add(c),l.classList.add("milkdown-emoji-filter","hide");const u=()=>{var e;if(!r)return;const{tr:t}=s.state,a=s.state.schema.node("emoji",{html:null===(e=r.firstElementChild)||void 0===e?void 0:e.innerHTML});s.dispatch(t.delete(n,n+i.length).insert(n,a)),o(),l.classList.add("hide")};return a.appendChild(l),a.addEventListener("keydown",(e=>{if(!(t&&e instanceof KeyboardEvent))return;const{key:n}=e;if("Enter"!==n){if(["ArrowDown","ArrowUp"].includes(n)){const e="ArrowDown"===n?(null==r?void 0:r.nextElementSibling)||l.firstElementChild:(null==r?void 0:r.previousElementSibling)||l.lastElementChild;if(r&&r.classList.remove("active"),!e)return;return e.classList.add("active"),void(r=e)}}else u()})),a.addEventListener("mousedown",(e=>{t&&(e.stopPropagation(),o(),l.classList.add("hide"))})),{update:e=>{if(!t)return l.classList.add("hide"),null;const o=sI.search(i).slice(0,5),{node:s}=e.domAtPos(n);return 0!==o.length&&s?(l.classList.remove("hide"),((e,t,n,i,r)=>{t.innerHTML="",e.forEach((({emoji:e,key:o},s)=>{const a=document.createElement("div");a.className="milkdown-emoji-filter_item";const l=document.createElement("span");l.innerHTML=vI(e),l.className="milkdown-emoji-filter_item-emoji";const c=document.createElement("span");c.textContent=":"+o+":",c.className="milkdown-emoji-filter_item-key",a.appendChild(l),a.appendChild(c),t.appendChild(a),0===s&&(a.classList.add("active"),r(a)),a.addEventListener("mouseenter",(e=>{n&&n.classList.remove("active");const{target:t}=e;t instanceof HTMLElement&&(t.classList.add("active"),r(t))})),a.addEventListener("mouseleave",(e=>{const{target:t}=e;t instanceof HTMLElement&&t.classList.remove("active")})),a.addEventListener("mousedown",(e=>{i(),e.preventDefault()}))}))})(o,l,r,u,(e=>{r=e})),$m(e,l,((t,i,r)=>{const o=e.coordsAtPos(n);let s=o.left-r.left,a=t.bottom-r.top+14;return s<0&&(s=0),window.innerHeight-o.bottom<i.height&&(a=t.top-r.top-i.height-14),[a,s]})),null):(l.classList.add("hide"),null)}}}})};!function(e,t){void 0===t&&(t={});var n=t.insertAt;if("undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}('@keyframes show {\n  0% {\n    opacity: 0;\n    transform: scale3d(0.8, 0.8, 0.8);\n  }\n\n  50% {\n    transform: scale3d(1.05, 1.05, 1.05);\n  }\n\n  100% {\n    transform: scale3d(1, 1, 1);\n  }\n}\n\n@keyframes hide {\n  0% {\n    opacity: 1;\n    transform: scale3d(1, 1, 1);\n  }\n\n  100% {\n    opacity: 0;\n    transform: scale3d(0.8, 0.8, 0.8);\n  }\n}\n\n@keyframes grow {\n  0% {\n    opacity: 0;\n    transform: scale3d(0.8, 0.8, 0.8); \n  }\n\n  100% { \n    opacity: 1;\n    transform: scale3d(1, 1, 1); \n  }\n}\n\n@keyframes shrink {\n  0% { \n    opacity: 1;\n    transform: scale3d(1, 1, 1);\n  }\n\n  100% { \n    opacity: 0;\n    transform: scale3d(0.8, 0.8, 0.8); \n  }\n}\n\n@keyframes fade-in {\n  0% { opacity: 0; }\n  100% { opacity: 1; }\n}\n\n@keyframes fade-out {\n  0% { opacity: 1; }\n  100% { opacity: 0; }\n}\n\n.emoji-picker {\n  --animation-duration: 0.2s;\n  --animation-easing: ease-in-out;\n\n  --emoji-size: 1.8em;\n  --emoji-size-multiplier: 1.5;\n  --emoji-preview-size: 2em;\n  --emoji-per-row: 8;\n  --row-count: 6;\n\n  --content-height: calc((var(--emoji-size) * var(--emoji-size-multiplier)) * var(--row-count) + var(--category-name-size) + var(--category-button-height) + 0.5em);\n\n  --category-name-size: 0.85em;\n\n  --category-button-height: 2em;\n  --category-button-size: 1.1em;\n  --category-border-bottom-size: 4px;\n\n  --focus-indicator-color: #999999;\n\n  --search-height: 2em;\n\n  --blue-color: #4F81E5;\n\n  --border-color: #CCCCCC;\n  --background-color: #FFFFFF;\n  --text-color: #000000;\n  --secondary-text-color: #666666;\n  --hover-color: #E8F4F9;\n  --search-focus-border-color: var(--blue-color);\n  --search-icon-color: #CCCCCC;\n  --overlay-background-color: rgba(0, 0, 0, 0.8);\n  --popup-background-color: #FFFFFF;\n  --category-button-color: #666666;\n  --category-button-active-color: var(--blue-color);\n\n  --dark-border-color: #666666;\n  --dark-background-color: #333333;\n  --dark-text-color: #FFFFFF;\n  --dark-secondary-text-color: #999999;\n  --dark-hover-color: #666666;\n  --dark-search-background-color: #666666;\n  --dark-search-border-color: #999999;\n  --dark-search-placeholder-color: #999999;\n  --dark-search-focus-border-color: #DBE5F9;\n  --dark-popup-background-color: #333333;\n  --dark-category-button-color: #FFFFFF;\n\n  --font: Arial, Helvetica, sans-serif;\n  --font-size: 16px;\n}\n\n.emoji-picker {\n  font-size: var(--font-size);\n  border: 1px solid var(--border-color);\n  border-radius: 5px;\n  background: var(--background-color);\n  width: calc(var(--emoji-per-row) * var(--emoji-size) * var(--emoji-size-multiplier) + 1em + 1.5rem);\n  font-family: var(--font);\n  overflow: hidden;\n  animation: show var(--animation-duration) var(--animation-easing);\n}\n\n.emoji-picker * {\n  font-family: var(--font);\n  box-sizing: content-box;\n}\n\n.emoji-picker__overlay {\n  background: rgba(0, 0, 0, 0.75);\n  z-index: 1000;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.emoji-picker.hiding {\n  animation: hide var(--animation-duration) var(--animation-easing);\n}\n\n.emoji-picker.dark {\n  background: var(--dark-background-color);\n  color: var(--dark-text-color);\n  border-color: var(--dark-border-color);\n}\n\n.emoji-picker__content {\n  padding: 0.5em;\n  height: var(--content-height);\n  position: relative;\n}\n\n.emoji-picker__preview {\n  height: var(--emoji-preview-size);\n  padding: 0.5em;\n  border-top: 1px solid var(--border-color);\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n\n.emoji-picker.dark .emoji-picker__preview {\n  border-top-color: var(--dark-border-color);\n}\n\n.emoji-picker__preview-emoji {\n  font-size: var(--emoji-preview-size);\n  margin-right: 0.25em;\n  font-family: "Segoe UI Emoji", "Segoe UI Symbol", "Segoe UI", "Apple Color Emoji", "Twemoji Mozilla", "Noto Color Emoji", "EmojiOne Color", "Android Emoji";\n}\n\n.emoji-picker__preview-emoji img.emoji {\n  height: 1em;\n  width: 1em;\n  margin: 0 .05em 0 .1em;\n  vertical-align: -0.1em;\n}\n\n.emoji-picker__preview-name {\n  color: var(--text-color);\n  font-size: 0.85em;\n  overflow-wrap: break-word;\n  word-break: break-all;\n}\n\n.emoji-picker.dark .emoji-picker__preview-name {\n  color: var(--dark-text-color);\n}\n\n.emoji-picker__container {\n  display: grid;\n  justify-content: center;\n  grid-template-columns: repeat(var(--emoji-per-row), calc(var(--emoji-size) * var(--emoji-size-multiplier)));\n  grid-auto-rows: calc(var(--emoji-size) * var(--emoji-size-multiplier));\n}\n\n.emoji-picker__container.search-results {\n  height: var(--content-height);\n  overflow-y: auto;\n}\n\n.emoji-picker__custom-emoji {\n  width: 1em;\n  height: 1em;\n}\n\n.emoji-picker__emoji {\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  overflow: hidden;\n  font-size: var(--emoji-size);\n  width: 1.5em;\n  height: 1.5em;\n  padding: 0;\n  margin: 0;\n  outline: none;\n  font-family: "Segoe UI Emoji", "Segoe UI Symbol", "Segoe UI", "Apple Color Emoji", "Twemoji Mozilla", "Noto Color Emoji", "EmojiOne Color", "Android Emoji";\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.emoji-picker__emoji img.emoji {\n  height: 1em;\n  width: 1em;\n  margin: 0 .05em 0 .1em;\n  vertical-align: -0.1em;\n}\n\n.emoji-picker__emoji:focus, .emoji-picker__emoji:hover {\n  background: var(--hover-color);\n}\n\n.emoji-picker__emoji:focus {\n  outline: 1px dotted var(--focus-indicator-color);\n}\n\n.emoji-picker.dark .emoji-picker__emoji:focus, .emoji-picker.dark .emoji-picker__emoji:hover {\n  background: var(--dark-hover-color);\n}\n\n.emoji-picker__plugin-container {\n  margin: 0.5em;\n  display: flex;\n  flex-direction: row;\n}\n\n.emoji-picker__search-container {\n  margin: 0.5em;\n  position: relative;\n  height: var(--search-height);\n  display: flex;\n}\n\n.emoji-picker__search {\n  box-sizing: border-box;\n  width: 100%;\n  border-radius: 3px;\n  border: 1px solid var(--border-color);\n  padding-right: 2em;\n  padding: 0.5em 2.25em 0.5em 0.5em;\n  font-size: 0.85em;\n  outline: none;\n}\n\n.emoji-picker.dark .emoji-picker__search {\n  background: var(--dark-search-background-color);\n  color: var(--dark-text-color);\n  border-color: var(--dark-search-border-color);\n}\n\n.emoji-picker.dark .emoji-picker__search::placeholder {\n  color: var(--dark-search-placeholder-color);\n}\n\n.emoji-picker__search:focus {\n  border: 1px solid var(--search-focus-border-color);\n}\n\n.emoji-picker.dark .emoji-picker__search:focus {\n  border-color: var(--dark-search-focus-border-color);\n}\n\n.emoji-picker__search-icon {\n  position: absolute;\n  color: var(--search-icon-color);\n  width: 1em;\n  height: 1em;\n  right: 0.75em;\n  top: calc(50% - 0.5em);\n}\n\n.emoji-picker__search-icon img {\n  width: 1em;\n  height: 1em;\n}\n\n.emoji-picker__search-not-found {\n  color: var(--secondary-text-color);\n  text-align: center;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.emoji-picker__search-not-found h2 {\n  color: var(--secondary-text-color);\n}\n\n.emoji-picker.dark .emoji-picker__search-not-found {\n  color: var(--dark-secondary-text-color);\n}\n\n.emoji-picker.dark .emoji-picker__search-not-found h2 {\n  color: var(--dark-secondary-text-color);\n}\n\n.emoji-picker__search-not-found-icon {\n  font-size: 3em;\n}\n\n.emoji-picker__search-not-found-icon img {\n  width: 1em;\n  height: 1em;\n}\n\n.emoji-picker__search-not-found h2 {\n  margin: 0.5em 0;\n  font-size: 1em;\n}\n\n.emoji-picker__variant-overlay {\n  background: var(--overlay-background-color);\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  border-radius: 5px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  animation: fade-in var(--animation-duration) var(--animation-easing);\n}\n\n.emoji-picker__variant-overlay.hiding {\n  animation: fade-out var(--animation-duration) var(--animation-easing);\n}\n\n.emoji-picker__variant-popup {\n  background: var(--popup-background-color);\n  margin: 0.5em;\n  padding: 0.5em;\n  text-align: center;\n  border-radius: 5px;\n  animation: grow var(--animation-duration) var(--animation-easing);\n  user-select: none;\n}\n\n.emoji-picker__variant-overlay.hiding .emoji-picker__variant-popup {\n  animation: shrink var(--animation-duration) var(--animation-easing);\n}\n\n.emoji-picker.dark .emoji-picker__variant-popup {\n  background: var(--dark-popup-background-color);\n}\n\n.emoji-picker__emojis {\n  overflow-y: auto;\n  position: relative;\n  height: calc((var(--emoji-size) * var(--emoji-size-multiplier)) * var(--row-count) + var(--category-name-size));\n}\n\n.emoji-picker__emojis.hiding {\n  animation: fade-out 0.05s var(--animation-easing);\n}\n\n.emoji-picker__emojis h2.emoji-picker__category-name {\n  font-size: 0.85em;\n  color: var(--secondary-text-color);\n  text-transform: uppercase;\n  margin: 0.25em 0;\n  text-align: left;\n}\n\n.emoji-picker.dark h2.emoji-picker__category-name {\n  color: var(--dark-secondary-text-color);\n}\n\n.emoji-picker__category-buttons {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  height: var(--category-button-height);\n  margin-bottom: 0.5em;\n}\n\nbutton.emoji-picker__category-button {\n  flex-grow: 1;\n  background: transparent;\n  padding: 0;\n  border: none;\n  cursor: pointer;\n  font-size: var(--category-button-size);\n  vertical-align: middle;\n  color: var(--category-button-color);\n  border-bottom: var(--category-border-bottom-size) solid transparent;\n  outline: none;\n}\n\nbutton.emoji-picker__category-button img {\n  width: var(--category-button-size);\n  height: var(--category-button-size);\n}\n\n.emoji-picker.keyboard button.emoji-picker__category-button:focus {\n  outline: 1px dotted var(--focus-indicator-color);\n}\n\n.emoji-picker.dark button.emoji-picker__category-button.active {\n  color: var(--category-button-active-color);\n}\n\n.emoji-picker.dark button.emoji-picker__category-button {\n  color: var(--dark-category-button-color);\n}\n\nbutton.emoji-picker__category-button.active {\n  color: var(--category-button-active-color);\n  border-bottom: var(--category-border-bottom-size) solid var(--category-button-active-color);\n}\n\n@media (prefers-color-scheme: dark) {\n  .emoji-picker.auto {\n    background: var(--dark-background-color);\n    color: var(--dark-text-color);\n    border-color: var(--dark-border-color);\n  }\n\n  .emoji-picker.auto .emoji-picker__preview {\n    border-top-color: var(--dark-border-color);\n  }\n\n  .emoji-picker.auto .emoji-picker__preview-name {\n    color: var(--dark-text-color);\n  }\n\n  .emoji-picker.auto button.emoji-picker__category-button {\n    color: var(--dark-category-button-color);\n  }\n\n  .emoji-picker.auto button.emoji-picker__category-button.active {\n    color: var(--category-button-active-color);\n  }\n\n  .emoji-picker.auto .emoji-picker__emoji:focus, .emoji-picker.auto .emoji-picker__emoji:hover {\n    background: var(--dark-hover-color);\n  }\n\n  .emoji-picker.auto .emoji-picker__search {\n    background: var(--dark-search-background-color);\n    color: var(--dark-text-color);\n    border-color: var(--dark-search-border-color);\n  }\n \n  .emoji-picker.auto h2.emoji-picker__category-name {\n    color: var(--dark-secondary-text-color);\n  }\n\n  .emoji-picker.auto .emoji-picker__search::placeholder {\n    color: var(--dark-search-placeholder-color);\n  }\n\n  .emoji-picker.auto .emoji-picker__search:focus {\n    border-color: var(--dark-search-focus-border-color);\n  }\n\n  .emoji-picker.auto .emoji-picker__search-not-found {\n    color: var(--dark-secondary-text-color);\n  }\n\n  .emoji-picker.auto .emoji-picker__search-not-found h2 {\n    color: var(--dark-secondary-text-color);\n  }\n\n  .emoji-picker.auto .emoji-picker__variant-popup {\n    background: var(--dark-popup-background-color);\n  }\n}');var _I=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'],wI=_I.join(","),CI="undefined"==typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;function xI(e,t){t=t||{};var n,i,r,o=[],s=[],a=e.querySelectorAll(wI);for(t.includeContainer&&CI.call(e,wI)&&(a=Array.prototype.slice.apply(a)).unshift(e),n=0;n<a.length;n++)kI(i=a[n])&&(0===(r=EI(i))?o.push(i):s.push({documentOrder:n,tabIndex:r,node:i}));return s.sort(LI).map((function(e){return e.node})).concat(o)}function kI(e){return!(!SI(e)||(t=e,TI(n=t)&&"radio"===n.type&&!function(e){if(!e.name)return!0;var t=function(e){for(var t=0;t<e.length;t++)if(e[t].checked)return e[t]}(e.ownerDocument.querySelectorAll('input[type="radio"][name="'+e.name+'"]'));return!t||t===e}(t))||EI(e)<0);var t,n}function SI(e){return!(e.disabled||(t=e,TI(t)&&"hidden"===t.type)||function(e){return null===e.offsetParent||"hidden"===getComputedStyle(e).visibility}(e));var t}xI.isTabbable=function(e){if(!e)throw new Error("No node provided");return!1!==CI.call(e,wI)&&kI(e)},xI.isFocusable=function(e){if(!e)throw new Error("No node provided");return!1!==CI.call(e,DI)&&SI(e)};var DI=_I.concat("iframe").join(",");function EI(e){var t=parseInt(e.getAttribute("tabindex"),10);return isNaN(t)?"true"===e.contentEditable?0:e.tabIndex:t}function LI(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex}function TI(e){return"INPUT"===e.tagName}var NI,MI,AI=xI,II=Object.prototype.hasOwnProperty,OI=(MI=[],{activateTrap:function(e){if(MI.length>0){var t=MI[MI.length-1];t!==e&&t.pause()}var n=MI.indexOf(e);-1===n||MI.splice(n,1),MI.push(e)},deactivateTrap:function(e){var t=MI.indexOf(e);-1!==t&&MI.splice(t,1),MI.length>0&&MI[MI.length-1].unpause()}});function FI(e){return setTimeout(e,0)}var RI=function(e,t){var n=document,i="string"==typeof e?n.querySelector(e):e,r=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)II.call(n,i)&&(e[i]=n[i])}return e}({returnFocusOnDeactivate:!0,escapeDeactivates:!0},t),o={firstTabbableNode:null,lastTabbableNode:null,nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1},s={activate:function(e){if(!o.active){m(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=n.activeElement;var t=e&&e.onActivate?e.onActivate:r.onActivate;return t&&t(),l(),s}},deactivate:a,pause:function(){!o.paused&&o.active&&(o.paused=!0,c())},unpause:function(){o.paused&&o.active&&(o.paused=!1,m(),l())}};return s;function a(e){if(o.active){clearTimeout(NI),c(),o.active=!1,o.paused=!1,OI.deactivateTrap(s);var t=e&&void 0!==e.onDeactivate?e.onDeactivate:r.onDeactivate;return t&&t(),(e&&void 0!==e.returnFocus?e.returnFocus:r.returnFocusOnDeactivate)&&FI((function(){var e;v((e=o.nodeFocusedBeforeActivation,u("setReturnFocus")||e))})),s}}function l(){if(o.active)return OI.activateTrap(s),NI=FI((function(){v(h())})),n.addEventListener("focusin",f,!0),n.addEventListener("mousedown",d,{capture:!0,passive:!1}),n.addEventListener("touchstart",d,{capture:!0,passive:!1}),n.addEventListener("click",g,{capture:!0,passive:!1}),n.addEventListener("keydown",p,{capture:!0,passive:!1}),s}function c(){if(o.active)return n.removeEventListener("focusin",f,!0),n.removeEventListener("mousedown",d,!0),n.removeEventListener("touchstart",d,!0),n.removeEventListener("click",g,!0),n.removeEventListener("keydown",p,!0),s}function u(e){var t=r[e],i=t;if(!t)return null;if("string"==typeof t&&!(i=n.querySelector(t)))throw new Error("`"+e+"` refers to no known node");if("function"==typeof t&&!(i=t()))throw new Error("`"+e+"` did not return a node");return i}function h(){var e;if(!(e=null!==u("initialFocus")?u("initialFocus"):i.contains(n.activeElement)?n.activeElement:o.firstTabbableNode||u("fallbackFocus")))throw new Error("Your focus-trap needs to have at least one focusable element");return e}function d(e){i.contains(e.target)||(r.clickOutsideDeactivates?a({returnFocus:!AI.isFocusable(e.target)}):r.allowOutsideClick&&r.allowOutsideClick(e)||e.preventDefault())}function f(e){i.contains(e.target)||e.target instanceof Document||(e.stopImmediatePropagation(),v(o.mostRecentlyFocusedNode||h()))}function p(e){if(!1!==r.escapeDeactivates&&("Escape"===(t=e).key||"Esc"===t.key||27===t.keyCode))return e.preventDefault(),void a();var t;(function(e){return"Tab"===e.key||9===e.keyCode})(e)&&function(e){if(m(),e.shiftKey&&e.target===o.firstTabbableNode)return e.preventDefault(),void v(o.lastTabbableNode);e.shiftKey||e.target!==o.lastTabbableNode||(e.preventDefault(),v(o.firstTabbableNode))}(e)}function g(e){r.clickOutsideDeactivates||i.contains(e.target)||r.allowOutsideClick&&r.allowOutsideClick(e)||(e.preventDefault(),e.stopImmediatePropagation())}function m(){var e=AI(i);o.firstTabbableNode=e[0]||h(),o.lastTabbableNode=e[e.length-1]||h()}function v(e){var t;e!==n.activeElement&&(e&&e.focus?(e.focus(),o.mostRecentlyFocusedNode=e,(t=e).tagName&&"input"===t.tagName.toLowerCase()&&"function"==typeof t.select&&e.select()):v(h()))}};function PI(){}PI.prototype={on:function(e,t,n){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var i=this;function r(){i.off(e,r),t.apply(n,arguments)}return r._=t,this.on(e,r,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),i=0,r=n.length;i<r;i++)n[i].fn.apply(n[i].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),i=n[e],r=[];if(i&&t)for(var o=0,s=i.length;o<s;o++)i[o].fn!==t&&i[o].fn._!==t&&r.push(i[o]);return r.length?n[e]=r:delete n[e],this}};var BI=PI;function jI(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}function zI(e){if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t?t.defaultView:window}return e}function VI(e){var t=zI(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function WI(e){return e instanceof zI(e).Element||e instanceof Element}function HI(e){return e instanceof zI(e).HTMLElement||e instanceof HTMLElement}function UI(e){return e?(e.nodeName||"").toLowerCase():null}function $I(e){return(WI(e)?e.ownerDocument:e.document).documentElement}function qI(e){return jI($I(e)).left+VI(e).scrollLeft}function KI(e){return zI(e).getComputedStyle(e)}function YI(e){var t=KI(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function GI(e,t,n){void 0===n&&(n=!1);var i,r,o=$I(t),s=jI(e),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return n||(("body"!==UI(t)||YI(o))&&(a=(i=t)!==zI(i)&&HI(i)?{scrollLeft:(r=i).scrollLeft,scrollTop:r.scrollTop}:VI(i)),HI(t)?((l=jI(t)).x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=qI(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function XI(e){return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}}function ZI(e){return"html"===UI(e)?e:e.assignedSlot||e.parentNode||e.host||$I(e)}function JI(e){return["html","body","#document"].indexOf(UI(e))>=0?e.ownerDocument.body:HI(e)&&YI(e)?e:JI(ZI(e))}function QI(e,t){void 0===t&&(t=[]);var n=JI(e),i="body"===UI(n),r=zI(n),o=i?[r].concat(r.visualViewport||[],YI(n)?n:[]):n,s=t.concat(o);return i?s:s.concat(QI(ZI(o)))}function eO(e){return["table","td","th"].indexOf(UI(e))>=0}function tO(e){return HI(e)&&"fixed"!==KI(e).position?e.offsetParent:null}function nO(e){for(var t=zI(e),n=tO(e);n&&eO(n);)n=tO(n);return n&&"body"===UI(n)&&"static"===KI(n).position?t:n||t}PI.TinyEmitter=BI;var iO="top",rO="bottom",oO="right",sO="left",aO=[iO,rO,oO,sO],lO=aO.reduce((function(e,t){return e.concat([t+"-start",t+"-end"])}),[]),cO=[].concat(aO,["auto"]).reduce((function(e,t){return e.concat([t,t+"-start",t+"-end"])}),[]),uO=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function hO(e){var t=new Map,n=new Set,i=[];function r(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var i=t.get(e);i&&r(i)}})),i.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||r(e)})),i}function dO(e){return e.split("-")[0]}var fO={placement:"bottom",modifiers:[],strategy:"absolute"};function pO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}var gO={passive:!0};function mO(e){return e.split("-")[1]}function vO(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function yO(e){var t,n=e.reference,i=e.element,r=e.placement,o=r?dO(r):null,s=r?mO(r):null,a=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2;switch(o){case iO:t={x:a,y:n.y-i.height};break;case rO:t={x:a,y:n.y+n.height};break;case oO:t={x:n.x+n.width,y:l};break;case sO:t={x:n.x-i.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?vO(o):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case"start":t[c]=Math.floor(t[c])-Math.floor(n[u]/2-i[u]/2);break;case"end":t[c]=Math.floor(t[c])+Math.ceil(n[u]/2-i[u]/2)}}return t}var bO={top:"auto",right:"auto",bottom:"auto",left:"auto"};function _O(e){var t,n,i,r,o,s=e.popper,a=e.popperRect,l=e.placement,c=e.offsets,u=e.position,h=e.gpuAcceleration,d=e.adaptive,f=(i=(n=c).x,r=n.y,o=window.devicePixelRatio||1,{x:Math.round(i*o)/o||0,y:Math.round(r*o)/o||0}),p=f.x,g=f.y,m=c.hasOwnProperty("x"),v=c.hasOwnProperty("y"),y=sO,b=iO,_=window;if(d){var w=nO(s);w===zI(s)&&(w=$I(s)),l===iO&&(b=rO,g-=w.clientHeight-a.height,g*=h?1:-1),l===sO&&(y=oO,p-=w.clientWidth-a.width,p*=h?1:-1)}var C,x=Object.assign({position:u},d&&bO);return h?Object.assign({},x,((C={})[b]=v?"0":"",C[y]=m?"0":"",C.transform=(_.devicePixelRatio||1)<2?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",C)):Object.assign({},x,((t={})[b]=v?g+"px":"",t[y]=m?p+"px":"",t.transform="",t))}var wO={left:"right",right:"left",bottom:"top",top:"bottom"};function CO(e){return e.replace(/left|right|bottom|top/g,(function(e){return wO[e]}))}var xO={start:"end",end:"start"};function kO(e){return e.replace(/start|end/g,(function(e){return xO[e]}))}function SO(e){return parseFloat(e)||0}function DO(e,t){var n=Boolean(t.getRootNode&&t.getRootNode().host);if(e.contains(t))return!0;if(n){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function EO(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function LO(e,t){return"viewport"===t?EO((n=zI(e),i=n.visualViewport,r=n.innerWidth,o=n.innerHeight,i&&/iPhone|iPod|iPad/.test(navigator.platform)&&(r=i.width,o=i.height),{width:r,height:o,x:0,y:0})):HI(t)?jI(t):EO(function(e){var t=zI(e),n=VI(e),i=GI($I(e),t);return i.height=Math.max(i.height,t.innerHeight),i.width=Math.max(i.width,t.innerWidth),i.x=-n.scrollLeft,i.y=-n.scrollTop,i}($I(e)));var n,i,r,o}function TO(e,t,n){var i,r,o,s="clippingParents"===t?(r=QI(i=e),WI(o=["absolute","fixed"].indexOf(KI(i).position)>=0&&HI(i)?nO(i):i)?r.filter((function(e){return WI(e)&&DO(e,o)})):[]):[].concat(t),a=[].concat(s,[n]),l=a[0],c=a.reduce((function(t,n){var i=LO(e,n),r=function(e){var t,n,i=zI(e),r={top:SO((n=HI(t=e)?KI(t):{}).borderTopWidth),right:SO(n.borderRightWidth),bottom:SO(n.borderBottomWidth),left:SO(n.borderLeftWidth)},o="html"===UI(e),s=qI(e),a=e.clientWidth+r.right,l=e.clientHeight+r.bottom;return o&&i.innerHeight-e.clientHeight>50&&(l=i.innerHeight-r.bottom),{top:o?0:e.clientTop,right:e.clientLeft>r.left?r.right:o?i.innerWidth-a-s:e.offsetWidth-a,bottom:o?i.innerHeight-l:e.offsetHeight-l,left:o?s:e.clientLeft}}(HI(n)?n:$I(e));return t.top=Math.max(i.top+r.top,t.top),t.right=Math.min(i.right-r.right,t.right),t.bottom=Math.min(i.bottom-r.bottom,t.bottom),t.left=Math.max(i.left+r.left,t.left),t}),LO(e,l));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function NO(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},{},e)}function MO(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function AO(e,t){void 0===t&&(t={});var n=t,i=n.placement,r=void 0===i?e.placement:i,o=n.boundary,s=void 0===o?"clippingParents":o,a=n.rootBoundary,l=void 0===a?"viewport":a,c=n.elementContext,u=void 0===c?"popper":c,h=n.altBoundary,d=void 0!==h&&h,f=n.padding,p=void 0===f?0:f,g=NO("number"!=typeof p?p:MO(p,aO)),m="popper"===u?"reference":"popper",v=e.elements.reference,y=e.rects.popper,b=e.elements[d?m:u],_=TO(WI(b)?b:b.contextElement||$I(e.elements.popper),s,l),w=jI(v),C=yO({reference:w,element:y,strategy:"absolute",placement:r}),x=EO(Object.assign({},y,{},C)),k="popper"===u?x:w,S={top:_.top-k.top+g.top,bottom:k.bottom-_.bottom+g.bottom,left:_.left-k.left+g.left,right:k.right-_.right+g.right},D=e.modifiersData.offset;if("popper"===u&&D){var E=D[r];Object.keys(S).forEach((function(e){var t=[oO,rO].indexOf(e)>=0?1:-1,n=[iO,rO].indexOf(e)>=0?"y":"x";S[e]+=E[n]*t}))}return S}function IO(e,t,n){return Math.max(e,Math.min(t,n))}function OO(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function FO(e){return[iO,oO,rO,sO].some((function(t){return e[t]>=0}))}var RO=function(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,i=void 0===n?[]:n,r=t.defaultOptions,o=void 0===r?fO:r;return function(e,t,n){void 0===n&&(n=o);var r,s,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},fO,{},o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,u={state:a,setOptions:function(n){h(),a.options=Object.assign({},o,{},a.options,{},n),a.scrollParents={reference:WI(e)?QI(e):e.contextElement?QI(e.contextElement):[],popper:QI(t)};var r,s,c,d,f=(r=[].concat(i,a.options.modifiers),s=r.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,{},t,{options:Object.assign({},n.options,{},t.options),data:Object.assign({},n.data,{},t.data)}):t,e}),{}),c=Object.keys(s).map((function(e){return s[e]})),d=hO(c),uO.reduce((function(e,t){return e.concat(d.filter((function(e){return e.phase===t})))}),[]));return a.orderedModifiers=f.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,i=void 0===n?{}:n,r=e.effect;if("function"==typeof r){var o=r({state:a,name:t,instance:u,options:i});l.push(o||function(){})}})),u.update()},forceUpdate:function(){if(!c){var e=a.elements,t=e.reference,n=e.popper;if(pO(t,n)){a.rects={reference:GI(t,nO(n),"fixed"===a.options.strategy),popper:XI(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var i=0;i<a.orderedModifiers.length;i++)if(!0!==a.reset){var r=a.orderedModifiers[i],o=r.fn,s=r.options,l=void 0===s?{}:s,h=r.name;"function"==typeof o&&(a=o({state:a,options:l,name:h,instance:u})||a)}else a.reset=!1,i=-1}}},update:(r=function(){return new Promise((function(e){u.forceUpdate(),e(a)}))},function(){return s||(s=new Promise((function(e){Promise.resolve().then((function(){s=void 0,e(r())}))}))),s}),destroy:function(){h(),c=!0}};if(!pO(e,t))return u;function h(){l.forEach((function(e){return e()})),l=[]}return u.setOptions(n).then((function(e){!c&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,i=e.options,r=i.scroll,o=void 0===r||r,s=i.resize,a=void 0===s||s,l=zI(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,gO)})),a&&l.addEventListener("resize",n.update,gO),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,gO)})),a&&l.removeEventListener("resize",n.update,gO)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=yO({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=void 0===i||i,o=n.adaptive,s=void 0===o||o,a={placement:dO(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,{},_O(Object.assign({},a,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,{},_O(Object.assign({},a,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},r=t.elements[e];HI(r)&&UI(r)&&(Object.assign(r.style,n),Object.keys(i).forEach((function(e){var t=i[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var i=t.elements[e],r=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});HI(i)&&UI(i)&&(Object.assign(i.style,o),Object.keys(r).forEach((function(e){i.removeAttribute(e)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,i=e.name,r=n.offset,o=void 0===r?[0,0]:r,s=cO.reduce((function(e,n){return e[n]=(i=n,r=t.rects,s=o,a=dO(i),l=[sO,iO].indexOf(a)>=0?-1:1,c="function"==typeof s?s(Object.assign({},r,{placement:i})):s,u=c[0],h=c[1],u=u||0,h=(h||0)*l,[sO,oO].indexOf(a)>=0?{x:h,y:u}:{x:u,y:h}),e;var i,r,s,a,l,c,u,h}),{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=s}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var r=n.mainAxis,o=void 0===r||r,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,h=n.rootBoundary,d=n.altBoundary,f=n.flipVariations,p=void 0===f||f,g=n.allowedAutoPlacements,m=t.options.placement,v=dO(m),y=l||(v!==m&&p?function(e){if("auto"===dO(e))return[];var t=CO(e);return[kO(e),t,kO(t)]}(m):[CO(m)]),b=[m].concat(y).reduce((function(e,n){return e.concat("auto"===dO(n)?function(e,t){void 0===t&&(t={});var n=t,i=n.placement,r=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?cO:l,u=mO(i),h=(u?a?lO:lO.filter((function(e){return mO(e)===u})):aO).filter((function(e){return c.indexOf(e)>=0})).reduce((function(t,n){return t[n]=AO(e,{placement:n,boundary:r,rootBoundary:o,padding:s})[dO(n)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}(t,{placement:n,boundary:u,rootBoundary:h,padding:c,flipVariations:p,allowedAutoPlacements:g}):n)}),[]),_=t.rects.reference,w=t.rects.popper,C=new Map,x=!0,k=b[0],S=0;S<b.length;S++){var D=b[S],E=dO(D),L="start"===mO(D),T=[iO,rO].indexOf(E)>=0,N=T?"width":"height",M=AO(t,{placement:D,boundary:u,rootBoundary:h,altBoundary:d,padding:c}),A=T?L?oO:sO:L?rO:iO;_[N]>w[N]&&(A=CO(A));var I=CO(A),O=[];if(o&&O.push(M[E]<=0),a&&O.push(M[A]<=0,M[I]<=0),O.every((function(e){return e}))){k=D,x=!1;break}C.set(D,O)}if(x)for(var F=function(e){var t=b.find((function(t){var n=C.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return k=t,"break"},R=p?3:1;R>0&&"break"!==F(R);R--);t.placement!==k&&(t.modifiersData[i]._skip=!0,t.placement=k,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name,r=n.mainAxis,o=void 0===r||r,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,h=n.padding,d=n.tether,f=void 0===d||d,p=n.tetherOffset,g=void 0===p?0:p,m=AO(t,{boundary:l,rootBoundary:c,padding:h,altBoundary:u}),v=dO(t.placement),y=mO(t.placement),b=!y,_=vO(v),w="x"===_?"y":"x",C=t.modifiersData.popperOffsets,x=t.rects.reference,k=t.rects.popper,S="function"==typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,D={x:0,y:0};if(C){if(o){var E="y"===_?iO:sO,L="y"===_?rO:oO,T="y"===_?"height":"width",N=C[_],M=C[_]+m[E],A=C[_]-m[L],I=f?-k[T]/2:0,O="start"===y?x[T]:k[T],F="start"===y?-k[T]:-x[T],R=t.elements.arrow,P=f&&R?XI(R):{width:0,height:0},B=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},j=B[E],z=B[L],V=IO(0,x[T],P[T]),W=b?x[T]/2-I-V-j-S:O-V-j-S,H=b?-x[T]/2+I+V+z+S:F+V+z+S,U=t.elements.arrow&&nO(t.elements.arrow),$=U?"y"===_?U.clientTop||0:U.clientLeft||0:0,q=t.modifiersData.offset?t.modifiersData.offset[t.placement][_]:0,K=C[_]+W-q-$,Y=C[_]+H-q,G=IO(f?Math.min(M,K):M,N,f?Math.max(A,Y):A);C[_]=G,D[_]=G-N}if(a){var X="x"===_?iO:sO,Z="x"===_?rO:oO,J=C[w],Q=IO(J+m[X],J,J-m[Z]);C[w]=Q,D[w]=Q-J}t.modifiersData[i]=D}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,i=e.name,r=n.elements.arrow,o=n.modifiersData.popperOffsets,s=dO(n.placement),a=vO(s),l=[sO,oO].indexOf(s)>=0?"height":"width";if(r&&o){var c=n.modifiersData[i+"#persistent"].padding,u=XI(r),h="y"===a?iO:sO,d="y"===a?rO:oO,f=n.rects.reference[l]+n.rects.reference[a]-o[a]-n.rects.popper[l],p=o[a]-n.rects.reference[a],g=nO(r),m=g?"y"===a?g.clientHeight||0:g.clientWidth||0:0,v=f/2-p/2,y=c[h],b=m-u[l]-c[d],_=m/2-u[l]/2+v,w=IO(y,_,b),C=a;n.modifiersData[i]=((t={})[C]=w,t.centerOffset=w-_,t)}},effect:function(e){var t=e.state,n=e.options,i=e.name,r=n.element,o=void 0===r?"[data-popper-arrow]":r,s=n.padding,a=void 0===s?0:s;null!=o&&("string"!=typeof o||(o=t.elements.popper.querySelector(o)))&&DO(t.elements.popper,o)&&(t.elements.arrow=o,t.modifiersData[i+"#persistent"]={padding:NO("number"!=typeof a?a:MO(a,aO))})},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,i=t.rects.reference,r=t.rects.popper,o=t.modifiersData.preventOverflow,s=AO(t,{elementContext:"reference"}),a=AO(t,{altBoundary:!0}),l=OO(s,i),c=OO(a,r,o),u=FO(l),h=FO(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}}]}),PO=function(){var e={base:"https://twemoji.maxcdn.com/v/13.0.0/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:function(e){var t="string"==typeof e?parseInt(e,16):e;return t<65536?a(t):a(55296+((t-=65536)>>10),56320+(1023&t))},toCodePoint:v},onerror:function(){this.parentNode&&this.parentNode.replaceChild(l(this.alt,!1),this)},parse:function(t,n){return n&&"function"!=typeof n||(n={callback:n}),("string"==typeof t?f:d)(t,{callback:n.callback||c,attributes:"function"==typeof n.attributes?n.attributes:g,base:"string"==typeof n.base?n.base:e.base,ext:n.ext||e.ext,size:n.folder||(i=n.size||e.size,"number"==typeof i?i+"x"+i:i),className:n.className||e.className,onerror:n.onerror||e.onerror});var i},replace:m,test:function(e){n.lastIndex=0;var t=n.test(e);return n.lastIndex=0,t}},t={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},n=/(?:\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d])|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udeeb\udeec\udef4-\udefc\udfe0-\udfeb]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78\udd7a-\uddb4\uddb7\uddba\uddbc-\uddcb\uddd0\uddde-\uddff\ude70-\ude74\ude78-\ude7a\ude80-\ude86\ude90-\udea8\udeb0-\udeb6\udec0-\udec2\uded0-\uded6]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,i=/\uFE0F/g,r=String.fromCharCode(8205),o=/[&<>'"]/g,s=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,a=String.fromCharCode;return e;function l(e,t){return document.createTextNode(t?e.replace(i,""):e)}function c(e,t){return"".concat(t.base,t.size,"/",e,t.ext)}function u(e,t){for(var n,i,r=e.childNodes,o=r.length;o--;)3===(i=(n=r[o]).nodeType)?t.push(n):1!==i||"ownerSVGElement"in n||s.test(n.nodeName.toLowerCase())||u(n,t);return t}function h(e){return v(e.indexOf(r)<0?e.replace(i,""):e)}function d(e,t){for(var i,r,o,s,a,c,d,f,p,g,m,v,y,b=u(e,[]),_=b.length;_--;){for(o=!1,s=document.createDocumentFragment(),c=(a=b[_]).nodeValue,f=0;d=n.exec(c);){if((p=d.index)!==f&&s.appendChild(l(c.slice(f,p),!0)),v=h(m=d[0]),f=p+m.length,y=t.callback(v,t),v&&y){for(r in(g=new Image).onerror=t.onerror,g.setAttribute("draggable","false"),i=t.attributes(m,v))i.hasOwnProperty(r)&&0!==r.indexOf("on")&&!g.hasAttribute(r)&&g.setAttribute(r,i[r]);g.className=t.className,g.alt=m,g.src=y,o=!0,s.appendChild(g)}g||s.appendChild(l(m,!1)),g=null}o&&(f<c.length&&s.appendChild(l(c.slice(f),!0)),a.parentNode.replaceChild(s,a))}return e}function f(e,t){return m(e,(function(e){var n,i,r=e,s=h(e),a=t.callback(s,t);if(s&&a){for(i in r="<img ".concat('class="',t.className,'" ','draggable="false" ','alt="',e,'"',' src="',a,'"'),n=t.attributes(e,s))n.hasOwnProperty(i)&&0!==i.indexOf("on")&&-1===r.indexOf(" "+i+"=")&&(r=r.concat(" ",i,'="',n[i].replace(o,p),'"'));r=r.concat("/>")}return r}))}function p(e){return t[e]}function g(){return null}function m(e,t){return String(e).replace(n,t)}function v(e,t){for(var n=[],i=0,r=0,o=0;o<e.length;)i=e.charCodeAt(o++),r?(n.push((65536+(r-55296<<10)+(i-56320)).toString(16)),r=0):55296<=i&&i<=56319?r=i:n.push(i.toString(16));return n.join(t||"-")}}(),BO={categories:["smileys","people","animals","food","travel","activities","objects","symbols","flags"],emoji:[{emoji:"",category:0,name:"grinning face",version:"1.0"},{emoji:"",category:0,name:"grinning face with big eyes",version:"1.0"},{emoji:"",category:0,name:"grinning face with smiling eyes",version:"1.0"},{emoji:"",category:0,name:"beaming face with smiling eyes",version:"1.0"},{emoji:"",category:0,name:"grinning squinting face",version:"1.0"},{emoji:"",category:0,name:"grinning face with sweat",version:"1.0"},{emoji:"",category:0,name:"rolling on the floor laughing",version:"3.0"},{emoji:"",category:0,name:"face with tears of joy",version:"1.0"},{emoji:"",category:0,name:"slightly smiling face",version:"1.0"},{emoji:"",category:0,name:"upside-down face",version:"1.0"},{emoji:"",category:0,name:"winking face",version:"1.0"},{emoji:"",category:0,name:"smiling face with smiling eyes",version:"1.0"},{emoji:"",category:0,name:"smiling face with halo",version:"1.0"},{emoji:"",category:0,name:"smiling face with hearts",version:"11.0"},{emoji:"",category:0,name:"smiling face with heart-eyes",version:"1.0"},{emoji:"",category:0,name:"star-struck",version:"5.0"},{emoji:"",category:0,name:"face blowing a kiss",version:"1.0"},{emoji:"",category:0,name:"kissing face",version:"1.0"},{emoji:"",category:0,name:"smiling face",version:"1.0"},{emoji:"",category:0,name:"kissing face with closed eyes",version:"1.0"},{emoji:"",category:0,name:"kissing face with smiling eyes",version:"1.0"},{emoji:"",category:0,name:"smiling face with tear",version:"13.0"},{emoji:"",category:0,name:"face savoring food",version:"1.0"},{emoji:"",category:0,name:"face with tongue",version:"1.0"},{emoji:"",category:0,name:"winking face with tongue",version:"1.0"},{emoji:"",category:0,name:"zany face",version:"5.0"},{emoji:"",category:0,name:"squinting face with tongue",version:"1.0"},{emoji:"",category:0,name:"money-mouth face",version:"1.0"},{emoji:"",category:0,name:"hugging face",version:"1.0"},{emoji:"",category:0,name:"face with hand over mouth",version:"5.0"},{emoji:"",category:0,name:"shushing face",version:"5.0"},{emoji:"",category:0,name:"thinking face",version:"1.0"},{emoji:"",category:0,name:"zipper-mouth face",version:"1.0"},{emoji:"",category:0,name:"face with raised eyebrow",version:"5.0"},{emoji:"",category:0,name:"neutral face",version:"1.0"},{emoji:"",category:0,name:"expressionless face",version:"1.0"},{emoji:"",category:0,name:"face without mouth",version:"1.0"},{emoji:"",category:0,name:"smirking face",version:"1.0"},{emoji:"",category:0,name:"unamused face",version:"1.0"},{emoji:"",category:0,name:"face with rolling eyes",version:"1.0"},{emoji:"",category:0,name:"grimacing face",version:"1.0"},{emoji:"",category:0,name:"lying face",version:"3.0"},{emoji:"",category:0,name:"relieved face",version:"1.0"},{emoji:"",category:0,name:"pensive face",version:"1.0"},{emoji:"",category:0,name:"sleepy face",version:"1.0"},{emoji:"",category:0,name:"drooling face",version:"3.0"},{emoji:"",category:0,name:"sleeping face",version:"1.0"},{emoji:"",category:0,name:"face with medical mask",version:"1.0"},{emoji:"",category:0,name:"face with thermometer",version:"1.0"},{emoji:"",category:0,name:"face with head-bandage",version:"1.0"},{emoji:"",category:0,name:"nauseated face",version:"3.0"},{emoji:"",category:0,name:"face vomiting",version:"5.0"},{emoji:"",category:0,name:"sneezing face",version:"3.0"},{emoji:"",category:0,name:"hot face",version:"11.0"},{emoji:"",category:0,name:"cold face",version:"11.0"},{emoji:"",category:0,name:"woozy face",version:"11.0"},{emoji:"",category:0,name:"dizzy face",version:"1.0"},{emoji:"",category:0,name:"exploding head",version:"5.0"},{emoji:"",category:0,name:"cowboy hat face",version:"3.0"},{emoji:"",category:0,name:"partying face",version:"11.0"},{emoji:"",category:0,name:"disguised face",version:"13.0"},{emoji:"",category:0,name:"smiling face with sunglasses",version:"1.0"},{emoji:"",category:0,name:"nerd face",version:"1.0"},{emoji:"",category:0,name:"face with monocle",version:"5.0"},{emoji:"",category:0,name:"confused face",version:"1.0"},{emoji:"",category:0,name:"worried face",version:"1.0"},{emoji:"",category:0,name:"slightly frowning face",version:"1.0"},{emoji:"",category:0,name:"frowning face",version:"1.0"},{emoji:"",category:0,name:"face with open mouth",version:"1.0"},{emoji:"",category:0,name:"hushed face",version:"1.0"},{emoji:"",category:0,name:"astonished face",version:"1.0"},{emoji:"",category:0,name:"flushed face",version:"1.0"},{emoji:"",category:0,name:"pleading face",version:"11.0"},{emoji:"",category:0,name:"frowning face with open mouth",version:"1.0"},{emoji:"",category:0,name:"anguished face",version:"1.0"},{emoji:"",category:0,name:"fearful face",version:"1.0"},{emoji:"",category:0,name:"anxious face with sweat",version:"1.0"},{emoji:"",category:0,name:"sad but relieved face",version:"1.0"},{emoji:"",category:0,name:"crying face",version:"1.0"},{emoji:"",category:0,name:"loudly crying face",version:"1.0"},{emoji:"",category:0,name:"face screaming in fear",version:"1.0"},{emoji:"",category:0,name:"confounded face",version:"1.0"},{emoji:"",category:0,name:"persevering face",version:"1.0"},{emoji:"",category:0,name:"disappointed face",version:"1.0"},{emoji:"",category:0,name:"downcast face with sweat",version:"1.0"},{emoji:"",category:0,name:"weary face",version:"1.0"},{emoji:"",category:0,name:"tired face",version:"1.0"},{emoji:"",category:0,name:"yawning face",version:"12.0"},{emoji:"",category:0,name:"face with steam from nose",version:"1.0"},{emoji:"",category:0,name:"pouting face",version:"1.0"},{emoji:"",category:0,name:"angry face",version:"1.0"},{emoji:"",category:0,name:"face with symbols on mouth",version:"5.0"},{emoji:"",category:0,name:"smiling face with horns",version:"1.0"},{emoji:"",category:0,name:"angry face with horns",version:"1.0"},{emoji:"",category:0,name:"skull",version:"1.0"},{emoji:"",category:0,name:"skull and crossbones",version:"1.0"},{emoji:"",category:0,name:"pile of poo",version:"1.0"},{emoji:"",category:0,name:"clown face",version:"3.0"},{emoji:"",category:0,name:"ogre",version:"1.0"},{emoji:"",category:0,name:"goblin",version:"1.0"},{emoji:"",category:0,name:"ghost",version:"1.0"},{emoji:"",category:0,name:"alien",version:"1.0"},{emoji:"",category:0,name:"alien monster",version:"1.0"},{emoji:"",category:0,name:"robot",version:"1.0"},{emoji:"",category:0,name:"grinning cat",version:"1.0"},{emoji:"",category:0,name:"grinning cat with smiling eyes",version:"1.0"},{emoji:"",category:0,name:"cat with tears of joy",version:"1.0"},{emoji:"",category:0,name:"smiling cat with heart-eyes",version:"1.0"},{emoji:"",category:0,name:"cat with wry smile",version:"1.0"},{emoji:"",category:0,name:"kissing cat",version:"1.0"},{emoji:"",category:0,name:"weary cat",version:"1.0"},{emoji:"",category:0,name:"crying cat",version:"1.0"},{emoji:"",category:0,name:"pouting cat",version:"1.0"},{emoji:"",category:0,name:"see-no-evil monkey",version:"1.0"},{emoji:"",category:0,name:"hear-no-evil monkey",version:"1.0"},{emoji:"",category:0,name:"speak-no-evil monkey",version:"1.0"},{emoji:"",category:0,name:"kiss mark",version:"1.0"},{emoji:"",category:0,name:"love letter",version:"1.0"},{emoji:"",category:0,name:"heart with arrow",version:"1.0"},{emoji:"",category:0,name:"heart with ribbon",version:"1.0"},{emoji:"",category:0,name:"sparkling heart",version:"1.0"},{emoji:"",category:0,name:"growing heart",version:"1.0"},{emoji:"",category:0,name:"beating heart",version:"1.0"},{emoji:"",category:0,name:"revolving hearts",version:"1.0"},{emoji:"",category:0,name:"two hearts",version:"1.0"},{emoji:"",category:0,name:"heart decoration",version:"1.0"},{emoji:"",category:0,name:"heart exclamation",version:"1.0"},{emoji:"",category:0,name:"broken heart",version:"1.0"},{emoji:"",category:0,name:"red heart",version:"1.0"},{emoji:"",category:0,name:"orange heart",version:"5.0"},{emoji:"",category:0,name:"yellow heart",version:"1.0"},{emoji:"",category:0,name:"green heart",version:"1.0"},{emoji:"",category:0,name:"blue heart",version:"1.0"},{emoji:"",category:0,name:"purple heart",version:"1.0"},{emoji:"",category:0,name:"brown heart",version:"12.0"},{emoji:"",category:0,name:"black heart",version:"3.0"},{emoji:"",category:0,name:"white heart",version:"12.0"},{emoji:"",category:0,name:"hundred points",version:"1.0"},{emoji:"",category:0,name:"anger symbol",version:"1.0"},{emoji:"",category:0,name:"collision",version:"1.0"},{emoji:"",category:0,name:"dizzy",version:"1.0"},{emoji:"",category:0,name:"sweat droplets",version:"1.0"},{emoji:"",category:0,name:"dashing away",version:"1.0"},{emoji:"",category:0,name:"hole",version:"1.0"},{emoji:"",category:0,name:"bomb",version:"1.0"},{emoji:"",category:0,name:"speech balloon",version:"1.0"},{emoji:"",category:0,name:"eye in speech bubble",version:"2.0"},{emoji:"",category:0,name:"left speech bubble",version:"2.0"},{emoji:"",category:0,name:"right anger bubble",version:"1.0"},{emoji:"",category:0,name:"thought balloon",version:"1.0"},{emoji:"",category:0,name:"zzz",version:"1.0"},{emoji:"",category:1,name:"waving hand",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"raised back of hand",variations:["","","","",""],version:"3.0"},{emoji:"",category:1,name:"hand with fingers splayed",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"raised hand",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"vulcan salute",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"OK hand",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"pinched fingers",variations:["","","","",""],version:"13.0"},{emoji:"",category:1,name:"pinching hand",variations:["","","","",""],version:"12.0"},{emoji:"",category:1,name:"victory hand",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"crossed fingers",variations:["","","","",""],version:"3.0"},{emoji:"",category:1,name:"love-you gesture",variations:["","","","",""],version:"5.0"},{emoji:"",category:1,name:"sign of the horns",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"call me hand",variations:["","","","",""],version:"3.0"},{emoji:"",category:1,name:"backhand index pointing left",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"backhand index pointing right",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"backhand index pointing up",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"middle finger",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"backhand index pointing down",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"index pointing up",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"thumbs up",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"thumbs down",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"raised fist",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"oncoming fist",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"left-facing fist",variations:["","","","",""],version:"3.0"},{emoji:"",category:1,name:"right-facing fist",variations:["","","","",""],version:"3.0"},{emoji:"",category:1,name:"clapping hands",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"raising hands",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"open hands",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"palms up together",variations:["","","","",""],version:"5.0"},{emoji:"",category:1,name:"handshake",version:"3.0"},{emoji:"",category:1,name:"folded hands",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"writing hand",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"nail polish",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"selfie",variations:["","","","",""],version:"3.0"},{emoji:"",category:1,name:"flexed biceps",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"mechanical arm",version:"12.0"},{emoji:"",category:1,name:"mechanical leg",version:"12.0"},{emoji:"",category:1,name:"leg",variations:["","","","",""],version:"11.0"},{emoji:"",category:1,name:"foot",variations:["","","","",""],version:"11.0"},{emoji:"",category:1,name:"ear",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"ear with hearing aid",variations:["","","","",""],version:"12.0"},{emoji:"",category:1,name:"nose",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"brain",version:"5.0"},{emoji:"",category:1,name:"anatomical heart",version:"13.0"},{emoji:"",category:1,name:"lungs",version:"13.0"},{emoji:"",category:1,name:"tooth",version:"11.0"},{emoji:"",category:1,name:"bone",version:"11.0"},{emoji:"",category:1,name:"eyes",version:"1.0"},{emoji:"",category:1,name:"eye",version:"1.0"},{emoji:"",category:1,name:"tongue",version:"1.0"},{emoji:"",category:1,name:"mouth",version:"1.0"},{emoji:"",category:1,name:"baby",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"child",variations:["","","","",""],version:"5.0"},{emoji:"",category:1,name:"boy",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"girl",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"person",variations:["","","","",""],version:"5.0"},{emoji:"",category:1,name:"person with blond hair",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"man",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"man with beard",variations:["","","","",""],version:"5.0"},{emoji:"",category:1,name:"man with red hair",variations:["","","","",""],version:"11.0"},{emoji:"",category:1,name:"man with curly hair",variations:["","","","",""],version:"11.0"},{emoji:"",category:1,name:"man with white hair",variations:["","","","",""],version:"11.0"},{emoji:"",category:1,name:"man with no hair",variations:["","","","",""],version:"11.0"},{emoji:"",category:1,name:"woman",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"woman with red hair",variations:["","","","",""],version:"11.0"},{emoji:"",category:1,name:"person with red hair",variations:["","","","",""],version:"12.1"},{emoji:"",category:1,name:"woman with curly hair",variations:["","","","",""],version:"11.0"},{emoji:"",category:1,name:"person with curly hair",variations:["","","","",""],version:"12.1"},{emoji:"",category:1,name:"woman with white hair",variations:["","","","",""],version:"11.0"},{emoji:"",category:1,name:"person with white hair",variations:["","","","",""],version:"12.1"},{emoji:"",category:1,name:"woman with no hair",variations:["","","","",""],version:"11.0"},{emoji:"",category:1,name:"person with no hair",variations:["","","","",""],version:"12.1"},{emoji:"",category:1,name:"woman with blond hair",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"man with blond hair",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"older person",variations:["","","","",""],version:"5.0"},{emoji:"",category:1,name:"old man",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"old woman",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"person frowning",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"man frowning",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman frowning",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"person pouting",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"man pouting",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman pouting",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"person gesturing NO",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"man gesturing NO",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman gesturing NO",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"person gesturing OK",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"man gesturing OK",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman gesturing OK",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"person tipping hand",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"man tipping hand",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman tipping hand",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"person raising hand",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"man raising hand",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman raising hand",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"deaf person",variations:["","","","",""],version:"12.0"},{emoji:"",category:1,name:"deaf man",variations:["","","","",""],version:"12.0"},{emoji:"",category:1,name:"deaf woman",variations:["","","","",""],version:"12.0"},{emoji:"",category:1,name:"person bowing",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"man bowing",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman bowing",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"person facepalming",variations:["","","","",""],version:"3.0"},{emoji:"",category:1,name:"man facepalming",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman facepalming",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"person shrugging",variations:["","","","",""],version:"3.0"},{emoji:"",category:1,name:"man shrugging",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman shrugging",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"health worker",variations:["","","","",""],version:"12.1"},{emoji:"",category:1,name:"man health worker",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman health worker",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"student",variations:["","","","",""],version:"12.1"},{emoji:"",category:1,name:"man student",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman student",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"teacher",variations:["","","","",""],version:"12.1"},{emoji:"",category:1,name:"man teacher",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman teacher",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"judge",variations:["","","","",""],version:"12.1"},{emoji:"",category:1,name:"man judge",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman judge",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"farmer",variations:["","","","",""],version:"12.1"},{emoji:"",category:1,name:"man farmer",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman farmer",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"cook",variations:["","","","",""],version:"12.1"},{emoji:"",category:1,name:"man cook",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman cook",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"mechanic",variations:["","","","",""],version:"12.1"},{emoji:"",category:1,name:"man mechanic",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman mechanic",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"factory worker",variations:["","","","",""],version:"12.1"},{emoji:"",category:1,name:"man factory worker",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman factory worker",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"office worker",variations:["","","","",""],version:"12.1"},{emoji:"",category:1,name:"man office worker",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman office worker",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"scientist",variations:["","","","",""],version:"12.1"},{emoji:"",category:1,name:"man scientist",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman scientist",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"technologist",variations:["","","","",""],version:"12.1"},{emoji:"",category:1,name:"man technologist",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman technologist",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"singer",variations:["","","","",""],version:"12.1"},{emoji:"",category:1,name:"man singer",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman singer",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"artist",variations:["","","","",""],version:"12.1"},{emoji:"",category:1,name:"man artist",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman artist",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"pilot",variations:["","","","",""],version:"12.1"},{emoji:"",category:1,name:"man pilot",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman pilot",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"astronaut",variations:["","","","",""],version:"12.1"},{emoji:"",category:1,name:"man astronaut",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman astronaut",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"firefighter",variations:["","","","",""],version:"12.1"},{emoji:"",category:1,name:"man firefighter",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman firefighter",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"police officer",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"man police officer",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman police officer",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"detective",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"man detective",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman detective",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"guard",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"man guard",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman guard",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"ninja",variations:["","","","",""],version:"13.0"},{emoji:"",category:1,name:"construction worker",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"man construction worker",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman construction worker",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"prince",variations:["","","","",""],version:"3.0"},{emoji:"",category:1,name:"princess",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"person wearing turban",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"man wearing turban",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman wearing turban",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"person with skullcap",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"woman with headscarf",variations:["","","","",""],version:"5.0"},{emoji:"",category:1,name:"person in tuxedo",variations:["","","","",""],version:"3.0"},{emoji:"",category:1,name:"man in tuxedo",variations:["","","","",""],version:"13.0"},{emoji:"",category:1,name:"woman in tuxedo",variations:["","","","",""],version:"13.0"},{emoji:"",category:1,name:"person with veil",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"man with veil",variations:["","","","",""],version:"13.0"},{emoji:"",category:1,name:"woman with veil",variations:["","","","",""],version:"13.0"},{emoji:"",category:1,name:"pregnant woman",variations:["","","","",""],version:"3.0"},{emoji:"",category:1,name:"breast-feeding",variations:["","","","",""],version:"5.0"},{emoji:"",category:1,name:"woman feeding baby",variations:["","","","",""],version:"13.0"},{emoji:"",category:1,name:"man feeding baby",variations:["","","","",""],version:"13.0"},{emoji:"",category:1,name:"person feeding baby",variations:["","","","",""],version:"13.0"},{emoji:"",category:1,name:"baby angel",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"Santa Claus",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"Mrs. Claus",variations:["","","","",""],version:"3.0"},{emoji:"",category:1,name:"mx claus",variations:["","","","",""],version:"13.0"},{emoji:"",category:1,name:"superhero",variations:["","","","",""],version:"11.0"},{emoji:"",category:1,name:"man superhero",variations:["","","","",""],version:"11.0"},{emoji:"",category:1,name:"woman superhero",variations:["","","","",""],version:"11.0"},{emoji:"",category:1,name:"supervillain",variations:["","","","",""],version:"11.0"},{emoji:"",category:1,name:"man supervillain",variations:["","","","",""],version:"11.0"},{emoji:"",category:1,name:"woman supervillain",variations:["","","","",""],version:"11.0"},{emoji:"",category:1,name:"mage",variations:["","","","",""],version:"5.0"},{emoji:"",category:1,name:"man mage",variations:["","","","",""],version:"5.0"},{emoji:"",category:1,name:"woman mage",variations:["","","","",""],version:"5.0"},{emoji:"",category:1,name:"fairy",variations:["","","","",""],version:"5.0"},{emoji:"",category:1,name:"man fairy",variations:["","","","",""],version:"5.0"},{emoji:"",category:1,name:"woman fairy",variations:["","","","",""],version:"5.0"},{emoji:"",category:1,name:"vampire",variations:["","","","",""],version:"5.0"},{emoji:"",category:1,name:"man vampire",variations:["","","","",""],version:"5.0"},{emoji:"",category:1,name:"woman vampire",variations:["","","","",""],version:"5.0"},{emoji:"",category:1,name:"merperson",variations:["","","","",""],version:"5.0"},{emoji:"",category:1,name:"merman",variations:["","","","",""],version:"5.0"},{emoji:"",category:1,name:"mermaid",variations:["","","","",""],version:"5.0"},{emoji:"",category:1,name:"elf",variations:["","","","",""],version:"5.0"},{emoji:"",category:1,name:"man elf",variations:["","","","",""],version:"5.0"},{emoji:"",category:1,name:"woman elf",variations:["","","","",""],version:"5.0"},{emoji:"",category:1,name:"genie",version:"5.0"},{emoji:"",category:1,name:"man genie",version:"5.0"},{emoji:"",category:1,name:"woman genie",version:"5.0"},{emoji:"",category:1,name:"zombie",version:"5.0"},{emoji:"",category:1,name:"man zombie",version:"5.0"},{emoji:"",category:1,name:"woman zombie",version:"5.0"},{emoji:"",category:1,name:"person getting massage",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"man getting massage",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman getting massage",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"person getting haircut",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"man getting haircut",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman getting haircut",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"person walking",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"man walking",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman walking",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"person standing",variations:["","","","",""],version:"12.0"},{emoji:"",category:1,name:"man standing",variations:["","","","",""],version:"12.0"},{emoji:"",category:1,name:"woman standing",variations:["","","","",""],version:"12.0"},{emoji:"",category:1,name:"person kneeling",variations:["","","","",""],version:"12.0"},{emoji:"",category:1,name:"man kneeling",variations:["","","","",""],version:"12.0"},{emoji:"",category:1,name:"woman kneeling",variations:["","","","",""],version:"12.0"},{emoji:"",category:1,name:"person with white cane",variations:["","","","",""],version:"12.1"},{emoji:"",category:1,name:"man with white cane",variations:["","","","",""],version:"12.0"},{emoji:"",category:1,name:"woman with white cane",variations:["","","","",""],version:"12.0"},{emoji:"",category:1,name:"person in motorized wheelchair",variations:["","","","",""],version:"12.1"},{emoji:"",category:1,name:"man in motorized wheelchair",variations:["","","","",""],version:"12.0"},{emoji:"",category:1,name:"woman in motorized wheelchair",variations:["","","","",""],version:"12.0"},{emoji:"",category:1,name:"person in manual wheelchair",variations:["","","","",""],version:"12.1"},{emoji:"",category:1,name:"man in manual wheelchair",variations:["","","","",""],version:"12.0"},{emoji:"",category:1,name:"woman in manual wheelchair",variations:["","","","",""],version:"12.0"},{emoji:"",category:1,name:"person running",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"man running",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman running",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman dancing",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"man dancing",variations:["","","","",""],version:"3.0"},{emoji:"",category:1,name:"person in suit levitating",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"people with bunny ears",version:"1.0"},{emoji:"",category:1,name:"men with bunny ears",version:"4.0"},{emoji:"",category:1,name:"women with bunny ears",version:"4.0"},{emoji:"",category:1,name:"person in steamy room",variations:["","","","",""],version:"5.0"},{emoji:"",category:1,name:"man in steamy room",variations:["","","","",""],version:"5.0"},{emoji:"",category:1,name:"woman in steamy room",variations:["","","","",""],version:"5.0"},{emoji:"",category:1,name:"person climbing",variations:["","","","",""],version:"5.0"},{emoji:"",category:1,name:"man climbing",variations:["","","","",""],version:"5.0"},{emoji:"",category:1,name:"woman climbing",variations:["","","","",""],version:"5.0"},{emoji:"",category:1,name:"person fencing",version:"3.0"},{emoji:"",category:1,name:"horse racing",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"skier",version:"1.0"},{emoji:"",category:1,name:"snowboarder",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"person golfing",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"man golfing",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman golfing",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"person surfing",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"man surfing",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman surfing",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"person rowing boat",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"man rowing boat",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman rowing boat",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"person swimming",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"man swimming",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman swimming",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"person bouncing ball",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"man bouncing ball",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman bouncing ball",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"person lifting weights",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"man lifting weights",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman lifting weights",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"person biking",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"man biking",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman biking",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"person mountain biking",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"man mountain biking",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman mountain biking",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"person cartwheeling",variations:["","","","",""],version:"3.0"},{emoji:"",category:1,name:"man cartwheeling",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman cartwheeling",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"people wrestling",version:"3.0"},{emoji:"",category:1,name:"men wrestling",version:"4.0"},{emoji:"",category:1,name:"women wrestling",version:"4.0"},{emoji:"",category:1,name:"person playing water polo",variations:["","","","",""],version:"3.0"},{emoji:"",category:1,name:"man playing water polo",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman playing water polo",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"person playing handball",variations:["","","","",""],version:"3.0"},{emoji:"",category:1,name:"man playing handball",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman playing handball",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"person juggling",variations:["","","","",""],version:"3.0"},{emoji:"",category:1,name:"man juggling",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"woman juggling",variations:["","","","",""],version:"4.0"},{emoji:"",category:1,name:"person in lotus position",variations:["","","","",""],version:"5.0"},{emoji:"",category:1,name:"man in lotus position",variations:["","","","",""],version:"5.0"},{emoji:"",category:1,name:"woman in lotus position",variations:["","","","",""],version:"5.0"},{emoji:"",category:1,name:"person taking bath",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"person in bed",variations:["","","","",""],version:"1.0"},{emoji:"",category:1,name:"people holding hands",variations:["","","","","","","","","","","","","","","","","","","","","","","","",""],version:"12.0"},{emoji:"",category:1,name:"women holding hands",variations:["","","","","","","","","","","","","","","","","","","","","","","","",""],version:"1.0"},{emoji:"",category:1,name:"woman and man holding hands",variations:["","","","","","","","","","","","","","","","","","","","","","","","",""],version:"1.0"},{emoji:"",category:1,name:"men holding hands",variations:["","","","","","","","","","","","","","","","","","","","","","","","",""],version:"1.0"},{emoji:"",category:1,name:"kiss",variations:["","",""],version:"1.0"},{emoji:"",category:1,name:"couple with heart",variations:["","",""],version:"1.0"},{emoji:"",category:1,name:"family",version:"1.0"},{emoji:"",category:1,name:"family: man, woman, boy",version:"2.0"},{emoji:"",category:1,name:"family: man, woman, girl",version:"2.0"},{emoji:"",category:1,name:"family: man, woman, girl, boy",version:"2.0"},{emoji:"",category:1,name:"family: man, woman, boy, boy",version:"2.0"},{emoji:"",category:1,name:"family: man, woman, girl, girl",version:"2.0"},{emoji:"",category:1,name:"family: man, man, boy",version:"2.0"},{emoji:"",category:1,name:"family: man, man, girl",version:"2.0"},{emoji:"",category:1,name:"family: man, man, girl, boy",version:"2.0"},{emoji:"",category:1,name:"family: man, man, boy, boy",version:"2.0"},{emoji:"",category:1,name:"family: man, man, girl, girl",version:"2.0"},{emoji:"",category:1,name:"family: woman, woman, boy",version:"2.0"},{emoji:"",category:1,name:"family: woman, woman, girl",version:"2.0"},{emoji:"",category:1,name:"family: woman, woman, girl, boy",version:"2.0"},{emoji:"",category:1,name:"family: woman, woman, boy, boy",version:"2.0"},{emoji:"",category:1,name:"family: woman, woman, girl, girl",version:"2.0"},{emoji:"",category:1,name:"family: man, boy",version:"4.0"},{emoji:"",category:1,name:"family: man, boy, boy",version:"4.0"},{emoji:"",category:1,name:"family: man, girl",version:"4.0"},{emoji:"",category:1,name:"family: man, girl, boy",version:"4.0"},{emoji:"",category:1,name:"family: man, girl, girl",version:"4.0"},{emoji:"",category:1,name:"family: woman, boy",version:"4.0"},{emoji:"",category:1,name:"family: woman, boy, boy",version:"4.0"},{emoji:"",category:1,name:"family: woman, girl",version:"4.0"},{emoji:"",category:1,name:"family: woman, girl, boy",version:"4.0"},{emoji:"",category:1,name:"family: woman, girl, girl",version:"4.0"},{emoji:"",category:1,name:"speaking head",version:"1.0"},{emoji:"",category:1,name:"bust in silhouette",version:"1.0"},{emoji:"",category:1,name:"busts in silhouette",version:"1.0"},{emoji:"",category:1,name:"people hugging",version:"13.0"},{emoji:"",category:1,name:"footprints",version:"1.0"},{emoji:"",category:2,name:"monkey face",version:"1.0"},{emoji:"",category:2,name:"monkey",version:"1.0"},{emoji:"",category:2,name:"gorilla",version:"3.0"},{emoji:"",category:2,name:"orangutan",version:"12.0"},{emoji:"",category:2,name:"dog face",version:"1.0"},{emoji:"",category:2,name:"dog",version:"1.0"},{emoji:"",category:2,name:"guide dog",version:"12.0"},{emoji:"",category:2,name:"service dog",version:"12.0"},{emoji:"",category:2,name:"poodle",version:"1.0"},{emoji:"",category:2,name:"wolf",version:"1.0"},{emoji:"",category:2,name:"fox",version:"3.0"},{emoji:"",category:2,name:"raccoon",version:"11.0"},{emoji:"",category:2,name:"cat face",version:"1.0"},{emoji:"",category:2,name:"cat",version:"1.0"},{emoji:"",category:2,name:"black cat",version:"13.0"},{emoji:"",category:2,name:"lion",version:"1.0"},{emoji:"",category:2,name:"tiger face",version:"1.0"},{emoji:"",category:2,name:"tiger",version:"1.0"},{emoji:"",category:2,name:"leopard",version:"1.0"},{emoji:"",category:2,name:"horse face",version:"1.0"},{emoji:"",category:2,name:"horse",version:"1.0"},{emoji:"",category:2,name:"unicorn",version:"1.0"},{emoji:"",category:2,name:"zebra",version:"5.0"},{emoji:"",category:2,name:"deer",version:"3.0"},{emoji:"",category:2,name:"bison",version:"13.0"},{emoji:"",category:2,name:"cow face",version:"1.0"},{emoji:"",category:2,name:"ox",version:"1.0"},{emoji:"",category:2,name:"water buffalo",version:"1.0"},{emoji:"",category:2,name:"cow",version:"1.0"},{emoji:"",category:2,name:"pig face",version:"1.0"},{emoji:"",category:2,name:"pig",version:"1.0"},{emoji:"",category:2,name:"boar",version:"1.0"},{emoji:"",category:2,name:"pig nose",version:"1.0"},{emoji:"",category:2,name:"ram",version:"1.0"},{emoji:"",category:2,name:"ewe",version:"1.0"},{emoji:"",category:2,name:"goat",version:"1.0"},{emoji:"",category:2,name:"camel",version:"1.0"},{emoji:"",category:2,name:"two-hump camel",version:"1.0"},{emoji:"",category:2,name:"llama",version:"11.0"},{emoji:"",category:2,name:"giraffe",version:"5.0"},{emoji:"",category:2,name:"elephant",version:"1.0"},{emoji:"",category:2,name:"mammoth",version:"13.0"},{emoji:"",category:2,name:"rhinoceros",version:"3.0"},{emoji:"",category:2,name:"hippopotamus",version:"11.0"},{emoji:"",category:2,name:"mouse face",version:"1.0"},{emoji:"",category:2,name:"mouse",version:"1.0"},{emoji:"",category:2,name:"rat",version:"1.0"},{emoji:"",category:2,name:"hamster",version:"1.0"},{emoji:"",category:2,name:"rabbit face",version:"1.0"},{emoji:"",category:2,name:"rabbit",version:"1.0"},{emoji:"",category:2,name:"chipmunk",version:"1.0"},{emoji:"",category:2,name:"beaver",version:"13.0"},{emoji:"",category:2,name:"hedgehog",version:"5.0"},{emoji:"",category:2,name:"bat",version:"3.0"},{emoji:"",category:2,name:"bear",version:"1.0"},{emoji:"",category:2,name:"polar bear",version:"13.0"},{emoji:"",category:2,name:"koala",version:"1.0"},{emoji:"",category:2,name:"panda",version:"1.0"},{emoji:"",category:2,name:"sloth",version:"12.0"},{emoji:"",category:2,name:"otter",version:"12.0"},{emoji:"",category:2,name:"skunk",version:"12.0"},{emoji:"",category:2,name:"kangaroo",version:"11.0"},{emoji:"",category:2,name:"badger",version:"11.0"},{emoji:"",category:2,name:"paw prints",version:"1.0"},{emoji:"",category:2,name:"turkey",version:"1.0"},{emoji:"",category:2,name:"chicken",version:"1.0"},{emoji:"",category:2,name:"rooster",version:"1.0"},{emoji:"",category:2,name:"hatching chick",version:"1.0"},{emoji:"",category:2,name:"baby chick",version:"1.0"},{emoji:"",category:2,name:"front-facing baby chick",version:"1.0"},{emoji:"",category:2,name:"bird",version:"1.0"},{emoji:"",category:2,name:"penguin",version:"1.0"},{emoji:"",category:2,name:"dove",version:"1.0"},{emoji:"",category:2,name:"eagle",version:"3.0"},{emoji:"",category:2,name:"duck",version:"3.0"},{emoji:"",category:2,name:"swan",version:"11.0"},{emoji:"",category:2,name:"owl",version:"3.0"},{emoji:"",category:2,name:"dodo",version:"13.0"},{emoji:"",category:2,name:"feather",version:"13.0"},{emoji:"",category:2,name:"flamingo",version:"12.0"},{emoji:"",category:2,name:"peacock",version:"11.0"},{emoji:"",category:2,name:"parrot",version:"11.0"},{emoji:"",category:2,name:"frog",version:"1.0"},{emoji:"",category:2,name:"crocodile",version:"1.0"},{emoji:"",category:2,name:"turtle",version:"1.0"},{emoji:"",category:2,name:"lizard",version:"3.0"},{emoji:"",category:2,name:"snake",version:"1.0"},{emoji:"",category:2,name:"dragon face",version:"1.0"},{emoji:"",category:2,name:"dragon",version:"1.0"},{emoji:"",category:2,name:"sauropod",version:"5.0"},{emoji:"",category:2,name:"T-Rex",version:"5.0"},{emoji:"",category:2,name:"spouting whale",version:"1.0"},{emoji:"",category:2,name:"whale",version:"1.0"},{emoji:"",category:2,name:"dolphin",version:"1.0"},{emoji:"",category:2,name:"seal",version:"13.0"},{emoji:"",category:2,name:"fish",version:"1.0"},{emoji:"",category:2,name:"tropical fish",version:"1.0"},{emoji:"",category:2,name:"blowfish",version:"1.0"},{emoji:"",category:2,name:"shark",version:"3.0"},{emoji:"",category:2,name:"octopus",version:"1.0"},{emoji:"",category:2,name:"spiral shell",version:"1.0"},{emoji:"",category:2,name:"snail",version:"1.0"},{emoji:"",category:2,name:"butterfly",version:"3.0"},{emoji:"",category:2,name:"bug",version:"1.0"},{emoji:"",category:2,name:"ant",version:"1.0"},{emoji:"",category:2,name:"honeybee",version:"1.0"},{emoji:"",category:2,name:"beetle",version:"13.0"},{emoji:"",category:2,name:"lady beetle",version:"1.0"},{emoji:"",category:2,name:"cricket",version:"5.0"},{emoji:"",category:2,name:"cockroach",version:"13.0"},{emoji:"",category:2,name:"spider",version:"1.0"},{emoji:"",category:2,name:"spider web",version:"1.0"},{emoji:"",category:2,name:"scorpion",version:"1.0"},{emoji:"",category:2,name:"mosquito",version:"11.0"},{emoji:"",category:2,name:"fly",version:"13.0"},{emoji:"",category:2,name:"worm",version:"13.0"},{emoji:"",category:2,name:"microbe",version:"11.0"},{emoji:"",category:2,name:"bouquet",version:"1.0"},{emoji:"",category:2,name:"cherry blossom",version:"1.0"},{emoji:"",category:2,name:"white flower",version:"1.0"},{emoji:"",category:2,name:"rosette",version:"1.0"},{emoji:"",category:2,name:"rose",version:"1.0"},{emoji:"",category:2,name:"wilted flower",version:"3.0"},{emoji:"",category:2,name:"hibiscus",version:"1.0"},{emoji:"",category:2,name:"sunflower",version:"1.0"},{emoji:"",category:2,name:"blossom",version:"1.0"},{emoji:"",category:2,name:"tulip",version:"1.0"},{emoji:"",category:2,name:"seedling",version:"1.0"},{emoji:"",category:2,name:"potted plant",version:"13.0"},{emoji:"",category:2,name:"evergreen tree",version:"1.0"},{emoji:"",category:2,name:"deciduous tree",version:"1.0"},{emoji:"",category:2,name:"palm tree",version:"1.0"},{emoji:"",category:2,name:"cactus",version:"1.0"},{emoji:"",category:2,name:"sheaf of rice",version:"1.0"},{emoji:"",category:2,name:"herb",version:"1.0"},{emoji:"",category:2,name:"shamrock",version:"1.0"},{emoji:"",category:2,name:"four leaf clover",version:"1.0"},{emoji:"",category:2,name:"maple leaf",version:"1.0"},{emoji:"",category:2,name:"fallen leaf",version:"1.0"},{emoji:"",category:2,name:"leaf fluttering in wind",version:"1.0"},{emoji:"",category:3,name:"grapes",version:"1.0"},{emoji:"",category:3,name:"melon",version:"1.0"},{emoji:"",category:3,name:"watermelon",version:"1.0"},{emoji:"",category:3,name:"tangerine",version:"1.0"},{emoji:"",category:3,name:"lemon",version:"1.0"},{emoji:"",category:3,name:"banana",version:"1.0"},{emoji:"",category:3,name:"pineapple",version:"1.0"},{emoji:"",category:3,name:"mango",version:"11.0"},{emoji:"",category:3,name:"red apple",version:"1.0"},{emoji:"",category:3,name:"green apple",version:"1.0"},{emoji:"",category:3,name:"pear",version:"1.0"},{emoji:"",category:3,name:"peach",version:"1.0"},{emoji:"",category:3,name:"cherries",version:"1.0"},{emoji:"",category:3,name:"strawberry",version:"1.0"},{emoji:"",category:3,name:"blueberries",version:"13.0"},{emoji:"",category:3,name:"kiwi fruit",version:"3.0"},{emoji:"",category:3,name:"tomato",version:"1.0"},{emoji:"",category:3,name:"olive",version:"13.0"},{emoji:"",category:3,name:"coconut",version:"5.0"},{emoji:"",category:3,name:"avocado",version:"3.0"},{emoji:"",category:3,name:"eggplant",version:"1.0"},{emoji:"",category:3,name:"potato",version:"3.0"},{emoji:"",category:3,name:"carrot",version:"3.0"},{emoji:"",category:3,name:"ear of corn",version:"1.0"},{emoji:"",category:3,name:"hot pepper",version:"1.0"},{emoji:"",category:3,name:"bell pepper",version:"13.0"},{emoji:"",category:3,name:"cucumber",version:"3.0"},{emoji:"",category:3,name:"leafy green",version:"11.0"},{emoji:"",category:3,name:"broccoli",version:"5.0"},{emoji:"",category:3,name:"garlic",version:"12.0"},{emoji:"",category:3,name:"onion",version:"12.0"},{emoji:"",category:3,name:"mushroom",version:"1.0"},{emoji:"",category:3,name:"peanuts",version:"3.0"},{emoji:"",category:3,name:"chestnut",version:"1.0"},{emoji:"",category:3,name:"bread",version:"1.0"},{emoji:"",category:3,name:"croissant",version:"3.0"},{emoji:"",category:3,name:"baguette bread",version:"3.0"},{emoji:"",category:3,name:"flatbread",version:"13.0"},{emoji:"",category:3,name:"pretzel",version:"5.0"},{emoji:"",category:3,name:"bagel",version:"11.0"},{emoji:"",category:3,name:"pancakes",version:"3.0"},{emoji:"",category:3,name:"waffle",version:"12.0"},{emoji:"",category:3,name:"cheese wedge",version:"1.0"},{emoji:"",category:3,name:"meat on bone",version:"1.0"},{emoji:"",category:3,name:"poultry leg",version:"1.0"},{emoji:"",category:3,name:"cut of meat",version:"5.0"},{emoji:"",category:3,name:"bacon",version:"3.0"},{emoji:"",category:3,name:"hamburger",version:"1.0"},{emoji:"",category:3,name:"french fries",version:"1.0"},{emoji:"",category:3,name:"pizza",version:"1.0"},{emoji:"",category:3,name:"hot dog",version:"1.0"},{emoji:"",category:3,name:"sandwich",version:"5.0"},{emoji:"",category:3,name:"taco",version:"1.0"},{emoji:"",category:3,name:"burrito",version:"1.0"},{emoji:"",category:3,name:"tamale",version:"13.0"},{emoji:"",category:3,name:"stuffed flatbread",version:"3.0"},{emoji:"",category:3,name:"falafel",version:"12.0"},{emoji:"",category:3,name:"egg",version:"3.0"},{emoji:"",category:3,name:"cooking",version:"1.0"},{emoji:"",category:3,name:"shallow pan of food",version:"3.0"},{emoji:"",category:3,name:"pot of food",version:"1.0"},{emoji:"",category:3,name:"fondue",version:"13.0"},{emoji:"",category:3,name:"bowl with spoon",version:"5.0"},{emoji:"",category:3,name:"green salad",version:"3.0"},{emoji:"",category:3,name:"popcorn",version:"1.0"},{emoji:"",category:3,name:"butter",version:"12.0"},{emoji:"",category:3,name:"salt",version:"11.0"},{emoji:"",category:3,name:"canned food",version:"5.0"},{emoji:"",category:3,name:"bento box",version:"1.0"},{emoji:"",category:3,name:"rice cracker",version:"1.0"},{emoji:"",category:3,name:"rice ball",version:"1.0"},{emoji:"",category:3,name:"cooked rice",version:"1.0"},{emoji:"",category:3,name:"curry rice",version:"1.0"},{emoji:"",category:3,name:"steaming bowl",version:"1.0"},{emoji:"",category:3,name:"spaghetti",version:"1.0"},{emoji:"",category:3,name:"roasted sweet potato",version:"1.0"},{emoji:"",category:3,name:"oden",version:"1.0"},{emoji:"",category:3,name:"sushi",version:"1.0"},{emoji:"",category:3,name:"fried shrimp",version:"1.0"},{emoji:"",category:3,name:"fish cake with swirl",version:"1.0"},{emoji:"",category:3,name:"moon cake",version:"11.0"},{emoji:"",category:3,name:"dango",version:"1.0"},{emoji:"",category:3,name:"dumpling",version:"5.0"},{emoji:"",category:3,name:"fortune cookie",version:"5.0"},{emoji:"",category:3,name:"takeout box",version:"5.0"},{emoji:"",category:3,name:"crab",version:"1.0"},{emoji:"",category:3,name:"lobster",version:"11.0"},{emoji:"",category:3,name:"shrimp",version:"3.0"},{emoji:"",category:3,name:"squid",version:"3.0"},{emoji:"",category:3,name:"oyster",version:"12.0"},{emoji:"",category:3,name:"soft ice cream",version:"1.0"},{emoji:"",category:3,name:"shaved ice",version:"1.0"},{emoji:"",category:3,name:"ice cream",version:"1.0"},{emoji:"",category:3,name:"doughnut",version:"1.0"},{emoji:"",category:3,name:"cookie",version:"1.0"},{emoji:"",category:3,name:"birthday cake",version:"1.0"},{emoji:"",category:3,name:"shortcake",version:"1.0"},{emoji:"",category:3,name:"cupcake",version:"11.0"},{emoji:"",category:3,name:"pie",version:"5.0"},{emoji:"",category:3,name:"chocolate bar",version:"1.0"},{emoji:"",category:3,name:"candy",version:"1.0"},{emoji:"",category:3,name:"lollipop",version:"1.0"},{emoji:"",category:3,name:"custard",version:"1.0"},{emoji:"",category:3,name:"honey pot",version:"1.0"},{emoji:"",category:3,name:"baby bottle",version:"1.0"},{emoji:"",category:3,name:"glass of milk",version:"3.0"},{emoji:"",category:3,name:"hot beverage",version:"1.0"},{emoji:"",category:3,name:"teapot",version:"13.0"},{emoji:"",category:3,name:"teacup without handle",version:"1.0"},{emoji:"",category:3,name:"sake",version:"1.0"},{emoji:"",category:3,name:"bottle with popping cork",version:"1.0"},{emoji:"",category:3,name:"wine glass",version:"1.0"},{emoji:"",category:3,name:"cocktail glass",version:"1.0"},{emoji:"",category:3,name:"tropical drink",version:"1.0"},{emoji:"",category:3,name:"beer mug",version:"1.0"},{emoji:"",category:3,name:"clinking beer mugs",version:"1.0"},{emoji:"",category:3,name:"clinking glasses",version:"3.0"},{emoji:"",category:3,name:"tumbler glass",version:"3.0"},{emoji:"",category:3,name:"cup with straw",version:"5.0"},{emoji:"",category:3,name:"bubble tea",version:"13.0"},{emoji:"",category:3,name:"beverage box",version:"12.0"},{emoji:"",category:3,name:"mate",version:"12.0"},{emoji:"",category:3,name:"ice",version:"12.0"},{emoji:"",category:3,name:"chopsticks",version:"5.0"},{emoji:"",category:3,name:"fork and knife with plate",version:"1.0"},{emoji:"",category:3,name:"fork and knife",version:"1.0"},{emoji:"",category:3,name:"spoon",version:"3.0"},{emoji:"",category:3,name:"kitchen knife",version:"1.0"},{emoji:"",category:3,name:"amphora",version:"1.0"},{emoji:"",category:4,name:"globe showing Europe-Africa",version:"1.0"},{emoji:"",category:4,name:"globe showing Americas",version:"1.0"},{emoji:"",category:4,name:"globe showing Asia-Australia",version:"1.0"},{emoji:"",category:4,name:"globe with meridians",version:"1.0"},{emoji:"",category:4,name:"world map",version:"1.0"},{emoji:"",category:4,name:"map of Japan",version:"1.0"},{emoji:"",category:4,name:"compass",version:"11.0"},{emoji:"",category:4,name:"snow-capped mountain",version:"1.0"},{emoji:"",category:4,name:"mountain",version:"1.0"},{emoji:"",category:4,name:"volcano",version:"1.0"},{emoji:"",category:4,name:"mount fuji",version:"1.0"},{emoji:"",category:4,name:"camping",version:"1.0"},{emoji:"",category:4,name:"beach with umbrella",version:"1.0"},{emoji:"",category:4,name:"desert",version:"1.0"},{emoji:"",category:4,name:"desert island",version:"1.0"},{emoji:"",category:4,name:"national park",version:"1.0"},{emoji:"",category:4,name:"stadium",version:"1.0"},{emoji:"",category:4,name:"classical building",version:"1.0"},{emoji:"",category:4,name:"building construction",version:"1.0"},{emoji:"",category:4,name:"brick",version:"11.0"},{emoji:"",category:4,name:"rock",version:"13.0"},{emoji:"",category:4,name:"wood",version:"13.0"},{emoji:"",category:4,name:"hut",version:"13.0"},{emoji:"",category:4,name:"houses",version:"1.0"},{emoji:"",category:4,name:"derelict house",version:"1.0"},{emoji:"",category:4,name:"house",version:"1.0"},{emoji:"",category:4,name:"house with garden",version:"1.0"},{emoji:"",category:4,name:"office building",version:"1.0"},{emoji:"",category:4,name:"Japanese post office",version:"1.0"},{emoji:"",category:4,name:"post office",version:"1.0"},{emoji:"",category:4,name:"hospital",version:"1.0"},{emoji:"",category:4,name:"bank",version:"1.0"},{emoji:"",category:4,name:"hotel",version:"1.0"},{emoji:"",category:4,name:"love hotel",version:"1.0"},{emoji:"",category:4,name:"convenience store",version:"1.0"},{emoji:"",category:4,name:"school",version:"1.0"},{emoji:"",category:4,name:"department store",version:"1.0"},{emoji:"",category:4,name:"factory",version:"1.0"},{emoji:"",category:4,name:"Japanese castle",version:"1.0"},{emoji:"",category:4,name:"castle",version:"1.0"},{emoji:"",category:4,name:"wedding",version:"1.0"},{emoji:"",category:4,name:"Tokyo tower",version:"1.0"},{emoji:"",category:4,name:"Statue of Liberty",version:"1.0"},{emoji:"",category:4,name:"church",version:"1.0"},{emoji:"",category:4,name:"mosque",version:"1.0"},{emoji:"",category:4,name:"hindu temple",version:"12.0"},{emoji:"",category:4,name:"synagogue",version:"1.0"},{emoji:"",category:4,name:"shinto shrine",version:"1.0"},{emoji:"",category:4,name:"kaaba",version:"1.0"},{emoji:"",category:4,name:"fountain",version:"1.0"},{emoji:"",category:4,name:"tent",version:"1.0"},{emoji:"",category:4,name:"foggy",version:"1.0"},{emoji:"",category:4,name:"night with stars",version:"1.0"},{emoji:"",category:4,name:"cityscape",version:"1.0"},{emoji:"",category:4,name:"sunrise over mountains",version:"1.0"},{emoji:"",category:4,name:"sunrise",version:"1.0"},{emoji:"",category:4,name:"cityscape at dusk",version:"1.0"},{emoji:"",category:4,name:"sunset",version:"1.0"},{emoji:"",category:4,name:"bridge at night",version:"1.0"},{emoji:"",category:4,name:"hot springs",version:"1.0"},{emoji:"",category:4,name:"carousel horse",version:"1.0"},{emoji:"",category:4,name:"ferris wheel",version:"1.0"},{emoji:"",category:4,name:"roller coaster",version:"1.0"},{emoji:"",category:4,name:"barber pole",version:"1.0"},{emoji:"",category:4,name:"circus tent",version:"1.0"},{emoji:"",category:4,name:"locomotive",version:"1.0"},{emoji:"",category:4,name:"railway car",version:"1.0"},{emoji:"",category:4,name:"high-speed train",version:"1.0"},{emoji:"",category:4,name:"bullet train",version:"1.0"},{emoji:"",category:4,name:"train",version:"1.0"},{emoji:"",category:4,name:"metro",version:"1.0"},{emoji:"",category:4,name:"light rail",version:"1.0"},{emoji:"",category:4,name:"station",version:"1.0"},{emoji:"",category:4,name:"tram",version:"1.0"},{emoji:"",category:4,name:"monorail",version:"1.0"},{emoji:"",category:4,name:"mountain railway",version:"1.0"},{emoji:"",category:4,name:"tram car",version:"1.0"},{emoji:"",category:4,name:"bus",version:"1.0"},{emoji:"",category:4,name:"oncoming bus",version:"1.0"},{emoji:"",category:4,name:"trolleybus",version:"1.0"},{emoji:"",category:4,name:"minibus",version:"1.0"},{emoji:"",category:4,name:"ambulance",version:"1.0"},{emoji:"",category:4,name:"fire engine",version:"1.0"},{emoji:"",category:4,name:"police car",version:"1.0"},{emoji:"",category:4,name:"oncoming police car",version:"1.0"},{emoji:"",category:4,name:"taxi",version:"1.0"},{emoji:"",category:4,name:"oncoming taxi",version:"1.0"},{emoji:"",category:4,name:"automobile",version:"1.0"},{emoji:"",category:4,name:"oncoming automobile",version:"1.0"},{emoji:"",category:4,name:"sport utility vehicle",version:"1.0"},{emoji:"",category:4,name:"pickup truck",version:"13.0"},{emoji:"",category:4,name:"delivery truck",version:"1.0"},{emoji:"",category:4,name:"articulated lorry",version:"1.0"},{emoji:"",category:4,name:"tractor",version:"1.0"},{emoji:"",category:4,name:"racing car",version:"1.0"},{emoji:"",category:4,name:"motorcycle",version:"1.0"},{emoji:"",category:4,name:"motor scooter",version:"3.0"},{emoji:"",category:4,name:"manual wheelchair",version:"12.0"},{emoji:"",category:4,name:"motorized wheelchair",version:"12.0"},{emoji:"",category:4,name:"auto rickshaw",version:"12.0"},{emoji:"",category:4,name:"bicycle",version:"1.0"},{emoji:"",category:4,name:"kick scooter",version:"3.0"},{emoji:"",category:4,name:"skateboard",version:"11.0"},{emoji:"",category:4,name:"roller skate",version:"13.0"},{emoji:"",category:4,name:"bus stop",version:"1.0"},{emoji:"",category:4,name:"motorway",version:"1.0"},{emoji:"",category:4,name:"railway track",version:"1.0"},{emoji:"",category:4,name:"oil drum",version:"1.0"},{emoji:"",category:4,name:"fuel pump",version:"1.0"},{emoji:"",category:4,name:"police car light",version:"1.0"},{emoji:"",category:4,name:"horizontal traffic light",version:"1.0"},{emoji:"",category:4,name:"vertical traffic light",version:"1.0"},{emoji:"",category:4,name:"stop sign",version:"3.0"},{emoji:"",category:4,name:"construction",version:"1.0"},{emoji:"",category:4,name:"anchor",version:"1.0"},{emoji:"",category:4,name:"sailboat",version:"1.0"},{emoji:"",category:4,name:"canoe",version:"3.0"},{emoji:"",category:4,name:"speedboat",version:"1.0"},{emoji:"",category:4,name:"passenger ship",version:"1.0"},{emoji:"",category:4,name:"ferry",version:"1.0"},{emoji:"",category:4,name:"motor boat",version:"1.0"},{emoji:"",category:4,name:"ship",version:"1.0"},{emoji:"",category:4,name:"airplane",version:"1.0"},{emoji:"",category:4,name:"small airplane",version:"1.0"},{emoji:"",category:4,name:"airplane departure",version:"1.0"},{emoji:"",category:4,name:"airplane arrival",version:"1.0"},{emoji:"",category:4,name:"parachute",version:"12.0"},{emoji:"",category:4,name:"seat",version:"1.0"},{emoji:"",category:4,name:"helicopter",version:"1.0"},{emoji:"",category:4,name:"suspension railway",version:"1.0"},{emoji:"",category:4,name:"mountain cableway",version:"1.0"},{emoji:"",category:4,name:"aerial tramway",version:"1.0"},{emoji:"",category:4,name:"satellite",version:"1.0"},{emoji:"",category:4,name:"rocket",version:"1.0"},{emoji:"",category:4,name:"flying saucer",version:"5.0"},{emoji:"",category:4,name:"bellhop bell",version:"1.0"},{emoji:"",category:4,name:"luggage",version:"11.0"},{emoji:"",category:4,name:"hourglass done",version:"1.0"},{emoji:"",category:4,name:"hourglass not done",version:"1.0"},{emoji:"",category:4,name:"watch",version:"1.0"},{emoji:"",category:4,name:"alarm clock",version:"1.0"},{emoji:"",category:4,name:"stopwatch",version:"1.0"},{emoji:"",category:4,name:"timer clock",version:"1.0"},{emoji:"",category:4,name:"mantelpiece clock",version:"1.0"},{emoji:"",category:4,name:"twelve oclock",version:"1.0"},{emoji:"",category:4,name:"twelve-thirty",version:"1.0"},{emoji:"",category:4,name:"one oclock",version:"1.0"},{emoji:"",category:4,name:"one-thirty",version:"1.0"},{emoji:"",category:4,name:"two oclock",version:"1.0"},{emoji:"",category:4,name:"two-thirty",version:"1.0"},{emoji:"",category:4,name:"three oclock",version:"1.0"},{emoji:"",category:4,name:"three-thirty",version:"1.0"},{emoji:"",category:4,name:"four oclock",version:"1.0"},{emoji:"",category:4,name:"four-thirty",version:"1.0"},{emoji:"",category:4,name:"five oclock",version:"1.0"},{emoji:"",category:4,name:"five-thirty",version:"1.0"},{emoji:"",category:4,name:"six oclock",version:"1.0"},{emoji:"",category:4,name:"six-thirty",version:"1.0"},{emoji:"",category:4,name:"seven oclock",version:"1.0"},{emoji:"",category:4,name:"seven-thirty",version:"1.0"},{emoji:"",category:4,name:"eight oclock",version:"1.0"},{emoji:"",category:4,name:"eight-thirty",version:"1.0"},{emoji:"",category:4,name:"nine oclock",version:"1.0"},{emoji:"",category:4,name:"nine-thirty",version:"1.0"},{emoji:"",category:4,name:"ten oclock",version:"1.0"},{emoji:"",category:4,name:"ten-thirty",version:"1.0"},{emoji:"",category:4,name:"eleven oclock",version:"1.0"},{emoji:"",category:4,name:"eleven-thirty",version:"1.0"},{emoji:"",category:4,name:"new moon",version:"1.0"},{emoji:"",category:4,name:"waxing crescent moon",version:"1.0"},{emoji:"",category:4,name:"first quarter moon",version:"1.0"},{emoji:"",category:4,name:"waxing gibbous moon",version:"1.0"},{emoji:"",category:4,name:"full moon",version:"1.0"},{emoji:"",category:4,name:"waning gibbous moon",version:"1.0"},{emoji:"",category:4,name:"last quarter moon",version:"1.0"},{emoji:"",category:4,name:"waning crescent moon",version:"1.0"},{emoji:"",category:4,name:"crescent moon",version:"1.0"},{emoji:"",category:4,name:"new moon face",version:"1.0"},{emoji:"",category:4,name:"first quarter moon face",version:"1.0"},{emoji:"",category:4,name:"last quarter moon face",version:"1.0"},{emoji:"",category:4,name:"thermometer",version:"1.0"},{emoji:"",category:4,name:"sun",version:"1.0"},{emoji:"",category:4,name:"full moon face",version:"1.0"},{emoji:"",category:4,name:"sun with face",version:"1.0"},{emoji:"",category:4,name:"ringed planet",version:"12.0"},{emoji:"",category:4,name:"star",version:"1.0"},{emoji:"",category:4,name:"glowing star",version:"1.0"},{emoji:"",category:4,name:"shooting star",version:"1.0"},{emoji:"",category:4,name:"milky way",version:"1.0"},{emoji:"",category:4,name:"cloud",version:"1.0"},{emoji:"",category:4,name:"sun behind cloud",version:"1.0"},{emoji:"",category:4,name:"cloud with lightning and rain",version:"1.0"},{emoji:"",category:4,name:"sun behind small cloud",version:"1.0"},{emoji:"",category:4,name:"sun behind large cloud",version:"1.0"},{emoji:"",category:4,name:"sun behind rain cloud",version:"1.0"},{emoji:"",category:4,name:"cloud with rain",version:"1.0"},{emoji:"",category:4,name:"cloud with snow",version:"1.0"},{emoji:"",category:4,name:"cloud with lightning",version:"1.0"},{emoji:"",category:4,name:"tornado",version:"1.0"},{emoji:"",category:4,name:"fog",version:"1.0"},{emoji:"",category:4,name:"wind face",version:"1.0"},{emoji:"",category:4,name:"cyclone",version:"1.0"},{emoji:"",category:4,name:"rainbow",version:"1.0"},{emoji:"",category:4,name:"closed umbrella",version:"1.0"},{emoji:"",category:4,name:"umbrella",version:"1.0"},{emoji:"",category:4,name:"umbrella with rain drops",version:"1.0"},{emoji:"",category:4,name:"umbrella on ground",version:"1.0"},{emoji:"",category:4,name:"high voltage",version:"1.0"},{emoji:"",category:4,name:"snowflake",version:"1.0"},{emoji:"",category:4,name:"snowman",version:"1.0"},{emoji:"",category:4,name:"snowman without snow",version:"1.0"},{emoji:"",category:4,name:"comet",version:"1.0"},{emoji:"",category:4,name:"fire",version:"1.0"},{emoji:"",category:4,name:"droplet",version:"1.0"},{emoji:"",category:4,name:"water wave",version:"1.0"},{emoji:"",category:5,name:"jack-o-lantern",version:"1.0"},{emoji:"",category:5,name:"Christmas tree",version:"1.0"},{emoji:"",category:5,name:"fireworks",version:"1.0"},{emoji:"",category:5,name:"sparkler",version:"1.0"},{emoji:"",category:5,name:"firecracker",version:"11.0"},{emoji:"",category:5,name:"sparkles",version:"1.0"},{emoji:"",category:5,name:"balloon",version:"1.0"},{emoji:"",category:5,name:"party popper",version:"1.0"},{emoji:"",category:5,name:"confetti ball",version:"1.0"},{emoji:"",category:5,name:"tanabata tree",version:"1.0"},{emoji:"",category:5,name:"pine decoration",version:"1.0"},{emoji:"",category:5,name:"Japanese dolls",version:"1.0"},{emoji:"",category:5,name:"carp streamer",version:"1.0"},{emoji:"",category:5,name:"wind chime",version:"1.0"},{emoji:"",category:5,name:"moon viewing ceremony",version:"1.0"},{emoji:"",category:5,name:"red envelope",version:"11.0"},{emoji:"",category:5,name:"ribbon",version:"1.0"},{emoji:"",category:5,name:"wrapped gift",version:"1.0"},{emoji:"",category:5,name:"reminder ribbon",version:"1.0"},{emoji:"",category:5,name:"admission tickets",version:"1.0"},{emoji:"",category:5,name:"ticket",version:"1.0"},{emoji:"",category:5,name:"military medal",version:"1.0"},{emoji:"",category:5,name:"trophy",version:"1.0"},{emoji:"",category:5,name:"sports medal",version:"1.0"},{emoji:"",category:5,name:"1st place medal",version:"3.0"},{emoji:"",category:5,name:"2nd place medal",version:"3.0"},{emoji:"",category:5,name:"3rd place medal",version:"3.0"},{emoji:"",category:5,name:"soccer ball",version:"1.0"},{emoji:"",category:5,name:"baseball",version:"1.0"},{emoji:"",category:5,name:"softball",version:"11.0"},{emoji:"",category:5,name:"basketball",version:"1.0"},{emoji:"",category:5,name:"volleyball",version:"1.0"},{emoji:"",category:5,name:"american football",version:"1.0"},{emoji:"",category:5,name:"rugby football",version:"1.0"},{emoji:"",category:5,name:"tennis",version:"1.0"},{emoji:"",category:5,name:"flying disc",version:"11.0"},{emoji:"",category:5,name:"bowling",version:"1.0"},{emoji:"",category:5,name:"cricket game",version:"1.0"},{emoji:"",category:5,name:"field hockey",version:"1.0"},{emoji:"",category:5,name:"ice hockey",version:"1.0"},{emoji:"",category:5,name:"lacrosse",version:"11.0"},{emoji:"",category:5,name:"ping pong",version:"1.0"},{emoji:"",category:5,name:"badminton",version:"1.0"},{emoji:"",category:5,name:"boxing glove",version:"3.0"},{emoji:"",category:5,name:"martial arts uniform",version:"3.0"},{emoji:"",category:5,name:"goal net",version:"3.0"},{emoji:"",category:5,name:"flag in hole",version:"1.0"},{emoji:"",category:5,name:"ice skate",version:"1.0"},{emoji:"",category:5,name:"fishing pole",version:"1.0"},{emoji:"",category:5,name:"diving mask",version:"12.0"},{emoji:"",category:5,name:"running shirt",version:"1.0"},{emoji:"",category:5,name:"skis",version:"1.0"},{emoji:"",category:5,name:"sled",version:"5.0"},{emoji:"",category:5,name:"curling stone",version:"5.0"},{emoji:"",category:5,name:"direct hit",version:"1.0"},{emoji:"",category:5,name:"yo-yo",version:"12.0"},{emoji:"",category:5,name:"kite",version:"12.0"},{emoji:"",category:5,name:"pool 8 ball",version:"1.0"},{emoji:"",category:5,name:"crystal ball",version:"1.0"},{emoji:"",category:5,name:"magic wand",version:"13.0"},{emoji:"",category:5,name:"nazar amulet",version:"11.0"},{emoji:"",category:5,name:"video game",version:"1.0"},{emoji:"",category:5,name:"joystick",version:"1.0"},{emoji:"",category:5,name:"slot machine",version:"1.0"},{emoji:"",category:5,name:"game die",version:"1.0"},{emoji:"",category:5,name:"puzzle piece",version:"11.0"},{emoji:"",category:5,name:"teddy bear",version:"11.0"},{emoji:"",category:5,name:"piata",version:"13.0"},{emoji:"",category:5,name:"nesting dolls",version:"13.0"},{emoji:"",category:5,name:"spade suit",version:"1.0"},{emoji:"",category:5,name:"heart suit",version:"1.0"},{emoji:"",category:5,name:"diamond suit",version:"1.0"},{emoji:"",category:5,name:"club suit",version:"1.0"},{emoji:"",category:5,name:"chess pawn",version:"11.0"},{emoji:"",category:5,name:"joker",version:"1.0"},{emoji:"",category:5,name:"mahjong red dragon",version:"1.0"},{emoji:"",category:5,name:"flower playing cards",version:"1.0"},{emoji:"",category:5,name:"performing arts",version:"1.0"},{emoji:"",category:5,name:"framed picture",version:"1.0"},{emoji:"",category:5,name:"artist palette",version:"1.0"},{emoji:"",category:5,name:"thread",version:"11.0"},{emoji:"",category:5,name:"sewing needle",version:"13.0"},{emoji:"",category:5,name:"yarn",version:"11.0"},{emoji:"",category:5,name:"knot",version:"13.0"},{emoji:"",category:6,name:"glasses",version:"1.0"},{emoji:"",category:6,name:"sunglasses",version:"1.0"},{emoji:"",category:6,name:"goggles",version:"11.0"},{emoji:"",category:6,name:"lab coat",version:"11.0"},{emoji:"",category:6,name:"safety vest",version:"12.0"},{emoji:"",category:6,name:"necktie",version:"1.0"},{emoji:"",category:6,name:"t-shirt",version:"1.0"},{emoji:"",category:6,name:"jeans",version:"1.0"},{emoji:"",category:6,name:"scarf",version:"5.0"},{emoji:"",category:6,name:"gloves",version:"5.0"},{emoji:"",category:6,name:"coat",version:"5.0"},{emoji:"",category:6,name:"socks",version:"5.0"},{emoji:"",category:6,name:"dress",version:"1.0"},{emoji:"",category:6,name:"kimono",version:"1.0"},{emoji:"",category:6,name:"sari",version:"12.0"},{emoji:"",category:6,name:"one-piece swimsuit",version:"12.0"},{emoji:"",category:6,name:"briefs",version:"12.0"},{emoji:"",category:6,name:"shorts",version:"12.0"},{emoji:"",category:6,name:"bikini",version:"1.0"},{emoji:"",category:6,name:"womans clothes",version:"1.0"},{emoji:"",category:6,name:"purse",version:"1.0"},{emoji:"",category:6,name:"handbag",version:"1.0"},{emoji:"",category:6,name:"clutch bag",version:"1.0"},{emoji:"",category:6,name:"shopping bags",version:"1.0"},{emoji:"",category:6,name:"backpack",version:"1.0"},{emoji:"",category:6,name:"thong sandal",version:"13.0"},{emoji:"",category:6,name:"mans shoe",version:"1.0"},{emoji:"",category:6,name:"running shoe",version:"1.0"},{emoji:"",category:6,name:"hiking boot",version:"11.0"},{emoji:"",category:6,name:"flat shoe",version:"11.0"},{emoji:"",category:6,name:"high-heeled shoe",version:"1.0"},{emoji:"",category:6,name:"womans sandal",version:"1.0"},{emoji:"",category:6,name:"ballet shoes",version:"12.0"},{emoji:"",category:6,name:"womans boot",version:"1.0"},{emoji:"",category:6,name:"crown",version:"1.0"},{emoji:"",category:6,name:"womans hat",version:"1.0"},{emoji:"",category:6,name:"top hat",version:"1.0"},{emoji:"",category:6,name:"graduation cap",version:"1.0"},{emoji:"",category:6,name:"billed cap",version:"5.0"},{emoji:"",category:6,name:"military helmet",version:"13.0"},{emoji:"",category:6,name:"rescue workers helmet",version:"1.0"},{emoji:"",category:6,name:"prayer beads",version:"1.0"},{emoji:"",category:6,name:"lipstick",version:"1.0"},{emoji:"",category:6,name:"ring",version:"1.0"},{emoji:"",category:6,name:"gem stone",version:"1.0"},{emoji:"",category:6,name:"muted speaker",version:"1.0"},{emoji:"",category:6,name:"speaker low volume",version:"1.0"},{emoji:"",category:6,name:"speaker medium volume",version:"1.0"},{emoji:"",category:6,name:"speaker high volume",version:"1.0"},{emoji:"",category:6,name:"loudspeaker",version:"1.0"},{emoji:"",category:6,name:"megaphone",version:"1.0"},{emoji:"",category:6,name:"postal horn",version:"1.0"},{emoji:"",category:6,name:"bell",version:"1.0"},{emoji:"",category:6,name:"bell with slash",version:"1.0"},{emoji:"",category:6,name:"musical score",version:"1.0"},{emoji:"",category:6,name:"musical note",version:"1.0"},{emoji:"",category:6,name:"musical notes",version:"1.0"},{emoji:"",category:6,name:"studio microphone",version:"1.0"},{emoji:"",category:6,name:"level slider",version:"1.0"},{emoji:"",category:6,name:"control knobs",version:"1.0"},{emoji:"",category:6,name:"microphone",version:"1.0"},{emoji:"",category:6,name:"headphone",version:"1.0"},{emoji:"",category:6,name:"radio",version:"1.0"},{emoji:"",category:6,name:"saxophone",version:"1.0"},{emoji:"",category:6,name:"accordion",version:"13.0"},{emoji:"",category:6,name:"guitar",version:"1.0"},{emoji:"",category:6,name:"musical keyboard",version:"1.0"},{emoji:"",category:6,name:"trumpet",version:"1.0"},{emoji:"",category:6,name:"violin",version:"1.0"},{emoji:"",category:6,name:"banjo",version:"12.0"},{emoji:"",category:6,name:"drum",version:"3.0"},{emoji:"",category:6,name:"long drum",version:"13.0"},{emoji:"",category:6,name:"mobile phone",version:"1.0"},{emoji:"",category:6,name:"mobile phone with arrow",version:"1.0"},{emoji:"",category:6,name:"telephone",version:"1.0"},{emoji:"",category:6,name:"telephone receiver",version:"1.0"},{emoji:"",category:6,name:"pager",version:"1.0"},{emoji:"",category:6,name:"fax machine",version:"1.0"},{emoji:"",category:6,name:"battery",version:"1.0"},{emoji:"",category:6,name:"electric plug",version:"1.0"},{emoji:"",category:6,name:"laptop",version:"1.0"},{emoji:"",category:6,name:"desktop computer",version:"1.0"},{emoji:"",category:6,name:"printer",version:"1.0"},{emoji:"",category:6,name:"keyboard",version:"1.0"},{emoji:"",category:6,name:"computer mouse",version:"1.0"},{emoji:"",category:6,name:"trackball",version:"1.0"},{emoji:"",category:6,name:"computer disk",version:"1.0"},{emoji:"",category:6,name:"floppy disk",version:"1.0"},{emoji:"",category:6,name:"optical disk",version:"1.0"},{emoji:"",category:6,name:"dvd",version:"1.0"},{emoji:"",category:6,name:"abacus",version:"11.0"},{emoji:"",category:6,name:"movie camera",version:"1.0"},{emoji:"",category:6,name:"film frames",version:"1.0"},{emoji:"",category:6,name:"film projector",version:"1.0"},{emoji:"",category:6,name:"clapper board",version:"1.0"},{emoji:"",category:6,name:"television",version:"1.0"},{emoji:"",category:6,name:"camera",version:"1.0"},{emoji:"",category:6,name:"camera with flash",version:"1.0"},{emoji:"",category:6,name:"video camera",version:"1.0"},{emoji:"",category:6,name:"videocassette",version:"1.0"},{emoji:"",category:6,name:"magnifying glass tilted left",version:"1.0"},{emoji:"",category:6,name:"magnifying glass tilted right",version:"1.0"},{emoji:"",category:6,name:"candle",version:"1.0"},{emoji:"",category:6,name:"light bulb",version:"1.0"},{emoji:"",category:6,name:"flashlight",version:"1.0"},{emoji:"",category:6,name:"red paper lantern",version:"1.0"},{emoji:"",category:6,name:"diya lamp",version:"12.0"},{emoji:"",category:6,name:"notebook with decorative cover",version:"1.0"},{emoji:"",category:6,name:"closed book",version:"1.0"},{emoji:"",category:6,name:"open book",version:"1.0"},{emoji:"",category:6,name:"green book",version:"1.0"},{emoji:"",category:6,name:"blue book",version:"1.0"},{emoji:"",category:6,name:"orange book",version:"1.0"},{emoji:"",category:6,name:"books",version:"1.0"},{emoji:"",category:6,name:"notebook",version:"1.0"},{emoji:"",category:6,name:"ledger",version:"1.0"},{emoji:"",category:6,name:"page with curl",version:"1.0"},{emoji:"",category:6,name:"scroll",version:"1.0"},{emoji:"",category:6,name:"page facing up",version:"1.0"},{emoji:"",category:6,name:"newspaper",version:"1.0"},{emoji:"",category:6,name:"rolled-up newspaper",version:"1.0"},{emoji:"",category:6,name:"bookmark tabs",version:"1.0"},{emoji:"",category:6,name:"bookmark",version:"1.0"},{emoji:"",category:6,name:"label",version:"1.0"},{emoji:"",category:6,name:"money bag",version:"1.0"},{emoji:"",category:6,name:"coin",version:"13.0"},{emoji:"",category:6,name:"yen banknote",version:"1.0"},{emoji:"",category:6,name:"dollar banknote",version:"1.0"},{emoji:"",category:6,name:"euro banknote",version:"1.0"},{emoji:"",category:6,name:"pound banknote",version:"1.0"},{emoji:"",category:6,name:"money with wings",version:"1.0"},{emoji:"",category:6,name:"credit card",version:"1.0"},{emoji:"",category:6,name:"receipt",version:"11.0"},{emoji:"",category:6,name:"chart increasing with yen",version:"1.0"},{emoji:"",category:6,name:"envelope",version:"1.0"},{emoji:"",category:6,name:"e-mail",version:"1.0"},{emoji:"",category:6,name:"incoming envelope",version:"1.0"},{emoji:"",category:6,name:"envelope with arrow",version:"1.0"},{emoji:"",category:6,name:"outbox tray",version:"1.0"},{emoji:"",category:6,name:"inbox tray",version:"1.0"},{emoji:"",category:6,name:"package",version:"1.0"},{emoji:"",category:6,name:"closed mailbox with raised flag",version:"1.0"},{emoji:"",category:6,name:"closed mailbox with lowered flag",version:"1.0"},{emoji:"",category:6,name:"open mailbox with raised flag",version:"1.0"},{emoji:"",category:6,name:"open mailbox with lowered flag",version:"1.0"},{emoji:"",category:6,name:"postbox",version:"1.0"},{emoji:"",category:6,name:"ballot box with ballot",version:"1.0"},{emoji:"",category:6,name:"pencil",version:"1.0"},{emoji:"",category:6,name:"black nib",version:"1.0"},{emoji:"",category:6,name:"fountain pen",version:"1.0"},{emoji:"",category:6,name:"pen",version:"1.0"},{emoji:"",category:6,name:"paintbrush",version:"1.0"},{emoji:"",category:6,name:"crayon",version:"1.0"},{emoji:"",category:6,name:"memo",version:"1.0"},{emoji:"",category:6,name:"briefcase",version:"1.0"},{emoji:"",category:6,name:"file folder",version:"1.0"},{emoji:"",category:6,name:"open file folder",version:"1.0"},{emoji:"",category:6,name:"card index dividers",version:"1.0"},{emoji:"",category:6,name:"calendar",version:"1.0"},{emoji:"",category:6,name:"tear-off calendar",version:"1.0"},{emoji:"",category:6,name:"spiral notepad",version:"1.0"},{emoji:"",category:6,name:"spiral calendar",version:"1.0"},{emoji:"",category:6,name:"card index",version:"1.0"},{emoji:"",category:6,name:"chart increasing",version:"1.0"},{emoji:"",category:6,name:"chart decreasing",version:"1.0"},{emoji:"",category:6,name:"bar chart",version:"1.0"},{emoji:"",category:6,name:"clipboard",version:"1.0"},{emoji:"",category:6,name:"pushpin",version:"1.0"},{emoji:"",category:6,name:"round pushpin",version:"1.0"},{emoji:"",category:6,name:"paperclip",version:"1.0"},{emoji:"",category:6,name:"linked paperclips",version:"1.0"},{emoji:"",category:6,name:"straight ruler",version:"1.0"},{emoji:"",category:6,name:"triangular ruler",version:"1.0"},{emoji:"",category:6,name:"scissors",version:"1.0"},{emoji:"",category:6,name:"card file box",version:"1.0"},{emoji:"",category:6,name:"file cabinet",version:"1.0"},{emoji:"",category:6,name:"wastebasket",version:"1.0"},{emoji:"",category:6,name:"locked",version:"1.0"},{emoji:"",category:6,name:"unlocked",version:"1.0"},{emoji:"",category:6,name:"locked with pen",version:"1.0"},{emoji:"",category:6,name:"locked with key",version:"1.0"},{emoji:"",category:6,name:"key",version:"1.0"},{emoji:"",category:6,name:"old key",version:"1.0"},{emoji:"",category:6,name:"hammer",version:"1.0"},{emoji:"",category:6,name:"axe",version:"12.0"},{emoji:"",category:6,name:"pick",version:"1.0"},{emoji:"",category:6,name:"hammer and pick",version:"1.0"},{emoji:"",category:6,name:"hammer and wrench",version:"1.0"},{emoji:"",category:6,name:"dagger",version:"1.0"},{emoji:"",category:6,name:"crossed swords",version:"1.0"},{emoji:"",category:6,name:"pistol",version:"1.0"},{emoji:"",category:6,name:"boomerang",version:"13.0"},{emoji:"",category:6,name:"bow and arrow",version:"1.0"},{emoji:"",category:6,name:"shield",version:"1.0"},{emoji:"",category:6,name:"carpentry saw",version:"13.0"},{emoji:"",category:6,name:"wrench",version:"1.0"},{emoji:"",category:6,name:"screwdriver",version:"13.0"},{emoji:"",category:6,name:"nut and bolt",version:"1.0"},{emoji:"",category:6,name:"gear",version:"1.0"},{emoji:"",category:6,name:"clamp",version:"1.0"},{emoji:"",category:6,name:"balance scale",version:"1.0"},{emoji:"",category:6,name:"white cane",version:"12.0"},{emoji:"",category:6,name:"link",version:"1.0"},{emoji:"",category:6,name:"chains",version:"1.0"},{emoji:"",category:6,name:"hook",version:"13.0"},{emoji:"",category:6,name:"toolbox",version:"11.0"},{emoji:"",category:6,name:"magnet",version:"11.0"},{emoji:"",category:6,name:"ladder",version:"13.0"},{emoji:"",category:6,name:"alembic",version:"1.0"},{emoji:"",category:6,name:"test tube",version:"11.0"},{emoji:"",category:6,name:"petri dish",version:"11.0"},{emoji:"",category:6,name:"dna",version:"11.0"},{emoji:"",category:6,name:"microscope",version:"1.0"},{emoji:"",category:6,name:"telescope",version:"1.0"},{emoji:"",category:6,name:"satellite antenna",version:"1.0"},{emoji:"",category:6,name:"syringe",version:"1.0"},{emoji:"",category:6,name:"drop of blood",version:"12.0"},{emoji:"",category:6,name:"pill",version:"1.0"},{emoji:"",category:6,name:"adhesive bandage",version:"12.0"},{emoji:"",category:6,name:"stethoscope",version:"12.0"},{emoji:"",category:6,name:"door",version:"1.0"},{emoji:"",category:6,name:"elevator",version:"13.0"},{emoji:"",category:6,name:"mirror",version:"13.0"},{emoji:"",category:6,name:"window",version:"13.0"},{emoji:"",category:6,name:"bed",version:"1.0"},{emoji:"",category:6,name:"couch and lamp",version:"1.0"},{emoji:"",category:6,name:"chair",version:"12.0"},{emoji:"",category:6,name:"toilet",version:"1.0"},{emoji:"",category:6,name:"plunger",version:"13.0"},{emoji:"",category:6,name:"shower",version:"1.0"},{emoji:"",category:6,name:"bathtub",version:"1.0"},{emoji:"",category:6,name:"mouse trap",version:"13.0"},{emoji:"",category:6,name:"razor",version:"12.0"},{emoji:"",category:6,name:"lotion bottle",version:"11.0"},{emoji:"",category:6,name:"safety pin",version:"11.0"},{emoji:"",category:6,name:"broom",version:"11.0"},{emoji:"",category:6,name:"basket",version:"11.0"},{emoji:"",category:6,name:"roll of paper",version:"11.0"},{emoji:"",category:6,name:"bucket",version:"13.0"},{emoji:"",category:6,name:"soap",version:"11.0"},{emoji:"",category:6,name:"toothbrush",version:"13.0"},{emoji:"",category:6,name:"sponge",version:"11.0"},{emoji:"",category:6,name:"fire extinguisher",version:"11.0"},{emoji:"",category:6,name:"shopping cart",version:"3.0"},{emoji:"",category:6,name:"cigarette",version:"1.0"},{emoji:"",category:6,name:"coffin",version:"1.0"},{emoji:"",category:6,name:"headstone",version:"13.0"},{emoji:"",category:6,name:"funeral urn",version:"1.0"},{emoji:"",category:6,name:"moai",version:"1.0"},{emoji:"",category:6,name:"placard",version:"13.0"},{emoji:"",category:7,name:"ATM sign",version:"1.0"},{emoji:"",category:7,name:"litter in bin sign",version:"1.0"},{emoji:"",category:7,name:"potable water",version:"1.0"},{emoji:"",category:7,name:"wheelchair symbol",version:"1.0"},{emoji:"",category:7,name:"mens room",version:"1.0"},{emoji:"",category:7,name:"womens room",version:"1.0"},{emoji:"",category:7,name:"restroom",version:"1.0"},{emoji:"",category:7,name:"baby symbol",version:"1.0"},{emoji:"",category:7,name:"water closet",version:"1.0"},{emoji:"",category:7,name:"passport control",version:"1.0"},{emoji:"",category:7,name:"customs",version:"1.0"},{emoji:"",category:7,name:"baggage claim",version:"1.0"},{emoji:"",category:7,name:"left luggage",version:"1.0"},{emoji:"",category:7,name:"warning",version:"1.0"},{emoji:"",category:7,name:"children crossing",version:"1.0"},{emoji:"",category:7,name:"no entry",version:"1.0"},{emoji:"",category:7,name:"prohibited",version:"1.0"},{emoji:"",category:7,name:"no bicycles",version:"1.0"},{emoji:"",category:7,name:"no smoking",version:"1.0"},{emoji:"",category:7,name:"no littering",version:"1.0"},{emoji:"",category:7,name:"non-potable water",version:"1.0"},{emoji:"",category:7,name:"no pedestrians",version:"1.0"},{emoji:"",category:7,name:"no mobile phones",version:"1.0"},{emoji:"",category:7,name:"no one under eighteen",version:"1.0"},{emoji:"",category:7,name:"radioactive",version:"1.0"},{emoji:"",category:7,name:"biohazard",version:"1.0"},{emoji:"",category:7,name:"up arrow",version:"1.0"},{emoji:"",category:7,name:"up-right arrow",version:"1.0"},{emoji:"",category:7,name:"right arrow",version:"1.0"},{emoji:"",category:7,name:"down-right arrow",version:"1.0"},{emoji:"",category:7,name:"down arrow",version:"1.0"},{emoji:"",category:7,name:"down-left arrow",version:"1.0"},{emoji:"",category:7,name:"left arrow",version:"1.0"},{emoji:"",category:7,name:"up-left arrow",version:"1.0"},{emoji:"",category:7,name:"up-down arrow",version:"1.0"},{emoji:"",category:7,name:"left-right arrow",version:"1.0"},{emoji:"",category:7,name:"right arrow curving left",version:"1.0"},{emoji:"",category:7,name:"left arrow curving right",version:"1.0"},{emoji:"",category:7,name:"right arrow curving up",version:"1.0"},{emoji:"",category:7,name:"right arrow curving down",version:"1.0"},{emoji:"",category:7,name:"clockwise vertical arrows",version:"1.0"},{emoji:"",category:7,name:"counterclockwise arrows button",version:"1.0"},{emoji:"",category:7,name:"BACK arrow",version:"1.0"},{emoji:"",category:7,name:"END arrow",version:"1.0"},{emoji:"",category:7,name:"ON! arrow",version:"1.0"},{emoji:"",category:7,name:"SOON arrow",version:"1.0"},{emoji:"",category:7,name:"TOP arrow",version:"1.0"},{emoji:"",category:7,name:"place of worship",version:"1.0"},{emoji:"",category:7,name:"atom symbol",version:"1.0"},{emoji:"",category:7,name:"om",version:"1.0"},{emoji:"",category:7,name:"star of David",version:"1.0"},{emoji:"",category:7,name:"wheel of dharma",version:"1.0"},{emoji:"",category:7,name:"yin yang",version:"1.0"},{emoji:"",category:7,name:"latin cross",version:"1.0"},{emoji:"",category:7,name:"orthodox cross",version:"1.0"},{emoji:"",category:7,name:"star and crescent",version:"1.0"},{emoji:"",category:7,name:"peace symbol",version:"1.0"},{emoji:"",category:7,name:"menorah",version:"1.0"},{emoji:"",category:7,name:"dotted six-pointed star",version:"1.0"},{emoji:"",category:7,name:"Aries",version:"1.0"},{emoji:"",category:7,name:"Taurus",version:"1.0"},{emoji:"",category:7,name:"Gemini",version:"1.0"},{emoji:"",category:7,name:"Cancer",version:"1.0"},{emoji:"",category:7,name:"Leo",version:"1.0"},{emoji:"",category:7,name:"Virgo",version:"1.0"},{emoji:"",category:7,name:"Libra",version:"1.0"},{emoji:"",category:7,name:"Scorpio",version:"1.0"},{emoji:"",category:7,name:"Sagittarius",version:"1.0"},{emoji:"",category:7,name:"Capricorn",version:"1.0"},{emoji:"",category:7,name:"Aquarius",version:"1.0"},{emoji:"",category:7,name:"Pisces",version:"1.0"},{emoji:"",category:7,name:"Ophiuchus",version:"1.0"},{emoji:"",category:7,name:"shuffle tracks button",version:"1.0"},{emoji:"",category:7,name:"repeat button",version:"1.0"},{emoji:"",category:7,name:"repeat single button",version:"1.0"},{emoji:"",category:7,name:"play button",version:"1.0"},{emoji:"",category:7,name:"fast-forward button",version:"1.0"},{emoji:"",category:7,name:"next track button",version:"1.0"},{emoji:"",category:7,name:"play or pause button",version:"1.0"},{emoji:"",category:7,name:"reverse button",version:"1.0"},{emoji:"",category:7,name:"fast reverse button",version:"1.0"},{emoji:"",category:7,name:"last track button",version:"1.0"},{emoji:"",category:7,name:"upwards button",version:"1.0"},{emoji:"",category:7,name:"fast up button",version:"1.0"},{emoji:"",category:7,name:"downwards button",version:"1.0"},{emoji:"",category:7,name:"fast down button",version:"1.0"},{emoji:"",category:7,name:"pause button",version:"1.0"},{emoji:"",category:7,name:"stop button",version:"1.0"},{emoji:"",category:7,name:"record button",version:"1.0"},{emoji:"",category:7,name:"eject button",version:"1.0"},{emoji:"",category:7,name:"cinema",version:"1.0"},{emoji:"",category:7,name:"dim button",version:"1.0"},{emoji:"",category:7,name:"bright button",version:"1.0"},{emoji:"",category:7,name:"antenna bars",version:"1.0"},{emoji:"",category:7,name:"vibration mode",version:"1.0"},{emoji:"",category:7,name:"mobile phone off",version:"1.0"},{emoji:"",category:7,name:"female sign",version:"4.0"},{emoji:"",category:7,name:"male sign",version:"4.0"},{emoji:"",category:7,name:"transgender symbol",version:"13.0"},{emoji:"",category:7,name:"multiply",version:"1.0"},{emoji:"",category:7,name:"plus",version:"1.0"},{emoji:"",category:7,name:"minus",version:"1.0"},{emoji:"",category:7,name:"divide",version:"1.0"},{emoji:"",category:7,name:"infinity",version:"11.0"},{emoji:"",category:7,name:"double exclamation mark",version:"1.0"},{emoji:"",category:7,name:"exclamation question mark",version:"1.0"},{emoji:"",category:7,name:"question mark",version:"1.0"},{emoji:"",category:7,name:"white question mark",version:"1.0"},{emoji:"",category:7,name:"white exclamation mark",version:"1.0"},{emoji:"",category:7,name:"exclamation mark",version:"1.0"},{emoji:"",category:7,name:"wavy dash",version:"1.0"},{emoji:"",category:7,name:"currency exchange",version:"1.0"},{emoji:"",category:7,name:"heavy dollar sign",version:"1.0"},{emoji:"",category:7,name:"medical symbol",version:"4.0"},{emoji:"",category:7,name:"recycling symbol",version:"1.0"},{emoji:"",category:7,name:"fleur-de-lis",version:"1.0"},{emoji:"",category:7,name:"trident emblem",version:"1.0"},{emoji:"",category:7,name:"name badge",version:"1.0"},{emoji:"",category:7,name:"Japanese symbol for beginner",version:"1.0"},{emoji:"",category:7,name:"hollow red circle",version:"1.0"},{emoji:"",category:7,name:"check mark button",version:"1.0"},{emoji:"",category:7,name:"check box with check",version:"1.0"},{emoji:"",category:7,name:"check mark",version:"1.0"},{emoji:"",category:7,name:"cross mark",version:"1.0"},{emoji:"",category:7,name:"cross mark button",version:"1.0"},{emoji:"",category:7,name:"curly loop",version:"1.0"},{emoji:"",category:7,name:"double curly loop",version:"1.0"},{emoji:"",category:7,name:"part alternation mark",version:"1.0"},{emoji:"",category:7,name:"eight-spoked asterisk",version:"1.0"},{emoji:"",category:7,name:"eight-pointed star",version:"1.0"},{emoji:"",category:7,name:"sparkle",version:"1.0"},{emoji:"",category:7,name:"copyright",version:"1.0"},{emoji:"",category:7,name:"registered",version:"1.0"},{emoji:"",category:7,name:"trade mark",version:"1.0"},{emoji:"#",category:7,name:"keycap: #",version:"1.0"},{emoji:"*",category:7,name:"keycap: *",version:"2.0"},{emoji:"0",category:7,name:"keycap: 0",version:"1.0"},{emoji:"1",category:7,name:"keycap: 1",version:"1.0"},{emoji:"2",category:7,name:"keycap: 2",version:"1.0"},{emoji:"3",category:7,name:"keycap: 3",version:"1.0"},{emoji:"4",category:7,name:"keycap: 4",version:"1.0"},{emoji:"5",category:7,name:"keycap: 5",version:"1.0"},{emoji:"6",category:7,name:"keycap: 6",version:"1.0"},{emoji:"7",category:7,name:"keycap: 7",version:"1.0"},{emoji:"8",category:7,name:"keycap: 8",version:"1.0"},{emoji:"9",category:7,name:"keycap: 9",version:"1.0"},{emoji:"",category:7,name:"keycap: 10",version:"1.0"},{emoji:"",category:7,name:"input latin uppercase",version:"1.0"},{emoji:"",category:7,name:"input latin lowercase",version:"1.0"},{emoji:"",category:7,name:"input numbers",version:"1.0"},{emoji:"",category:7,name:"input symbols",version:"1.0"},{emoji:"",category:7,name:"input latin letters",version:"1.0"},{emoji:"",category:7,name:"A button (blood type)",version:"1.0"},{emoji:"",category:7,name:"AB button (blood type)",version:"1.0"},{emoji:"",category:7,name:"B button (blood type)",version:"1.0"},{emoji:"",category:7,name:"CL button",version:"1.0"},{emoji:"",category:7,name:"COOL button",version:"1.0"},{emoji:"",category:7,name:"FREE button",version:"1.0"},{emoji:"",category:7,name:"information",version:"1.0"},{emoji:"",category:7,name:"ID button",version:"1.0"},{emoji:"",category:7,name:"circled M",version:"1.0"},{emoji:"",category:7,name:"NEW button",version:"1.0"},{emoji:"",category:7,name:"NG button",version:"1.0"},{emoji:"",category:7,name:"O button (blood type)",version:"1.0"},{emoji:"",category:7,name:"OK button",version:"1.0"},{emoji:"",category:7,name:"P button",version:"1.0"},{emoji:"",category:7,name:"SOS button",version:"1.0"},{emoji:"",category:7,name:"UP! button",version:"1.0"},{emoji:"",category:7,name:"VS button",version:"1.0"},{emoji:"",category:7,name:"Japanese here button",version:"1.0"},{emoji:"",category:7,name:"Japanese service charge button",version:"1.0"},{emoji:"",category:7,name:"Japanese monthly amount button",version:"1.0"},{emoji:"",category:7,name:"Japanese not free of charge button",version:"1.0"},{emoji:"",category:7,name:"Japanese reserved button",version:"1.0"},{emoji:"",category:7,name:"Japanese bargain button",version:"1.0"},{emoji:"",category:7,name:"Japanese discount button",version:"1.0"},{emoji:"",category:7,name:"Japanese free of charge button",version:"1.0"},{emoji:"",category:7,name:"Japanese prohibited button",version:"1.0"},{emoji:"",category:7,name:"Japanese acceptable button",version:"1.0"},{emoji:"",category:7,name:"Japanese application button",version:"1.0"},{emoji:"",category:7,name:"Japanese passing grade button",version:"1.0"},{emoji:"",category:7,name:"Japanese vacancy button",version:"1.0"},{emoji:"",category:7,name:"Japanese congratulations button",version:"1.0"},{emoji:"",category:7,name:"Japanese secret button",version:"1.0"},{emoji:"",category:7,name:"Japanese open for business button",version:"1.0"},{emoji:"",category:7,name:"Japanese no vacancy button",version:"1.0"},{emoji:"",category:7,name:"red circle",version:"1.0"},{emoji:"",category:7,name:"orange circle",version:"12.0"},{emoji:"",category:7,name:"yellow circle",version:"12.0"},{emoji:"",category:7,name:"green circle",version:"12.0"},{emoji:"",category:7,name:"blue circle",version:"1.0"},{emoji:"",category:7,name:"purple circle",version:"12.0"},{emoji:"",category:7,name:"brown circle",version:"12.0"},{emoji:"",category:7,name:"black circle",version:"1.0"},{emoji:"",category:7,name:"white circle",version:"1.0"},{emoji:"",category:7,name:"red square",version:"12.0"},{emoji:"",category:7,name:"orange square",version:"12.0"},{emoji:"",category:7,name:"yellow square",version:"12.0"},{emoji:"",category:7,name:"green square",version:"12.0"},{emoji:"",category:7,name:"blue square",version:"12.0"},{emoji:"",category:7,name:"purple square",version:"12.0"},{emoji:"",category:7,name:"brown square",version:"12.0"},{emoji:"",category:7,name:"black large square",version:"1.0"},{emoji:"",category:7,name:"white large square",version:"1.0"},{emoji:"",category:7,name:"black medium square",version:"1.0"},{emoji:"",category:7,name:"white medium square",version:"1.0"},{emoji:"",category:7,name:"black medium-small square",version:"1.0"},{emoji:"",category:7,name:"white medium-small square",version:"1.0"},{emoji:"",category:7,name:"black small square",version:"1.0"},{emoji:"",category:7,name:"white small square",version:"1.0"},{emoji:"",category:7,name:"large orange diamond",version:"1.0"},{emoji:"",category:7,name:"large blue diamond",version:"1.0"},{emoji:"",category:7,name:"small orange diamond",version:"1.0"},{emoji:"",category:7,name:"small blue diamond",version:"1.0"},{emoji:"",category:7,name:"red triangle pointed up",version:"1.0"},{emoji:"",category:7,name:"red triangle pointed down",version:"1.0"},{emoji:"",category:7,name:"diamond with a dot",version:"1.0"},{emoji:"",category:7,name:"radio button",version:"1.0"},{emoji:"",category:7,name:"white square button",version:"1.0"},{emoji:"",category:7,name:"black square button",version:"1.0"},{emoji:"",category:8,name:"chequered flag",version:"1.0"},{emoji:"",category:8,name:"triangular flag",version:"1.0"},{emoji:"",category:8,name:"crossed flags",version:"1.0"},{emoji:"",category:8,name:"black flag",version:"1.0"},{emoji:"",category:8,name:"white flag",version:"1.0"},{emoji:"",category:8,name:"rainbow flag",version:"4.0"},{emoji:"",category:8,name:"transgender flag",version:"13.0"},{emoji:"",category:8,name:"pirate flag",version:"11.0"},{emoji:"",category:8,name:"flag: Ascension Island",version:"2.0"},{emoji:"",category:8,name:"flag: Andorra",version:"2.0"},{emoji:"",category:8,name:"flag: United Arab Emirates",version:"2.0"},{emoji:"",category:8,name:"flag: Afghanistan",version:"2.0"},{emoji:"",category:8,name:"flag: Antigua & Barbuda",version:"2.0"},{emoji:"",category:8,name:"flag: Anguilla",version:"2.0"},{emoji:"",category:8,name:"flag: Albania",version:"2.0"},{emoji:"",category:8,name:"flag: Armenia",version:"2.0"},{emoji:"",category:8,name:"flag: Angola",version:"2.0"},{emoji:"",category:8,name:"flag: Antarctica",version:"2.0"},{emoji:"",category:8,name:"flag: Argentina",version:"2.0"},{emoji:"",category:8,name:"flag: American Samoa",version:"2.0"},{emoji:"",category:8,name:"flag: Austria",version:"2.0"},{emoji:"",category:8,name:"flag: Australia",version:"2.0"},{emoji:"",category:8,name:"flag: Aruba",version:"2.0"},{emoji:"",category:8,name:"flag: land Islands",version:"2.0"},{emoji:"",category:8,name:"flag: Azerbaijan",version:"2.0"},{emoji:"",category:8,name:"flag: Bosnia & Herzegovina",version:"2.0"},{emoji:"",category:8,name:"flag: Barbados",version:"2.0"},{emoji:"",category:8,name:"flag: Bangladesh",version:"2.0"},{emoji:"",category:8,name:"flag: Belgium",version:"2.0"},{emoji:"",category:8,name:"flag: Burkina Faso",version:"2.0"},{emoji:"",category:8,name:"flag: Bulgaria",version:"2.0"},{emoji:"",category:8,name:"flag: Bahrain",version:"2.0"},{emoji:"",category:8,name:"flag: Burundi",version:"2.0"},{emoji:"",category:8,name:"flag: Benin",version:"2.0"},{emoji:"",category:8,name:"flag: St. Barthlemy",version:"2.0"},{emoji:"",category:8,name:"flag: Bermuda",version:"2.0"},{emoji:"",category:8,name:"flag: Brunei",version:"2.0"},{emoji:"",category:8,name:"flag: Bolivia",version:"2.0"},{emoji:"",category:8,name:"flag: Caribbean Netherlands",version:"2.0"},{emoji:"",category:8,name:"flag: Brazil",version:"2.0"},{emoji:"",category:8,name:"flag: Bahamas",version:"2.0"},{emoji:"",category:8,name:"flag: Bhutan",version:"2.0"},{emoji:"",category:8,name:"flag: Bouvet Island",version:"2.0"},{emoji:"",category:8,name:"flag: Botswana",version:"2.0"},{emoji:"",category:8,name:"flag: Belarus",version:"2.0"},{emoji:"",category:8,name:"flag: Belize",version:"2.0"},{emoji:"",category:8,name:"flag: Canada",version:"2.0"},{emoji:"",category:8,name:"flag: Cocos (Keeling) Islands",version:"2.0"},{emoji:"",category:8,name:"flag: Congo - Kinshasa",version:"2.0"},{emoji:"",category:8,name:"flag: Central African Republic",version:"2.0"},{emoji:"",category:8,name:"flag: Congo - Brazzaville",version:"2.0"},{emoji:"",category:8,name:"flag: Switzerland",version:"2.0"},{emoji:"",category:8,name:"flag: Cte dIvoire",version:"2.0"},{emoji:"",category:8,name:"flag: Cook Islands",version:"2.0"},{emoji:"",category:8,name:"flag: Chile",version:"2.0"},{emoji:"",category:8,name:"flag: Cameroon",version:"2.0"},{emoji:"",category:8,name:"flag: China",version:"1.0"},{emoji:"",category:8,name:"flag: Colombia",version:"2.0"},{emoji:"",category:8,name:"flag: Clipperton Island",version:"2.0"},{emoji:"",category:8,name:"flag: Costa Rica",version:"2.0"},{emoji:"",category:8,name:"flag: Cuba",version:"2.0"},{emoji:"",category:8,name:"flag: Cape Verde",version:"2.0"},{emoji:"",category:8,name:"flag: Curaao",version:"2.0"},{emoji:"",category:8,name:"flag: Christmas Island",version:"2.0"},{emoji:"",category:8,name:"flag: Cyprus",version:"2.0"},{emoji:"",category:8,name:"flag: Czechia",version:"2.0"},{emoji:"",category:8,name:"flag: Germany",version:"1.0"},{emoji:"",category:8,name:"flag: Diego Garcia",version:"2.0"},{emoji:"",category:8,name:"flag: Djibouti",version:"2.0"},{emoji:"",category:8,name:"flag: Denmark",version:"2.0"},{emoji:"",category:8,name:"flag: Dominica",version:"2.0"},{emoji:"",category:8,name:"flag: Dominican Republic",version:"2.0"},{emoji:"",category:8,name:"flag: Algeria",version:"2.0"},{emoji:"",category:8,name:"flag: Ceuta & Melilla",version:"2.0"},{emoji:"",category:8,name:"flag: Ecuador",version:"2.0"},{emoji:"",category:8,name:"flag: Estonia",version:"2.0"},{emoji:"",category:8,name:"flag: Egypt",version:"2.0"},{emoji:"",category:8,name:"flag: Western Sahara",version:"2.0"},{emoji:"",category:8,name:"flag: Eritrea",version:"2.0"},{emoji:"",category:8,name:"flag: Spain",version:"1.0"},{emoji:"",category:8,name:"flag: Ethiopia",version:"2.0"},{emoji:"",category:8,name:"flag: European Union",version:"2.0"},{emoji:"",category:8,name:"flag: Finland",version:"2.0"},{emoji:"",category:8,name:"flag: Fiji",version:"2.0"},{emoji:"",category:8,name:"flag: Falkland Islands",version:"2.0"},{emoji:"",category:8,name:"flag: Micronesia",version:"2.0"},{emoji:"",category:8,name:"flag: Faroe Islands",version:"2.0"},{emoji:"",category:8,name:"flag: France",version:"1.0"},{emoji:"",category:8,name:"flag: Gabon",version:"2.0"},{emoji:"",category:8,name:"flag: United Kingdom",version:"1.0"},{emoji:"",category:8,name:"flag: Grenada",version:"2.0"},{emoji:"",category:8,name:"flag: Georgia",version:"2.0"},{emoji:"",category:8,name:"flag: French Guiana",version:"2.0"},{emoji:"",category:8,name:"flag: Guernsey",version:"2.0"},{emoji:"",category:8,name:"flag: Ghana",version:"2.0"},{emoji:"",category:8,name:"flag: Gibraltar",version:"2.0"},{emoji:"",category:8,name:"flag: Greenland",version:"2.0"},{emoji:"",category:8,name:"flag: Gambia",version:"2.0"},{emoji:"",category:8,name:"flag: Guinea",version:"2.0"},{emoji:"",category:8,name:"flag: Guadeloupe",version:"2.0"},{emoji:"",category:8,name:"flag: Equatorial Guinea",version:"2.0"},{emoji:"",category:8,name:"flag: Greece",version:"2.0"},{emoji:"",category:8,name:"flag: South Georgia & South Sandwich Islands",version:"2.0"},{emoji:"",category:8,name:"flag: Guatemala",version:"2.0"},{emoji:"",category:8,name:"flag: Guam",version:"2.0"},{emoji:"",category:8,name:"flag: Guinea-Bissau",version:"2.0"},{emoji:"",category:8,name:"flag: Guyana",version:"2.0"},{emoji:"",category:8,name:"flag: Hong Kong SAR China",version:"2.0"},{emoji:"",category:8,name:"flag: Heard & McDonald Islands",version:"2.0"},{emoji:"",category:8,name:"flag: Honduras",version:"2.0"},{emoji:"",category:8,name:"flag: Croatia",version:"2.0"},{emoji:"",category:8,name:"flag: Haiti",version:"2.0"},{emoji:"",category:8,name:"flag: Hungary",version:"2.0"},{emoji:"",category:8,name:"flag: Canary Islands",version:"2.0"},{emoji:"",category:8,name:"flag: Indonesia",version:"2.0"},{emoji:"",category:8,name:"flag: Ireland",version:"2.0"},{emoji:"",category:8,name:"flag: Israel",version:"2.0"},{emoji:"",category:8,name:"flag: Isle of Man",version:"2.0"},{emoji:"",category:8,name:"flag: India",version:"2.0"},{emoji:"",category:8,name:"flag: British Indian Ocean Territory",version:"2.0"},{emoji:"",category:8,name:"flag: Iraq",version:"2.0"},{emoji:"",category:8,name:"flag: Iran",version:"2.0"},{emoji:"",category:8,name:"flag: Iceland",version:"2.0"},{emoji:"",category:8,name:"flag: Italy",version:"1.0"},{emoji:"",category:8,name:"flag: Jersey",version:"2.0"},{emoji:"",category:8,name:"flag: Jamaica",version:"2.0"},{emoji:"",category:8,name:"flag: Jordan",version:"2.0"},{emoji:"",category:8,name:"flag: Japan",version:"1.0"},{emoji:"",category:8,name:"flag: Kenya",version:"2.0"},{emoji:"",category:8,name:"flag: Kyrgyzstan",version:"2.0"},{emoji:"",category:8,name:"flag: Cambodia",version:"2.0"},{emoji:"",category:8,name:"flag: Kiribati",version:"2.0"},{emoji:"",category:8,name:"flag: Comoros",version:"2.0"},{emoji:"",category:8,name:"flag: St. Kitts & Nevis",version:"2.0"},{emoji:"",category:8,name:"flag: North Korea",version:"2.0"},{emoji:"",category:8,name:"flag: South Korea",version:"1.0"},{emoji:"",category:8,name:"flag: Kuwait",version:"2.0"},{emoji:"",category:8,name:"flag: Cayman Islands",version:"2.0"},{emoji:"",category:8,name:"flag: Kazakhstan",version:"2.0"},{emoji:"",category:8,name:"flag: Laos",version:"2.0"},{emoji:"",category:8,name:"flag: Lebanon",version:"2.0"},{emoji:"",category:8,name:"flag: St. Lucia",version:"2.0"},{emoji:"",category:8,name:"flag: Liechtenstein",version:"2.0"},{emoji:"",category:8,name:"flag: Sri Lanka",version:"2.0"},{emoji:"",category:8,name:"flag: Liberia",version:"2.0"},{emoji:"",category:8,name:"flag: Lesotho",version:"2.0"},{emoji:"",category:8,name:"flag: Lithuania",version:"2.0"},{emoji:"",category:8,name:"flag: Luxembourg",version:"2.0"},{emoji:"",category:8,name:"flag: Latvia",version:"2.0"},{emoji:"",category:8,name:"flag: Libya",version:"2.0"},{emoji:"",category:8,name:"flag: Morocco",version:"2.0"},{emoji:"",category:8,name:"flag: Monaco",version:"2.0"},{emoji:"",category:8,name:"flag: Moldova",version:"2.0"},{emoji:"",category:8,name:"flag: Montenegro",version:"2.0"},{emoji:"",category:8,name:"flag: St. Martin",version:"2.0"},{emoji:"",category:8,name:"flag: Madagascar",version:"2.0"},{emoji:"",category:8,name:"flag: Marshall Islands",version:"2.0"},{emoji:"",category:8,name:"flag: North Macedonia",version:"2.0"},{emoji:"",category:8,name:"flag: Mali",version:"2.0"},{emoji:"",category:8,name:"flag: Myanmar (Burma)",version:"2.0"},{emoji:"",category:8,name:"flag: Mongolia",version:"2.0"},{emoji:"",category:8,name:"flag: Macao SAR China",version:"2.0"},{emoji:"",category:8,name:"flag: Northern Mariana Islands",version:"2.0"},{emoji:"",category:8,name:"flag: Martinique",version:"2.0"},{emoji:"",category:8,name:"flag: Mauritania",version:"2.0"},{emoji:"",category:8,name:"flag: Montserrat",version:"2.0"},{emoji:"",category:8,name:"flag: Malta",version:"2.0"},{emoji:"",category:8,name:"flag: Mauritius",version:"2.0"},{emoji:"",category:8,name:"flag: Maldives",version:"2.0"},{emoji:"",category:8,name:"flag: Malawi",version:"2.0"},{emoji:"",category:8,name:"flag: Mexico",version:"2.0"},{emoji:"",category:8,name:"flag: Malaysia",version:"2.0"},{emoji:"",category:8,name:"flag: Mozambique",version:"2.0"},{emoji:"",category:8,name:"flag: Namibia",version:"2.0"},{emoji:"",category:8,name:"flag: New Caledonia",version:"2.0"},{emoji:"",category:8,name:"flag: Niger",version:"2.0"},{emoji:"",category:8,name:"flag: Norfolk Island",version:"2.0"},{emoji:"",category:8,name:"flag: Nigeria",version:"2.0"},{emoji:"",category:8,name:"flag: Nicaragua",version:"2.0"},{emoji:"",category:8,name:"flag: Netherlands",version:"2.0"},{emoji:"",category:8,name:"flag: Norway",version:"2.0"},{emoji:"",category:8,name:"flag: Nepal",version:"2.0"},{emoji:"",category:8,name:"flag: Nauru",version:"2.0"},{emoji:"",category:8,name:"flag: Niue",version:"2.0"},{emoji:"",category:8,name:"flag: New Zealand",version:"2.0"},{emoji:"",category:8,name:"flag: Oman",version:"2.0"},{emoji:"",category:8,name:"flag: Panama",version:"2.0"},{emoji:"",category:8,name:"flag: Peru",version:"2.0"},{emoji:"",category:8,name:"flag: French Polynesia",version:"2.0"},{emoji:"",category:8,name:"flag: Papua New Guinea",version:"2.0"},{emoji:"",category:8,name:"flag: Philippines",version:"2.0"},{emoji:"",category:8,name:"flag: Pakistan",version:"2.0"},{emoji:"",category:8,name:"flag: Poland",version:"2.0"},{emoji:"",category:8,name:"flag: St. Pierre & Miquelon",version:"2.0"},{emoji:"",category:8,name:"flag: Pitcairn Islands",version:"2.0"},{emoji:"",category:8,name:"flag: Puerto Rico",version:"2.0"},{emoji:"",category:8,name:"flag: Palestinian Territories",version:"2.0"},{emoji:"",category:8,name:"flag: Portugal",version:"2.0"},{emoji:"",category:8,name:"flag: Palau",version:"2.0"},{emoji:"",category:8,name:"flag: Paraguay",version:"2.0"},{emoji:"",category:8,name:"flag: Qatar",version:"2.0"},{emoji:"",category:8,name:"flag: Runion",version:"2.0"},{emoji:"",category:8,name:"flag: Romania",version:"2.0"},{emoji:"",category:8,name:"flag: Serbia",version:"2.0"},{emoji:"",category:8,name:"flag: Russia",version:"1.0"},{emoji:"",category:8,name:"flag: Rwanda",version:"2.0"},{emoji:"",category:8,name:"flag: Saudi Arabia",version:"2.0"},{emoji:"",category:8,name:"flag: Solomon Islands",version:"2.0"},{emoji:"",category:8,name:"flag: Seychelles",version:"2.0"},{emoji:"",category:8,name:"flag: Sudan",version:"2.0"},{emoji:"",category:8,name:"flag: Sweden",version:"2.0"},{emoji:"",category:8,name:"flag: Singapore",version:"2.0"},{emoji:"",category:8,name:"flag: St. Helena",version:"2.0"},{emoji:"",category:8,name:"flag: Slovenia",version:"2.0"},{emoji:"",category:8,name:"flag: Svalbard & Jan Mayen",version:"2.0"},{emoji:"",category:8,name:"flag: Slovakia",version:"2.0"},{emoji:"",category:8,name:"flag: Sierra Leone",version:"2.0"},{emoji:"",category:8,name:"flag: San Marino",version:"2.0"},{emoji:"",category:8,name:"flag: Senegal",version:"2.0"},{emoji:"",category:8,name:"flag: Somalia",version:"2.0"},{emoji:"",category:8,name:"flag: Suriname",version:"2.0"},{emoji:"",category:8,name:"flag: South Sudan",version:"2.0"},{emoji:"",category:8,name:"flag: So Tom & Prncipe",version:"2.0"},{emoji:"",category:8,name:"flag: El Salvador",version:"2.0"},{emoji:"",category:8,name:"flag: Sint Maarten",version:"2.0"},{emoji:"",category:8,name:"flag: Syria",version:"2.0"},{emoji:"",category:8,name:"flag: Eswatini",version:"2.0"},{emoji:"",category:8,name:"flag: Tristan da Cunha",version:"2.0"},{emoji:"",category:8,name:"flag: Turks & Caicos Islands",version:"2.0"},{emoji:"",category:8,name:"flag: Chad",version:"2.0"},{emoji:"",category:8,name:"flag: French Southern Territories",version:"2.0"},{emoji:"",category:8,name:"flag: Togo",version:"2.0"},{emoji:"",category:8,name:"flag: Thailand",version:"2.0"},{emoji:"",category:8,name:"flag: Tajikistan",version:"2.0"},{emoji:"",category:8,name:"flag: Tokelau",version:"2.0"},{emoji:"",category:8,name:"flag: Timor-Leste",version:"2.0"},{emoji:"",category:8,name:"flag: Turkmenistan",version:"2.0"},{emoji:"",category:8,name:"flag: Tunisia",version:"2.0"},{emoji:"",category:8,name:"flag: Tonga",version:"2.0"},{emoji:"",category:8,name:"flag: Turkey",version:"2.0"},{emoji:"",category:8,name:"flag: Trinidad & Tobago",version:"2.0"},{emoji:"",category:8,name:"flag: Tuvalu",version:"2.0"},{emoji:"",category:8,name:"flag: Taiwan",version:"2.0"},{emoji:"",category:8,name:"flag: Tanzania",version:"2.0"},{emoji:"",category:8,name:"flag: Ukraine",version:"2.0"},{emoji:"",category:8,name:"flag: Uganda",version:"2.0"},{emoji:"",category:8,name:"flag: U.S. Outlying Islands",version:"2.0"},{emoji:"",category:8,name:"flag: United Nations",version:"4.0"},{emoji:"",category:8,name:"flag: United States",version:"1.0"},{emoji:"",category:8,name:"flag: Uruguay",version:"2.0"},{emoji:"",category:8,name:"flag: Uzbekistan",version:"2.0"},{emoji:"",category:8,name:"flag: Vatican City",version:"2.0"},{emoji:"",category:8,name:"flag: St. Vincent & Grenadines",version:"2.0"},{emoji:"",category:8,name:"flag: Venezuela",version:"2.0"},{emoji:"",category:8,name:"flag: British Virgin Islands",version:"2.0"},{emoji:"",category:8,name:"flag: U.S. Virgin Islands",version:"2.0"},{emoji:"",category:8,name:"flag: Vietnam",version:"2.0"},{emoji:"",category:8,name:"flag: Vanuatu",version:"2.0"},{emoji:"",category:8,name:"flag: Wallis & Futuna",version:"2.0"},{emoji:"",category:8,name:"flag: Samoa",version:"2.0"},{emoji:"",category:8,name:"flag: Kosovo",version:"2.0"},{emoji:"",category:8,name:"flag: Yemen",version:"2.0"},{emoji:"",category:8,name:"flag: Mayotte",version:"2.0"},{emoji:"",category:8,name:"flag: South Africa",version:"2.0"},{emoji:"",category:8,name:"flag: Zambia",version:"2.0"},{emoji:"",category:8,name:"flag: Zimbabwe",version:"2.0"},{emoji:"",category:8,name:"flag: England",version:"5.0"},{emoji:"",category:8,name:"flag: Scotland",version:"5.0"},{emoji:"",category:8,name:"flag: Wales",version:"5.0"}]};const jO="emoji-picker__emoji";function zO(e,t){const n=document.createElement(e);return t&&(n.className=t),n}function VO(e){for(;e.firstChild;)e.removeChild(e.firstChild)}class WO{constructor(e,t){this.events=e,this.options=t}render(){const e=zO("div","emoji-picker__preview");return this.emoji=zO("div","emoji-picker__preview-emoji"),e.appendChild(this.emoji),this.name=zO("div","emoji-picker__preview-name"),e.appendChild(this.name),this.events.on("showPreview",(e=>this.showPreview(e))),this.events.on("hidePreview",(()=>this.hidePreview())),e}showPreview(e){let t=e.emoji;e.custom?t=`<img class="emoji-picker__custom-emoji" src="${e.emoji}">`:"twemoji"===this.options.style&&(t=PO.parse(e.emoji,this.options.twemojiOptions)),this.emoji.innerHTML=t,this.name.innerHTML=e.name}hidePreview(){this.emoji.innerHTML="",this.name.innerHTML=""}}function HO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){HO(e,t,n[t])}))}return e}function $O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var qO=function(){},KO={},YO={},GO={mark:qO,measure:qO};try{"undefined"!=typeof window&&(KO=window),"undefined"!=typeof document&&(YO=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&(GO=performance)}catch(nR){}var XO=(KO.navigator||{}).userAgent,ZO=void 0===XO?"":XO,JO=KO,QO=YO,eF=GO,tF=(JO.document,!!QO.documentElement&&!!QO.head&&"function"==typeof QO.addEventListener&&"function"==typeof QO.createElement),nF=(~ZO.indexOf("MSIE")||ZO.indexOf("Trident/"),"group"),iF=JO.FontAwesomeConfig||{};QO&&"function"==typeof QO.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t,n=$O(e,2),i=n[0],r=n[1],o=""===(t=function(e){var t=QO.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(i))||"false"!==t&&("true"===t||t);null!=o&&(iF[r]=o)}));var rF=UO({},{familyPrefix:"fa",replacementClass:"svg-inline--fa",autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},iF);rF.autoReplaceSvg||(rF.observeMutations=!1);var oF=UO({},rF);JO.FontAwesomeConfig=oF;var sF=JO||{};sF.___FONT_AWESOME___||(sF.___FONT_AWESOME___={}),sF.___FONT_AWESOME___.styles||(sF.___FONT_AWESOME___.styles={}),sF.___FONT_AWESOME___.hooks||(sF.___FONT_AWESOME___.hooks={}),sF.___FONT_AWESOME___.shims||(sF.___FONT_AWESOME___.shims=[]);var aF=sF.___FONT_AWESOME___,lF=[];tF&&((QO.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(QO.readyState)||QO.addEventListener("DOMContentLoaded",(function e(){QO.removeEventListener("DOMContentLoaded",e),lF.map((function(e){return e()}))}))),"undefined"!=typeof global&&void 0!==global.process&&global.process.emit,"undefined"==typeof setImmediate?setTimeout:setImmediate;var cF={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function uF(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function hF(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function dF(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n],";")}),"")}function fF(e){return e.size!==cF.size||e.x!==cF.x||e.y!==cF.y||e.rotate!==cF.rotate||e.flipX||e.flipY}function pF(e){var t=e.transform,n=e.containerWidth,i=e.iconWidth,r={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(32*t.x,", ").concat(32*t.y,") "),s="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),a="rotate(".concat(t.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(o," ").concat(s," ").concat(a)},path:{transform:"translate(".concat(i/2*-1," -256)")}}}var gF={x:0,y:0,width:"100%",height:"100%"};function mF(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function vF(e){var t=e.icons,n=t.main,i=t.mask,r=e.prefix,o=e.iconName,s=e.transform,a=e.symbol,l=e.title,c=e.maskId,u=e.titleId,h=e.extra,d=e.watchable,f=void 0!==d&&d,p=i.found?i:n,g=p.width,m=p.height,v="fa-w-".concat(Math.ceil(g/m*16)),y=[oF.replacementClass,o?"".concat(oF.familyPrefix,"-").concat(o):"",v].filter((function(e){return-1===h.classes.indexOf(e)})).concat(h.classes).join(" "),b={children:[],attributes:UO({},h.attributes,{"data-prefix":r,"data-icon":o,class:y,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(m)})};f&&(b.attributes["data-fa-i2svg"]=""),l&&b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(u||uF())},children:[l]});var _,w,C,x,k,S,D,E,L,T,N,M,A,I,O,F,R,P,B,j,z,V=UO({},b,{prefix:r,iconName:o,main:n,mask:i,maskId:c,transform:s,symbol:a,styles:h.styles}),W=i.found&&n.found?(C=(_=V).children,x=_.attributes,k=_.main,S=_.mask,D=_.maskId,E=_.transform,L=k.width,T=k.icon,N=S.width,M=S.icon,A=pF({transform:E,containerWidth:N,iconWidth:L}),I={tag:"rect",attributes:UO({},gF,{fill:"white"})},O=T.children?{children:T.children.map(mF)}:{},F={tag:"g",attributes:UO({},A.inner),children:[mF(UO({tag:T.tag,attributes:UO({},T.attributes,A.path)},O))]},R={tag:"g",attributes:UO({},A.outer),children:[F]},P="mask-".concat(D||uF()),B="clip-".concat(D||uF()),j={tag:"mask",attributes:UO({},gF,{id:P,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[I,R]},z={tag:"defs",children:[{tag:"clipPath",attributes:{id:B},children:(w=M,"g"===w.tag?w.children:[w])},j]},C.push(z,{tag:"rect",attributes:UO({fill:"currentColor","clip-path":"url(#".concat(B,")"),mask:"url(#".concat(P,")")},gF)}),{children:C,attributes:x}):function(e){var t=e.children,n=e.attributes,i=e.main,r=e.transform,o=dF(e.styles);if(o.length>0&&(n.style=o),fF(r)){var s=pF({transform:r,containerWidth:i.width,iconWidth:i.width});t.push({tag:"g",attributes:UO({},s.outer),children:[{tag:"g",attributes:UO({},s.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:UO({},i.icon.attributes,s.path)}]}]})}else t.push(i.icon);return{children:t,attributes:n}}(V),H=W.children,U=W.attributes;return V.children=H,V.attributes=U,a?function(e){var t=e.prefix,n=e.iconName,i=e.children,r=e.attributes,o=e.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:UO({},r,{id:!0===o?"".concat(t,"-").concat(oF.familyPrefix,"-").concat(n):o}),children:i}]}]}(V):function(e){var t=e.children,n=e.main,i=e.mask,r=e.attributes,o=e.styles,s=e.transform;if(fF(s)&&n.found&&!i.found){var a={x:n.width/n.height/2,y:.5};r.style=dF(UO({},o,{"transform-origin":"".concat(a.x+s.x/16,"em ").concat(a.y+s.y/16,"em")}))}return[{tag:"svg",attributes:r,children:t}]}(V)}var yF=(oF.measurePerformance&&eF&&eF.mark&&eF.measure,function(e,t,n,i){var r,o,s,a,l,c=Object.keys(e),u=c.length,h=void 0!==i?(a=t,l=i,function(e,t,n,i){return a.call(l,e,t,n,i)}):t;for(void 0===n?(r=1,s=e[c[0]]):(r=0,s=n);r<u;r++)s=h(s,e[o=c[r]],o,e);return s});function bF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.skipHooks,r=void 0!==i&&i,o=Object.keys(t).reduce((function(e,n){var i=t[n];return i.icon?e[i.iconName]=i.icon:e[n]=i,e}),{});"function"!=typeof aF.hooks.addPack||r?aF.styles[e]=UO({},aF.styles[e]||{},o):aF.hooks.addPack(e,o),"fas"===e&&bF("fa",t)}var _F=aF.styles,wF=aF.shims,CF=function(){var e=function(e){return yF(_F,(function(t,n,i){return t[i]=yF(n,e,{}),t}),{})};e((function(e,t,n){return t[3]&&(e[t[3]]=n),e})),e((function(e,t,n){var i=t[2];return e[n]=n,i.forEach((function(t){e[t]=n})),e}));var t="far"in _F;yF(wF,(function(e,n){var i=n[0],r=n[1],o=n[2];return"far"!==r||t||(r="fas"),e[i]={prefix:r,iconName:o},e}),{})};function xF(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}function kF(e){var t,n=e.tag,i=e.attributes,r=void 0===i?{}:i,o=e.children,s=void 0===o?[]:o;return"string"==typeof e?hF(e):"<".concat(n," ").concat((t=r,Object.keys(t||{}).reduce((function(e,n){return e+"".concat(n,'="').concat(hF(t[n]),'" ')}),"").trim()),">").concat(s.map(kF).join(""),"</").concat(n,">")}function SF(e){this.name="MissingIcon",this.message=e||"Icon unavailable",this.stack=(new Error).stack}CF(),aF.styles,SF.prototype=Object.create(Error.prototype),SF.prototype.constructor=SF;var DF={fill:"currentColor"},EF={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},LF=(UO({},DF,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),UO({},EF,{attributeName:"opacity"}));function TF(e){var t=e[0],n=e[1],i=$O(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(i)?{tag:"g",attributes:{class:"".concat(oF.familyPrefix,"-").concat(nF)},children:[{tag:"path",attributes:{class:"".concat(oF.familyPrefix,"-").concat("secondary"),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(oF.familyPrefix,"-").concat("primary"),fill:"currentColor",d:i[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:i}}}}function NF(){oF.autoAddCss&&!FF&&(function(e){if(e&&tF){var t=QO.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=QO.head.childNodes,i=null,r=n.length-1;r>-1;r--){var o=n[r],s=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(i=o)}QO.head.insertBefore(t,i)}}(function(){var e="fa",t="svg-inline--fa",n=oF.familyPrefix,i=oF.replacementClass,r='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if(n!==e||i!==t){var o=new RegExp("\\.".concat(e,"\\-"),"g"),s=new RegExp("\\--".concat(e,"\\-"),"g"),a=new RegExp("\\.".concat(t),"g");r=r.replace(o,".".concat(n,"-")).replace(s,"--".concat(n,"-")).replace(a,".".concat(i))}return r}()),FF=!0)}function MF(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return kF(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(tF){var t=QO.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function AF(e){var t=e.prefix,n=void 0===t?"fa":t,i=e.iconName;if(i)return xF(OF.definitions,n,i)||xF(aF.styles,n,i)}UO({},DF,{cx:"256",cy:"364",r:"28"}),UO({},EF,{attributeName:"r",values:"28;14;28;28;14;28;"}),UO({},LF,{values:"1;0;1;1;0;1;"}),UO({},DF,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),UO({},LF,{values:"1;0;0;0;0;1;"}),UO({},DF,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),UO({},LF,{values:"0;0;1;1;0;0;"}),aF.styles,aF.styles;var IF,OF=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t;return(t=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=n.reduce(this._pullDefinitions,{});Object.keys(r).forEach((function(t){e.definitions[t]=UO({},e.definitions[t]||{},r[t]),bF(t,r[t]),CF()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var i=n[t],r=i.prefix,o=i.iconName,s=i.icon;e[r]||(e[r]={}),e[r][o]=s})),e}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t),e}()),FF=!1,RF=(IF=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,i=void 0===n?cF:n,r=t.symbol,o=void 0!==r&&r,s=t.mask,a=void 0===s?null:s,l=t.maskId,c=void 0===l?null:l,u=t.title,h=void 0===u?null:u,d=t.titleId,f=void 0===d?null:d,p=t.classes,g=void 0===p?[]:p,m=t.attributes,v=void 0===m?{}:m,y=t.styles,b=void 0===y?{}:y;if(e){var _=e.prefix,w=e.iconName,C=e.icon;return MF(UO({type:"icon"},e),(function(){return NF(),oF.autoA11y&&(h?v["aria-labelledby"]="".concat(oF.replacementClass,"-title-").concat(f||uF()):(v["aria-hidden"]="true",v.focusable="false")),vF({icons:{main:TF(C),mask:a?TF(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:_,iconName:w,transform:UO({},cF,i),symbol:o,title:h,maskId:c,titleId:f,extra:{attributes:v,styles:b,classes:g}})}))}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(e||{}).icon?e:AF(e||{}),i=t.mask;return i&&(i=(i||{}).icon?i:AF(i||{})),IF(n,UO({},t,{mask:i}))});OF.add({prefix:"far",iconName:"building",icon:[448,512,[],"f1ad","M128 148v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12zm140 12h40c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12zm-128 96h40c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12zm128 0h40c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12zm-76 84v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm76 12h40c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12zm180 124v36H0v-36c0-6.6 5.4-12 12-12h19.5V24c0-13.3 10.7-24 24-24h337c13.3 0 24 10.7 24 24v440H436c6.6 0 12 5.4 12 12zM79.5 463H192v-67c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v67h112.5V49L80 48l-.5 415z"]},{prefix:"fas",iconName:"cat",icon:[512,512,[],"f6be","M290.59 192c-20.18 0-106.82 1.98-162.59 85.95V192c0-52.94-43.06-96-96-96-17.67 0-32 14.33-32 32s14.33 32 32 32c17.64 0 32 14.36 32 32v256c0 35.3 28.7 64 64 64h176c8.84 0 16-7.16 16-16v-16c0-17.67-14.33-32-32-32h-32l128-96v144c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V289.86c-10.29 2.67-20.89 4.54-32 4.54-61.81 0-113.52-44.05-125.41-102.4zM448 96h-64l-64-64v134.4c0 53.02 42.98 96 96 96s96-42.98 96-96V32l-64 64zm-72 80c-8.84 0-16-7.16-16-16s7.16-16 16-16 16 7.16 16 16-7.16 16-16 16zm80 0c-8.84 0-16-7.16-16-16s7.16-16 16-16 16 7.16 16 16-7.16 16-16 16z"]},{prefix:"fas",iconName:"coffee",icon:[640,512,[],"f0f4","M192 384h192c53 0 96-43 96-96h32c70.6 0 128-57.4 128-128S582.6 32 512 32H120c-13.3 0-24 10.7-24 24v232c0 53 43 96 96 96zM512 96c35.3 0 64 28.7 64 64s-28.7 64-64 64h-32V96h32zm47.7 384H48.3c-47.6 0-61-64-36-64h583.3c25 0 11.8 64-35.9 64z"]},{prefix:"far",iconName:"flag",icon:[512,512,[],"f024","M336.174 80c-49.132 0-93.305-32-161.913-32-31.301 0-58.303 6.482-80.721 15.168a48.04 48.04 0 0 0 2.142-20.727C93.067 19.575 74.167 1.594 51.201.104 23.242-1.71 0 20.431 0 48c0 17.764 9.657 33.262 24 41.562V496c0 8.837 7.163 16 16 16h16c8.837 0 16-7.163 16-16v-83.443C109.869 395.28 143.259 384 199.826 384c49.132 0 93.305 32 161.913 32 58.479 0 101.972-22.617 128.548-39.981C503.846 367.161 512 352.051 512 335.855V95.937c0-34.459-35.264-57.768-66.904-44.117C409.193 67.309 371.641 80 336.174 80zM464 336c-21.783 15.412-60.824 32-102.261 32-59.945 0-102.002-32-161.913-32-43.361 0-96.379 9.403-127.826 24V128c21.784-15.412 60.824-32 102.261-32 59.945 0 102.002 32 161.913 32 43.271 0 96.32-17.366 127.826-32v240z"]},{prefix:"far",iconName:"frown",icon:[496,512,[],"f119","M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm-80-216c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm160-64c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32zm-80 128c-40.2 0-78 17.7-103.8 48.6-8.5 10.2-7.1 25.3 3.1 33.8 10.2 8.4 25.3 7.1 33.8-3.1 16.6-19.9 41-31.4 66.9-31.4s50.3 11.4 66.9 31.4c8.1 9.7 23.1 11.9 33.8 3.1 10.2-8.5 11.5-23.6 3.1-33.8C326 321.7 288.2 304 248 304z"]},{prefix:"fas",iconName:"futbol",icon:[512,512,[],"f1e3","M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zm-48 0l-.003-.282-26.064 22.741-62.679-58.5 16.454-84.355 34.303 3.072c-24.889-34.216-60.004-60.089-100.709-73.141l13.651 31.939L256 139l-74.953-41.525 13.651-31.939c-40.631 13.028-75.78 38.87-100.709 73.141l34.565-3.073 16.192 84.355-62.678 58.5-26.064-22.741-.003.282c0 43.015 13.497 83.952 38.472 117.991l7.704-33.897 85.138 10.447 36.301 77.826-29.902 17.786c40.202 13.122 84.29 13.148 124.572 0l-29.902-17.786 36.301-77.826 85.138-10.447 7.704 33.897C442.503 339.952 456 299.015 456 256zm-248.102 69.571l-29.894-91.312L256 177.732l77.996 56.527-29.622 91.312h-96.476z"]},{prefix:"fas",iconName:"history",icon:[512,512,[],"f1da","M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"]},{prefix:"fas",iconName:"icons",icon:[512,512,[],"f86d","M116.65 219.35a15.68 15.68 0 0 0 22.65 0l96.75-99.83c28.15-29 26.5-77.1-4.91-103.88C203.75-7.7 163-3.5 137.86 22.44L128 32.58l-9.85-10.14C93.05-3.5 52.25-7.7 24.86 15.64c-31.41 26.78-33 74.85-5 103.88zm143.92 100.49h-48l-7.08-14.24a27.39 27.39 0 0 0-25.66-17.78h-71.71a27.39 27.39 0 0 0-25.66 17.78l-7 14.24h-48A27.45 27.45 0 0 0 0 347.3v137.25A27.44 27.44 0 0 0 27.43 512h233.14A27.45 27.45 0 0 0 288 484.55V347.3a27.45 27.45 0 0 0-27.43-27.46zM144 468a52 52 0 1 1 52-52 52 52 0 0 1-52 52zm355.4-115.9h-60.58l22.36-50.75c2.1-6.65-3.93-13.21-12.18-13.21h-75.59c-6.3 0-11.66 3.9-12.5 9.1l-16.8 106.93c-1 6.3 4.88 11.89 12.5 11.89h62.31l-24.2 83c-1.89 6.65 4.2 12.9 12.23 12.9a13.26 13.26 0 0 0 10.92-5.25l92.4-138.91c4.88-6.91-1.16-15.7-10.87-15.7zM478.08.33L329.51 23.17C314.87 25.42 304 38.92 304 54.83V161.6a83.25 83.25 0 0 0-16-1.7c-35.35 0-64 21.48-64 48s28.65 48 64 48c35.2 0 63.73-21.32 64-47.66V99.66l112-17.22v47.18a83.25 83.25 0 0 0-16-1.7c-35.35 0-64 21.48-64 48s28.65 48 64 48c35.2 0 63.73-21.32 64-47.66V32c0-19.48-16-34.42-33.92-31.67z"]},{prefix:"far",iconName:"lightbulb",icon:[352,512,[],"f0eb","M176 80c-52.94 0-96 43.06-96 96 0 8.84 7.16 16 16 16s16-7.16 16-16c0-35.3 28.72-64 64-64 8.84 0 16-7.16 16-16s-7.16-16-16-16zM96.06 459.17c0 3.15.93 6.22 2.68 8.84l24.51 36.84c2.97 4.46 7.97 7.14 13.32 7.14h78.85c5.36 0 10.36-2.68 13.32-7.14l24.51-36.84c1.74-2.62 2.67-5.7 2.68-8.84l.05-43.18H96.02l.04 43.18zM176 0C73.72 0 0 82.97 0 176c0 44.37 16.45 84.85 43.56 115.78 16.64 18.99 42.74 58.8 52.42 92.16v.06h48v-.12c-.01-4.77-.72-9.51-2.15-14.07-5.59-17.81-22.82-64.77-62.17-109.67-20.54-23.43-31.52-53.15-31.61-84.14-.2-73.64 59.67-128 127.95-128 70.58 0 128 57.42 128 128 0 30.97-11.24 60.85-31.65 84.14-39.11 44.61-56.42 91.47-62.1 109.46a47.507 47.507 0 0 0-2.22 14.3v.1h48v-.05c9.68-33.37 35.78-73.18 52.42-92.16C335.55 260.85 352 220.37 352 176 352 78.8 273.2 0 176 0z"]},{prefix:"fas",iconName:"music",icon:[512,512,[],"f001","M470.38 1.51L150.41 96A32 32 0 0 0 128 126.51v261.41A139 139 0 0 0 96 384c-53 0-96 28.66-96 64s43 64 96 64 96-28.66 96-64V214.32l256-75v184.61a138.4 138.4 0 0 0-32-3.93c-53 0-96 28.66-96 64s43 64 96 64 96-28.65 96-64V32a32 32 0 0 0-41.62-30.49z"]},{prefix:"fas",iconName:"search",icon:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"]},{prefix:"far",iconName:"smile",icon:[496,512,[],"f118","M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm-80-216c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm4 72.6c-20.8 25-51.5 39.4-84 39.4s-63.2-14.3-84-39.4c-8.5-10.2-23.7-11.5-33.8-3.1-10.2 8.5-11.5 23.6-3.1 33.8 30 36 74.1 56.6 120.9 56.6s90.9-20.6 120.9-56.6c8.5-10.2 7.1-25.3-3.1-33.8-10.1-8.4-25.3-7.1-33.8 3.1z"]},{prefix:"fas",iconName:"times",icon:[352,512,[],"f00d","M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"]},{prefix:"fas",iconName:"user",icon:[448,512,[],"f007","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"]});const PF=RF({prefix:"far",iconName:"building"}).html[0],BF=RF({prefix:"fas",iconName:"cat"}).html[0],jF=RF({prefix:"fas",iconName:"coffee"}).html[0],zF=RF({prefix:"far",iconName:"flag"}).html[0],VF=RF({prefix:"fas",iconName:"futbol"}).html[0],WF=RF({prefix:"far",iconName:"frown"}).html[0],HF=RF({prefix:"fas",iconName:"history"}).html[0],UF=RF({prefix:"fas",iconName:"icons"}).html[0],$F=RF({prefix:"far",iconName:"lightbulb"}).html[0],qF=RF({prefix:"fas",iconName:"music"}).html[0],KF=RF({prefix:"fas",iconName:"search"}).html[0],YF=RF({prefix:"far",iconName:"smile"}).html[0],GF=RF({prefix:"fas",iconName:"times"}).html[0],XF=RF({prefix:"fas",iconName:"user"}).html[0];function ZF(e){const t=document.createElement("img");return t.src=e,t}function JF(){const e=localStorage.getItem("emojiPicker.recent");return(e?JSON.parse(e):[]).filter((e=>!!e.emoji))}class QF{constructor(e,t,n,i,r,o=!0){this.emoji=e,this.showVariants=t,this.showPreview=n,this.events=i,this.options=r,this.lazy=o}render(){this.emojiButton=zO("button",jO);let e=this.emoji.emoji;return this.emoji.custom?e=this.lazy?YF:`<img class="emoji-picker__custom-emoji" src="${this.emoji.emoji}">`:"twemoji"===this.options.style&&(e=this.lazy?YF:PO.parse(this.emoji.emoji,this.options.twemojiOptions)),this.emojiButton.innerHTML=e,this.emojiButton.tabIndex=-1,this.emojiButton.dataset.emoji=this.emoji.emoji,this.emoji.custom&&(this.emojiButton.dataset.custom="true"),this.emojiButton.title=this.emoji.name,this.emojiButton.addEventListener("focus",(()=>this.onEmojiHover())),this.emojiButton.addEventListener("blur",(()=>this.onEmojiLeave())),this.emojiButton.addEventListener("click",(()=>this.onEmojiClick())),this.emojiButton.addEventListener("mouseover",(()=>this.onEmojiHover())),this.emojiButton.addEventListener("mouseout",(()=>this.onEmojiLeave())),"twemoji"===this.options.style&&this.lazy&&(this.emojiButton.style.opacity="0.25"),this.emojiButton}onEmojiClick(){this.emoji.variations&&this.showVariants&&this.options.showVariants||!this.options.showRecents||function(e,t){const n=JF(),i={emoji:e.emoji,name:e.name,key:e.key||e.name,custom:e.custom};localStorage.setItem("emojiPicker.recent",JSON.stringify([i,...n.filter((e=>!!e.emoji&&e.key!==i.key))].slice(0,t.recentsCount)))}(this.emoji,this.options),this.events.emit("emoji",{emoji:this.emoji,showVariants:this.showVariants,button:this.emojiButton})}onEmojiHover(){this.showPreview&&this.events.emit("showPreview",this.emoji)}onEmojiLeave(){this.showPreview&&this.events.emit("hidePreview")}}class eR{constructor(e,t,n,i,r=!0){this.showVariants=t,this.events=n,this.options=i,this.lazy=r,this.emojis=e.filter((e=>!e.version||parseFloat(e.version)<=parseFloat(i.emojiVersion)))}render(){const e=zO("div","emoji-picker__container");return this.emojis.forEach((t=>e.appendChild(new QF(t,this.showVariants,!0,this.events,this.options,this.lazy).render()))),e}}var tR,nR,iR,rR,oR="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},sR=(nR=tR={exports:{}},iR=oR,rR=function(){var e="undefined"==typeof window,t=new Map,n=new Map,i=[];i.total=0;var r=[],o=[];function s(){t.clear(),n.clear(),r=[],o=[]}function a(e){for(var t=-9007199254740991,n=e.length-1;n>=0;--n){var i=e[n];if(null!==i){var r=i.score;r>t&&(t=r)}}return-9007199254740991===t?null:t}function l(e,t){var n=e[t];if(void 0!==n)return n;var i=t;Array.isArray(t)||(i=t.split("."));for(var r=i.length,o=-1;e&&++o<r;)e=e[i[o]];return e}function c(e){return"object"==typeof e}var u=function(){var e=[],t=0,n={};function i(){for(var n=0,i=e[n],r=1;r<t;){var o=r+1;n=r,o<t&&e[o].score<e[r].score&&(n=o),e[n-1>>1]=e[n],r=1+(n<<1)}for(var s=n-1>>1;n>0&&i.score<e[s].score;s=(n=s)-1>>1)e[n]=e[s];e[n]=i}return n.add=function(n){var i=t;e[t++]=n;for(var r=i-1>>1;i>0&&n.score<e[r].score;r=(i=r)-1>>1)e[i]=e[r];e[i]=n},n.poll=function(){if(0!==t){var n=e[0];return e[0]=e[--t],i(),n}},n.peek=function(n){if(0!==t)return e[0]},n.replaceTop=function(t){e[0]=t,i()},n},h=u();return function d(f){var p={single:function(e,t,n){return e?(c(e)||(e=p.getPreparedSearch(e)),t?(c(t)||(t=p.getPrepared(t)),((n&&void 0!==n.allowTypo?n.allowTypo:!f||void 0===f.allowTypo||f.allowTypo)?p.algorithm:p.algorithmNoTypo)(e,t,e[0])):null):null},go:function(e,t,n){if(!e)return i;var r=(e=p.prepareSearch(e))[0],o=n&&n.threshold||f&&f.threshold||-9007199254740991,s=n&&n.limit||f&&f.limit||9007199254740991,u=(n&&void 0!==n.allowTypo?n.allowTypo:!f||void 0===f.allowTypo||f.allowTypo)?p.algorithm:p.algorithmNoTypo,d=0,g=0,m=t.length;if(n&&n.keys)for(var v=n.scoreFn||a,y=n.keys,b=y.length,_=m-1;_>=0;--_){for(var w=t[_],C=new Array(b),x=b-1;x>=0;--x)(D=l(w,S=y[x]))?(c(D)||(D=p.getPrepared(D)),C[x]=u(e,D,r)):C[x]=null;C.obj=w;var k=v(C);null!==k&&(k<o||(C.score=k,d<s?(h.add(C),++d):(++g,k>h.peek().score&&h.replaceTop(C))))}else if(n&&n.key){var S=n.key;for(_=m-1;_>=0;--_)(D=l(w=t[_],S))&&(c(D)||(D=p.getPrepared(D)),null!==(E=u(e,D,r))&&(E.score<o||(E={target:E.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:E.score,indexes:E.indexes,obj:w},d<s?(h.add(E),++d):(++g,E.score>h.peek().score&&h.replaceTop(E)))))}else for(_=m-1;_>=0;--_){var D,E;(D=t[_])&&(c(D)||(D=p.getPrepared(D)),null!==(E=u(e,D,r))&&(E.score<o||(d<s?(h.add(E),++d):(++g,E.score>h.peek().score&&h.replaceTop(E)))))}if(0===d)return i;var L=new Array(d);for(_=d-1;_>=0;--_)L[_]=h.poll();return L.total=d+g,L},goAsync:function(t,n,r){var o=!1,s=new Promise((function(s,h){if(!t)return s(i);var d=(t=p.prepareSearch(t))[0],g=u(),m=n.length-1,v=r&&r.threshold||f&&f.threshold||-9007199254740991,y=r&&r.limit||f&&f.limit||9007199254740991,b=(r&&void 0!==r.allowTypo?r.allowTypo:!f||void 0===f.allowTypo||f.allowTypo)?p.algorithm:p.algorithmNoTypo,_=0,w=0;function C(){if(o)return h("canceled");var u=Date.now();if(r&&r.keys)for(var f=r.scoreFn||a,x=r.keys,k=x.length;m>=0;--m){for(var S=n[m],D=new Array(k),E=k-1;E>=0;--E)(N=l(S,T=x[E]))?(c(N)||(N=p.getPrepared(N)),D[E]=b(t,N,d)):D[E]=null;D.obj=S;var L=f(D);if(null!==L&&!(L<v)&&(D.score=L,_<y?(g.add(D),++_):(++w,L>g.peek().score&&g.replaceTop(D)),m%1e3==0&&Date.now()-u>=10))return void(e?setImmediate(C):setTimeout(C))}else if(r&&r.key){for(var T=r.key;m>=0;--m)if((N=l(S=n[m],T))&&(c(N)||(N=p.getPrepared(N)),null!==(M=b(t,N,d))&&!(M.score<v)&&(M={target:M.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:M.score,indexes:M.indexes,obj:S},_<y?(g.add(M),++_):(++w,M.score>g.peek().score&&g.replaceTop(M)),m%1e3==0&&Date.now()-u>=10)))return void(e?setImmediate(C):setTimeout(C))}else for(;m>=0;--m){var N,M;if((N=n[m])&&(c(N)||(N=p.getPrepared(N)),null!==(M=b(t,N,d))&&!(M.score<v)&&(_<y?(g.add(M),++_):(++w,M.score>g.peek().score&&g.replaceTop(M)),m%1e3==0&&Date.now()-u>=10)))return void(e?setImmediate(C):setTimeout(C))}if(0===_)return s(i);for(var A=new Array(_),I=_-1;I>=0;--I)A[I]=g.poll();A.total=_+w,s(A)}e?setImmediate(C):C()}));return s.cancel=function(){o=!0},s},highlight:function(e,t,n){if(null===e)return null;void 0===t&&(t="<b>"),void 0===n&&(n="</b>");for(var i="",r=0,o=!1,s=e.target,a=s.length,l=e.indexes,c=0;c<a;++c){var u=s[c];if(l[r]===c){if(o||(o=!0,i+=t),++r===l.length){i+=u+n+s.substr(c+1);break}}else o&&(o=!1,i+=n);i+=u}return i},prepare:function(e){if(e)return{target:e,_targetLowerCodes:p.prepareLowerCodes(e),_nextBeginningIndexes:null,score:null,indexes:null,obj:null}},prepareSlow:function(e){if(e)return{target:e,_targetLowerCodes:p.prepareLowerCodes(e),_nextBeginningIndexes:p.prepareNextBeginningIndexes(e),score:null,indexes:null,obj:null}},prepareSearch:function(e){if(e)return p.prepareLowerCodes(e)},getPrepared:function(e){if(e.length>999)return p.prepare(e);var n=t.get(e);return void 0!==n||(n=p.prepare(e),t.set(e,n)),n},getPreparedSearch:function(e){if(e.length>999)return p.prepareSearch(e);var t=n.get(e);return void 0!==t||(t=p.prepareSearch(e),n.set(e,t)),t},algorithm:function(e,t,n){for(var i=t._targetLowerCodes,s=e.length,a=i.length,l=0,c=0,u=0,h=0;;){if(n===i[c]){if(r[h++]=c,++l===s)break;n=e[0===u?l:u===l?l+1:u===l-1?l-1:l]}if(++c>=a)for(;;){if(l<=1)return null;if(0===u){if(n===e[--l])continue;u=l}else{if(1===u)return null;if((n=e[1+(l=--u)])===e[l])continue}c=r[(h=l)-1]+1;break}}l=0;var d=0,f=!1,g=0,m=t._nextBeginningIndexes;null===m&&(m=t._nextBeginningIndexes=p.prepareNextBeginningIndexes(t.target));var v=c=0===r[0]?0:m[r[0]-1];if(c!==a)for(;;)if(c>=a){if(l<=0){if(++d>s-2)break;if(e[d]===e[d+1])continue;c=v;continue}--l,c=m[o[--g]]}else if(e[0===d?l:d===l?l+1:d===l-1?l-1:l]===i[c]){if(o[g++]=c,++l===s){f=!0;break}++c}else c=m[c];if(f)var y=o,b=g;else y=r,b=h;for(var _=0,w=-1,C=0;C<s;++C)w!==(c=y[C])-1&&(_-=c),w=c;for(f?0!==d&&(_+=-20):(_*=1e3,0!==u&&(_+=-20)),_-=a-s,t.score=_,t.indexes=new Array(b),C=b-1;C>=0;--C)t.indexes[C]=y[C];return t},algorithmNoTypo:function(e,t,n){for(var i=t._targetLowerCodes,s=e.length,a=i.length,l=0,c=0,u=0;;){if(n===i[c]){if(r[u++]=c,++l===s)break;n=e[l]}if(++c>=a)return null}l=0;var h=!1,d=0,f=t._nextBeginningIndexes;if(null===f&&(f=t._nextBeginningIndexes=p.prepareNextBeginningIndexes(t.target)),(c=0===r[0]?0:f[r[0]-1])!==a)for(;;)if(c>=a){if(l<=0)break;--l,c=f[o[--d]]}else if(e[l]===i[c]){if(o[d++]=c,++l===s){h=!0;break}++c}else c=f[c];if(h)var g=o,m=d;else g=r,m=u;for(var v=0,y=-1,b=0;b<s;++b)y!==(c=g[b])-1&&(v-=c),y=c;for(h||(v*=1e3),v-=a-s,t.score=v,t.indexes=new Array(m),b=m-1;b>=0;--b)t.indexes[b]=g[b];return t},prepareLowerCodes:function(e){for(var t=e.length,n=[],i=e.toLowerCase(),r=0;r<t;++r)n[r]=i.charCodeAt(r);return n},prepareBeginningIndexes:function(e){for(var t=e.length,n=[],i=0,r=!1,o=!1,s=0;s<t;++s){var a=e.charCodeAt(s),l=a>=65&&a<=90,c=l||a>=97&&a<=122||a>=48&&a<=57,u=l&&!r||!o||!c;r=l,o=c,u&&(n[i++]=s)}return n},prepareNextBeginningIndexes:function(e){for(var t=e.length,n=p.prepareBeginningIndexes(e),i=[],r=n[0],o=0,s=0;s<t;++s)r>s?i[s]=r:(r=n[++o],i[s]=void 0===r?t:r);return i},cleanup:s,new:d};return p}()},nR.exports?nR.exports=rR():iR.fuzzysort=rR(),tR.exports);class aR{constructor(e,t){this.message=e,this.iconUrl=t}render(){const e=zO("div","emoji-picker__search-not-found"),t=zO("div","emoji-picker__search-not-found-icon");this.iconUrl?t.appendChild(ZF(this.iconUrl)):t.innerHTML=WF,e.appendChild(t);const n=zO("h2");return n.innerHTML=this.message,e.appendChild(n),e}}class lR{constructor(e,t,n,i,r){if(this.events=e,this.i18n=t,this.options=n,this.focusedEmojiIndex=0,this.emojisPerRow=this.options.emojisPerRow||8,this.emojiData=i.filter((e=>e.version&&parseFloat(e.version)<=parseFloat(n.emojiVersion)&&void 0!==e.category&&r.indexOf(e.category)>=0)),this.options.custom){const e=this.options.custom.map((e=>Object.assign(Object.assign({},e),{custom:!0})));this.emojiData=[...this.emojiData,...e]}this.events.on("hideVariantPopup",(()=>{setTimeout((()=>this.setFocusedEmoji(this.focusedEmojiIndex)))}))}render(){return this.searchContainer=zO("div","emoji-picker__search-container"),this.searchField=zO("input","emoji-picker__search"),this.searchField.placeholder=this.i18n.search,this.searchContainer.appendChild(this.searchField),this.searchIcon=zO("span","emoji-picker__search-icon"),this.options.icons&&this.options.icons.search?this.searchIcon.appendChild(ZF(this.options.icons.search)):this.searchIcon.innerHTML=KF,this.searchIcon.addEventListener("click",(e=>this.onClearSearch(e))),this.searchContainer.appendChild(this.searchIcon),this.searchField.addEventListener("keydown",(e=>this.onKeyDown(e))),this.searchField.addEventListener("keyup",(e=>this.onKeyUp(e))),this.searchContainer}clear(){this.searchField.value=""}focus(){this.searchField.focus()}onClearSearch(e){e.stopPropagation(),this.searchField.value&&(this.searchField.value="",this.resultsContainer=null,this.options.icons&&this.options.icons.search?(VO(this.searchIcon),this.searchIcon.appendChild(ZF(this.options.icons.search))):this.searchIcon.innerHTML=KF,this.searchIcon.style.cursor="default",this.events.emit("hideSearchResults"),setTimeout((()=>this.searchField.focus())))}setFocusedEmoji(e){if(this.resultsContainer){const t=this.resultsContainer.querySelectorAll("."+jO);t[this.focusedEmojiIndex].tabIndex=-1,this.focusedEmojiIndex=e;const n=t[this.focusedEmojiIndex];n.tabIndex=0,n.focus()}}handleResultsKeydown(e){if(this.resultsContainer){const t=this.resultsContainer.querySelectorAll("."+jO);"ArrowRight"===e.key?this.setFocusedEmoji(Math.min(this.focusedEmojiIndex+1,t.length-1)):"ArrowLeft"===e.key?this.setFocusedEmoji(Math.max(0,this.focusedEmojiIndex-1)):"ArrowDown"===e.key?(e.preventDefault(),this.focusedEmojiIndex<t.length-this.emojisPerRow&&this.setFocusedEmoji(this.focusedEmojiIndex+this.emojisPerRow)):"ArrowUp"===e.key?(e.preventDefault(),this.focusedEmojiIndex>=this.emojisPerRow&&this.setFocusedEmoji(this.focusedEmojiIndex-this.emojisPerRow)):"Escape"===e.key&&this.onClearSearch(e)}}onKeyDown(e){"Escape"===e.key&&this.searchField.value&&this.onClearSearch(e)}onKeyUp(e){if("Tab"!==e.key&&"Shift"!==e.key)if(this.searchField.value){this.options.icons&&this.options.icons.clearSearch?(VO(this.searchIcon),this.searchIcon.appendChild(ZF(this.options.icons.clearSearch))):this.searchIcon.innerHTML=GF,this.searchIcon.style.cursor="pointer";const e=sR.go(this.searchField.value,this.emojiData,{allowTypo:!0,limit:100,key:"name"}).map((e=>e.obj));this.events.emit("hidePreview"),e.length?(this.resultsContainer=new eR(e,!0,this.events,this.options,!1).render(),this.resultsContainer&&(this.resultsContainer.querySelector("."+jO).tabIndex=0,this.focusedEmojiIndex=0,this.resultsContainer.addEventListener("keydown",(e=>this.handleResultsKeydown(e))),this.events.emit("showSearchResults",this.resultsContainer))):this.events.emit("showSearchResults",new aR(this.i18n.notFound,this.options.icons&&this.options.icons.notFound).render())}else this.options.icons&&this.options.icons.search?(VO(this.searchIcon),this.searchIcon.appendChild(ZF(this.options.icons.search))):this.searchIcon.innerHTML=KF,this.searchIcon.style.cursor="default",this.events.emit("hideSearchResults")}}class cR{constructor(e,t,n){this.events=e,this.emoji=t,this.options=n,this.focusedEmojiIndex=0}getEmoji(e){return this.popup.querySelectorAll("."+jO)[e]}setFocusedEmoji(e){this.getEmoji(this.focusedEmojiIndex).tabIndex=-1,this.focusedEmojiIndex=e;const t=this.getEmoji(this.focusedEmojiIndex);t.tabIndex=0,t.focus()}render(){this.popup=zO("div","emoji-picker__variant-popup");const e=zO("div","emoji-picker__variant-overlay");e.addEventListener("click",(e=>{e.stopPropagation(),this.popup.contains(e.target)||this.events.emit("hideVariantPopup")})),this.popup.appendChild(new QF(this.emoji,!1,!1,this.events,this.options,!1).render()),(this.emoji.variations||[]).forEach(((e,t)=>this.popup.appendChild(new QF({name:this.emoji.name,emoji:e,key:this.emoji.name+t},!1,!1,this.events,this.options,!1).render())));const t=this.popup.querySelector("."+jO);return this.focusedEmojiIndex=0,t.tabIndex=0,setTimeout((()=>t.focus())),this.popup.addEventListener("keydown",(e=>{"ArrowRight"===e.key?this.setFocusedEmoji(Math.min(this.focusedEmojiIndex+1,this.popup.querySelectorAll("."+jO).length-1)):"ArrowLeft"===e.key?this.setFocusedEmoji(Math.max(this.focusedEmojiIndex-1,0)):"Escape"===e.key&&(e.stopPropagation(),this.events.emit("hideVariantPopup"))})),e.appendChild(this.popup),e}}const uR={search:"Search emojis...",categories:{recents:"Recent Emojis",smileys:"Smileys & Emotion",people:"People & Body",animals:"Animals & Nature",food:"Food & Drink",activities:"Activities",travel:"Travel & Places",objects:"Objects",symbols:"Symbols",flags:"Flags",custom:"Custom"},notFound:"No emojis found"},hR={recents:HF,smileys:YF,people:XF,animals:BF,food:jF,activities:VF,travel:PF,objects:$F,symbols:qF,flags:zF,custom:UF};class dR{constructor(e,t,n){this.options=e,this.events=t,this.i18n=n,this.activeButton=0,this.buttons=[]}render(){var e;const t=zO("div","emoji-picker__category-buttons"),n=this.options.categories||(null===(e=this.options.emojiData)||void 0===e?void 0:e.categories)||BO.categories;let i=this.options.showRecents?["recents",...n]:n;return this.options.custom&&(i=[...i,"custom"]),i.forEach((e=>{const n=zO("button","emoji-picker__category-button");this.options.icons&&this.options.icons.categories&&this.options.icons.categories[e]?n.appendChild(ZF(this.options.icons.categories[e])):n.innerHTML=hR[e],n.tabIndex=-1,n.title=this.i18n.categories[e],t.appendChild(n),this.buttons.push(n),n.addEventListener("click",(()=>{this.events.emit("categoryClicked",e)}))})),t.addEventListener("keydown",(e=>{switch(e.key){case"ArrowRight":this.events.emit("categoryClicked",i[(this.activeButton+1)%this.buttons.length]);break;case"ArrowLeft":this.events.emit("categoryClicked",i[0===this.activeButton?this.buttons.length-1:this.activeButton-1]);break;case"ArrowUp":case"ArrowDown":e.stopPropagation(),e.preventDefault()}})),t}setActiveButton(e,t=!0){let n=this.buttons[this.activeButton];n.classList.remove("active"),n.tabIndex=-1,this.activeButton=e,n=this.buttons[this.activeButton],n.classList.add("active"),n.tabIndex=0,t&&n.focus()}}const fR=["recents","smileys","people","animals","food","activities","travel","objects","symbols","flags","custom"];class pR{constructor(e,t,n,i){var r;this.events=e,this.i18n=t,this.options=n,this.emojiCategories=i,this.currentCategory=0,this.headers=[],this.focusedIndex=0,this.handleKeyDown=e=>{switch(this.emojis.removeEventListener("scroll",this.highlightCategory),e.key){case"ArrowRight":this.focusedEmoji.tabIndex=-1,this.focusedIndex===this.currentEmojiCount-1&&this.currentCategory<this.categories.length-1?(this.options.showCategoryButtons&&this.categoryButtons.setActiveButton(++this.currentCategory),this.setFocusedEmoji(0)):this.focusedIndex<this.currentEmojiCount-1&&this.setFocusedEmoji(this.focusedIndex+1);break;case"ArrowLeft":this.focusedEmoji.tabIndex=-1,0===this.focusedIndex&&this.currentCategory>0?(this.options.showCategoryButtons&&this.categoryButtons.setActiveButton(--this.currentCategory),this.setFocusedEmoji(this.currentEmojiCount-1)):this.setFocusedEmoji(Math.max(0,this.focusedIndex-1));break;case"ArrowDown":e.preventDefault(),this.focusedEmoji.tabIndex=-1,this.focusedIndex+this.emojisPerRow>=this.currentEmojiCount&&this.currentCategory<this.categories.length-1?(this.currentCategory++,this.options.showCategoryButtons&&this.categoryButtons.setActiveButton(this.currentCategory),this.setFocusedEmoji(Math.min(this.focusedIndex%this.emojisPerRow,this.currentEmojiCount-1))):this.currentEmojiCount-this.focusedIndex>this.emojisPerRow&&this.setFocusedEmoji(this.focusedIndex+this.emojisPerRow);break;case"ArrowUp":if(e.preventDefault(),this.focusedEmoji.tabIndex=-1,this.focusedIndex<this.emojisPerRow&&this.currentCategory>0){const e=this.getEmojiCount(this.currentCategory-1);let t=e%this.emojisPerRow;0===t&&(t=this.emojisPerRow);const n=this.focusedIndex,i=n>t-1?e-1:e-t+n;this.currentCategory--,this.options.showCategoryButtons&&this.categoryButtons.setActiveButton(this.currentCategory),this.setFocusedEmoji(i)}else this.setFocusedEmoji(this.focusedIndex>=this.emojisPerRow?this.focusedIndex-this.emojisPerRow:this.focusedIndex)}requestAnimationFrame((()=>this.emojis.addEventListener("scroll",this.highlightCategory)))},this.addCategory=(e,t)=>{const n=zO("h2","emoji-picker__category-name");n.innerHTML=this.i18n.categories[e]||uR.categories[e],this.emojis.appendChild(n),this.headers.push(n),this.emojis.appendChild(new eR(t,!0,this.events,this.options,"recents"!==e).render())},this.selectCategory=(e,t=!0)=>{this.emojis.removeEventListener("scroll",this.highlightCategory),this.focusedEmoji&&(this.focusedEmoji.tabIndex=-1);const n=this.categories.indexOf(e);this.currentCategory=n,this.setFocusedEmoji(0,!1),this.options.showCategoryButtons&&this.categoryButtons.setActiveButton(this.currentCategory,t);const i=this.headerOffsets[n];this.emojis.scrollTop=i,requestAnimationFrame((()=>this.emojis.addEventListener("scroll",this.highlightCategory)))},this.highlightCategory=()=>{if(document.activeElement&&document.activeElement.classList.contains("emoji-picker__emoji"))return;let e=this.headerOffsets.findIndex((e=>e>=Math.round(this.emojis.scrollTop)));this.emojis.scrollTop+this.emojis.offsetHeight===this.emojis.scrollHeight&&(e=-1),0===e?e=1:e<0&&(e=this.headerOffsets.length),this.headerOffsets[e]===this.emojis.scrollTop&&e++,this.currentCategory=e-1,this.options.showCategoryButtons&&this.categoryButtons.setActiveButton(this.currentCategory)},this.emojisPerRow=n.emojisPerRow||8,this.categories=(null===(r=n.emojiData)||void 0===r?void 0:r.categories)||n.categories||BO.categories,n.showRecents&&(this.categories=["recents",...this.categories]),n.custom&&(this.categories=[...this.categories,"custom"]),this.categories.sort(((e,t)=>fR.indexOf(e)-fR.indexOf(t)))}updateRecents(){if(this.options.showRecents){this.emojiCategories.recents=JF();const e=this.emojis.querySelector(".emoji-picker__container");e&&e.parentNode&&e.parentNode.replaceChild(new eR(this.emojiCategories.recents,!0,this.events,this.options,!1).render(),e)}}render(){return this.container=zO("div","emoji-picker__emoji-area"),this.options.showCategoryButtons&&(this.categoryButtons=new dR(this.options,this.events,this.i18n),this.container.appendChild(this.categoryButtons.render())),this.emojis=zO("div","emoji-picker__emojis"),this.options.showRecents&&(this.emojiCategories.recents=JF()),this.options.custom&&(this.emojiCategories.custom=this.options.custom.map((e=>Object.assign(Object.assign({},e),{custom:!0})))),this.categories.forEach((e=>this.addCategory(e,this.emojiCategories[e]))),requestAnimationFrame((()=>{setTimeout((()=>{setTimeout((()=>this.emojis.addEventListener("scroll",this.highlightCategory)))}))})),this.emojis.addEventListener("keydown",this.handleKeyDown),this.events.on("categoryClicked",this.selectCategory),this.container.appendChild(this.emojis),this.container.querySelectorAll("."+jO)[0].tabIndex=0,this.container}reset(){this.headerOffsets=Array.prototype.map.call(this.headers,(e=>e.offsetTop)),this.selectCategory(this.options.initialCategory||"smileys",!1),this.currentCategory=this.categories.indexOf(this.options.initialCategory||"smileys"),this.options.showCategoryButtons&&this.categoryButtons.setActiveButton(this.currentCategory,!1)}get currentCategoryEl(){return this.emojis.querySelectorAll(".emoji-picker__container")[this.currentCategory]}get focusedEmoji(){return this.currentCategoryEl.querySelectorAll("."+jO)[this.focusedIndex]}get currentEmojiCount(){return this.currentCategoryEl.querySelectorAll("."+jO).length}getEmojiCount(e){return this.emojis.querySelectorAll(".emoji-picker__container")[e].querySelectorAll("."+jO).length}setFocusedEmoji(e,t=!0){this.focusedIndex=e,this.focusedEmoji&&(this.focusedEmoji.tabIndex=0,t&&this.focusedEmoji.focus())}}const gR={position:"auto",autoHide:!0,autoFocusSearch:!0,showAnimation:!0,showPreview:!0,showSearch:!0,showRecents:!0,showVariants:!0,showCategoryButtons:!0,recentsCount:50,emojiData:BO,emojiVersion:"12.1",theme:"light",categories:["smileys","people","animals","food","activities","travel","objects","symbols","flags"],style:"native",twemojiOptions:{ext:".svg",folder:"svg"},emojisPerRow:8,rows:6,emojiSize:"1.8em",initialCategory:"smileys"};class mR{constructor(e={}){this.events=new BI,this.publicEvents=new BI,this.pickerVisible=!1,this.options=Object.assign(Object.assign({},gR),e),this.options.rootElement||(this.options.rootElement=document.body),this.i18n=Object.assign(Object.assign({},uR),e.i18n),this.onDocumentClick=this.onDocumentClick.bind(this),this.onDocumentKeydown=this.onDocumentKeydown.bind(this),this.theme=this.options.theme||"light",this.emojiCategories=function(e){const t={};return e.emoji.forEach((n=>{let i=t[e.categories[n.category||0]];i||(i=t[e.categories[n.category||0]]=[]),i.push(n)})),t}(this.options.emojiData||BO),this.buildPicker()}on(e,t){this.publicEvents.on(e,t)}off(e,t){this.publicEvents.off(e,t)}setStyleProperties(){this.options.showAnimation||this.pickerEl.style.setProperty("--animation-duration","0s"),this.options.emojisPerRow&&this.pickerEl.style.setProperty("--emoji-per-row",this.options.emojisPerRow.toString()),this.options.rows&&this.pickerEl.style.setProperty("--row-count",this.options.rows.toString()),this.options.emojiSize&&this.pickerEl.style.setProperty("--emoji-size",this.options.emojiSize),this.options.showCategoryButtons||this.pickerEl.style.setProperty("--category-button-height","0"),this.options.styleProperties&&Object.keys(this.options.styleProperties).forEach((e=>{this.options.styleProperties&&this.pickerEl.style.setProperty(e,this.options.styleProperties[e])}))}showSearchResults(e){VO(this.pickerContent),e.classList.add("search-results"),this.pickerContent.appendChild(e)}hideSearchResults(){this.pickerContent.firstChild!==this.emojiArea.container&&(VO(this.pickerContent),this.pickerContent.appendChild(this.emojiArea.container)),this.emojiArea.reset()}emitEmoji({emoji:e,showVariants:t}){
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
return function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(t){o(t)}}function a(e){try{l(i.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){if(e.variations&&t&&this.options.showVariants)this.showVariantPopup(e);else{let t;setTimeout((()=>this.emojiArea.updateRecents())),t=e.custom?this.emitCustomEmoji(e):"twemoji"===this.options.style?yield this.emitTwemoji(e):this.emitNativeEmoji(e),this.publicEvents.emit("emoji",t),this.options.autoHide&&this.hidePicker()}}))}emitNativeEmoji(e){return{emoji:e.emoji,name:e.name}}emitCustomEmoji(e){return{url:e.emoji,name:e.name,custom:!0}}emitTwemoji(e){return new Promise((t=>{PO.parse(e.emoji,Object.assign(Object.assign({},this.options.twemojiOptions),{callback:(n,{base:i,size:r,ext:o})=>{const s=`${i}${r}/${n}${o}`;return t({url:s,emoji:e.emoji,name:e.name}),s}}))}))}buildSearch(){var e;this.options.showSearch&&(this.search=new lR(this.events,this.i18n,this.options,(null===(e=this.options.emojiData)||void 0===e?void 0:e.emoji)||BO.emoji,(this.options.categories||[]).map((e=>(this.options.emojiData||BO).categories.indexOf(e)))),this.pickerEl.appendChild(this.search.render()))}buildPreview(){this.options.showPreview&&this.pickerEl.appendChild(new WO(this.events,this.options).render())}initPlugins(){if(this.options.plugins){const e=zO("div","emoji-picker__plugin-container");this.options.plugins.forEach((t=>{if(!t.render)throw new Error('Emoji Button plugins must have a "render" function.');e.appendChild(t.render(this))})),this.pickerEl.appendChild(e)}}initFocusTrap(){this.focusTrap=RI(this.pickerEl,{clickOutsideDeactivates:!0,initialFocus:this.options.showSearch&&this.options.autoFocusSearch?".emoji-picker__search":'.emoji-picker__emoji[tabindex="0"]'})}buildPicker(){this.pickerEl=zO("div","emoji-picker"),this.pickerEl.classList.add(this.theme),this.setStyleProperties(),this.initFocusTrap(),this.pickerContent=zO("div","emoji-picker__content"),this.initPlugins(),this.buildSearch(),this.pickerEl.appendChild(this.pickerContent),this.emojiArea=new pR(this.events,this.i18n,this.options,this.emojiCategories),this.pickerContent.appendChild(this.emojiArea.render()),this.events.on("showSearchResults",this.showSearchResults.bind(this)),this.events.on("hideSearchResults",this.hideSearchResults.bind(this)),this.events.on("emoji",this.emitEmoji.bind(this)),this.buildPreview(),this.wrapper=zO("div","emoji-picker__wrapper"),this.wrapper.appendChild(this.pickerEl),this.wrapper.style.display="none",this.options.zIndex&&(this.wrapper.style.zIndex=this.options.zIndex+""),this.options.rootElement&&this.options.rootElement.appendChild(this.wrapper),this.observeForLazyLoad()}showVariantPopup(e){const t=new cR(this.events,e,this.options).render();t&&this.pickerEl.appendChild(t),this.events.on("hideVariantPopup",(()=>{t&&(t.classList.add("hiding"),setTimeout((()=>{t&&this.pickerEl.removeChild(t)}),175)),this.events.off("hideVariantPopup")}))}observeForLazyLoad(){this.observer=new IntersectionObserver(this.handleIntersectionChange.bind(this),{root:this.emojiArea.emojis}),this.emojiArea.emojis.querySelectorAll("."+jO).forEach((e=>{this.shouldLazyLoad(e)&&this.observer.observe(e)}))}handleIntersectionChange(e){Array.prototype.filter.call(e,(e=>e.intersectionRatio>0)).map((e=>e.target)).forEach((e=>{!function(e,t){var n,i;e.dataset.loaded||(e.dataset.custom?function(e){const t=zO("img","emoji-picker__custom-emoji");e.dataset.emoji&&(t.src=e.dataset.emoji,e.innerText="",e.appendChild(t))}(e):"twemoji"===t.style&&(i=t,(n=e).dataset.emoji&&(n.innerHTML=PO.parse(n.dataset.emoji,i.twemojiOptions))),e.dataset.loaded="true",e.style.opacity="1")}(e,this.options)}))}shouldLazyLoad(e){return"twemoji"===this.options.style||"true"===e.dataset.custom}onDocumentClick(e){this.pickerEl.contains(e.target)||this.hidePicker()}destroyPicker(){this.events.off("emoji"),this.events.off("hideVariantPopup"),this.options.rootElement&&(this.options.rootElement.removeChild(this.wrapper),this.popper&&this.popper.destroy()),this.observer&&this.observer.disconnect(),this.options.plugins&&this.options.plugins.forEach((e=>{e.destroy&&e.destroy()}))}hidePicker(){this.hideInProgress=!0,this.focusTrap.deactivate(),this.pickerVisible=!1,this.overlay&&(document.body.removeChild(this.overlay),this.overlay=void 0),this.emojiArea.emojis.removeEventListener("scroll",this.emojiArea.highlightCategory),this.pickerEl.classList.add("hiding"),setTimeout((()=>{this.wrapper.style.display="none",this.pickerEl.classList.remove("hiding"),this.pickerContent.firstChild!==this.emojiArea.container&&(VO(this.pickerContent),this.pickerContent.appendChild(this.emojiArea.container)),this.search&&this.search.clear(),this.events.emit("hideVariantPopup"),this.hideInProgress=!1,this.popper&&this.popper.destroy(),this.publicEvents.emit("hidden")}),this.options.showAnimation?170:0),setTimeout((()=>{document.removeEventListener("click",this.onDocumentClick),document.removeEventListener("keydown",this.onDocumentKeydown)}))}showPicker(e){this.hideInProgress?setTimeout((()=>this.showPicker(e)),100):(this.pickerVisible=!0,this.wrapper.style.display="block",this.determineDisplay(e),this.focusTrap.activate(),setTimeout((()=>{this.addEventListeners(),this.setInitialFocus()})),this.emojiArea.reset())}determineDisplay(e){window.matchMedia("screen and (max-width: 450px)").matches?this.showMobileView():"string"==typeof this.options.position?this.setRelativePosition(e):this.setFixedPosition()}setInitialFocus(){this.pickerEl.querySelector(this.options.showSearch&&this.options.autoFocusSearch?".emoji-picker__search":`.${jO}[tabindex="0"]`).focus()}addEventListeners(){document.addEventListener("click",this.onDocumentClick),document.addEventListener("keydown",this.onDocumentKeydown)}setRelativePosition(e){this.popper=RO(e,this.wrapper,{placement:this.options.position})}setFixedPosition(){var e;if(null===(e=this.options)||void 0===e?void 0:e.position){this.wrapper.style.position="fixed";const e=this.options.position;Object.keys(e).forEach((t=>{this.wrapper.style[t]=e[t]}))}}showMobileView(){const e=window.getComputedStyle(this.pickerEl),t=document.querySelector("html"),n=t&&t.clientHeight,i=t&&t.clientWidth,r=parseInt(e.height),o=n?n/2-r/2:0,s=parseInt(e.width),a=i?i/2-s/2:0;this.wrapper.style.position="fixed",this.wrapper.style.top=o+"px",this.wrapper.style.left=a+"px",this.wrapper.style.zIndex="5000",this.overlay=zO("div","emoji-picker__overlay"),document.body.appendChild(this.overlay)}togglePicker(e){this.pickerVisible?this.hidePicker():this.showPicker(e)}isPickerVisible(){return this.pickerVisible}onDocumentKeydown(e){"Escape"===e.key?this.hidePicker():"Tab"===e.key?this.pickerEl.classList.add("keyboard"):e.key.match(/^[\w]$/)&&this.search&&this.search.focus()}setTheme(e){e!==this.theme&&(this.pickerEl.classList.remove(this.theme),this.theme=e,this.pickerEl.classList.add(e))}}const vR=e=>{let t=!1;const n=document.createElement("span");let i=0,r=0;const o=()=>{t=!1,i=0,r=0};return new uf({props:{handleKeyDown:()=>(o(),!1),handleClick:()=>(o(),!1),handleTextInput:(e,n,s,a)=>(t=((e,t,n,i,r)=>{if(e.composing)return!1;const{state:o}=e,s=o.doc.resolve(t);return!s.parent.type.spec.code&&(":emoji:"===s.parent.textBetween(s.parentOffset-":emoji:".length+1,s.parentOffset,void 0,"")+i&&(r(t-":emoji:".length+1,n+1),!0))})(e,n,s,a,((e,t)=>{i=e,r=t})),t||o(),!1),decorations:e=>t?Dm.create(e.doc,[Cm.widget(e.selection.to,n)]):null},view:s=>{const{parentNode:a}=s.dom;if(!a)throw new Error;e.getStyle((({palette:e,font:t})=>{nx`
                    .emoji-picker {
                        --dark-search-background-color: ${e("surface")} !important;
                        --dark-text-color: ${e("neutral",.87)} !important;
                        --dark-background-color: ${e("background")} !important;
                        --dark-border-color: ${e("shadow")} !important;
                        --dark-hover-color: ${e("secondary",.12)} !important;
                        --dark-blue-color: ${e("primary")} !important;
                        --dark-search-icon-color: ${e("primary")} !important;
                        --dark-category-button-color: ${e("secondary",.4)} !important;
                        --font: ${t.typography} !important;
                        --font-size: 1rem !important;
                    }
                `}));const l=new mR({rootElement:a,autoFocusSearch:!1,style:"twemoji",theme:"dark",zIndex:99});return l.on("emoji",(e=>{const t=i,n=r;o();const a=vI(e.emoji),l=s.state.schema.node("emoji",{html:a}),{tr:c}=s.state;s.dispatch(c.replaceRangeWith(t,n,l))})),{update:()=>t?(l.showPicker(n),null):(l.hidePicker(),null),destroy:()=>{l.destroyPicker()}}}})};const yR=/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g;const bR=()=>function(e){var t;t=e=>{if(!(e=>!!e.value)(e))return[e];const t=[];let n,i=e.value;for(;n=yR.exec(i);){const{index:r}=n,o=n[0];r>0&&t.push(Object.assign(Object.assign({},e),{value:i.slice(0,r)})),t.push(Object.assign(Object.assign({},e),{value:vI(o),type:"emoji"})),i=i.slice(r+o.length)}return i.length&&t.push(Object.assign(Object.assign({},e),{value:i})),t},function e(n,i,r){if((e=>!!e.children)(n)){const t=[];for(let i=0,r=n.children.length;i<r;i++){const r=e(n.children[i],i,n);if(r)for(let e=0,n=r.length;e<n;e++)t.push(r[e])}n.children=t}return t(n,i,r)}(e,0,null)[0]},_R=Vx((e=>{const t=e.getStyle((()=>ix`
            display: inline-flex;
            justify-content: center;
            align-items: center;

            .emoji {
                height: 1em;
                width: 1em;
                margin: 0 0.05em 0 0.1em;
                vertical-align: -0.1em;
            }
        `));return{id:"emoji",schema:()=>({group:"inline",inline:!0,selectable:!1,marks:"",attrs:{html:{default:""}},parseDOM:[{tag:'span[data-type="emoji"]',getAttrs:e=>{if(!(e instanceof HTMLElement))throw new Error;return{html:e.innerHTML}}}],toDOM:e=>{const n=document.createElement("span");return n.dataset.type="emoji",t&&n.classList.add(t),n.classList.add("emoji-wrapper"),n.innerHTML=e.attrs.html,{dom:n}},parseMarkdown:{match:({type:e})=>"emoji"===e,runner:(e,t,n)=>{e.addNode(n,{html:t.value})}},toMarkdown:{match:e=>"emoji"===e.type.name,runner:(e,t)=>{const n=document.createElement("span");n.innerHTML=t.attrs.html;const i=n.querySelector("img"),r=null==i?void 0:i.title;n.remove(),e.addNode("text",void 0,r)}}}),inputRules:e=>[new Mf(gI,((t,n,i,r)=>{const o=n[0];if(!o)return null;const s=sI.get(o);if(!s||o.includes(s))return null;const a=vI(s);return t.tr.replaceRangeWith(i,r,e.create({html:a})).scrollIntoView()}))],remarkPlugins:()=>[dI,bR],prosePlugins:()=>[vR(e),bI(e)]}})),wR=Ox.create([_R()]),CR=e=>{if(!e)return!1;if(Array.isArray(e))return!(e.length>1)&&CR(e[0]);const t=e.content;return t?CR(t):"text"===e.type},xR=Wx((()=>({prosePlugins:(e,t)=>{const n=t.get(q_);return[new uf({props:{handlePaste:(e,n)=>{var i,r;const o=t.get(Z_),s=null===(r=(i=e.props).editable)||void 0===r?void 0:r.call(i,e.state),{clipboardData:a}=n;if(!s||!a)return!1;const l=a.getData("text/plain");if(a.getData("text/html").length>0)return!1;const c=o(l);if(!c||"string"==typeof c)return!1;const u=e.state.selection.content();return e.dispatch(e.state.tr.replaceSelection(new nh(c.content,u.openStart,u.openEnd))),!0},clipboardTextSerializer:e=>{const i=t.get(bw);if(CR(e.content.toJSON()))return e.content.textBetween(0,e.content.size,"\n\n");const r=n.topNodeType.createAndFill(void 0,e.content);if(!r)return"";return i(r)}}})]}})))();Bw();const kR=Wx(((e,t)=>({prosePlugins:()=>{const n=Object.assign({type:"tab",size:4},null!=t?t:{});((e,t)=>{if("tab"===e.type){const n=nx;t.getStyle((()=>n`
                .milkdown {
                    tab-size: ${e.size};
                }
            `))}})(n,e);const i=Gf({Tab:(e,t)=>{const{tr:i}=e,r=((e,t)=>{const{doc:n,selection:i}=e;if(!n||!i)return e;if(!(i instanceof qd||i instanceof Xd))return e;const{to:r}=i,o="space"===t.type?Array(t.size).fill(" ").join(""):"\t";return e.insertText(o,r)})(i,n);return!!r.docChanged&&(null==t||t(r),!0)}});return[i]}}))),SR=Ox.create([kR()]);function DR(e,t,...n){return function(e,t){let n;return n=0===t.length?e:e.replace(/\{(\d+)\}/g,(function(e,n){const i=n[0];return void 0!==t[i]?t[i]:e})),n}(t,n)}var ER;let LR,TR,NR,MR=!1,AR=!1,IR=!1,OR=!1,FR=!1,RR=!1,PR="en";const BR="object"==typeof self?self:"object"==typeof global?global:{};let jR;void 0!==BR.vscode&&void 0!==BR.vscode.process?jR=BR.vscode.process:"undefined"!=typeof process&&(jR=process);const zR="string"==typeof(null===(ER=null==jR?void 0:jR.versions)||void 0===ER?void 0:ER.electron)&&"renderer"===jR.type;if("object"!=typeof navigator||zR)if("object"==typeof jR){MR="win32"===jR.platform,AR="darwin"===jR.platform,IR="linux"===jR.platform,IR&&jR.env.SNAP&&jR.env.SNAP_REVISION,LR="en",PR="en";const e=jR.env.VSCODE_NLS_CONFIG;if(e)try{const t=JSON.parse(e),n=t.availableLanguages["*"];LR=t.locale,PR=n||"en",TR=t._translationsConfigFile}catch(nR){}OR=!0}else console.error("Unable to resolve platform.");else NR=navigator.userAgent,MR=NR.indexOf("Windows")>=0,AR=NR.indexOf("Macintosh")>=0,RR=(NR.indexOf("Macintosh")>=0||NR.indexOf("iPad")>=0||NR.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,IR=NR.indexOf("Linux")>=0,FR=!0,LR=navigator.language,PR=LR;const VR=MR,WR=AR,HR=IR,UR=OR,$R=FR,qR=RR,KR=NR,YR=function(){if(BR.setImmediate)return BR.setImmediate.bind(BR);if("function"==typeof BR.postMessage&&!BR.importScripts){let e=[];BR.addEventListener("message",(t=>{if(t.data&&t.data.vscodeSetImmediateId)for(let n=0,i=e.length;n<i;n++){const i=e[n];if(i.id===t.data.vscodeSetImmediateId)return e.splice(n,1),void i.callback()}}));let t=0;return n=>{const i=++t;e.push({id:i,callback:n}),BR.postMessage({vscodeSetImmediateId:i},"*")}}if("function"==typeof(null==jR?void 0:jR.nextTick))return jR.nextTick.bind(jR);const e=Promise.resolve();return t=>e.then(t)}(),GR=AR||RR?2:MR?1:3;let XR=!0,ZR=!1;function JR(){if(!ZR){ZR=!0;const e=new Uint8Array(2);e[0]=1,e[1]=2;const t=new Uint16Array(e.buffer);XR=513===t[0]}return XR}const QR=function(e=""){let t="(-?\\d*\\.\\d\\w*)|([^";for(const n of"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?")e.indexOf(n)>=0||(t+="\\"+n);return t+="\\s]+)",new RegExp(t,"g")}();function eP(e){let t=QR;if(e&&e instanceof RegExp)if(e.global)t=e;else{let n="g";e.ignoreCase&&(n+="i"),e.multiline&&(n+="m"),e.unicode&&(n+="u"),t=new RegExp(e.source,n)}return t.lastIndex=0,t}const tP={maxLen:1e3,windowSize:15,timeBudget:150};function nP(e,t,n,i,r=tP){if(n.length>r.maxLen){let o=e-r.maxLen/2;return o<0?o=0:i+=o,nP(e,t,n=n.substring(o,e+r.maxLen/2),i,r)}const o=Date.now(),s=e-1-i;let a=-1,l=null;for(let c=1;!(Date.now()-o>=r.timeBudget);c++){const e=s-r.windowSize*c;t.lastIndex=Math.max(0,e);const i=iP(t,n,s,a);if(!i&&l)break;if(l=i,e<=0)break;a=e}if(l){let e={word:l[0],startColumn:i+1+l.index,endColumn:i+1+l.index+l[0].length};return t.lastIndex=0,e}return null}function iP(e,t,n,i){let r;for(;r=e.exec(t);){const t=r.index||0;if(t<=n&&e.lastIndex>=n)return r;if(i>0&&t>i)return null}return null}class rP{constructor(e){this._values=e}hasChanged(e){return this._values[e]}}class oP{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,t){this._values[e]=t}}class sP{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class aP{constructor(e,t,n,i){this.id=e,this.name=t,this.defaultValue=n,this.schema=i}compute(e,t,n){return n}}class lP{constructor(e,t=null){this.schema=void 0,this.id=e,this.name="_never_",this.defaultValue=void 0,this.deps=t}validate(e){return this.defaultValue}}class cP{constructor(e,t,n,i){this.id=e,this.name=t,this.defaultValue=n,this.schema=i}validate(e){return void 0===e?this.defaultValue:e}compute(e,t,n){return n}}function uP(e,t){return void 0===e?t:"false"!==e&&Boolean(e)}class hP extends cP{constructor(e,t,n,i){void 0!==i&&(i.type="boolean",i.default=n),super(e,t,n,i)}validate(e){return uP(e,this.defaultValue)}}function dP(e,t,n,i){if(void 0===e)return t;let r=parseInt(e,10);return isNaN(r)?t:(r=Math.max(n,r),r=Math.min(i,r),0|r)}class fP extends cP{constructor(e,t,n,i,r,o){void 0!==o&&(o.type="integer",o.default=n,o.minimum=i,o.maximum=r),super(e,t,n,o),this.minimum=i,this.maximum=r}static clampedInt(e,t,n,i){return dP(e,t,n,i)}validate(e){return fP.clampedInt(e,this.defaultValue,this.minimum,this.maximum)}}class pP extends cP{constructor(e,t,n,i,r){void 0!==r&&(r.type="number",r.default=n),super(e,t,n,r),this.validationFn=i}static clamp(e,t,n){return e<t?t:e>n?n:e}static float(e,t){if("number"==typeof e)return e;if(void 0===e)return t;const n=parseFloat(e);return isNaN(n)?t:n}validate(e){return this.validationFn(pP.float(e,this.defaultValue))}}class gP extends cP{static string(e,t){return"string"!=typeof e?t:e}constructor(e,t,n,i){void 0!==i&&(i.type="string",i.default=n),super(e,t,n,i)}validate(e){return gP.string(e,this.defaultValue)}}function mP(e,t,n){return"string"!=typeof e||-1===n.indexOf(e)?t:e}class vP extends cP{constructor(e,t,n,i,r){void 0!==r&&(r.type="string",r.enum=i,r.default=n),super(e,t,n,r),this._allowedValues=i}validate(e){return mP(e,this.defaultValue,this._allowedValues)}}class yP extends aP{constructor(e,t,n,i,r,o,s){void 0!==s&&(s.type="string",s.enum=r,s.default=i),super(e,t,n,s),this._allowedValues=r,this._convert=o}validate(e){return"string"!=typeof e||-1===this._allowedValues.indexOf(e)?this.defaultValue:this._convert(e)}}var bP,_P;(_P=bP||(bP={}))[_P.Line=1]="Line",_P[_P.Block=2]="Block",_P[_P.Underline=3]="Underline",_P[_P.LineThin=4]="LineThin",_P[_P.BlockOutline=5]="BlockOutline",_P[_P.UnderlineThin=6]="UnderlineThin";class wP extends aP{constructor(){super(44,"fontLigatures",wP.OFF,{anyOf:[{type:"boolean",description:DR(0,"Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:DR(0,"Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:DR(0,"Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(e){return void 0===e?this.defaultValue:"string"==typeof e?"false"===e?wP.OFF:"true"===e?wP.ON:e:Boolean(e)?wP.ON:wP.OFF}}wP.OFF='"liga" off, "calt" off',wP.ON='"liga" on, "calt" on';class CP extends aP{constructor(){super(46,"fontWeight",EP.fontWeight,{anyOf:[{type:"number",minimum:CP.MINIMUM_VALUE,maximum:CP.MAXIMUM_VALUE,errorMessage:DR(0,'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:CP.SUGGESTION_VALUES}],default:EP.fontWeight,description:DR(0,'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(e){return"normal"===e||"bold"===e?e:String(fP.clampedInt(e,EP.fontWeight,CP.MINIMUM_VALUE,CP.MAXIMUM_VALUE))}}CP.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],CP.MINIMUM_VALUE=1,CP.MAXIMUM_VALUE=1e3;class xP extends lP{constructor(){super(129,[49,57,37,64,91,59,60,93,116,119,120,121,2])}compute(e,t,n){return xP.computeLayout(t,{memory:e.memory,outerWidth:e.outerWidth,outerHeight:e.outerHeight,isDominatedByLongLines:e.isDominatedByLongLines,lineHeight:e.fontInfo.lineHeight,viewLineCount:e.viewLineCount,lineNumbersDigitCount:e.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:e.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:e.fontInfo.maxDigitWidth,pixelRatio:e.pixelRatio})}static computeContainedMinimapLineCount(e){const t=e.height/e.lineHeight,n=e.scrollBeyondLastLine?t-1:0,i=(e.viewLineCount+n)/(e.pixelRatio*e.height);return{typicalViewportLineCount:t,extraLinesBeyondLastLine:n,desiredRatio:i,minimapLineCount:Math.floor(e.viewLineCount/i)}}static _computeMinimapLayout(e,t){const n=e.outerWidth,i=e.outerHeight,r=e.pixelRatio;if(!e.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(r*i),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:i};const o=t.stableMinimapLayoutInput,s=o&&e.outerHeight===o.outerHeight&&e.lineHeight===o.lineHeight&&e.typicalHalfwidthCharacterWidth===o.typicalHalfwidthCharacterWidth&&e.pixelRatio===o.pixelRatio&&e.scrollBeyondLastLine===o.scrollBeyondLastLine&&e.minimap.enabled===o.minimap.enabled&&e.minimap.side===o.minimap.side&&e.minimap.size===o.minimap.size&&e.minimap.showSlider===o.minimap.showSlider&&e.minimap.renderCharacters===o.minimap.renderCharacters&&e.minimap.maxColumn===o.minimap.maxColumn&&e.minimap.scale===o.minimap.scale&&e.verticalScrollbarWidth===o.verticalScrollbarWidth&&e.isViewportWrapping===o.isViewportWrapping,a=e.lineHeight,l=e.typicalHalfwidthCharacterWidth,c=e.scrollBeyondLastLine,u=e.minimap.renderCharacters;let h=r>=2?Math.round(2*e.minimap.scale):e.minimap.scale;const d=e.minimap.maxColumn,f=e.minimap.size,p=e.minimap.side,g=e.verticalScrollbarWidth,m=e.viewLineCount,v=e.remainingWidth,y=e.isViewportWrapping,b=u?2:3;let _=Math.floor(r*i);const w=_/r;let C=!1,x=!1,k=b*h,S=h/r,D=1;if("fill"===f||"fit"===f){const{typicalViewportLineCount:n,extraLinesBeyondLastLine:o,desiredRatio:l,minimapLineCount:u}=xP.computeContainedMinimapLineCount({viewLineCount:m,scrollBeyondLastLine:c,height:i,lineHeight:a,pixelRatio:r});if(m/u>1)C=!0,x=!0,h=1,k=1,S=h/r;else{let i=!1,c=h+1;if("fit"===f){const e=Math.ceil((m+o)*k);y&&s&&v<=t.stableFitRemainingWidth?(i=!0,c=t.stableFitMaxMinimapScale):i=e>_}if("fill"===f||i){C=!0;const i=h;k=Math.min(a*r,Math.max(1,Math.floor(1/l))),y&&s&&v<=t.stableFitRemainingWidth&&(c=t.stableFitMaxMinimapScale),h=Math.min(c,Math.max(1,Math.floor(k/b))),h>i&&(D=Math.min(2,h/i)),S=h/r/D,_=Math.ceil(Math.max(n,m+o)*k),y?(t.stableMinimapLayoutInput=e,t.stableFitRemainingWidth=v,t.stableFitMaxMinimapScale=h):(t.stableMinimapLayoutInput=null,t.stableFitRemainingWidth=0)}}}const E=Math.floor(d*S),L=Math.min(E,Math.max(0,Math.floor((v-g-2)*S/(l+S)))+8);let T=Math.floor(r*L);const N=T/r;T=Math.floor(T*D);return{renderMinimap:u?1:2,minimapLeft:"left"===p?0:n-L-g,minimapWidth:L,minimapHeightIsEditorHeight:C,minimapIsSampling:x,minimapScale:h,minimapLineHeight:k,minimapCanvasInnerWidth:T,minimapCanvasInnerHeight:_,minimapCanvasOuterWidth:N,minimapCanvasOuterHeight:w}}static computeLayout(e,t){const n=0|t.outerWidth,i=0|t.outerHeight,r=0|t.lineHeight,o=0|t.lineNumbersDigitCount,s=t.typicalHalfwidthCharacterWidth,a=t.maxDigitWidth,l=t.pixelRatio,c=t.viewLineCount,u=e.get(121),h="inherit"===u?e.get(120):u,d="inherit"===h?e.get(116):h,f=e.get(119),p=e.get(2),g=t.isDominatedByLongLines,m=e.get(49),v=0!==e.get(59).renderType,y=e.get(60),b=e.get(93),_=e.get(64),w=e.get(91),C=w.verticalScrollbarSize,x=w.verticalHasArrows,k=w.arrowSize,S=w.horizontalScrollbarSize,D=e.get(57),E=e.get(37);let L;if("string"==typeof D&&/^\d+(\.\d+)?ch$/.test(D)){const e=parseFloat(D.substr(0,D.length-2));L=fP.clampedInt(e*s,0,0,1e3)}else L=fP.clampedInt(D,0,0,1e3);E&&(L+=16);let T=0;if(v){const e=Math.max(o,y);T=Math.round(e*a)}let N=0;m&&(N=r);let M=0,A=M+N,I=A+T,O=I+L;const F=n-N-T-L;let R=!1,P=!1,B=-1;2!==p&&("inherit"===h&&g?(R=!0,P=!0):"on"===d||"bounded"===d?P=!0:"wordWrapColumn"===d&&(B=f));const j=xP._computeMinimapLayout({outerWidth:n,outerHeight:i,lineHeight:r,typicalHalfwidthCharacterWidth:s,pixelRatio:l,scrollBeyondLastLine:b,minimap:_,verticalScrollbarWidth:C,viewLineCount:c,remainingWidth:F,isViewportWrapping:P},t.memory||new sP);0!==j.renderMinimap&&0===j.minimapLeft&&(M+=j.minimapWidth,A+=j.minimapWidth,I+=j.minimapWidth,O+=j.minimapWidth);const z=F-j.minimapWidth,V=Math.max(1,Math.floor((z-C-2)/s)),W=x?k:0;return P&&(B=Math.max(1,V),"bounded"===d&&(B=Math.min(B,f))),{width:n,height:i,glyphMarginLeft:M,glyphMarginWidth:N,lineNumbersLeft:A,lineNumbersWidth:T,decorationsLeft:I,decorationsWidth:L,contentLeft:O,contentWidth:z,minimap:j,viewportColumn:V,isWordWrapMinified:R,isViewportWrapping:P,wrappingColumn:B,verticalScrollbarWidth:C,horizontalScrollbarHeight:S,overviewRuler:{top:W,width:C,height:i-2*W,right:0}}}}function kP(e){const t=e.get(86);return"editable"===t?e.get(80):"on"!==t}function SP(e,t){if("string"!=typeof e)return t;switch(e){case"hidden":return 2;case"visible":return 3;default:return 1}}function DP(e,t,n){const i=n.indexOf(e);return-1===i?t:n[i]}const EP={fontFamily:WR?"Menlo, Monaco, 'Courier New', monospace":HR?"'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'":"Consolas, 'Courier New', monospace",fontWeight:"normal",fontSize:WR?12:14,lineHeight:0,letterSpacing:0},LP={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!1}},TP=[];function NP(e){return TP[e.id]=e,e}const MP={acceptSuggestionOnCommitCharacter:NP(new hP(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:DR(0,"Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:NP(new vP(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",DR(0,"Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:DR(0,"Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:NP(new class extends aP{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[DR(0,"The editor will use platform APIs to detect when a Screen Reader is attached."),DR(0,"The editor will be permanently optimized for usage with a Screen Reader. Word wrapping will be disabled."),DR(0,"The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:DR(0,"Controls whether the editor should run in a mode where it is optimized for screen readers. Setting to on will disable word wrapping.")})}validate(e){switch(e){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(e,t,n){return 0===n?e.accessibilitySupport:n}}),accessibilityPageSize:NP(new fP(3,"accessibilityPageSize",10,1,1073741824,{description:DR(0,"Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:NP(new gP(4,"ariaLabel",DR(0,"Editor content"))),autoClosingBrackets:NP(new vP(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",DR(0,"Use language configurations to determine when to autoclose brackets."),DR(0,"Autoclose brackets only when the cursor is to the left of whitespace."),""],description:DR(0,"Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:NP(new vP(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",DR(0,"Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:DR(0,"Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:NP(new vP(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",DR(0,"Type over closing quotes or brackets only if they were automatically inserted."),""],description:DR(0,"Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:NP(new vP(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",DR(0,"Use language configurations to determine when to autoclose quotes."),DR(0,"Autoclose quotes only when the cursor is to the left of whitespace."),""],description:DR(0,"Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:NP(new yP(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],(function(e){switch(e){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}),{enumDescriptions:[DR(0,"The editor will not insert indentation automatically."),DR(0,"The editor will keep the current line's indentation."),DR(0,"The editor will keep the current line's indentation and honor language defined brackets."),DR(0,"The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),DR(0,"The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:DR(0,"Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:NP(new hP(10,"automaticLayout",!1)),autoSurround:NP(new vP(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[DR(0,"Use language configurations to determine when to automatically surround selections."),DR(0,"Surround with quotes but not brackets."),DR(0,"Surround with brackets but not quotes."),""],description:DR(0,"Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:NP(new class extends aP{constructor(){const e={enabled:LP.bracketPairColorizationOptions.enabled};super(12,"bracketPairColorization",e,{"editor.bracketPairColorization.enabled":{type:"boolean",default:e.enabled,description:DR(0,"Controls whether bracket pair colorization is enabled or not. Use 'workbench.colorCustomizations' to override the bracket highlight colors.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;return{enabled:uP(e.enabled,this.defaultValue.enabled)}}}),bracketPairGuides:NP(new class extends aP{constructor(){const e={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",e,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[DR(0,"Enables bracket pair guides."),DR(0,"Enables bracket pair guides only for the active bracket pair."),DR(0,"Disables bracket pair guides.")],default:e.bracketPairs,description:DR(0,"Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[DR(0,"Enables horizontal guides as addition to vertical bracket pair guides."),DR(0,"Enables horizontal guides only for the active bracket pair."),DR(0,"Disables horizontal bracket pair guides.")],default:e.bracketPairsHorizontal,description:DR(0,"Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:e.highlightActiveBracketPair,description:DR(0,"Controls whether bracket pair guides are enabled or not.")},"editor.guides.indentation":{type:"boolean",default:e.indentation,description:DR(0,"Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:"boolean",default:e.highlightActiveIndentation,description:DR(0,"Controls whether the editor should highlight the active indent guide.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{bracketPairs:DP(t.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:DP(t.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:uP(t.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:uP(t.indentation,this.defaultValue.indentation),highlightActiveIndentation:uP(t.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation)}}}),stickyTabStops:NP(new hP(103,"stickyTabStops",!1,{description:DR(0,"Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:NP(new hP(14,"codeLens",!0,{description:DR(0,"Controls whether the editor shows CodeLens.")})),codeLensFontFamily:NP(new gP(15,"codeLensFontFamily","",{description:DR(0,"Controls the font family for CodeLens.")})),codeLensFontSize:NP(new fP(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:DR(0,"Controls the font size in pixels for CodeLens. When set to `0`, the 90% of `#editor.fontSize#` is used.")})),colorDecorators:NP(new hP(17,"colorDecorators",!0,{description:DR(0,"Controls whether the editor should render the inline color decorators and color picker.")})),columnSelection:NP(new hP(18,"columnSelection",!1,{description:DR(0,"Enable that the selection with the mouse and keys is doing column selection.")})),comments:NP(new class extends aP{constructor(){const e={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",e,{"editor.comments.insertSpace":{type:"boolean",default:e.insertSpace,description:DR(0,"Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:e.ignoreEmptyLines,description:DR(0,"Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{insertSpace:uP(t.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:uP(t.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}),contextmenu:NP(new hP(20,"contextmenu",!0)),copyWithSyntaxHighlighting:NP(new hP(21,"copyWithSyntaxHighlighting",!0,{description:DR(0,"Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:NP(new yP(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],(function(e){switch(e){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}),{description:DR(0,"Control the cursor animation style.")})),cursorSmoothCaretAnimation:NP(new hP(23,"cursorSmoothCaretAnimation",!1,{description:DR(0,"Controls whether the smooth caret animation should be enabled.")})),cursorStyle:NP(new yP(24,"cursorStyle",bP.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],(function(e){switch(e){case"line":return bP.Line;case"block":return bP.Block;case"underline":return bP.Underline;case"line-thin":return bP.LineThin;case"block-outline":return bP.BlockOutline;case"underline-thin":return bP.UnderlineThin}}),{description:DR(0,"Controls the cursor style.")})),cursorSurroundingLines:NP(new fP(25,"cursorSurroundingLines",0,0,1073741824,{description:DR(0,"Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:NP(new vP(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[DR(0,"`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),DR(0,"`cursorSurroundingLines` is enforced always.")],description:DR(0,"Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:NP(new fP(27,"cursorWidth",0,0,1073741824,{markdownDescription:DR(0,"Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:NP(new hP(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:NP(new hP(29,"disableMonospaceOptimizations",!1)),domReadOnly:NP(new hP(30,"domReadOnly",!1)),dragAndDrop:NP(new hP(31,"dragAndDrop",!0,{description:DR(0,"Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:NP(new class extends hP{constructor(){super(32,"emptySelectionClipboard",!0,{description:DR(0,"Controls whether copying without a selection copies the current line.")})}compute(e,t,n){return n&&e.emptySelectionClipboard}}),extraEditorClassName:NP(new gP(33,"extraEditorClassName","")),fastScrollSensitivity:NP(new pP(34,"fastScrollSensitivity",5,(e=>e<=0?5:e),{markdownDescription:DR(0,"Scrolling speed multiplier when pressing `Alt`.")})),find:NP(new class extends aP{constructor(){const e={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(35,"find",e,{"editor.find.cursorMoveOnType":{type:"boolean",default:e.cursorMoveOnType,description:DR(0,"Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:e.seedSearchStringFromSelection,enumDescriptions:[DR(0,"Never seed search string from the editor selection."),DR(0,"Always seed search string from the editor selection, including word at cursor position."),DR(0,"Only seed search string from the editor selection.")],description:DR(0,"Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:e.autoFindInSelection,enumDescriptions:[DR(0,"Never turn on Find in Selection automatically (default)."),DR(0,"Always turn on Find in Selection automatically."),DR(0,"Turn on Find in Selection automatically when multiple lines of content are selected.")],description:DR(0,"Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:e.globalFindClipboard,description:DR(0,"Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:WR},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:e.addExtraSpaceOnTop,description:DR(0,"Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:e.loop,description:DR(0,"Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{cursorMoveOnType:uP(t.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:"boolean"==typeof e.seedSearchStringFromSelection?e.seedSearchStringFromSelection?"always":"never":mP(t.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:"boolean"==typeof e.autoFindInSelection?e.autoFindInSelection?"always":"never":mP(t.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:uP(t.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:uP(t.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:uP(t.loop,this.defaultValue.loop)}}}),fixedOverflowWidgets:NP(new hP(36,"fixedOverflowWidgets",!1)),folding:NP(new hP(37,"folding",!0,{description:DR(0,"Controls whether the editor has code folding enabled.")})),foldingStrategy:NP(new vP(38,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[DR(0,"Use a language-specific folding strategy if available, else the indentation-based one."),DR(0,"Use the indentation-based folding strategy.")],description:DR(0,"Controls the strategy for computing folding ranges.")})),foldingHighlight:NP(new hP(39,"foldingHighlight",!0,{description:DR(0,"Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:NP(new hP(40,"foldingImportsByDefault",!1,{description:DR(0,"Controls whether the editor automatically collapses import ranges.")})),unfoldOnClickAfterEndOfLine:NP(new hP(41,"unfoldOnClickAfterEndOfLine",!1,{description:DR(0,"Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:NP(new gP(42,"fontFamily",EP.fontFamily,{description:DR(0,"Controls the font family.")})),fontInfo:NP(new class extends lP{constructor(){super(43)}compute(e,t,n){return e.fontInfo}}),fontLigatures2:NP(new wP),fontSize:NP(new class extends cP{constructor(){super(45,"fontSize",EP.fontSize,{type:"number",minimum:6,maximum:100,default:EP.fontSize,description:DR(0,"Controls the font size in pixels.")})}validate(e){let t=pP.float(e,this.defaultValue);return 0===t?EP.fontSize:pP.clamp(t,6,100)}compute(e,t,n){return e.fontInfo.fontSize}}),fontWeight:NP(new CP),formatOnPaste:NP(new hP(47,"formatOnPaste",!1,{description:DR(0,"Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:NP(new hP(48,"formatOnType",!1,{description:DR(0,"Controls whether the editor should automatically format the line after typing.")})),glyphMargin:NP(new hP(49,"glyphMargin",!0,{description:DR(0,"Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:NP(new class extends aP{constructor(){const e={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},t={type:"string",enum:["peek","gotoAndPeek","goto"],default:e.multiple,enumDescriptions:[DR(0,"Show peek view of the results (default)"),DR(0,"Go to the primary result and show a peek view"),DR(0,"Go to the primary result and enable peek-less navigation to others")]},n=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(50,"gotoLocation",e,{"editor.gotoLocation.multiple":{deprecationMessage:DR(0,"This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:DR(0,"Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:DR(0,"Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleDeclarations":Object.assign({description:DR(0,"Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleImplementations":Object.assign({description:DR(0,"Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleReferences":Object.assign({description:DR(0,"Controls the behavior the 'Go to References'-command when multiple target locations exist.")},t),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:e.alternativeDefinitionCommand,enum:n,description:DR(0,"Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:e.alternativeTypeDefinitionCommand,enum:n,description:DR(0,"Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:e.alternativeDeclarationCommand,enum:n,description:DR(0,"Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:e.alternativeImplementationCommand,enum:n,description:DR(0,"Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:e.alternativeReferenceCommand,enum:n,description:DR(0,"Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(e){var t,n,i,r,o;if(!e||"object"!=typeof e)return this.defaultValue;const s=e;return{multiple:mP(s.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:null!==(t=s.multipleDefinitions)&&void 0!==t?t:mP(s.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:null!==(n=s.multipleTypeDefinitions)&&void 0!==n?n:mP(s.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:null!==(i=s.multipleDeclarations)&&void 0!==i?i:mP(s.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:null!==(r=s.multipleImplementations)&&void 0!==r?r:mP(s.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:null!==(o=s.multipleReferences)&&void 0!==o?o:mP(s.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:gP.string(s.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:gP.string(s.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:gP.string(s.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:gP.string(s.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:gP.string(s.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}),hideCursorInOverviewRuler:NP(new hP(51,"hideCursorInOverviewRuler",!1,{description:DR(0,"Controls whether the cursor should be hidden in the overview ruler.")})),hover:NP(new class extends aP{constructor(){const e={enabled:!0,delay:300,sticky:!0,above:!0};super(52,"hover",e,{"editor.hover.enabled":{type:"boolean",default:e.enabled,description:DR(0,"Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:e.delay,description:DR(0,"Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:e.sticky,description:DR(0,"Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.above":{type:"boolean",default:e.above,description:DR(0,"Prefer showing hovers above the line, if there's space.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:uP(t.enabled,this.defaultValue.enabled),delay:fP.clampedInt(t.delay,this.defaultValue.delay,0,1e4),sticky:uP(t.sticky,this.defaultValue.sticky),above:uP(t.above,this.defaultValue.above)}}}),inDiffEditor:NP(new hP(53,"inDiffEditor",!1)),letterSpacing:NP(new pP(55,"letterSpacing",EP.letterSpacing,(e=>pP.clamp(e,-5,20)),{description:DR(0,"Controls the letter spacing in pixels.")})),lightbulb:NP(new class extends aP{constructor(){const e={enabled:!0};super(56,"lightbulb",e,{"editor.lightbulb.enabled":{type:"boolean",default:e.enabled,description:DR(0,"Enables the code action lightbulb in the editor.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;return{enabled:uP(e.enabled,this.defaultValue.enabled)}}}),lineDecorationsWidth:NP(new cP(57,"lineDecorationsWidth",10)),lineHeight:NP(new class extends pP{constructor(){super(58,"lineHeight",EP.lineHeight,(e=>pP.clamp(e,0,150)),{markdownDescription:DR(0,"Controls the line height. \n - Use 0 to automatically compute the line height from the font size.\n - Values between 0 and 8 will be used as a multiplier with the font size.\n - Values greater than or equal to 8 will be used as effective values.")})}compute(e,t,n){return e.fontInfo.lineHeight}}),lineNumbers:NP(new class extends aP{constructor(){super(59,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[DR(0,"Line numbers are not rendered."),DR(0,"Line numbers are rendered as absolute number."),DR(0,"Line numbers are rendered as distance in lines to cursor position."),DR(0,"Line numbers are rendered every 10 lines.")],default:"on",description:DR(0,"Controls the display of line numbers.")})}validate(e){let t=this.defaultValue.renderType,n=this.defaultValue.renderFn;return void 0!==e&&("function"==typeof e?(t=4,n=e):t="interval"===e?3:"relative"===e?2:"on"===e?1:0),{renderType:t,renderFn:n}}}),lineNumbersMinChars:NP(new fP(60,"lineNumbersMinChars",5,1,300)),linkedEditing:NP(new hP(61,"linkedEditing",!1,{description:DR(0,"Controls whether the editor has linked editing enabled. Depending on the language, related symbols, e.g. HTML tags, are updated while editing.")})),links:NP(new hP(62,"links",!0,{description:DR(0,"Controls whether the editor should detect links and make them clickable.")})),matchBrackets:NP(new vP(63,"matchBrackets","always",["always","near","never"],{description:DR(0,"Highlight matching brackets.")})),minimap:NP(new class extends aP{constructor(){const e={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(64,"minimap",e,{"editor.minimap.enabled":{type:"boolean",default:e.enabled,description:DR(0,"Controls whether the minimap is shown.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[DR(0,"The minimap has the same size as the editor contents (and might scroll)."),DR(0,"The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),DR(0,"The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:e.size,description:DR(0,"Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:e.side,description:DR(0,"Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:e.showSlider,description:DR(0,"Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:e.scale,minimum:1,maximum:3,enum:[1,2,3],description:DR(0,"Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:e.renderCharacters,description:DR(0,"Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:e.maxColumn,description:DR(0,"Limit the width of the minimap to render at most a certain number of columns.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:uP(t.enabled,this.defaultValue.enabled),size:mP(t.size,this.defaultValue.size,["proportional","fill","fit"]),side:mP(t.side,this.defaultValue.side,["right","left"]),showSlider:mP(t.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:uP(t.renderCharacters,this.defaultValue.renderCharacters),scale:fP.clampedInt(t.scale,1,1,3),maxColumn:fP.clampedInt(t.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}),mouseStyle:NP(new vP(65,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:NP(new pP(66,"mouseWheelScrollSensitivity",1,(e=>0===e?1:e),{markdownDescription:DR(0,"A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:NP(new hP(67,"mouseWheelZoom",!1,{markdownDescription:DR(0,"Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:NP(new hP(68,"multiCursorMergeOverlapping",!0,{description:DR(0,"Merge multiple cursors when they are overlapping.")})),multiCursorModifier:NP(new yP(69,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],(function(e){return"ctrlCmd"===e?WR?"metaKey":"ctrlKey":"altKey"}),{markdownEnumDescriptions:[DR(0,"Maps to `Control` on Windows and Linux and to `Command` on macOS."),DR(0,"Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:DR(0,"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the multicursor modifier. [Read more](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:NP(new vP(70,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[DR(0,"Each cursor pastes a single line of the text."),DR(0,"Each cursor pastes the full text.")],markdownDescription:DR(0,"Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:NP(new hP(71,"occurrencesHighlight",!0,{description:DR(0,"Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:NP(new hP(72,"overviewRulerBorder",!0,{description:DR(0,"Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:NP(new fP(73,"overviewRulerLanes",3,0,3)),padding:NP(new class extends aP{constructor(){super(74,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:DR(0,"Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:DR(0,"Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{top:fP.clampedInt(t.top,0,0,1e3),bottom:fP.clampedInt(t.bottom,0,0,1e3)}}}),parameterHints:NP(new class extends aP{constructor(){const e={enabled:!0,cycle:!1};super(75,"parameterHints",e,{"editor.parameterHints.enabled":{type:"boolean",default:e.enabled,description:DR(0,"Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:e.cycle,description:DR(0,"Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:uP(t.enabled,this.defaultValue.enabled),cycle:uP(t.cycle,this.defaultValue.cycle)}}}),peekWidgetDefaultFocus:NP(new vP(76,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[DR(0,"Focus the tree when opening peek"),DR(0,"Focus the editor when opening peek")],description:DR(0,"Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:NP(new hP(77,"definitionLinkOpensInPeek",!1,{description:DR(0,"Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:NP(new class extends aP{constructor(){const e={other:!0,comments:!1,strings:!1};super(78,"quickSuggestions",e,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:e.strings,description:DR(0,"Enable quick suggestions inside strings.")},comments:{type:"boolean",default:e.comments,description:DR(0,"Enable quick suggestions inside comments.")},other:{type:"boolean",default:e.other,description:DR(0,"Enable quick suggestions outside of strings and comments.")}}}],default:e,description:DR(0,"Controls whether suggestions should automatically show up while typing.")}),this.defaultValue=e}validate(e){if("boolean"==typeof e)return e;if(e&&"object"==typeof e){const t=e,n={other:uP(t.other,this.defaultValue.other),comments:uP(t.comments,this.defaultValue.comments),strings:uP(t.strings,this.defaultValue.strings)};return!!(n.other&&n.comments&&n.strings)||!!(n.other||n.comments||n.strings)&&n}return this.defaultValue}}),quickSuggestionsDelay:NP(new fP(79,"quickSuggestionsDelay",10,0,1073741824,{description:DR(0,"Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:NP(new hP(80,"readOnly",!1)),renameOnType:NP(new hP(81,"renameOnType",!1,{description:DR(0,"Controls whether the editor auto renames on type."),markdownDeprecationMessage:DR(0,"Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:NP(new hP(82,"renderControlCharacters",!0,{description:DR(0,"Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:NP(new hP(83,"renderFinalNewline",!0,{description:DR(0,"Render last line number when the file ends with a newline.")})),renderLineHighlight:NP(new vP(84,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",DR(0,"Highlights both the gutter and the current line.")],description:DR(0,"Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:NP(new hP(85,"renderLineHighlightOnlyWhenFocus",!1,{description:DR(0,"Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:NP(new vP(86,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:NP(new vP(87,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",DR(0,"Render whitespace characters except for single spaces between words."),DR(0,"Render whitespace characters only on selected text."),DR(0,"Render only trailing whitespace characters."),""],description:DR(0,"Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:NP(new fP(88,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:NP(new hP(89,"roundedSelection",!0,{description:DR(0,"Controls whether selections should have rounded corners.")})),rulers:NP(new class extends aP{constructor(){const e=[],t={type:"number",description:DR(0,"Number of monospace characters at which this editor ruler will render.")};super(90,"rulers",e,{type:"array",items:{anyOf:[t,{type:["object"],properties:{column:t,color:{type:"string",description:DR(0,"Color of this editor ruler."),format:"color-hex"}}}]},default:e,description:DR(0,"Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(e){if(Array.isArray(e)){let t=[];for(let n of e)if("number"==typeof n)t.push({column:fP.clampedInt(n,0,0,1e4),color:null});else if(n&&"object"==typeof n){const e=n;t.push({column:fP.clampedInt(e.column,0,0,1e4),color:e.color})}return t.sort(((e,t)=>e.column-t.column)),t}return this.defaultValue}}),scrollbar:NP(new class extends aP{constructor(){const e={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(91,"scrollbar",e,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[DR(0,"The vertical scrollbar will be visible only when necessary."),DR(0,"The vertical scrollbar will always be visible."),DR(0,"The vertical scrollbar will always be hidden.")],default:"auto",description:DR(0,"Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[DR(0,"The horizontal scrollbar will be visible only when necessary."),DR(0,"The horizontal scrollbar will always be visible."),DR(0,"The horizontal scrollbar will always be hidden.")],default:"auto",description:DR(0,"Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:e.verticalScrollbarSize,description:DR(0,"The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:e.horizontalScrollbarSize,description:DR(0,"The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:e.scrollByPage,description:DR(0,"Controls whether clicks scroll by page or jump to click position.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e,n=fP.clampedInt(t.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),i=fP.clampedInt(t.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:fP.clampedInt(t.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:SP(t.vertical,this.defaultValue.vertical),horizontal:SP(t.horizontal,this.defaultValue.horizontal),useShadows:uP(t.useShadows,this.defaultValue.useShadows),verticalHasArrows:uP(t.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:uP(t.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:uP(t.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:uP(t.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:n,horizontalSliderSize:fP.clampedInt(t.horizontalSliderSize,n,0,1e3),verticalScrollbarSize:i,verticalSliderSize:fP.clampedInt(t.verticalSliderSize,i,0,1e3),scrollByPage:uP(t.scrollByPage,this.defaultValue.scrollByPage)}}}),scrollBeyondLastColumn:NP(new fP(92,"scrollBeyondLastColumn",5,0,1073741824,{description:DR(0,"Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:NP(new hP(93,"scrollBeyondLastLine",!0,{description:DR(0,"Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:NP(new hP(94,"scrollPredominantAxis",!0,{description:DR(0,"Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:NP(new hP(95,"selectionClipboard",!0,{description:DR(0,"Controls whether the Linux primary clipboard should be supported."),included:HR})),selectionHighlight:NP(new hP(96,"selectionHighlight",!0,{description:DR(0,"Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:NP(new hP(97,"selectOnLineNumbers",!0)),showFoldingControls:NP(new vP(98,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[DR(0,"Always show the folding controls."),DR(0,"Only show the folding controls when the mouse is over the gutter.")],description:DR(0,"Controls when the folding controls on the gutter are shown.")})),showUnused:NP(new hP(99,"showUnused",!0,{description:DR(0,"Controls fading out of unused code.")})),showDeprecated:NP(new hP(124,"showDeprecated",!0,{description:DR(0,"Controls strikethrough deprecated variables.")})),inlayHints:NP(new class extends aP{constructor(){const e={enabled:!0,fontSize:0,fontFamily:""};super(125,"inlayHints",e,{"editor.inlayHints.enabled":{type:"boolean",default:e.enabled,description:DR(0,"Enables the inlay hints in the editor.")},"editor.inlayHints.fontSize":{type:"number",default:e.fontSize,markdownDescription:DR(0,"Controls font size of inlay hints in the editor. A default of 90% of `#editor.fontSize#` is used when the configured value is less than `5` or greater than the editor font size.")},"editor.inlayHints.fontFamily":{type:"string",default:e.fontFamily,markdownDescription:DR(0,"Controls font family of inlay hints in the editor. When set to empty, the `#editor.fontFamily#` is used.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:uP(t.enabled,this.defaultValue.enabled),fontSize:fP.clampedInt(t.fontSize,this.defaultValue.fontSize,0,100),fontFamily:gP.string(t.fontFamily,this.defaultValue.fontFamily)}}}),snippetSuggestions:NP(new vP(100,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[DR(0,"Show snippet suggestions on top of other suggestions."),DR(0,"Show snippet suggestions below other suggestions."),DR(0,"Show snippets suggestions with other suggestions."),DR(0,"Do not show snippet suggestions.")],description:DR(0,"Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:NP(new class extends aP{constructor(){super(101,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:DR(0,"Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"}})}validate(e){return e&&"object"==typeof e?{selectLeadingAndTrailingWhitespace:uP(e.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}:this.defaultValue}}),smoothScrolling:NP(new hP(102,"smoothScrolling",!1,{description:DR(0,"Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:NP(new fP(104,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:NP(new class extends aP{constructor(){const e={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(105,"suggest",e,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[DR(0,"Insert suggestion without overwriting text right of the cursor."),DR(0,"Insert suggestion and overwrite text right of the cursor.")],default:e.insertMode,description:DR(0,"Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:e.filterGraceful,description:DR(0,"Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:e.localityBonus,description:DR(0,"Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:e.shareSuggestSelections,markdownDescription:DR(0,"Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:e.snippetsPreventQuickSuggestions,description:DR(0,"Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:e.showIcons,description:DR(0,"Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:e.showStatusBar,description:DR(0,"Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:e.preview,description:DR(0,"Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:e.showInlineDetails,description:DR(0,"Controls whether suggest details show inline with the label or only in the details widget")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:DR(0,"This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:DR(0,"This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:DR(0,"When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:DR(0,"When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:DR(0,"When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:DR(0,"When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:DR(0,"When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:DR(0,"When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:DR(0,"When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:DR(0,"When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:DR(0,"When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:DR(0,"When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:DR(0,"When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:DR(0,"When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:DR(0,"When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:DR(0,"When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:DR(0,"When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:DR(0,"When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:DR(0,"When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:DR(0,"When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:DR(0,"When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:DR(0,"When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:DR(0,"When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:DR(0,"When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:DR(0,"When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:DR(0,"When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:DR(0,"When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:DR(0,"When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:DR(0,"When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:DR(0,"When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:DR(0,"When enabled IntelliSense shows `issues`-suggestions.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{insertMode:mP(t.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:uP(t.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:uP(t.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:uP(t.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:uP(t.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:uP(t.showIcons,this.defaultValue.showIcons),showStatusBar:uP(t.showStatusBar,this.defaultValue.showStatusBar),preview:uP(t.preview,this.defaultValue.preview),previewMode:mP(t.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:uP(t.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:uP(t.showMethods,this.defaultValue.showMethods),showFunctions:uP(t.showFunctions,this.defaultValue.showFunctions),showConstructors:uP(t.showConstructors,this.defaultValue.showConstructors),showDeprecated:uP(t.showDeprecated,this.defaultValue.showDeprecated),showFields:uP(t.showFields,this.defaultValue.showFields),showVariables:uP(t.showVariables,this.defaultValue.showVariables),showClasses:uP(t.showClasses,this.defaultValue.showClasses),showStructs:uP(t.showStructs,this.defaultValue.showStructs),showInterfaces:uP(t.showInterfaces,this.defaultValue.showInterfaces),showModules:uP(t.showModules,this.defaultValue.showModules),showProperties:uP(t.showProperties,this.defaultValue.showProperties),showEvents:uP(t.showEvents,this.defaultValue.showEvents),showOperators:uP(t.showOperators,this.defaultValue.showOperators),showUnits:uP(t.showUnits,this.defaultValue.showUnits),showValues:uP(t.showValues,this.defaultValue.showValues),showConstants:uP(t.showConstants,this.defaultValue.showConstants),showEnums:uP(t.showEnums,this.defaultValue.showEnums),showEnumMembers:uP(t.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:uP(t.showKeywords,this.defaultValue.showKeywords),showWords:uP(t.showWords,this.defaultValue.showWords),showColors:uP(t.showColors,this.defaultValue.showColors),showFiles:uP(t.showFiles,this.defaultValue.showFiles),showReferences:uP(t.showReferences,this.defaultValue.showReferences),showFolders:uP(t.showFolders,this.defaultValue.showFolders),showTypeParameters:uP(t.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:uP(t.showSnippets,this.defaultValue.showSnippets),showUsers:uP(t.showUsers,this.defaultValue.showUsers),showIssues:uP(t.showIssues,this.defaultValue.showIssues)}}}),inlineSuggest:NP(new class extends aP{constructor(){const e={enabled:!0,mode:"subwordSmart"};super(54,"inlineSuggest",e,{"editor.inlineSuggest.enabled":{type:"boolean",default:e.enabled,description:DR(0,"Controls whether to automatically show inline suggestions in the editor.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:uP(t.enabled,this.defaultValue.enabled),mode:mP(t.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}),suggestFontSize:NP(new fP(106,"suggestFontSize",0,0,1e3,{markdownDescription:DR(0,"Font size for the suggest widget. When set to `0`, the value of `#editor.fontSize#` is used.")})),suggestLineHeight:NP(new fP(107,"suggestLineHeight",0,0,1e3,{markdownDescription:DR(0,"Line height for the suggest widget. When set to `0`, the value of `#editor.lineHeight#` is used. The minimum value is 8.")})),suggestOnTriggerCharacters:NP(new hP(108,"suggestOnTriggerCharacters",!0,{description:DR(0,"Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:NP(new vP(109,"suggestSelection","recentlyUsed",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[DR(0,"Always select the first suggestion."),DR(0,"Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),DR(0,"Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:DR(0,"Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:NP(new vP(110,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[DR(0,"Tab complete will insert the best matching suggestion when pressing tab."),DR(0,"Disable tab completions."),DR(0,"Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:DR(0,"Enables tab completions.")})),tabIndex:NP(new fP(111,"tabIndex",0,-1,1073741824)),unusualLineTerminators:NP(new vP(112,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[DR(0,"Unusual line terminators are automatically removed."),DR(0,"Unusual line terminators are ignored."),DR(0,"Unusual line terminators prompt to be removed.")],description:DR(0,"Remove unusual line terminators that might cause problems.")})),useShadowDOM:NP(new hP(113,"useShadowDOM",!0)),useTabStops:NP(new hP(114,"useTabStops",!0,{description:DR(0,"Inserting and deleting whitespace follows tab stops.")})),wordSeparators:NP(new gP(115,"wordSeparators","`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?",{description:DR(0,"Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:NP(new vP(116,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[DR(0,"Lines will never wrap."),DR(0,"Lines will wrap at the viewport width."),DR(0,"Lines will wrap at `#editor.wordWrapColumn#`."),DR(0,"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:DR(0,"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:NP(new gP(117,"wordWrapBreakAfterCharacters"," \t})]?|/&.,;")),wordWrapBreakBeforeCharacters:NP(new gP(118,"wordWrapBreakBeforeCharacters","([{+")),wordWrapColumn:NP(new fP(119,"wordWrapColumn",80,1,1073741824,{markdownDescription:DR(0,"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:NP(new vP(120,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:NP(new vP(121,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:NP(new yP(122,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],(function(e){switch(e){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}),{enumDescriptions:[DR(0,"No indentation. Wrapped lines begin at column 1."),DR(0,"Wrapped lines get the same indentation as the parent."),DR(0,"Wrapped lines get +1 indentation toward the parent."),DR(0,"Wrapped lines get +2 indentation toward the parent.")],description:DR(0,"Controls the indentation of wrapped lines.")})),wrappingStrategy:NP(new vP(123,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[DR(0,"Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),DR(0,"Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],description:DR(0,"Controls the algorithm that computes wrapping points.")})),editorClassName:NP(new class extends lP{constructor(){super(126,[65,33])}compute(e,t,n){const i=["monaco-editor"];return t.get(33)&&i.push(t.get(33)),e.extraEditorClassName&&i.push(e.extraEditorClassName),"default"===t.get(65)?i.push("mouse-default"):"copy"===t.get(65)&&i.push("mouse-copy"),t.get(99)&&i.push("showUnused"),t.get(124)&&i.push("showDeprecated"),i.join(" ")}}),pixelRatio:NP(new class extends lP{constructor(){super(127)}compute(e,t,n){return e.pixelRatio}}),tabFocusMode:NP(new class extends lP{constructor(){super(128,[80])}compute(e,t,n){return!!t.get(80)||e.tabFocusMode}}),layoutInfo:NP(new xP),wrappingInfo:NP(new class extends lP{constructor(){super(130,[129])}compute(e,t,n){const i=t.get(129);return{isDominatedByLongLines:e.isDominatedByLongLines,isWordWrapMinified:i.isWordWrapMinified,isViewportWrapping:i.isViewportWrapping,wrappingColumn:i.wrappingColumn}}})};const AP=new class{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout((()=>{if(e.stack)throw new Error(e.message+"\n\n"+e.stack);throw e}),0)}}emit(e){this.listeners.forEach((t=>{t(e)}))}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}};function IP(e){RP(e)||AP.onUnexpectedError(e)}function OP(e){RP(e)||AP.onUnexpectedExternalError(e)}function FP(e){if(e instanceof Error){let{name:t,message:n}=e;return{$isError:!0,name:t,message:n,stack:e.stacktrace||e.stack}}return e}function RP(e){return e instanceof Error&&"Canceled"===e.name&&"Canceled"===e.message}function PP(){const e=new Error("Canceled");return e.name=e.message,e}function BP(e){return e?new Error(`Illegal argument: ${e}`):new Error("Illegal argument")}class jP extends Error{constructor(e){super("NotSupported"),e&&(this.message=e)}}function zP(e){const t=this;let n,i=!1;return function(){return i||(i=!0,n=e.apply(t,arguments)),n}}var VP;!function(e){e.is=function(e){return e&&"object"==typeof e&&"function"==typeof e[Symbol.iterator]};const t=Object.freeze([]);e.empty=function(){return t},e.single=function*(e){yield e},e.from=function(e){return e||t},e.isEmpty=function(e){return!e||!0===e[Symbol.iterator]().next().done},e.first=function(e){return e[Symbol.iterator]().next().value},e.some=function(e,t){for(const n of e)if(t(n))return!0;return!1},e.find=function(e,t){for(const n of e)if(t(n))return n},e.filter=function*(e,t){for(const n of e)t(n)&&(yield n)},e.map=function*(e,t){let n=0;for(const i of e)yield t(i,n++)},e.concat=function*(...e){for(const t of e)for(const e of t)yield e},e.concatNested=function*(e){for(const t of e)for(const e of t)yield e},e.reduce=function(e,t,n){let i=n;for(const r of e)i=t(i,r);return i},e.slice=function*(e,t,n=e.length){for(t<0&&(t+=e.length),n<0?n+=e.length:n>e.length&&(n=e.length);t<n;t++)yield e[t]},e.consume=function(t,n=Number.POSITIVE_INFINITY){const i=[];if(0===n)return[i,t];const r=t[Symbol.iterator]();for(let o=0;o<n;o++){const t=r.next();if(t.done)return[i,e.empty()];i.push(t.value)}return[i,{[Symbol.iterator]:()=>r}]},e.equals=function(e,t,n=((e,t)=>e===t)){const i=e[Symbol.iterator](),r=t[Symbol.iterator]();for(;;){const e=i.next(),t=r.next();if(e.done!==t.done)return!1;if(e.done)return!0;if(!n(e.value,t.value))return!1}}}(VP||(VP={}));class WP extends Error{constructor(e){super(`Encountered errors while disposing of store. Errors: [${e.join(", ")}]`),this.errors=e}}function HP(e){if(VP.is(e)){let t=[];for(const n of e)if(n)try{n.dispose()}catch(nR){t.push(nR)}if(1===t.length)throw t[0];if(t.length>1)throw new WP(t);return Array.isArray(e)?[]:e}if(e)return e.dispose(),e}function UP(...e){return $P((()=>HP(e)))}function $P(e){return{dispose:zP((()=>{e()}))}}class qP{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}clear(){try{HP(this._toDispose.values())}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?qP.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}}qP.DISABLE_DISPOSED_WARNING=!1;class KP{constructor(){this._store=new qP,this._store}dispose(){this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}}KP.None=Object.freeze({dispose(){}});class YP{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(e){var t;this._isDisposed||e===this._value||(null===(t=this._value)||void 0===t||t.dispose(),this._value=e)}clear(){this.value=void 0}dispose(){var e;this._isDisposed=!0,null===(e=this._value)||void 0===e||e.dispose(),this._value=void 0}clearAndLeak(){const e=this._value;return this._value=void 0,e}}class GP{constructor(e){this.object=e}dispose(){}}class XP{constructor(e){this.element=e,this.next=XP.Undefined,this.prev=XP.Undefined}}XP.Undefined=new XP(void 0);class ZP{constructor(){this._first=XP.Undefined,this._last=XP.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===XP.Undefined}clear(){let e=this._first;for(;e!==XP.Undefined;){const t=e.next;e.prev=XP.Undefined,e.next=XP.Undefined,e=t}this._first=XP.Undefined,this._last=XP.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){const n=new XP(e);if(this._first===XP.Undefined)this._first=n,this._last=n;else if(t){const e=this._last;this._last=n,n.prev=e,e.next=n}else{const e=this._first;this._first=n,n.next=e,e.prev=n}this._size+=1;let i=!1;return()=>{i||(i=!0,this._remove(n))}}shift(){if(this._first!==XP.Undefined){const e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==XP.Undefined){const e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==XP.Undefined&&e.next!==XP.Undefined){const t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===XP.Undefined&&e.next===XP.Undefined?(this._first=XP.Undefined,this._last=XP.Undefined):e.next===XP.Undefined?(this._last=this._last.prev,this._last.next=XP.Undefined):e.prev===XP.Undefined&&(this._first=this._first.next,this._first.prev=XP.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==XP.Undefined;)yield e.element,e=e.next}}const JP=BR.performance&&"function"==typeof BR.performance.now;class QP{constructor(e){this._highResolution=JP&&e,this._startTime=this._now(),this._stopTime=-1}static create(e=!0){return new QP(e)}stop(){this._stopTime=this._now()}elapsed(){return-1!==this._stopTime?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?BR.performance.now():Date.now()}}var eB;!function(e){function t(e){return(t,n=null,i)=>{let r,o=!1;return r=e((e=>{if(!o)return r?r.dispose():o=!0,t.call(n,e)}),null,i),o&&r.dispose(),r}}function n(e,t){return s(((n,i=null,r)=>e((e=>n.call(i,t(e))),null,r)))}function i(e,t){return s(((n,i=null,r)=>e((e=>{t(e),n.call(i,e)}),null,r)))}function r(e,t){return s(((n,i=null,r)=>e((e=>t(e)&&n.call(i,e)),null,r)))}function o(e,t,i){let r=i;return n(e,(e=>(r=t(r,e),r)))}function s(e){let t;const n=new nB({onFirstListenerAdd(){t=e(n.fire,n)},onLastListenerRemove(){t.dispose()}});return n.event}function a(e,t,n=100,i=!1,r){let o,s,a,l=0;const c=new nB({leakWarningThreshold:r,onFirstListenerAdd(){o=e((e=>{l++,s=t(s,e),i&&!a&&(c.fire(s),s=void 0),clearTimeout(a),a=setTimeout((()=>{const e=s;s=void 0,a=void 0,(!i||l>1)&&c.fire(e),l=0}),n)}))},onLastListenerRemove(){o.dispose()}});return c.event}function l(e,t=((e,t)=>e===t)){let n,i=!0;return r(e,(e=>{const r=i||!t(e,n);return i=!1,n=e,r}))}e.None=()=>KP.None,e.once=t,e.map=n,e.forEach=i,e.filter=r,e.signal=function(e){return e},e.any=function(...e){return(t,n=null,i)=>UP(...e.map((e=>e((e=>t.call(n,e)),null,i))))},e.reduce=o,e.debounce=a,e.latch=l,e.split=function(t,n){return[e.filter(t,n),e.filter(t,(e=>!n(e)))]},e.buffer=function(e,t=!1,n=[]){let i=n.slice(),r=e((e=>{i?i.push(e):s.fire(e)}));const o=()=>{i&&i.forEach((e=>s.fire(e))),i=null},s=new nB({onFirstListenerAdd(){r||(r=e((e=>s.fire(e))))},onFirstListenerDidAdd(){i&&(t?setTimeout(o):o())},onLastListenerRemove(){r&&r.dispose(),r=null}});return s.event};class c{constructor(e){this.event=e}map(e){return new c(n(this.event,e))}forEach(e){return new c(i(this.event,e))}filter(e){return new c(r(this.event,e))}reduce(e,t){return new c(o(this.event,e,t))}latch(){return new c(l(this.event))}debounce(e,t=100,n=!1,i){return new c(a(this.event,e,t,n,i))}on(e,t,n){return this.event(e,t,n)}once(e,n,i){return t(this.event)(e,n,i)}}e.chain=function(e){return new c(e)},e.fromNodeEventEmitter=function(e,t,n=(e=>e)){const i=(...e)=>r.fire(n(...e)),r=new nB({onFirstListenerAdd:()=>e.on(t,i),onLastListenerRemove:()=>e.removeListener(t,i)});return r.event},e.fromDOMEventEmitter=function(e,t,n=(e=>e)){const i=(...e)=>r.fire(n(...e)),r=new nB({onFirstListenerAdd:()=>e.addEventListener(t,i),onLastListenerRemove:()=>e.removeEventListener(t,i)});return r.event},e.toPromise=function(e){return new Promise((n=>t(e)(n)))}}(eB||(eB={}));class tB{constructor(e){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${e}_${tB._idPool++}`}start(e){this._stopWatch=new QP(!0),this._listenerCount=e}stop(){if(this._stopWatch){const e=this._stopWatch.elapsed();this._elapsedOverall+=e,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${e.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}tB._idPool=0;class nB{constructor(e){var t;this._disposed=!1,this._options=e,this._leakageMon=void 0,this._perfMon=(null===(t=this._options)||void 0===t?void 0:t._profName)?new tB(this._options._profName):void 0}get event(){return this._event||(this._event=(e,t,n)=>{var i;this._listeners||(this._listeners=new ZP);const r=this._listeners.isEmpty();r&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const o=this._listeners.push(t?[e,t]:e);r&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,e,t);const s=null===(i=this._leakageMon)||void 0===i?void 0:i.check(this._listeners.size),a=$P((()=>{if(s&&s(),!this._disposed&&(o(),this._options&&this._options.onLastListenerRemove)){this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)}}));return n instanceof qP?n.add(a):Array.isArray(n)&&n.push(a),a}),this._event}fire(e){var t,n;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new ZP);for(let t of this._listeners)this._deliveryQueue.push([t,e]);for(null===(t=this._perfMon)||void 0===t||t.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[e,t]=this._deliveryQueue.shift();try{"function"==typeof e?e.call(void 0,t):e[0].call(e[1],t)}catch(nR){IP(nR)}}null===(n=this._perfMon)||void 0===n||n.stop()}}dispose(){var e,t,n,i,r;this._disposed||(this._disposed=!0,null===(e=this._listeners)||void 0===e||e.clear(),null===(t=this._deliveryQueue)||void 0===t||t.clear(),null===(i=null===(n=this._options)||void 0===n?void 0:n.onLastListenerRemove)||void 0===i||i.call(n),null===(r=this._leakageMon)||void 0===r||r.dispose())}}class iB extends nB{constructor(e){super(e),this._isPaused=0,this._eventQueue=new ZP,this._mergeFn=null==e?void 0:e.merge}pause(){this._isPaused++}resume(){if(0!==this._isPaused&&0==--this._isPaused)if(this._mergeFn){const e=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(e))}else for(;!this._isPaused&&0!==this._eventQueue.size;)super.fire(this._eventQueue.shift())}fire(e){this._listeners&&(0!==this._isPaused?this._eventQueue.push(e):super.fire(e))}}class rB extends iB{constructor(e){var t;super(e),this._delay=null!==(t=e.delay)&&void 0!==t?t:100}fire(e){this._handle||(this.pause(),this._handle=setTimeout((()=>{this._handle=void 0,this.resume()}),this._delay)),super.fire(e)}}class oB{constructor(){this.buffers=[]}wrapEvent(e){return(t,n,i)=>e((e=>{const i=this.buffers[this.buffers.length-1];i?i.push((()=>t.call(n,e))):t.call(n,e)}),void 0,i)}bufferEvents(e){const t=[];this.buffers.push(t);const n=e();return this.buffers.pop(),t.forEach((e=>e())),n}}class sB{constructor(){this.listening=!1,this.inputEvent=eB.None,this.inputEventListener=KP.None,this.emitter=new nB({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(e){this.inputEvent=e,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=e(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}const aB=Object.freeze((function(e,t){const n=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(n)}}}));var lB,cB;(cB=lB||(lB={})).isCancellationToken=function(e){return e===cB.None||e===cB.Cancelled||e instanceof uB||!(!e||"object"!=typeof e)&&"boolean"==typeof e.isCancellationRequested&&"function"==typeof e.onCancellationRequested},cB.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:eB.None}),cB.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:aB});class uB{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?aB:(this._emitter||(this._emitter=new nB),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class hB{constructor(e){this._token=void 0,this._parentListener=void 0,this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new uB),this._token}cancel(){this._token?this._token instanceof uB&&this._token.cancel():this._token=lB.Cancelled}dispose(e=!1){e&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof uB&&this._token.dispose():this._token=lB.None}}class dB{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}}const fB=new dB,pB=new dB,gB=new dB,mB=new Array(230),vB={},yB=[],bB=Object.create(null),_B=Object.create(null),wB=[],CB=[];for(let os=0;os<=193;os++)wB[os]=-1;for(let os=0;os<=126;os++)CB[os]=-1;var xB,kB;let SB;if(function(){const e="",t=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",e,e],[0,1,1,"Hyper",0,e,0,e,e,e],[0,1,2,"Super",0,e,0,e,e,e],[0,1,3,"Fn",0,e,0,e,e,e],[0,1,4,"FnLock",0,e,0,e,e,e],[0,1,5,"Suspend",0,e,0,e,e,e],[0,1,6,"Resume",0,e,0,e,e,e],[0,1,7,"Turbo",0,e,0,e,e,e],[0,1,8,"Sleep",0,e,0,"VK_SLEEP",e,e],[0,1,9,"WakeUp",0,e,0,e,e,e],[31,0,10,"KeyA",31,"A",65,"VK_A",e,e],[32,0,11,"KeyB",32,"B",66,"VK_B",e,e],[33,0,12,"KeyC",33,"C",67,"VK_C",e,e],[34,0,13,"KeyD",34,"D",68,"VK_D",e,e],[35,0,14,"KeyE",35,"E",69,"VK_E",e,e],[36,0,15,"KeyF",36,"F",70,"VK_F",e,e],[37,0,16,"KeyG",37,"G",71,"VK_G",e,e],[38,0,17,"KeyH",38,"H",72,"VK_H",e,e],[39,0,18,"KeyI",39,"I",73,"VK_I",e,e],[40,0,19,"KeyJ",40,"J",74,"VK_J",e,e],[41,0,20,"KeyK",41,"K",75,"VK_K",e,e],[42,0,21,"KeyL",42,"L",76,"VK_L",e,e],[43,0,22,"KeyM",43,"M",77,"VK_M",e,e],[44,0,23,"KeyN",44,"N",78,"VK_N",e,e],[45,0,24,"KeyO",45,"O",79,"VK_O",e,e],[46,0,25,"KeyP",46,"P",80,"VK_P",e,e],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",e,e],[48,0,27,"KeyR",48,"R",82,"VK_R",e,e],[49,0,28,"KeyS",49,"S",83,"VK_S",e,e],[50,0,29,"KeyT",50,"T",84,"VK_T",e,e],[51,0,30,"KeyU",51,"U",85,"VK_U",e,e],[52,0,31,"KeyV",52,"V",86,"VK_V",e,e],[53,0,32,"KeyW",53,"W",87,"VK_W",e,e],[54,0,33,"KeyX",54,"X",88,"VK_X",e,e],[55,0,34,"KeyY",55,"Y",89,"VK_Y",e,e],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",e,e],[22,0,36,"Digit1",22,"1",49,"VK_1",e,e],[23,0,37,"Digit2",23,"2",50,"VK_2",e,e],[24,0,38,"Digit3",24,"3",51,"VK_3",e,e],[25,0,39,"Digit4",25,"4",52,"VK_4",e,e],[26,0,40,"Digit5",26,"5",53,"VK_5",e,e],[27,0,41,"Digit6",27,"6",54,"VK_6",e,e],[28,0,42,"Digit7",28,"7",55,"VK_7",e,e],[29,0,43,"Digit8",29,"8",56,"VK_8",e,e],[30,0,44,"Digit9",30,"9",57,"VK_9",e,e],[21,0,45,"Digit0",21,"0",48,"VK_0",e,e],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",e,e],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",e,e],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",e,e],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",e,e],[10,1,50,"Space",10,"Space",32,"VK_SPACE",e,e],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,e,0,e,e,e],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",e,e],[59,1,64,"F1",59,"F1",112,"VK_F1",e,e],[60,1,65,"F2",60,"F2",113,"VK_F2",e,e],[61,1,66,"F3",61,"F3",114,"VK_F3",e,e],[62,1,67,"F4",62,"F4",115,"VK_F4",e,e],[63,1,68,"F5",63,"F5",116,"VK_F5",e,e],[64,1,69,"F6",64,"F6",117,"VK_F6",e,e],[65,1,70,"F7",65,"F7",118,"VK_F7",e,e],[66,1,71,"F8",66,"F8",119,"VK_F8",e,e],[67,1,72,"F9",67,"F9",120,"VK_F9",e,e],[68,1,73,"F10",68,"F10",121,"VK_F10",e,e],[69,1,74,"F11",69,"F11",122,"VK_F11",e,e],[70,1,75,"F12",70,"F12",123,"VK_F12",e,e],[0,1,76,"PrintScreen",0,e,0,e,e,e],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",e,e],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",e,e],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",e,e],[14,1,80,"Home",14,"Home",36,"VK_HOME",e,e],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",e,e],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",e,e],[13,1,83,"End",13,"End",35,"VK_END",e,e],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",e,e],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",e],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",e],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",e],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",e],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",e,e],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",e,e],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",e,e],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",e,e],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",e,e],[3,1,94,"NumpadEnter",3,e,0,e,e,e],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",e,e],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",e,e],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",e,e],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",e,e],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",e,e],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",e,e],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",e,e],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",e,e],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",e,e],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",e,e],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",e,e],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",e,e],[58,1,107,"ContextMenu",58,"ContextMenu",93,e,e,e],[0,1,108,"Power",0,e,0,e,e,e],[0,1,109,"NumpadEqual",0,e,0,e,e,e],[71,1,110,"F13",71,"F13",124,"VK_F13",e,e],[72,1,111,"F14",72,"F14",125,"VK_F14",e,e],[73,1,112,"F15",73,"F15",126,"VK_F15",e,e],[74,1,113,"F16",74,"F16",127,"VK_F16",e,e],[75,1,114,"F17",75,"F17",128,"VK_F17",e,e],[76,1,115,"F18",76,"F18",129,"VK_F18",e,e],[77,1,116,"F19",77,"F19",130,"VK_F19",e,e],[0,1,117,"F20",0,e,0,"VK_F20",e,e],[0,1,118,"F21",0,e,0,"VK_F21",e,e],[0,1,119,"F22",0,e,0,"VK_F22",e,e],[0,1,120,"F23",0,e,0,"VK_F23",e,e],[0,1,121,"F24",0,e,0,"VK_F24",e,e],[0,1,122,"Open",0,e,0,e,e,e],[0,1,123,"Help",0,e,0,e,e,e],[0,1,124,"Select",0,e,0,e,e,e],[0,1,125,"Again",0,e,0,e,e,e],[0,1,126,"Undo",0,e,0,e,e,e],[0,1,127,"Cut",0,e,0,e,e,e],[0,1,128,"Copy",0,e,0,e,e,e],[0,1,129,"Paste",0,e,0,e,e,e],[0,1,130,"Find",0,e,0,e,e,e],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",e,e],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",e,e],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",e,e],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",e,e],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",e,e],[0,1,136,"KanaMode",0,e,0,e,e,e],[0,0,137,"IntlYen",0,e,0,e,e,e],[0,1,138,"Convert",0,e,0,e,e,e],[0,1,139,"NonConvert",0,e,0,e,e,e],[0,1,140,"Lang1",0,e,0,e,e,e],[0,1,141,"Lang2",0,e,0,e,e,e],[0,1,142,"Lang3",0,e,0,e,e,e],[0,1,143,"Lang4",0,e,0,e,e,e],[0,1,144,"Lang5",0,e,0,e,e,e],[0,1,145,"Abort",0,e,0,e,e,e],[0,1,146,"Props",0,e,0,e,e,e],[0,1,147,"NumpadParenLeft",0,e,0,e,e,e],[0,1,148,"NumpadParenRight",0,e,0,e,e,e],[0,1,149,"NumpadBackspace",0,e,0,e,e,e],[0,1,150,"NumpadMemoryStore",0,e,0,e,e,e],[0,1,151,"NumpadMemoryRecall",0,e,0,e,e,e],[0,1,152,"NumpadMemoryClear",0,e,0,e,e,e],[0,1,153,"NumpadMemoryAdd",0,e,0,e,e,e],[0,1,154,"NumpadMemorySubtract",0,e,0,e,e,e],[0,1,155,"NumpadClear",0,e,0,e,e,e],[0,1,156,"NumpadClearEntry",0,e,0,e,e,e],[5,1,0,e,5,"Ctrl",17,"VK_CONTROL",e,e],[4,1,0,e,4,"Shift",16,"VK_SHIFT",e,e],[6,1,0,e,6,"Alt",18,"VK_MENU",e,e],[57,1,0,e,57,"Meta",0,"VK_COMMAND",e,e],[5,1,157,"ControlLeft",5,e,0,"VK_LCONTROL",e,e],[4,1,158,"ShiftLeft",4,e,0,"VK_LSHIFT",e,e],[6,1,159,"AltLeft",6,e,0,"VK_LMENU",e,e],[57,1,160,"MetaLeft",57,e,0,"VK_LWIN",e,e],[5,1,161,"ControlRight",5,e,0,"VK_RCONTROL",e,e],[4,1,162,"ShiftRight",4,e,0,"VK_RSHIFT",e,e],[6,1,163,"AltRight",6,e,0,"VK_RMENU",e,e],[57,1,164,"MetaRight",57,e,0,"VK_RWIN",e,e],[0,1,165,"BrightnessUp",0,e,0,e,e,e],[0,1,166,"BrightnessDown",0,e,0,e,e,e],[0,1,167,"MediaPlay",0,e,0,e,e,e],[0,1,168,"MediaRecord",0,e,0,e,e,e],[0,1,169,"MediaFastForward",0,e,0,e,e,e],[0,1,170,"MediaRewind",0,e,0,e,e,e],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",e,e],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",e,e],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",e,e],[0,1,174,"Eject",0,e,0,e,e,e],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",e,e],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",e,e],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",e,e],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",e,e],[0,1,179,"LaunchApp1",0,e,0,"VK_MEDIA_LAUNCH_APP1",e,e],[0,1,180,"SelectTask",0,e,0,e,e,e],[0,1,181,"LaunchScreenSaver",0,e,0,e,e,e],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",e,e],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",e,e],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",e,e],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",e,e],[0,1,186,"BrowserStop",0,e,0,"VK_BROWSER_STOP",e,e],[0,1,187,"BrowserRefresh",0,e,0,"VK_BROWSER_REFRESH",e,e],[0,1,188,"BrowserFavorites",0,e,0,"VK_BROWSER_FAVORITES",e,e],[0,1,189,"ZoomToggle",0,e,0,e,e,e],[0,1,190,"MailReply",0,e,0,e,e,e],[0,1,191,"MailForward",0,e,0,e,e,e],[0,1,192,"MailSend",0,e,0,e,e,e],[109,1,0,e,109,"KeyInComposition",229,e,e,e],[111,1,0,e,111,"ABNT_C2",194,"VK_ABNT_C2",e,e],[91,1,0,e,91,"OEM_8",223,"VK_OEM_8",e,e],[0,1,0,e,0,e,0,"VK_CLEAR",e,e],[0,1,0,e,0,e,0,"VK_KANA",e,e],[0,1,0,e,0,e,0,"VK_HANGUL",e,e],[0,1,0,e,0,e,0,"VK_JUNJA",e,e],[0,1,0,e,0,e,0,"VK_FINAL",e,e],[0,1,0,e,0,e,0,"VK_HANJA",e,e],[0,1,0,e,0,e,0,"VK_KANJI",e,e],[0,1,0,e,0,e,0,"VK_CONVERT",e,e],[0,1,0,e,0,e,0,"VK_NONCONVERT",e,e],[0,1,0,e,0,e,0,"VK_ACCEPT",e,e],[0,1,0,e,0,e,0,"VK_MODECHANGE",e,e],[0,1,0,e,0,e,0,"VK_SELECT",e,e],[0,1,0,e,0,e,0,"VK_PRINT",e,e],[0,1,0,e,0,e,0,"VK_EXECUTE",e,e],[0,1,0,e,0,e,0,"VK_SNAPSHOT",e,e],[0,1,0,e,0,e,0,"VK_HELP",e,e],[0,1,0,e,0,e,0,"VK_APPS",e,e],[0,1,0,e,0,e,0,"VK_PROCESSKEY",e,e],[0,1,0,e,0,e,0,"VK_PACKET",e,e],[0,1,0,e,0,e,0,"VK_DBE_SBCSCHAR",e,e],[0,1,0,e,0,e,0,"VK_DBE_DBCSCHAR",e,e],[0,1,0,e,0,e,0,"VK_ATTN",e,e],[0,1,0,e,0,e,0,"VK_CRSEL",e,e],[0,1,0,e,0,e,0,"VK_EXSEL",e,e],[0,1,0,e,0,e,0,"VK_EREOF",e,e],[0,1,0,e,0,e,0,"VK_PLAY",e,e],[0,1,0,e,0,e,0,"VK_ZOOM",e,e],[0,1,0,e,0,e,0,"VK_NONAME",e,e],[0,1,0,e,0,e,0,"VK_PA1",e,e],[0,1,0,e,0,e,0,"VK_OEM_CLEAR",e,e]];let n=[],i=[];for(const r of t){const[e,t,o,s,a,l,c,u,h,d]=r;if(i[o]||(i[o]=!0,yB[o]=s,bB[s]=o,_B[s.toLowerCase()]=o,t&&(wB[o]=a,0!==a&&3!==a&&5!==a&&4!==a&&6!==a&&57!==a&&(CB[a]=o))),!n[a]){if(n[a]=!0,!l)throw new Error(`String representation missing for key code ${a} around scan code ${s}`);fB.define(a,l),pB.define(a,h||l),gB.define(a,d||h||l)}c&&(mB[c]=a),u&&(vB[u]=a)}CB[3]=46}(),(kB=xB||(xB={})).toString=function(e){return fB.keyCodeToStr(e)},kB.fromString=function(e){return fB.strToKeyCode(e)},kB.toUserSettingsUS=function(e){return pB.keyCodeToStr(e)},kB.toUserSettingsGeneral=function(e){return gB.keyCodeToStr(e)},kB.fromUserSettings=function(e){return pB.strToKeyCode(e)||gB.strToKeyCode(e)},kB.toElectronAccelerator=function(e){if(e>=93&&e<=108)return null;switch(e){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return fB.keyCodeToStr(e)},void 0!==BR.vscode&&void 0!==BR.vscode.process){const e=BR.vscode.process;SB={get platform(){return e.platform},get arch(){return e.arch},get env(){return e.env},cwd:()=>e.cwd(),nextTick:e=>YR(e)}}else SB="undefined"!=typeof process?{get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd:()=>process.env.VSCODE_CWD||process.cwd(),nextTick:e=>process.nextTick(e)}:{get platform(){return VR?"win32":WR?"darwin":"linux"},get arch(){},nextTick:e=>YR(e),get env(){return{}},cwd:()=>"/"};const DB=SB.cwd,EB=SB.env,LB=SB.platform;class TB extends Error{constructor(e,t,n){let i;"string"==typeof t&&0===t.indexOf("not ")?(i="must not be",t=t.replace(/^not /,"")):i="must be";const r=-1!==e.indexOf(".")?"property":"argument";let o=`The "${e}" ${r} ${i} of type ${t}`;o+=". Received type "+typeof n,super(o),this.code="ERR_INVALID_ARG_TYPE"}}function NB(e,t){if("string"!=typeof e)throw new TB(t,"string",e)}function MB(e){return 47===e||92===e}function AB(e){return 47===e}function IB(e){return e>=65&&e<=90||e>=97&&e<=122}function OB(e,t,n,i){let r="",o=0,s=-1,a=0,l=0;for(let c=0;c<=e.length;++c){if(c<e.length)l=e.charCodeAt(c);else{if(i(l))break;l=47}if(i(l)){if(s===c-1||1===a);else if(2===a){if(r.length<2||2!==o||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2)){if(r.length>2){const e=r.lastIndexOf(n);-1===e?(r="",o=0):(r=r.slice(0,e),o=r.length-1-r.lastIndexOf(n)),s=c,a=0;continue}if(0!==r.length){r="",o=0,s=c,a=0;continue}}t&&(r+=r.length>0?`${n}..`:"..",o=2)}else r.length>0?r+=`${n}${e.slice(s+1,c)}`:r=e.slice(s+1,c),o=c-s-1;s=c,a=0}else 46===l&&-1!==a?++a:a=-1}return r}function FB(e,t){if(null===t||"object"!=typeof t)throw new TB("pathObject","Object",t);const n=t.dir||t.root,i=t.base||`${t.name||""}${t.ext||""}`;return n?n===t.root?`${n}${i}`:`${n}${e}${i}`:i}const RB={resolve(...e){let t="",n="",i=!1;for(let r=e.length-1;r>=-1;r--){let o;if(r>=0){if(o=e[r],NB(o,"path"),0===o.length)continue}else 0===t.length?o=DB():(o=EB[`=${t}`]||DB(),(void 0===o||o.slice(0,2).toLowerCase()!==t.toLowerCase()&&92===o.charCodeAt(2))&&(o=`${t}\\`));const s=o.length;let a=0,l="",c=!1;const u=o.charCodeAt(0);if(1===s)MB(u)&&(a=1,c=!0);else if(MB(u))if(c=!0,MB(o.charCodeAt(1))){let e=2,t=e;for(;e<s&&!MB(o.charCodeAt(e));)e++;if(e<s&&e!==t){const n=o.slice(t,e);for(t=e;e<s&&MB(o.charCodeAt(e));)e++;if(e<s&&e!==t){for(t=e;e<s&&!MB(o.charCodeAt(e));)e++;e!==s&&e===t||(l=`\\\\${n}\\${o.slice(t,e)}`,a=e)}}}else a=1;else IB(u)&&58===o.charCodeAt(1)&&(l=o.slice(0,2),a=2,s>2&&MB(o.charCodeAt(2))&&(c=!0,a=3));if(l.length>0)if(t.length>0){if(l.toLowerCase()!==t.toLowerCase())continue}else t=l;if(i){if(t.length>0)break}else if(n=`${o.slice(a)}\\${n}`,i=c,c&&t.length>0)break}return n=OB(n,!i,"\\",MB),i?`${t}\\${n}`:`${t}${n}`||"."},normalize(e){NB(e,"path");const t=e.length;if(0===t)return".";let n,i=0,r=!1;const o=e.charCodeAt(0);if(1===t)return AB(o)?"\\":e;if(MB(o))if(r=!0,MB(e.charCodeAt(1))){let r=2,o=r;for(;r<t&&!MB(e.charCodeAt(r));)r++;if(r<t&&r!==o){const s=e.slice(o,r);for(o=r;r<t&&MB(e.charCodeAt(r));)r++;if(r<t&&r!==o){for(o=r;r<t&&!MB(e.charCodeAt(r));)r++;if(r===t)return`\\\\${s}\\${e.slice(o)}\\`;r!==o&&(n=`\\\\${s}\\${e.slice(o,r)}`,i=r)}}}else i=1;else IB(o)&&58===e.charCodeAt(1)&&(n=e.slice(0,2),i=2,t>2&&MB(e.charCodeAt(2))&&(r=!0,i=3));let s=i<t?OB(e.slice(i),!r,"\\",MB):"";return 0!==s.length||r||(s="."),s.length>0&&MB(e.charCodeAt(t-1))&&(s+="\\"),void 0===n?r?`\\${s}`:s:r?`${n}\\${s}`:`${n}${s}`},isAbsolute(e){NB(e,"path");const t=e.length;if(0===t)return!1;const n=e.charCodeAt(0);return MB(n)||t>2&&IB(n)&&58===e.charCodeAt(1)&&MB(e.charCodeAt(2))},join(...e){if(0===e.length)return".";let t,n;for(let o=0;o<e.length;++o){const i=e[o];NB(i,"path"),i.length>0&&(void 0===t?t=n=i:t+=`\\${i}`)}if(void 0===t)return".";let i=!0,r=0;if("string"==typeof n&&MB(n.charCodeAt(0))){++r;const e=n.length;e>1&&MB(n.charCodeAt(1))&&(++r,e>2&&(MB(n.charCodeAt(2))?++r:i=!1))}if(i){for(;r<t.length&&MB(t.charCodeAt(r));)r++;r>=2&&(t=`\\${t.slice(r)}`)}return RB.normalize(t)},relative(e,t){if(NB(e,"from"),NB(t,"to"),e===t)return"";const n=RB.resolve(e),i=RB.resolve(t);if(n===i)return"";if((e=n.toLowerCase())===(t=i.toLowerCase()))return"";let r=0;for(;r<e.length&&92===e.charCodeAt(r);)r++;let o=e.length;for(;o-1>r&&92===e.charCodeAt(o-1);)o--;const s=o-r;let a=0;for(;a<t.length&&92===t.charCodeAt(a);)a++;let l=t.length;for(;l-1>a&&92===t.charCodeAt(l-1);)l--;const c=l-a,u=s<c?s:c;let h=-1,d=0;for(;d<u;d++){const n=e.charCodeAt(r+d);if(n!==t.charCodeAt(a+d))break;92===n&&(h=d)}if(d!==u){if(-1===h)return i}else{if(c>u){if(92===t.charCodeAt(a+d))return i.slice(a+d+1);if(2===d)return i.slice(a+d)}s>u&&(92===e.charCodeAt(r+d)?h=d:2===d&&(h=3)),-1===h&&(h=0)}let f="";for(d=r+h+1;d<=o;++d)d!==o&&92!==e.charCodeAt(d)||(f+=0===f.length?"..":"\\..");return a+=h,f.length>0?`${f}${i.slice(a,l)}`:(92===i.charCodeAt(a)&&++a,i.slice(a,l))},toNamespacedPath(e){if("string"!=typeof e)return e;if(0===e.length)return"";const t=RB.resolve(e);if(t.length<=2)return e;if(92===t.charCodeAt(0)){if(92===t.charCodeAt(1)){const e=t.charCodeAt(2);if(63!==e&&46!==e)return`\\\\?\\UNC\\${t.slice(2)}`}}else if(IB(t.charCodeAt(0))&&58===t.charCodeAt(1)&&92===t.charCodeAt(2))return`\\\\?\\${t}`;return e},dirname(e){NB(e,"path");const t=e.length;if(0===t)return".";let n=-1,i=0;const r=e.charCodeAt(0);if(1===t)return MB(r)?e:".";if(MB(r)){if(n=i=1,MB(e.charCodeAt(1))){let r=2,o=r;for(;r<t&&!MB(e.charCodeAt(r));)r++;if(r<t&&r!==o){for(o=r;r<t&&MB(e.charCodeAt(r));)r++;if(r<t&&r!==o){for(o=r;r<t&&!MB(e.charCodeAt(r));)r++;if(r===t)return e;r!==o&&(n=i=r+1)}}}}else IB(r)&&58===e.charCodeAt(1)&&(n=t>2&&MB(e.charCodeAt(2))?3:2,i=n);let o=-1,s=!0;for(let a=t-1;a>=i;--a)if(MB(e.charCodeAt(a))){if(!s){o=a;break}}else s=!1;if(-1===o){if(-1===n)return".";o=n}return e.slice(0,o)},basename(e,t){void 0!==t&&NB(t,"ext"),NB(e,"path");let n,i=0,r=-1,o=!0;if(e.length>=2&&IB(e.charCodeAt(0))&&58===e.charCodeAt(1)&&(i=2),void 0!==t&&t.length>0&&t.length<=e.length){if(t===e)return"";let s=t.length-1,a=-1;for(n=e.length-1;n>=i;--n){const l=e.charCodeAt(n);if(MB(l)){if(!o){i=n+1;break}}else-1===a&&(o=!1,a=n+1),s>=0&&(l===t.charCodeAt(s)?-1==--s&&(r=n):(s=-1,r=a))}return i===r?r=a:-1===r&&(r=e.length),e.slice(i,r)}for(n=e.length-1;n>=i;--n)if(MB(e.charCodeAt(n))){if(!o){i=n+1;break}}else-1===r&&(o=!1,r=n+1);return-1===r?"":e.slice(i,r)},extname(e){NB(e,"path");let t=0,n=-1,i=0,r=-1,o=!0,s=0;e.length>=2&&58===e.charCodeAt(1)&&IB(e.charCodeAt(0))&&(t=i=2);for(let a=e.length-1;a>=t;--a){const t=e.charCodeAt(a);if(MB(t)){if(!o){i=a+1;break}}else-1===r&&(o=!1,r=a+1),46===t?-1===n?n=a:1!==s&&(s=1):-1!==n&&(s=-1)}return-1===n||-1===r||0===s||1===s&&n===r-1&&n===i+1?"":e.slice(n,r)},format:FB.bind(null,"\\"),parse(e){NB(e,"path");const t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;const n=e.length;let i=0,r=e.charCodeAt(0);if(1===n)return MB(r)?(t.root=t.dir=e,t):(t.base=t.name=e,t);if(MB(r)){if(i=1,MB(e.charCodeAt(1))){let t=2,r=t;for(;t<n&&!MB(e.charCodeAt(t));)t++;if(t<n&&t!==r){for(r=t;t<n&&MB(e.charCodeAt(t));)t++;if(t<n&&t!==r){for(r=t;t<n&&!MB(e.charCodeAt(t));)t++;t===n?i=t:t!==r&&(i=t+1)}}}}else if(IB(r)&&58===e.charCodeAt(1)){if(n<=2)return t.root=t.dir=e,t;if(i=2,MB(e.charCodeAt(2))){if(3===n)return t.root=t.dir=e,t;i=3}}i>0&&(t.root=e.slice(0,i));let o=-1,s=i,a=-1,l=!0,c=e.length-1,u=0;for(;c>=i;--c)if(r=e.charCodeAt(c),MB(r)){if(!l){s=c+1;break}}else-1===a&&(l=!1,a=c+1),46===r?-1===o?o=c:1!==u&&(u=1):-1!==o&&(u=-1);return-1!==a&&(-1===o||0===u||1===u&&o===a-1&&o===s+1?t.base=t.name=e.slice(s,a):(t.name=e.slice(s,o),t.base=e.slice(s,a),t.ext=e.slice(o,a))),t.dir=s>0&&s!==i?e.slice(0,s-1):t.root,t},sep:"\\",delimiter:";",win32:null,posix:null},PB={resolve(...e){let t="",n=!1;for(let i=e.length-1;i>=-1&&!n;i--){const r=i>=0?e[i]:DB();NB(r,"path"),0!==r.length&&(t=`${r}/${t}`,n=47===r.charCodeAt(0))}return t=OB(t,!n,"/",AB),n?`/${t}`:t.length>0?t:"."},normalize(e){if(NB(e,"path"),0===e.length)return".";const t=47===e.charCodeAt(0),n=47===e.charCodeAt(e.length-1);return 0===(e=OB(e,!t,"/",AB)).length?t?"/":n?"./":".":(n&&(e+="/"),t?`/${e}`:e)},isAbsolute:e=>(NB(e,"path"),e.length>0&&47===e.charCodeAt(0)),join(...e){if(0===e.length)return".";let t;for(let n=0;n<e.length;++n){const i=e[n];NB(i,"path"),i.length>0&&(void 0===t?t=i:t+=`/${i}`)}return void 0===t?".":PB.normalize(t)},relative(e,t){if(NB(e,"from"),NB(t,"to"),e===t)return"";if((e=PB.resolve(e))===(t=PB.resolve(t)))return"";const n=e.length,i=n-1,r=t.length-1,o=i<r?i:r;let s=-1,a=0;for(;a<o;a++){const n=e.charCodeAt(1+a);if(n!==t.charCodeAt(1+a))break;47===n&&(s=a)}if(a===o)if(r>o){if(47===t.charCodeAt(1+a))return t.slice(1+a+1);if(0===a)return t.slice(1+a)}else i>o&&(47===e.charCodeAt(1+a)?s=a:0===a&&(s=0));let l="";for(a=1+s+1;a<=n;++a)a!==n&&47!==e.charCodeAt(a)||(l+=0===l.length?"..":"/..");return`${l}${t.slice(1+s)}`},toNamespacedPath:e=>e,dirname(e){if(NB(e,"path"),0===e.length)return".";const t=47===e.charCodeAt(0);let n=-1,i=!0;for(let r=e.length-1;r>=1;--r)if(47===e.charCodeAt(r)){if(!i){n=r;break}}else i=!1;return-1===n?t?"/":".":t&&1===n?"//":e.slice(0,n)},basename(e,t){void 0!==t&&NB(t,"ext"),NB(e,"path");let n,i=0,r=-1,o=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t===e)return"";let s=t.length-1,a=-1;for(n=e.length-1;n>=0;--n){const l=e.charCodeAt(n);if(47===l){if(!o){i=n+1;break}}else-1===a&&(o=!1,a=n+1),s>=0&&(l===t.charCodeAt(s)?-1==--s&&(r=n):(s=-1,r=a))}return i===r?r=a:-1===r&&(r=e.length),e.slice(i,r)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!o){i=n+1;break}}else-1===r&&(o=!1,r=n+1);return-1===r?"":e.slice(i,r)},extname(e){NB(e,"path");let t=-1,n=0,i=-1,r=!0,o=0;for(let s=e.length-1;s>=0;--s){const a=e.charCodeAt(s);if(47!==a)-1===i&&(r=!1,i=s+1),46===a?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1);else if(!r){n=s+1;break}}return-1===t||-1===i||0===o||1===o&&t===i-1&&t===n+1?"":e.slice(t,i)},format:FB.bind(null,"/"),parse(e){NB(e,"path");const t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;const n=47===e.charCodeAt(0);let i;n?(t.root="/",i=1):i=0;let r=-1,o=0,s=-1,a=!0,l=e.length-1,c=0;for(;l>=i;--l){const t=e.charCodeAt(l);if(47!==t)-1===s&&(a=!1,s=l+1),46===t?-1===r?r=l:1!==c&&(c=1):-1!==r&&(c=-1);else if(!a){o=l+1;break}}if(-1!==s){const i=0===o&&n?1:o;-1===r||0===c||1===c&&r===s-1&&r===o+1?t.base=t.name=e.slice(i,s):(t.name=e.slice(i,r),t.base=e.slice(i,s),t.ext=e.slice(r,s))}return o>0?t.dir=e.slice(0,o-1):n&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};PB.win32=RB.win32=RB,PB.posix=RB.posix=PB;const BB="win32"===LB?RB.normalize:PB.normalize,jB="win32"===LB?RB.resolve:PB.resolve,zB="win32"===LB?RB.relative:PB.relative,VB="win32"===LB?RB.dirname:PB.dirname,WB="win32"===LB?RB.basename:PB.basename,HB="win32"===LB?RB.extname:PB.extname,UB="win32"===LB?RB.sep:PB.sep,$B=/^\w[\w\d+.-]*$/,qB=/^\//,KB=/^\/\//;function YB(e,t){if(!e.scheme&&t)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`);if(e.scheme&&!$B.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!qB.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(KB.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}const GB="/",XB=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class ZB{constructor(e,t,n,i,r,o=!1){"object"==typeof e?(this.scheme=e.scheme||"",this.authority=e.authority||"",this.path=e.path||"",this.query=e.query||"",this.fragment=e.fragment||""):(this.scheme=function(e,t){return e||t?e:"file"}(e,o),this.authority=t||"",this.path=function(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==GB&&(t=GB+t):t=GB}return t}(this.scheme,n||""),this.query=i||"",this.fragment=r||"",YB(this,o))}static isUri(e){return e instanceof ZB||!!e&&("string"==typeof e.authority&&"string"==typeof e.fragment&&"string"==typeof e.path&&"string"==typeof e.query&&"string"==typeof e.scheme&&"string"==typeof e.fsPath&&"function"==typeof e.with&&"function"==typeof e.toString)}get fsPath(){return ij(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:n,path:i,query:r,fragment:o}=e;return void 0===t?t=this.scheme:null===t&&(t=""),void 0===n?n=this.authority:null===n&&(n=""),void 0===i?i=this.path:null===i&&(i=""),void 0===r?r=this.query:null===r&&(r=""),void 0===o?o=this.fragment:null===o&&(o=""),t===this.scheme&&n===this.authority&&i===this.path&&r===this.query&&o===this.fragment?this:new QB(t,n,i,r,o)}static parse(e,t=!1){const n=XB.exec(e);return n?new QB(n[2]||"",aj(n[4]||""),aj(n[5]||""),aj(n[7]||""),aj(n[9]||""),t):new QB("","","","","")}static file(e){let t="";if(VR&&(e=e.replace(/\\/g,GB)),e[0]===GB&&e[1]===GB){const n=e.indexOf(GB,2);-1===n?(t=e.substring(2),e=GB):(t=e.substring(2,n),e=e.substring(n)||GB)}return new QB("file",t,e,"","")}static from(e){const t=new QB(e.scheme,e.authority,e.path,e.query,e.fragment);return YB(t,!0),t}static joinPath(e,...t){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let n;return n=VR&&"file"===e.scheme?ZB.file(RB.join(ij(e,!0),...t)).path:PB.join(e.path,...t),e.with({path:n})}toString(e=!1){return rj(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof ZB)return e;{const t=new QB(e);return t._formatted=e.external,t._fsPath=e._sep===JB?e.fsPath:null,t}}return e}}const JB=VR?1:void 0;class QB extends ZB{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=ij(this,!1)),this._fsPath}toString(e=!1){return e?rj(this,!0):(this._formatted||(this._formatted=rj(this,!1)),this._formatted)}toJSON(){const e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=JB),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}}const ej={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function tj(e,t){let n,i=-1;for(let r=0;r<e.length;r++){const o=e.charCodeAt(r);if(o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||45===o||46===o||95===o||126===o||t&&47===o)-1!==i&&(n+=encodeURIComponent(e.substring(i,r)),i=-1),void 0!==n&&(n+=e.charAt(r));else{void 0===n&&(n=e.substr(0,r));const t=ej[o];void 0!==t?(-1!==i&&(n+=encodeURIComponent(e.substring(i,r)),i=-1),n+=t):-1===i&&(i=r)}}return-1!==i&&(n+=encodeURIComponent(e.substring(i))),void 0!==n?n:e}function nj(e){let t;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);35===i||63===i?(void 0===t&&(t=e.substr(0,n)),t+=ej[i]):void 0!==t&&(t+=e[n])}return void 0!==t?t:e}function ij(e,t){let n;return n=e.authority&&e.path.length>1&&"file"===e.scheme?`//${e.authority}${e.path}`:47===e.path.charCodeAt(0)&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&58===e.path.charCodeAt(2)?t?e.path.substr(1):e.path[1].toLowerCase()+e.path.substr(2):e.path,VR&&(n=n.replace(/\//g,"\\")),n}function rj(e,t){const n=t?nj:tj;let i="",{scheme:r,authority:o,path:s,query:a,fragment:l}=e;if(r&&(i+=r,i+=":"),(o||"file"===r)&&(i+=GB,i+=GB),o){let e=o.indexOf("@");if(-1!==e){const t=o.substr(0,e);o=o.substr(e+1),e=t.indexOf(":"),-1===e?i+=n(t,!1):(i+=n(t.substr(0,e),!1),i+=":",i+=n(t.substr(e+1),!1)),i+="@"}o=o.toLowerCase(),e=o.indexOf(":"),-1===e?i+=n(o,!1):(i+=n(o.substr(0,e),!1),i+=o.substr(e))}if(s){if(s.length>=3&&47===s.charCodeAt(0)&&58===s.charCodeAt(2)){const e=s.charCodeAt(1);e>=65&&e<=90&&(s=`/${String.fromCharCode(e+32)}:${s.substr(3)}`)}else if(s.length>=2&&58===s.charCodeAt(1)){const e=s.charCodeAt(0);e>=65&&e<=90&&(s=`${String.fromCharCode(e+32)}:${s.substr(2)}`)}i+=n(s,!0)}return a&&(i+="?",i+=n(a,!1)),l&&(i+="#",i+=t?l:tj(l,!1)),i}function oj(e){try{return decodeURIComponent(e)}catch(t){return e.length>3?e.substr(0,3)+oj(e.substr(3)):e}}const sj=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function aj(e){return e.match(sj)?e.replace(sj,(e=>oj(e))):e}class lj{constructor(e,t){this.lineNumber=e,this.column=t}with(e=this.lineNumber,t=this.column){return e===this.lineNumber&&t===this.column?this:new lj(e,t)}delta(e=0,t=0){return this.with(this.lineNumber+e,this.column+t)}equals(e){return lj.equals(this,e)}static equals(e,t){return!e&&!t||!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column}isBefore(e){return lj.isBefore(this,e)}static isBefore(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<t.column}isBeforeOrEqual(e){return lj.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<=t.column}static compare(e,t){let n=0|e.lineNumber,i=0|t.lineNumber;if(n===i){return(0|e.column)-(0|t.column)}return n-i}clone(){return new lj(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(e){return new lj(e.lineNumber,e.column)}static isIPosition(e){return e&&"number"==typeof e.lineNumber&&"number"==typeof e.column}}class cj{constructor(e,t,n,i){e>n||e===n&&t>i?(this.startLineNumber=n,this.startColumn=i,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=n,this.endColumn=i)}isEmpty(){return cj.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return cj.containsPosition(this,e)}static containsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber)&&(!(t.lineNumber===e.startLineNumber&&t.column<e.startColumn)&&!(t.lineNumber===e.endLineNumber&&t.column>e.endColumn))}containsRange(e){return cj.containsRange(this,e)}static containsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber)&&(!(t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber)&&(!(t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn)&&!(t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)))}strictContainsRange(e){return cj.strictContainsRange(this,e)}static strictContainsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber)&&(!(t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber)&&(!(t.startLineNumber===e.startLineNumber&&t.startColumn<=e.startColumn)&&!(t.endLineNumber===e.endLineNumber&&t.endColumn>=e.endColumn)))}plusRange(e){return cj.plusRange(this,e)}static plusRange(e,t){let n,i,r,o;return t.startLineNumber<e.startLineNumber?(n=t.startLineNumber,i=t.startColumn):t.startLineNumber===e.startLineNumber?(n=t.startLineNumber,i=Math.min(t.startColumn,e.startColumn)):(n=e.startLineNumber,i=e.startColumn),t.endLineNumber>e.endLineNumber?(r=t.endLineNumber,o=t.endColumn):t.endLineNumber===e.endLineNumber?(r=t.endLineNumber,o=Math.max(t.endColumn,e.endColumn)):(r=e.endLineNumber,o=e.endColumn),new cj(n,i,r,o)}intersectRanges(e){return cj.intersectRanges(this,e)}static intersectRanges(e,t){let n=e.startLineNumber,i=e.startColumn,r=e.endLineNumber,o=e.endColumn,s=t.startLineNumber,a=t.startColumn,l=t.endLineNumber,c=t.endColumn;return n<s?(n=s,i=a):n===s&&(i=Math.max(i,a)),r>l?(r=l,o=c):r===l&&(o=Math.min(o,c)),n>r||n===r&&i>o?null:new cj(n,i,r,o)}equalsRange(e){return cj.equalsRange(this,e)}static equalsRange(e,t){return!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn}getEndPosition(){return cj.getEndPosition(this)}static getEndPosition(e){return new lj(e.endLineNumber,e.endColumn)}getStartPosition(){return cj.getStartPosition(this)}static getStartPosition(e){return new lj(e.startLineNumber,e.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(e,t){return new cj(this.startLineNumber,this.startColumn,e,t)}setStartPosition(e,t){return new cj(e,t,this.endLineNumber,this.endColumn)}collapseToStart(){return cj.collapseToStart(this)}static collapseToStart(e){return new cj(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}static fromPositions(e,t=e){return new cj(e.lineNumber,e.column,t.lineNumber,t.column)}static lift(e){return e?new cj(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&"number"==typeof e.startLineNumber&&"number"==typeof e.startColumn&&"number"==typeof e.endLineNumber&&"number"==typeof e.endColumn}static areIntersectingOrTouching(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn)&&!(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)}static areIntersecting(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn)&&!(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn)}static compareRangesUsingStarts(e,t){if(e&&t){const n=0|e.startLineNumber,i=0|t.startLineNumber;if(n===i){const n=0|e.startColumn,i=0|t.startColumn;if(n===i){const n=0|e.endLineNumber,i=0|t.endLineNumber;if(n===i){return(0|e.endColumn)-(0|t.endColumn)}return n-i}return n-i}return n-i}return(e?1:0)-(t?1:0)}static compareRangesUsingEnds(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}}class uj extends cj{constructor(e,t,n,i){super(e,t,n,i),this.selectionStartLineNumber=e,this.selectionStartColumn=t,this.positionLineNumber=n,this.positionColumn=i}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(e){return uj.selectionsEqual(this,e)}static selectionsEqual(e,t){return e.selectionStartLineNumber===t.selectionStartLineNumber&&e.selectionStartColumn===t.selectionStartColumn&&e.positionLineNumber===t.positionLineNumber&&e.positionColumn===t.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(e,t){return 0===this.getDirection()?new uj(this.startLineNumber,this.startColumn,e,t):new uj(e,t,this.startLineNumber,this.startColumn)}getPosition(){return new lj(this.positionLineNumber,this.positionColumn)}setStartPosition(e,t){return 0===this.getDirection()?new uj(e,t,this.endLineNumber,this.endColumn):new uj(this.endLineNumber,this.endColumn,e,t)}static fromPositions(e,t=e){return new uj(e.lineNumber,e.column,t.lineNumber,t.column)}static liftSelection(e){return new uj(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)}static selectionsArrEqual(e,t){if(e&&!t||!e&&t)return!1;if(!e&&!t)return!0;if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(!this.selectionsEqual(e[n],t[n]))return!1;return!0}static isISelection(e){return e&&"number"==typeof e.selectionStartLineNumber&&"number"==typeof e.selectionStartColumn&&"number"==typeof e.positionLineNumber&&"number"==typeof e.positionColumn}static createWithDirection(e,t,n,i,r){return 0===r?new uj(e,t,n,i):new uj(n,i,e,t)}}class hj{constructor(e,t,n){this._tokenBrand=void 0,this.offset=0|e,this.type=t,this.language=n}toString(){return"("+this.offset+", "+this.type+")"}}class dj{constructor(e,t){this._tokenizationResultBrand=void 0,this.tokens=e,this.endState=t}}class fj{constructor(e,t){this._tokenizationResult2Brand=void 0,this.tokens=e,this.endState=t}}var pj,gj,mj,vj,yj,bj,_j,wj,Cj,xj,kj,Sj,Dj,Ej,Lj,Tj,Nj,Mj,Aj,Ij,Oj,Fj,Rj,Pj,Bj,jj,zj,Vj,Wj,Hj,Uj,$j,qj,Kj,Yj,Gj,Xj,Zj,Jj,Qj,ez,tz,nz,iz,rz,oz,sz,az,lz,cz,uz,hz,dz,fz,pz,gz,mz,vz,yz,bz,_z,wz,Cz,xz,kz,Sz,Dz,Ez,Lz;(gj=pj||(pj={}))[gj.Unknown=0]="Unknown",gj[gj.Disabled=1]="Disabled",gj[gj.Enabled=2]="Enabled",(vj=mj||(mj={}))[vj.KeepWhitespace=1]="KeepWhitespace",vj[vj.InsertAsSnippet=4]="InsertAsSnippet",(bj=yj||(yj={}))[bj.Method=0]="Method",bj[bj.Function=1]="Function",bj[bj.Constructor=2]="Constructor",bj[bj.Field=3]="Field",bj[bj.Variable=4]="Variable",bj[bj.Class=5]="Class",bj[bj.Struct=6]="Struct",bj[bj.Interface=7]="Interface",bj[bj.Module=8]="Module",bj[bj.Property=9]="Property",bj[bj.Event=10]="Event",bj[bj.Operator=11]="Operator",bj[bj.Unit=12]="Unit",bj[bj.Value=13]="Value",bj[bj.Constant=14]="Constant",bj[bj.Enum=15]="Enum",bj[bj.EnumMember=16]="EnumMember",bj[bj.Keyword=17]="Keyword",bj[bj.Text=18]="Text",bj[bj.Color=19]="Color",bj[bj.File=20]="File",bj[bj.Reference=21]="Reference",bj[bj.Customcolor=22]="Customcolor",bj[bj.Folder=23]="Folder",bj[bj.TypeParameter=24]="TypeParameter",bj[bj.User=25]="User",bj[bj.Issue=26]="Issue",bj[bj.Snippet=27]="Snippet",(wj=_j||(_j={}))[wj.Deprecated=1]="Deprecated",(xj=Cj||(Cj={}))[xj.Invoke=0]="Invoke",xj[xj.TriggerCharacter=1]="TriggerCharacter",xj[xj.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions",(Sj=kj||(kj={}))[Sj.EXACT=0]="EXACT",Sj[Sj.ABOVE=1]="ABOVE",Sj[Sj.BELOW=2]="BELOW",(Ej=Dj||(Dj={}))[Ej.NotSet=0]="NotSet",Ej[Ej.ContentFlush=1]="ContentFlush",Ej[Ej.RecoverFromMarkers=2]="RecoverFromMarkers",Ej[Ej.Explicit=3]="Explicit",Ej[Ej.Paste=4]="Paste",Ej[Ej.Undo=5]="Undo",Ej[Ej.Redo=6]="Redo",(Tj=Lj||(Lj={}))[Tj.LF=1]="LF",Tj[Tj.CRLF=2]="CRLF",(Mj=Nj||(Nj={}))[Mj.Text=0]="Text",Mj[Mj.Read=1]="Read",Mj[Mj.Write=2]="Write",(Ij=Aj||(Aj={}))[Ij.None=0]="None",Ij[Ij.Keep=1]="Keep",Ij[Ij.Brackets=2]="Brackets",Ij[Ij.Advanced=3]="Advanced",Ij[Ij.Full=4]="Full",(Fj=Oj||(Oj={}))[Fj.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",Fj[Fj.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",Fj[Fj.accessibilitySupport=2]="accessibilitySupport",Fj[Fj.accessibilityPageSize=3]="accessibilityPageSize",Fj[Fj.ariaLabel=4]="ariaLabel",Fj[Fj.autoClosingBrackets=5]="autoClosingBrackets",Fj[Fj.autoClosingDelete=6]="autoClosingDelete",Fj[Fj.autoClosingOvertype=7]="autoClosingOvertype",Fj[Fj.autoClosingQuotes=8]="autoClosingQuotes",Fj[Fj.autoIndent=9]="autoIndent",Fj[Fj.automaticLayout=10]="automaticLayout",Fj[Fj.autoSurround=11]="autoSurround",Fj[Fj.bracketPairColorization=12]="bracketPairColorization",Fj[Fj.guides=13]="guides",Fj[Fj.codeLens=14]="codeLens",Fj[Fj.codeLensFontFamily=15]="codeLensFontFamily",Fj[Fj.codeLensFontSize=16]="codeLensFontSize",Fj[Fj.colorDecorators=17]="colorDecorators",Fj[Fj.columnSelection=18]="columnSelection",Fj[Fj.comments=19]="comments",Fj[Fj.contextmenu=20]="contextmenu",Fj[Fj.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",Fj[Fj.cursorBlinking=22]="cursorBlinking",Fj[Fj.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",Fj[Fj.cursorStyle=24]="cursorStyle",Fj[Fj.cursorSurroundingLines=25]="cursorSurroundingLines",Fj[Fj.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",Fj[Fj.cursorWidth=27]="cursorWidth",Fj[Fj.disableLayerHinting=28]="disableLayerHinting",Fj[Fj.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",Fj[Fj.domReadOnly=30]="domReadOnly",Fj[Fj.dragAndDrop=31]="dragAndDrop",Fj[Fj.emptySelectionClipboard=32]="emptySelectionClipboard",Fj[Fj.extraEditorClassName=33]="extraEditorClassName",Fj[Fj.fastScrollSensitivity=34]="fastScrollSensitivity",Fj[Fj.find=35]="find",Fj[Fj.fixedOverflowWidgets=36]="fixedOverflowWidgets",Fj[Fj.folding=37]="folding",Fj[Fj.foldingStrategy=38]="foldingStrategy",Fj[Fj.foldingHighlight=39]="foldingHighlight",Fj[Fj.foldingImportsByDefault=40]="foldingImportsByDefault",Fj[Fj.unfoldOnClickAfterEndOfLine=41]="unfoldOnClickAfterEndOfLine",Fj[Fj.fontFamily=42]="fontFamily",Fj[Fj.fontInfo=43]="fontInfo",Fj[Fj.fontLigatures=44]="fontLigatures",Fj[Fj.fontSize=45]="fontSize",Fj[Fj.fontWeight=46]="fontWeight",Fj[Fj.formatOnPaste=47]="formatOnPaste",Fj[Fj.formatOnType=48]="formatOnType",Fj[Fj.glyphMargin=49]="glyphMargin",Fj[Fj.gotoLocation=50]="gotoLocation",Fj[Fj.hideCursorInOverviewRuler=51]="hideCursorInOverviewRuler",Fj[Fj.hover=52]="hover",Fj[Fj.inDiffEditor=53]="inDiffEditor",Fj[Fj.inlineSuggest=54]="inlineSuggest",Fj[Fj.letterSpacing=55]="letterSpacing",Fj[Fj.lightbulb=56]="lightbulb",Fj[Fj.lineDecorationsWidth=57]="lineDecorationsWidth",Fj[Fj.lineHeight=58]="lineHeight",Fj[Fj.lineNumbers=59]="lineNumbers",Fj[Fj.lineNumbersMinChars=60]="lineNumbersMinChars",Fj[Fj.linkedEditing=61]="linkedEditing",Fj[Fj.links=62]="links",Fj[Fj.matchBrackets=63]="matchBrackets",Fj[Fj.minimap=64]="minimap",Fj[Fj.mouseStyle=65]="mouseStyle",Fj[Fj.mouseWheelScrollSensitivity=66]="mouseWheelScrollSensitivity",Fj[Fj.mouseWheelZoom=67]="mouseWheelZoom",Fj[Fj.multiCursorMergeOverlapping=68]="multiCursorMergeOverlapping",Fj[Fj.multiCursorModifier=69]="multiCursorModifier",Fj[Fj.multiCursorPaste=70]="multiCursorPaste",Fj[Fj.occurrencesHighlight=71]="occurrencesHighlight",Fj[Fj.overviewRulerBorder=72]="overviewRulerBorder",Fj[Fj.overviewRulerLanes=73]="overviewRulerLanes",Fj[Fj.padding=74]="padding",Fj[Fj.parameterHints=75]="parameterHints",Fj[Fj.peekWidgetDefaultFocus=76]="peekWidgetDefaultFocus",Fj[Fj.definitionLinkOpensInPeek=77]="definitionLinkOpensInPeek",Fj[Fj.quickSuggestions=78]="quickSuggestions",Fj[Fj.quickSuggestionsDelay=79]="quickSuggestionsDelay",Fj[Fj.readOnly=80]="readOnly",Fj[Fj.renameOnType=81]="renameOnType",Fj[Fj.renderControlCharacters=82]="renderControlCharacters",Fj[Fj.renderFinalNewline=83]="renderFinalNewline",Fj[Fj.renderLineHighlight=84]="renderLineHighlight",Fj[Fj.renderLineHighlightOnlyWhenFocus=85]="renderLineHighlightOnlyWhenFocus",Fj[Fj.renderValidationDecorations=86]="renderValidationDecorations",Fj[Fj.renderWhitespace=87]="renderWhitespace",Fj[Fj.revealHorizontalRightPadding=88]="revealHorizontalRightPadding",Fj[Fj.roundedSelection=89]="roundedSelection",Fj[Fj.rulers=90]="rulers",Fj[Fj.scrollbar=91]="scrollbar",Fj[Fj.scrollBeyondLastColumn=92]="scrollBeyondLastColumn",Fj[Fj.scrollBeyondLastLine=93]="scrollBeyondLastLine",Fj[Fj.scrollPredominantAxis=94]="scrollPredominantAxis",Fj[Fj.selectionClipboard=95]="selectionClipboard",Fj[Fj.selectionHighlight=96]="selectionHighlight",Fj[Fj.selectOnLineNumbers=97]="selectOnLineNumbers",Fj[Fj.showFoldingControls=98]="showFoldingControls",Fj[Fj.showUnused=99]="showUnused",Fj[Fj.snippetSuggestions=100]="snippetSuggestions",Fj[Fj.smartSelect=101]="smartSelect",Fj[Fj.smoothScrolling=102]="smoothScrolling",Fj[Fj.stickyTabStops=103]="stickyTabStops",Fj[Fj.stopRenderingLineAfter=104]="stopRenderingLineAfter",Fj[Fj.suggest=105]="suggest",Fj[Fj.suggestFontSize=106]="suggestFontSize",Fj[Fj.suggestLineHeight=107]="suggestLineHeight",Fj[Fj.suggestOnTriggerCharacters=108]="suggestOnTriggerCharacters",Fj[Fj.suggestSelection=109]="suggestSelection",Fj[Fj.tabCompletion=110]="tabCompletion",Fj[Fj.tabIndex=111]="tabIndex",Fj[Fj.unusualLineTerminators=112]="unusualLineTerminators",Fj[Fj.useShadowDOM=113]="useShadowDOM",Fj[Fj.useTabStops=114]="useTabStops",Fj[Fj.wordSeparators=115]="wordSeparators",Fj[Fj.wordWrap=116]="wordWrap",Fj[Fj.wordWrapBreakAfterCharacters=117]="wordWrapBreakAfterCharacters",Fj[Fj.wordWrapBreakBeforeCharacters=118]="wordWrapBreakBeforeCharacters",Fj[Fj.wordWrapColumn=119]="wordWrapColumn",Fj[Fj.wordWrapOverride1=120]="wordWrapOverride1",Fj[Fj.wordWrapOverride2=121]="wordWrapOverride2",Fj[Fj.wrappingIndent=122]="wrappingIndent",Fj[Fj.wrappingStrategy=123]="wrappingStrategy",Fj[Fj.showDeprecated=124]="showDeprecated",Fj[Fj.inlayHints=125]="inlayHints",Fj[Fj.editorClassName=126]="editorClassName",Fj[Fj.pixelRatio=127]="pixelRatio",Fj[Fj.tabFocusMode=128]="tabFocusMode",Fj[Fj.layoutInfo=129]="layoutInfo",Fj[Fj.wrappingInfo=130]="wrappingInfo",(Pj=Rj||(Rj={}))[Pj.TextDefined=0]="TextDefined",Pj[Pj.LF=1]="LF",Pj[Pj.CRLF=2]="CRLF",(jj=Bj||(Bj={}))[jj.LF=0]="LF",jj[jj.CRLF=1]="CRLF",(Vj=zj||(zj={}))[Vj.None=0]="None",Vj[Vj.Indent=1]="Indent",Vj[Vj.IndentOutdent=2]="IndentOutdent",Vj[Vj.Outdent=3]="Outdent",(Hj=Wj||(Wj={}))[Hj.Other=0]="Other",Hj[Hj.Type=1]="Type",Hj[Hj.Parameter=2]="Parameter",($j=Uj||(Uj={}))[$j.Automatic=0]="Automatic",$j[$j.Explicit=1]="Explicit",(Kj=qj||(qj={}))[Kj.DependsOnKbLayout=-1]="DependsOnKbLayout",Kj[Kj.Unknown=0]="Unknown",Kj[Kj.Backspace=1]="Backspace",Kj[Kj.Tab=2]="Tab",Kj[Kj.Enter=3]="Enter",Kj[Kj.Shift=4]="Shift",Kj[Kj.Ctrl=5]="Ctrl",Kj[Kj.Alt=6]="Alt",Kj[Kj.PauseBreak=7]="PauseBreak",Kj[Kj.CapsLock=8]="CapsLock",Kj[Kj.Escape=9]="Escape",Kj[Kj.Space=10]="Space",Kj[Kj.PageUp=11]="PageUp",Kj[Kj.PageDown=12]="PageDown",Kj[Kj.End=13]="End",Kj[Kj.Home=14]="Home",Kj[Kj.LeftArrow=15]="LeftArrow",Kj[Kj.UpArrow=16]="UpArrow",Kj[Kj.RightArrow=17]="RightArrow",Kj[Kj.DownArrow=18]="DownArrow",Kj[Kj.Insert=19]="Insert",Kj[Kj.Delete=20]="Delete",Kj[Kj.Digit0=21]="Digit0",Kj[Kj.Digit1=22]="Digit1",Kj[Kj.Digit2=23]="Digit2",Kj[Kj.Digit3=24]="Digit3",Kj[Kj.Digit4=25]="Digit4",Kj[Kj.Digit5=26]="Digit5",Kj[Kj.Digit6=27]="Digit6",Kj[Kj.Digit7=28]="Digit7",Kj[Kj.Digit8=29]="Digit8",Kj[Kj.Digit9=30]="Digit9",Kj[Kj.KeyA=31]="KeyA",Kj[Kj.KeyB=32]="KeyB",Kj[Kj.KeyC=33]="KeyC",Kj[Kj.KeyD=34]="KeyD",Kj[Kj.KeyE=35]="KeyE",Kj[Kj.KeyF=36]="KeyF",Kj[Kj.KeyG=37]="KeyG",Kj[Kj.KeyH=38]="KeyH",Kj[Kj.KeyI=39]="KeyI",Kj[Kj.KeyJ=40]="KeyJ",Kj[Kj.KeyK=41]="KeyK",Kj[Kj.KeyL=42]="KeyL",Kj[Kj.KeyM=43]="KeyM",Kj[Kj.KeyN=44]="KeyN",Kj[Kj.KeyO=45]="KeyO",Kj[Kj.KeyP=46]="KeyP",Kj[Kj.KeyQ=47]="KeyQ",Kj[Kj.KeyR=48]="KeyR",Kj[Kj.KeyS=49]="KeyS",Kj[Kj.KeyT=50]="KeyT",Kj[Kj.KeyU=51]="KeyU",Kj[Kj.KeyV=52]="KeyV",Kj[Kj.KeyW=53]="KeyW",Kj[Kj.KeyX=54]="KeyX",Kj[Kj.KeyY=55]="KeyY",Kj[Kj.KeyZ=56]="KeyZ",Kj[Kj.Meta=57]="Meta",Kj[Kj.ContextMenu=58]="ContextMenu",Kj[Kj.F1=59]="F1",Kj[Kj.F2=60]="F2",Kj[Kj.F3=61]="F3",Kj[Kj.F4=62]="F4",Kj[Kj.F5=63]="F5",Kj[Kj.F6=64]="F6",Kj[Kj.F7=65]="F7",Kj[Kj.F8=66]="F8",Kj[Kj.F9=67]="F9",Kj[Kj.F10=68]="F10",Kj[Kj.F11=69]="F11",Kj[Kj.F12=70]="F12",Kj[Kj.F13=71]="F13",Kj[Kj.F14=72]="F14",Kj[Kj.F15=73]="F15",Kj[Kj.F16=74]="F16",Kj[Kj.F17=75]="F17",Kj[Kj.F18=76]="F18",Kj[Kj.F19=77]="F19",Kj[Kj.NumLock=78]="NumLock",Kj[Kj.ScrollLock=79]="ScrollLock",Kj[Kj.Semicolon=80]="Semicolon",Kj[Kj.Equal=81]="Equal",Kj[Kj.Comma=82]="Comma",Kj[Kj.Minus=83]="Minus",Kj[Kj.Period=84]="Period",Kj[Kj.Slash=85]="Slash",Kj[Kj.Backquote=86]="Backquote",Kj[Kj.BracketLeft=87]="BracketLeft",Kj[Kj.Backslash=88]="Backslash",Kj[Kj.BracketRight=89]="BracketRight",Kj[Kj.Quote=90]="Quote",Kj[Kj.OEM_8=91]="OEM_8",Kj[Kj.IntlBackslash=92]="IntlBackslash",Kj[Kj.Numpad0=93]="Numpad0",Kj[Kj.Numpad1=94]="Numpad1",Kj[Kj.Numpad2=95]="Numpad2",Kj[Kj.Numpad3=96]="Numpad3",Kj[Kj.Numpad4=97]="Numpad4",Kj[Kj.Numpad5=98]="Numpad5",Kj[Kj.Numpad6=99]="Numpad6",Kj[Kj.Numpad7=100]="Numpad7",Kj[Kj.Numpad8=101]="Numpad8",Kj[Kj.Numpad9=102]="Numpad9",Kj[Kj.NumpadMultiply=103]="NumpadMultiply",Kj[Kj.NumpadAdd=104]="NumpadAdd",Kj[Kj.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",Kj[Kj.NumpadSubtract=106]="NumpadSubtract",Kj[Kj.NumpadDecimal=107]="NumpadDecimal",Kj[Kj.NumpadDivide=108]="NumpadDivide",Kj[Kj.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",Kj[Kj.ABNT_C1=110]="ABNT_C1",Kj[Kj.ABNT_C2=111]="ABNT_C2",Kj[Kj.AudioVolumeMute=112]="AudioVolumeMute",Kj[Kj.AudioVolumeUp=113]="AudioVolumeUp",Kj[Kj.AudioVolumeDown=114]="AudioVolumeDown",Kj[Kj.BrowserSearch=115]="BrowserSearch",Kj[Kj.BrowserHome=116]="BrowserHome",Kj[Kj.BrowserBack=117]="BrowserBack",Kj[Kj.BrowserForward=118]="BrowserForward",Kj[Kj.MediaTrackNext=119]="MediaTrackNext",Kj[Kj.MediaTrackPrevious=120]="MediaTrackPrevious",Kj[Kj.MediaStop=121]="MediaStop",Kj[Kj.MediaPlayPause=122]="MediaPlayPause",Kj[Kj.LaunchMediaPlayer=123]="LaunchMediaPlayer",Kj[Kj.LaunchMail=124]="LaunchMail",Kj[Kj.LaunchApp2=125]="LaunchApp2",Kj[Kj.MAX_VALUE=126]="MAX_VALUE",(Gj=Yj||(Yj={}))[Gj.Hint=1]="Hint",Gj[Gj.Info=2]="Info",Gj[Gj.Warning=4]="Warning",Gj[Gj.Error=8]="Error",(Zj=Xj||(Xj={}))[Zj.Unnecessary=1]="Unnecessary",Zj[Zj.Deprecated=2]="Deprecated",(Qj=Jj||(Jj={}))[Qj.Inline=1]="Inline",Qj[Qj.Gutter=2]="Gutter",(tz=ez||(ez={}))[tz.UNKNOWN=0]="UNKNOWN",tz[tz.TEXTAREA=1]="TEXTAREA",tz[tz.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",tz[tz.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",tz[tz.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",tz[tz.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",tz[tz.CONTENT_TEXT=6]="CONTENT_TEXT",tz[tz.CONTENT_EMPTY=7]="CONTENT_EMPTY",tz[tz.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",tz[tz.CONTENT_WIDGET=9]="CONTENT_WIDGET",tz[tz.OVERVIEW_RULER=10]="OVERVIEW_RULER",tz[tz.SCROLLBAR=11]="SCROLLBAR",tz[tz.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",tz[tz.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR",(iz=nz||(nz={}))[iz.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",iz[iz.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",iz[iz.TOP_CENTER=2]="TOP_CENTER",(oz=rz||(rz={}))[oz.Left=1]="Left",oz[oz.Center=2]="Center",oz[oz.Right=4]="Right",oz[oz.Full=7]="Full",(az=sz||(sz={}))[az.Off=0]="Off",az[az.On=1]="On",az[az.Relative=2]="Relative",az[az.Interval=3]="Interval",az[az.Custom=4]="Custom",(cz=lz||(lz={}))[cz.None=0]="None",cz[cz.Text=1]="Text",cz[cz.Blocks=2]="Blocks",(hz=uz||(uz={}))[hz.Smooth=0]="Smooth",hz[hz.Immediate=1]="Immediate",(fz=dz||(dz={}))[fz.Auto=1]="Auto",fz[fz.Hidden=2]="Hidden",fz[fz.Visible=3]="Visible",(gz=pz||(pz={}))[gz.LTR=0]="LTR",gz[gz.RTL=1]="RTL",(vz=mz||(mz={}))[vz.Invoke=1]="Invoke",vz[vz.TriggerCharacter=2]="TriggerCharacter",vz[vz.ContentChange=3]="ContentChange",(bz=yz||(yz={}))[bz.File=0]="File",bz[bz.Module=1]="Module",bz[bz.Namespace=2]="Namespace",bz[bz.Package=3]="Package",bz[bz.Class=4]="Class",bz[bz.Method=5]="Method",bz[bz.Property=6]="Property",bz[bz.Field=7]="Field",bz[bz.Constructor=8]="Constructor",bz[bz.Enum=9]="Enum",bz[bz.Interface=10]="Interface",bz[bz.Function=11]="Function",bz[bz.Variable=12]="Variable",bz[bz.Constant=13]="Constant",bz[bz.String=14]="String",bz[bz.Number=15]="Number",bz[bz.Boolean=16]="Boolean",bz[bz.Array=17]="Array",bz[bz.Object=18]="Object",bz[bz.Key=19]="Key",bz[bz.Null=20]="Null",bz[bz.EnumMember=21]="EnumMember",bz[bz.Struct=22]="Struct",bz[bz.Event=23]="Event",bz[bz.Operator=24]="Operator",bz[bz.TypeParameter=25]="TypeParameter",(wz=_z||(_z={}))[wz.Deprecated=1]="Deprecated",(xz=Cz||(Cz={}))[xz.Hidden=0]="Hidden",xz[xz.Blink=1]="Blink",xz[xz.Smooth=2]="Smooth",xz[xz.Phase=3]="Phase",xz[xz.Expand=4]="Expand",xz[xz.Solid=5]="Solid",function(e){e[e.Line=1]="Line",e[e.Block=2]="Block",e[e.Underline=3]="Underline",e[e.LineThin=4]="LineThin",e[e.BlockOutline=5]="BlockOutline",e[e.UnderlineThin=6]="UnderlineThin"}(kz||(kz={})),(Dz=Sz||(Sz={}))[Dz.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",Dz[Dz.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",Dz[Dz.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",Dz[Dz.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter",(Lz=Ez||(Ez={}))[Lz.None=0]="None",Lz[Lz.Same=1]="Same",Lz[Lz.Indent=2]="Indent",Lz[Lz.DeepIndent=3]="DeepIndent";class Tz{static chord(e,t){return function(e,t){return(e|(65535&t)<<16>>>0)>>>0}(e,t)}}function Nz(){return{editor:void 0,languages:void 0,CancellationTokenSource:hB,Emitter:nB,KeyCode:qj,KeyMod:Tz,Position:lj,Range:cj,Selection:uj,SelectionDirection:pz,MarkerSeverity:Yj,MarkerTag:Xj,Uri:ZB,Token:hj}}Tz.CtrlCmd=2048,Tz.Shift=1024,Tz.Alt=512,Tz.WinCtrl=256;var Mz,Az;(Az=Mz||(Mz={})).serviceIds=new Map,Az.DI_TARGET="$di$target",Az.DI_DEPENDENCIES="$di$dependencies",Az.getServiceDependencies=function(e){return e[Az.DI_DEPENDENCIES]||[]};const Iz=Fz("instantiationService");function Oz(e,t,n,i){t[Mz.DI_TARGET]===t?t[Mz.DI_DEPENDENCIES].push({id:e,index:n,optional:i}):(t[Mz.DI_DEPENDENCIES]=[{id:e,index:n,optional:i}],t[Mz.DI_TARGET]=t)}function Fz(e){if(Mz.serviceIds.has(e))return Mz.serviceIds.get(e);const t=function(e,n,i){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");Oz(t,e,i,!1)};return t.toString=()=>e,Mz.serviceIds.set(e,t),t}function Rz(e){return function(t,n,i){if(3!==arguments.length)throw new Error("@optional-decorator can only be used to decorate a parameter");Oz(e,t,i,!0)}}const Pz=Fz("codeEditorService");class Bz{constructor(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new nB,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this._zoomFactor=1}getZoomLevel(){return this._zoomLevel}getTimeSinceLastZoomLevelChanged(){return Date.now()-this._lastZoomLevelChangeTime}getZoomFactor(){return this._zoomFactor}getPixelRatio(){let e=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}}function jz(){return Bz.INSTANCE.getZoomLevel()}function zz(){return Bz.INSTANCE.getPixelRatio()}Bz.INSTANCE=new Bz;const Vz=navigator.userAgent,Wz=Vz.indexOf("Firefox")>=0,Hz=Vz.indexOf("AppleWebKit")>=0,Uz=Vz.indexOf("Chrome")>=0,$z=!Uz&&Vz.indexOf("Safari")>=0,qz=!Uz&&!$z&&Hz,Kz=Vz.indexOf("Android")>=0,Yz=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches,Gz=(UR||document.queryCommandSupported&&document.queryCommandSupported("copy")||navigator&&navigator.clipboard&&navigator.clipboard.writeText,UR||navigator&&navigator.clipboard&&navigator.clipboard.readText,UR||Yz||navigator.keyboard,"ontouchstart"in window||navigator.maxTouchPoints,window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0));function Xz(e,t){if(0===e)return null;const n=(65535&e)>>>0,i=(4294901760&e)>>>16;return new Qz(0!==i?[Zz(n,t),Zz(i,t)]:[Zz(n,t)])}function Zz(e,t){const n=!!(2048&e),i=!!(256&e);return new Jz(2===t?i:n,!!(1024&e),!!(512&e),2===t?n:i,255&e)}class Jz{constructor(e,t,n,i,r){this.ctrlKey=e,this.shiftKey=t,this.altKey=n,this.metaKey=i,this.keyCode=r}equals(e){return this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}isModifierKey(){return 0===this.keyCode||5===this.keyCode||57===this.keyCode||6===this.keyCode||4===this.keyCode}toChord(){return new Qz([this])}isDuplicateModifierCase(){return this.ctrlKey&&5===this.keyCode||this.shiftKey&&4===this.keyCode||this.altKey&&6===this.keyCode||this.metaKey&&57===this.keyCode}}class Qz{constructor(e){if(0===e.length)throw BP("parts");this.parts=e}}class eV{constructor(e,t,n,i,r,o){this.ctrlKey=e,this.shiftKey=t,this.altKey=n,this.metaKey=i,this.keyLabel=r,this.keyAriaLabel=o}}const tV=WR?256:2048,nV=WR?2048:256;class iV{constructor(e){this._standardKeyboardEventBrand=!0;let t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.keyCode=function(e){if(e.charCode){let t=String.fromCharCode(e.charCode).toUpperCase();return xB.fromString(t)}const t=e.keyCode;if(3===t)return 7;if(Wz){if(59===t)return 80;if(107===t)return 81;if(109===t)return 83;if(WR&&224===t)return 57}else if(Hz){if(91===t)return 57;if(WR&&93===t)return 57;if(!WR&&92===t)return 57}return mB[t]||0}(t),this.code=t.code,this.ctrlKey=this.ctrlKey||5===this.keyCode,this.altKey=this.altKey||6===this.keyCode,this.shiftKey=this.shiftKey||4===this.keyCode,this.metaKey=this.metaKey||57===this.keyCode,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=0;5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(e=this.keyCode);let t=0;return this.ctrlKey&&(t|=tV),this.altKey&&(t|=512),this.shiftKey&&(t|=1024),this.metaKey&&(t|=nV),t|=e,t}_computeRuntimeKeybinding(){let e=0;return 5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(e=this.keyCode),new Jz(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}}let rV=!1,oV=null;function sV(e){if(!e.parent||e.parent===e)return null;try{let t=e.location,n=e.parent.location;if("null"!==t.origin&&"null"!==n.origin&&t.origin!==n.origin)return rV=!0,null}catch(nR){return rV=!0,null}return e.parent}class aV{static getSameOriginWindowChain(){if(!oV){oV=[];let e,t=window;do{e=sV(t),e?oV.push({window:t,iframeElement:t.frameElement||null}):oV.push({window:t,iframeElement:null}),t=e}while(t)}return oV.slice(0)}static hasDifferentOriginAncestor(){return oV||this.getSameOriginWindowChain(),rV}static getPositionOfChildWindowRelativeToAncestorWindow(e,t){if(!t||e===t)return{top:0,left:0};let n=0,i=0,r=this.getSameOriginWindowChain();for(const o of r){if(n+=o.window.scrollY,i+=o.window.scrollX,o.window===t)break;if(!o.iframeElement)break;let e=o.iframeElement.getBoundingClientRect();n+=e.top,i+=e.left}return{top:n,left:i}}}class lV{constructor(e){this.timestamp=Date.now(),this.browserEvent=e,this.leftButton=0===e.button,this.middleButton=1===e.button,this.rightButton=2===e.button,this.buttons=e.buttons,this.target=e.target,this.detail=e.detail||1,"dblclick"===e.type&&(this.detail=2),this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,"number"==typeof e.pageX?(this.posx=e.pageX,this.posy=e.pageY):(this.posx=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=e.clientY+document.body.scrollTop+document.documentElement.scrollTop);let t=aV.getPositionOfChildWindowRelativeToAncestorWindow(self,e.view);this.posx-=t.left,this.posy-=t.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class cV{constructor(e,t=0,n=0){if(this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=n,this.deltaX=t,e){let t=e,n=e;if(void 0!==t.wheelDeltaY)this.deltaY=t.wheelDeltaY/120;else if(void 0!==n.VERTICAL_AXIS&&n.axis===n.VERTICAL_AXIS)this.deltaY=-n.detail/3;else if("wheel"===e.type){const t=e;t.deltaMode===t.DOM_DELTA_LINE?this.deltaY=Wz&&!WR?-e.deltaY/3:-e.deltaY:this.deltaY=-e.deltaY/40}if(void 0!==t.wheelDeltaX)this.deltaX=$z&&VR?-t.wheelDeltaX/120:t.wheelDeltaX/120;else if(void 0!==n.HORIZONTAL_AXIS&&n.axis===n.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if("wheel"===e.type){const t=e;t.deltaMode===t.DOM_DELTA_LINE?this.deltaX=Wz&&!WR?-e.deltaX/3:-e.deltaX:this.deltaX=-e.deltaX/40}0===this.deltaY&&0===this.deltaX&&e.wheelDelta&&(this.deltaY=e.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}var uV=globalThis&&globalThis.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(nR){o(nR)}}function a(e){try{l(i.throw(e))}catch(nR){o(nR)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function hV(e){const t=new hB,n=e(t.token),i=new Promise(((e,i)=>{const r=t.token.onCancellationRequested((()=>{r.dispose(),t.dispose(),i(PP())}));Promise.resolve(n).then((n=>{r.dispose(),t.dispose(),e(n)}),(e=>{r.dispose(),t.dispose(),i(e)}))}));return new class{cancel(){t.cancel()}then(e,t){return i.then(e,t)}catch(e){return this.then(void 0,e)}finally(e){return i.finally(e)}}}class dV{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(e){if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){const e=()=>{this.queuedPromise=null;const e=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,e};this.queuedPromise=new Promise((t=>{this.activePromise.then(e,e).then(t)}))}return new Promise(((e,t)=>{this.queuedPromise.then(e,t)}))}return this.activePromise=e(),new Promise(((e,t)=>{this.activePromise.then((t=>{this.activePromise=null,e(t)}),(e=>{this.activePromise=null,t(e)}))}))}}class fV{constructor(e){this.defaultDelay=e,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(e,t=this.defaultDelay){return this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(((e,t)=>{this.doResolve=e,this.doReject=t})).then((()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const e=this.task;return this.task=null,e()}}))),this.timeout=setTimeout((()=>{this.timeout=null,this.doResolve&&this.doResolve(null)}),t),this.completionPromise}isTriggered(){return null!==this.timeout}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject(PP()),this.completionPromise=null)}cancelTimeout(){null!==this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){this.cancel()}}class pV{constructor(e){this.delayer=new fV(e),this.throttler=new dV}trigger(e,t){return this.delayer.trigger((()=>this.throttler.queue(e)),t)}dispose(){this.delayer.dispose()}}function gV(e,t){return t?new Promise(((n,i)=>{const r=setTimeout((()=>{o.dispose(),n()}),e),o=t.onCancellationRequested((()=>{clearTimeout(r),o.dispose(),i(PP())}))})):hV((t=>gV(e,t)))}function mV(e,t=0){const n=setTimeout(e,t);return $P((()=>clearTimeout(n)))}class vV{constructor(e,t){this._token=-1,"function"==typeof e&&"number"==typeof t&&this.setIfNotSet(e,t)}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setTimeout((()=>{this._token=-1,e()}),t)}setIfNotSet(e,t){-1===this._token&&(this._token=setTimeout((()=>{this._token=-1,e()}),t))}}class yV{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearInterval(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setInterval((()=>{e()}),t)}}class bV{constructor(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(e=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)}get delay(){return this.timeout}set delay(e){this.timeout=e}isScheduled(){return-1!==this.timeoutToken}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}let _V;_V="function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback?e=>{const t=setTimeout((()=>{const t=Date.now()+15;e(Object.freeze({didTimeout:!0,timeRemaining:()=>Math.max(0,t-Date.now())}))}));let n=!1;return{dispose(){n||(n=!0,clearTimeout(t))}}}:(e,t)=>{const n=requestIdleCallback(e,"number"==typeof t?{timeout:t}:void 0);let i=!1;return{dispose(){i||(i=!0,cancelIdleCallback(n))}}};class wV{constructor(e){this._didRun=!1,this._executor=()=>{try{this._value=e()}catch(t){this._error=t}finally{this._didRun=!0}},this._handle=_V((()=>this._executor()))}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}var CV,xV,kV,SV;(xV=CV||(CV={})).settled=function(e){return uV(this,void 0,void 0,(function*(){let t;const n=yield Promise.all(e.map((e=>e.then((e=>e),(e=>{t||(t=e)})))));if(void 0!==t)throw t;return n}))},xV.withAsyncBody=function(e){return new Promise(((t,n)=>uV(this,void 0,void 0,(function*(){try{yield e(t,n)}catch(i){n(i)}}))))},(SV=kV||(kV={})).inMemory="inmemory",SV.vscode="vscode",SV.internal="private",SV.walkThrough="walkThrough",SV.walkThroughSnippet="walkThroughSnippet",SV.http="http",SV.https="https",SV.file="file",SV.mailto="mailto",SV.untitled="untitled",SV.data="data",SV.command="command",SV.vscodeRemote="vscode-remote",SV.vscodeRemoteResource="vscode-remote-resource",SV.userData="vscode-userdata",SV.vscodeCustomEditor="vscode-custom-editor",SV.vscodeNotebook="vscode-notebook",SV.vscodeNotebookCell="vscode-notebook-cell",SV.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",SV.vscodeNotebookCellOutput="vscode-notebook-cell-output",SV.vscodeInteractive="vscode-interactive",SV.vscodeInteractiveInput="vscode-interactive-input",SV.vscodeSettings="vscode-settings",SV.vscodeWorkspaceTrust="vscode-workspace-trust",SV.vscodeTerminal="vscode-terminal",SV.webviewPanel="webview-panel",SV.vscodeWebview="vscode-webview",SV.extension="extension",SV.vscodeFileResource="vscode-file",SV.tmp="tmp";const DV=new class{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(e){this._preferredWebSchema=e}rewrite(e){if(this._delegate)return this._delegate(e);const t=e.authority;let n=this._hosts[t];n&&-1!==n.indexOf(":")&&(n=`[${n}]`);const i=this._ports[t],r=this._connectionTokens[t];let o=`path=${encodeURIComponent(e.path)}`;return"string"==typeof r&&(o+=`&tkn=${encodeURIComponent(r)}`),ZB.from({scheme:$R?this._preferredWebSchema:kV.vscodeRemoteResource,authority:`${n}:${i}`,path:"/vscode-remote-resource",query:o})}};class EV{asBrowserUri(e,t){const n=this.toUri(e,t);return n.scheme===kV.vscodeRemote?DV.rewrite(n):n.scheme===kV.file&&(UR||"function"==typeof BR.importScripts&&BR.origin===`${kV.vscodeFileResource}://${EV.FALLBACK_AUTHORITY}`)?n.with({scheme:kV.vscodeFileResource,authority:n.authority||EV.FALLBACK_AUTHORITY,query:null,fragment:null}):n}toUri(e,t){return ZB.isUri(e)?e:ZB.parse(t.toUrl(e))}}EV.FALLBACK_AUTHORITY="vscode-app";const LV=new EV;function TV(e){for(;e.firstChild;)e.firstChild.remove()}function NV(e){var t;return null!==(t=null==e?void 0:e.isConnected)&&void 0!==t&&t}class MV{constructor(e,t,n,i){this._node=e,this._type=t,this._handler=n,this._options=i||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function AV(e,t,n,i){return new MV(e,t,n,i)}let IV=function(e,t,n,i){let r=n;return"click"===t||"mousedown"===t?r=function(e){return function(t){return e(new lV(t))}}(n):"keydown"!==t&&"keypress"!==t&&"keyup"!==t||(r=function(e){return function(t){return e(new iV(t))}}(n)),AV(e,t,r,i)};function OV(e,t){return AV(e,"mouseout",(n=>{let i=n.relatedTarget;for(;i&&i!==e;)i=i.parentNode;i!==e&&t(n)}))}let FV,RV,PV=null;class BV{constructor(e,t=0){this._runner=e,this.priority=t,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(nR){IP(nR)}}static sort(e,t){return t.priority-e.priority}}!function(){let e=[],t=null,n=!1,i=!1,r=()=>{for(n=!1,t=e,e=[],i=!0;t.length>0;){t.sort(BV.sort),t.shift().execute()}i=!1};RV=(t,i=0)=>{let o=new BV(t,i);return e.push(o),n||(n=!0,function(e){if(!PV){const e=e=>setTimeout((()=>e((new Date).getTime())),0);PV=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||e}PV.call(self,e)}(r)),o},FV=(e,n)=>{if(i){let i=new BV(e,n);return t.push(i),i}return RV(e,n)}}();const jV=function(e,t){return t};class zV extends KP{constructor(e,t,n,i=jV,r=8){super();let o=null,s=0,a=this._register(new vV),l=()=>{s=(new Date).getTime(),n(o),o=null};this._register(AV(e,t,(e=>{o=i(o,e);let t=(new Date).getTime()-s;t>=r?(a.cancel(),l()):a.setIfNotSet(l,r-t)})))}}function VV(e,t,n,i,r){return new zV(e,t,n,i,r)}function WV(e){return document.defaultView.getComputedStyle(e,null)}function HV(e){if(e!==document.body)return new $V(e.clientWidth,e.clientHeight);if(qR&&window.visualViewport)return new $V(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new $V(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new $V(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new $V(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}class UV{static convertToPixels(e,t){return parseFloat(t)||0}static getDimension(e,t,n){let i=WV(e),r="0";return i&&(r=i.getPropertyValue?i.getPropertyValue(t):i.getAttribute(n)),UV.convertToPixels(e,r)}static getBorderLeftWidth(e){return UV.getDimension(e,"border-left-width","borderLeftWidth")}static getBorderRightWidth(e){return UV.getDimension(e,"border-right-width","borderRightWidth")}static getBorderTopWidth(e){return UV.getDimension(e,"border-top-width","borderTopWidth")}static getBorderBottomWidth(e){return UV.getDimension(e,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(e){return UV.getDimension(e,"padding-left","paddingLeft")}static getPaddingRight(e){return UV.getDimension(e,"padding-right","paddingRight")}static getPaddingTop(e){return UV.getDimension(e,"padding-top","paddingTop")}static getPaddingBottom(e){return UV.getDimension(e,"padding-bottom","paddingBottom")}static getMarginLeft(e){return UV.getDimension(e,"margin-left","marginLeft")}static getMarginTop(e){return UV.getDimension(e,"margin-top","marginTop")}static getMarginRight(e){return UV.getDimension(e,"margin-right","marginRight")}static getMarginBottom(e){return UV.getDimension(e,"margin-bottom","marginBottom")}}class $V{constructor(e,t){this.width=e,this.height=t}with(e=this.width,t=this.height){return e!==this.width||t!==this.height?new $V(e,t):this}static is(e){return"object"==typeof e&&"number"==typeof e.height&&"number"==typeof e.width}static lift(e){return e instanceof $V?e:new $V(e.width,e.height)}static equals(e,t){return e===t||!(!e||!t)&&(e.width===t.width&&e.height===t.height)}}function qV(e){let t=e.getBoundingClientRect();return{left:t.left+KV.scrollX,top:t.top+KV.scrollY,width:t.width,height:t.height}}const KV=new class{get scrollX(){return"number"==typeof window.scrollX?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return"number"==typeof window.scrollY?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function YV(e){let t=UV.getMarginLeft(e)+UV.getMarginRight(e);return e.offsetWidth+t}function GV(e){let t=UV.getBorderLeftWidth(e)+UV.getBorderRightWidth(e),n=UV.getPaddingLeft(e)+UV.getPaddingRight(e);return e.offsetWidth-t-n}function XV(e){let t=UV.getBorderTopWidth(e)+UV.getBorderBottomWidth(e),n=UV.getPaddingTop(e)+UV.getPaddingBottom(e);return e.offsetHeight-t-n}function ZV(e){let t=UV.getMarginTop(e)+UV.getMarginBottom(e);return e.offsetHeight+t}function JV(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function QV(e,t,n){for(;e&&e.nodeType===e.ELEMENT_NODE;){if(e.classList.contains(t))return e;if(n)if("string"==typeof n){if(e.classList.contains(n))return null}else if(e===n)return null;e=e.parentNode}return null}function eW(e,t,n){return!!QV(e,t,n)}function tW(e){return e&&!!e.host&&!!e.mode}function nW(e){return!!iW(e)}function iW(e){for(;e.parentNode;){if(e===document.body)return null;e=e.parentNode}return tW(e)?e:null}function rW(){let e=document.activeElement;for(;null==e?void 0:e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function oW(e=document.getElementsByTagName("head")[0]){let t=document.createElement("style");return t.type="text/css",t.media="screen",e.appendChild(t),t}let sW=null;function aW(){return sW||(sW=oW()),sW}function lW(e,t,n=aW()){n&&t&&n.sheet.insertRule(e+"{"+t+"}",0)}function cW(e,t=aW()){if(!t)return;let n=function(e){var t,n;return(null===(t=null==e?void 0:e.sheet)||void 0===t?void 0:t.rules)?e.sheet.rules:(null===(n=null==e?void 0:e.sheet)||void 0===n?void 0:n.cssRules)?e.sheet.cssRules:[]}(t),i=[];for(let r=0;r<n.length;r++){-1!==n[r].selectorText.indexOf(e)&&i.push(r)}for(let r=i.length-1;r>=0;r--)t.sheet.deleteRule(i[r])}function uW(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName}const hW={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:Hz?"webkitAnimationStart":"animationstart",ANIMATION_END:Hz?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:Hz?"webkitAnimationIteration":"animationiteration"},dW=function(e,t){e.preventDefault?e.preventDefault():e.returnValue=!1,t&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)};class fW extends KP{constructor(e){super(),this._onDidFocus=this._register(new nB),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new nB),this.onDidBlur=this._onDidBlur.event;let t=JV(document.activeElement,e),n=!1;const i=()=>{n=!1,t||(t=!0,this._onDidFocus.fire())},r=()=>{t&&(n=!0,window.setTimeout((()=>{n&&(n=!1,t=!1,this._onDidBlur.fire())}),0))};this._refreshStateHandler=()=>{JV(document.activeElement,e)!==t&&(t?r():i())},this._register(AV(e,hW.FOCUS,i,!0)),this._register(AV(e,hW.BLUR,r,!0))}}function pW(e){return new fW(e)}function gW(e,...t){if(e.append(...t),1===t.length&&"string"!=typeof t[0])return t[0]}function mW(e,...t){e.innerText="",gW(e,...t)}const vW=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var yW,bW;function _W(e,t,n,...i){let r=vW.exec(t);if(!r)throw new Error("Bad use of emmet");n=Object.assign({},n||{});let o,s=r[1]||"div";return o=e!==yW.HTML?document.createElementNS(e,s):document.createElement(s),r[3]&&(o.id=r[3]),r[4]&&(o.className=r[4].replace(/\./g," ").trim()),Object.keys(n).forEach((e=>{const t=n[e];void 0!==t&&(/^on\w+$/.test(e)?o[e]=t:"selected"===e?t&&o.setAttribute(e,"true"):o.setAttribute(e,t))})),o.append(...i),o}function wW(e,t,...n){return _W(yW.HTML,e,t,...n)}function CW(...e){for(let t of e)t.style.display="",t.removeAttribute("aria-hidden")}function xW(...e){for(let t of e)t.style.display="none",t.setAttribute("aria-hidden","true")}function kW(e){const t=window.devicePixelRatio*e;return Math.max(1,Math.floor(t))/window.devicePixelRatio}function SW(e){window.open(e,"_blank","noopener")}function DW(e){return e?`url('${LV.asBrowserUri(e).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function EW(e){return`'${e.replace(/'/g,"%27")}'`}(bW=yW||(yW={})).HTML="http://www.w3.org/1999/xhtml",bW.SVG="http://www.w3.org/2000/svg",wW.SVG=function(e,t,...n){return _W(yW.SVG,e,t,...n)},DV.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");class LW extends nB{constructor(){super(),this._subscriptions=new qP,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(AV(window,"keydown",(e=>{if(e.defaultPrevented)return;const t=new iV(e);if(6!==t.keyCode||!e.repeat){if(e.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(e.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(e.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(e.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else{if(6===t.keyCode)return;this._keyStatus.lastKeyPressed=void 0}this._keyStatus.altKey=e.altKey,this._keyStatus.ctrlKey=e.ctrlKey,this._keyStatus.metaKey=e.metaKey,this._keyStatus.shiftKey=e.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=e,this.fire(this._keyStatus))}}),!0)),this._subscriptions.add(AV(window,"keyup",(e=>{e.defaultPrevented||(!e.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!e.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!e.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!e.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=e.altKey,this._keyStatus.ctrlKey=e.ctrlKey,this._keyStatus.metaKey=e.metaKey,this._keyStatus.shiftKey=e.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=e,this.fire(this._keyStatus)))}),!0)),this._subscriptions.add(AV(document.body,"mousedown",(()=>{this._keyStatus.lastKeyPressed=void 0}),!0)),this._subscriptions.add(AV(document.body,"mouseup",(()=>{this._keyStatus.lastKeyPressed=void 0}),!0)),this._subscriptions.add(AV(document.body,"mousemove",(e=>{e.buttons&&(this._keyStatus.lastKeyPressed=void 0)}),!0)),this._subscriptions.add(AV(window,"blur",(()=>{this.resetKeyStatus()})))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return LW.instance||(LW.instance=new LW),LW.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}const TW=/{(\d+)}/g;function NW(e,...t){return 0===t.length?e:e.replace(TW,(function(e,n){const i=parseInt(n,10);return isNaN(i)||i<0||i>=t.length?e:t[i]}))}function MW(e){return e.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function AW(e,t){if(!e||!t)return e;const n=t.length;if(0===n||0===e.length)return e;let i=0;for(;e.indexOf(t,i)===i;)i+=n;return e.substring(i)}function IW(e,t,n={}){if(!e)throw new Error("Cannot create regex from empty string");t||(e=MW(e)),n.wholeWord&&(/\B/.test(e.charAt(0))||(e="\\b"+e),/\B/.test(e.charAt(e.length-1))||(e+="\\b"));let i="";return n.global&&(i+="g"),n.matchCase||(i+="i"),n.multiline&&(i+="m"),n.unicode&&(i+="u"),new RegExp(e,i)}function OW(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")}function FW(e){return e.split(/\r\n|\r|\n/)}function RW(e){for(let t=0,n=e.length;t<n;t++){const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}return-1}function PW(e,t=0,n=e.length){for(let i=t;i<n;i++){const n=e.charCodeAt(i);if(32!==n&&9!==n)return e.substring(t,i)}return e.substring(t,n)}function BW(e,t=e.length-1){for(let n=t;n>=0;n--){const t=e.charCodeAt(n);if(32!==t&&9!==t)return n}return-1}function jW(e,t){return e<t?-1:e>t?1:0}function zW(e,t,n=0,i=e.length,r=0,o=t.length){for(;n<i&&r<o;n++,r++){let i=e.charCodeAt(n),o=t.charCodeAt(r);if(i<o)return-1;if(i>o)return 1}const s=i-n,a=o-r;return s<a?-1:s>a?1:0}function VW(e,t){return WW(e,t,0,e.length,0,t.length)}function WW(e,t,n=0,i=e.length,r=0,o=t.length){for(;n<i&&r<o;n++,r++){let s=e.charCodeAt(n),a=t.charCodeAt(r);if(s===a)continue;if(s>=128||a>=128)return zW(e.toLowerCase(),t.toLowerCase(),n,i,r,o);HW(s)&&(s-=32),HW(a)&&(a-=32);const l=s-a;if(0!==l)return l}const s=i-n,a=o-r;return s<a?-1:s>a?1:0}function HW(e){return e>=97&&e<=122}function UW(e){return e>=65&&e<=90}function $W(e,t){return e.length===t.length&&0===WW(e,t)}function qW(e,t){const n=t.length;return!(t.length>e.length)&&0===WW(e,t,0,n)}function KW(e,t){let n,i=Math.min(e.length,t.length);for(n=0;n<i;n++)if(e.charCodeAt(n)!==t.charCodeAt(n))return n;return i}function YW(e,t){let n,i=Math.min(e.length,t.length);const r=e.length-1,o=t.length-1;for(n=0;n<i;n++)if(e.charCodeAt(r-n)!==t.charCodeAt(o-n))return n;return i}function GW(e){return 55296<=e&&e<=56319}function XW(e){return 56320<=e&&e<=57343}function ZW(e,t){return t-56320+(e-55296<<10)+65536}function JW(e,t,n){const i=e.charCodeAt(n);if(GW(i)&&n+1<t){const t=e.charCodeAt(n+1);if(XW(t))return ZW(i,t)}return i}function QW(e,t){const n=e.charCodeAt(t-1);if(XW(n)&&t>1){const i=e.charCodeAt(t-2);if(GW(i))return ZW(i,n)}return n}function eH(e,t){const n=gH.getInstance(),i=t,r=e.length,o=JW(e,r,t);t+=o>=65536?2:1;let s=n.getGraphemeBreakType(o);for(;t<r;){const i=JW(e,r,t),o=n.getGraphemeBreakType(i);if(pH(s,o))break;t+=i>=65536?2:1,s=o}return t-i}const tH=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function nH(e){return tH.test(e)}const iH=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD00-\uDDFF\uDE70-\uDED6])/;const rH=/^[\t\n\r\x20-\x7E]*$/;function oH(e){return rH.test(e)}const sH=/[\u2028\u2029]/;function aH(e){return sH.test(e)}function lH(e){return(e=+e)>=11904&&e<=55215||e>=63744&&e<=64255||e>=65281&&e<=65374}function cH(e){return e>=127462&&e<=127487||8986===e||8987===e||9200===e||9203===e||e>=9728&&e<=10175||11088===e||11093===e||e>=127744&&e<=128591||e>=128640&&e<=128764||e>=128992&&e<=129003||e>=129280&&e<=129535||e>=129648&&e<=129750}const uH=String.fromCharCode(65279);function hH(e){return!!(e&&e.length>0&&65279===e.charCodeAt(0))}function dH(e){return(e%=52)<26?String.fromCharCode(97+e):String.fromCharCode(65+e-26)}function fH(e){return gH.getInstance().getGraphemeBreakType(e)}function pH(e,t){return 0===e?5!==t&&7!==t:(2!==e||3!==t)&&(4===e||2===e||3===e||(4===t||2===t||3===t||(8!==e||8!==t&&9!==t&&11!==t&&12!==t)&&((11!==e&&9!==e||9!==t&&10!==t)&&((12!==e&&10!==e||10!==t)&&(5!==t&&13!==t&&(7!==t&&(1!==e&&((13!==e||14!==t)&&(6!==e||6!==t)))))))))}class gH{constructor(){this._data=JSON.parse("[0,0,0,51592,51592,11,44424,44424,11,72251,72254,5,7150,7150,7,48008,48008,11,55176,55176,11,128420,128420,14,3276,3277,5,9979,9980,14,46216,46216,11,49800,49800,11,53384,53384,11,70726,70726,5,122915,122916,5,129320,129327,14,2558,2558,5,5906,5908,5,9762,9763,14,43360,43388,8,45320,45320,11,47112,47112,11,48904,48904,11,50696,50696,11,52488,52488,11,54280,54280,11,70082,70083,1,71350,71350,7,73111,73111,5,127892,127893,14,128726,128727,14,129473,129474,14,2027,2035,5,2901,2902,5,3784,3789,5,6754,6754,5,8418,8420,5,9877,9877,14,11088,11088,14,44008,44008,5,44872,44872,11,45768,45768,11,46664,46664,11,47560,47560,11,48456,48456,11,49352,49352,11,50248,50248,11,51144,51144,11,52040,52040,11,52936,52936,11,53832,53832,11,54728,54728,11,69811,69814,5,70459,70460,5,71096,71099,7,71998,71998,5,72874,72880,5,119149,119149,7,127374,127374,14,128335,128335,14,128482,128482,14,128765,128767,14,129399,129400,14,129680,129685,14,1476,1477,5,2377,2380,7,2759,2760,5,3137,3140,7,3458,3459,7,4153,4154,5,6432,6434,5,6978,6978,5,7675,7679,5,9723,9726,14,9823,9823,14,9919,9923,14,10035,10036,14,42736,42737,5,43596,43596,5,44200,44200,11,44648,44648,11,45096,45096,11,45544,45544,11,45992,45992,11,46440,46440,11,46888,46888,11,47336,47336,11,47784,47784,11,48232,48232,11,48680,48680,11,49128,49128,11,49576,49576,11,50024,50024,11,50472,50472,11,50920,50920,11,51368,51368,11,51816,51816,11,52264,52264,11,52712,52712,11,53160,53160,11,53608,53608,11,54056,54056,11,54504,54504,11,54952,54952,11,68108,68111,5,69933,69940,5,70197,70197,7,70498,70499,7,70845,70845,5,71229,71229,5,71727,71735,5,72154,72155,5,72344,72345,5,73023,73029,5,94095,94098,5,121403,121452,5,126981,127182,14,127538,127546,14,127990,127990,14,128391,128391,14,128445,128449,14,128500,128505,14,128752,128752,14,129160,129167,14,129356,129356,14,129432,129442,14,129648,129651,14,129751,131069,14,173,173,4,1757,1757,1,2274,2274,1,2494,2494,5,2641,2641,5,2876,2876,5,3014,3016,7,3262,3262,7,3393,3396,5,3570,3571,7,3968,3972,5,4228,4228,7,6086,6086,5,6679,6680,5,6912,6915,5,7080,7081,5,7380,7392,5,8252,8252,14,9096,9096,14,9748,9749,14,9784,9786,14,9833,9850,14,9890,9894,14,9938,9938,14,9999,9999,14,10085,10087,14,12349,12349,14,43136,43137,7,43454,43456,7,43755,43755,7,44088,44088,11,44312,44312,11,44536,44536,11,44760,44760,11,44984,44984,11,45208,45208,11,45432,45432,11,45656,45656,11,45880,45880,11,46104,46104,11,46328,46328,11,46552,46552,11,46776,46776,11,47000,47000,11,47224,47224,11,47448,47448,11,47672,47672,11,47896,47896,11,48120,48120,11,48344,48344,11,48568,48568,11,48792,48792,11,49016,49016,11,49240,49240,11,49464,49464,11,49688,49688,11,49912,49912,11,50136,50136,11,50360,50360,11,50584,50584,11,50808,50808,11,51032,51032,11,51256,51256,11,51480,51480,11,51704,51704,11,51928,51928,11,52152,52152,11,52376,52376,11,52600,52600,11,52824,52824,11,53048,53048,11,53272,53272,11,53496,53496,11,53720,53720,11,53944,53944,11,54168,54168,11,54392,54392,11,54616,54616,11,54840,54840,11,55064,55064,11,65438,65439,5,69633,69633,5,69837,69837,1,70018,70018,7,70188,70190,7,70368,70370,7,70465,70468,7,70712,70719,5,70835,70840,5,70850,70851,5,71132,71133,5,71340,71340,7,71458,71461,5,71985,71989,7,72002,72002,7,72193,72202,5,72281,72283,5,72766,72766,7,72885,72886,5,73104,73105,5,92912,92916,5,113824,113827,4,119173,119179,5,121505,121519,5,125136,125142,5,127279,127279,14,127489,127490,14,127570,127743,14,127900,127901,14,128254,128254,14,128369,128370,14,128400,128400,14,128425,128432,14,128468,128475,14,128489,128494,14,128715,128720,14,128745,128745,14,128759,128760,14,129004,129023,14,129296,129304,14,129340,129342,14,129388,129392,14,129404,129407,14,129454,129455,14,129485,129487,14,129659,129663,14,129719,129727,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2363,2363,7,2402,2403,5,2507,2508,7,2622,2624,7,2691,2691,7,2786,2787,5,2881,2884,5,3006,3006,5,3072,3072,5,3170,3171,5,3267,3268,7,3330,3331,7,3406,3406,1,3538,3540,5,3655,3662,5,3897,3897,5,4038,4038,5,4184,4185,5,4352,4447,8,6068,6069,5,6155,6157,5,6448,6449,7,6742,6742,5,6783,6783,5,6966,6970,5,7042,7042,7,7143,7143,7,7212,7219,5,7412,7412,5,8206,8207,4,8294,8303,4,8596,8601,14,9410,9410,14,9742,9742,14,9757,9757,14,9770,9770,14,9794,9794,14,9828,9828,14,9855,9855,14,9882,9882,14,9900,9903,14,9929,9933,14,9963,9967,14,9987,9988,14,10006,10006,14,10062,10062,14,10175,10175,14,11744,11775,5,42607,42607,5,43043,43044,7,43263,43263,5,43444,43445,7,43569,43570,5,43698,43700,5,43766,43766,5,44032,44032,11,44144,44144,11,44256,44256,11,44368,44368,11,44480,44480,11,44592,44592,11,44704,44704,11,44816,44816,11,44928,44928,11,45040,45040,11,45152,45152,11,45264,45264,11,45376,45376,11,45488,45488,11,45600,45600,11,45712,45712,11,45824,45824,11,45936,45936,11,46048,46048,11,46160,46160,11,46272,46272,11,46384,46384,11,46496,46496,11,46608,46608,11,46720,46720,11,46832,46832,11,46944,46944,11,47056,47056,11,47168,47168,11,47280,47280,11,47392,47392,11,47504,47504,11,47616,47616,11,47728,47728,11,47840,47840,11,47952,47952,11,48064,48064,11,48176,48176,11,48288,48288,11,48400,48400,11,48512,48512,11,48624,48624,11,48736,48736,11,48848,48848,11,48960,48960,11,49072,49072,11,49184,49184,11,49296,49296,11,49408,49408,11,49520,49520,11,49632,49632,11,49744,49744,11,49856,49856,11,49968,49968,11,50080,50080,11,50192,50192,11,50304,50304,11,50416,50416,11,50528,50528,11,50640,50640,11,50752,50752,11,50864,50864,11,50976,50976,11,51088,51088,11,51200,51200,11,51312,51312,11,51424,51424,11,51536,51536,11,51648,51648,11,51760,51760,11,51872,51872,11,51984,51984,11,52096,52096,11,52208,52208,11,52320,52320,11,52432,52432,11,52544,52544,11,52656,52656,11,52768,52768,11,52880,52880,11,52992,52992,11,53104,53104,11,53216,53216,11,53328,53328,11,53440,53440,11,53552,53552,11,53664,53664,11,53776,53776,11,53888,53888,11,54000,54000,11,54112,54112,11,54224,54224,11,54336,54336,11,54448,54448,11,54560,54560,11,54672,54672,11,54784,54784,11,54896,54896,11,55008,55008,11,55120,55120,11,64286,64286,5,66272,66272,5,68900,68903,5,69762,69762,7,69817,69818,5,69927,69931,5,70003,70003,5,70070,70078,5,70094,70094,7,70194,70195,7,70206,70206,5,70400,70401,5,70463,70463,7,70475,70477,7,70512,70516,5,70722,70724,5,70832,70832,5,70842,70842,5,70847,70848,5,71088,71089,7,71102,71102,7,71219,71226,5,71231,71232,5,71342,71343,7,71453,71455,5,71463,71467,5,71737,71738,5,71995,71996,5,72000,72000,7,72145,72147,7,72160,72160,5,72249,72249,7,72273,72278,5,72330,72342,5,72752,72758,5,72850,72871,5,72882,72883,5,73018,73018,5,73031,73031,5,73109,73109,5,73461,73462,7,94031,94031,5,94192,94193,7,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,126976,126979,14,127184,127231,14,127344,127345,14,127405,127461,14,127514,127514,14,127561,127567,14,127778,127779,14,127896,127896,14,127985,127986,14,127995,127999,5,128326,128328,14,128360,128366,14,128378,128378,14,128394,128397,14,128405,128406,14,128422,128423,14,128435,128443,14,128453,128464,14,128479,128480,14,128484,128487,14,128496,128498,14,128640,128709,14,128723,128724,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129096,129103,14,129292,129292,14,129311,129311,14,129329,129330,14,129344,129349,14,129360,129374,14,129394,129394,14,129402,129402,14,129413,129425,14,129445,129450,14,129466,129471,14,129483,129483,14,129511,129535,14,129653,129655,14,129667,129670,14,129705,129711,14,129731,129743,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2307,2307,7,2366,2368,7,2382,2383,7,2434,2435,7,2497,2500,5,2519,2519,5,2563,2563,7,2631,2632,5,2677,2677,5,2750,2752,7,2763,2764,7,2817,2817,5,2879,2879,5,2891,2892,7,2914,2915,5,3008,3008,5,3021,3021,5,3076,3076,5,3146,3149,5,3202,3203,7,3264,3265,7,3271,3272,7,3298,3299,5,3390,3390,5,3402,3404,7,3426,3427,5,3535,3535,5,3544,3550,7,3635,3635,7,3763,3763,7,3893,3893,5,3953,3966,5,3981,3991,5,4145,4145,7,4157,4158,5,4209,4212,5,4237,4237,5,4520,4607,10,5970,5971,5,6071,6077,5,6089,6099,5,6277,6278,5,6439,6440,5,6451,6456,7,6683,6683,5,6744,6750,5,6765,6770,7,6846,6846,5,6964,6964,5,6972,6972,5,7019,7027,5,7074,7077,5,7083,7085,5,7146,7148,7,7154,7155,7,7222,7223,5,7394,7400,5,7416,7417,5,8204,8204,5,8233,8233,4,8288,8292,4,8413,8416,5,8482,8482,14,8986,8987,14,9193,9203,14,9654,9654,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9775,14,9792,9792,14,9800,9811,14,9825,9826,14,9831,9831,14,9852,9853,14,9872,9873,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9936,9936,14,9941,9960,14,9974,9974,14,9982,9985,14,9992,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10145,10145,14,11013,11015,14,11503,11505,5,12334,12335,5,12951,12951,14,42612,42621,5,43014,43014,5,43047,43047,7,43204,43205,5,43335,43345,5,43395,43395,7,43450,43451,7,43561,43566,5,43573,43574,5,43644,43644,5,43710,43711,5,43758,43759,7,44005,44005,5,44012,44012,7,44060,44060,11,44116,44116,11,44172,44172,11,44228,44228,11,44284,44284,11,44340,44340,11,44396,44396,11,44452,44452,11,44508,44508,11,44564,44564,11,44620,44620,11,44676,44676,11,44732,44732,11,44788,44788,11,44844,44844,11,44900,44900,11,44956,44956,11,45012,45012,11,45068,45068,11,45124,45124,11,45180,45180,11,45236,45236,11,45292,45292,11,45348,45348,11,45404,45404,11,45460,45460,11,45516,45516,11,45572,45572,11,45628,45628,11,45684,45684,11,45740,45740,11,45796,45796,11,45852,45852,11,45908,45908,11,45964,45964,11,46020,46020,11,46076,46076,11,46132,46132,11,46188,46188,11,46244,46244,11,46300,46300,11,46356,46356,11,46412,46412,11,46468,46468,11,46524,46524,11,46580,46580,11,46636,46636,11,46692,46692,11,46748,46748,11,46804,46804,11,46860,46860,11,46916,46916,11,46972,46972,11,47028,47028,11,47084,47084,11,47140,47140,11,47196,47196,11,47252,47252,11,47308,47308,11,47364,47364,11,47420,47420,11,47476,47476,11,47532,47532,11,47588,47588,11,47644,47644,11,47700,47700,11,47756,47756,11,47812,47812,11,47868,47868,11,47924,47924,11,47980,47980,11,48036,48036,11,48092,48092,11,48148,48148,11,48204,48204,11,48260,48260,11,48316,48316,11,48372,48372,11,48428,48428,11,48484,48484,11,48540,48540,11,48596,48596,11,48652,48652,11,48708,48708,11,48764,48764,11,48820,48820,11,48876,48876,11,48932,48932,11,48988,48988,11,49044,49044,11,49100,49100,11,49156,49156,11,49212,49212,11,49268,49268,11,49324,49324,11,49380,49380,11,49436,49436,11,49492,49492,11,49548,49548,11,49604,49604,11,49660,49660,11,49716,49716,11,49772,49772,11,49828,49828,11,49884,49884,11,49940,49940,11,49996,49996,11,50052,50052,11,50108,50108,11,50164,50164,11,50220,50220,11,50276,50276,11,50332,50332,11,50388,50388,11,50444,50444,11,50500,50500,11,50556,50556,11,50612,50612,11,50668,50668,11,50724,50724,11,50780,50780,11,50836,50836,11,50892,50892,11,50948,50948,11,51004,51004,11,51060,51060,11,51116,51116,11,51172,51172,11,51228,51228,11,51284,51284,11,51340,51340,11,51396,51396,11,51452,51452,11,51508,51508,11,51564,51564,11,51620,51620,11,51676,51676,11,51732,51732,11,51788,51788,11,51844,51844,11,51900,51900,11,51956,51956,11,52012,52012,11,52068,52068,11,52124,52124,11,52180,52180,11,52236,52236,11,52292,52292,11,52348,52348,11,52404,52404,11,52460,52460,11,52516,52516,11,52572,52572,11,52628,52628,11,52684,52684,11,52740,52740,11,52796,52796,11,52852,52852,11,52908,52908,11,52964,52964,11,53020,53020,11,53076,53076,11,53132,53132,11,53188,53188,11,53244,53244,11,53300,53300,11,53356,53356,11,53412,53412,11,53468,53468,11,53524,53524,11,53580,53580,11,53636,53636,11,53692,53692,11,53748,53748,11,53804,53804,11,53860,53860,11,53916,53916,11,53972,53972,11,54028,54028,11,54084,54084,11,54140,54140,11,54196,54196,11,54252,54252,11,54308,54308,11,54364,54364,11,54420,54420,11,54476,54476,11,54532,54532,11,54588,54588,11,54644,54644,11,54700,54700,11,54756,54756,11,54812,54812,11,54868,54868,11,54924,54924,11,54980,54980,11,55036,55036,11,55092,55092,11,55148,55148,11,55216,55238,9,65056,65071,5,65529,65531,4,68097,68099,5,68159,68159,5,69446,69456,5,69688,69702,5,69808,69810,7,69815,69816,7,69821,69821,1,69888,69890,5,69932,69932,7,69957,69958,7,70016,70017,5,70067,70069,7,70079,70080,7,70089,70092,5,70095,70095,5,70191,70193,5,70196,70196,5,70198,70199,5,70367,70367,5,70371,70378,5,70402,70403,7,70462,70462,5,70464,70464,5,70471,70472,7,70487,70487,5,70502,70508,5,70709,70711,7,70720,70721,7,70725,70725,7,70750,70750,5,70833,70834,7,70841,70841,7,70843,70844,7,70846,70846,7,70849,70849,7,71087,71087,5,71090,71093,5,71100,71101,5,71103,71104,5,71216,71218,7,71227,71228,7,71230,71230,7,71339,71339,5,71341,71341,5,71344,71349,5,71351,71351,5,71456,71457,7,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123628,123631,5,125252,125258,5,126980,126980,14,127183,127183,14,127245,127247,14,127340,127343,14,127358,127359,14,127377,127386,14,127462,127487,6,127491,127503,14,127535,127535,14,127548,127551,14,127568,127569,14,127744,127777,14,127780,127891,14,127894,127895,14,127897,127899,14,127902,127984,14,127987,127989,14,127991,127994,14,128000,128253,14,128255,128317,14,128329,128334,14,128336,128359,14,128367,128368,14,128371,128377,14,128379,128390,14,128392,128393,14,128398,128399,14,128401,128404,14,128407,128419,14,128421,128421,14,128424,128424,14,128433,128434,14,128444,128444,14,128450,128452,14,128465,128467,14,128476,128478,14,128481,128481,14,128483,128483,14,128488,128488,14,128495,128495,14,128499,128499,14,128506,128591,14,128710,128714,14,128721,128722,14,128725,128725,14,128728,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129664,129666,14,129671,129679,14,129686,129704,14,129712,129718,14,129728,129730,14,129744,129750,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2259,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3134,3136,5,3142,3144,5,3157,3158,5,3201,3201,5,3260,3260,5,3263,3263,5,3266,3266,5,3270,3270,5,3274,3275,7,3285,3286,5,3328,3329,5,3387,3388,5,3391,3392,7,3398,3400,7,3405,3405,5,3415,3415,5,3457,3457,5,3530,3530,5,3536,3537,7,3542,3542,5,3551,3551,5,3633,3633,5,3636,3642,5,3761,3761,5,3764,3772,5,3864,3865,5,3895,3895,5,3902,3903,7,3967,3967,7,3974,3975,5,3993,4028,5,4141,4144,5,4146,4151,5,4155,4156,7,4182,4183,7,4190,4192,5,4226,4226,5,4229,4230,5,4253,4253,5,4448,4519,9,4957,4959,5,5938,5940,5,6002,6003,5,6070,6070,7,6078,6085,7,6087,6088,7,6109,6109,5,6158,6158,4,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6848,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7673,5,8203,8203,4,8205,8205,13,8232,8232,4,8234,8238,4,8265,8265,14,8293,8293,4,8400,8412,5,8417,8417,5,8421,8432,5,8505,8505,14,8617,8618,14,9000,9000,14,9167,9167,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9776,9783,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9935,14,9937,9937,14,9939,9940,14,9961,9962,14,9968,9973,14,9975,9978,14,9981,9981,14,9986,9986,14,9989,9989,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10084,14,10133,10135,14,10160,10160,14,10548,10549,14,11035,11036,14,11093,11093,14,11647,11647,5,12330,12333,5,12336,12336,14,12441,12442,5,12953,12953,14,42608,42610,5,42654,42655,5,43010,43010,5,43019,43019,5,43045,43046,5,43052,43052,5,43188,43203,7,43232,43249,5,43302,43309,5,43346,43347,7,43392,43394,5,43443,43443,5,43446,43449,5,43452,43453,5,43493,43493,5,43567,43568,7,43571,43572,7,43587,43587,5,43597,43597,7,43696,43696,5,43703,43704,5,43713,43713,5,43756,43757,5,43765,43765,7,44003,44004,7,44006,44007,7,44009,44010,7,44013,44013,5,44033,44059,12,44061,44087,12,44089,44115,12,44117,44143,12,44145,44171,12,44173,44199,12,44201,44227,12,44229,44255,12,44257,44283,12,44285,44311,12,44313,44339,12,44341,44367,12,44369,44395,12,44397,44423,12,44425,44451,12,44453,44479,12,44481,44507,12,44509,44535,12,44537,44563,12,44565,44591,12,44593,44619,12,44621,44647,12,44649,44675,12,44677,44703,12,44705,44731,12,44733,44759,12,44761,44787,12,44789,44815,12,44817,44843,12,44845,44871,12,44873,44899,12,44901,44927,12,44929,44955,12,44957,44983,12,44985,45011,12,45013,45039,12,45041,45067,12,45069,45095,12,45097,45123,12,45125,45151,12,45153,45179,12,45181,45207,12,45209,45235,12,45237,45263,12,45265,45291,12,45293,45319,12,45321,45347,12,45349,45375,12,45377,45403,12,45405,45431,12,45433,45459,12,45461,45487,12,45489,45515,12,45517,45543,12,45545,45571,12,45573,45599,12,45601,45627,12,45629,45655,12,45657,45683,12,45685,45711,12,45713,45739,12,45741,45767,12,45769,45795,12,45797,45823,12,45825,45851,12,45853,45879,12,45881,45907,12,45909,45935,12,45937,45963,12,45965,45991,12,45993,46019,12,46021,46047,12,46049,46075,12,46077,46103,12,46105,46131,12,46133,46159,12,46161,46187,12,46189,46215,12,46217,46243,12,46245,46271,12,46273,46299,12,46301,46327,12,46329,46355,12,46357,46383,12,46385,46411,12,46413,46439,12,46441,46467,12,46469,46495,12,46497,46523,12,46525,46551,12,46553,46579,12,46581,46607,12,46609,46635,12,46637,46663,12,46665,46691,12,46693,46719,12,46721,46747,12,46749,46775,12,46777,46803,12,46805,46831,12,46833,46859,12,46861,46887,12,46889,46915,12,46917,46943,12,46945,46971,12,46973,46999,12,47001,47027,12,47029,47055,12,47057,47083,12,47085,47111,12,47113,47139,12,47141,47167,12,47169,47195,12,47197,47223,12,47225,47251,12,47253,47279,12,47281,47307,12,47309,47335,12,47337,47363,12,47365,47391,12,47393,47419,12,47421,47447,12,47449,47475,12,47477,47503,12,47505,47531,12,47533,47559,12,47561,47587,12,47589,47615,12,47617,47643,12,47645,47671,12,47673,47699,12,47701,47727,12,47729,47755,12,47757,47783,12,47785,47811,12,47813,47839,12,47841,47867,12,47869,47895,12,47897,47923,12,47925,47951,12,47953,47979,12,47981,48007,12,48009,48035,12,48037,48063,12,48065,48091,12,48093,48119,12,48121,48147,12,48149,48175,12,48177,48203,12,48205,48231,12,48233,48259,12,48261,48287,12,48289,48315,12,48317,48343,12,48345,48371,12,48373,48399,12,48401,48427,12,48429,48455,12,48457,48483,12,48485,48511,12,48513,48539,12,48541,48567,12,48569,48595,12,48597,48623,12,48625,48651,12,48653,48679,12,48681,48707,12,48709,48735,12,48737,48763,12,48765,48791,12,48793,48819,12,48821,48847,12,48849,48875,12,48877,48903,12,48905,48931,12,48933,48959,12,48961,48987,12,48989,49015,12,49017,49043,12,49045,49071,12,49073,49099,12,49101,49127,12,49129,49155,12,49157,49183,12,49185,49211,12,49213,49239,12,49241,49267,12,49269,49295,12,49297,49323,12,49325,49351,12,49353,49379,12,49381,49407,12,49409,49435,12,49437,49463,12,49465,49491,12,49493,49519,12,49521,49547,12,49549,49575,12,49577,49603,12,49605,49631,12,49633,49659,12,49661,49687,12,49689,49715,12,49717,49743,12,49745,49771,12,49773,49799,12,49801,49827,12,49829,49855,12,49857,49883,12,49885,49911,12,49913,49939,12,49941,49967,12,49969,49995,12,49997,50023,12,50025,50051,12,50053,50079,12,50081,50107,12,50109,50135,12,50137,50163,12,50165,50191,12,50193,50219,12,50221,50247,12,50249,50275,12,50277,50303,12,50305,50331,12,50333,50359,12,50361,50387,12,50389,50415,12,50417,50443,12,50445,50471,12,50473,50499,12,50501,50527,12,50529,50555,12,50557,50583,12,50585,50611,12,50613,50639,12,50641,50667,12,50669,50695,12,50697,50723,12,50725,50751,12,50753,50779,12,50781,50807,12,50809,50835,12,50837,50863,12,50865,50891,12,50893,50919,12,50921,50947,12,50949,50975,12,50977,51003,12,51005,51031,12,51033,51059,12,51061,51087,12,51089,51115,12,51117,51143,12,51145,51171,12,51173,51199,12,51201,51227,12,51229,51255,12,51257,51283,12,51285,51311,12,51313,51339,12,51341,51367,12,51369,51395,12,51397,51423,12,51425,51451,12,51453,51479,12,51481,51507,12,51509,51535,12,51537,51563,12,51565,51591,12,51593,51619,12,51621,51647,12,51649,51675,12,51677,51703,12,51705,51731,12,51733,51759,12,51761,51787,12,51789,51815,12,51817,51843,12,51845,51871,12,51873,51899,12,51901,51927,12,51929,51955,12,51957,51983,12,51985,52011,12,52013,52039,12,52041,52067,12,52069,52095,12,52097,52123,12,52125,52151,12,52153,52179,12,52181,52207,12,52209,52235,12,52237,52263,12,52265,52291,12,52293,52319,12,52321,52347,12,52349,52375,12,52377,52403,12,52405,52431,12,52433,52459,12,52461,52487,12,52489,52515,12,52517,52543,12,52545,52571,12,52573,52599,12,52601,52627,12,52629,52655,12,52657,52683,12,52685,52711,12,52713,52739,12,52741,52767,12,52769,52795,12,52797,52823,12,52825,52851,12,52853,52879,12,52881,52907,12,52909,52935,12,52937,52963,12,52965,52991,12,52993,53019,12,53021,53047,12,53049,53075,12,53077,53103,12,53105,53131,12,53133,53159,12,53161,53187,12,53189,53215,12,53217,53243,12,53245,53271,12,53273,53299,12,53301,53327,12,53329,53355,12,53357,53383,12,53385,53411,12,53413,53439,12,53441,53467,12,53469,53495,12,53497,53523,12,53525,53551,12,53553,53579,12,53581,53607,12,53609,53635,12,53637,53663,12,53665,53691,12,53693,53719,12,53721,53747,12,53749,53775,12,53777,53803,12,53805,53831,12,53833,53859,12,53861,53887,12,53889,53915,12,53917,53943,12,53945,53971,12,53973,53999,12,54001,54027,12,54029,54055,12,54057,54083,12,54085,54111,12,54113,54139,12,54141,54167,12,54169,54195,12,54197,54223,12,54225,54251,12,54253,54279,12,54281,54307,12,54309,54335,12,54337,54363,12,54365,54391,12,54393,54419,12,54421,54447,12,54449,54475,12,54477,54503,12,54505,54531,12,54533,54559,12,54561,54587,12,54589,54615,12,54617,54643,12,54645,54671,12,54673,54699,12,54701,54727,12,54729,54755,12,54757,54783,12,54785,54811,12,54813,54839,12,54841,54867,12,54869,54895,12,54897,54923,12,54925,54951,12,54953,54979,12,54981,55007,12,55009,55035,12,55037,55063,12,55065,55091,12,55093,55119,12,55121,55147,12,55149,55175,12,55177,55203,12,55243,55291,10,65024,65039,5,65279,65279,4,65520,65528,4,66045,66045,5,66422,66426,5,68101,68102,5,68152,68154,5,68325,68326,5,69291,69292,5,69632,69632,7,69634,69634,7,69759,69761,5]")}static getInstance(){return gH._INSTANCE||(gH._INSTANCE=new gH),gH._INSTANCE}getGraphemeBreakType(e){if(e<32)return 10===e?3:13===e?2:4;if(e<127)return 0;const t=this._data,n=t.length/3;let i=1;for(;i<=n;)if(e<t[3*i])i*=2;else{if(!(e>t[3*i+1]))return t[3*i+2];i=2*i+1}return 0}}function mH(e,t){if(0===e)return 0;const n=function(e,t){let n=QW(t,e);e-=vH(n);for(;yH(n)||65039===n||8419===n;){if(0===e)return;n=QW(t,e),e-=vH(n)}if(!cH(n))return;if(e>=0){const n=QW(t,e);8205===n&&(e-=vH(n))}return e}(e,t);if(void 0!==n)return n;return e-=vH(QW(t,e))}function vH(e){return e>=65536?2:1}function yH(e){return 127995<=e&&e<=127999}var bH,_H;gH._INSTANCE=null;class wH{constructor(){this._value="",this._pos=0}reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){return e.charCodeAt(0)-this._value.charCodeAt(this._pos)}value(){return this._value[this._pos]}}class CH{constructor(e=!0){this._caseSensitive=e}reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++){if(46===this._value.charCodeAt(this._to)){if(!e)break;this._from++}else e=!1}return this}cmp(e){return this._caseSensitive?zW(e,this._value,0,e.length,this._from,this._to):WW(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class xH{constructor(e=!0,t=!0){this._splitOnBackslash=e,this._caseSensitive=t}reset(e){return this._value=e.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++){const t=this._value.charCodeAt(this._to);if(47===t||this._splitOnBackslash&&92===t){if(!e)break;this._from++}else e=!1}return this}cmp(e){return this._caseSensitive?zW(e,this._value,0,e.length,this._from,this._to):WW(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class kH{constructor(e){this._ignorePathCasing=e,this._states=[],this._stateIdx=0}reset(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new xH(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(1===this._states[this._stateIdx])return VW(e,this._value.scheme);if(2===this._states[this._stateIdx])return VW(e,this._value.authority);if(3===this._states[this._stateIdx])return this._pathIterator.cmp(e);if(4===this._states[this._stateIdx])return jW(e,this._value.query);if(5===this._states[this._stateIdx])return jW(e,this._value.fragment);throw new Error}value(){if(1===this._states[this._stateIdx])return this._value.scheme;if(2===this._states[this._stateIdx])return this._value.authority;if(3===this._states[this._stateIdx])return this._pathIterator.value();if(4===this._states[this._stateIdx])return this._value.query;if(5===this._states[this._stateIdx])return this._value.fragment;throw new Error}}class SH{constructor(){this.height=1}rotateLeft(){const e=this.right;return this.right=e.left,e.left=this,this.updateHeight(),e.updateHeight(),e}rotateRight(){const e=this.left;return this.left=e.right,e.right=this,this.updateHeight(),e.updateHeight(),e}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var e,t;return null!==(t=null===(e=this.left)||void 0===e?void 0:e.height)&&void 0!==t?t:0}get heightRight(){var e,t;return null!==(t=null===(e=this.right)||void 0===e?void 0:e.height)&&void 0!==t?t:0}}class DH{constructor(e){this._iter=e}static forUris(e=(()=>!1)){return new DH(new kH(e))}static forStrings(){return new DH(new wH)}static forConfigKeys(){return new DH(new CH)}clear(){this._root=void 0}set(e,t){const n=this._iter.reset(e);let i;this._root||(this._root=new SH,this._root.segment=n.value());const r=[];for(i=this._root;;){const e=n.cmp(i.segment);if(e>0)i.left||(i.left=new SH,i.left.segment=n.value()),r.push([-1,i]),i=i.left;else if(e<0)i.right||(i.right=new SH,i.right.segment=n.value()),r.push([1,i]),i=i.right;else{if(!n.hasNext())break;n.next(),i.mid||(i.mid=new SH,i.mid.segment=n.value()),r.push([0,i]),i=i.mid}}const o=i.value;i.value=t,i.key=e;for(let s=r.length-1;s>=0;s--){const e=r[s][1];e.updateHeight();const t=e.balanceFactor();if(t<-1||t>1){const t=r[s][0],n=r[s+1][0];if(1===t&&1===n)r[s][1]=e.rotateLeft();else if(-1===t&&-1===n)r[s][1]=e.rotateRight();else if(1===t&&-1===n)e.right=r[s+1][1]=r[s+1][1].rotateRight(),r[s][1]=e.rotateLeft();else{if(-1!==t||1!==n)throw new Error;e.left=r[s+1][1]=r[s+1][1].rotateLeft(),r[s][1]=e.rotateRight()}if(s>0)switch(r[s-1][0]){case-1:r[s-1][1].left=r[s][1];break;case 1:r[s-1][1].right=r[s][1];break;case 0:r[s-1][1].mid=r[s][1]}else this._root=r[0][1]}}return o}get(e){var t;return null===(t=this._getNode(e))||void 0===t?void 0:t.value}_getNode(e){const t=this._iter.reset(e);let n=this._root;for(;n;){const e=t.cmp(n.segment);if(e>0)n=n.left;else if(e<0)n=n.right;else{if(!t.hasNext())break;t.next(),n=n.mid}}return n}has(e){const t=this._getNode(e);return!(void 0===(null==t?void 0:t.value)&&void 0===(null==t?void 0:t.mid))}delete(e){return this._delete(e,!1)}deleteSuperstr(e){return this._delete(e,!0)}_delete(e,t){var n;const i=this._iter.reset(e),r=[];let o=this._root;for(;o;){const e=i.cmp(o.segment);if(e>0)r.push([-1,o]),o=o.left;else if(e<0)r.push([1,o]),o=o.right;else{if(!i.hasNext())break;i.next(),r.push([0,o]),o=o.mid}}if(o){if(t?(o.left=void 0,o.mid=void 0,o.right=void 0,o.height=1):(o.key=void 0,o.value=void 0),!o.mid&&!o.value)if(o.left&&o.right){const e=this._min(o.right),{key:t,value:n,segment:i}=e;this._delete(e.key,!1),o.key=t,o.value=n,o.segment=i}else{const e=null!==(n=o.left)&&void 0!==n?n:o.right;if(r.length>0){const[t,n]=r[r.length-1];switch(t){case-1:n.left=e;break;case 0:n.mid=e;break;case 1:n.right=e}}else this._root=e}for(let e=r.length-1;e>=0;e--){const t=r[e][1];t.updateHeight();const n=t.balanceFactor();if(n>1?(t.right.balanceFactor()>=0||(t.right=r[e+1][1]=r[e+1][1].rotateRight()),r[e][1]=t.rotateLeft()):n<-1&&(t.left.balanceFactor()<=0||(t.left=r[e+1][1]=r[e+1][1].rotateLeft()),r[e][1]=t.rotateRight()),e>0)switch(r[e-1][0]){case-1:r[e-1][1].left=r[e][1];break;case 1:r[e-1][1].right=r[e][1];break;case 0:r[e-1][1].mid=r[e][1]}else this._root=r[0][1]}}}_min(e){for(;e.left;)e=e.left;return e}findSubstr(e){const t=this._iter.reset(e);let n,i=this._root;for(;i;){const e=t.cmp(i.segment);if(e>0)i=i.left;else if(e<0)i=i.right;else{if(!t.hasNext())break;t.next(),n=i.value||n,i=i.mid}}return i&&i.value||n}findSuperstr(e){const t=this._iter.reset(e);let n=this._root;for(;n;){const e=t.cmp(n.segment);if(e>0)n=n.left;else if(e<0)n=n.right;else{if(!t.hasNext())return n.mid?this._entries(n.mid):void 0;t.next(),n=n.mid}}}forEach(e){for(const[t,n]of this)e(n,t)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(e){e&&(e.left&&(yield*this._entries(e.left)),e.value&&(yield[e.key,e.value]),e.mid&&(yield*this._entries(e.mid)),e.right&&(yield*this._entries(e.right)))}}class EH{constructor(e,t){this.uri=e,this.value=t}}class LH{constructor(e,t){this[bH]="ResourceMap",e instanceof LH?(this.map=new Map(e.map),this.toKey=null!=t?t:LH.defaultToKey):(this.map=new Map,this.toKey=null!=e?e:LH.defaultToKey)}set(e,t){return this.map.set(this.toKey(e),new EH(e,t)),this}get(e){var t;return null===(t=this.map.get(this.toKey(e)))||void 0===t?void 0:t.value}has(e){return this.map.has(this.toKey(e))}get size(){return this.map.size}clear(){this.map.clear()}delete(e){return this.map.delete(this.toKey(e))}forEach(e,t){void 0!==t&&(e=e.bind(t));for(let[n,i]of this.map)e(i.value,i.uri,this)}*values(){for(let e of this.map.values())yield e.value}*keys(){for(let e of this.map.values())yield e.uri}*entries(){for(let e of this.map.values())yield[e.uri,e.value]}*[(bH=Symbol.toStringTag,Symbol.iterator)](){for(let[,e]of this.map)yield[e.uri,e.value]}}LH.defaultToKey=e=>e.toString();class TH{constructor(){this[_H]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return null===(e=this._head)||void 0===e?void 0:e.value}get last(){var e;return null===(e=this._tail)||void 0===e?void 0:e.value}has(e){return this._map.has(e)}get(e,t=0){const n=this._map.get(e);if(n)return 0!==t&&this.touch(n,t),n.value}set(e,t,n=0){let i=this._map.get(e);if(i)i.value=t,0!==n&&this.touch(i,n);else{if(i={key:e,value:t,next:void 0,previous:void 0},1===n)this.addItemFirst(i);else this.addItemLast(i);this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const n=this._state;let i=this._head;for(;i;){if(t?e.bind(t)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){const e=this,t=this._state;let n=this._head;const i={[Symbol.iterator]:()=>i,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const e={value:n.key,done:!1};return n=n.next,e}return{value:void 0,done:!0}}};return i}values(){const e=this,t=this._state;let n=this._head;const i={[Symbol.iterator]:()=>i,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const e={value:n.value,done:!1};return n=n.next,e}return{value:void 0,done:!0}}};return i}entries(){const e=this,t=this._state;let n=this._head;const i={[Symbol.iterator]:()=>i,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const e={value:[n.key,n.value],done:!1};return n=n.next,e}return{value:void 0,done:!0}}};return i}[(_H=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(0===e)return void this.clear();let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e,this._state++}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(1===t||2===t)if(1===t){if(e===this._head)return;const t=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(t.previous=n,n.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(2===t){if(e===this._tail)return;const t=e.next,n=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=n,n.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}toJSON(){const e=[];return this.forEach(((t,n)=>{e.push([n,t])})),e}fromJSON(e){this.clear();for(const[t,n]of e)this.set(t,n)}}class NH extends TH{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get(e,t=2){return super.get(e,t)}peek(e){return super.get(e,0)}set(e,t){return super.set(e,t,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}const MH="undefined"!=typeof Buffer;let AH;class IH{constructor(e){this.buffer=e,this.byteLength=this.buffer.byteLength}static wrap(e){return MH&&!Buffer.isBuffer(e)&&(e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)),new IH(e)}toString(){return MH?this.buffer.toString():(AH||(AH=new TextDecoder),AH.decode(this.buffer))}}function OH(e,t){return e[t+0]<<0>>>0|e[t+1]<<8>>>0}function FH(e,t,n){e[n+0]=255&t,t>>>=8,e[n+1]=255&t}function RH(e,t){return e[t]*Math.pow(2,24)+e[t+1]*Math.pow(2,16)+e[t+2]*Math.pow(2,8)+e[t+3]}function PH(e,t,n){e[n+3]=t,t>>>=8,e[n+2]=t,t>>>=8,e[n+1]=t,t>>>=8,e[n]=t}function BH(e,t){return e[t]}function jH(e,t,n){e[n]=t}function zH(e){let t=JSON.parse(e);return t=VH(t),t}function VH(e,t=0){if(!e||t>200)return e;if("object"==typeof e){switch(e.$mid){case 1:return ZB.revive(e);case 2:return new RegExp(e.source,e.flags)}if(e instanceof IH||e instanceof Uint8Array)return e;if(Array.isArray(e))for(let n=0;n<e.length;++n)e[n]=VH(e[n],t+1);else for(const n in e)Object.hasOwnProperty.call(e,n)&&(e[n]=VH(e[n],t+1))}return e}function WH(e){return-1===e.indexOf("/")&&(e=function(e){return e.replace(/[\\/]/g,PB.sep)}(e)),/^[a-zA-Z]:(\/|$)/.test(e)&&(e="/"+e),e}function HH(e){return ij(e,!0)}const UH=new class{constructor(e){this._ignorePathCasing=e}compare(e,t,n=!1){return e===t?0:jW(this.getComparisonKey(e,n),this.getComparisonKey(t,n))}isEqual(e,t,n=!1){return e===t||!(!e||!t)&&this.getComparisonKey(e,n)===this.getComparisonKey(t,n)}getComparisonKey(e,t=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}joinPath(e,...t){return ZB.joinPath(e,...t)}basenameOrAuthority(e){return $H(e)||e.authority}basename(e){return PB.basename(e.path)}dirname(e){if(0===e.path.length)return e;let t;return e.scheme===kV.file?t=ZB.file(VB(HH(e))).path:(t=PB.dirname(e.path),e.authority&&t.length&&47!==t.charCodeAt(0)&&(console.error(`dirname("${e.toString})) resulted in a relative path`),t="/")),e.with({path:t})}normalizePath(e){if(!e.path.length)return e;let t;return t=e.scheme===kV.file?ZB.file(BB(HH(e))).path:PB.normalize(e.path),e.with({path:t})}resolvePath(e,t){if(e.scheme===kV.file){const n=ZB.file(jB(HH(e),t));return e.with({authority:n.authority,path:n.path})}return t=WH(t),e.with({path:PB.resolve(e.path,t)})}}((()=>!1));UH.isEqual.bind(UH),UH.basenameOrAuthority.bind(UH);const $H=UH.basename.bind(UH);UH.dirname.bind(UH),UH.joinPath.bind(UH);const qH=UH.normalizePath.bind(UH);var KH,YH;function GH(e){return"string"==typeof e}function XH(e){return!("object"!=typeof e||null===e||Array.isArray(e)||e instanceof RegExp||e instanceof Date)}function ZH(e){return"number"==typeof e&&!isNaN(e)}function JH(e){return!0===e||!1===e}function QH(e){return void 0===e}function eU(e){return!tU(e)}function tU(e){return QH(e)||null===e}function nU(e,t){if(!e)throw new Error(t?`Unexpected type, expected '${t}'`:"Unexpected type")}function iU(e){return"function"==typeof e}function rU(e,t){if(GH(t)){if(typeof e!==t)throw new Error(`argument does not match constraint: typeof ${t}`)}else if(iU(t)){try{if(e instanceof t)return}catch(n){}if(!tU(e)&&e.constructor===t)return;if(1===t.length&&!0===t.call(void 0,e))return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function oU(e){const t=[];for(const n of function(e){let t=[],n=Object.getPrototypeOf(e);for(;Object.prototype!==n;)t=t.concat(Object.getOwnPropertyNames(n)),n=Object.getPrototypeOf(n);return t}(e))"function"==typeof e[n]&&t.push(n);return t}function sU(e){return null===e?void 0:e}UH.resolvePath.bind(UH),(YH=KH||(KH={})).META_DATA_LABEL="label",YH.META_DATA_DESCRIPTION="description",YH.META_DATA_SIZE="size",YH.META_DATA_MIME="mime",YH.parseMetaData=function(e){const t=new Map;e.path.substring(e.path.indexOf(";")+1,e.path.lastIndexOf(";")).split(";").forEach((e=>{const[n,i]=e.split(":");n&&i&&t.set(n,i)}));const n=e.path.substring(0,e.path.indexOf(";"));return n&&t.set(YH.META_DATA_MIME,n),t};const aU=Fz("commandService"),lU=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new nB,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(e,t){if(!e)throw new Error("invalid command");if("string"==typeof e){if(!t)throw new Error("invalid command");return this.registerCommand({id:e,handler:t})}if(e.description){const t=[];for(let i of e.description.args)t.push(i.constraint);const n=e.handler;e.handler=function(e,...i){return function(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++)rU(e[i],t[i])}(i,t),n(e,...i)}}const{id:n}=e;let i=this._commands.get(n);i||(i=new ZP,this._commands.set(n,i));let r=i.unshift(e),o=$P((()=>{r();const e=this._commands.get(n);(null==e?void 0:e.isEmpty())&&this._commands.delete(n)}));return this._onDidRegisterCommand.fire(n),o}registerCommandAlias(e,t){return lU.registerCommand(e,((e,...n)=>e.get(aU).executeCommand(t,...n)))}getCommand(e){const t=this._commands.get(e);if(t&&!t.isEmpty())return VP.first(t)}getCommands(){const e=new Map;for(const t of this._commands.keys()){const n=this.getCommand(t);n&&e.set(t,n)}return e}};var cU,uU;lU.registerCommand("noop",(()=>{})),(uU=cU||(cU={}))[uU.API=0]="API",uU[uU.USER=1]="USER";var hU=globalThis&&globalThis.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(nR){o(nR)}}function a(e){try{l(i.throw(e))}catch(nR){o(nR)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const dU=Fz("openerService");function fU(e,t){return ZB.isUri(e)?$W(e.scheme,t):qW(e,t+":")}Object.freeze({_serviceBrand:void 0,registerOpener:()=>KP.None,registerValidator:()=>KP.None,registerExternalUriResolver:()=>KP.None,setDefaultExternalOpener(){},registerExternalOpener:()=>KP.None,open(){return hU(this,void 0,void 0,(function*(){return!1}))},resolveExternalUri(e){return hU(this,void 0,void 0,(function*(){return{resolved:e,dispose(){}}}))}});var pU=globalThis&&globalThis.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},gU=globalThis&&globalThis.__param||function(e,t){return function(n,i){t(n,i,e)}},mU=globalThis&&globalThis.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(nR){o(nR)}}function a(e){try{l(i.throw(e))}catch(nR){o(nR)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};let vU=class{constructor(e){this._commandService=e}open(e,t){return mU(this,void 0,void 0,(function*(){if(!fU(e,kV.command))return!1;if(!(null==t?void 0:t.allowCommands))return!0;"string"==typeof e&&(e=ZB.parse(e));let n=[];try{n=zH(decodeURIComponent(e.query))}catch(i){try{n=zH(e.query)}catch(r){}}return Array.isArray(n)||(n=[n]),yield this._commandService.executeCommand(e.path,...n),!0}))}};vU=pU([gU(0,aU)],vU);let yU=class{constructor(e){this._editorService=e}open(e,t){return mU(this,void 0,void 0,(function*(){let n;"string"==typeof e&&(e=ZB.parse(e));const i=/^L?(\d+)(?:,(\d+))?/.exec(e.fragment);return i&&(n={startLineNumber:parseInt(i[1]),startColumn:i[2]?parseInt(i[2]):1},e=e.with({fragment:""})),e.scheme===kV.file&&(e=qH(e)),yield this._editorService.openCodeEditor({resource:e,options:Object.assign({selection:n,context:(null==t?void 0:t.fromUserGesture)?cU.USER:cU.API},null==t?void 0:t.editorOptions)},this._editorService.getFocusedCodeEditor(),null==t?void 0:t.openToSide),!0}))}};yU=pU([gU(0,Pz)],yU);let bU=class{constructor(e,t){this._openers=new ZP,this._validators=new ZP,this._resolvers=new ZP,this._resolvedUriTargets=new LH((e=>e.with({path:null,fragment:null,query:null}).toString())),this._externalOpeners=new ZP,this._defaultExternalOpener={openExternal:e=>mU(this,void 0,void 0,(function*(){return fU(e,kV.http)||fU(e,kV.https)?SW(e):window.location.href=e,!0}))},this._openers.push({open:(e,t)=>mU(this,void 0,void 0,(function*(){return!!((null==t?void 0:t.openExternal)||fU(e,kV.mailto)||fU(e,kV.http)||fU(e,kV.https))&&(yield this._doOpenExternal(e,t),!0)}))}),this._openers.push(new vU(t)),this._openers.push(new yU(e))}registerOpener(e){return{dispose:this._openers.unshift(e)}}registerValidator(e){return{dispose:this._validators.push(e)}}registerExternalUriResolver(e){return{dispose:this._resolvers.push(e)}}setDefaultExternalOpener(e){this._defaultExternalOpener=e}registerExternalOpener(e){return{dispose:this._externalOpeners.push(e)}}open(e,t){var n;return mU(this,void 0,void 0,(function*(){const i="string"==typeof e?ZB.parse(e):e,r=null!==(n=this._resolvedUriTargets.get(i))&&void 0!==n?n:e;for(const e of this._validators)if(!(yield e.shouldOpen(r)))return!1;for(const n of this._openers){if(yield n.open(e,t))return!0}return!1}))}resolveExternalUri(e,t){return mU(this,void 0,void 0,(function*(){for(const i of this._resolvers)try{const n=yield i.resolveExternalUri(e,t);if(n)return this._resolvedUriTargets.has(n.resolved)||this._resolvedUriTargets.set(n.resolved,e),n}catch(n){}throw new Error("Could not resolve external URI: "+e.toString())}))}_doOpenExternal(e,t){return mU(this,void 0,void 0,(function*(){const n="string"==typeof e?ZB.parse(e):e;let i,r;try{i=(yield this.resolveExternalUri(n,t)).resolved}catch(o){i=n}if(r="string"==typeof e&&n.toString()===i.toString()?e:encodeURI(i.toString(!0)),null==t?void 0:t.allowContributedOpeners){const e="string"==typeof(null==t?void 0:t.allowContributedOpeners)?null==t?void 0:t.allowContributedOpeners:void 0;for(const t of this._externalOpeners){if(yield t.openExternal(r,{sourceUri:n,preferredOpenerId:e},lB.None))return!0}}return this._defaultExternalOpener.openExternal(r,{sourceUri:n},lB.None)}))}dispose(){this._validators.clear()}};function _U(e,t){if(!e)throw new Error(t?`Assertion failed (${t})`:"Assertion Failed")}function wU(e){if(!e||"object"!=typeof e)return e;if(e instanceof RegExp)return e;const t=Array.isArray(e)?[]:{};return Object.keys(e).forEach((n=>{e[n]&&"object"==typeof e[n]?t[n]=wU(e[n]):t[n]=e[n]})),t}bU=pU([gU(0,Pz),gU(1,aU)],bU);const CU=Object.prototype.hasOwnProperty;function xU(e,t,n=!0){return XH(e)?(XH(t)&&Object.keys(t).forEach((i=>{i in e?n&&(XH(e[i])&&XH(t[i])?xU(e[i],t[i],n):e[i]=t[i]):e[i]=t[i]})),e):t}function kU(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(typeof e!=typeof t)return!1;if("object"!=typeof e)return!1;if(Array.isArray(e)!==Array.isArray(t))return!1;let n,i;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(!kU(e[n],t[n]))return!1}else{const r=[];for(i in e)r.push(i);r.sort();const o=[];for(i in t)o.push(i);if(o.sort(),!kU(r,o))return!1;for(n=0;n<r.length;n++)if(!kU(e[r[n]],t[r[n]]))return!1}return!0}function SU(e,t,n){const i=t(e);return void 0===i?n:i}const DU={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class EU extends KP{constructor(e,t={}){super(),this._onDidUpdate=this._register(new nB),this._editor=e,this._options=xU(t,DU,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose((()=>this.dispose()))),this._register(this._editor.onDidUpdateDiff((()=>this._onDiffUpdated()))),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition((e=>{this.ignoreSelectionChange||(this.nextIdx=-1)}))),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel((e=>{this.revealFirst=!0}))),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&null!==this._editor.getLineChanges()&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(e){this.ranges=[],e&&e.forEach((e=>{!this._options.ignoreCharChanges&&e.charChanges?e.charChanges.forEach((e=>{this.ranges.push({rhs:!0,range:new cj(e.modifiedStartLineNumber,e.modifiedStartColumn,e.modifiedEndLineNumber,e.modifiedEndColumn)})})):0===e.modifiedEndLineNumber?this.ranges.push({rhs:!0,range:new cj(e.modifiedStartLineNumber,1,e.modifiedStartLineNumber+1,1)}):this.ranges.push({rhs:!0,range:new cj(e.modifiedStartLineNumber,1,e.modifiedEndLineNumber+1,1)})})),this.ranges.sort(((e,t)=>cj.compareRangesUsingStarts(e.range,t.range))),this._onDidUpdate.fire(this)}_initIdx(e){let t=!1,n=this._editor.getPosition();if(n){for(let i=0,r=this.ranges.length;i<r&&!t;i++){let r=this.ranges[i].range;n.isBeforeOrEqual(r.getStartPosition())&&(this.nextIdx=i+(e?0:-1),t=!0)}t||(this.nextIdx=e?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}else this.nextIdx=0}_move(e,t){if(_U(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;-1===this.nextIdx?this._initIdx(e):e?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));let n=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{let e=n.range.getStartPosition();this._editor.setPosition(e),this._editor.revealRangeInCenter(n.range,t)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(e=0){this._move(!0,e)}previous(e=0){this._move(!1,e)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}const LU=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new nB,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(e){e=Math.min(Math.max(-5,e),20),this._zoomLevel!==e&&(this._zoomLevel=e,this._onDidChangeZoomLevel.fire(this._zoomLevel))}},TU=WR?1.5:1.35;class NU{constructor(e){this._bareFontInfoBrand=void 0,this.zoomLevel=e.zoomLevel,this.pixelRatio=e.pixelRatio,this.fontFamily=String(e.fontFamily),this.fontWeight=String(e.fontWeight),this.fontSize=e.fontSize,this.fontFeatureSettings=e.fontFeatureSettings,this.lineHeight=0|e.lineHeight,this.letterSpacing=e.letterSpacing}static createFromValidatedSettings(e,t,n,i){const r=e.get(42),o=e.get(46),s=e.get(45),a=e.get(44),l=e.get(58),c=e.get(55);return NU._create(r,o,s,a,l,c,t,n,i)}static _create(e,t,n,i,r,o,s,a,l){0===r?r=TU*n:r<8&&(r*=n),(r=Math.round(r))<8&&(r=8);const c=1+(l?0:.1*LU.getZoomLevel());return new NU({zoomLevel:s,pixelRatio:a,fontFamily:e,fontWeight:t,fontSize:n*=c,fontFeatureSettings:i,lineHeight:r*=c,letterSpacing:o})}getId(){return this.zoomLevel+"-"+this.pixelRatio+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.fontFeatureSettings+"-"+this.lineHeight+"-"+this.letterSpacing}getMassagedFontFamily(e){const t=NU._wrapInQuotes(this.fontFamily);return e&&this.fontFamily!==e?`${t}, ${e}`:t}static _wrapInQuotes(e){return/[,"']/.test(e)?e:/[+ ]/.test(e)?`"${e}"`:e}}class MU extends NU{constructor(e,t){super(e),this._editorStylingBrand=void 0,this.version=1,this.isTrusted=t,this.isMonospace=e.isMonospace,this.typicalHalfwidthCharacterWidth=e.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=e.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=e.canUseHalfwidthRightwardsArrow,this.spaceWidth=e.spaceWidth,this.middotWidth=e.middotWidth,this.wsmiddotWidth=e.wsmiddotWidth,this.maxDigitWidth=e.maxDigitWidth}equals(e){return this.fontFamily===e.fontFamily&&this.fontWeight===e.fontWeight&&this.fontSize===e.fontSize&&this.fontFeatureSettings===e.fontFeatureSettings&&this.lineHeight===e.lineHeight&&this.letterSpacing===e.letterSpacing&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===e.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.maxDigitWidth===e.maxDigitWidth}}const AU={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"};var IU,OU,FU,RU;!function(e){e[e.Left=1]="Left",e[e.Center=2]="Center",e[e.Right=4]="Right",e[e.Full=7]="Full"}(IU||(IU={})),function(e){e[e.Inline=1]="Inline",e[e.Gutter=2]="Gutter"}(OU||(OU={}));class PU{constructor(e){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,0|e.tabSize),this.indentSize=0|e.tabSize,this.insertSpaces=Boolean(e.insertSpaces),this.defaultEOL=0|e.defaultEOL,this.trimAutoWhitespace=Boolean(e.trimAutoWhitespace),this.bracketPairColorizationOptions=e.bracketPairColorizationOptions}equals(e){return this.tabSize===e.tabSize&&this.indentSize===e.indentSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace&&kU(this.bracketPairColorizationOptions,e.bracketPairColorizationOptions)}createChangeEvent(e){return{tabSize:this.tabSize!==e.tabSize,indentSize:this.indentSize!==e.indentSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}}}class BU{constructor(e,t){this._findMatchBrand=void 0,this.range=e,this.matches=t}}(RU=FU||(FU={}))[RU.Disabled=0]="Disabled",RU[RU.EnabledForActive=1]="EnabledForActive",RU[RU.Enabled=2]="Enabled";class jU{constructor(e,t,n){this.visibleColumn=e,this.className=t,this.horizontalLine=n}}class zU{constructor(e,t){this.top=e,this.endColumn=t}}class VU{constructor(e,t,n,i,r,o){this.identifier=e,this.range=t,this.text=n,this.forceMoveMarkers=i,this.isAutoWhitespaceEdit=r,this._isTracked=o}}class WU{constructor(e,t,n){this.reverseEdits=e,this.changes=t,this.trimAutoWhitespaceLineNumbers=n}}function HU(e,t){return(t<<5)-t+e|0}function UU(e,t){t=HU(149417,t);for(let n=0,i=e.length;n<i;n++)t=HU(e.charCodeAt(n),t);return t}function $U(e,t,n=32){const i=n-t;return(e<<t|(~((1<<i)-1)&e)>>>i)>>>0}function qU(e,t=0,n=e.byteLength,i=0){for(let r=0;r<n;r++)e[t+r]=i}function KU(e,t=32){return e instanceof ArrayBuffer?Array.from(new Uint8Array(e)).map((e=>e.toString(16).padStart(2,"0"))).join(""):function(e,t,n="0"){for(;e.length<t;)e=n+e;return e}((e>>>0).toString(16),t/4)}class YU{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(e){const t=e.length;if(0===t)return;const n=this._buff;let i,r,o=this._buffLen,s=this._leftoverHighSurrogate;for(0!==s?(i=s,r=-1,s=0):(i=e.charCodeAt(0),r=0);;){let a=i;if(GW(i)){if(!(r+1<t)){s=i;break}{const t=e.charCodeAt(r+1);XW(t)?(r++,a=ZW(i,t)):a=65533}}else XW(i)&&(a=65533);if(o=this._push(n,o,a),r++,!(r<t))break;i=e.charCodeAt(r)}this._buffLen=o,this._leftoverHighSurrogate=s}_push(e,t,n){return n<128?e[t++]=n:n<2048?(e[t++]=192|(1984&n)>>>6,e[t++]=128|(63&n)>>>0):n<65536?(e[t++]=224|(61440&n)>>>12,e[t++]=128|(4032&n)>>>6,e[t++]=128|(63&n)>>>0):(e[t++]=240|(1835008&n)>>>18,e[t++]=128|(258048&n)>>>12,e[t++]=128|(4032&n)>>>6,e[t++]=128|(63&n)>>>0),t>=64&&(this._step(),t-=64,this._totalLen+=64,e[0]=e[64],e[1]=e[65],e[2]=e[66]),t}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),KU(this._h0)+KU(this._h1)+KU(this._h2)+KU(this._h3)+KU(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,qU(this._buff,this._buffLen),this._buffLen>56&&(this._step(),qU(this._buff));const e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){const e=YU._bigBlock32,t=this._buffDV;for(let u=0;u<64;u+=4)e.setUint32(u,t.getUint32(u,!1),!1);for(let u=64;u<320;u+=4)e.setUint32(u,$U(e.getUint32(u-12,!1)^e.getUint32(u-32,!1)^e.getUint32(u-56,!1)^e.getUint32(u-64,!1),1),!1);let n,i,r,o=this._h0,s=this._h1,a=this._h2,l=this._h3,c=this._h4;for(let u=0;u<80;u++)u<20?(n=s&a|~s&l,i=1518500249):u<40?(n=s^a^l,i=1859775393):u<60?(n=s&a|s&l|a&l,i=2400959708):(n=s^a^l,i=3395469782),r=$U(o,5)+n+c+i+e.getUint32(4*u,!1)&4294967295,c=l,l=a,a=$U(s,30),s=o,o=r;this._h0=this._h0+o&4294967295,this._h1=this._h1+s&4294967295,this._h2=this._h2+a&4294967295,this._h3=this._h3+l&4294967295,this._h4=this._h4+c&4294967295}}function GU(e,t,n){return Math.min(Math.max(e,t),n)}YU._bigBlock32=new DataView(new ArrayBuffer(320));const XU=/\//g;function ZU(e){switch(e){case 0:return"";case 1:return"[^/\\\\]*?";default:return"(?:[/\\\\]|[^/\\\\]+[/\\\\]|[/\\\\][^/\\\\]+)*?"}}function JU(e,t){if(!e)return[];const n=[];let i=!1,r=!1,o="";for(const s of e){switch(s){case t:if(!i&&!r){n.push(o),o="";continue}break;case"{":i=!0;break;case"}":i=!1;break;case"[":r=!0;break;case"]":r=!1}o+=s}return o&&n.push(o),n}function QU(e){if(!e)return"";let t="";const n=JU(e,"/");if(n.every((e=>"**"===e)))t=".*";else{let e=!1;n.forEach(((i,r)=>{if("**"===i)return void(e||(t+=ZU(2),e=!0));let o=!1,s="",a=!1,l="";for(const e of i)if("}"!==e&&o)s+=e;else if(!a||"]"===e&&l)switch(e){case"{":o=!0;continue;case"[":a=!0;continue;case"}":const n=`(?:${JU(s,",").map((e=>QU(e))).join("|")})`;t+=n,o=!1,s="";break;case"]":t+="["+l+"]",a=!1,l="";break;case"?":t+="[^/\\\\]";continue;case"*":t+=ZU(1);continue;default:t+=MW(e)}else{let t;t="-"===e?e:"^"!==e&&"!"!==e||l?"/"===e?"":MW(e):"^",l+=t}r<n.length-1&&("**"!==n[r+1]||r+2<n.length)&&(t+="[/\\\\]"),e=!1}))}return t}const e$=/^\*\*\/\*\.[\w\.-]+$/,t$=/^\*\*\/([\w\.-]+)\/?$/,n$=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,i$=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,r$=/^\*\*((\/[\w\.-]+)+)\/?$/,o$=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,s$=new NH(1e4),a$=function(){return!1},l$=function(){return null};function c$(e,t){if(!e)return l$;let n;n="string"!=typeof e?e.pattern:e,n=n.trim();const i=`${n}_${!!t.trimForExclusions}`;let r,o=s$.get(i);if(o)return u$(o,e);if(e$.test(n)){const e=n.substr(4);o=function(t,i){return"string"==typeof t&&t.endsWith(e)?n:null}}else o=(r=t$.exec(h$(n,t)))?function(e,t){const n=`/${e}`,i=`\\${e}`,r=function(r,o){return"string"!=typeof r?null:o?o===e?t:null:r===e||r.endsWith(n)||r.endsWith(i)?t:null},o=[e];return r.basenames=o,r.patterns=[t],r.allBasenames=o,r}(r[1],n):(t.trimForExclusions?i$:n$).test(n)?function(e,t){const n=p$(e.slice(1,-1).split(",").map((e=>c$(e,t))).filter((e=>e!==l$)),e),i=n.length;if(!i)return l$;if(1===i)return n[0];const r=function(t,i){for(let r=0,o=n.length;r<o;r++)if(n[r](t,i))return e;return null},o=n.find((e=>!!e.allBasenames));o&&(r.allBasenames=o.allBasenames);const s=n.reduce(((e,t)=>t.allPaths?e.concat(t.allPaths):e),[]);s.length&&(r.allPaths=s);return r}(n,t):(r=r$.exec(h$(n,t)))?d$(r[1].substr(1),n,!0):(r=o$.exec(h$(n,t)))?d$(r[1],n,!1):function(e){try{const t=new RegExp(`^${QU(e)}$`);return function(n){return t.lastIndex=0,"string"==typeof n&&t.test(n)?e:null}}catch(t){return l$}}(n);return s$.set(i,o),u$(o,e)}function u$(e,t){return"string"==typeof t?e:function(n,i){return function(e,t,n,i=UB){if(e===t)return!0;if(!e||!t)return!1;if(t.length>e.length)return!1;if(n){if(!qW(e,t))return!1;if(t.length===e.length)return!0;let n=t.length;return t.charAt(t.length-1)===i&&n--,e.charAt(n)===i}return t.charAt(t.length-1)!==i&&(t+=i),0===e.indexOf(t)}(n,t.base)?e(zB(t.base,n),i):null}}function h$(e,t){return t.trimForExclusions&&e.endsWith("/**")?e.substr(0,e.length-2):e}function d$(e,t,n){const i=UB===PB.sep,r=i?e:e.replace(XU,UB),o=UB+r,s=PB.sep+e,a=n?function(n,a){return"string"!=typeof n||n!==r&&!n.endsWith(o)&&(i||n!==e&&!n.endsWith(s))?null:t}:function(n,o){return"string"!=typeof n||n!==r&&(i||n!==e)?null:t};return a.allPaths=[(n?"*/":"./")+e],a}function f$(e,t={}){if(!e)return a$;if("string"==typeof e||function(e){const t=e;return t&&"string"==typeof t.base&&"string"==typeof t.pattern}(e)){const n=c$(e,t);if(n===l$)return a$;const i=function(e,t){return!!n(e,t)};return n.allBasenames&&(i.allBasenames=n.allBasenames),n.allPaths&&(i.allPaths=n.allPaths),i}return function(e,t){const n=p$(Object.getOwnPropertyNames(e).map((n=>function(e,t,n){if(!1===t)return l$;const i=c$(e,n);if(i===l$)return l$;if("boolean"==typeof t)return i;if(t){const n=t.when;if("string"==typeof n){const t=(t,r,o,s)=>{if(!s||!i(t,r))return null;const a=s(n.replace("$(basename)",o));return(l=a)&&"function"==typeof l.then?a.then((t=>t?e:null)):a?e:null;var l};return t.requiresSiblings=!0,t}}return i}(n,e[n],t))).filter((e=>e!==l$))),i=n.length;if(!i)return l$;if(!n.some((e=>!!e.requiresSiblings))){if(1===i)return n[0];const e=function(e,t){for(let i=0,r=n.length;i<r;i++){const r=n[i](e,t);if(r)return r}return null},t=n.find((e=>!!e.allBasenames));t&&(e.allBasenames=t.allBasenames);const r=n.reduce(((e,t)=>t.allPaths?e.concat(t.allPaths):e),[]);return r.length&&(e.allPaths=r),e}const r=function(e,t,i){let r;for(let o=0,s=n.length;o<s;o++){const s=n[o];s.requiresSiblings&&i&&(t||(t=WB(e)),r||(r=t.substr(0,t.length-HB(e).length)));const a=s(e,t,r,i);if(a)return a}return null},o=n.find((e=>!!e.allBasenames));o&&(r.allBasenames=o.allBasenames);const s=n.reduce(((e,t)=>t.allPaths?e.concat(t.allPaths):e),[]);s.length&&(r.allPaths=s);return r}(e,t)}function p$(e,t){const n=e.filter((e=>!!e.basenames));if(n.length<2)return e;const i=n.reduce(((e,t)=>{const n=t.basenames;return n?e.concat(n):e}),[]);let r;if(t){r=[];for(let e=0,n=i.length;e<n;e++)r.push(t)}else r=n.reduce(((e,t)=>{const n=t.patterns;return n?e.concat(n):e}),[]);const o=function(e,t){if("string"!=typeof e)return null;if(!t){let n;for(n=e.length;n>0;n--){const t=e.charCodeAt(n-1);if(47===t||92===t)break}t=e.substr(n)}const n=i.indexOf(t);return-1!==n?r[n]:null};o.basenames=i,o.patterns=r,o.allBasenames=i;const s=e.filter((e=>!e.basenames));return s.push(o),s}function g$(e,t,n,i){if(Array.isArray(e)){let r=0;for(const o of e){const e=g$(o,t,n,i);if(10===e)return e;e>r&&(r=e)}return r}if("string"==typeof e)return i?"*"===e?5:e===n?10:0:0;if(e){const{language:a,pattern:l,scheme:c,hasAccessToAllModels:u}=e;if(!i&&!u)return 0;let h=0;if(c)if(c===t.scheme)h=10;else{if("*"!==c)return 0;h=5}if(a)if(a===n)h=10;else{if("*"!==a)return 0;h=Math.max(h,5)}if(l){let e;if(e="string"==typeof l?l:Object.assign(Object.assign({},l),{base:BB(l.base)}),e!==t.fsPath&&(r=e,o=t.fsPath,!r||"string"!=typeof o||!f$(r)(o,void 0,s)))return 0;h=10}return h}return 0;var r,o,s}const m$=Fz("modelService");function v$(e){return!e.isTooLargeForSyncing()&&!e.isForSimpleWidget}function y$(e){return"string"!=typeof e&&(Array.isArray(e)?e.every(y$):!!e.exclusive)}class b${constructor(){this._clock=0,this._entries=[],this._onDidChange=new nB}get onDidChange(){return this._onDidChange.event}register(e,t){let n={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(n),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),$P((()=>{if(n){let e=this._entries.indexOf(n);e>=0&&(this._entries.splice(e,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),n=void 0)}}))}has(e){return this.all(e).length>0}all(e){if(!e)return[];this._updateScores(e);const t=[];for(let n of this._entries)n._score>0&&t.push(n.provider);return t}ordered(e){const t=[];return this._orderedForEach(e,(e=>t.push(e.provider))),t}orderedGroups(e){const t=[];let n,i;return this._orderedForEach(e,(e=>{n&&i===e._score?n.push(e.provider):(i=e._score,n=[e.provider],t.push(n))})),t}_orderedForEach(e,t){if(e){this._updateScores(e);for(const e of this._entries)e._score>0&&t(e)}}_updateScores(e){let t={uri:e.uri.toString(),language:e.getLanguageId()};if(!this._lastCandidate||this._lastCandidate.language!==t.language||this._lastCandidate.uri!==t.uri){this._lastCandidate=t;for(let t of this._entries)if(t._score=g$(t.selector,e.uri,e.getLanguageId(),v$(e)),y$(t.selector)&&t._score>0){for(let e of this._entries)e._score=0;t._score=1e3;break}this._entries.sort(b$._compareByScoreAndTime)}}static _compareByScoreAndTime(e,t){return e._score<t._score?1:e._score>t._score?-1:e._time<t._time?1:e._time>t._time?-1:0}}const _$=new class{constructor(){this._icons=new Map,this._onDidRegister=new nB}add(e){const t=this._icons.get(e.id);t?e.description?t.description=e.description:console.error(`Duplicate registration of codicon ${e.id}`):(this._icons.set(e.id,e),this._onDidRegister.fire(e))}get(e){return this._icons.get(e)}get all(){return this._icons.values()}get onDidRegister(){return this._onDidRegister.event}},w$=_$;function C$(e,t){return new x$(e,t)}class x${constructor(e,t,n){this.id=e,this.definition=t,this.description=n,_$.add(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}}var k$,S$,D$,E$,L$,T$,N$;!function(e){e.iconNameSegment="[A-Za-z0-9]+",e.iconNameExpression="[A-Za-z0-9\\-]+",e.iconModifierExpression="~[A-Za-z]+";const t=new RegExp(`^(${e.iconNameExpression})(${e.iconModifierExpression})?$`);function n(e){if(e instanceof x$)return["codicon","codicon-"+e.id];const i=t.exec(e.id);if(!i)return n(x$.error);let[,r,o]=i;const s=["codicon","codicon-"+r];return o&&s.push("codicon-modifier-"+o.substr(1)),s}e.asClassNameArray=n,e.asClassName=function(e){return n(e).join(" ")},e.asCSSSelector=function(e){return"."+n(e).join(".")}}(k$||(k$={})),(S$=x$||(x$={})).add=new S$("add",{fontCharacter:"\\ea60"}),S$.plus=new S$("plus",S$.add.definition),S$.gistNew=new S$("gist-new",S$.add.definition),S$.repoCreate=new S$("repo-create",S$.add.definition),S$.lightbulb=new S$("lightbulb",{fontCharacter:"\\ea61"}),S$.lightBulb=new S$("light-bulb",{fontCharacter:"\\ea61"}),S$.repo=new S$("repo",{fontCharacter:"\\ea62"}),S$.repoDelete=new S$("repo-delete",{fontCharacter:"\\ea62"}),S$.gistFork=new S$("gist-fork",{fontCharacter:"\\ea63"}),S$.repoForked=new S$("repo-forked",{fontCharacter:"\\ea63"}),S$.gitPullRequest=new S$("git-pull-request",{fontCharacter:"\\ea64"}),S$.gitPullRequestAbandoned=new S$("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),S$.recordKeys=new S$("record-keys",{fontCharacter:"\\ea65"}),S$.keyboard=new S$("keyboard",{fontCharacter:"\\ea65"}),S$.tag=new S$("tag",{fontCharacter:"\\ea66"}),S$.tagAdd=new S$("tag-add",{fontCharacter:"\\ea66"}),S$.tagRemove=new S$("tag-remove",{fontCharacter:"\\ea66"}),S$.person=new S$("person",{fontCharacter:"\\ea67"}),S$.personFollow=new S$("person-follow",{fontCharacter:"\\ea67"}),S$.personOutline=new S$("person-outline",{fontCharacter:"\\ea67"}),S$.personFilled=new S$("person-filled",{fontCharacter:"\\ea67"}),S$.gitBranch=new S$("git-branch",{fontCharacter:"\\ea68"}),S$.gitBranchCreate=new S$("git-branch-create",{fontCharacter:"\\ea68"}),S$.gitBranchDelete=new S$("git-branch-delete",{fontCharacter:"\\ea68"}),S$.sourceControl=new S$("source-control",{fontCharacter:"\\ea68"}),S$.mirror=new S$("mirror",{fontCharacter:"\\ea69"}),S$.mirrorPublic=new S$("mirror-public",{fontCharacter:"\\ea69"}),S$.star=new S$("star",{fontCharacter:"\\ea6a"}),S$.starAdd=new S$("star-add",{fontCharacter:"\\ea6a"}),S$.starDelete=new S$("star-delete",{fontCharacter:"\\ea6a"}),S$.starEmpty=new S$("star-empty",{fontCharacter:"\\ea6a"}),S$.comment=new S$("comment",{fontCharacter:"\\ea6b"}),S$.commentAdd=new S$("comment-add",{fontCharacter:"\\ea6b"}),S$.alert=new S$("alert",{fontCharacter:"\\ea6c"}),S$.warning=new S$("warning",{fontCharacter:"\\ea6c"}),S$.search=new S$("search",{fontCharacter:"\\ea6d"}),S$.searchSave=new S$("search-save",{fontCharacter:"\\ea6d"}),S$.logOut=new S$("log-out",{fontCharacter:"\\ea6e"}),S$.signOut=new S$("sign-out",{fontCharacter:"\\ea6e"}),S$.logIn=new S$("log-in",{fontCharacter:"\\ea6f"}),S$.signIn=new S$("sign-in",{fontCharacter:"\\ea6f"}),S$.eye=new S$("eye",{fontCharacter:"\\ea70"}),S$.eyeUnwatch=new S$("eye-unwatch",{fontCharacter:"\\ea70"}),S$.eyeWatch=new S$("eye-watch",{fontCharacter:"\\ea70"}),S$.circleFilled=new S$("circle-filled",{fontCharacter:"\\ea71"}),S$.primitiveDot=new S$("primitive-dot",{fontCharacter:"\\ea71"}),S$.closeDirty=new S$("close-dirty",{fontCharacter:"\\ea71"}),S$.debugBreakpoint=new S$("debug-breakpoint",{fontCharacter:"\\ea71"}),S$.debugBreakpointDisabled=new S$("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),S$.debugHint=new S$("debug-hint",{fontCharacter:"\\ea71"}),S$.primitiveSquare=new S$("primitive-square",{fontCharacter:"\\ea72"}),S$.edit=new S$("edit",{fontCharacter:"\\ea73"}),S$.pencil=new S$("pencil",{fontCharacter:"\\ea73"}),S$.info=new S$("info",{fontCharacter:"\\ea74"}),S$.issueOpened=new S$("issue-opened",{fontCharacter:"\\ea74"}),S$.gistPrivate=new S$("gist-private",{fontCharacter:"\\ea75"}),S$.gitForkPrivate=new S$("git-fork-private",{fontCharacter:"\\ea75"}),S$.lock=new S$("lock",{fontCharacter:"\\ea75"}),S$.mirrorPrivate=new S$("mirror-private",{fontCharacter:"\\ea75"}),S$.close=new S$("close",{fontCharacter:"\\ea76"}),S$.removeClose=new S$("remove-close",{fontCharacter:"\\ea76"}),S$.x=new S$("x",{fontCharacter:"\\ea76"}),S$.repoSync=new S$("repo-sync",{fontCharacter:"\\ea77"}),S$.sync=new S$("sync",{fontCharacter:"\\ea77"}),S$.clone=new S$("clone",{fontCharacter:"\\ea78"}),S$.desktopDownload=new S$("desktop-download",{fontCharacter:"\\ea78"}),S$.beaker=new S$("beaker",{fontCharacter:"\\ea79"}),S$.microscope=new S$("microscope",{fontCharacter:"\\ea79"}),S$.vm=new S$("vm",{fontCharacter:"\\ea7a"}),S$.deviceDesktop=new S$("device-desktop",{fontCharacter:"\\ea7a"}),S$.file=new S$("file",{fontCharacter:"\\ea7b"}),S$.fileText=new S$("file-text",{fontCharacter:"\\ea7b"}),S$.more=new S$("more",{fontCharacter:"\\ea7c"}),S$.ellipsis=new S$("ellipsis",{fontCharacter:"\\ea7c"}),S$.kebabHorizontal=new S$("kebab-horizontal",{fontCharacter:"\\ea7c"}),S$.mailReply=new S$("mail-reply",{fontCharacter:"\\ea7d"}),S$.reply=new S$("reply",{fontCharacter:"\\ea7d"}),S$.organization=new S$("organization",{fontCharacter:"\\ea7e"}),S$.organizationFilled=new S$("organization-filled",{fontCharacter:"\\ea7e"}),S$.organizationOutline=new S$("organization-outline",{fontCharacter:"\\ea7e"}),S$.newFile=new S$("new-file",{fontCharacter:"\\ea7f"}),S$.fileAdd=new S$("file-add",{fontCharacter:"\\ea7f"}),S$.newFolder=new S$("new-folder",{fontCharacter:"\\ea80"}),S$.fileDirectoryCreate=new S$("file-directory-create",{fontCharacter:"\\ea80"}),S$.trash=new S$("trash",{fontCharacter:"\\ea81"}),S$.trashcan=new S$("trashcan",{fontCharacter:"\\ea81"}),S$.history=new S$("history",{fontCharacter:"\\ea82"}),S$.clock=new S$("clock",{fontCharacter:"\\ea82"}),S$.folder=new S$("folder",{fontCharacter:"\\ea83"}),S$.fileDirectory=new S$("file-directory",{fontCharacter:"\\ea83"}),S$.symbolFolder=new S$("symbol-folder",{fontCharacter:"\\ea83"}),S$.logoGithub=new S$("logo-github",{fontCharacter:"\\ea84"}),S$.markGithub=new S$("mark-github",{fontCharacter:"\\ea84"}),S$.github=new S$("github",{fontCharacter:"\\ea84"}),S$.terminal=new S$("terminal",{fontCharacter:"\\ea85"}),S$.console=new S$("console",{fontCharacter:"\\ea85"}),S$.repl=new S$("repl",{fontCharacter:"\\ea85"}),S$.zap=new S$("zap",{fontCharacter:"\\ea86"}),S$.symbolEvent=new S$("symbol-event",{fontCharacter:"\\ea86"}),S$.error=new S$("error",{fontCharacter:"\\ea87"}),S$.stop=new S$("stop",{fontCharacter:"\\ea87"}),S$.variable=new S$("variable",{fontCharacter:"\\ea88"}),S$.symbolVariable=new S$("symbol-variable",{fontCharacter:"\\ea88"}),S$.array=new S$("array",{fontCharacter:"\\ea8a"}),S$.symbolArray=new S$("symbol-array",{fontCharacter:"\\ea8a"}),S$.symbolModule=new S$("symbol-module",{fontCharacter:"\\ea8b"}),S$.symbolPackage=new S$("symbol-package",{fontCharacter:"\\ea8b"}),S$.symbolNamespace=new S$("symbol-namespace",{fontCharacter:"\\ea8b"}),S$.symbolObject=new S$("symbol-object",{fontCharacter:"\\ea8b"}),S$.symbolMethod=new S$("symbol-method",{fontCharacter:"\\ea8c"}),S$.symbolFunction=new S$("symbol-function",{fontCharacter:"\\ea8c"}),S$.symbolConstructor=new S$("symbol-constructor",{fontCharacter:"\\ea8c"}),S$.symbolBoolean=new S$("symbol-boolean",{fontCharacter:"\\ea8f"}),S$.symbolNull=new S$("symbol-null",{fontCharacter:"\\ea8f"}),S$.symbolNumeric=new S$("symbol-numeric",{fontCharacter:"\\ea90"}),S$.symbolNumber=new S$("symbol-number",{fontCharacter:"\\ea90"}),S$.symbolStructure=new S$("symbol-structure",{fontCharacter:"\\ea91"}),S$.symbolStruct=new S$("symbol-struct",{fontCharacter:"\\ea91"}),S$.symbolParameter=new S$("symbol-parameter",{fontCharacter:"\\ea92"}),S$.symbolTypeParameter=new S$("symbol-type-parameter",{fontCharacter:"\\ea92"}),S$.symbolKey=new S$("symbol-key",{fontCharacter:"\\ea93"}),S$.symbolText=new S$("symbol-text",{fontCharacter:"\\ea93"}),S$.symbolReference=new S$("symbol-reference",{fontCharacter:"\\ea94"}),S$.goToFile=new S$("go-to-file",{fontCharacter:"\\ea94"}),S$.symbolEnum=new S$("symbol-enum",{fontCharacter:"\\ea95"}),S$.symbolValue=new S$("symbol-value",{fontCharacter:"\\ea95"}),S$.symbolRuler=new S$("symbol-ruler",{fontCharacter:"\\ea96"}),S$.symbolUnit=new S$("symbol-unit",{fontCharacter:"\\ea96"}),S$.activateBreakpoints=new S$("activate-breakpoints",{fontCharacter:"\\ea97"}),S$.archive=new S$("archive",{fontCharacter:"\\ea98"}),S$.arrowBoth=new S$("arrow-both",{fontCharacter:"\\ea99"}),S$.arrowDown=new S$("arrow-down",{fontCharacter:"\\ea9a"}),S$.arrowLeft=new S$("arrow-left",{fontCharacter:"\\ea9b"}),S$.arrowRight=new S$("arrow-right",{fontCharacter:"\\ea9c"}),S$.arrowSmallDown=new S$("arrow-small-down",{fontCharacter:"\\ea9d"}),S$.arrowSmallLeft=new S$("arrow-small-left",{fontCharacter:"\\ea9e"}),S$.arrowSmallRight=new S$("arrow-small-right",{fontCharacter:"\\ea9f"}),S$.arrowSmallUp=new S$("arrow-small-up",{fontCharacter:"\\eaa0"}),S$.arrowUp=new S$("arrow-up",{fontCharacter:"\\eaa1"}),S$.bell=new S$("bell",{fontCharacter:"\\eaa2"}),S$.bold=new S$("bold",{fontCharacter:"\\eaa3"}),S$.book=new S$("book",{fontCharacter:"\\eaa4"}),S$.bookmark=new S$("bookmark",{fontCharacter:"\\eaa5"}),S$.debugBreakpointConditionalUnverified=new S$("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),S$.debugBreakpointConditional=new S$("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),S$.debugBreakpointConditionalDisabled=new S$("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),S$.debugBreakpointDataUnverified=new S$("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),S$.debugBreakpointData=new S$("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),S$.debugBreakpointDataDisabled=new S$("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),S$.debugBreakpointLogUnverified=new S$("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),S$.debugBreakpointLog=new S$("debug-breakpoint-log",{fontCharacter:"\\eaab"}),S$.debugBreakpointLogDisabled=new S$("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),S$.briefcase=new S$("briefcase",{fontCharacter:"\\eaac"}),S$.broadcast=new S$("broadcast",{fontCharacter:"\\eaad"}),S$.browser=new S$("browser",{fontCharacter:"\\eaae"}),S$.bug=new S$("bug",{fontCharacter:"\\eaaf"}),S$.calendar=new S$("calendar",{fontCharacter:"\\eab0"}),S$.caseSensitive=new S$("case-sensitive",{fontCharacter:"\\eab1"}),S$.check=new S$("check",{fontCharacter:"\\eab2"}),S$.checklist=new S$("checklist",{fontCharacter:"\\eab3"}),S$.chevronDown=new S$("chevron-down",{fontCharacter:"\\eab4"}),S$.dropDownButton=new S$("drop-down-button",S$.chevronDown.definition),S$.chevronLeft=new S$("chevron-left",{fontCharacter:"\\eab5"}),S$.chevronRight=new S$("chevron-right",{fontCharacter:"\\eab6"}),S$.chevronUp=new S$("chevron-up",{fontCharacter:"\\eab7"}),S$.chromeClose=new S$("chrome-close",{fontCharacter:"\\eab8"}),S$.chromeMaximize=new S$("chrome-maximize",{fontCharacter:"\\eab9"}),S$.chromeMinimize=new S$("chrome-minimize",{fontCharacter:"\\eaba"}),S$.chromeRestore=new S$("chrome-restore",{fontCharacter:"\\eabb"}),S$.circleOutline=new S$("circle-outline",{fontCharacter:"\\eabc"}),S$.debugBreakpointUnverified=new S$("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),S$.circleSlash=new S$("circle-slash",{fontCharacter:"\\eabd"}),S$.circuitBoard=new S$("circuit-board",{fontCharacter:"\\eabe"}),S$.clearAll=new S$("clear-all",{fontCharacter:"\\eabf"}),S$.clippy=new S$("clippy",{fontCharacter:"\\eac0"}),S$.closeAll=new S$("close-all",{fontCharacter:"\\eac1"}),S$.cloudDownload=new S$("cloud-download",{fontCharacter:"\\eac2"}),S$.cloudUpload=new S$("cloud-upload",{fontCharacter:"\\eac3"}),S$.code=new S$("code",{fontCharacter:"\\eac4"}),S$.collapseAll=new S$("collapse-all",{fontCharacter:"\\eac5"}),S$.colorMode=new S$("color-mode",{fontCharacter:"\\eac6"}),S$.commentDiscussion=new S$("comment-discussion",{fontCharacter:"\\eac7"}),S$.compareChanges=new S$("compare-changes",{fontCharacter:"\\eafd"}),S$.creditCard=new S$("credit-card",{fontCharacter:"\\eac9"}),S$.dash=new S$("dash",{fontCharacter:"\\eacc"}),S$.dashboard=new S$("dashboard",{fontCharacter:"\\eacd"}),S$.database=new S$("database",{fontCharacter:"\\eace"}),S$.debugContinue=new S$("debug-continue",{fontCharacter:"\\eacf"}),S$.debugDisconnect=new S$("debug-disconnect",{fontCharacter:"\\ead0"}),S$.debugPause=new S$("debug-pause",{fontCharacter:"\\ead1"}),S$.debugRestart=new S$("debug-restart",{fontCharacter:"\\ead2"}),S$.debugStart=new S$("debug-start",{fontCharacter:"\\ead3"}),S$.debugStepInto=new S$("debug-step-into",{fontCharacter:"\\ead4"}),S$.debugStepOut=new S$("debug-step-out",{fontCharacter:"\\ead5"}),S$.debugStepOver=new S$("debug-step-over",{fontCharacter:"\\ead6"}),S$.debugStop=new S$("debug-stop",{fontCharacter:"\\ead7"}),S$.debug=new S$("debug",{fontCharacter:"\\ead8"}),S$.deviceCameraVideo=new S$("device-camera-video",{fontCharacter:"\\ead9"}),S$.deviceCamera=new S$("device-camera",{fontCharacter:"\\eada"}),S$.deviceMobile=new S$("device-mobile",{fontCharacter:"\\eadb"}),S$.diffAdded=new S$("diff-added",{fontCharacter:"\\eadc"}),S$.diffIgnored=new S$("diff-ignored",{fontCharacter:"\\eadd"}),S$.diffModified=new S$("diff-modified",{fontCharacter:"\\eade"}),S$.diffRemoved=new S$("diff-removed",{fontCharacter:"\\eadf"}),S$.diffRenamed=new S$("diff-renamed",{fontCharacter:"\\eae0"}),S$.diff=new S$("diff",{fontCharacter:"\\eae1"}),S$.discard=new S$("discard",{fontCharacter:"\\eae2"}),S$.editorLayout=new S$("editor-layout",{fontCharacter:"\\eae3"}),S$.emptyWindow=new S$("empty-window",{fontCharacter:"\\eae4"}),S$.exclude=new S$("exclude",{fontCharacter:"\\eae5"}),S$.extensions=new S$("extensions",{fontCharacter:"\\eae6"}),S$.eyeClosed=new S$("eye-closed",{fontCharacter:"\\eae7"}),S$.fileBinary=new S$("file-binary",{fontCharacter:"\\eae8"}),S$.fileCode=new S$("file-code",{fontCharacter:"\\eae9"}),S$.fileMedia=new S$("file-media",{fontCharacter:"\\eaea"}),S$.filePdf=new S$("file-pdf",{fontCharacter:"\\eaeb"}),S$.fileSubmodule=new S$("file-submodule",{fontCharacter:"\\eaec"}),S$.fileSymlinkDirectory=new S$("file-symlink-directory",{fontCharacter:"\\eaed"}),S$.fileSymlinkFile=new S$("file-symlink-file",{fontCharacter:"\\eaee"}),S$.fileZip=new S$("file-zip",{fontCharacter:"\\eaef"}),S$.files=new S$("files",{fontCharacter:"\\eaf0"}),S$.filter=new S$("filter",{fontCharacter:"\\eaf1"}),S$.flame=new S$("flame",{fontCharacter:"\\eaf2"}),S$.foldDown=new S$("fold-down",{fontCharacter:"\\eaf3"}),S$.foldUp=new S$("fold-up",{fontCharacter:"\\eaf4"}),S$.fold=new S$("fold",{fontCharacter:"\\eaf5"}),S$.folderActive=new S$("folder-active",{fontCharacter:"\\eaf6"}),S$.folderOpened=new S$("folder-opened",{fontCharacter:"\\eaf7"}),S$.gear=new S$("gear",{fontCharacter:"\\eaf8"}),S$.gift=new S$("gift",{fontCharacter:"\\eaf9"}),S$.gistSecret=new S$("gist-secret",{fontCharacter:"\\eafa"}),S$.gist=new S$("gist",{fontCharacter:"\\eafb"}),S$.gitCommit=new S$("git-commit",{fontCharacter:"\\eafc"}),S$.gitCompare=new S$("git-compare",{fontCharacter:"\\eafd"}),S$.gitMerge=new S$("git-merge",{fontCharacter:"\\eafe"}),S$.githubAction=new S$("github-action",{fontCharacter:"\\eaff"}),S$.githubAlt=new S$("github-alt",{fontCharacter:"\\eb00"}),S$.globe=new S$("globe",{fontCharacter:"\\eb01"}),S$.grabber=new S$("grabber",{fontCharacter:"\\eb02"}),S$.graph=new S$("graph",{fontCharacter:"\\eb03"}),S$.gripper=new S$("gripper",{fontCharacter:"\\eb04"}),S$.heart=new S$("heart",{fontCharacter:"\\eb05"}),S$.home=new S$("home",{fontCharacter:"\\eb06"}),S$.horizontalRule=new S$("horizontal-rule",{fontCharacter:"\\eb07"}),S$.hubot=new S$("hubot",{fontCharacter:"\\eb08"}),S$.inbox=new S$("inbox",{fontCharacter:"\\eb09"}),S$.issueClosed=new S$("issue-closed",{fontCharacter:"\\eba4"}),S$.issueReopened=new S$("issue-reopened",{fontCharacter:"\\eb0b"}),S$.issues=new S$("issues",{fontCharacter:"\\eb0c"}),S$.italic=new S$("italic",{fontCharacter:"\\eb0d"}),S$.jersey=new S$("jersey",{fontCharacter:"\\eb0e"}),S$.json=new S$("json",{fontCharacter:"\\eb0f"}),S$.kebabVertical=new S$("kebab-vertical",{fontCharacter:"\\eb10"}),S$.key=new S$("key",{fontCharacter:"\\eb11"}),S$.law=new S$("law",{fontCharacter:"\\eb12"}),S$.lightbulbAutofix=new S$("lightbulb-autofix",{fontCharacter:"\\eb13"}),S$.linkExternal=new S$("link-external",{fontCharacter:"\\eb14"}),S$.link=new S$("link",{fontCharacter:"\\eb15"}),S$.listOrdered=new S$("list-ordered",{fontCharacter:"\\eb16"}),S$.listUnordered=new S$("list-unordered",{fontCharacter:"\\eb17"}),S$.liveShare=new S$("live-share",{fontCharacter:"\\eb18"}),S$.loading=new S$("loading",{fontCharacter:"\\eb19"}),S$.location=new S$("location",{fontCharacter:"\\eb1a"}),S$.mailRead=new S$("mail-read",{fontCharacter:"\\eb1b"}),S$.mail=new S$("mail",{fontCharacter:"\\eb1c"}),S$.markdown=new S$("markdown",{fontCharacter:"\\eb1d"}),S$.megaphone=new S$("megaphone",{fontCharacter:"\\eb1e"}),S$.mention=new S$("mention",{fontCharacter:"\\eb1f"}),S$.milestone=new S$("milestone",{fontCharacter:"\\eb20"}),S$.mortarBoard=new S$("mortar-board",{fontCharacter:"\\eb21"}),S$.move=new S$("move",{fontCharacter:"\\eb22"}),S$.multipleWindows=new S$("multiple-windows",{fontCharacter:"\\eb23"}),S$.mute=new S$("mute",{fontCharacter:"\\eb24"}),S$.noNewline=new S$("no-newline",{fontCharacter:"\\eb25"}),S$.note=new S$("note",{fontCharacter:"\\eb26"}),S$.octoface=new S$("octoface",{fontCharacter:"\\eb27"}),S$.openPreview=new S$("open-preview",{fontCharacter:"\\eb28"}),S$.package_=new S$("package",{fontCharacter:"\\eb29"}),S$.paintcan=new S$("paintcan",{fontCharacter:"\\eb2a"}),S$.pin=new S$("pin",{fontCharacter:"\\eb2b"}),S$.play=new S$("play",{fontCharacter:"\\eb2c"}),S$.run=new S$("run",{fontCharacter:"\\eb2c"}),S$.plug=new S$("plug",{fontCharacter:"\\eb2d"}),S$.preserveCase=new S$("preserve-case",{fontCharacter:"\\eb2e"}),S$.preview=new S$("preview",{fontCharacter:"\\eb2f"}),S$.project=new S$("project",{fontCharacter:"\\eb30"}),S$.pulse=new S$("pulse",{fontCharacter:"\\eb31"}),S$.question=new S$("question",{fontCharacter:"\\eb32"}),S$.quote=new S$("quote",{fontCharacter:"\\eb33"}),S$.radioTower=new S$("radio-tower",{fontCharacter:"\\eb34"}),S$.reactions=new S$("reactions",{fontCharacter:"\\eb35"}),S$.references=new S$("references",{fontCharacter:"\\eb36"}),S$.refresh=new S$("refresh",{fontCharacter:"\\eb37"}),S$.regex=new S$("regex",{fontCharacter:"\\eb38"}),S$.remoteExplorer=new S$("remote-explorer",{fontCharacter:"\\eb39"}),S$.remote=new S$("remote",{fontCharacter:"\\eb3a"}),S$.remove=new S$("remove",{fontCharacter:"\\eb3b"}),S$.replaceAll=new S$("replace-all",{fontCharacter:"\\eb3c"}),S$.replace=new S$("replace",{fontCharacter:"\\eb3d"}),S$.repoClone=new S$("repo-clone",{fontCharacter:"\\eb3e"}),S$.repoForcePush=new S$("repo-force-push",{fontCharacter:"\\eb3f"}),S$.repoPull=new S$("repo-pull",{fontCharacter:"\\eb40"}),S$.repoPush=new S$("repo-push",{fontCharacter:"\\eb41"}),S$.report=new S$("report",{fontCharacter:"\\eb42"}),S$.requestChanges=new S$("request-changes",{fontCharacter:"\\eb43"}),S$.rocket=new S$("rocket",{fontCharacter:"\\eb44"}),S$.rootFolderOpened=new S$("root-folder-opened",{fontCharacter:"\\eb45"}),S$.rootFolder=new S$("root-folder",{fontCharacter:"\\eb46"}),S$.rss=new S$("rss",{fontCharacter:"\\eb47"}),S$.ruby=new S$("ruby",{fontCharacter:"\\eb48"}),S$.saveAll=new S$("save-all",{fontCharacter:"\\eb49"}),S$.saveAs=new S$("save-as",{fontCharacter:"\\eb4a"}),S$.save=new S$("save",{fontCharacter:"\\eb4b"}),S$.screenFull=new S$("screen-full",{fontCharacter:"\\eb4c"}),S$.screenNormal=new S$("screen-normal",{fontCharacter:"\\eb4d"}),S$.searchStop=new S$("search-stop",{fontCharacter:"\\eb4e"}),S$.server=new S$("server",{fontCharacter:"\\eb50"}),S$.settingsGear=new S$("settings-gear",{fontCharacter:"\\eb51"}),S$.settings=new S$("settings",{fontCharacter:"\\eb52"}),S$.shield=new S$("shield",{fontCharacter:"\\eb53"}),S$.smiley=new S$("smiley",{fontCharacter:"\\eb54"}),S$.sortPrecedence=new S$("sort-precedence",{fontCharacter:"\\eb55"}),S$.splitHorizontal=new S$("split-horizontal",{fontCharacter:"\\eb56"}),S$.splitVertical=new S$("split-vertical",{fontCharacter:"\\eb57"}),S$.squirrel=new S$("squirrel",{fontCharacter:"\\eb58"}),S$.starFull=new S$("star-full",{fontCharacter:"\\eb59"}),S$.starHalf=new S$("star-half",{fontCharacter:"\\eb5a"}),S$.symbolClass=new S$("symbol-class",{fontCharacter:"\\eb5b"}),S$.symbolColor=new S$("symbol-color",{fontCharacter:"\\eb5c"}),S$.symbolConstant=new S$("symbol-constant",{fontCharacter:"\\eb5d"}),S$.symbolEnumMember=new S$("symbol-enum-member",{fontCharacter:"\\eb5e"}),S$.symbolField=new S$("symbol-field",{fontCharacter:"\\eb5f"}),S$.symbolFile=new S$("symbol-file",{fontCharacter:"\\eb60"}),S$.symbolInterface=new S$("symbol-interface",{fontCharacter:"\\eb61"}),S$.symbolKeyword=new S$("symbol-keyword",{fontCharacter:"\\eb62"}),S$.symbolMisc=new S$("symbol-misc",{fontCharacter:"\\eb63"}),S$.symbolOperator=new S$("symbol-operator",{fontCharacter:"\\eb64"}),S$.symbolProperty=new S$("symbol-property",{fontCharacter:"\\eb65"}),S$.wrench=new S$("wrench",{fontCharacter:"\\eb65"}),S$.wrenchSubaction=new S$("wrench-subaction",{fontCharacter:"\\eb65"}),S$.symbolSnippet=new S$("symbol-snippet",{fontCharacter:"\\eb66"}),S$.tasklist=new S$("tasklist",{fontCharacter:"\\eb67"}),S$.telescope=new S$("telescope",{fontCharacter:"\\eb68"}),S$.textSize=new S$("text-size",{fontCharacter:"\\eb69"}),S$.threeBars=new S$("three-bars",{fontCharacter:"\\eb6a"}),S$.thumbsdown=new S$("thumbsdown",{fontCharacter:"\\eb6b"}),S$.thumbsup=new S$("thumbsup",{fontCharacter:"\\eb6c"}),S$.tools=new S$("tools",{fontCharacter:"\\eb6d"}),S$.triangleDown=new S$("triangle-down",{fontCharacter:"\\eb6e"}),S$.triangleLeft=new S$("triangle-left",{fontCharacter:"\\eb6f"}),S$.triangleRight=new S$("triangle-right",{fontCharacter:"\\eb70"}),S$.triangleUp=new S$("triangle-up",{fontCharacter:"\\eb71"}),S$.twitter=new S$("twitter",{fontCharacter:"\\eb72"}),S$.unfold=new S$("unfold",{fontCharacter:"\\eb73"}),S$.unlock=new S$("unlock",{fontCharacter:"\\eb74"}),S$.unmute=new S$("unmute",{fontCharacter:"\\eb75"}),S$.unverified=new S$("unverified",{fontCharacter:"\\eb76"}),S$.verified=new S$("verified",{fontCharacter:"\\eb77"}),S$.versions=new S$("versions",{fontCharacter:"\\eb78"}),S$.vmActive=new S$("vm-active",{fontCharacter:"\\eb79"}),S$.vmOutline=new S$("vm-outline",{fontCharacter:"\\eb7a"}),S$.vmRunning=new S$("vm-running",{fontCharacter:"\\eb7b"}),S$.watch=new S$("watch",{fontCharacter:"\\eb7c"}),S$.whitespace=new S$("whitespace",{fontCharacter:"\\eb7d"}),S$.wholeWord=new S$("whole-word",{fontCharacter:"\\eb7e"}),S$.window=new S$("window",{fontCharacter:"\\eb7f"}),S$.wordWrap=new S$("word-wrap",{fontCharacter:"\\eb80"}),S$.zoomIn=new S$("zoom-in",{fontCharacter:"\\eb81"}),S$.zoomOut=new S$("zoom-out",{fontCharacter:"\\eb82"}),S$.listFilter=new S$("list-filter",{fontCharacter:"\\eb83"}),S$.listFlat=new S$("list-flat",{fontCharacter:"\\eb84"}),S$.listSelection=new S$("list-selection",{fontCharacter:"\\eb85"}),S$.selection=new S$("selection",{fontCharacter:"\\eb85"}),S$.listTree=new S$("list-tree",{fontCharacter:"\\eb86"}),S$.debugBreakpointFunctionUnverified=new S$("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),S$.debugBreakpointFunction=new S$("debug-breakpoint-function",{fontCharacter:"\\eb88"}),S$.debugBreakpointFunctionDisabled=new S$("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),S$.debugStackframeActive=new S$("debug-stackframe-active",{fontCharacter:"\\eb89"}),S$.debugStackframeDot=new S$("debug-stackframe-dot",{fontCharacter:"\\eb8a"}),S$.debugStackframe=new S$("debug-stackframe",{fontCharacter:"\\eb8b"}),S$.debugStackframeFocused=new S$("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),S$.debugBreakpointUnsupported=new S$("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),S$.symbolString=new S$("symbol-string",{fontCharacter:"\\eb8d"}),S$.debugReverseContinue=new S$("debug-reverse-continue",{fontCharacter:"\\eb8e"}),S$.debugStepBack=new S$("debug-step-back",{fontCharacter:"\\eb8f"}),S$.debugRestartFrame=new S$("debug-restart-frame",{fontCharacter:"\\eb90"}),S$.callIncoming=new S$("call-incoming",{fontCharacter:"\\eb92"}),S$.callOutgoing=new S$("call-outgoing",{fontCharacter:"\\eb93"}),S$.menu=new S$("menu",{fontCharacter:"\\eb94"}),S$.expandAll=new S$("expand-all",{fontCharacter:"\\eb95"}),S$.feedback=new S$("feedback",{fontCharacter:"\\eb96"}),S$.groupByRefType=new S$("group-by-ref-type",{fontCharacter:"\\eb97"}),S$.ungroupByRefType=new S$("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),S$.account=new S$("account",{fontCharacter:"\\eb99"}),S$.bellDot=new S$("bell-dot",{fontCharacter:"\\eb9a"}),S$.debugConsole=new S$("debug-console",{fontCharacter:"\\eb9b"}),S$.library=new S$("library",{fontCharacter:"\\eb9c"}),S$.output=new S$("output",{fontCharacter:"\\eb9d"}),S$.runAll=new S$("run-all",{fontCharacter:"\\eb9e"}),S$.syncIgnored=new S$("sync-ignored",{fontCharacter:"\\eb9f"}),S$.pinned=new S$("pinned",{fontCharacter:"\\eba0"}),S$.githubInverted=new S$("github-inverted",{fontCharacter:"\\eba1"}),S$.debugAlt=new S$("debug-alt",{fontCharacter:"\\eb91"}),S$.serverProcess=new S$("server-process",{fontCharacter:"\\eba2"}),S$.serverEnvironment=new S$("server-environment",{fontCharacter:"\\eba3"}),S$.pass=new S$("pass",{fontCharacter:"\\eba4"}),S$.stopCircle=new S$("stop-circle",{fontCharacter:"\\eba5"}),S$.playCircle=new S$("play-circle",{fontCharacter:"\\eba6"}),S$.record=new S$("record",{fontCharacter:"\\eba7"}),S$.debugAltSmall=new S$("debug-alt-small",{fontCharacter:"\\eba8"}),S$.vmConnect=new S$("vm-connect",{fontCharacter:"\\eba9"}),S$.cloud=new S$("cloud",{fontCharacter:"\\ebaa"}),S$.merge=new S$("merge",{fontCharacter:"\\ebab"}),S$.exportIcon=new S$("export",{fontCharacter:"\\ebac"}),S$.graphLeft=new S$("graph-left",{fontCharacter:"\\ebad"}),S$.magnet=new S$("magnet",{fontCharacter:"\\ebae"}),S$.notebook=new S$("notebook",{fontCharacter:"\\ebaf"}),S$.redo=new S$("redo",{fontCharacter:"\\ebb0"}),S$.checkAll=new S$("check-all",{fontCharacter:"\\ebb1"}),S$.pinnedDirty=new S$("pinned-dirty",{fontCharacter:"\\ebb2"}),S$.passFilled=new S$("pass-filled",{fontCharacter:"\\ebb3"}),S$.circleLargeFilled=new S$("circle-large-filled",{fontCharacter:"\\ebb4"}),S$.circleLargeOutline=new S$("circle-large-outline",{fontCharacter:"\\ebb5"}),S$.combine=new S$("combine",{fontCharacter:"\\ebb6"}),S$.gather=new S$("gather",{fontCharacter:"\\ebb6"}),S$.table=new S$("table",{fontCharacter:"\\ebb7"}),S$.variableGroup=new S$("variable-group",{fontCharacter:"\\ebb8"}),S$.typeHierarchy=new S$("type-hierarchy",{fontCharacter:"\\ebb9"}),S$.typeHierarchySub=new S$("type-hierarchy-sub",{fontCharacter:"\\ebba"}),S$.typeHierarchySuper=new S$("type-hierarchy-super",{fontCharacter:"\\ebbb"}),S$.gitPullRequestCreate=new S$("git-pull-request-create",{fontCharacter:"\\ebbc"}),S$.runAbove=new S$("run-above",{fontCharacter:"\\ebbd"}),S$.runBelow=new S$("run-below",{fontCharacter:"\\ebbe"}),S$.notebookTemplate=new S$("notebook-template",{fontCharacter:"\\ebbf"}),S$.debugRerun=new S$("debug-rerun",{fontCharacter:"\\ebc0"}),S$.workspaceTrusted=new S$("workspace-trusted",{fontCharacter:"\\ebc1"}),S$.workspaceUntrusted=new S$("workspace-untrusted",{fontCharacter:"\\ebc2"}),S$.workspaceUnspecified=new S$("workspace-unspecified",{fontCharacter:"\\ebc3"}),S$.terminalCmd=new S$("terminal-cmd",{fontCharacter:"\\ebc4"}),S$.terminalDebian=new S$("terminal-debian",{fontCharacter:"\\ebc5"}),S$.terminalLinux=new S$("terminal-linux",{fontCharacter:"\\ebc6"}),S$.terminalPowershell=new S$("terminal-powershell",{fontCharacter:"\\ebc7"}),S$.terminalTmux=new S$("terminal-tmux",{fontCharacter:"\\ebc8"}),S$.terminalUbuntu=new S$("terminal-ubuntu",{fontCharacter:"\\ebc9"}),S$.terminalBash=new S$("terminal-bash",{fontCharacter:"\\ebca"}),S$.arrowSwap=new S$("arrow-swap",{fontCharacter:"\\ebcb"}),S$.copy=new S$("copy",{fontCharacter:"\\ebcc"}),S$.personAdd=new S$("person-add",{fontCharacter:"\\ebcd"}),S$.filterFilled=new S$("filter-filled",{fontCharacter:"\\ebce"}),S$.wand=new S$("wand",{fontCharacter:"\\ebcf"}),S$.debugLineByLine=new S$("debug-line-by-line",{fontCharacter:"\\ebd0"}),S$.inspect=new S$("inspect",{fontCharacter:"\\ebd1"}),S$.layers=new S$("layers",{fontCharacter:"\\ebd2"}),S$.layersDot=new S$("layers-dot",{fontCharacter:"\\ebd3"}),S$.layersActive=new S$("layers-active",{fontCharacter:"\\ebd4"}),S$.compass=new S$("compass",{fontCharacter:"\\ebd5"}),S$.compassDot=new S$("compass-dot",{fontCharacter:"\\ebd6"}),S$.compassActive=new S$("compass-active",{fontCharacter:"\\ebd7"}),S$.azure=new S$("azure",{fontCharacter:"\\ebd8"}),S$.issueDraft=new S$("issue-draft",{fontCharacter:"\\ebd9"}),S$.gitPullRequestClosed=new S$("git-pull-request-closed",{fontCharacter:"\\ebda"}),S$.gitPullRequestDraft=new S$("git-pull-request-draft",{fontCharacter:"\\ebdb"}),S$.debugAll=new S$("debug-all",{fontCharacter:"\\ebdc"}),S$.debugCoverage=new S$("debug-coverage",{fontCharacter:"\\ebdd"}),S$.runErrors=new S$("run-errors",{fontCharacter:"\\ebde"}),S$.folderLibrary=new S$("folder-library",{fontCharacter:"\\ebdf"}),S$.debugContinueSmall=new S$("debug-continue-small",{fontCharacter:"\\ebe0"}),S$.beakerStop=new S$("beaker-stop",{fontCharacter:"\\ebe1"}),S$.graphLine=new S$("graph-line",{fontCharacter:"\\ebe2"}),S$.graphScatter=new S$("graph-scatter",{fontCharacter:"\\ebe3"}),S$.pieChart=new S$("pie-chart",{fontCharacter:"\\ebe4"}),S$.bracket=new S$("bracket",S$.json.definition),S$.bracketDot=new S$("bracket-dot",{fontCharacter:"\\ebe5"}),S$.bracketError=new S$("bracket-error",{fontCharacter:"\\ebe6"}),S$.lockSmall=new S$("lock-small",{fontCharacter:"\\ebe7"}),S$.azureDevops=new S$("azure-devops",{fontCharacter:"\\ebe8"}),S$.verifiedFilled=new S$("verified-filled",{fontCharacter:"\\ebe9"});class M${static getLanguageId(e){return(255&e)>>>0}static getTokenType(e){return(1792&e)>>>8}static getFontStyle(e){return(14336&e)>>>11}static getForeground(e){return(8372224&e)>>>14}static getBackground(e){return(4286578688&e)>>>23}static getClassNameFromMetadata(e){let t="mtk"+this.getForeground(e),n=this.getFontStyle(e);return 1&n&&(t+=" mtki"),2&n&&(t+=" mtkb"),4&n&&(t+=" mtku"),t}static getInlineStyleFromMetadata(e,t){const n=this.getForeground(e),i=this.getFontStyle(e);let r=`color: ${t[n]};`;return 1&i&&(r+="font-style: italic;"),2&i&&(r+="font-weight: bold;"),4&i&&(r+="text-decoration: underline;"),r}}!function(){let e=Object.create(null);e[0]="symbol-method",e[1]="symbol-function",e[2]="symbol-constructor",e[3]="symbol-field",e[4]="symbol-variable",e[5]="symbol-class",e[6]="symbol-struct",e[7]="symbol-interface",e[8]="symbol-module",e[9]="symbol-property",e[10]="symbol-event",e[11]="symbol-operator",e[12]="symbol-unit",e[13]="symbol-value",e[14]="symbol-constant",e[15]="symbol-enum",e[16]="symbol-enum-member",e[17]="symbol-keyword",e[27]="symbol-snippet",e[18]="symbol-text",e[19]="symbol-color",e[20]="symbol-file",e[21]="symbol-reference",e[22]="symbol-customcolor",e[23]="symbol-folder",e[24]="symbol-type-parameter",e[25]="account",e[26]="issues"}(),function(){let e=Object.create(null);e.method=0,e.function=1,e.constructor=2,e.field=3,e.variable=4,e.class=5,e.struct=6,e.interface=7,e.module=8,e.property=9,e.event=10,e.operator=11,e.unit=12,e.value=13,e.constant=14,e.enum=15,e["enum-member"]=16,e.enumMember=16,e.keyword=17,e.snippet=27,e.text=18,e.color=19,e.file=20,e.reference=21,e.customcolor=22,e.folder=23,e["type-parameter"]=24,e.typeParameter=24,e.account=25,e.issue=26}(),function(e){e[e.Automatic=0]="Automatic",e[e.Explicit=1]="Explicit"}(D$||(D$={})),function(e){e[e.Invoke=1]="Invoke",e[e.TriggerCharacter=2]="TriggerCharacter",e[e.ContentChange=3]="ContentChange"}(E$||(E$={})),function(e){e[e.Text=0]="Text",e[e.Read=1]="Read",e[e.Write=2]="Write"}(L$||(L$={})),function(e){const t=new Map;t.set("file",0),t.set("module",1),t.set("namespace",2),t.set("package",3),t.set("class",4),t.set("method",5),t.set("property",6),t.set("field",7),t.set("constructor",8),t.set("enum",9),t.set("interface",10),t.set("function",11),t.set("variable",12),t.set("constant",13),t.set("string",14),t.set("number",15),t.set("boolean",16),t.set("array",17),t.set("object",18),t.set("key",19),t.set("null",20),t.set("enum-member",21),t.set("struct",22),t.set("event",23),t.set("operator",24),t.set("type-parameter",25);const n=new Map;n.set(0,"file"),n.set(1,"module"),n.set(2,"namespace"),n.set(3,"package"),n.set(4,"class"),n.set(5,"method"),n.set(6,"property"),n.set(7,"field"),n.set(8,"constructor"),n.set(9,"enum"),n.set(10,"interface"),n.set(11,"function"),n.set(12,"variable"),n.set(13,"constant"),n.set(14,"string"),n.set(15,"number"),n.set(16,"boolean"),n.set(17,"array"),n.set(18,"object"),n.set(19,"key"),n.set(20,"null"),n.set(21,"enum-member"),n.set(22,"struct"),n.set(23,"event"),n.set(24,"operator"),n.set(25,"type-parameter"),e.fromString=function(e){return t.get(e)},e.toString=function(e){return n.get(e)},e.toCssClassName=function(e,t){const i=n.get(e);let r=i&&w$.get("symbol-"+i);return r||(console.info("No codicon found for SymbolKind "+e),r=x$.symbolProperty),`${t?"inline":"block"} ${r.classNames}`}}(T$||(T$={}));class A${constructor(e){this.value=e}}A$.Comment=new A$("comment"),A$.Imports=new A$("imports"),A$.Region=new A$("region"),function(e){e[e.Other=0]="Other",e[e.Type=1]="Type",e[e.Parameter=2]="Parameter"}(N$||(N$={}));const I$=new b$,O$=new b$,F$=new b$,R$=new b$,P$=new b$,B$=new b$,j$=new b$,z$=new b$,V$=new b$,W$=new b$,H$=new b$,U$=new b$,$$=new b$,q$=new b$,K$=new b$,Y$=new b$,G$=new b$,X$=new b$,Z$=new b$,J$=new b$,Q$=new b$,eq=new b$,tq=new b$,nq=new b$,iq=new b$,rq=new class{constructor(){this._map=new Map,this._promises=new Map,this._onDidChange=new nB,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:!1})}register(e,t){return this._map.set(e,t),this.fire([e]),$P((()=>{this._map.get(e)===t&&(this._map.delete(e),this.fire([e]))}))}registerPromise(e,t){let n=null,i=!1;return this._promises.set(e,t.then((t=>{this._promises.delete(e),!i&&t&&(n=this.register(e,t))}))),$P((()=>{i=!0,n&&n.dispose()}))}getPromise(e){const t=this.get(e);if(t)return Promise.resolve(t);const n=this._promises.get(e);return n?n.then((t=>this.get(e))):null}get(e){return this._map.get(e)||null}setColorMap(e){this._colorMap=e,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}};const oq=new class{clone(){return this}equals(e){return this===e}},sq="vs.editor.nullMode";const aq=Fz("editorWorkerService"),lq=Fz("modeService"),cq=Fz("textModelService");let uq=!1;function hq(e){$R&&(uq||(uq=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(e.message))}class dq{constructor(e,t,n,i){this.vsWorker=e,this.req=t,this.method=n,this.args=i,this.type=0}}class fq{constructor(e,t,n,i){this.vsWorker=e,this.seq=t,this.res=n,this.err=i,this.type=1}}class pq{constructor(e,t,n,i){this.vsWorker=e,this.req=t,this.eventName=n,this.arg=i,this.type=2}}class gq{constructor(e,t,n){this.vsWorker=e,this.req=t,this.event=n,this.type=3}}class mq{constructor(e,t){this.vsWorker=e,this.req=t,this.type=4}}class vq{constructor(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(e){this._workerId=e}sendMessage(e,t){const n=String(++this._lastSentReq);return new Promise(((i,r)=>{this._pendingReplies[n]={resolve:i,reject:r},this._send(new dq(this._workerId,n,e,t))}))}listen(e,t){let n=null;const i=new nB({onFirstListenerAdd:()=>{n=String(++this._lastSentReq),this._pendingEmitters.set(n,i),this._send(new pq(this._workerId,n,e,t))},onLastListenerRemove:()=>{this._pendingEmitters.delete(n),this._send(new mq(this._workerId,n)),n=null}});return i.event}handleMessage(e){e&&e.vsWorker&&(-1!==this._workerId&&e.vsWorker!==this._workerId||this._handleMessage(e))}_handleMessage(e){switch(e.type){case 1:return this._handleReplyMessage(e);case 0:return this._handleRequestMessage(e);case 2:return this._handleSubscribeEventMessage(e);case 3:return this._handleEventMessage(e);case 4:return this._handleUnsubscribeEventMessage(e)}}_handleReplyMessage(e){if(!this._pendingReplies[e.seq])return void console.warn("Got reply to unknown seq");let t=this._pendingReplies[e.seq];if(delete this._pendingReplies[e.seq],e.err){let n=e.err;return e.err.$isError&&(n=new Error,n.name=e.err.name,n.message=e.err.message,n.stack=e.err.stack),void t.reject(n)}t.resolve(e.res)}_handleRequestMessage(e){let t=e.req;this._handler.handleMessage(e.method,e.args).then((e=>{this._send(new fq(this._workerId,t,e,void 0))}),(e=>{e.detail instanceof Error&&(e.detail=FP(e.detail)),this._send(new fq(this._workerId,t,void 0,FP(e)))}))}_handleSubscribeEventMessage(e){const t=e.req,n=this._handler.handleEvent(e.eventName,e.arg)((e=>{this._send(new gq(this._workerId,t,e))}));this._pendingEvents.set(t,n)}_handleEventMessage(e){this._pendingEmitters.has(e.req)?this._pendingEmitters.get(e.req).fire(e.event):console.warn("Got event for unknown req")}_handleUnsubscribeEventMessage(e){this._pendingEvents.has(e.req)?(this._pendingEvents.get(e.req).dispose(),this._pendingEvents.delete(e.req)):console.warn("Got unsubscribe for unknown req")}_send(e){let t=[];if(0===e.type)for(let n=0;n<e.args.length;n++)e.args[n]instanceof ArrayBuffer&&t.push(e.args[n]);else 1===e.type&&e.res instanceof ArrayBuffer&&t.push(e.res);this._handler.sendMessage(e,t)}}class yq extends KP{constructor(e,t,n){super();let i=null;this._worker=this._register(e.create("vs/base/common/worker/simpleWorker",(e=>{this._protocol.handleMessage(e)}),(e=>{i&&i(e)}))),this._protocol=new vq({sendMessage:(e,t)=>{this._worker.postMessage(e,t)},handleMessage:(e,t)=>{if("function"!=typeof n[e])return Promise.reject(new Error("Missing method "+e+" on main thread host."));try{return Promise.resolve(n[e].apply(n,t))}catch(nR){return Promise.reject(nR)}},handleEvent:(e,t)=>{if(_q(e)){const i=n[e].call(n,t);if("function"!=typeof i)throw new Error(`Missing dynamic event ${e} on main thread host.`);return i}if(bq(e)){const t=n[e];if("function"!=typeof t)throw new Error(`Missing event ${e} on main thread host.`);return t}throw new Error(`Malformed event name ${e}`)}}),this._protocol.setWorkerId(this._worker.getId());let r=null;void 0!==BR.require&&"function"==typeof BR.require.getConfig?r=BR.require.getConfig():void 0!==BR.requirejs&&(r=BR.requirejs.s.contexts._.config);const o=oU(n);this._onModuleLoaded=this._protocol.sendMessage("$initialize",[this._worker.getId(),JSON.parse(JSON.stringify(r)),t,o]);const s=(e,t)=>this._request(e,t),a=(e,t)=>this._protocol.listen(e,t);this._lazyProxy=new Promise(((e,n)=>{i=n,this._onModuleLoaded.then((t=>{e(function(e,t,n){const i=e=>function(){const n=Array.prototype.slice.call(arguments,0);return t(e,n)},r=e=>function(t){return n(e,t)};let o={};for(const s of e)_q(s)?o[s]=r(s):bq(s)?o[s]=n(s,void 0):o[s]=i(s);return o}(t,s,a))}),(e=>{n(e),this._onError("Worker failed to load "+t,e)}))}))}getProxyObject(){return this._lazyProxy}_request(e,t){return new Promise(((n,i)=>{this._onModuleLoaded.then((()=>{this._protocol.sendMessage(e,t).then(n,i)}),i)}))}_onError(e,t){console.error(e),console.info(t)}}function bq(e){return"o"===e[0]&&"n"===e[1]&&UW(e.charCodeAt(2))}function _q(e){return/^onDynamic/.test(e)&&UW(e.charCodeAt(9))}var wq;const Cq=null===(wq=window.trustedTypes)||void 0===wq?void 0:wq.createPolicy("defaultWorkerFactory",{createScriptURL:e=>e});class xq{constructor(e,t,n,i,r){this.id=t;const o=function(e,t){if(BR.MonacoEnvironment){if("function"==typeof BR.MonacoEnvironment.getWorker)return BR.MonacoEnvironment.getWorker(e,t);if("function"==typeof BR.MonacoEnvironment.getWorkerUrl){const n=BR.MonacoEnvironment.getWorkerUrl(e,t);return console.log(e,t,BR),new Worker(Cq?Cq.createScriptURL(n):n,{name:t})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}("workerMain.js",n);"function"==typeof o.then?this.worker=o:this.worker=Promise.resolve(o),this.postMessage(e,[]),this.worker.then((e=>{e.onmessage=function(e){i(e.data)},e.onmessageerror=r,"function"==typeof e.addEventListener&&e.addEventListener("error",r)}))}getId(){return this.id}postMessage(e,t){this.worker&&this.worker.then((n=>n.postMessage(e,t)))}dispose(){this.worker&&this.worker.then((e=>e.terminate())),this.worker=null}}class kq{constructor(e){this._label=e,this._webWorkerFailedBeforeError=!1}create(e,t,n){let i=++kq.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new xq(e,i,this._label||"anonymous"+i,t,(e=>{hq(e),this._webWorkerFailedBeforeError=e,n(e)}))}}var Sq;kq.LAST_WORKER_ID=0,function(e){e[e.None=0]="None",e[e.Indent=1]="Indent",e[e.IndentOutdent=2]="IndentOutdent",e[e.Outdent=3]="Outdent"}(Sq||(Sq={}));class Dq{constructor(e){if(this._standardAutoClosingPairConditionalBrand=void 0,this.open=e.open,this.close=e.close,this._standardTokenMask=0,Array.isArray(e.notIn))for(let t=0,n=e.notIn.length;t<n;t++){switch(e.notIn[t]){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4}}}isOK(e){return 0==(this._standardTokenMask&e)}}class Eq{constructor(e){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const t of e)Lq(this.autoClosingPairsOpenByStart,t.open.charAt(0),t),Lq(this.autoClosingPairsOpenByEnd,t.open.charAt(t.open.length-1),t),Lq(this.autoClosingPairsCloseByStart,t.close.charAt(0),t),Lq(this.autoClosingPairsCloseByEnd,t.close.charAt(t.close.length-1),t),1===t.close.length&&1===t.open.length&&Lq(this.autoClosingPairsCloseSingleChar,t.close,t)}}function Lq(e,t,n){e.has(t)?e.get(t).push(n):e.set(t,[n])}function Tq(e,t){let n=e.getCount(),i=e.findTokenIndexAtOffset(t),r=e.getLanguageId(i),o=i;for(;o+1<n&&e.getLanguageId(o+1)===r;)o++;let s=i;for(;s>0&&e.getLanguageId(s-1)===r;)s--;return new Nq(e,r,s,o+1,e.getStartOffset(s),e.getEndOffset(o))}class Nq{constructor(e,t,n,i,r,o){this._scopedLineTokensBrand=void 0,this._actual=e,this.languageId=t,this._firstTokenIndex=n,this._lastTokenIndex=i,this.firstCharOffset=r,this._lastCharOffset=o}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(e){return this._actual.getLineContent().substring(0,this.firstCharOffset+e)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)}}function Mq(e){return 0!=(7&e)}class Aq{constructor(e){if(e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map((e=>new Dq(e))):e.brackets?this._autoClosingPairs=e.brackets.map((e=>new Dq({open:e[0],close:e[1]}))):this._autoClosingPairs=[],e.colorizedBracketPairs?this._colorizedBracketPairs=Iq(e.colorizedBracketPairs.map((e=>[e[0],e[1]]))):e.brackets?this._colorizedBracketPairs=Iq(e.brackets.map((e=>[e[0],e[1]])).filter((e=>!("<"===e[0]&&">"===e[1])))):this._colorizedBracketPairs=[],e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment){const t=e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new Dq({open:t.open,close:t.close||""}))}this._autoCloseBefore="string"==typeof e.autoCloseBefore?e.autoCloseBefore:Aq.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}static shouldAutoClosePair(e,t,n){if(0===t.getTokenCount())return!0;const i=t.findTokenIndexAtOffset(n-2),r=t.getStandardTokenType(i);return e.isOK(r)}getSurroundingPairs(){return this._surroundingPairs}getColorizedBrackets(){return this._colorizedBracketPairs}}function Iq(e){return e.filter((([e,t])=>""!==e&&""!==t))}let Oq,Fq,Rq;function Pq(){return Oq||(Oq=new TextDecoder("UTF-16LE")),Oq}function Bq(){return Rq||(Rq=JR()?Pq():(Fq||(Fq=new TextDecoder("UTF-16BE")),Fq)),Rq}Aq.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=";:.,=}])> \n\t";const jq="undefined"!=typeof TextDecoder;let zq,Vq;function Wq(e,t,n){let i=[],r=0;for(let o=0;o<n;o++){const n=OH(e,t);t+=2,i[r++]=String.fromCharCode(n)}return i.join("")}jq?(zq=e=>new Hq(e),Vq=function(e,t,n){const i=new Uint16Array(e.buffer,t,n);if(n>0&&(65279===i[0]||65534===i[0]))return Wq(e,t,n);return Pq().decode(i)}):(zq=e=>new Uq,Vq=Wq);class Hq{constructor(e){this._capacity=0|e,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return null!==this._completedStrings?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(0===this._bufferLength)return"";const e=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return Bq().decode(e)}_flushBuffer(){const e=this._buildBuffer();this._bufferLength=0,null===this._completedStrings?this._completedStrings=[e]:this._completedStrings[this._completedStrings.length]=e}write1(e){const t=this._capacity-this._bufferLength;t<=1&&(0===t||GW(e))&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCII(e){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCIIString(e){const t=e.length;if(this._bufferLength+t>=this._capacity)return this._flushBuffer(),void(this._completedStrings[this._completedStrings.length]=e);for(let n=0;n<t;n++)this._buffer[this._bufferLength++]=e.charCodeAt(n)}}class Uq{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)}appendASCII(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)}appendASCIIString(e){this._pieces[this._piecesLen++]=e}}class $q{constructor(e,t,n,i,r,o){this._richEditBracketBrand=void 0,this.languageId=e,this.index=t,this.open=n,this.close=i,this.forwardRegex=r,this.reversedRegex=o,this._openSet=$q._toSet(this.open),this._closeSet=$q._toSet(this.close)}isOpen(e){return this._openSet.has(e)}isClose(e){return this._closeSet.has(e)}static _toSet(e){const t=new Set;for(const n of e)t.add(n);return t}}class qq{constructor(e,t){this._richEditBracketsBrand=void 0;const n=function(e){const t=e.length;e=e.map((e=>[e[0].toLowerCase(),e[1].toLowerCase()]));const n=[];for(let s=0;s<t;s++)n[s]=s;const i=(e,t)=>{const[n,i]=e,[r,o]=t;return n===r||n===o||i===r||i===o},r=(e,i)=>{const r=Math.min(e,i),o=Math.max(e,i);for(let s=0;s<t;s++)n[s]===o&&(n[s]=r)};for(let s=0;s<t;s++){const o=e[s];for(let a=s+1;a<t;a++)i(o,e[a])&&r(n[s],n[a])}const o=[];for(let s=0;s<t;s++){let i=[],r=[];for(let o=0;o<t;o++)if(n[o]===s){const[t,n]=e[o];i.push(t),r.push(n)}i.length>0&&o.push({open:i,close:r})}return o}(t);this.brackets=n.map(((t,i)=>new $q(e,i,t.open,t.close,function(e,t,n,i){let r=[];r=r.concat(e),r=r.concat(t);for(let o=0,s=r.length;o<s;o++)Kq(r[o],n,i,r);return r=Gq(r),r.sort(Yq),r.reverse(),Zq(r)}(t.open,t.close,n,i),function(e,t,n,i){let r=[];r=r.concat(e),r=r.concat(t);for(let o=0,s=r.length;o<s;o++)Kq(r[o],n,i,r);return r=Gq(r),r.sort(Yq),r.reverse(),Zq(r.map(Jq))}(t.open,t.close,n,i)))),this.forwardRegex=function(e){let t=[];for(const n of e){for(const e of n.open)t.push(e);for(const e of n.close)t.push(e)}return t=Gq(t),Zq(t)}(this.brackets),this.reversedRegex=function(e){let t=[];for(const n of e){for(const e of n.open)t.push(e);for(const e of n.close)t.push(e)}return t=Gq(t),Zq(t.map(Jq))}(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const i of this.brackets){for(const e of i.open)this.textIsBracket[e]=i,this.textIsOpenBracket[e]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,e.length);for(const e of i.close)this.textIsBracket[e]=i,this.textIsOpenBracket[e]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,e.length)}}}function Kq(e,t,n,i){for(let r=0,o=t.length;r<o;r++){if(r===n)continue;const o=t[r];for(const t of o.open)t.indexOf(e)>=0&&i.push(t);for(const t of o.close)t.indexOf(e)>=0&&i.push(t)}}function Yq(e,t){return e.length-t.length}function Gq(e){if(e.length<=1)return e;const t=[],n=new Set;for(const i of e)n.has(i)||(t.push(i),n.add(i));return t}function Xq(e){const t=/^[\w ]+$/.test(e);return e=MW(e),t?`\\b${e}\\b`:e}function Zq(e){return IW(`(${e.map(Xq).join(")|(")})`,!0)}const Jq=function(){let e=null,t=null;return function(n){return e!==n&&(e=n,t=function(e){if(jq){const t=new Uint16Array(e.length);let n=0;for(let i=e.length-1;i>=0;i--)t[n++]=e.charCodeAt(i);return Bq().decode(t)}{let t=[],n=0;for(let i=e.length-1;i>=0;i--)t[n++]=e.charAt(i);return t.join("")}}(e)),t}}();class Qq{static _findPrevBracketInText(e,t,n,i){let r=n.match(e);if(!r)return null;let o=n.length-(r.index||0),s=r[0].length,a=i+o;return new cj(t,a-s+1,t,a+1)}static findPrevBracketInRange(e,t,n,i,r){const o=Jq(n).substring(n.length-r,n.length-i);return this._findPrevBracketInText(e,t,o,i)}static findNextBracketInText(e,t,n,i){let r=n.match(e);if(!r)return null;let o=r.index||0,s=r[0].length;if(0===s)return null;let a=i+o;return new cj(t,a+1,t,a+1+s)}static findNextBracketInRange(e,t,n,i,r){const o=n.substring(i,r);return this.findNextBracketInText(e,t,o,i)}}class eK{constructor(e){this._richEditBrackets=e}getElectricCharacters(){let e=[];if(this._richEditBrackets)for(const t of this._richEditBrackets.brackets)for(const n of t.close){const t=n.charAt(n.length-1);e.push(t)}return e=e.filter(((e,t,n)=>n.indexOf(e)===t)),e}onElectricCharacter(e,t,n){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;const i=t.findTokenIndexAtOffset(n-1);if(Mq(t.getStandardTokenType(i)))return null;const r=this._richEditBrackets.reversedRegex,o=t.getLineContent().substring(0,n-1)+e,s=Qq.findPrevBracketInRange(r,1,o,0,o.length);if(!s)return null;const a=o.substring(s.startColumn-1,s.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[a])return null;const l=t.getActualLineContentBefore(s.startColumn-1);return/^\s*$/.test(l)?{matchOpenBracket:a}:null}}function tK(e){return e.global&&(e.lastIndex=0),!0}class nK{constructor(e){this._indentationRules=e}shouldIncrease(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&tK(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e))}shouldDecrease(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&tK(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e))}shouldIndentNextLine(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&tK(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e))}shouldIgnore(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&tK(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e))}getIndentMetadata(e){let t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}}class iK{constructor(e){(e=e||{}).brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach((e=>{const t=iK._createOpenBracketRegExp(e[0]),n=iK._createCloseBracketRegExp(e[1]);t&&n&&this._brackets.push({open:e[0],openRegExp:t,close:e[1],closeRegExp:n})})),this._regExpRules=e.onEnterRules||[]}onEnter(e,t,n,i){if(e>=3)for(let r=0,o=this._regExpRules.length;r<o;r++){let e=this._regExpRules[r];if([{reg:e.beforeText,text:n},{reg:e.afterText,text:i},{reg:e.previousLineText,text:t}].every((e=>!e.reg||(e.reg.lastIndex=0,e.reg.test(e.text)))))return e.action}if(e>=2&&n.length>0&&i.length>0)for(let r=0,o=this._brackets.length;r<o;r++){let e=this._brackets[r];if(e.openRegExp.test(n)&&e.closeRegExp.test(i))return{indentAction:Sq.IndentOutdent}}if(e>=2&&n.length>0)for(let r=0,o=this._brackets.length;r<o;r++){if(this._brackets[r].openRegExp.test(n))return{indentAction:Sq.Indent}}return null}static _createOpenBracketRegExp(e){let t=MW(e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",iK._safeRegExp(t)}static _createCloseBracketRegExp(e){let t=MW(e);return/\B/.test(t.charAt(t.length-1))||(t+="\\b"),t="^\\s*"+t,iK._safeRegExp(t)}static _safeRegExp(e){try{return new RegExp(e)}catch(t){return IP(t),null}}}const rK=new class{constructor(){this.data=new Map}add(e,t){_U(GH(e)),_U(XH(t)),_U(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}as(e){return this.data.get(e)||null}},oK="base.contributions.json";const sK=new class{constructor(){this._onDidChangeSchema=new nB,this.schemasById={}}registerSchema(e,t){var n;this.schemasById[(n=e,n.length>0&&"#"===n.charAt(n.length-1)?n.substring(0,n.length-1):n)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}};rK.add(oK,sK);const aK="base.contributions.configuration",lK={properties:{},patternProperties:{}},cK={properties:{},patternProperties:{}},uK={properties:{},patternProperties:{}},hK={properties:{},patternProperties:{}},dK={properties:{},patternProperties:{}},fK={properties:{},patternProperties:{}},pK=rK.as(oK);const gK=new RegExp("\\[.*\\]$");function mK(e){return e.substring(1,e.length-1)}const vK=new class{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new nB,this._onDidUpdateConfiguration=new nB,this.defaultValues={},this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:DR(0,"Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},pK.registerSchema("vscode://schemas/settings/resourceLanguage",this.resourceLanguageSettingsSchema)}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){const n=this.doRegisterConfigurations(e,t);pK.registerSchema("vscode://schemas/settings/resourceLanguage",this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(n)}registerOverrideIdentifiers(e){for(const t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(e,t){const n=[];return e.forEach((e=>{n.push(...this.validateAndRegisterProperties(e,t,e.extensionInfo)),this.configurationContributors.push(e),this.registerJSONConfiguration(e)})),n}validateAndRegisterProperties(e,t=!0,n,i=3){var r;i=tU(e.scope)?i:e.scope;let o=[],s=e.properties;if(s)for(let l in s){if(t&&yK(l)){delete s[l];continue}const e=s[l];this.updatePropertyDefaultValue(l,e),gK.test(l)?e.scope=void 0:(e.scope=tU(e.scope)?i:e.scope,e.restricted=tU(e.restricted)?!!(null===(r=null==n?void 0:n.restrictedConfigurations)||void 0===r?void 0:r.includes(l)):e.restricted),!s[l].hasOwnProperty("included")||s[l].included?(this.configurationProperties[l]=s[l],!s[l].deprecationMessage&&s[l].markdownDeprecationMessage&&(s[l].deprecationMessage=s[l].markdownDeprecationMessage),o.push(l)):(this.excludedConfigurationProperties[l]=s[l],delete s[l])}let a=e.allOf;if(a)for(let l of a)o.push(...this.validateAndRegisterProperties(l,t,n,i));return o}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(e){const t=e=>{let n=e.properties;if(n)for(const t in n)this.updateSchema(t,n[t]);let i=e.allOf;i&&i.forEach(t)};t(e)}updateSchema(e,t){switch(lK.properties[e]=t,t.scope){case 1:cK.properties[e]=t;break;case 2:uK.properties[e]=t;break;case 6:hK.properties[e]=t;break;case 3:dK.properties[e]=t;break;case 4:fK.properties[e]=t;break;case 5:fK.properties[e]=t,this.resourceLanguageSettingsSchema.properties[e]=t}}updateOverridePropertyPatternKey(){for(const e of this.overrideIdentifiers.values()){const t=`[${e}]`,n={type:"object",description:DR(0,"Configure editor settings to be overridden for a language."),errorMessage:DR(0,"This setting does not support per-language configuration."),$ref:"vscode://schemas/settings/resourceLanguage"};this.updatePropertyDefaultValue(t,n),lK.properties[t]=n,cK.properties[t]=n,uK.properties[t]=n,hK.properties[t]=n,dK.properties[t]=n,fK.properties[t]=n}this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){let n=this.defaultValues[e];QH(n)&&(n=t.default),QH(n)&&(n=function(e){switch(Array.isArray(e)?e[0]:e){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}(t.type)),t.default=n}};function yK(e){return e.trim()?gK.test(e)?DR(0,"Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",e):void 0!==vK.getConfigurationProperties()[e]?DR(0,"Cannot register '{0}'. This property is already registered.",e):null:DR(0,"Cannot register an empty property")}rK.add(aK,vK);const bK=Fz("configurationService");function _K(e,t){const n=Object.create(null);for(let i in e)wK(n,i,e[i],t);return n}function wK(e,t,n,i){const r=t.split("."),o=r.pop();let s=e;for(let a=0;a<r.length;a++){let e=r[a],n=s[e];switch(typeof n){case"undefined":n=s[e]=Object.create(null);break;case"object":break;default:return void i(`Ignoring ${t} as ${r.slice(0,a+1).join(".")} is ${JSON.stringify(n)}`)}s=n}if("object"==typeof s&&null!==s)try{s[o]=n}catch(nR){i(`Ignoring ${t} as ${r.join(".")} is ${JSON.stringify(s)}`)}else i(`Ignoring ${t} as ${r.join(".")} is ${JSON.stringify(s)}`)}function CK(e,t){xK(e,t.split("."))}function xK(e,t){const n=t.shift();if(0!==t.length){if(-1!==Object.keys(e).indexOf(n)){const i=e[n];"object"!=typeof i||Array.isArray(i)||(xK(i,t),0===Object.keys(i).length&&delete e[n])}}else delete e[n]}class kK{constructor(e,t=[],n=!1){this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=n}}const SK=[];function DK(e,t,n){t instanceof kK||(t=new kK(t,[],n)),SK.push([e,t])}var EK=globalThis&&globalThis.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},LK=globalThis&&globalThis.__param||function(e,t){return function(n,i){t(n,i,e)}};class TK{constructor(e){this.languageId=e}affects(e){return!this.languageId||this.languageId===e}}const NK=Fz("languageConfigurationService");let MK=class extends KP{constructor(e,t){super(),this.configurationService=e,this.modeService=t,this.onDidChangeEmitter=this._register(new nB),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const n=new Set(Object.values(AK));this._register(this.configurationService.onDidChangeConfiguration((e=>{const t=e.change.keys.some((e=>n.has(e))),i=e.change.overrides.filter((([e,t])=>t.some((e=>n.has(e))))).map((([e])=>this.modeService.validateLanguageId(e)));if(t)this.configurations.clear(),this.onDidChangeEmitter.fire(new TK(void 0));else for(const n of i)n&&(this.configurations.delete(n),this.onDidChangeEmitter.fire(new TK(n)))}))),this._register(FK.onDidChange((e=>{this.configurations.delete(e.languageId),this.onDidChangeEmitter.fire(new TK(e.languageId))})))}getLanguageConfiguration(e){let t=this.configurations.get(e);return t||(t=function(e,t,n){let i=FK.getLanguageConfiguration(e);if(!i){const t=n.validateLanguageId(e);if(!t)throw new Error("Unexpected languageId");i=new jK(t,{})}const r=function(e,t){const n=t.getValue(AK.brackets,{overrideIdentifier:e}),i=t.getValue(AK.colorizedBracketPairs,{overrideIdentifier:e});return{brackets:IK(n),colorizedBracketPairs:IK(i)}}(i.languageId,t),o=PK([i.underlyingConfig,r]);return new jK(i.languageId,o)}(e,this.configurationService,this.modeService),this.configurations.set(e,t)),t}};MK=EK([LK(0,bK),LK(1,lq)],MK);const AK={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function IK(e){if(Array.isArray(e))return e.map((e=>{if(Array.isArray(e)&&2===e.length)return[e[0],e[1]]})).filter((e=>!!e))}class OK{constructor(e){this.languageId=e}}const FK=new class{constructor(){this._entries=new Map,this._onDidChange=new nB,this.onDidChange=this._onDidChange.event}register(e,t,n=0){let i=this._entries.get(e);i||(i=new RK(e),this._entries.set(e,i));const r=i.register(t,n);return this._onDidChange.fire(new OK(e)),$P((()=>{r.dispose(),this._onDidChange.fire(new OK(e))}))}getLanguageConfiguration(e){let t=this._entries.get(e);return(null==t?void 0:t.getResolvedConfiguration())||null}getIndentationRules(e){const t=this.getLanguageConfiguration(e);return t&&t.indentationRules||null}_getElectricCharacterSupport(e){let t=this.getLanguageConfiguration(e);return t&&t.electricCharacter||null}getElectricCharacters(e){let t=this._getElectricCharacterSupport(e);return t?t.getElectricCharacters():[]}onElectricCharacter(e,t,n){let i=Tq(t,n-1),r=this._getElectricCharacterSupport(i.languageId);return r?r.onElectricCharacter(e,i,n-i.firstCharOffset):null}getComments(e){let t=this.getLanguageConfiguration(e);return t&&t.comments||null}_getCharacterPairSupport(e){let t=this.getLanguageConfiguration(e);return t&&t.characterPair||null}getAutoClosingPairs(e){const t=this._getCharacterPairSupport(e);return new Eq(t?t.getAutoClosingPairs():[])}getAutoCloseBeforeSet(e){let t=this._getCharacterPairSupport(e);return t?t.getAutoCloseBeforeSet():Aq.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED}getSurroundingPairs(e){let t=this._getCharacterPairSupport(e);return t?t.getSurroundingPairs():[]}shouldAutoClosePair(e,t,n){const i=Tq(t,n-1);return Aq.shouldAutoClosePair(e,i,n-i.firstCharOffset)}getWordDefinition(e){let t=this.getLanguageConfiguration(e);return eP(t&&t.wordDefinition||null)}getFoldingRules(e){let t=this.getLanguageConfiguration(e);return t?t.foldingRules:{}}getIndentRulesSupport(e){let t=this.getLanguageConfiguration(e);return t&&t.indentRulesSupport||null}getPrecedingValidLine(e,t,n){let i=e.getLanguageIdAtPosition(t,0);if(t>1){let r,o=-1;for(r=t-1;r>=1;r--){if(e.getLanguageIdAtPosition(r,0)!==i)return o;let t=e.getLineContent(r);if(!n.shouldIgnore(t)&&!/^\s+$/.test(t)&&""!==t)return r;o=r}}return-1}getInheritIndentForLine(e,t,n,i=!0){if(e<4)return null;const r=this.getIndentRulesSupport(t.getLanguageId());if(!r)return null;if(n<=1)return{indentation:"",action:null};const o=this.getPrecedingValidLine(t,n,r);if(o<0)return null;if(o<1)return{indentation:"",action:null};const s=t.getLineContent(o);if(r.shouldIncrease(s)||r.shouldIndentNextLine(s))return{indentation:PW(s),action:Sq.Indent,line:o};if(r.shouldDecrease(s))return{indentation:PW(s),action:null,line:o};{if(1===o)return{indentation:PW(t.getLineContent(o)),action:null,line:o};const e=o-1,n=r.getIndentMetadata(t.getLineContent(e));if(!(3&n)&&4&n){let n=0;for(let i=e-1;i>0;i--)if(!r.shouldIndentNextLine(t.getLineContent(i))){n=i;break}return{indentation:PW(t.getLineContent(n+1)),action:null,line:n+1}}if(i)return{indentation:PW(t.getLineContent(o)),action:null,line:o};for(let i=o;i>0;i--){const e=t.getLineContent(i);if(r.shouldIncrease(e))return{indentation:PW(e),action:Sq.Indent,line:i};if(r.shouldIndentNextLine(e)){let e=0;for(let n=i-1;n>0;n--)if(!r.shouldIndentNextLine(t.getLineContent(i))){e=n;break}return{indentation:PW(t.getLineContent(e+1)),action:null,line:e+1}}if(r.shouldDecrease(e))return{indentation:PW(e),action:null,line:i}}return{indentation:PW(t.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(e,t,n,i,r){if(e<4)return null;const o=this.getLanguageConfiguration(n);if(!o)return null;const s=this.getIndentRulesSupport(n);if(!s)return null;const a=this.getInheritIndentForLine(e,t,i),l=t.getLineContent(i);if(a){const n=a.line;if(void 0!==n){const i=o.onEnter(e,"",t.getLineContent(n),"");if(i){let e=PW(t.getLineContent(n));return i.removeText&&(e=e.substring(0,e.length-i.removeText)),i.indentAction===Sq.Indent||i.indentAction===Sq.IndentOutdent?e=r.shiftIndent(e):i.indentAction===Sq.Outdent&&(e=r.unshiftIndent(e)),s.shouldDecrease(l)&&(e=r.unshiftIndent(e)),i.appendText&&(e+=i.appendText),PW(e)}}return s.shouldDecrease(l)?a.action===Sq.Indent?a.indentation:r.unshiftIndent(a.indentation):a.action===Sq.Indent?r.shiftIndent(a.indentation):a.indentation}return null}getIndentForEnter(e,t,n,i){if(e<4)return null;t.forceTokenization(n.startLineNumber);const r=t.getLineTokens(n.startLineNumber),o=Tq(r,n.startColumn-1),s=o.getLineContent();let a,l,c=!1;if(o.firstCharOffset>0&&r.getLanguageId(0)!==o.languageId?(c=!0,a=s.substr(0,n.startColumn-1-o.firstCharOffset)):a=r.getLineContent().substring(0,n.startColumn-1),n.isEmpty())l=s.substr(n.startColumn-1-o.firstCharOffset);else{l=this.getScopedLineTokens(t,n.endLineNumber,n.endColumn).getLineContent().substr(n.endColumn-1-o.firstCharOffset)}const u=this.getIndentRulesSupport(o.languageId);if(!u)return null;const h=a,d=PW(a),f={getLineTokens:e=>t.getLineTokens(e),getLanguageId:()=>t.getLanguageId(),getLanguageIdAtPosition:(e,n)=>t.getLanguageIdAtPosition(e,n),getLineContent:e=>e===n.startLineNumber?h:t.getLineContent(e)},p=PW(r.getLineContent()),g=this.getInheritIndentForLine(e,f,n.startLineNumber+1);if(!g){const e=c?p:d;return{beforeEnter:e,afterEnter:e}}let m=c?p:g.indentation;return g.action===Sq.Indent&&(m=i.shiftIndent(m)),u.shouldDecrease(l)&&(m=i.unshiftIndent(m)),{beforeEnter:c?p:d,afterEnter:m}}getIndentActionForType(e,t,n,i,r){if(e<4)return null;const o=this.getScopedLineTokens(t,n.startLineNumber,n.startColumn);if(o.firstCharOffset)return null;const s=this.getIndentRulesSupport(o.languageId);if(!s)return null;const a=o.getLineContent(),l=a.substr(0,n.startColumn-1-o.firstCharOffset);let c;if(n.isEmpty())c=a.substr(n.startColumn-1-o.firstCharOffset);else{c=this.getScopedLineTokens(t,n.endLineNumber,n.endColumn).getLineContent().substr(n.endColumn-1-o.firstCharOffset)}if(!s.shouldDecrease(l+c)&&s.shouldDecrease(l+i+c)){const i=this.getInheritIndentForLine(e,t,n.startLineNumber,!1);if(!i)return null;let o=i.indentation;return i.action!==Sq.Indent&&(o=r.unshiftIndent(o)),o}return null}getIndentMetadata(e,t){const n=this.getIndentRulesSupport(e.getLanguageId());return n?t<1||t>e.getLineCount()?null:n.getIndentMetadata(e.getLineContent(t)):null}getEnterAction(e,t,n){const i=this.getScopedLineTokens(t,n.startLineNumber,n.startColumn),r=this.getLanguageConfiguration(i.languageId);if(!r)return null;const o=i.getLineContent(),s=o.substr(0,n.startColumn-1-i.firstCharOffset);let a;if(n.isEmpty())a=o.substr(n.startColumn-1-i.firstCharOffset);else{a=this.getScopedLineTokens(t,n.endLineNumber,n.endColumn).getLineContent().substr(n.endColumn-1-i.firstCharOffset)}let l="";if(n.startLineNumber>1&&0===i.firstCharOffset){const e=this.getScopedLineTokens(t,n.startLineNumber-1);e.languageId===i.languageId&&(l=e.getLineContent())}const c=r.onEnter(e,l,s,a);if(!c)return null;const u=c.indentAction;let h=c.appendText;const d=c.removeText||0;h?u===Sq.Indent&&(h="\t"+h):h=u===Sq.Indent||u===Sq.IndentOutdent?"\t":"";let f=this.getIndentationAtPosition(t,n.startLineNumber,n.startColumn);return d&&(f=f.substring(0,f.length-d)),{indentAction:u,appendText:h,removeText:d,indentation:f}}getIndentationAtPosition(e,t,n){let i=PW(e.getLineContent(t));return i.length>n-1&&(i=i.substring(0,n-1)),i}getScopedLineTokens(e,t,n){e.forceTokenization(t);return Tq(e.getLineTokens(t),void 0===n?e.getLineMaxColumn(t)-1:n-1)}};class RK{constructor(e){this.languageId=e,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(e,t){const n=new BK(e,t,++this._order);return this._entries.push(n),this._resolved=null,$P((()=>{for(let e=0;e<this._entries.length;e++)if(this._entries[e]===n){this._entries.splice(e,1),this._resolved=null;break}}))}getResolvedConfiguration(){if(!this._resolved){const e=this._resolve();e&&(this._resolved=new jK(this.languageId,e))}return this._resolved}_resolve(){return 0===this._entries.length?null:(this._entries.sort(BK.cmp),PK(this._entries.map((e=>e.configuration))))}}function PK(e){let t={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const n of e)t={comments:n.comments||t.comments,brackets:n.brackets||t.brackets,wordPattern:n.wordPattern||t.wordPattern,indentationRules:n.indentationRules||t.indentationRules,onEnterRules:n.onEnterRules||t.onEnterRules,autoClosingPairs:n.autoClosingPairs||t.autoClosingPairs,surroundingPairs:n.surroundingPairs||t.surroundingPairs,autoCloseBefore:n.autoCloseBefore||t.autoCloseBefore,folding:n.folding||t.folding,colorizedBracketPairs:n.colorizedBracketPairs||t.colorizedBracketPairs,__electricCharacterSupport:n.__electricCharacterSupport||t.__electricCharacterSupport};return t}class BK{constructor(e,t,n){this.configuration=e,this.priority=t,this.order=n}static cmp(e,t){return e.priority===t.priority?e.order-t.order:e.priority-t.priority}}class jK{constructor(e,t){this.languageId=e,this.underlyingConfig=t,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new iK(this.underlyingConfig):null,this.comments=jK._handleComments(this.underlyingConfig),this.characterPair=new Aq(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||QR,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new nK(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{}}getWordDefinition(){return eP(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new qq(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new eK(this.brackets)),this._electricCharacter}onEnter(e,t,n,i){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,n,i):null}static _handleComments(e){let t=e.comments;if(!t)return null;let n={};if(t.lineComment&&(n.lineCommentToken=t.lineComment),t.blockComment){let[e,i]=t.blockComment;n.blockCommentStartToken=e,n.blockCommentEndToken=i}return n}}DK(NK,MK);class zK{constructor(e,t,n,i){this.originalStart=e,this.originalLength=t,this.modifiedStart=n,this.modifiedLength=i}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}class VK{constructor(e){this.source=e}getElements(){const e=this.source,t=new Int32Array(e.length);for(let n=0,i=e.length;n<i;n++)t[n]=e.charCodeAt(n);return t}}function WK(e,t,n){return new qK(new VK(e),new VK(t)).ComputeDiff(n).changes}class HK{static Assert(e,t){if(!e)throw new Error(t)}}class UK{static Copy(e,t,n,i,r){for(let o=0;o<r;o++)n[i+o]=e[t+o]}static Copy2(e,t,n,i,r){for(let o=0;o<r;o++)n[i+o]=e[t+o]}}class $K{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new zK(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++}AddModifiedElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class qK{constructor(e,t,n=null){this.ContinueProcessingPredicate=n,this._originalSequence=e,this._modifiedSequence=t;const[i,r,o]=qK._getElements(e),[s,a,l]=qK._getElements(t);this._hasStrings=o&&l,this._originalStringElements=i,this._originalElementsOrHash=r,this._modifiedStringElements=s,this._modifiedElementsOrHash=a,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(e){return e.length>0&&"string"==typeof e[0]}static _getElements(e){const t=e.getElements();if(qK._isStringArray(t)){const e=new Int32Array(t.length);for(let n=0,i=t.length;n<i;n++)e[n]=UU(t[n],0);return[t,e,!0]}return t instanceof Int32Array?[[],t,!1]:[[],new Int32Array(t),!1]}ElementsAreEqual(e,t){return this._originalElementsOrHash[e]===this._modifiedElementsOrHash[t]&&(!this._hasStrings||this._originalStringElements[e]===this._modifiedStringElements[t])}ElementsAreStrictEqual(e,t){if(!this.ElementsAreEqual(e,t))return!1;return qK._getStrictElement(this._originalSequence,e)===qK._getStrictElement(this._modifiedSequence,t)}static _getStrictElement(e,t){return"function"==typeof e.getStrictElement?e.getStrictElement(t):null}OriginalElementsAreEqual(e,t){return this._originalElementsOrHash[e]===this._originalElementsOrHash[t]&&(!this._hasStrings||this._originalStringElements[e]===this._originalStringElements[t])}ModifiedElementsAreEqual(e,t){return this._modifiedElementsOrHash[e]===this._modifiedElementsOrHash[t]&&(!this._hasStrings||this._modifiedStringElements[e]===this._modifiedStringElements[t])}ComputeDiff(e){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,e)}_ComputeDiff(e,t,n,i,r){const o=[!1];let s=this.ComputeDiffRecursive(e,t,n,i,o);return r&&(s=this.PrettifyChanges(s)),{quitEarly:o[0],changes:s}}ComputeDiffRecursive(e,t,n,i,r){for(r[0]=!1;e<=t&&n<=i&&this.ElementsAreEqual(e,n);)e++,n++;for(;t>=e&&i>=n&&this.ElementsAreEqual(t,i);)t--,i--;if(e>t||n>i){let r;return n<=i?(HK.Assert(e===t+1,"originalStart should only be one more than originalEnd"),r=[new zK(e,0,n,i-n+1)]):e<=t?(HK.Assert(n===i+1,"modifiedStart should only be one more than modifiedEnd"),r=[new zK(e,t-e+1,n,0)]):(HK.Assert(e===t+1,"originalStart should only be one more than originalEnd"),HK.Assert(n===i+1,"modifiedStart should only be one more than modifiedEnd"),r=[]),r}const o=[0],s=[0],a=this.ComputeRecursionPoint(e,t,n,i,o,s,r),l=o[0],c=s[0];if(null!==a)return a;if(!r[0]){const o=this.ComputeDiffRecursive(e,l,n,c,r);let s=[];return s=r[0]?[new zK(l+1,t-(l+1)+1,c+1,i-(c+1)+1)]:this.ComputeDiffRecursive(l+1,t,c+1,i,r),this.ConcatenateChanges(o,s)}return[new zK(e,t-e+1,n,i-n+1)]}WALKTRACE(e,t,n,i,r,o,s,a,l,c,u,h,d,f,p,g,m,v){let y=null,b=null,_=new $K,w=t,C=n,x=d[0]-g[0]-i,k=-1073741824,S=this.m_forwardHistory.length-1;do{const t=x+e;t===w||t<C&&l[t-1]<l[t+1]?(f=(u=l[t+1])-x-i,u<k&&_.MarkNextChange(),k=u,_.AddModifiedElement(u+1,f),x=t+1-e):(f=(u=l[t-1]+1)-x-i,u<k&&_.MarkNextChange(),k=u-1,_.AddOriginalElement(u,f+1),x=t-1-e),S>=0&&(e=(l=this.m_forwardHistory[S])[0],w=1,C=l.length-1)}while(--S>=-1);if(y=_.getReverseChanges(),v[0]){let e=d[0]+1,t=g[0]+1;if(null!==y&&y.length>0){const n=y[y.length-1];e=Math.max(e,n.getOriginalEnd()),t=Math.max(t,n.getModifiedEnd())}b=[new zK(e,h-e+1,t,p-t+1)]}else{_=new $K,w=o,C=s,x=d[0]-g[0]-a,k=1073741824,S=m?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const e=x+r;e===w||e<C&&c[e-1]>=c[e+1]?(f=(u=c[e+1]-1)-x-a,u>k&&_.MarkNextChange(),k=u+1,_.AddOriginalElement(u+1,f+1),x=e+1-r):(f=(u=c[e-1])-x-a,u>k&&_.MarkNextChange(),k=u,_.AddModifiedElement(u+1,f+1),x=e-1-r),S>=0&&(r=(c=this.m_reverseHistory[S])[0],w=1,C=c.length-1)}while(--S>=-1);b=_.getChanges()}return this.ConcatenateChanges(y,b)}ComputeRecursionPoint(e,t,n,i,r,o,s){let a=0,l=0,c=0,u=0,h=0,d=0;e--,n--,r[0]=0,o[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const f=t-e+(i-n),p=f+1,g=new Int32Array(p),m=new Int32Array(p),v=i-n,y=t-e,b=e-n,_=t-i,w=(y-v)%2==0;g[v]=e,m[y]=t,s[0]=!1;for(let C=1;C<=f/2+1;C++){let f=0,x=0;c=this.ClipDiagonalBound(v-C,C,v,p),u=this.ClipDiagonalBound(v+C,C,v,p);for(let e=c;e<=u;e+=2){a=e===c||e<u&&g[e-1]<g[e+1]?g[e+1]:g[e-1]+1,l=a-(e-v)-b;const n=a;for(;a<t&&l<i&&this.ElementsAreEqual(a+1,l+1);)a++,l++;if(g[e]=a,a+l>f+x&&(f=a,x=l),!w&&Math.abs(e-y)<=C-1&&a>=m[e])return r[0]=a,o[0]=l,n<=m[e]&&C<=1448?this.WALKTRACE(v,c,u,b,y,h,d,_,g,m,a,t,r,l,i,o,w,s):null}const k=(f-e+(x-n)-C)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(f,k))return s[0]=!0,r[0]=f,o[0]=x,k>0&&C<=1448?this.WALKTRACE(v,c,u,b,y,h,d,_,g,m,a,t,r,l,i,o,w,s):(e++,n++,[new zK(e,t-e+1,n,i-n+1)]);h=this.ClipDiagonalBound(y-C,C,y,p),d=this.ClipDiagonalBound(y+C,C,y,p);for(let p=h;p<=d;p+=2){a=p===h||p<d&&m[p-1]>=m[p+1]?m[p+1]-1:m[p-1],l=a-(p-y)-_;const f=a;for(;a>e&&l>n&&this.ElementsAreEqual(a,l);)a--,l--;if(m[p]=a,w&&Math.abs(p-v)<=C&&a<=g[p])return r[0]=a,o[0]=l,f>=g[p]&&C<=1448?this.WALKTRACE(v,c,u,b,y,h,d,_,g,m,a,t,r,l,i,o,w,s):null}if(C<=1447){let e=new Int32Array(u-c+2);e[0]=v-c+1,UK.Copy2(g,c,e,1,u-c+1),this.m_forwardHistory.push(e),e=new Int32Array(d-h+2),e[0]=y-h+1,UK.Copy2(m,h,e,1,d-h+1),this.m_reverseHistory.push(e)}}return this.WALKTRACE(v,c,u,b,y,h,d,_,g,m,a,t,r,l,i,o,w,s)}PrettifyChanges(e){for(let t=0;t<e.length;t++){const n=e[t],i=t<e.length-1?e[t+1].originalStart:this._originalElementsOrHash.length,r=t<e.length-1?e[t+1].modifiedStart:this._modifiedElementsOrHash.length,o=n.originalLength>0,s=n.modifiedLength>0;for(;n.originalStart+n.originalLength<i&&n.modifiedStart+n.modifiedLength<r&&(!o||this.OriginalElementsAreEqual(n.originalStart,n.originalStart+n.originalLength))&&(!s||this.ModifiedElementsAreEqual(n.modifiedStart,n.modifiedStart+n.modifiedLength));){const e=this.ElementsAreStrictEqual(n.originalStart,n.modifiedStart);if(this.ElementsAreStrictEqual(n.originalStart+n.originalLength,n.modifiedStart+n.modifiedLength)&&!e)break;n.originalStart++,n.modifiedStart++}let a=[null];t<e.length-1&&this.ChangesOverlap(e[t],e[t+1],a)&&(e[t]=a[0],e.splice(t+1,1),t--)}for(let t=e.length-1;t>=0;t--){const n=e[t];let i=0,r=0;if(t>0){const n=e[t-1];i=n.originalStart+n.originalLength,r=n.modifiedStart+n.modifiedLength}const o=n.originalLength>0,s=n.modifiedLength>0;let a=0,l=this._boundaryScore(n.originalStart,n.originalLength,n.modifiedStart,n.modifiedLength);for(let e=1;;e++){const t=n.originalStart-e,c=n.modifiedStart-e;if(t<i||c<r)break;if(o&&!this.OriginalElementsAreEqual(t,t+n.originalLength))break;if(s&&!this.ModifiedElementsAreEqual(c,c+n.modifiedLength))break;const u=(t===i&&c===r?5:0)+this._boundaryScore(t,n.originalLength,c,n.modifiedLength);u>l&&(l=u,a=e)}n.originalStart-=a,n.modifiedStart-=a;const c=[null];t>0&&this.ChangesOverlap(e[t-1],e[t],c)&&(e[t-1]=c[0],e.splice(t,1),t++)}if(this._hasStrings)for(let t=1,n=e.length;t<n;t++){const n=e[t-1],i=e[t],r=i.originalStart-n.originalStart-n.originalLength,o=n.originalStart,s=i.originalStart+i.originalLength,a=s-o,l=n.modifiedStart,c=i.modifiedStart+i.modifiedLength,u=c-l;if(r<5&&a<20&&u<20){const e=this._findBetterContiguousSequence(o,a,l,u,r);if(e){const[t,o]=e;t===n.originalStart+n.originalLength&&o===n.modifiedStart+n.modifiedLength||(n.originalLength=t-n.originalStart,n.modifiedLength=o-n.modifiedStart,i.originalStart=t+r,i.modifiedStart=o+r,i.originalLength=s-i.originalStart,i.modifiedLength=c-i.modifiedStart)}}}return e}_findBetterContiguousSequence(e,t,n,i,r){if(t<r||i<r)return null;const o=e+t-r+1,s=n+i-r+1;let a=0,l=0,c=0;for(let u=e;u<o;u++)for(let e=n;e<s;e++){const t=this._contiguousSequenceScore(u,e,r);t>0&&t>a&&(a=t,l=u,c=e)}return a>0?[l,c]:null}_contiguousSequenceScore(e,t,n){let i=0;for(let r=0;r<n;r++){if(!this.ElementsAreEqual(e+r,t+r))return 0;i+=this._originalStringElements[e+r].length}return i}_OriginalIsBoundary(e){return e<=0||e>=this._originalElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._originalStringElements[e])}_OriginalRegionIsBoundary(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(t>0){const n=e+t;if(this._OriginalIsBoundary(n-1)||this._OriginalIsBoundary(n))return!0}return!1}_ModifiedIsBoundary(e){return e<=0||e>=this._modifiedElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[e])}_ModifiedRegionIsBoundary(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(t>0){const n=e+t;if(this._ModifiedIsBoundary(n-1)||this._ModifiedIsBoundary(n))return!0}return!1}_boundaryScore(e,t,n,i){return(this._OriginalRegionIsBoundary(e,t)?1:0)+(this._ModifiedRegionIsBoundary(n,i)?1:0)}ConcatenateChanges(e,t){let n=[];if(0===e.length||0===t.length)return t.length>0?t:e;if(this.ChangesOverlap(e[e.length-1],t[0],n)){const i=new Array(e.length+t.length-1);return UK.Copy(e,0,i,0,e.length-1),i[e.length-1]=n[0],UK.Copy(t,1,i,e.length,t.length-1),i}{const n=new Array(e.length+t.length);return UK.Copy(e,0,n,0,e.length),UK.Copy(t,0,n,e.length,t.length),n}}ChangesOverlap(e,t,n){if(HK.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),HK.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){const i=e.originalStart;let r=e.originalLength;const o=e.modifiedStart;let s=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(r=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(s=t.modifiedStart+t.modifiedLength-e.modifiedStart),n[0]=new zK(i,r,o,s),!0}return n[0]=null,!1}ClipDiagonalBound(e,t,n,i){if(e>=0&&e<i)return e;const r=t%2==0;if(e<0){return r===(n%2==0)?0:1}return r===((i-n-1)%2==0)?i-1:i-2}}function KK(e,t,n,i){return new qK(e,t,n).ComputeDiff(i)}class YK{constructor(e){const t=[],n=[];for(let i=0,r=e.length;i<r;i++)t[i]=QK(e[i],1),n[i]=eY(e[i],1);this.lines=e,this._startColumns=t,this._endColumns=n}getElements(){const e=[];for(let t=0,n=this.lines.length;t<n;t++)e[t]=this.lines[t].substring(this._startColumns[t]-1,this._endColumns[t]-1);return e}getStrictElement(e){return this.lines[e]}getStartLineNumber(e){return e+1}getEndLineNumber(e){return e+1}createCharSequence(e,t,n){const i=[],r=[],o=[];let s=0;for(let a=t;a<=n;a++){const t=this.lines[a],n=e?this._startColumns[a]:1,l=e?this._endColumns[a]:t.length+1;for(let e=n;e<l;e++)i[s]=t.charCodeAt(e-1),r[s]=a+1,o[s]=e,s++}return new GK(i,r,o)}}class GK{constructor(e,t,n){this._charCodes=e,this._lineNumbers=t,this._columns=n}getElements(){return this._charCodes}getStartLineNumber(e){return this._lineNumbers[e]}getStartColumn(e){return this._columns[e]}getEndLineNumber(e){return this._lineNumbers[e]}getEndColumn(e){return this._columns[e]+1}}class XK{constructor(e,t,n,i,r,o,s,a){this.originalStartLineNumber=e,this.originalStartColumn=t,this.originalEndLineNumber=n,this.originalEndColumn=i,this.modifiedStartLineNumber=r,this.modifiedStartColumn=o,this.modifiedEndLineNumber=s,this.modifiedEndColumn=a}static createFromDiffChange(e,t,n){let i,r,o,s,a,l,c,u;return 0===e.originalLength?(i=0,r=0,o=0,s=0):(i=t.getStartLineNumber(e.originalStart),r=t.getStartColumn(e.originalStart),o=t.getEndLineNumber(e.originalStart+e.originalLength-1),s=t.getEndColumn(e.originalStart+e.originalLength-1)),0===e.modifiedLength?(a=0,l=0,c=0,u=0):(a=n.getStartLineNumber(e.modifiedStart),l=n.getStartColumn(e.modifiedStart),c=n.getEndLineNumber(e.modifiedStart+e.modifiedLength-1),u=n.getEndColumn(e.modifiedStart+e.modifiedLength-1)),new XK(i,r,o,s,a,l,c,u)}}class ZK{constructor(e,t,n,i,r){this.originalStartLineNumber=e,this.originalEndLineNumber=t,this.modifiedStartLineNumber=n,this.modifiedEndLineNumber=i,this.charChanges=r}static createFromDiffResult(e,t,n,i,r,o,s){let a,l,c,u,h;if(0===t.originalLength?(a=n.getStartLineNumber(t.originalStart)-1,l=0):(a=n.getStartLineNumber(t.originalStart),l=n.getEndLineNumber(t.originalStart+t.originalLength-1)),0===t.modifiedLength?(c=i.getStartLineNumber(t.modifiedStart)-1,u=0):(c=i.getStartLineNumber(t.modifiedStart),u=i.getEndLineNumber(t.modifiedStart+t.modifiedLength-1)),o&&t.originalLength>0&&t.originalLength<20&&t.modifiedLength>0&&t.modifiedLength<20&&r()){const o=n.createCharSequence(e,t.originalStart,t.originalStart+t.originalLength-1),a=i.createCharSequence(e,t.modifiedStart,t.modifiedStart+t.modifiedLength-1);let l=KK(o,a,r,!0).changes;s&&(l=function(e){if(e.length<=1)return e;const t=[e[0]];let n=t[0];for(let i=1,r=e.length;i<r;i++){const r=e[i],o=r.originalStart-(n.originalStart+n.originalLength),s=r.modifiedStart-(n.modifiedStart+n.modifiedLength);Math.min(o,s)<3?(n.originalLength=r.originalStart+r.originalLength-n.originalStart,n.modifiedLength=r.modifiedStart+r.modifiedLength-n.modifiedStart):(t.push(r),n=r)}return t}(l)),h=[];for(let e=0,t=l.length;e<t;e++)h.push(XK.createFromDiffChange(l[e],o,a))}return new ZK(a,l,c,u,h)}}class JK{constructor(e,t,n){this.shouldComputeCharChanges=n.shouldComputeCharChanges,this.shouldPostProcessCharChanges=n.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=n.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=n.shouldMakePrettyDiff,this.originalLines=e,this.modifiedLines=t,this.original=new YK(e),this.modified=new YK(t),this.continueLineDiff=tY(n.maxComputationTime),this.continueCharDiff=tY(0===n.maxComputationTime?0:Math.min(n.maxComputationTime,5e3))}computeDiff(){if(1===this.original.lines.length&&0===this.original.lines[0].length)return 1===this.modified.lines.length&&0===this.modified.lines[0].length?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(1===this.modified.lines.length&&0===this.modified.lines[0].length)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const e=KK(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),t=e.changes,n=e.quitEarly;if(this.shouldIgnoreTrimWhitespace){const e=[];for(let n=0,i=t.length;n<i;n++)e.push(ZK.createFromDiffResult(this.shouldIgnoreTrimWhitespace,t[n],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:n,changes:e}}const i=[];let r=0,o=0;for(let s=-1,a=t.length;s<a;s++){const e=s+1<a?t[s+1]:null,n=e?e.originalStart:this.originalLines.length,l=e?e.modifiedStart:this.modifiedLines.length;for(;r<n&&o<l;){const e=this.originalLines[r],t=this.modifiedLines[o];if(e!==t){{let n=QK(e,1),s=QK(t,1);for(;n>1&&s>1;){if(e.charCodeAt(n-2)!==t.charCodeAt(s-2))break;n--,s--}(n>1||s>1)&&this._pushTrimWhitespaceCharChange(i,r+1,1,n,o+1,1,s)}{let n=eY(e,1),s=eY(t,1);const a=e.length+1,l=t.length+1;for(;n<a&&s<l;){if(e.charCodeAt(n-1)!==e.charCodeAt(s-1))break;n++,s++}(n<a||s<l)&&this._pushTrimWhitespaceCharChange(i,r+1,n,a,o+1,s,l)}}r++,o++}e&&(i.push(ZK.createFromDiffResult(this.shouldIgnoreTrimWhitespace,e,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),r+=e.originalLength,o+=e.modifiedLength)}return{quitEarly:n,changes:i}}_pushTrimWhitespaceCharChange(e,t,n,i,r,o,s){if(this._mergeTrimWhitespaceCharChange(e,t,n,i,r,o,s))return;let a;this.shouldComputeCharChanges&&(a=[new XK(t,n,t,i,r,o,r,s)]),e.push(new ZK(t,t,r,r,a))}_mergeTrimWhitespaceCharChange(e,t,n,i,r,o,s){const a=e.length;if(0===a)return!1;const l=e[a-1];return 0!==l.originalEndLineNumber&&0!==l.modifiedEndLineNumber&&(l.originalEndLineNumber+1===t&&l.modifiedEndLineNumber+1===r&&(l.originalEndLineNumber=t,l.modifiedEndLineNumber=r,this.shouldComputeCharChanges&&l.charChanges&&l.charChanges.push(new XK(t,n,t,i,r,o,r,s)),!0))}}function QK(e,t){const n=RW(e);return-1===n?t:n+1}function eY(e,t){const n=BW(e);return-1===n?t:n+2}function tY(e){if(0===e)return()=>!0;const t=Date.now();return()=>Date.now()-t<e}function nY(e){return e<0?0:e>255?255:0|e}function iY(e){return e<0?0:e>4294967295?4294967295:0|e}class rY{constructor(e,t){this._prefixSumIndexOfResultBrand=void 0,this.index=e,this.remainder=t}}class oY{constructor(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(e,t){e=iY(e);const n=this.values,i=this.prefixSum,r=t.length;return 0!==r&&(this.values=new Uint32Array(n.length+r),this.values.set(n.subarray(0,e),0),this.values.set(n.subarray(e),e+r),this.values.set(t,e),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}changeValue(e,t){return e=iY(e),t=iY(t),this.values[e]!==t&&(this.values[e]=t,e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),!0)}removeValues(e,t){e=iY(e),t=iY(t);const n=this.values,i=this.prefixSum;if(e>=n.length)return!1;let r=n.length-e;return t>=r&&(t=r),0!==t&&(this.values=new Uint32Array(n.length-t),this.values.set(n.subarray(0,e),0),this.values.set(n.subarray(e+t),e),this.prefixSum=new Uint32Array(this.values.length),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return 0===this.values.length?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(e){return e<0?0:(e=iY(e),this._getPrefixSum(e))}_getPrefixSum(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];let t=this.prefixSumValidIndex[0]+1;0===t&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(let n=t;n<=e;n++)this.prefixSum[n]=this.prefixSum[n-1]+this.values[n];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]}getIndexOf(e){e=Math.floor(e),this.getTotalSum();let t=0,n=this.values.length-1,i=0,r=0,o=0;for(;t<=n;)if(i=t+(n-t)/2|0,r=this.prefixSum[i],o=r-this.values[i],e<o)n=i-1;else{if(!(e>=r))break;t=i+1}return new rY(i,e-o)}}class sY{constructor(e){let t=nY(e);this._defaultValue=t,this._asciiMap=sY._createAsciiMap(t),this._map=new Map}static _createAsciiMap(e){let t=new Uint8Array(256);for(let n=0;n<256;n++)t[n]=e;return t}set(e,t){let n=nY(t);e>=0&&e<256?this._asciiMap[e]=n:this._map.set(e,n)}get(e){return e>=0&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue}}class aY{constructor(e,t,n){const i=new Uint8Array(e*t);for(let r=0,o=e*t;r<o;r++)i[r]=n;this._data=i,this.rows=e,this.cols=t}get(e,t){return this._data[e*this.cols+t]}set(e,t,n){this._data[e*this.cols+t]=n}}class lY{constructor(e){let t=0,n=0;for(let r=0,o=e.length;r<o;r++){let[i,o,s]=e[r];o>t&&(t=o),i>n&&(n=i),s>n&&(n=s)}t++,n++;let i=new aY(n,t,0);for(let r=0,o=e.length;r<o;r++){let[t,n,o]=e[r];i.set(t,n,o)}this._states=i,this._maxCharCode=t}nextState(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)}}let cY=null;let uY=null;class hY{static _createLink(e,t,n,i,r){let o=r-1;do{const n=t.charCodeAt(o);if(2!==e.get(n))break;o--}while(o>i);if(i>0){const e=t.charCodeAt(i-1),n=t.charCodeAt(o);(40===e&&41===n||91===e&&93===n||123===e&&125===n)&&o--}return{range:{startLineNumber:n,startColumn:i+1,endLineNumber:n,endColumn:o+2},url:t.substring(i,o+1)}}static computeLinks(e,t=function(){return null===cY&&(cY=new lY([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),cY}()){const n=function(){if(null===uY){uY=new sY(0);const e=" \t<>'\"";for(let n=0;n<e.length;n++)uY.set(e.charCodeAt(n),1);const t=".,;";for(let n=0;n<t.length;n++)uY.set(t.charCodeAt(n),2)}return uY}();let i=[];for(let r=1,o=e.getLineCount();r<=o;r++){const o=e.getLineContent(r),s=o.length;let a=0,l=0,c=0,u=1,h=!1,d=!1,f=!1,p=!1;for(;a<s;){let e=!1;const s=o.charCodeAt(a);if(13===u){let t;switch(s){case 40:h=!0,t=0;break;case 41:t=h?0:1;break;case 91:f=!0,d=!0,t=0;break;case 93:f=!1,t=d?0:1;break;case 123:p=!0,t=0;break;case 125:t=p?0:1;break;case 39:t=34===c||96===c?0:1;break;case 34:t=39===c||96===c?0:1;break;case 96:t=39===c||34===c?0:1;break;case 42:t=42===c?1:0;break;case 124:t=124===c?1:0;break;case 32:t=f?0:1;break;default:t=n.get(s)}1===t&&(i.push(hY._createLink(n,o,r,l,a)),e=!0)}else if(12===u){let t;91===s?(d=!0,t=0):t=n.get(s),1===t?e=!0:u=13}else u=t.nextState(u,s),0===u&&(e=!0);e&&(u=1,h=!1,d=!1,p=!1,l=a+1,c=s),a++}13===u&&i.push(hY._createLink(n,o,r,l,s))}return i}}class dY{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(e,t,n,i,r){if(e&&t){let n=this.doNavigateValueSet(t,r);if(n)return{range:e,value:n}}if(n&&i){let e=this.doNavigateValueSet(i,r);if(e)return{range:n,value:e}}return null}doNavigateValueSet(e,t){let n=this.numberReplace(e,t);return null!==n?n:this.textReplace(e,t)}numberReplace(e,t){let n=Math.pow(10,e.length-(e.lastIndexOf(".")+1)),i=Number(e),r=parseFloat(e);return isNaN(i)||isNaN(r)||i!==r?null:0!==i||t?(i=Math.floor(i*n),i+=t?n:-n,String(i/n)):null}textReplace(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)}valueSetsReplace(e,t,n){let i=null;for(let r=0,o=e.length;null===i&&r<o;r++)i=this.valueSetReplace(e[r],t,n);return i}valueSetReplace(e,t,n){let i=e.indexOf(t);return i>=0?(i+=n?1:-1,i<0?i=e.length-1:i%=e.length,e[i]):null}}dY.INSTANCE=new dY;var fY=globalThis&&globalThis.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(nR){o(nR)}}function a(e){try{l(i.throw(e))}catch(nR){o(nR)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class pY extends class{constructor(e,t,n,i){this._uri=e,this._lines=t,this._eol=n,this._versionId=i,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return null===this._cachedTextValue&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);const t=e.changes;for(const n of t)this._acceptDeleteRange(n.range),this._acceptInsertText(new lj(n.range.startLineNumber,n.range.startColumn),n.text);this._versionId=e.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const e=this._eol.length,t=this._lines.length,n=new Uint32Array(t);for(let i=0;i<t;i++)n[i]=this._lines[i].length+e;this._lineStarts=new oY(n)}}_setLineText(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.changeValue(e,this._lines[e].length+this._eol.length)}_acceptDeleteRange(e){if(e.startLineNumber!==e.endLineNumber)this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber);else{if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1))}}_acceptInsertText(e,t){if(0===t.length)return;let n=FW(t);if(1===n.length)return void this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+n[0]+this._lines[e.lineNumber-1].substring(e.column-1));n[n.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+n[0]);let i=new Uint32Array(n.length-1);for(let r=1;r<n.length;r++)this._lines.splice(e.lineNumber+r-1,0,n[r]),i[r-1]=n[r].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,i)}}{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(e){return this._lines[e-1]}getWordAtPosition(e,t){let n=nP(e.column,eP(t),this._lines[e.lineNumber-1],0);return n?new cj(e.lineNumber,n.startColumn,e.lineNumber,n.endColumn):null}words(e){const t=this._lines,n=this._wordenize.bind(this);let i=0,r="",o=0,s=[];return{*[Symbol.iterator](){for(;;)if(o<s.length){const e=r.substring(s[o].start,s[o].end);o+=1,yield e}else{if(!(i<t.length))break;r=t[i],s=n(r,e),o=0,i+=1}}}}getLineWords(e,t){let n=this._lines[e-1],i=this._wordenize(n,t),r=[];for(const o of i)r.push({word:n.substring(o.start,o.end),startColumn:o.start+1,endColumn:o.end+1});return r}_wordenize(e,t){const n=[];let i;for(t.lastIndex=0;(i=t.exec(e))&&0!==i[0].length;)n.push({start:i.index,end:i.index+i[0].length});return n}getValueInRange(e){if((e=this._validateRange(e)).startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);let t=this._eol,n=e.startLineNumber-1,i=e.endLineNumber-1,r=[];r.push(this._lines[n].substring(e.startColumn-1));for(let o=n+1;o<i;o++)r.push(this._lines[o]);return r.push(this._lines[i].substring(0,e.endColumn-1)),r.join(t)}offsetAt(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getPrefixSum(e.lineNumber-2)+(e.column-1)}positionAt(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();let t=this._lineStarts.getIndexOf(e),n=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,n)}}_validateRange(e){const t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),n=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||n.lineNumber!==e.endLineNumber||n.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:n.lineNumber,endColumn:n.column}:e}_validatePosition(e){if(!lj.isIPosition(e))throw new Error("bad position");let{lineNumber:t,column:n}=e,i=!1;if(t<1)t=1,n=1,i=!0;else if(t>this._lines.length)t=this._lines.length,n=this._lines[t-1].length+1,i=!0;else{let e=this._lines[t-1].length+1;n<1?(n=1,i=!0):n>e&&(n=e,i=!0)}return i?{lineNumber:t,column:n}:e}}class gY{constructor(e,t){this._host=e,this._models=Object.create(null),this._foreignModuleFactory=t,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(e){return this._models[e]}_getModels(){let e=[];return Object.keys(this._models).forEach((t=>e.push(this._models[t]))),e}acceptNewModel(e){this._models[e.url]=new pY(ZB.parse(e.url),e.lines,e.EOL,e.versionId)}acceptModelChanged(e,t){if(!this._models[e])return;this._models[e].onEvents(t)}acceptRemovedModel(e){this._models[e]&&delete this._models[e]}computeDiff(e,t,n,i){return fY(this,void 0,void 0,(function*(){const r=this._getModel(e),o=this._getModel(t);if(!r||!o)return null;const s=r.getLinesContent(),a=o.getLinesContent(),l=new JK(s,a,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:n,shouldMakePrettyDiff:!0,maxComputationTime:i}).computeDiff(),c=!(l.changes.length>0)&&this._modelsAreIdentical(r,o);return{quitEarly:l.quitEarly,identical:c,changes:l.changes}}))}_modelsAreIdentical(e,t){const n=e.getLineCount();if(n!==t.getLineCount())return!1;for(let i=1;i<=n;i++){if(e.getLineContent(i)!==t.getLineContent(i))return!1}return!0}computeMoreMinimalEdits(e,t){return fY(this,void 0,void 0,(function*(){const n=this._getModel(e);if(!n)return t;const i=[];let r;t=t.slice(0).sort(((e,t)=>{if(e.range&&t.range)return cj.compareRangesUsingStarts(e.range,t.range);return(e.range?0:1)-(t.range?0:1)}));for(let{range:e,text:o,eol:s}of t){if("number"==typeof s&&(r=s),cj.isEmpty(e)&&!o)continue;const t=n.getValueInRange(e);if(o=o.replace(/\r\n|\n|\r/g,n.eol),t===o)continue;if(Math.max(o.length,t.length)>gY._diffLimit){i.push({range:e,text:o});continue}const a=WK(t,o,!1),l=n.offsetAt(cj.lift(e).getStartPosition());for(const e of a){const t=n.positionAt(l+e.originalStart),r=n.positionAt(l+e.originalStart+e.originalLength),s={text:o.substr(e.modifiedStart,e.modifiedLength),range:{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:r.lineNumber,endColumn:r.column}};n.getValueInRange(s.range)!==s.text&&i.push(s)}}return"number"==typeof r&&i.push({eol:r,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),i}))}computeLinks(e){return fY(this,void 0,void 0,(function*(){let t=this._getModel(e);return t?function(e){return e&&"function"==typeof e.getLineCount&&"function"==typeof e.getLineContent?hY.computeLinks(e):[]}(t):null}))}textualSuggest(e,t,n,i){return fY(this,void 0,void 0,(function*(){const r=new QP(!0),o=new RegExp(n,i),s=new Set;e:for(let n of e){const e=this._getModel(n);if(e)for(let n of e.words(o))if(n!==t&&isNaN(Number(n))&&(s.add(n),s.size>gY._suggestionsLimit))break e}return{words:Array.from(s),duration:r.elapsed()}}))}computeWordRanges(e,t,n,i){return fY(this,void 0,void 0,(function*(){let r=this._getModel(e);if(!r)return Object.create(null);const o=new RegExp(n,i),s=Object.create(null);for(let e=t.startLineNumber;e<t.endLineNumber;e++){let t=r.getLineWords(e,o);for(const n of t){if(!isNaN(Number(n.word)))continue;let t=s[n.word];t||(t=[],s[n.word]=t),t.push({startLineNumber:e,startColumn:n.startColumn,endLineNumber:e,endColumn:n.endColumn})}}return s}))}navigateValueSet(e,t,n,i,r){return fY(this,void 0,void 0,(function*(){let o=this._getModel(e);if(!o)return null;let s=new RegExp(i,r);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});let a=o.getValueInRange(t),l=o.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},s);if(!l)return null;let c=o.getValueInRange(l);return dY.INSTANCE.navigateValueSet(t,a,l,c,n)}))}loadForeignModule(e,t,n){const i=function(e,t){const n=e=>function(){const n=Array.prototype.slice.call(arguments,0);return t(e,n)};let i={};for(const r of e)i[r]=n(r);return i}(n,((e,t)=>this._host.fhr(e,t)));let r={host:i,getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(r,t),Promise.resolve(oU(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(e,t){if(!this._foreignModule||"function"!=typeof this._foreignModule[e])return Promise.reject(new Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._foreignModule[e].apply(this._foreignModule,t))}catch(nR){return Promise.reject(nR)}}}gY._diffLimit=1e5,gY._suggestionsLimit=1e4,"function"==typeof importScripts&&(BR.monaco=Nz());const mY=Fz("textResourceConfigurationService"),vY=Fz("textResourcePropertiesService");function yY(e,t=0){return e[e.length-(1+t)]}function bY(e,t,n=((e,t)=>e===t)){if(e===t)return!0;if(!e||!t)return!1;if(e.length!==t.length)return!1;for(let i=0,r=e.length;i<r;i++)if(!n(e[i],t[i]))return!1;return!0}function _Y(e){return Array.isArray(e)&&e.length>0}function wY(e,t=(e=>e)){const n=new Set;return e.filter((e=>{const i=t(e);return!n.has(i)&&(n.add(i),!0)}))}function CY(e,t){return e.length>0?e[0]:t}function xY(e,t){let n="number"==typeof t?e:0;"number"==typeof t?n=e:(n=0,t=e);const i=[];if(n<=t)for(let r=n;r<t;r++)i.push(r);else for(let r=n;r>t;r--)i.push(r);return i}function kY(e,t,n){const i=e.slice(0,t),r=e.slice(t);return i.concat(n,r)}function SY(e,t){const n=e.indexOf(t);n>-1&&(e.splice(n,1),e.unshift(t))}function DY(e,t){const n=e.indexOf(t);n>-1&&(e.splice(n,1),e.push(t))}function EY(e,t,n,i){const r=LY(e,t),o=e.splice(r,n);return function(e,t,n){const i=LY(e,t),r=e.length,o=n.length;e.length=r+o;for(let s=r-1;s>=i;s--)e[s+o]=e[s];for(let s=0;s<o;s++)e[s+i]=n[s]}(e,r,i),o}function LY(e,t){return t<0?Math.max(t+e.length,0):Math.min(t,e.length)}class TY{constructor(e){this.items=e,this.firstIdx=0,this.lastIdx=this.items.length-1}takeWhile(e){let t=this.firstIdx;for(;t<this.items.length&&e(this.items[t]);)t++;const n=t===this.firstIdx?null:this.items.slice(this.firstIdx,t);return this.firstIdx=t,n}takeFromEndWhile(e){let t=this.lastIdx;for(;t>=0&&e(this.items[t]);)t--;const n=t===this.lastIdx?null:this.items.slice(t+1,this.lastIdx+1);return this.lastIdx=t,n}peek(){return this.items[this.firstIdx]}}const NY=Fz("logService");var MY,AY;(AY=MY||(MY={}))[AY.Trace=0]="Trace",AY[AY.Debug=1]="Debug",AY[AY.Info=2]="Info",AY[AY.Warning=3]="Warning",AY[AY.Error=4]="Error",AY[AY.Critical=5]="Critical",AY[AY.Off=6]="Off";const IY=MY.Info;class OY extends KP{constructor(){super(...arguments),this.level=IY,this._onDidChangeLogLevel=this._register(new nB)}setLevel(e){this.level!==e&&(this.level=e,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}class FY extends OY{constructor(e=IY){super(),this.setLevel(e)}trace(e,...t){this.getLevel()<=MY.Trace&&console.log("%cTRACE","color: #888",e,...t)}debug(e,...t){this.getLevel()<=MY.Debug&&console.log("%cDEBUG","background: #eee; color: #888",e,...t)}info(e,...t){this.getLevel()<=MY.Info&&console.log("%c INFO","color: #33f",e,...t)}error(e,...t){this.getLevel()<=MY.Error&&console.log("%c  ERR","color: #f33",e,...t)}dispose(){}}class RY extends KP{constructor(e){super(),this.logger=e,this._register(e)}getLevel(){return this.logger.getLevel()}trace(e,...t){this.logger.trace(e,...t)}debug(e,...t){this.logger.debug(e,...t)}info(e,...t){this.logger.info(e,...t)}error(e,...t){this.logger.error(e,...t)}}var PY=globalThis&&globalThis.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},BY=globalThis&&globalThis.__param||function(e,t){return function(n,i){t(n,i,e)}},jY=globalThis&&globalThis.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(nR){o(nR)}}function a(e){try{l(i.throw(e))}catch(nR){o(nR)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function zY(e,t){let n=e.getModel(t);return!!n&&!n.isTooLargeForSyncing()}let VY=class extends KP{constructor(e,t,n){super(),this._modelService=e,this._workerManager=this._register(new HY(this._modelService)),this._logService=n,this._register(J$.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(e,t)=>zY(this._modelService,e.uri)?this._workerManager.withWorker().then((t=>t.computeLinks(e.uri))).then((e=>e&&{links:e})):Promise.resolve({links:[]})})),this._register(F$.register("*",new WY(this._workerManager,t,this._modelService)))}dispose(){super.dispose()}computeDiff(e,t,n,i){return this._workerManager.withWorker().then((r=>r.computeDiff(e,t,n,i)))}computeMoreMinimalEdits(e,t){if(_Y(t)){if(!zY(this._modelService,e))return Promise.resolve(t);const n=QP.create(!0),i=this._workerManager.withWorker().then((n=>n.computeMoreMinimalEdits(e,t)));return i.finally((()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",e.toString(!0),n.elapsed()))),Promise.race([i,gV(1e3).then((()=>t))])}return Promise.resolve(void 0)}canNavigateValueSet(e){return zY(this._modelService,e)}navigateValueSet(e,t,n){return this._workerManager.withWorker().then((i=>i.navigateValueSet(e,t,n)))}canComputeWordRanges(e){return zY(this._modelService,e)}computeWordRanges(e,t){return this._workerManager.withWorker().then((n=>n.computeWordRanges(e,t)))}};VY=PY([BY(0,m$),BY(1,mY),BY(2,NY)],VY);class WY{constructor(e,t,n){this._debugDisplayName="wordbasedCompletions",this._workerManager=e,this._configurationService=t,this._modelService=n}provideCompletionItems(e,t){return jY(this,void 0,void 0,(function*(){const n=this._configurationService.getValue(e.uri,t,"editor");if(!n.wordBasedSuggestions)return;const i=[];if("currentDocument"===n.wordBasedSuggestionsMode)zY(this._modelService,e.uri)&&i.push(e.uri);else for(const t of this._modelService.getModels())zY(this._modelService,t.uri)&&(t===e?i.unshift(t.uri):"allDocuments"!==n.wordBasedSuggestionsMode&&t.getLanguageId()!==e.getLanguageId()||i.push(t.uri));if(0===i.length)return;const r=FK.getWordDefinition(e.getLanguageId()),o=e.getWordAtPosition(t),s=o?new cj(t.lineNumber,o.startColumn,t.lineNumber,o.endColumn):cj.fromPositions(t),a=s.setEndPosition(t.lineNumber,t.column),l=yield this._workerManager.withWorker(),c=yield l.textualSuggest(i,null==o?void 0:o.word,r);return c?{duration:c.duration,suggestions:c.words.map((e=>({kind:18,label:e,insertText:e,range:{insert:a,replace:s}})))}:void 0}))}}class HY extends KP{constructor(e){super(),this._modelService=e,this._editorWorkerClient=null,this._lastWorkerUsedTime=(new Date).getTime(),this._register(new yV).cancelAndSet((()=>this._checkStopIdleWorker()),Math.round(15e4)),this._register(this._modelService.onModelRemoved((e=>this._checkStopEmptyWorker())))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;0===this._modelService.getModels().length&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;(new Date).getTime()-this._lastWorkerUsedTime>3e5&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new KY(this._modelService,!1,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)}}class UY extends KP{constructor(e,t,n){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=e,this._modelService=t,!n){let e=new yV;e.cancelAndSet((()=>this._checkStopModelSync()),Math.round(3e4)),this._register(e)}}dispose(){for(let e in this._syncedModels)HP(this._syncedModels[e]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(e,t){for(const n of e){let e=n.toString();this._syncedModels[e]||this._beginModelSync(n,t),this._syncedModels[e]&&(this._syncedModelsLastUsedTime[e]=(new Date).getTime())}}_checkStopModelSync(){let e=(new Date).getTime(),t=[];for(let n in this._syncedModelsLastUsedTime){e-this._syncedModelsLastUsedTime[n]>6e4&&t.push(n)}for(const n of t)this._stopModelSync(n)}_beginModelSync(e,t){let n=this._modelService.getModel(e);if(!n)return;if(!t&&n.isTooLargeForSyncing())return;let i=e.toString();this._proxy.acceptNewModel({url:n.uri.toString(),lines:n.getLinesContent(),EOL:n.getEOL(),versionId:n.getVersionId()});const r=new qP;r.add(n.onDidChangeContent((e=>{this._proxy.acceptModelChanged(i.toString(),e)}))),r.add(n.onWillDispose((()=>{this._stopModelSync(i)}))),r.add($P((()=>{this._proxy.acceptRemovedModel(i)}))),this._syncedModels[i]=r}_stopModelSync(e){let t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],HP(t)}}class $Y{constructor(e){this._instance=e,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class qY{constructor(e){this._workerClient=e}fhr(e,t){return this._workerClient.fhr(e,t)}}class KY extends KP{constructor(e,t,n){super(),this._disposed=!1,this._modelService=e,this._keepIdleModels=t,this._workerFactory=new kq(n),this._worker=null,this._modelManager=null}fhr(e,t){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new yq(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new qY(this)))}catch(e){hq(e),this._worker=new $Y(new gY(new qY(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,(e=>(hq(e),this._worker=new $Y(new gY(new qY(this),null)),this._getOrCreateWorker().getProxyObject())))}_getOrCreateModelManager(e){return this._modelManager||(this._modelManager=this._register(new UY(e,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(e,t=!1){return jY(this,void 0,void 0,(function*(){return this._disposed?Promise.reject(PP()):this._getProxy().then((n=>(this._getOrCreateModelManager(n).ensureSyncedResources(e,t),n)))}))}computeDiff(e,t,n,i){return this._withSyncedResources([e,t],!0).then((r=>r.computeDiff(e.toString(),t.toString(),n,i)))}computeMoreMinimalEdits(e,t){return this._withSyncedResources([e]).then((n=>n.computeMoreMinimalEdits(e.toString(),t)))}computeLinks(e){return this._withSyncedResources([e]).then((t=>t.computeLinks(e.toString())))}textualSuggest(e,t,n){return jY(this,void 0,void 0,(function*(){const i=yield this._withSyncedResources(e),r=n.source,o=OW(n);return i.textualSuggest(e.map((e=>e.toString())),t,r,o)}))}computeWordRanges(e,t){return this._withSyncedResources([e]).then((n=>{let i=this._modelService.getModel(e);if(!i)return Promise.resolve(null);let r=FK.getWordDefinition(i.getLanguageId()),o=r.source,s=OW(r);return n.computeWordRanges(e.toString(),t,o,s)}))}navigateValueSet(e,t,n){return this._withSyncedResources([e]).then((i=>{let r=this._modelService.getModel(e);if(!r)return null;let o=FK.getWordDefinition(r.getLanguageId()),s=o.source,a=OW(o);return i.navigateValueSet(e.toString(),t,n,s,a)}))}dispose(){super.dispose(),this._disposed=!0}}class YY extends KY{constructor(e,t){super(e,t.keepIdleModels||!1,t.label),this._foreignModuleId=t.moduleId,this._foreignModuleCreateData=t.createData||null,this._foreignModuleHost=t.host||null,this._foreignProxy=null}fhr(e,t){if(!this._foreignModuleHost||"function"!=typeof this._foreignModuleHost[e])return Promise.reject(new Error("Missing method "+e+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[e].apply(this._foreignModuleHost,t))}catch(nR){return Promise.reject(nR)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then((e=>{const t=this._foreignModuleHost?oU(this._foreignModuleHost):[];return e.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,t).then((t=>{this._foreignModuleCreateData=null;const n=(t,n)=>e.fmr(t,n),i=(e,t)=>function(){const n=Array.prototype.slice.call(arguments,0);return t(e,n)};let r={};for(const e of t)r[e]=i(e,n);return r}))}))),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(e){return this._withSyncedResources(e).then((e=>this.getProxy()))}}class GY{constructor(e,t,n){this._lineTokensBrand=void 0,this._tokens=e,this._tokensCount=this._tokens.length>>>1,this._text=t,this._languageIdCodec=n}static createEmpty(e,t){const n=GY.defaultTokenMetadata,i=new Uint32Array(2);return i[0]=e.length,i[1]=n,new GY(i,e,t)}equals(e){return e instanceof GY&&this.slicedEquals(e,0,this._tokensCount)}slicedEquals(e,t,n){if(this._text!==e._text)return!1;if(this._tokensCount!==e._tokensCount)return!1;const i=t<<1,r=i+(n<<1);for(let o=i;o<r;o++)if(this._tokens[o]!==e._tokens[o])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(e){return e>0?this._tokens[e-1<<1]:0}getMetadata(e){return this._tokens[1+(e<<1)]}getLanguageId(e){const t=this._tokens[1+(e<<1)],n=M$.getLanguageId(t);return this._languageIdCodec.decodeLanguageId(n)}getStandardTokenType(e){const t=this._tokens[1+(e<<1)];return M$.getTokenType(t)}getForeground(e){const t=this._tokens[1+(e<<1)];return M$.getForeground(t)}getClassName(e){const t=this._tokens[1+(e<<1)];return M$.getClassNameFromMetadata(t)}getInlineStyle(e,t){const n=this._tokens[1+(e<<1)];return M$.getInlineStyleFromMetadata(n,t)}getEndOffset(e){return this._tokens[e<<1]}findTokenIndexAtOffset(e){return GY.findIndexInTokensArray(this._tokens,e)}inflate(){return this}sliceAndInflate(e,t,n){return new XY(this,e,t,n)}static convertToEndOffset(e,t){const n=(e.length>>>1)-1;for(let i=0;i<n;i++)e[i<<1]=e[i+1<<1];e[n<<1]=t}static findIndexInTokensArray(e,t){if(e.length<=2)return 0;let n=0,i=(e.length>>>1)-1;for(;n<i;){const r=n+Math.floor((i-n)/2),o=e[r<<1];if(o===t)return r+1;o<t?n=r+1:o>t&&(i=r)}return n}withInserted(e){if(0===e.length)return this;let t=0,n=0,i="";const r=new Array;let o=0;for(;;){let s=t<this._tokensCount?this._tokens[t<<1]:-1,a=n<e.length?e[n]:null;if(-1!==s&&(null===a||s<=a.offset)){i+=this._text.substring(o,s);const e=this._tokens[1+(t<<1)];r.push(i.length,e),t++,o=s}else{if(!a)break;if(a.offset>o){i+=this._text.substring(o,a.offset);const e=this._tokens[1+(t<<1)];r.push(i.length,e),o=a.offset}i+=a.text,r.push(i.length,a.tokenMetadata),n++}}return new GY(new Uint32Array(r),i,this._languageIdCodec)}}GY.defaultTokenMetadata=16793600;class XY{constructor(e,t,n,i){this._source=e,this._startOffset=t,this._endOffset=n,this._deltaOffset=i,this._firstTokenIndex=e.findTokenIndexAtOffset(t),this._tokensCount=0;for(let r=this._firstTokenIndex,o=e.getCount();r<o;r++){if(e.getStartOffset(r)>=n)break;this._tokensCount++}}equals(e){return e instanceof XY&&(this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount))}getCount(){return this._tokensCount}getForeground(e){return this._source.getForeground(this._firstTokenIndex+e)}getEndOffset(e){const t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset}getClassName(e){return this._source.getClassName(this._firstTokenIndex+e)}getInlineStyle(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)}findTokenIndexAtOffset(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}class ZY{constructor(e,t,n,i){this.startColumn=e,this.endColumn=t,this.className=n,this.type=i,this._lineDecorationBrand=void 0}static _equals(e,t){return e.startColumn===t.startColumn&&e.endColumn===t.endColumn&&e.className===t.className&&e.type===t.type}static equalsArr(e,t){const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(!ZY._equals(e[i],t[i]))return!1;return!0}static extractWrapped(e,t,n){if(0===e.length)return e;const i=t+1,r=n+1,o=n-t,s=[];let a=0;for(const l of e)l.endColumn<=i||l.startColumn>=r||(s[a++]=new ZY(Math.max(1,l.startColumn-i+1),Math.min(o+1,l.endColumn-i+1),l.className,l.type));return s}static filter(e,t,n,i){if(0===e.length)return[];let r=[],o=0;for(let s=0,a=e.length;s<a;s++){const a=e[s],l=a.range;if(l.endLineNumber<t||l.startLineNumber>t)continue;if(l.isEmpty()&&(0===a.type||3===a.type))continue;const c=l.startLineNumber===t?l.startColumn:n,u=l.endLineNumber===t?l.endColumn:i;r[o++]=new ZY(c,u,a.inlineClassName,a.type)}return r}static _typeCompare(e,t){const n=[2,0,1,3];return n[e]-n[t]}static compare(e,t){if(e.startColumn!==t.startColumn)return e.startColumn-t.startColumn;if(e.endColumn!==t.endColumn)return e.endColumn-t.endColumn;const n=ZY._typeCompare(e.type,t.type);return 0!==n?n:e.className!==t.className?e.className<t.className?-1:1:0}}class JY{constructor(e,t,n,i){this.startOffset=e,this.endOffset=t,this.className=n,this.metadata=i}}class QY{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(e){let t=0;for(let n=0,i=e.length;n<i;n++)t|=e[n];return t}consumeLowerThan(e,t,n){for(;this.count>0&&this.stopOffsets[0]<e;){let e=0;for(;e+1<this.count&&this.stopOffsets[e]===this.stopOffsets[e+1];)e++;n.push(new JY(t,this.stopOffsets[e],this.classNames.join(" "),QY._metadata(this.metadata))),t=this.stopOffsets[e]+1,this.stopOffsets.splice(0,e+1),this.classNames.splice(0,e+1),this.metadata.splice(0,e+1),this.count-=e+1}return this.count>0&&t<e&&(n.push(new JY(t,e-1,this.classNames.join(" "),QY._metadata(this.metadata))),t=e),t}insert(e,t,n){if(0===this.count||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t),this.metadata.push(n);else for(let i=0;i<this.count;i++)if(this.stopOffsets[i]>=e){this.stopOffsets.splice(i,0,e),this.classNames.splice(i,0,t),this.metadata.splice(i,0,n);break}this.count++}}class eG{constructor(e,t,n){this._linePartBrand=void 0,this.endIndex=e,this.type=t,this.metadata=n}isWhitespace(){return!!(1&this.metadata)}isPseudoAfter(){return!!(4&this.metadata)}}class tG{constructor(e,t){this.startOffset=e,this.endOffset=t}equals(e){return this.startOffset===e.startOffset&&this.endOffset===e.endOffset}}class nG{constructor(e,t,n,i,r,o,s,a,l,c,u,h,d,f,p,g,m,v,y){this.useMonospaceOptimizations=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=n,this.continuesWithWrappedLine=i,this.isBasicASCII=r,this.containsRTL=o,this.fauxIndentLength=s,this.lineTokens=a,this.lineDecorations=l.sort(ZY.compare),this.tabSize=c,this.startVisibleColumn=u,this.spaceWidth=h,this.stopRenderingLineAfter=p,this.renderWhitespace="all"===g?4:"boundary"===g?1:"selection"===g?2:"trailing"===g?3:0,this.renderControlCharacters=m,this.fontLigatures=v,this.selectionsOnLine=y&&y.sort(((e,t)=>e.startOffset<t.startOffset?-1:1));Math.abs(f-h)<Math.abs(d-h)?(this.renderSpaceWidth=f,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=d,this.renderSpaceCharCode=183)}sameSelection(e){if(null===this.selectionsOnLine)return null===e;if(null===e)return!1;if(e.length!==this.selectionsOnLine.length)return!1;for(let t=0;t<this.selectionsOnLine.length;t++)if(!this.selectionsOnLine[t].equals(e[t]))return!1;return!0}equals(e){return this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineContent===e.lineContent&&this.continuesWithWrappedLine===e.continuesWithWrappedLine&&this.isBasicASCII===e.isBasicASCII&&this.containsRTL===e.containsRTL&&this.fauxIndentLength===e.fauxIndentLength&&this.tabSize===e.tabSize&&this.startVisibleColumn===e.startVisibleColumn&&this.spaceWidth===e.spaceWidth&&this.renderSpaceWidth===e.renderSpaceWidth&&this.renderSpaceCharCode===e.renderSpaceCharCode&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.fontLigatures===e.fontLigatures&&ZY.equalsArr(this.lineDecorations,e.lineDecorations)&&this.lineTokens.equals(e.lineTokens)&&this.sameSelection(e.selectionsOnLine)}}class iG{constructor(e,t){this.partIndex=e,this.charIndex=t}}class rG{constructor(e,t){this.length=e,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(e){return(4294901760&e)>>>16}static getCharIndex(e){return(65535&e)>>>0}setColumnInfo(e,t,n,i){const r=(t<<16|n<<0)>>>0;this._data[e-1]=r,this._absoluteOffsets[e-1]=i+n}getAbsoluteOffset(e){return 0===this._absoluteOffsets.length?0:this._absoluteOffsets[e-1]}charOffsetToPartData(e){return 0===this.length?0:e<0?this._data[0]:e>=this.length?this._data[this.length-1]:this._data[e]}getDomPosition(e){const t=this.charOffsetToPartData(e-1),n=rG.getPartIndex(t),i=rG.getCharIndex(t);return new iG(n,i)}getColumn(e,t){return this.partDataToCharOffset(e.partIndex,t,e.charIndex)+1}partDataToCharOffset(e,t,n){if(0===this.length)return 0;let i=(e<<16|n<<0)>>>0,r=0,o=this.length-1;for(;r+1<o;){let e=r+o>>>1,t=this._data[e];if(t===i)return e;t>i?o=e:r=e}if(r===o)return r;let s=this._data[r],a=this._data[o];if(s===i)return r;if(a===i)return o;let l,c=rG.getPartIndex(s),u=rG.getCharIndex(s);return l=c!==rG.getPartIndex(a)?t:rG.getCharIndex(a),n-u<=l-n?r:o}}class oG{constructor(e,t,n){this._renderLineOutputBrand=void 0,this.characterMapping=e,this.containsRTL=t,this.containsForeignElements=n}}function sG(e,t){if(0===e.lineContent.length){if(e.lineDecorations.length>0){t.appendASCIIString("<span>");let n=0,i=0,r=0;for(const s of e.lineDecorations)1!==s.type&&2!==s.type||(t.appendASCIIString('<span class="'),t.appendASCIIString(s.className),t.appendASCIIString('"></span>'),1===s.type&&(r|=1,n++),2===s.type&&(r|=2,i++));t.appendASCIIString("</span>");const o=new rG(1,n+i);return o.setColumnInfo(1,n,0,0),new oG(o,!1,r)}return t.appendASCIIString("<span><span></span></span>"),new oG(new rG(0,0),!1,0)}return function(e,t){const n=e.fontIsMonospace,i=e.canUseHalfwidthRightwardsArrow,r=e.containsForeignElements,o=e.lineContent,s=e.len,a=e.isOverflowing,l=e.parts,c=e.fauxIndentLength,u=e.tabSize,h=e.startVisibleColumn,d=e.containsRTL,f=e.spaceWidth,p=e.renderSpaceCharCode,g=e.renderWhitespace,m=e.renderControlCharacters,v=new rG(s+1,l.length);let y=!1,b=0,_=h,w=0,C=0,x=0,k=0;d?t.appendASCIIString('<span dir="ltr">'):t.appendASCIIString("<span>");for(let S=0,D=l.length;S<D;S++){k+=x;const e=l[S],a=e.endIndex,h=e.type,d=0!==g&&e.isWhitespace(),D=d&&!n&&("mtkw"===h||!r),E=b===a&&e.isPseudoAfter();if(w=0,t.appendASCIIString('<span class="'),t.appendASCIIString(D?"mtkz":h),t.appendASCII(34),d){let e=0;{let t=b,n=_;for(;t<a;t++){const i=0|(9===o.charCodeAt(t)?u-n%u:1);e+=i,t>=c&&(n+=i)}}for(D&&(t.appendASCIIString(' style="width:'),t.appendASCIIString(String(f*e)),t.appendASCIIString('px"')),t.appendASCII(62);b<a;b++){v.setColumnInfo(b+1,S-C,w,k),C=0;let e;if(9===o.charCodeAt(b)){e=u-_%u|0,!i||e>1?t.write1(8594):t.write1(65515);for(let n=2;n<=e;n++)t.write1(160)}else e=1,t.write1(p);w+=e,b>=c&&(_+=e)}x=e}else{let e=0;for(t.appendASCII(62);b<a;b++){v.setColumnInfo(b+1,S-C,w,k),C=0;const n=o.charCodeAt(b);let i=1,r=1;switch(n){case 9:i=u-_%u,r=i;for(let e=1;e<=i;e++)t.write1(160);break;case 32:t.write1(160);break;case 60:t.appendASCIIString("&lt;");break;case 62:t.appendASCIIString("&gt;");break;case 38:t.appendASCIIString("&amp;");break;case 0:m?t.write1(9216):t.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:t.write1(65533);break;default:lH(n)&&r++,m&&n<32?t.write1(9216+n):m&&127===n?t.write1(9249):m&&uG(n)?(t.appendASCIIString("[U+"),t.appendASCIIString(hG(n)),t.appendASCIIString("]"),i=8):t.write1(n)}w+=i,e+=i,b>=c&&(_+=r)}x=e}E?C++:C=0,b>=s&&!y&&e.isPseudoAfter()&&(y=!0,v.setColumnInfo(b+1,S,w,k)),t.appendASCIIString("</span>")}y||v.setColumnInfo(s+1,l.length-1,w,k);a&&t.appendASCIIString("<span>&hellip;</span>");return t.appendASCIIString("</span>"),new oG(v,d,r)}(function(e){const t=e.lineContent;let n,i;-1!==e.stopRenderingLineAfter&&e.stopRenderingLineAfter<t.length?(n=!0,i=e.stopRenderingLineAfter):(n=!1,i=t.length);let r=function(e,t,n){let i=[],r=0;t>0&&(i[r++]=new eG(t,"",0));for(let o=0,s=e.getCount();o<s;o++){const s=e.getEndOffset(o);if(s<=t)continue;const a=e.getClassName(o);if(s>=n){i[r++]=new eG(n,a,0);break}i[r++]=new eG(s,a,0)}return i}(e.lineTokens,e.fauxIndentLength,i);(4===e.renderWhitespace||1===e.renderWhitespace||2===e.renderWhitespace&&e.selectionsOnLine||3===e.renderWhitespace)&&(r=function(e,t,n,i){const r=e.continuesWithWrappedLine,o=e.fauxIndentLength,s=e.tabSize,a=e.startVisibleColumn,l=e.useMonospaceOptimizations,c=e.selectionsOnLine,u=1===e.renderWhitespace,h=3===e.renderWhitespace,d=e.renderSpaceWidth!==e.spaceWidth;let f=[],p=0,g=0,m=i[g].type,v=i[g].endIndex;const y=i.length;let b,_=!1,w=RW(t);-1===w?(_=!0,w=n,b=n):b=BW(t);let C=!1,x=0,k=c&&c[x],S=a%s;for(let E=o;E<n;E++){const e=t.charCodeAt(E);let r;if(k&&E>=k.endOffset&&(x++,k=c&&c[x]),E<w||E>b)r=!0;else if(9===e)r=!0;else if(32===e)if(u)if(C)r=!0;else{const e=E+1<n?t.charCodeAt(E+1):0;r=32===e||9===e}else r=!0;else r=!1;if(r&&c&&(r=!!k&&k.startOffset<=E&&k.endOffset>E),r&&h&&(r=_||E>b),C){if(!r||!l&&S>=s){if(d){for(let e=(p>0?f[p-1].endIndex:o)+1;e<=E;e++)f[p++]=new eG(e,"mtkw",1)}else f[p++]=new eG(E,"mtkw",1);S%=s}}else(E===v||r&&E>o)&&(f[p++]=new eG(E,m,0),S%=s);for(9===e?S=s:lH(e)?S+=2:S++,C=r;E===v&&(g++,g<y);)m=i[g].type,v=i[g].endIndex}let D=!1;if(C)if(r&&u){let e=n>0?t.charCodeAt(n-1):0,i=n>1?t.charCodeAt(n-2):0;32===e&&32!==i&&9!==i||(D=!0)}else D=!0;if(D)if(d){for(let e=(p>0?f[p-1].endIndex:o)+1;e<=n;e++)f[p++]=new eG(e,"mtkw",1)}else f[p++]=new eG(n,"mtkw",1);else f[p++]=new eG(n,m,0);return f}(e,t,i,r));let o=0;if(e.lineDecorations.length>0){for(let t=0,n=e.lineDecorations.length;t<n;t++){const n=e.lineDecorations[t];3===n.type||1===n.type?o|=1:2===n.type&&(o|=2)}r=function(e,t,n,i){i.sort(ZY.compare);const r=class{static normalize(e,t){if(0===t.length)return[];let n=[];const i=new QY;let r=0;for(let o=0,s=t.length;o<s;o++){const s=t[o];let a=s.startColumn,l=s.endColumn;const c=s.className,u=1===s.type?2:2===s.type?4:0;a>1&&GW(e.charCodeAt(a-2))&&a--,l>1&&GW(e.charCodeAt(l-2))&&l--;const h=a-1,d=l-2;r=i.consumeLowerThan(h,r,n),0===i.count&&(r=h),i.insert(d,c,u)}return i.consumeLowerThan(1073741824,r,n),n}}.normalize(e,i),o=r.length;let s=0,a=[],l=0,c=0;for(let h=0,d=n.length;h<d;h++){const e=n[h],t=e.endIndex,i=e.type,u=e.metadata;for(;s<o&&r[s].startOffset<t;){const e=r[s];if(e.startOffset>c&&(c=e.startOffset,a[l++]=new eG(c,i,u)),!(e.endOffset+1<=t)){c=t,a[l++]=new eG(c,i+" "+e.className,u|e.metadata);break}c=e.endOffset+1,a[l++]=new eG(c,i+" "+e.className,u|e.metadata),s++}t>c&&(c=t,a[l++]=new eG(c,i,u))}const u=n[n.length-1].endIndex;if(s<o&&r[s].startOffset===u)for(;s<o&&r[s].startOffset===u;){const e=r[s];a[l++]=new eG(c,e.className,e.metadata),s++}return a}(t,0,r,e.lineDecorations)}e.containsRTL||(r=function(e,t,n){let i=0,r=[],o=0;if(n)for(let s=0,a=t.length;s<a;s++){const n=t[s],a=n.endIndex;if(i+50<a){const t=n.type,s=n.metadata;let l=-1,c=i;for(let n=i;n<a;n++)32===e.charCodeAt(n)&&(l=n),-1!==l&&n-c>=50&&(r[o++]=new eG(l+1,t,s),c=l+1,l=-1);c!==a&&(r[o++]=new eG(a,t,s))}else r[o++]=n;i=a}else for(let s=0,a=t.length;s<a;s++){const e=t[s],n=e.endIndex;let a=n-i;if(a>50){const t=e.type,s=e.metadata,l=Math.ceil(a/50);for(let e=1;e<l;e++){let n=i+50*e;r[o++]=new eG(n,t,s)}r[o++]=new eG(n,t,s)}else r[o++]=e;i=n}return r}(t,r,!e.isBasicASCII||e.fontLigatures));e.renderControlCharacters&&!e.isBasicASCII&&(r=function(e,t){let n=[],i=new eG(0,"",0),r=0;for(const o of t){const t=o.endIndex;for(;r<t;r++){uG(e.charCodeAt(r))&&(r>i.endIndex&&(i=new eG(r,o.type,o.metadata),n.push(i)),i=new eG(r+1,"mtkcontrol",o.metadata),n.push(i))}r>i.endIndex&&(i=new eG(t,o.type,o.metadata),n.push(i))}return n}(t,r));return new cG(e.useMonospaceOptimizations,e.canUseHalfwidthRightwardsArrow,t,i,n,r,o,e.fauxIndentLength,e.tabSize,e.startVisibleColumn,e.containsRTL,e.spaceWidth,e.renderSpaceCharCode,e.renderWhitespace,e.renderControlCharacters)}(e),t)}class aG{constructor(e,t,n,i){this.characterMapping=e,this.html=t,this.containsRTL=n,this.containsForeignElements=i}}function lG(e){let t=zq(1e4),n=sG(e,t);return new aG(n.characterMapping,t.build(),n.containsRTL,n.containsForeignElements)}class cG{constructor(e,t,n,i,r,o,s,a,l,c,u,h,d,f,p){this.fontIsMonospace=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=n,this.len=i,this.isOverflowing=r,this.parts=o,this.containsForeignElements=s,this.fauxIndentLength=a,this.tabSize=l,this.startVisibleColumn=c,this.containsRTL=u,this.spaceWidth=h,this.renderSpaceCharCode=d,this.renderWhitespace=f,this.renderControlCharacters=p}}function uG(e){return e<32?9!==e:127===e||(e>=8234&&e<=8238||e>=8294&&e<=8297||e>=8206&&e<=8207||1564===e)}function hG(e){return e.toString(16).toUpperCase().padStart(4,"0")}class dG{constructor(e,t,n,i){this._viewportBrand=void 0,this.top=0|e,this.left=0|t,this.width=0|n,this.height=0|i}}class fG{constructor(e,t){this.outputLineIndex=e,this.outputOffset=t}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(e,t){const n=this.outputLineIndex>0?t:0;return new lj(e+this.outputLineIndex,n+this.outputOffset+1)}}class pG{constructor(e,t,n,i,r){this.breakOffsets=e,this.breakOffsetsVisibleColumn=t,this.wrappedTextIndentLength=n,this.injectionOffsets=i,this.injectionOptions=r}getInputOffsetOfOutputPosition(e,t){let n=0;if(n=0===e?t:this.breakOffsets[e-1]+t,null!==this.injectionOffsets)for(let i=0;i<this.injectionOffsets.length&&n>this.injectionOffsets[i];i++)n<this.injectionOffsets[i]+this.injectionOptions[i].content.length?n=this.injectionOffsets[i]:n-=this.injectionOptions[i].content.length;return n}getOutputPositionOfInputOffset(e,t=2){let n=0;if(null!==this.injectionOffsets)for(let i=0;i<this.injectionOffsets.length&&!(e<this.injectionOffsets[i])&&(1===t||e!==this.injectionOffsets[i]);i++)n+=this.injectionOptions[i].content.length;return e+=n,this.getOutputPositionOfOffsetInUnwrappedLine(e,t)}getOutputPositionOfOffsetInUnwrappedLine(e,t=2){let n=0,i=this.breakOffsets.length-1,r=0,o=0;for(;n<=i;){r=n+(i-n)/2|0;const s=this.breakOffsets[r];if(o=r>0?this.breakOffsets[r-1]:0,0===t)if(e<=o)i=r-1;else{if(!(e>s))break;n=r+1}else if(e<o)i=r-1;else{if(!(e>=s))break;n=r+1}}return new fG(r,e-o)}outputPositionToOffsetInUnwrappedLine(e,t){let n=(e>0?this.breakOffsets[e-1]:0)+t;return e>0&&(n-=this.wrappedTextIndentLength),n}normalizeOffsetAroundInjections(e,t){const n=this.getInjectedTextAtOffset(e);if(!n)return e;if(2===t)return e===n.offsetInUnwrappedLine+n.length?n.offsetInUnwrappedLine+n.length:n.offsetInUnwrappedLine;if(1===t){let e=n.offsetInUnwrappedLine+n.length,t=n.injectedTextIndex;for(;t+1<this.injectionOffsets.length&&this.injectionOffsets[t+1]===this.injectionOffsets[t];)e+=this.injectionOptions[t+1].content.length,t++;return e}let i=n.offsetInUnwrappedLine,r=n.injectedTextIndex;for(;r-1>=0&&this.injectionOffsets[r-1]===this.injectionOffsets[r];)i-=this.injectionOptions[r-1].content.length,r++;return i}getInjectedText(e,t){const n=this.outputPositionToOffsetInUnwrappedLine(e,t),i=this.getInjectedTextAtOffset(n);return i?{options:this.injectionOptions[i.injectedTextIndex]}:null}getInjectedTextAtOffset(e){const t=this.injectionOffsets,n=this.injectionOptions;if(null!==t){let i=0;for(let r=0;r<t.length;r++){const o=n[r].content.length,s=t[r]+i,a=t[r]+i+o;if(s>e)break;if(e<=a)return{injectedTextIndex:r,offsetInUnwrappedLine:s,length:o};i+=o}}}}class gG{constructor(e,t){this.tabSize=e,this.data=t}}class mG{constructor(e,t,n,i,r,o,s){this._viewLineDataBrand=void 0,this.content=e,this.continuesWithWrappedLine=t,this.minColumn=n,this.maxColumn=i,this.startVisibleColumn=r,this.tokens=o,this.inlineDecorations=s}}class vG{constructor(e,t,n,i,r,o,s,a,l,c){this.minColumn=e,this.maxColumn=t,this.content=n,this.continuesWithWrappedLine=i,this.isBasicASCII=vG.isBasicASCII(n,o),this.containsRTL=vG.containsRTL(n,this.isBasicASCII,r),this.tokens=s,this.inlineDecorations=a,this.tabSize=l,this.startVisibleColumn=c}static isBasicASCII(e,t){return!t||oH(e)}static containsRTL(e,t,n){return!(t||!n)&&nH(e)}}class yG{constructor(e,t,n){this.range=e,this.inlineClassName=t,this.type=n}}class bG{constructor(e,t,n,i){this.startOffset=e,this.endOffset=t,this.inlineClassName=n,this.inlineClassNameAffectsLetterSpacing=i}toInlineDecoration(e){return new yG(new cj(e,this.startOffset+1,e,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class _G{constructor(e,t){this._viewModelDecorationBrand=void 0,this.range=e,this.options=t}}class wG{constructor(e,t,n){this.color=e,this.zIndex=t,this.data=n}static cmp(e,t){return e.zIndex===t.zIndex?e.color<t.color?-1:e.color>t.color?1:0:e.zIndex-t.zIndex}}function CG(e){return!function(e){return Array.isArray(e)}(e)}function xG(e){return"string"==typeof e}function kG(e){return!xG(e)}function SG(e){return!e}function DG(e,t){return e.ignoreCase&&t?t.toLowerCase():t}function EG(e){return e.replace(/[&<>'"_]/g,"-")}function LG(e,t){return new Error(`${e.languageId}: ${t}`)}function TG(e,t,n,i,r){let o=null;return t.replace(/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,(function(t,s,a,l,c,u,h,d,f){return SG(a)?SG(l)?!SG(c)&&c<i.length?DG(e,i[c]):!SG(h)&&e&&"string"==typeof e[h]?e[h]:(null===o&&(o=r.split("."),o.unshift(r)),!SG(u)&&u<o.length?DG(e,o[u]):""):DG(e,n):"$"}))}function NG(e,t){let n=t;for(;n&&n.length>0;){const t=e.tokenizer[n];if(t)return t;const i=n.lastIndexOf(".");n=i<0?null:n.substr(0,i)}return null}class MG{constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}static create(e,t){return this._INSTANCE.create(e,t)}create(e,t){if(null!==e&&e.depth>=this._maxCacheDepth)return new AG(e,t);let n=AG.getStackElementId(e);n.length>0&&(n+="|"),n+=t;let i=this._entries[n];return i||(i=new AG(e,t),this._entries[n]=i,i)}}MG._INSTANCE=new MG(5);class AG{constructor(e,t){this.parent=e,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(e){let t="";for(;null!==e;)t.length>0&&(t+="|"),t+=e.state,e=e.parent;return t}static _equals(e,t){for(;null!==e&&null!==t;){if(e===t)return!0;if(e.state!==t.state)return!1;e=e.parent,t=t.parent}return null===e&&null===t}equals(e){return AG._equals(this,e)}push(e){return MG.create(this,e)}pop(){return this.parent}popall(){let e=this;for(;e.parent;)e=e.parent;return e}switchTo(e){return MG.create(this.parent,e)}}class IG{constructor(e,t){this.languageId=e,this.state=t}equals(e){return this.languageId===e.languageId&&this.state.equals(e.state)}clone(){return this.state.clone()===this.state?this:new IG(this.languageId,this.state)}}class OG{constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}static create(e,t){return this._INSTANCE.create(e,t)}create(e,t){if(null!==t)return new FG(e,t);if(null!==e&&e.depth>=this._maxCacheDepth)return new FG(e,t);let n=AG.getStackElementId(e),i=this._entries[n];return i||(i=new FG(e,null),this._entries[n]=i,i)}}OG._INSTANCE=new OG(5);class FG{constructor(e,t){this.stack=e,this.embeddedModeData=t}clone(){return(this.embeddedModeData?this.embeddedModeData.clone():null)===this.embeddedModeData?this:OG.create(this.stack,this.embeddedModeData)}equals(e){return e instanceof FG&&(!!this.stack.equals(e.stack)&&(null===this.embeddedModeData&&null===e.embeddedModeData||null!==this.embeddedModeData&&null!==e.embeddedModeData&&this.embeddedModeData.equals(e.embeddedModeData)))}}class RG{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterMode(e,t){this._languageId=t}emit(e,t){this._lastTokenType===t&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=t,this._lastTokenLanguage=this._languageId,this._tokens.push(new hj(e,t,this._languageId)))}nestedModeTokenize(e,t,n,i){const r=n.languageId,o=n.state,s=rq.get(r);if(!s)return this.enterMode(i,r),this.emit(i,""),o;let a=s.tokenize(e,t,o,i);return this._tokens=this._tokens.concat(a.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,a.endState}finalize(e){return new dj(this._tokens,e)}}class PG{constructor(e,t){this._modeService=e,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterMode(e,t){this._currentLanguageId=this._modeService.languageIdCodec.encodeLanguageId(t)}emit(e,t){let n=this._theme.match(this._currentLanguageId,t);this._lastTokenMetadata!==n&&(this._lastTokenMetadata=n,this._tokens.push(e),this._tokens.push(n))}static _merge(e,t,n){let i=null!==e?e.length:0,r=t.length,o=null!==n?n.length:0;if(0===i&&0===r&&0===o)return new Uint32Array(0);if(0===i&&0===r)return n;if(0===r&&0===o)return e;let s=new Uint32Array(i+r+o);null!==e&&s.set(e);for(let a=0;a<r;a++)s[i+a]=t[a];return null!==n&&s.set(n,i+r),s}nestedModeTokenize(e,t,n,i){const r=n.languageId,o=n.state,s=rq.get(r);if(!s)return this.enterMode(i,r),this.emit(i,""),o;let a=s.tokenize2(e,t,o,i);return this._prependTokens=PG._merge(this._prependTokens,this._tokens,a.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,a.endState}finalize(e){return new fj(PG._merge(this._prependTokens,this._tokens,null),e)}}class BG{constructor(e,t,n,i){this._modeService=e,this._standaloneThemeService=t,this._languageId=n,this._lexer=i,this._embeddedModes=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let r=!1;this._tokenizationRegistryListener=rq.onDidChange((e=>{if(r)return;let t=!1;for(let n=0,i=e.changedLanguages.length;n<i;n++){let i=e.changedLanguages[n];if(this._embeddedModes[i]){t=!0;break}}t&&(r=!0,rq.fire([this._languageId]),r=!1)}))}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){let e=[];for(let t in this._embeddedModes){const n=rq.get(t);if(n){if(n instanceof BG){const t=n.getLoadStatus();!1===t.loaded&&e.push(t.promise)}continue}const i=rq.getPromise(t);i&&e.push(i)}return 0===e.length?{loaded:!0}:{loaded:!1,promise:Promise.all(e).then((e=>{}))}}getInitialState(){let e=MG.create(null,this._lexer.start);return OG.create(e,null)}tokenize(e,t,n,i){let r=new RG,o=this._tokenize(e,t,n,i,r);return r.finalize(o)}tokenize2(e,t,n,i){let r=new PG(this._modeService,this._standaloneThemeService.getColorTheme().tokenTheme),o=this._tokenize(e,t,n,i,r);return r.finalize(o)}_tokenize(e,t,n,i,r){return n.embeddedModeData?this._nestedTokenize(e,t,n,i,r):this._myTokenize(e,t,n,i,r)}_findLeavingNestedModeOffset(e,t){let n=this._lexer.tokenizer[t.stack.state];if(!n&&(n=NG(this._lexer,t.stack.state),!n))throw LG(this._lexer,"tokenizer state is not defined: "+t.stack.state);let i=-1,r=!1;for(const o of n){if(!kG(o.action)||"@pop"!==o.action.nextEmbedded)continue;r=!0;let t=o.regex,n=o.regex.source;if("^(?:"===n.substr(0,4)&&")"===n.substr(n.length-1,1)){let e=(t.ignoreCase?"i":"")+(t.unicode?"u":"");t=new RegExp(n.substr(4,n.length-5),e)}let s=e.search(t);-1===s||0!==s&&o.matchOnlyAtLineStart||(-1===i||s<i)&&(i=s)}if(!r)throw LG(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state);return i}_nestedTokenize(e,t,n,i,r){let o=this._findLeavingNestedModeOffset(e,n);if(-1===o){let o=r.nestedModeTokenize(e,t,n.embeddedModeData,i);return OG.create(n.stack,new IG(n.embeddedModeData.languageId,o))}let s=e.substring(0,o);s.length>0&&r.nestedModeTokenize(s,!1,n.embeddedModeData,i);let a=e.substring(o);return this._myTokenize(a,t,n,i+o,r)}_safeRuleName(e){return e?e.name:"(unknown)"}_myTokenize(e,t,n,i,r){r.enterMode(i,this._languageId);const o=e.length,s=t&&this._lexer.includeLF?e+"\n":e,a=s.length;let l=n.embeddedModeData,c=n.stack,u=0,h=null,d=!0;for(;d||u<a;){const n=u,g=c.depth,m=h?h.groups.length:0,v=c.state;let y=null,b=null,_=null,w=null,C=null;if(h){y=h.matches;const e=h.groups.shift();b=e.matched,_=e.action,w=h.rule,0===h.groups.length&&(h=null)}else{if(!d&&u>=a)break;d=!1;let e=this._lexer.tokenizer[v];if(!e&&(e=NG(this._lexer,v),!e))throw LG(this._lexer,"tokenizer state is not defined: "+v);let t=s.substr(u);for(const n of e)if((0===u||!n.matchOnlyAtLineStart)&&(y=t.match(n.regex),y)){b=y[0],_=n.action;break}}if(y||(y=[""],b=""),_||(u<a&&(y=[s.charAt(u)],b=y[0]),_=this._lexer.defaultToken),null===b)break;for(u+=b.length;CG(_)&&kG(_)&&_.test;)_=_.test(b,y,v,u===a);let x=null;if("string"==typeof _||Array.isArray(_))x=_;else if(_.group)x=_.group;else if(null!==_.token&&void 0!==_.token){if(x=_.tokenSubst?TG(this._lexer,_.token,b,y,v):_.token,_.nextEmbedded)if("@pop"===_.nextEmbedded){if(!l)throw LG(this._lexer,"cannot pop embedded mode if not inside one");l=null}else{if(l)throw LG(this._lexer,"cannot enter embedded mode from within an embedded mode");C=TG(this._lexer,_.nextEmbedded,b,y,v)}if(_.goBack&&(u=Math.max(0,u-_.goBack)),_.switchTo&&"string"==typeof _.switchTo){let e=TG(this._lexer,_.switchTo,b,y,v);if("@"===e[0]&&(e=e.substr(1)),!NG(this._lexer,e))throw LG(this._lexer,"trying to switch to a state '"+e+"' that is undefined in rule: "+this._safeRuleName(w));c=c.switchTo(e)}else{if(_.transform&&"function"==typeof _.transform)throw LG(this._lexer,"action.transform not supported");if(_.next)if("@push"===_.next){if(c.depth>=this._lexer.maxStack)throw LG(this._lexer,"maximum tokenizer stack size reached: ["+c.state+","+c.parent.state+",...]");c=c.push(v)}else if("@pop"===_.next){if(c.depth<=1)throw LG(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(w));c=c.pop()}else if("@popall"===_.next)c=c.popall();else{let e=TG(this._lexer,_.next,b,y,v);if("@"===e[0]&&(e=e.substr(1)),!NG(this._lexer,e))throw LG(this._lexer,"trying to set a next state '"+e+"' that is undefined in rule: "+this._safeRuleName(w));c=c.push(e)}}_.log&&"string"==typeof _.log&&(f=this._lexer,p=this._lexer.languageId+": "+TG(this._lexer,_.log,b,y,v),console.log(`${f.languageId}: ${p}`))}if(null===x)throw LG(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(w));const k=n=>{let o=this._modeService.getModeIdForLanguageName(n);o&&(n=o);const s=this._getNestedEmbeddedModeData(n);if(u<a){const n=e.substr(u);return this._nestedTokenize(n,t,OG.create(c,s),i+u,r)}return OG.create(c,s)};if(Array.isArray(x)){if(h&&h.groups.length>0)throw LG(this._lexer,"groups cannot be nested: "+this._safeRuleName(w));if(y.length!==x.length+1)throw LG(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(w));let e=0;for(let t=1;t<y.length;t++)e+=y[t].length;if(e!==b.length)throw LG(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(w));h={rule:w,matches:y,groups:[]};for(let t=0;t<x.length;t++)h.groups[t]={action:x[t],matched:y[t+1]};u-=b.length}else{{if("@rematch"===x&&(u-=b.length,b="",y=null,x="",null!==C))return k(C);if(0===b.length){if(0===a||g!==c.depth||v!==c.state||(h?h.groups.length:0)!==m)continue;throw LG(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(w))}let e=null;if(xG(x)&&0===x.indexOf("@brackets")){let t=x.substr("@brackets".length),n=jG(this._lexer,b);if(!n)throw LG(this._lexer,"@brackets token returned but no bracket defined as: "+b);e=EG(n.token+t)}else{e=EG(""===x?"":x+this._lexer.tokenPostfix)}n<o&&r.emit(n+i,e)}if(null!==C)return k(C)}}var f,p;return OG.create(c,l)}_getNestedEmbeddedModeData(e){let t=this._locateMode(e);if(t){let e=rq.get(t);if(e)return new IG(t,e.getInitialState())}return new IG(t||sq,oq)}_locateMode(e){if(!e||!this._modeService.isRegisteredMode(e))return null;if(e===this._languageId)return e;const t=this._modeService.getModeId(e);return t&&(this._modeService.triggerMode(t),this._embeddedModes[t]=!0),t}}function jG(e,t){if(!t)return null;t=DG(e,t);let n=e.brackets;for(const i of n){if(i.open===t)return{token:i.token,bracketType:1};if(i.close===t)return{token:i.token,bracketType:-1}}return null}var zG;const VG=null===(zG=window.trustedTypes)||void 0===zG?void 0:zG.createPolicy("standaloneColorizer",{createHTML:e=>e});class WG{static colorizeElement(e,t,n,i){let r=(i=i||{}).theme||"vs",o=i.mimeType||n.getAttribute("lang")||n.getAttribute("data-lang");if(!o)return console.error("Mode not detected"),Promise.resolve();e.setTheme(r);let s=n.firstChild?n.firstChild.nodeValue:"";n.className+=" "+r;return this.colorize(t,s||"",o,i).then((e=>{var t;const i=null!==(t=null==VG?void 0:VG.createHTML(e))&&void 0!==t?t:e;n.innerHTML=i}),(e=>console.error(e)))}static colorize(e,t,n,i){const r=e.languageIdCodec;let o=4;i&&"number"==typeof i.tabSize&&(o=i.tabSize),hH(t)&&(t=t.substr(1));let s=FW(t),a=e.getModeId(n);if(!a)return Promise.resolve(UG(s,o,r));e.triggerMode(a);const l=rq.get(a);if(l)return HG(s,o,l,r);const c=rq.getPromise(a);return new Promise(c?(e,t)=>{c.then((n=>{HG(s,o,n,r).then(e,t)}),t)}:(e,t)=>{let n=null,i=null;const l=()=>{n&&(n.dispose(),n=null),i&&(i.dispose(),i=null);const l=rq.get(a);l?HG(s,o,l,r).then(e,t):e(UG(s,o,r))};i=new vV,i.cancelAndSet(l,500),n=rq.onDidChange((e=>{e.changedLanguages.indexOf(a)>=0&&l()}))})}static colorizeLine(e,t,n,i,r=4){const o=vG.isBasicASCII(e,t),s=vG.containsRTL(e,o,n);return lG(new nG(!1,!0,e,!1,o,s,0,i,[],r,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(e,t,n=4){let i=e.getLineContent(t);e.forceTokenization(t);let r=e.getLineTokens(t).inflate();return this.colorizeLine(i,e.mightContainNonBasicASCII(),e.mightContainRTL(),r,n)}}function HG(e,t,n,i){return new Promise(((r,o)=>{const s=()=>{const a=function(e,t,n,i){let r=[],o=n.getInitialState();for(let s=0,a=e.length;s<a;s++){let a=e[s],l=n.tokenize2(a,!0,o,0);GY.convertToEndOffset(l.tokens,a.length);let c=new GY(l.tokens,a,i);const u=vG.isBasicASCII(a,!0),h=vG.containsRTL(a,u,!0);let d=lG(new nG(!1,!0,a,!1,u,h,0,c.inflate(),[],t,0,0,0,0,-1,"none",!1,!1,null));r=r.concat(d.html),r.push("<br/>"),o=l.endState}return r.join("")}(e,t,n,i);if(n instanceof BG){const e=n.getLoadStatus();if(!1===e.loaded)return void e.promise.then(s,o)}r(a)};s()}))}function UG(e,t,n){let i=[];const r=new Uint32Array(2);r[0]=0,r[1]=16793600;for(let o=0,s=e.length;o<s;o++){let s=e[o];r[0]=s.length;const a=new GY(r,s,n),l=vG.isBasicASCII(s,!0),c=vG.containsRTL(s,l,!0);let u=lG(new nG(!1,!0,s,!1,l,c,0,a,[],t,0,0,0,0,-1,"none",!1,!1,null));i=i.concat(u.html),i.push("<br/>")}return i.join("")}var $G,qG;(qG=$G||($G={}))[qG.Ignore=0]="Ignore",qG[qG.Info=1]="Info",qG[qG.Warning=2]="Warning",qG[qG.Error=3]="Error",function(e){const t="error",n="warning",i="info";e.fromValue=function(r){return r?$W(t,r)?e.Error:$W(n,r)||$W("warn",r)?e.Warning:$W(i,r)?e.Info:e.Ignore:e.Ignore},e.toString=function(r){switch(r){case e.Error:return t;case e.Warning:return n;case e.Info:return i;default:return"ignore"}}}($G||($G={}));var KG=$G;const YG=Fz("IWorkspaceEditService");class GG{constructor(e){this.metadata=e}static convert(e){return e.edits.map((e=>{if(XH(t=e)&&ZB.isUri(t.resource)&&XH(t.edit))return new XG(e.resource,e.edit,e.modelVersionId,e.metadata);var t;if(function(e){return XH(e)&&(Boolean(e.newUri)||Boolean(e.oldUri))}(e))return new ZG(e.oldUri,e.newUri,e.options,e.metadata);throw new Error("Unsupported edit")}))}}class XG extends GG{constructor(e,t,n,i){super(i),this.resource=e,this.textEdit=t,this.versionId=n}}class ZG extends GG{constructor(e,t,n,i){super(i),this.oldResource=e,this.newResource=t,this.options=n}}const JG=Object.prototype.hasOwnProperty;class QG{constructor(){this.map=new Map}add(e,t){let n=this.map.get(e);n||(n=new Set,this.map.set(e,n)),n.add(t)}delete(e,t){const n=this.map.get(e);n&&(n.delete(t),0===n.size&&this.map.delete(e))}forEach(e,t){const n=this.map.get(e);n&&n.forEach(t)}}const eX=new class{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new nB,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(e){this._tabFocus!==e&&(this._tabFocus=e,this._onDidChangeTabFocus.fire(this._tabFocus))}},tX=Object.hasOwnProperty;class nX{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,t){this._values[e]=t}}class iX{constructor(){this._values=[]}_read(e){return this._values[e]}_write(e,t){this._values[e]=t}}class rX{static readOptions(e){const t=e,n=new iX;for(const i of TP){const e="_never_"===i.name?void 0:t[i.name];n._write(i.id,e)}return n}static validateOptions(e){const t=new oP;for(const n of TP)t._write(n.id,n.validate(e._read(n.id)));return t}static computeOptions(e,t){const n=new nX;for(const i of TP)n._write(i.id,i.compute(t,n,e._read(i.id)));return n}static _deepEquals(e,t){if("object"!=typeof e||"object"!=typeof t)return e===t;if(Array.isArray(e)||Array.isArray(t))return!(!Array.isArray(e)||!Array.isArray(t))&&bY(e,t);for(let n in e)if(!rX._deepEquals(e[n],t[n]))return!1;return!0}static checkEquals(e,t){const n=[];let i=!1;for(const r of TP){const o=!rX._deepEquals(e._read(r.id),t._read(r.id));n[r.id]=o,o&&(i=!0)}return i?new rP(n):null}}function oX(e){const t=e.wordWrap;!0===t?e.wordWrap="on":!1===t&&(e.wordWrap="off");const n=e.lineNumbers;!0===n?e.lineNumbers="on":!1===n&&(e.lineNumbers="off");!1===e.autoClosingBrackets&&(e.autoClosingBrackets="never",e.autoClosingQuotes="never",e.autoSurround="never");"visible"===e.cursorBlinking&&(e.cursorBlinking="solid");const i=e.renderWhitespace;!0===i?e.renderWhitespace="boundary":!1===i&&(e.renderWhitespace="none");const r=e.renderLineHighlight;!0===r?e.renderLineHighlight="line":!1===r&&(e.renderLineHighlight="none");const o=e.acceptSuggestionOnEnter;!0===o?e.acceptSuggestionOnEnter="on":!1===o&&(e.acceptSuggestionOnEnter="off");const s=e.tabCompletion;!1===s?e.tabCompletion="off":!0===s&&(e.tabCompletion="onlySnippets");const a=e.suggest;if(a&&"object"==typeof a.filteredTypes&&a.filteredTypes){const e={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};(function(e,t){for(let n in e)if(JG.call(e,n)&&!1===t({key:n,value:e[n]},(function(){delete e[n]})))return})(e,(e=>{const t=a.filteredTypes[e.key];!1===t&&(a[e.value]=t)}))}const l=e.hover;!0===l?e.hover={enabled:!0}:!1===l&&(e.hover={enabled:!1});const c=e.parameterHints;!0===c?e.parameterHints={enabled:!0}:!1===c&&(e.parameterHints={enabled:!1});const u=e.autoIndent;!0===u?e.autoIndent="full":!1===u&&(e.autoIndent="advanced");const h=e.matchBrackets;!0===h?e.matchBrackets="always":!1===h&&(e.matchBrackets="never");const{renderIndentGuides:d,highlightActiveIndentGuide:f}=e;e.guides||(e.guides={}),void 0!==d&&(e.guides.indentation=!!d),void 0!==f&&(e.guides.highlightActiveIndentation=!!f)}function sX(e){const t=wU(e);return oX(t),t}class aX extends KP{constructor(e,t){super(),this._onDidChange=this._register(new nB),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new nB),this.onDidChangeFast=this._onDidChangeFast.event,this.isSimpleWidget=e,this._isDominatedByLongLines=!1,this._computeOptionsMemory=new sP,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._rawOptions=sX(t),this._readOptions=rX.readOptions(this._rawOptions),this._validatedOptions=rX.validateOptions(this._readOptions),this._register(LU.onDidChangeZoomLevel((e=>this._recomputeOptions()))),this._register(eX.onDidChangeTabFocus((e=>this._recomputeOptions())))}observeReferenceElement(e){}updatePixelRatio(){}_recomputeOptions(){const e=this.options,t=this._computeInternalOptions();if(e){const n=rX.checkEquals(e,t);if(null===n)return;this.options=t,this._onDidChangeFast.fire(n),this._onDidChange.fire(n)}else this.options=t}getRawOptions(){return this._rawOptions}_computeInternalOptions(){const e=this._getEnvConfiguration(),t=NU.createFromValidatedSettings(this._validatedOptions,e.zoomLevel,e.pixelRatio,this.isSimpleWidget),n={memory:this._computeOptionsMemory,outerWidth:e.outerWidth,outerHeight:e.outerHeight,fontInfo:this.readConfiguration(t),extraEditorClassName:e.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:e.emptySelectionClipboard,pixelRatio:e.pixelRatio,tabFocusMode:eX.getTabFocusMode(),accessibilitySupport:e.accessibilitySupport};return rX.computeOptions(this._validatedOptions,n)}static _subsetEquals(e,t){for(const n in t)if(tX.call(t,n)){const i=t[n],r=e[n];if(r===i)continue;if(Array.isArray(r)&&Array.isArray(i)){if(!bY(r,i))return!1;continue}if(r&&"object"==typeof r&&i&&"object"==typeof i){if(!this._subsetEquals(r,i))return!1;continue}return!1}return!0}updateOptions(e){if(void 0===e)return;const t=sX(e);aX._subsetEquals(this._rawOptions,t)||(this._rawOptions=xU(this._rawOptions,t||{}),this._readOptions=rX.readOptions(this._rawOptions),this._validatedOptions=rX.validateOptions(this._readOptions),this._recomputeOptions())}setIsDominatedByLongLines(e){this._isDominatedByLongLines=e,this._recomputeOptions()}setMaxLineNumber(e){const t=aX._digitCount(e);this._lineNumbersDigitCount!==t&&(this._lineNumbersDigitCount=t,this._recomputeOptions())}setViewLineCount(e){this._viewLineCount!==e&&(this._viewLineCount=e,this._recomputeOptions())}static _digitCount(e){let t=0;for(;e;)e=Math.floor(e/10),t++;return t||1}}const lX=Object.freeze({id:"editor",order:5,type:"object",title:DR(0,"Editor"),scope:5}),cX=rK.as(aK),uX=Object.assign(Object.assign({},lX),{properties:{"editor.tabSize":{type:"number",default:LP.tabSize,minimum:1,markdownDescription:DR(0,"The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:LP.insertSpaces,markdownDescription:DR(0,"Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:LP.detectIndentation,markdownDescription:DR(0,"Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:LP.trimAutoWhitespace,description:DR(0,"Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:LP.largeFileOptimizations,description:DR(0,"Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:DR(0,"Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[DR(0,"Only suggest words from the active document."),DR(0,"Suggest words from all open documents of the same language."),DR(0,"Suggest words from all open documents.")],description:DR(0,"Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[DR(0,"Semantic highlighting enabled for all color themes."),DR(0,"Semantic highlighting disabled for all color themes."),DR(0,"Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:DR(0,"Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:DR(0,"Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:DR(0,"Lines above this length will not be tokenized for performance reasons")},"editor.language.brackets":{type:"array",default:!1,description:DR(0,"Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:DR(0,"The opening bracket character or string sequence.")},{type:"string",description:DR(0,"The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:"array",default:!1,description:DR(0,"Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:DR(0,"The opening bracket character or string sequence.")},{type:"string",description:DR(0,"The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:DR(0,"Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:50,description:DR(0,"Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:DR(0,"Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:DR(0,"When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:DR(0,"Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:DR(0,"Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[DR(0,"Lines will never wrap."),DR(0,"Lines will wrap at the viewport width."),DR(0,"Lines will wrap according to the `#editor.wordWrap#` setting.")]}}});for(const os of TP){const e=os.schema;if(void 0!==e)if(void 0!==(hX=e).type||void 0!==hX.anyOf)uX.properties[`editor.${os.name}`]=e;else for(let t in e)tX.call(e,t)&&(uX.properties[t]=e[t])}var hX;let dX=null;function fX(){return null===dX&&(dX=Object.create(null),Object.keys(uX.properties).forEach((e=>{dX[e]=!0}))),dX}cX.registerConfiguration(uX);class pX{static insert(e,t){return{range:new cj(e.lineNumber,e.column,e.lineNumber,e.column),text:t,forceMoveMarkers:!0}}static delete(e){return{range:e,text:null}}static replace(e,t){return{range:e,text:t}}static replaceMove(e,t){return{range:e,text:t,forceMoveMarkers:!0}}}class gX{constructor(e={},t=[],n=[]){this._contents=e,this._keys=t,this._overrides=n,this.isFrozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return 0===this._keys.length&&0===Object.keys(this._contents).length&&0===this._overrides.length}getValue(e){return e?function(e,t,n){const i=function(e,t){let n=e;for(const i of t){if("object"!=typeof n||null===n)return;n=n[i]}return n}(e,t.split("."));return void 0===i?n:i}(this.contents,e):this.contents}override(e){let t=this.overrideConfigurations.get(e);return t||(t=this.createOverrideConfigurationModel(e),this.overrideConfigurations.set(e,t)),t}merge(...e){const t=wU(this.contents),n=wU(this.overrides),i=[...this.keys];for(const r of e){this.mergeContents(t,r.contents);for(const e of r.overrides){const[t]=n.filter((t=>bY(t.identifiers,e.identifiers)));t?this.mergeContents(t.contents,e.contents):n.push(wU(e))}for(const e of r.keys)-1===i.indexOf(e)&&i.push(e)}return new gX(t,i,n)}freeze(){return this.isFrozen=!0,this}createOverrideConfigurationModel(e){const t=this.getContentsForOverrideIdentifer(e);if(!t||"object"!=typeof t||!Object.keys(t).length)return this;let n={};for(const i of wY([...Object.keys(this.contents),...Object.keys(t)])){let e=this.contents[i],r=t[i];r&&("object"==typeof e&&"object"==typeof r?(e=wU(e),this.mergeContents(e,r)):e=r),n[i]=e}return new gX(n,this.keys,this.overrides)}mergeContents(e,t){for(const n of Object.keys(t))n in e&&XH(e[n])&&XH(t[n])?this.mergeContents(e[n],t[n]):e[n]=wU(t[n])}checkAndFreeze(e){return this.isFrozen&&!Object.isFrozen(e)?function(e){if(!e||"object"!=typeof e)return e;const t=[e];for(;t.length>0;){const e=t.shift();Object.freeze(e);for(const n in e)if(CU.call(e,n)){const i=e[n];"object"!=typeof i||Object.isFrozen(i)||t.push(i)}}return e}(e):e}getContentsForOverrideIdentifer(e){for(const t of this.overrides)if(-1!==t.identifiers.indexOf(e))return t.contents;return null}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(e,t){this.addKey(e),wK(this.contents,e,t,(e=>{throw new Error(e)}))}removeValue(e){this.removeKey(e)&&CK(this.contents,e)}addKey(e){let t=this.keys.length;for(let n=0;n<t;n++)0===e.indexOf(this.keys[n])&&(t=n);this.keys.splice(t,1,e)}removeKey(e){let t=this.keys.indexOf(e);return-1!==t&&(this.keys.splice(t,1),!0)}}class mX extends gX{constructor(){const e=function(){const e=Object.create(null),t=rK.as(aK).getConfigurationProperties();for(let n in t)wK(e,n,t[n].default,(e=>console.error(`Conflict in default settings: ${e}`)));return e}(),t=function(){const e=rK.as(aK).getConfigurationProperties();return Object.keys(e)}(),n=[];for(const i of Object.keys(e))gK.test(i)&&n.push({identifiers:[mK(i).trim()],keys:Object.keys(e[i]),contents:_K(e[i],(e=>console.error(`Conflict in default settings file: ${e}`)))});super(e,t,n)}}class vX{constructor(e,t,n=new gX,i=new gX,r=new LH,o=new gX,s=new LH,a=!0){this._defaultConfiguration=e,this._localUserConfiguration=t,this._remoteUserConfiguration=n,this._workspaceConfiguration=i,this._folderConfigurations=r,this._memoryConfiguration=o,this._memoryConfigurationByResource=s,this._freeze=a,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new LH,this._userConfiguration=null}getValue(e,t,n){return this.getConsolidateConfigurationModel(t,n).getValue(e)}updateValue(e,t,n={}){let i;n.resource?(i=this._memoryConfigurationByResource.get(n.resource),i||(i=new gX,this._memoryConfigurationByResource.set(n.resource,i))):i=this._memoryConfiguration,void 0===t?i.removeValue(e):i.setValue(e,t),n.resource||(this._workspaceConsolidatedConfiguration=null)}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}getConsolidateConfigurationModel(e,t){let n=this.getConsolidatedConfigurationModelForResource(e,t);return e.overrideIdentifier?n.override(e.overrideIdentifier):n}getConsolidatedConfigurationModelForResource({resource:e},t){let n=this.getWorkspaceConsolidatedConfiguration();if(t&&e){const i=t.getFolder(e);i&&(n=this.getFolderConsolidatedConfiguration(i.uri)||n);const r=this._memoryConfigurationByResource.get(e);r&&(n=n.merge(r))}return n}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(e){let t=this._foldersConsolidatedConfigurations.get(e);if(!t){const n=this.getWorkspaceConsolidatedConfiguration(),i=this._folderConfigurations.get(e);i?(t=n.merge(i),this._freeze&&(t=t.freeze()),this._foldersConsolidatedConfigurations.set(e,t)):t=n}return t}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce(((e,t)=>{const{contents:n,overrides:i,keys:r}=this._folderConfigurations.get(t);return e.push([t,{contents:n,overrides:i,keys:r}]),e}),[])}}static parse(e){const t=this.parseConfigurationModel(e.defaults),n=this.parseConfigurationModel(e.user),i=this.parseConfigurationModel(e.workspace),r=e.folders.reduce(((e,t)=>(e.set(ZB.revive(t[0]),this.parseConfigurationModel(t[1])),e)),new LH);return new vX(t,n,new gX,i,r,new gX,new LH,!1)}static parseConfigurationModel(e){return new gX(e.contents,e.keys,e.overrides).freeze()}}class yX{constructor(e,t,n,i){this.change=e,this.previous=t,this.currentConfiguraiton=n,this.currentWorkspace=i,this._previousConfiguration=void 0;const r=new Set;e.keys.forEach((e=>r.add(e))),e.overrides.forEach((([,e])=>e.forEach((e=>r.add(e))))),this.affectedKeys=[...r.values()];const o=new gX;this.affectedKeys.forEach((e=>o.setValue(e,{}))),this.affectedKeysTree=o.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=vX.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(e,t){var n;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,e)){if(t){return!kU(this.previousConfiguration?this.previousConfiguration.getValue(e,t,null===(n=this.previous)||void 0===n?void 0:n.workspace):void 0,this.currentConfiguraiton.getValue(e,t,this.currentWorkspace))}return!0}return!1}doesAffectedKeysTreeContains(e,t){let n,i=_K({[t]:!0},(()=>{}));for(;"object"==typeof i&&(n=Object.keys(i)[0]);){if(!(e=e[n]))return!1;i=i[n]}return!0}}const bX=/^(cursor|delete)/;class _X extends KP{constructor(e,t,n,i,r){super(),this._contextKeyService=e,this._commandService=t,this._telemetryService=n,this._notificationService=i,this._logService=r,this._onDidUpdateKeybindings=this._register(new nB),this._currentChord=null,this._currentChordChecker=new yV,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=wX.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new vV,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:eB.None}dispose(){super.dispose()}_log(e){this._logging&&this._logService.info(`[KeybindingService]: ${e}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(e,t){const n=this._getResolver().lookupPrimaryKeybinding(e,t||this._contextKeyService);if(n)return n.resolvedKeybinding}dispatchEvent(e,t){return this._dispatch(e,t)}softDispatch(e,t){const n=this.resolveKeyboardEvent(e);if(n.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[i]=n.getDispatchParts();if(null===i)return null;const r=this._contextKeyService.getContext(t),o=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(r,o,i)}_enterChordMode(e,t){this._currentChord={keypress:e,label:t},this._currentChordStatusMessage=this._notificationService.status(DR(0,"({0}) was pressed. Waiting for second key of chord...",t));const n=Date.now();this._currentChordChecker.cancelAndSet((()=>{this._documentHasFocus()?Date.now()-n>5e3&&this._leaveChordMode():this._leaveChordMode()}),500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(e,t){return this._doDispatch(this.resolveKeyboardEvent(e),t,!1)}_singleModifierDispatch(e,t){const n=this.resolveKeyboardEvent(e),[i]=n.getSingleModifierDispatchParts();if(i)return this._ignoreSingleModifiers.has(i)?(this._log(`+ Ignoring single modifier ${i} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=wX.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=wX.EMPTY,null===this._currentSingleModifier?(this._log(`+ Storing single modifier for possible chord ${i}.`),this._currentSingleModifier=i,this._currentSingleModifierClearTimeout.cancelAndSet((()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null}),300),!1):i===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${i} ${i}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(n,t,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${i}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[r]=n.getParts();return this._ignoreSingleModifiers=new wX(r),null!==this._currentSingleModifier&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(e,t,n=!1){let i=!1;if(e.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let r=null,o=null;if(n){const[t]=e.getSingleModifierDispatchParts();r=t,o=t}else[r]=e.getDispatchParts(),o=this._currentChord?this._currentChord.keypress:null;if(null===r)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),i;const s=this._contextKeyService.getContext(t),a=e.getLabel(),l=this._getResolver().resolve(s,o,r);return this._logService.trace("KeybindingService#dispatch",a,null==l?void 0:l.commandId),l&&l.enterChord?(i=!0,this._enterChordMode(r,a),i):(this._currentChord&&(l&&l.commandId||(this._notificationService.status(DR(0,"The key combination ({0}, {1}) is not a command.",this._currentChord.label,a),{hideAfter:1e4}),i=!0)),this._leaveChordMode(),l&&l.commandId&&(l.bubble||(i=!0),void 0===l.commandArgs?this._commandService.executeCommand(l.commandId).then(void 0,(e=>this._notificationService.warn(e))):this._commandService.executeCommand(l.commandId,l.commandArgs).then(void 0,(e=>this._notificationService.warn(e))),bX.test(l.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:l.commandId,from:"keybinding"})),i)}mightProducePrintableCharacter(e){return!e.ctrlKey&&!e.metaKey&&(e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30)}}class wX{constructor(e){this._ctrlKey=!!e&&e.ctrlKey,this._shiftKey=!!e&&e.shiftKey,this._altKey=!!e&&e.altKey,this._metaKey=!!e&&e.metaKey}has(e){switch(e){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}wX.EMPTY=new wX(null);let CX=KR||"";const xX=new Map;xX.set("false",!1),xX.set("true",!0),xX.set("isMac",WR),xX.set("isLinux",HR),xX.set("isWindows",VR),xX.set("isWeb",$R),xX.set("isMacNative",WR&&!$R),xX.set("isEdge",CX.indexOf("Edg/")>=0),xX.set("isFirefox",CX.indexOf("Firefox")>=0),xX.set("isChrome",CX.indexOf("Chrome")>=0),xX.set("isSafari",CX.indexOf("Safari")>=0);const kX=Object.prototype.hasOwnProperty;class SX{static has(e){return TX.create(e)}static equals(e,t){return NX.create(e,t)}static regex(e,t){return zX.create(e,t)}static not(e){return OX.create(e)}static and(...e){return HX.create(e,null)}static or(...e){return UX.create(e,null,!0)}static deserialize(e,t=!1){if(e)return this._deserializeOrExpression(e,t)}static _deserializeOrExpression(e,t){let n=e.split("||");return UX.create(n.map((e=>this._deserializeAndExpression(e,t))),null,!0)}static _deserializeAndExpression(e,t){let n=e.split("&&");return HX.create(n.map((e=>this._deserializeOne(e,t))),null)}static _deserializeOne(e,t){if((e=e.trim()).indexOf("!=")>=0){let n=e.split("!=");return IX.create(n[0].trim(),this._deserializeValue(n[1],t))}if(e.indexOf("==")>=0){let n=e.split("==");return NX.create(n[0].trim(),this._deserializeValue(n[1],t))}if(e.indexOf("=~")>=0){let n=e.split("=~");return zX.create(n[0].trim(),this._deserializeRegexValue(n[1],t))}if(e.indexOf(" in ")>=0){let t=e.split(" in ");return MX.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(e)){const t=e.split(">=");return PX.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(e)){const t=e.split(">");return RX.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(e)){const t=e.split("<=");return jX.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(e)){const t=e.split("<");return BX.create(t[0].trim(),t[1].trim())}return/^\!\s*/.test(e)?OX.create(e.substr(1).trim()):TX.create(e)}static _deserializeValue(e,t){if("true"===(e=e.trim()))return!0;if("false"===e)return!1;let n=/^'([^']*)'$/.exec(e);return n?n[1].trim():e}static _deserializeRegexValue(e,t){if(!(n=e)||"string"!=typeof n||0===n.trim().length){if(t)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}var n;let i=e.indexOf("/"),r=e.lastIndexOf("/");if(i===r||i<0){if(t)throw new Error(`bad regexp-value '${e}', missing /-enclosure`);return console.warn(`bad regexp-value '${e}', missing /-enclosure`),null}let o=e.slice(i+1,r),s="i"===e[r+1]?"i":"";try{return new RegExp(o,s)}catch(nR){if(t)throw new Error(`bad regexp-value '${e}', parse error: ${nR}`);return console.warn(`bad regexp-value '${e}', parse error: ${nR}`),null}}}function DX(e,t){return e.cmp(t)}class EX{constructor(){this.type=0}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}negate(){return LX.INSTANCE}}EX.INSTANCE=new EX;class LX{constructor(){this.type=1}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}negate(){return EX.INSTANCE}}LX.INSTANCE=new LX;class TX{constructor(e,t){this.key=e,this.negated=t,this.type=2}static create(e,t=null){const n=xX.get(e);return"boolean"==typeof n?n?LX.INSTANCE:EX.INSTANCE:new TX(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:KX(this.key,e.key)}equals(e){return e.type===this.type&&this.key===e.key}substituteConstants(){const e=xX.get(this.key);return"boolean"==typeof e?e?LX.INSTANCE:EX.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=OX.create(this.key,this)),this.negated}}class NX{constructor(e,t,n){this.key=e,this.value=t,this.negated=n,this.type=4}static create(e,t,n=null){if("boolean"==typeof t)return t?TX.create(e,n):OX.create(e,n);const i=xX.get(e);if("boolean"==typeof i){return t===(i?"true":"false")?LX.INSTANCE:EX.INSTANCE}return new NX(e,t,n)}cmp(e){return e.type!==this.type?this.type-e.type:YX(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){const e=xX.get(this.key);if("boolean"==typeof e){const t=e?"true":"false";return this.value===t?LX.INSTANCE:EX.INSTANCE}return this}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=IX.create(this.key,this.value,this)),this.negated}}class MX{constructor(e,t){this.key=e,this.valueKey=t,this.type=10,this.negated=null}static create(e,t){return new MX(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:YX(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type&&(this.key===e.key&&this.valueKey===e.valueKey)}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.valueKey),n=e.getValue(this.key);return Array.isArray(t)?t.indexOf(n)>=0:"string"==typeof n&&"object"==typeof t&&null!==t&&kX.call(t,n)}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=AX.create(this)),this.negated}}class AX{constructor(e){this._actual=e,this.type=11}static create(e){return new AX(e)}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type&&this._actual.equals(e._actual)}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}class IX{constructor(e,t,n){this.key=e,this.value=t,this.negated=n,this.type=5}static create(e,t,n=null){if("boolean"==typeof t)return t?OX.create(e,n):TX.create(e,n);const i=xX.get(e);if("boolean"==typeof i){return t===(i?"true":"false")?EX.INSTANCE:LX.INSTANCE}return new IX(e,t,n)}cmp(e){return e.type!==this.type?this.type-e.type:YX(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){const e=xX.get(this.key);if("boolean"==typeof e){const t=e?"true":"false";return this.value===t?EX.INSTANCE:LX.INSTANCE}return this}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=NX.create(this.key,this.value,this)),this.negated}}class OX{constructor(e,t){this.key=e,this.negated=t,this.type=3}static create(e,t=null){const n=xX.get(e);return"boolean"==typeof n?n?EX.INSTANCE:LX.INSTANCE:new OX(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:KX(this.key,e.key)}equals(e){return e.type===this.type&&this.key===e.key}substituteConstants(){const e=xX.get(this.key);return"boolean"==typeof e?e?EX.INSTANCE:LX.INSTANCE:this}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=TX.create(this.key,this)),this.negated}}function FX(e,t){if("string"==typeof e){const t=parseFloat(e);isNaN(t)||(e=t)}return"string"==typeof e||"number"==typeof e?t(e):EX.INSTANCE}class RX{constructor(e,t,n){this.key=e,this.value=t,this.negated=n,this.type=12}static create(e,t,n=null){return FX(t,(t=>new RX(e,t,n)))}cmp(e){return e.type!==this.type?this.type-e.type:YX(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=jX.create(this.key,this.value,this)),this.negated}}class PX{constructor(e,t,n){this.key=e,this.value=t,this.negated=n,this.type=13}static create(e,t,n=null){return FX(t,(t=>new PX(e,t,n)))}cmp(e){return e.type!==this.type?this.type-e.type:YX(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=BX.create(this.key,this.value,this)),this.negated}}class BX{constructor(e,t,n){this.key=e,this.value=t,this.negated=n,this.type=14}static create(e,t,n=null){return FX(t,(t=>new BX(e,t,n)))}cmp(e){return e.type!==this.type?this.type-e.type:YX(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=PX.create(this.key,this.value,this)),this.negated}}class jX{constructor(e,t,n){this.key=e,this.value=t,this.negated=n,this.type=15}static create(e,t,n=null){return FX(t,(t=>new jX(e,t,n)))}cmp(e){return e.type!==this.type?this.type-e.type:YX(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=RX.create(this.key,this.value,this)),this.negated}}class zX{constructor(e,t){this.key=e,this.regexp=t,this.type=7,this.negated=null}static create(e,t){return new zX(e,t)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;const t=this.regexp?this.regexp.source:"",n=e.regexp?e.regexp.source:"";return t<n?-1:t>n?1:0}equals(e){if(e.type===this.type){const t=this.regexp?this.regexp.source:"",n=e.regexp?e.regexp.source:"";return this.key===e.key&&t===n}return!1}substituteConstants(){return this}evaluate(e){let t=e.getValue(this.key);return!!this.regexp&&this.regexp.test(t)}serialize(){const e=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=VX.create(this)),this.negated}}class VX{constructor(e){this._actual=e,this.type=8}static create(e){return new VX(e)}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type&&this._actual.equals(e._actual)}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}function WX(e){let t=null;for(let n=0,i=e.length;n<i;n++){const i=e[n].substituteConstants();if(e[n]!==i&&null===t){t=[];for(let i=0;i<n;i++)t[i]=e[i]}null!==t&&(t[n]=i)}return null===t?e:t}class HX{constructor(e,t){this.expr=e,this.negated=t,this.type=6}static create(e,t){return HX._normalizeArr(e,t)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,n=this.expr.length;t<n;t++){const n=DX(this.expr[t],e.expr[t]);if(0!==n)return n}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,n=this.expr.length;t<n;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=WX(this.expr);return e===this.expr?this:HX.create(e,this.negated)}evaluate(e){for(let t=0,n=this.expr.length;t<n;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e,t){const n=[];let i=!1;for(const r of e)if(r)if(1!==r.type){if(0===r.type)return EX.INSTANCE;6!==r.type?n.push(r):n.push(...r.expr)}else i=!0;if(0===n.length&&i)return LX.INSTANCE;if(0!==n.length){if(1===n.length)return n[0];n.sort(DX);for(let e=1;e<n.length;e++)n[e-1].equals(n[e])&&(n.splice(e,1),e--);if(1===n.length)return n[0];for(;n.length>1;){const e=n[n.length-1];if(9!==e.type)break;n.pop();const t=n.pop(),i=0===n.length,r=UX.create(e.expr.map((e=>HX.create([e,t],null))),null,i);r&&(n.push(r),n.sort(DX))}return 1===n.length?n[0]:new HX(n,t)}}serialize(){return this.expr.map((e=>e.serialize())).join(" && ")}keys(){const e=[];for(let t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){const e=[];for(let t of this.expr)e.push(t.negate());this.negated=UX.create(e,this,!0)}return this.negated}}class UX{constructor(e,t){this.expr=e,this.negated=t,this.type=9}static create(e,t,n){return UX._normalizeArr(e,t,n)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,n=this.expr.length;t<n;t++){const n=DX(this.expr[t],e.expr[t]);if(0!==n)return n}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,n=this.expr.length;t<n;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=WX(this.expr);return e===this.expr?this:UX.create(e,this.negated,!1)}evaluate(e){for(let t=0,n=this.expr.length;t<n;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e,t,n){let i=[],r=!1;if(e){for(let t=0,n=e.length;t<n;t++){const n=e[t];if(n)if(0!==n.type){if(1===n.type)return LX.INSTANCE;9!==n.type?i.push(n):i=i.concat(n.expr)}else r=!0}if(0===i.length&&r)return EX.INSTANCE;i.sort(DX)}if(0!==i.length){if(1===i.length)return i[0];for(let e=1;e<i.length;e++)i[e-1].equals(i[e])&&(i.splice(e,1),e--);if(1===i.length)return i[0];if(n){for(let e=0;e<i.length;e++)for(let t=e+1;t<i.length;t++)GX(i[e],i[t])&&(i.splice(t,1),t--);if(1===i.length)return i[0]}return new UX(i,t)}}serialize(){return this.expr.map((e=>e.serialize())).join(" || ")}keys(){const e=[];for(let t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){let e=[];for(let t of this.expr)e.push(t.negate());for(;e.length>1;){const t=e.shift(),n=e.shift(),i=[];for(const e of XX(t))for(const t of XX(n))i.push(HX.create([e,t],null));const r=0===e.length;e.unshift(UX.create(i,null,r))}this.negated=e[0]}return this.negated}}class $X extends TX{constructor(e,t,n){super(e,null),this._defaultValue=t,"object"==typeof n?$X._info.push(Object.assign(Object.assign({},n),{key:e})):!0!==n&&$X._info.push({key:e,description:n,type:null!=t?typeof t:void 0})}static all(){return $X._info.values()}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return NX.create(this.key,e)}}$X._info=[];const qX=Fz("contextKeyService");function KX(e,t){return e<t?-1:e>t?1:0}function YX(e,t,n,i){return e<n?-1:e>n?1:t<i?-1:t>i?1:0}function GX(e,t){if(6===t.type&&9!==e.type&&6!==e.type)for(const i of t.expr)if(e.equals(i))return!0;const n=XX(e.negate()).concat(XX(t));n.sort(DX);for(let i=0;i<n.length;i++){const e=n[i].negate();for(let t=i+1;t<n.length;t++){const i=n[t];if(e.equals(i))return!0}}return!1}function XX(e){return 9===e.type?e.expr:[e]}class ZX{constructor(e,t,n){this._log=n,this._defaultKeybindings=e,this._defaultBoundCommands=new Map;for(let i=0,r=e.length;i<r;i++){const t=e[i].command;t&&this._defaultBoundCommands.set(t,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=ZX.combine(e,t);for(let i=0,r=this._keybindings.length;i<r;i++){let e=this._keybindings[i];0!==e.keypressParts.length&&(e.when&&0===e.when.type||this._addKeyPress(e.keypressParts[0],e))}}static _isTargetedForRemoval(e,t,n,i,r){if(e.command!==i)return!1;if(t&&e.keypressParts[0]!==t)return!1;if(n&&e.keypressParts[1]!==n)return!1;if(r){if(!e.when)return!1;if(!function(e,t){const n=e?e.substituteConstants():void 0,i=t?t.substituteConstants():void 0;return!n&&!i||!(!n||!i)&&n.equals(i)}(r,e.when))return!1}return!0}static combine(e,t){e=e.slice(0);let n=[];for(const i of t){if(!i.command||0===i.command.length||"-"!==i.command.charAt(0)){n.push(i);continue}const t=i.command.substr(1),r=i.keypressParts[0],o=i.keypressParts[1],s=i.when;for(let n=e.length-1;n>=0;n--)this._isTargetedForRemoval(e[n],r,o,t,s)&&e.splice(n,1)}return e.concat(n)}_addKeyPress(e,t){const n=this._map.get(e);if(void 0===n)return this._map.set(e,[t]),void this._addToLookupMap(t);for(let i=n.length-1;i>=0;i--){let e=n[i];if(e.command===t.command)continue;const r=e.keypressParts.length>1,o=t.keypressParts.length>1;r&&o&&e.keypressParts[1]!==t.keypressParts[1]||ZX.whenIsEntirelyIncluded(e.when,t.when)&&this._removeFromLookupMap(e)}n.push(t),this._addToLookupMap(t)}_addToLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);void 0===t?(t=[e],this._lookupMap.set(e.command,t)):t.push(e)}_removeFromLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);if(void 0!==t)for(let n=0,i=t.length;n<i;n++)if(t[n]===e)return void t.splice(n,1)}static whenIsEntirelyIncluded(e,t){return!t||1===t.type||!(!e||1===e.type)&&GX(e,t)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(e,t){const n=this._lookupMap.get(e);if(void 0===n||0===n.length)return null;if(1===n.length)return n[0];for(let i=n.length-1;i>=0;i--){const e=n[i];if(t.contextMatchesRules(e.when))return e}return n[n.length-1]}resolve(e,t,n){this._log(`| Resolving ${n}${t?` chorded from ${t}`:""}`);let i=null;if(null!==t){const e=this._map.get(t);if(void 0===e)return this._log("\\ No keybinding entries."),null;i=[];for(let t=0,r=e.length;t<r;t++){let r=e[t];r.keypressParts[1]===n&&i.push(r)}}else{const e=this._map.get(n);if(void 0===e)return this._log("\\ No keybinding entries."),null;i=e}let r=this._findCommand(e,i);return r?null===t&&r.keypressParts.length>1&&null!==r.keypressParts[1]?(this._log(`\\ From ${i.length} keybinding entries, matched chord, when: ${JX(r.when)}, source: ${QX(r)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${i.length} keybinding entries, matched ${r.command}, when: ${JX(r.when)}, source: ${QX(r)}.`),{enterChord:!1,leaveChord:r.keypressParts.length>1,commandId:r.command,commandArgs:r.commandArgs,bubble:r.bubble}):(this._log(`\\ From ${i.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(e,t){for(let n=t.length-1;n>=0;n--){let i=t[n];if(ZX.contextMatchesRules(e,i.when))return i}return null}static contextMatchesRules(e,t){return!t||t.evaluate(e)}}function JX(e){return e?`${e.serialize()}`:"no when condition"}function QX(e){return e.extensionId?e.isBuiltinExtension?`built-in extension ${e.extensionId}`:`user extension ${e.extensionId}`:e.isDefault?"built-in":"user"}class eZ{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(e){if(1===GR){if(e&&e.win)return e.win}else if(2===GR){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e}registerKeybindingRule(e){const t=eZ.bindToCurrentPlatform(e);if(t&&t.primary){const n=Xz(t.primary,GR);n&&this._registerDefaultKeybinding(n,e.id,e.args,e.weight,0,e.when)}if(t&&Array.isArray(t.secondary))for(let n=0,i=t.secondary.length;n<i;n++){const i=Xz(t.secondary[n],GR);i&&this._registerDefaultKeybinding(i,e.id,e.args,e.weight,-n-1,e.when)}}registerCommandAndKeybindingRule(e){this.registerKeybindingRule(e),lU.registerCommand(e)}static _mightProduceChar(e){return e>=21&&e<=30||(e>=31&&e<=56||(80===e||81===e||82===e||83===e||84===e||85===e||86===e||110===e||111===e||87===e||88===e||89===e||90===e||91===e||92===e))}_assertNoCtrlAlt(e,t){e.ctrlKey&&e.altKey&&!e.metaKey&&eZ._mightProduceChar(e.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",e," for ",t)}_registerDefaultKeybinding(e,t,n,i,r,o){1===GR&&this._assertNoCtrlAlt(e.parts[0],t),this._coreKeybindings.push({keybinding:e.parts,command:t,commandArgs:n,when:o,weight1:i,weight2:r,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(nZ)),this._cachedMergedKeybindings.slice(0)}}const tZ=new eZ;function nZ(e,t){return e.weight1!==t.weight1?e.weight1-t.weight1:e.command<t.command?-1:e.command>t.command?1:e.weight2-t.weight2}rK.add("platform.keybindingsRegistry",tZ);class iZ{constructor(e,t,n,i,r,o,s){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=e,this.keypressParts=e?rZ(e.getDispatchParts()):[],e&&0===this.keypressParts.length&&(this.keypressParts=rZ(e.getSingleModifierDispatchParts())),this.bubble=!!t&&94===t.charCodeAt(0),this.command=this.bubble?t.substr(1):t,this.commandArgs=n,this.when=i,this.isDefault=r,this.extensionId=o,this.isBuiltinExtension=s}}function rZ(e){let t=[];for(let n=0,i=e.length;n<i;n++){const i=e[n];if(!i)return t;t.push(i)}return t}class oZ{constructor(e,t,n=t){this.modifierLabels=[null],this.modifierLabels[2]=e,this.modifierLabels[1]=t,this.modifierLabels[3]=n}toLabel(e,t,n){if(0===t.length)return null;const i=[];for(let r=0,o=t.length;r<o;r++){const o=t[r],s=n(o);if(null===s)return null;i[r]=cZ(o,s,this.modifierLabels[e])}return i.join(" ")}}const sZ=new oZ({ctrlKey:"",shiftKey:"",altKey:"",metaKey:"",separator:""},{ctrlKey:DR(0,"Ctrl"),shiftKey:DR(0,"Shift"),altKey:DR(0,"Alt"),metaKey:DR(0,"Windows"),separator:"+"},{ctrlKey:DR(0,"Ctrl"),shiftKey:DR(0,"Shift"),altKey:DR(0,"Alt"),metaKey:DR(0,"Super"),separator:"+"}),aZ=new oZ({ctrlKey:DR(0,"Control"),shiftKey:DR(0,"Shift"),altKey:DR(0,"Alt"),metaKey:DR(0,"Command"),separator:"+"},{ctrlKey:DR(0,"Control"),shiftKey:DR(0,"Shift"),altKey:DR(0,"Alt"),metaKey:DR(0,"Windows"),separator:"+"},{ctrlKey:DR(0,"Control"),shiftKey:DR(0,"Shift"),altKey:DR(0,"Alt"),metaKey:DR(0,"Super"),separator:"+"}),lZ=new oZ({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"});function cZ(e,t,n){if(null===t)return"";const i=[];return e.ctrlKey&&i.push(n.ctrlKey),e.shiftKey&&i.push(n.shiftKey),e.altKey&&i.push(n.altKey),e.metaKey&&i.push(n.metaKey),""!==t&&i.push(t),i.join(n.separator)}class uZ extends class extends class{}{constructor(e,t){if(super(),0===t.length)throw BP("parts");this._os=e,this._parts=t}getLabel(){return sZ.toLabel(this._os,this._parts,(e=>this._getLabel(e)))}getAriaLabel(){return aZ.toLabel(this._os,this._parts,(e=>this._getAriaLabel(e)))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:lZ.toLabel(this._os,this._parts,(e=>this._getElectronAccelerator(e)))}isChord(){return this._parts.length>1}getParts(){return this._parts.map((e=>this._getPart(e)))}_getPart(e){return new eV(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,this._getLabel(e),this._getAriaLabel(e))}getDispatchParts(){return this._parts.map((e=>this._getDispatchPart(e)))}getSingleModifierDispatchParts(){return this._parts.map((e=>this._getSingleModifierDispatchPart(e)))}}{constructor(e,t){super(t,e.parts)}_keyCodeToUILabel(e){if(2===this._os)switch(e){case 15:return"";case 16:return"";case 17:return"";case 18:return""}return xB.toString(e)}_getLabel(e){return e.isDuplicateModifierCase()?"":this._keyCodeToUILabel(e.keyCode)}_getAriaLabel(e){return e.isDuplicateModifierCase()?"":xB.toString(e.keyCode)}_getElectronAccelerator(e){return xB.toElectronAccelerator(e.keyCode)}_getDispatchPart(e){return uZ.getDispatchStr(e)}static getDispatchStr(e){if(e.isModifierKey())return null;let t="";return e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),e.metaKey&&(t+="meta+"),t+=xB.toString(e.keyCode),t}_getSingleModifierDispatchPart(e){return 5!==e.keyCode||e.shiftKey||e.altKey||e.metaKey?4!==e.keyCode||e.ctrlKey||e.altKey||e.metaKey?6!==e.keyCode||e.ctrlKey||e.shiftKey||e.metaKey?57!==e.keyCode||e.ctrlKey||e.shiftKey||e.altKey?null:"meta":"alt":"shift":"ctrl"}static _scanCodeToKeyCode(e){const t=wB[e];if(-1!==t)return t;switch(e){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(e){if(!e)return null;if(e instanceof Jz)return e;const t=this._scanCodeToKeyCode(e.scanCode);return 0===t?null:new Jz(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,t)}static resolveUserBinding(e,t){const n=rZ(e.map((e=>this._resolveSimpleUserBinding(e))));return n.length>0?[new uZ(new Qz(n),t)]:[]}}const hZ=Fz("notificationService");const dZ=Fz("contextService");class fZ{constructor(e,t){this.raw=t,this.uri=e.uri,this.index=e.index,this.name=e.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}var pZ,gZ,mZ,vZ,yZ,bZ,_Z,wZ,CZ,xZ,kZ,SZ,DZ;(gZ=pZ||(pZ={})).noSelection=DR(0,"No selection"),gZ.singleSelectionRange=DR(0,"Line {0}, Column {1} ({2} selected)"),gZ.singleSelection=DR(0,"Line {0}, Column {1}"),gZ.multiSelectionRange=DR(0,"{0} selections ({1} characters selected)"),gZ.multiSelection=DR(0,"{0} selections"),gZ.emergencyConfOn=DR(0,"Now changing the setting `accessibilitySupport` to 'on'."),gZ.openingDocs=DR(0,"Now opening the Editor Accessibility documentation page."),gZ.readonlyDiffEditor=DR(0," in a read-only pane of a diff editor."),gZ.editableDiffEditor=DR(0," in a pane of a diff editor."),gZ.readonlyEditor=DR(0," in a read-only code editor"),gZ.editableEditor=DR(0," in a code editor"),gZ.changeConfigToOnMac=DR(0,"To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),gZ.changeConfigToOnWinLinux=DR(0,"To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),gZ.auto_on=DR(0,"The editor is configured to be optimized for usage with a Screen Reader."),gZ.auto_off=DR(0,"The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),gZ.tabFocusModeOnMsg=DR(0,"Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),gZ.tabFocusModeOnMsgNoKb=DR(0,"Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),gZ.tabFocusModeOffMsg=DR(0,"Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),gZ.tabFocusModeOffMsgNoKb=DR(0,"Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),gZ.openDocMac=DR(0,"Press Command+H now to open a browser window with more information related to editor accessibility."),gZ.openDocWinLinux=DR(0,"Press Control+H now to open a browser window with more information related to editor accessibility."),gZ.outroMsg=DR(0,"You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),gZ.showAccessibilityHelpAction=DR(0,"Show Accessibility Help"),(mZ||(mZ={})).inspectTokensAction=DR(0,"Developer: Inspect Tokens"),(vZ||(vZ={})).gotoLineActionLabel=DR(0,"Go to Line/Column..."),(yZ||(yZ={})).helpQuickAccessActionLabel=DR(0,"Show all Quick Access Providers"),(_Z=bZ||(bZ={})).quickCommandActionLabel=DR(0,"Command Palette"),_Z.quickCommandHelp=DR(0,"Show And Run Commands"),(CZ=wZ||(wZ={})).quickOutlineActionLabel=DR(0,"Go to Symbol..."),CZ.quickOutlineByCategoryActionLabel=DR(0,"Go to Symbol by Category..."),(kZ=xZ||(xZ={})).editorViewAccessibleLabel=DR(0,"Editor content"),kZ.accessibilityHelpMessage=DR(0,"Press Alt+F1 for Accessibility Options."),(SZ||(SZ={})).toggleHighContrast=DR(0,"Toggle High Contrast Theme"),(DZ||(DZ={})).bulkEditServiceSummary=DR(0,"Made {0} edits in {1} files");var EZ=globalThis&&globalThis.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},LZ=globalThis&&globalThis.__param||function(e,t){return function(n,i){t(n,i,e)}},TZ=globalThis&&globalThis.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(nR){o(nR)}}function a(e){try{l(i.throw(e))}catch(nR){o(nR)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class NZ{constructor(e){this.disposed=!1,this.model=e,this._onWillDispose=new nB}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}function MZ(e,t,n){return(i=e)&&"function"==typeof i.getEditorType&&i.getEditorType()===AU.ICodeEditor?t(e):n(e);var i}let AZ=class{constructor(e){this.modelService=e}setEditor(e){this.editor=e}createModelReference(e){let t=null;return this.editor&&(t=MZ(this.editor,(t=>this.findModel(t,e)),(t=>this.findModel(t.getOriginalEditor(),e)||this.findModel(t.getModifiedEditor(),e)))),t?Promise.resolve(new GP(new NZ(t))):Promise.reject(new Error("Model not found"))}findModel(e,t){let n=this.modelService.getModel(t);return n&&n.uri.toString()!==t.toString()?null:n}};AZ=EZ([LZ(0,m$)],AZ);class IZ{show(){return IZ.NULL_PROGRESS_RUNNER}showWhile(e,t){return TZ(this,void 0,void 0,(function*(){yield e}))}}IZ.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class OZ{confirm(e){return this.doConfirm(e).then((e=>({confirmed:e,checkboxChecked:!1})))}doConfirm(e){let t=e.message;return e.detail&&(t=t+"\n\n"+e.detail),Promise.resolve(window.confirm(t))}show(e,t,n,i){return Promise.resolve({choice:0})}}class FZ{info(e){return this.notify({severity:KG.Info,message:e})}warn(e){return this.notify({severity:KG.Warning,message:e})}error(e){return this.notify({severity:KG.Error,message:e})}notify(e){switch(e.severity){case KG.Error:console.error(e.message);break;case KG.Warning:console.warn(e.message);break;default:console.log(e.message)}return FZ.NO_OP}status(e,t){return KP.None}}FZ.NO_OP=new class{};class RZ{constructor(e){this._onWillExecuteCommand=new nB,this._onDidExecuteCommand=new nB,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=e}executeCommand(e,...t){const n=lU.getCommand(e);if(!n)return Promise.reject(new Error(`command '${e}' not found`));try{this._onWillExecuteCommand.fire({commandId:e,args:t});const i=this._instantiationService.invokeFunction.apply(this._instantiationService,[n.handler,...t]);return this._onDidExecuteCommand.fire({commandId:e,args:t}),Promise.resolve(i)}catch(i){return Promise.reject(i)}}}class PZ extends _X{constructor(e,t,n,i,r,o){super(e,t,n,i,r),this._cachedResolver=null,this._dynamicKeybindings=[],this._register(AV(o,hW.KEY_DOWN,(e=>{const t=new iV(e);this._dispatch(t,t.target)&&(t.preventDefault(),t.stopPropagation())}))),this._register(AV(window,hW.KEY_UP,(e=>{const t=new iV(e);this._singleModifierDispatch(t,t.target)&&t.preventDefault()})))}addDynamicKeybinding(e,t,n,i){const r=Xz(t,GR),o=new qP;return r&&(this._dynamicKeybindings.push({keybinding:r.parts,command:e,when:i,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),o.add($P((()=>{for(let t=0;t<this._dynamicKeybindings.length;t++){if(this._dynamicKeybindings[t].command===e)return this._dynamicKeybindings.splice(t,1),void this.updateResolver({source:1})}})))),o.add(lU.registerCommand(e,n)),this.updateResolver({source:1}),o}updateResolver(e){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(e)}_getResolver(){if(!this._cachedResolver){const e=this._toNormalizedKeybindingItems(tZ.getDefaultKeybindings(),!0),t=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new ZX(e,t,(e=>this._log(e)))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(e,t){let n=[],i=0;for(const r of e){const e=r.when||void 0,o=r.keybinding;if(o){const s=uZ.resolveUserBinding(o,GR);for(const o of s)n[i++]=new iZ(o,r.command,r.commandArgs,e,t,null,!1)}else n[i++]=new iZ(void 0,r.command,r.commandArgs,e,t,null,!1)}return n}resolveKeyboardEvent(e){let t=new Jz(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode).toChord();return new uZ(t,GR)}}function BZ(e){return e&&"object"==typeof e&&(!e.overrideIdentifier||"string"==typeof e.overrideIdentifier)&&(!e.resource||e.resource instanceof ZB)}class jZ{constructor(){this._onDidChangeConfiguration=new nB,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new vX(new mX,new gX)}getValue(e,t){const n="string"==typeof e?e:void 0,i=BZ(e)?e:BZ(t)?t:{};return this._configuration.getValue(n,i,void 0)}updateValues(e){const t={data:this._configuration.toData()};let n=[];for(const i of e){const[e,t]=i;this.getValue(e)!==t&&(this._configuration.updateValue(e,t),n.push(e))}if(n.length>0){const e=new yX({keys:n,overrides:[]},t,this._configuration);e.source=7,e.sourceConfig=null,this._onDidChangeConfiguration.fire(e)}return Promise.resolve()}}class zZ{constructor(e){this.configurationService=e,this._onDidChangeConfiguration=new nB,this.configurationService.onDidChangeConfiguration((e=>{this._onDidChangeConfiguration.fire({affectedKeys:e.affectedKeys,affectsConfiguration:(t,n)=>e.affectsConfiguration(n)})}))}getValue(e,t,n){const i=(lj.isIPosition(t)?t:null)?"string"==typeof n?n:void 0:"string"==typeof t?t:void 0;return void 0===i?this.configurationService.getValue():this.configurationService.getValue(i)}}let VZ=class{constructor(e){this.configurationService=e}getEOL(e,t){const n=this.configurationService.getValue("files.eol",{overrideIdentifier:t,resource:e});return n&&"string"==typeof n&&"auto"!==n?n:HR||WR?"\n":"\r\n"}};VZ=EZ([LZ(0,bK)],VZ);class WZ{publicLog(e,t){return Promise.resolve(void 0)}publicLog2(e,t){return this.publicLog(e,t)}}class HZ{constructor(){const e=ZB.from({scheme:HZ.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new fZ({uri:e,name:"",index:0})]}}getWorkspace(){return this.workspace}}function UZ(e,t,n){if(!t)return;if(!(e instanceof jZ))return;let i=[];Object.keys(t).forEach((e=>{(function(e){return fX()[`editor.${e}`]||!1})(e)&&i.push([`editor.${e}`,t[e]]),n&&function(e){return fX()[`diffEditor.${e}`]||!1}(e)&&i.push([`diffEditor.${e}`,t[e]])})),i.length>0&&e.updateValues(i)}HZ.SCHEME="inmemory";class $Z{constructor(e){this._modelService=e}hasPreviewHandler(){return!1}apply(e,t){return TZ(this,void 0,void 0,(function*(){const t=new Map;for(let r of e){if(!(r instanceof XG))throw new Error("bad edit - only text edits are supported");const e=this._modelService.getModel(r.resource);if(!e)throw new Error("bad edit - model not found");if("number"==typeof r.versionId&&e.getVersionId()!==r.versionId)throw new Error("bad state - model changed in the meantime");let n=t.get(e);n||(n=[],t.set(e,n)),n.push(pX.replaceMove(cj.lift(r.textEdit.range),r.textEdit.text))}let n=0,i=0;for(const[e,r]of t)e.pushStackElement(),e.pushEditOperations([],r,(()=>[])),e.pushStackElement(),i+=1,n+=r.length;return{ariaSummary:NW(DZ.bulkEditServiceSummary,n,i)}}))}}class qZ{getUriLabel(e,t){return"file"===e.scheme?e.fsPath:e.path}}class KZ{constructor(e,t){this._codeEditorService=e,this._container=t,this.onDidLayout=eB.None}get dimension(){return this._dimension||(this._dimension=HV(window.document.body)),this._dimension}get container(){return this._container}focus(){var e;null===(e=this._codeEditorService.getFocusedCodeEditor())||void 0===e||e.focus()}}let YZ,GZ,XZ,ZZ,JZ;function QZ(e){YZ&&(GZ.textContent!==e?(TV(XZ),eJ(GZ,e)):(TV(GZ),eJ(XZ,e)))}function eJ(e,t){TV(e),t.length>2e4&&(t=t.substr(0,2e4)),e.textContent=t,e.style.visibility="hidden",e.style.visibility="visible"}const tJ=Fz("markerDecorationsService");var nJ,iJ,rJ=globalThis&&globalThis.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(nR){o(nR)}}function a(e){try{l(i.throw(e))}catch(nR){o(nR)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class oJ extends KP{constructor(e,t="",n="",i=!0,r){super(),this._onDidChange=this._register(new nB),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=e,this._label=t,this._cssClass=n,this._enabled=i,this._actionCallback=r}get id(){return this._id}get label(){return this._label}set label(e){this._setLabel(e)}_setLabel(e){this._label!==e&&(this._label=e,this._onDidChange.fire({label:e}))}get tooltip(){return this._tooltip||""}set tooltip(e){this._setTooltip(e)}_setTooltip(e){this._tooltip!==e&&(this._tooltip=e,this._onDidChange.fire({tooltip:e}))}get class(){return this._cssClass}set class(e){this._setClass(e)}_setClass(e){this._cssClass!==e&&(this._cssClass=e,this._onDidChange.fire({class:e}))}get enabled(){return this._enabled}set enabled(e){this._setEnabled(e)}_setEnabled(e){this._enabled!==e&&(this._enabled=e,this._onDidChange.fire({enabled:e}))}get checked(){return this._checked}set checked(e){this._setChecked(e)}_setChecked(e){this._checked!==e&&(this._checked=e,this._onDidChange.fire({checked:e}))}run(e,t){return rJ(this,void 0,void 0,(function*(){this._actionCallback&&(yield this._actionCallback(e))}))}}class sJ extends KP{constructor(){super(...arguments),this._onBeforeRun=this._register(new nB),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new nB),this.onDidRun=this._onDidRun.event}run(e,t){return rJ(this,void 0,void 0,(function*(){if(!e.enabled)return;let n;this._onBeforeRun.fire({action:e});try{yield this.runAction(e,t)}catch(nR){n=nR}this._onDidRun.fire({action:e,error:n})}))}runAction(e,t){return rJ(this,void 0,void 0,(function*(){yield e.run(t)}))}}class aJ extends oJ{constructor(e){super(aJ.ID,e,e?"separator text":"separator"),this.checked=!1,this.enabled=!1}}aJ.ID="vs.actions.separator";class lJ{constructor(e,t,n,i){this.tooltip="",this.enabled=!0,this.checked=!1,this.id=e,this.label=t,this.class=i,this._actions=n}get actions(){return this._actions}dispose(){}run(){return rJ(this,void 0,void 0,(function*(){}))}}class cJ extends oJ{constructor(){super(cJ.ID,DR(0,"(empty)"),void 0,!1)}}cJ.ID="vs.actions.empty",(iJ=nJ||(nJ={})).DARK="dark",iJ.LIGHT="light",iJ.HIGH_CONTRAST="hc";const uJ=Fz("themeService");var hJ,dJ;function fJ(e){return{id:e}}function pJ(e){switch(e){case nJ.DARK:return"vs-dark";case nJ.HIGH_CONTRAST:return"hc-black";default:return"vs"}}(hJ||(hJ={})).isThemeColor=function(e){return e&&"object"==typeof e&&"string"==typeof e.id},function(e){e.isThemeIcon=function(e){return e&&"object"==typeof e&&"string"==typeof e.id&&(void 0===e.color||hJ.isThemeColor(e.color))};const t=new RegExp(`^\\$\\((${k$.iconNameExpression}(?:${k$.iconModifierExpression})?)\\)$`);e.fromString=function(e){const n=t.exec(e);if(!n)return;let[,i]=n;return{id:i}},e.modify=function(e,t){let n=e.id;const i=n.lastIndexOf("~");return-1!==i&&(n=n.substring(0,i)),t&&(n=`${n}~${t}`),{id:n}},e.isEqual=function(e,t){var n,i;return e.id===t.id&&(null===(n=e.color)||void 0===n?void 0:n.id)===(null===(i=t.color)||void 0===i?void 0:i.id)},e.asThemeIcon=function(e,t){return{id:e.id,color:t?fJ(t):void 0}},e.asClassNameArray=k$.asClassNameArray,e.asClassName=k$.asClassName,e.asCSSSelector=k$.asCSSSelector}(dJ||(dJ={}));const gJ="base.contributions.theming";let mJ=new class{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new nB}onColorThemeChange(e){return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),$P((()=>{const t=this.themingParticipants.indexOf(e);this.themingParticipants.splice(t,1)}))}getThemingParticipants(){return this.themingParticipants}};function vJ(e){return mJ.onColorThemeChange(e)}rK.add(gJ,mJ);class yJ extends KP{constructor(e){super(),this.themeService=e,this.theme=e.getColorTheme(),this._register(this.themeService.onDidColorThemeChange((e=>this.onThemeChange(e))))}onThemeChange(e){this.theme=e,this.updateStyles()}updateStyles(){}}var bJ=globalThis&&globalThis.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},_J=globalThis&&globalThis.__param||function(e,t){return function(n,i){t(n,i,e)}};function wJ(e){return void 0!==e.command}class CJ{constructor(e){this.id=CJ._idPool++,this._debugName=e}}CJ._idPool=0,CJ.CommandPalette=new CJ("CommandPalette"),CJ.EditorContext=new CJ("EditorContext"),CJ.SimpleEditorContext=new CJ("SimpleEditorContext"),CJ.EditorContextCopy=new CJ("EditorContextCopy"),CJ.EditorContextPeek=new CJ("EditorContextPeek"),CJ.MenubarEditMenu=new CJ("MenubarEditMenu"),CJ.MenubarCopy=new CJ("MenubarCopy"),CJ.MenubarGoMenu=new CJ("MenubarGoMenu"),CJ.MenubarSelectionMenu=new CJ("MenubarSelectionMenu"),CJ.InlineCompletionsActions=new CJ("InlineCompletionsActions");const xJ=Fz("menuService"),kJ=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new nB,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:e=>e===CJ.CommandPalette}}addCommand(e){return this.addCommands(VP.single(e))}addCommands(e){for(const t of e)this._commands.set(t.id,t);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),$P((()=>{let t=!1;for(const n of e)t=this._commands.delete(n.id)||t;t&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)}))}getCommand(e){return this._commands.get(e)}getCommands(){const e=new Map;return this._commands.forEach(((t,n)=>e.set(n,t))),e}appendMenuItem(e,t){return this.appendMenuItems(VP.single({id:e,item:t}))}appendMenuItems(e){const t=new Set,n=new ZP;for(const{id:i,item:r}of e){let e=this._menuItems.get(i);e||(e=new ZP,this._menuItems.set(i,e)),n.push(e.push(r)),t.add(i)}return this._onDidChangeMenu.fire(t),$P((()=>{if(n.size>0){for(let e of n)e();this._onDidChangeMenu.fire(t),n.clear()}}))}getMenuItems(e){let t;return t=this._menuItems.has(e)?[...this._menuItems.get(e)]:[],e===CJ.CommandPalette&&this._appendImplicitItems(t),t}_appendImplicitItems(e){const t=new Set;for(const n of e)wJ(n)&&(t.add(n.command.id),n.alt&&t.add(n.alt.id));this._commands.forEach(((n,i)=>{t.has(i)||e.push({command:n})}))}};class SJ extends lJ{constructor(e,t,n,i){super(`submenuitem.${e.submenu.id}`,"string"==typeof e.title?e.title:e.title.value,[],"submenu"),this.item=e,this._menuService=t,this._contextKeyService=n,this._options=i}get actions(){const e=[],t=this._menuService.createMenu(this.item.submenu,this._contextKeyService),n=t.getActions(this._options);t.dispose();for(const[,i]of n)i.length>0&&(e.push(...i),e.push(new aJ));return e.length&&e.pop(),e}}let DJ=class e{constructor(t,n,i,r,o){var s,a;if(this._commandService=o,this.id=t.id,this.label=(null==i?void 0:i.renderShortTitle)&&t.shortTitle?"string"==typeof t.shortTitle?t.shortTitle:t.shortTitle.value:"string"==typeof t.title?t.title:t.title.value,this.tooltip=null!==(a="string"==typeof t.tooltip?t.tooltip:null===(s=t.tooltip)||void 0===s?void 0:s.value)&&void 0!==a?a:"",this.enabled=!t.precondition||r.contextMatchesRules(t.precondition),this.checked=void 0,t.toggled){const e=t.toggled.condition?t.toggled:{condition:t.toggled};this.checked=r.contextMatchesRules(e.condition),this.checked&&e.tooltip&&(this.tooltip="string"==typeof e.tooltip?e.tooltip:e.tooltip.value),e.title&&(this.label="string"==typeof e.title?e.title:e.title.value)}this.item=t,this.alt=n?new e(n,void 0,i,r,o):void 0,this._options=i,dJ.isThemeIcon(t.icon)&&(this.class=k$.asClassName(t.icon))}dispose(){}run(...e){var t,n;let i=[];return(null===(t=this._options)||void 0===t?void 0:t.arg)&&(i=[...i,this._options.arg]),(null===(n=this._options)||void 0===n?void 0:n.shouldForwardArgs)&&(i=[...i,...e]),this._commandService.executeCommand(this.id,...i)}};DJ=bJ([_J(3,qX),_J(4,aU)],DJ);const EJ=Fz("telemetryService");class LJ{constructor(e){this.id=e.id,this.precondition=e.precondition,this._kbOpts=e.kbOpts,this._menuOpts=e.menuOpts,this._description=e.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const e=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const t of e){let e=t.kbExpr;this.precondition&&(e=e?SX.and(e,this.precondition):this.precondition);const n={id:this.id,weight:t.weight,args:t.args,when:e,primary:t.primary,secondary:t.secondary,win:t.win,linux:t.linux,mac:t.mac};tZ.registerKeybindingRule(n)}}lU.registerCommand({id:this.id,handler:(e,t)=>this.runCommand(e,t),description:this._description})}_registerMenuItem(e){kJ.appendMenuItem(e.menuId,{group:e.group,command:{id:this.id,title:e.title,icon:e.icon,precondition:this.precondition},when:e.when,order:e.order})}}class TJ extends LJ{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t,n){return this._implementations.push({priority:e,name:t,implementation:n}),this._implementations.sort(((e,t)=>t.priority-e.priority)),{dispose:()=>{for(let e=0;e<this._implementations.length;e++)if(this._implementations[e].implementation===n)return void this._implementations.splice(e,1)}}}runCommand(e,t){const n=e.get(NY);n.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const i of this._implementations){const r=i.implementation(e,t);if(r){if(n.trace(`Command '${this.id}' was handled by '${i.name}'.`),"boolean"==typeof r)return;return r}}n.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class NJ extends LJ{constructor(e,t){super(t),this.command=e}runCommand(e,t){return this.command.runCommand(e,t)}}class MJ extends LJ{static bindToContribution(e){return class extends MJ{constructor(e){super(e),this._callback=e.handler}runEditorCommand(t,n,i){e(n)&&this._callback(e(n),i)}}}runCommand(e,t){const n=e.get(Pz),i=n.getFocusedCodeEditor()||n.getActiveCodeEditor();if(i)return i.invokeWithinContext((e=>{if(e.get(qX).contextMatchesRules(sU(this.precondition)))return this.runEditorCommand(e,i,t)}))}}class AJ extends MJ{constructor(e){super(AJ.convertOptions(e)),this.label=e.label,this.alias=e.alias}static convertOptions(e){let t;function n(t){return t.menuId||(t.menuId=CJ.EditorContext),t.title||(t.title=e.label),t.when=SX.and(e.precondition,t.when),t}return t=Array.isArray(e.menuOpts)?e.menuOpts:e.menuOpts?[e.menuOpts]:[],Array.isArray(e.contextMenuOpts)?t.push(...e.contextMenuOpts.map(n)):e.contextMenuOpts&&t.push(n(e.contextMenuOpts)),e.menuOpts=t,e}runEditorCommand(e,t,n){return this.reportTelemetry(e,t),this.run(e,t,n||{})}reportTelemetry(e,t){e.get(EJ).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}function IJ(e){return BJ.INSTANCE.registerEditorCommand(e),e}function OJ(e){const t=new e;return BJ.INSTANCE.registerEditorAction(t),t}function FJ(e,t){BJ.INSTANCE.registerEditorContribution(e,t)}var RJ,PJ;(PJ=RJ||(RJ={})).getEditorCommand=function(e){return BJ.INSTANCE.getEditorCommand(e)},PJ.getEditorActions=function(){return BJ.INSTANCE.getEditorActions()},PJ.getEditorContributions=function(){return BJ.INSTANCE.getEditorContributions()},PJ.getSomeEditorContributions=function(e){return BJ.INSTANCE.getEditorContributions().filter((t=>e.indexOf(t.id)>=0))},PJ.getDiffEditorContributions=function(){return BJ.INSTANCE.getDiffEditorContributions()};class BJ{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(e,t){this.editorContributions.push({id:e,ctor:t})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(e){e.register(),this.editorActions.push(e)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(e){e.register(),this.editorCommands[e.id]=e}getEditorCommand(e){return this.editorCommands[e]||null}}function jJ(e){return e.register(),e}BJ.INSTANCE=new BJ,rK.add("editor.contributions",BJ.INSTANCE);const zJ=jJ(new TJ({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:CJ.MenubarEditMenu,group:"1_do",title:DR(0,"&&Undo"),order:1},{menuId:CJ.CommandPalette,group:"",title:DR(0,"Undo"),order:1}]}));jJ(new NJ(zJ,{id:"default:undo",precondition:void 0}));const VJ=jJ(new TJ({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:CJ.MenubarEditMenu,group:"1_do",title:DR(0,"&&Redo"),order:2},{menuId:CJ.CommandPalette,group:"",title:DR(0,"Redo"),order:1}]}));jJ(new NJ(VJ,{id:"default:redo",precondition:void 0}));const WJ=jJ(new TJ({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:CJ.MenubarSelectionMenu,group:"1_basic",title:DR(0,"&&Select All"),order:1},{menuId:CJ.CommandPalette,group:"",title:DR(0,"Select All"),order:1}]}));var HJ=globalThis&&globalThis.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},UJ=globalThis&&globalThis.__param||function(e,t){return function(n,i){t(n,i,e)}};let $J=class{constructor(e,t){}dispose(){}};$J.ID="editor.contrib.markerDecorations",$J=HJ([UJ(1,tJ)],$J),FJ($J.ID,$J);class qJ{constructor(e,t){this.chr=e,this.type=t,this.width=0}fulfill(e){this.width=e}}class KJ{constructor(e,t){this._bareFontInfo=e,this._requests=t,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const e=this._bareFontInfo.getMassagedFontFamily($z?EP.fontFamily:null),t=document.createElement("div");t.style.position="absolute",t.style.top="-50000px",t.style.width="50000px";const n=document.createElement("div");n.style.fontFamily=e,n.style.fontWeight=this._bareFontInfo.fontWeight,n.style.fontSize=this._bareFontInfo.fontSize+"px",n.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,n.style.lineHeight=this._bareFontInfo.lineHeight+"px",n.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",t.appendChild(n);const i=document.createElement("div");i.style.fontFamily=e,i.style.fontWeight="bold",i.style.fontSize=this._bareFontInfo.fontSize+"px",i.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,i.style.lineHeight=this._bareFontInfo.lineHeight+"px",i.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",t.appendChild(i);const r=document.createElement("div");r.style.fontFamily=e,r.style.fontWeight=this._bareFontInfo.fontWeight,r.style.fontSize=this._bareFontInfo.fontSize+"px",r.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,r.style.lineHeight=this._bareFontInfo.lineHeight+"px",r.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",r.style.fontStyle="italic",t.appendChild(r);const o=[];for(const s of this._requests){let e;0===s.type&&(e=n),2===s.type&&(e=i),1===s.type&&(e=r),e.appendChild(document.createElement("br"));const t=document.createElement("span");KJ._render(t,s),e.appendChild(t),o.push(t)}this._container=t,this._testElements=o}static _render(e,t){if(" "===t.chr){let t="";for(let e=0;e<8;e++)t+=t;e.innerText=t}else{let n=t.chr;for(let e=0;e<8;e++)n+=n;e.textContent=n}}_readFromDomElements(){for(let e=0,t=this._requests.length;e<t;e++){const t=this._requests[e],n=this._testElements[e];t.fulfill(n.offsetWidth/256)}}}class YJ extends KP{constructor(e,t,n){super(),this.referenceDomElement=e,this.changeCallback=n,this.width=-1,this.height=-1,this.resizeObserver=null,this.measureReferenceDomElementToken=-1,this.measureReferenceDomElement(!1,t)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this.width}getHeight(){return this.height}startObserving(){"undefined"!=typeof ResizeObserver?!this.resizeObserver&&this.referenceDomElement&&(this.resizeObserver=new ResizeObserver((e=>{e&&e[0]&&e[0].contentRect?this.observe({width:e[0].contentRect.width,height:e[0].contentRect.height}):this.observe()})),this.resizeObserver.observe(this.referenceDomElement)):-1===this.measureReferenceDomElementToken&&(this.measureReferenceDomElementToken=setInterval((()=>this.observe()),100))}stopObserving(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),-1!==this.measureReferenceDomElementToken&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)}observe(e){this.measureReferenceDomElement(!0,e)}measureReferenceDomElement(e,t){let n=0,i=0;t?(n=t.width,i=t.height):this.referenceDomElement&&(n=this.referenceDomElement.clientWidth,i=this.referenceDomElement.clientHeight),n=Math.max(5,n),i=Math.max(5,i),this.width===n&&this.height===i||(this.width=n,this.height=i,e&&this.changeCallback())}}class GJ{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(e){const t=e.getId();return!!this._values[t]}get(e){const t=e.getId();return this._values[t]}put(e,t){const n=e.getId();this._keys[n]=e,this._values[n]=t}remove(e){const t=e.getId();delete this._keys[t],delete this._values[t]}getValues(){return Object.keys(this._keys).map((e=>this._values[e]))}}class XJ extends KP{constructor(){super(),this._onDidChange=this._register(new nB),this.onDidChange=this._onDidChange.event,this._cache=new GJ,this._evictUntrustedReadingsTimeout=-1}dispose(){-1!==this._evictUntrustedReadingsTimeout&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearCache(){this._cache=new GJ,this._onDidChange.fire()}_writeToCache(e,t){this._cache.put(e,t),t.isTrusted||-1!==this._evictUntrustedReadingsTimeout||(this._evictUntrustedReadingsTimeout=setTimeout((()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()}),5e3))}_evictUntrustedReadings(){const e=this._cache.getValues();let t=!1;for(const n of e)n.isTrusted||(t=!0,this._cache.remove(n));t&&this._onDidChange.fire()}readConfiguration(e){if(!this._cache.has(e)){let t=XJ._actualReadConfiguration(e);(t.typicalHalfwidthCharacterWidth<=2||t.typicalFullwidthCharacterWidth<=2||t.spaceWidth<=2||t.maxDigitWidth<=2)&&(t=new MU({zoomLevel:jz(),pixelRatio:zz(),fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:t.isMonospace,typicalHalfwidthCharacterWidth:Math.max(t.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(t.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:t.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(t.spaceWidth,5),middotWidth:Math.max(t.middotWidth,5),wsmiddotWidth:Math.max(t.wsmiddotWidth,5),maxDigitWidth:Math.max(t.maxDigitWidth,5)},!1)),this._writeToCache(e,t)}return this._cache.get(e)}static createRequest(e,t,n,i){const r=new qJ(e,t);return n.push(r),i&&i.push(r),r}static _actualReadConfiguration(e){const t=[],n=[],i=this.createRequest("n",0,t,n),r=this.createRequest("",0,t,null),o=this.createRequest(" ",0,t,n),s=this.createRequest("0",0,t,n),a=this.createRequest("1",0,t,n),l=this.createRequest("2",0,t,n),c=this.createRequest("3",0,t,n),u=this.createRequest("4",0,t,n),h=this.createRequest("5",0,t,n),d=this.createRequest("6",0,t,n),f=this.createRequest("7",0,t,n),p=this.createRequest("8",0,t,n),g=this.createRequest("9",0,t,n),m=this.createRequest("",0,t,n),v=this.createRequest("",0,t,null),y=this.createRequest("",0,t,n),b=this.createRequest(String.fromCharCode(11825),0,t,null),_="|/-_ilm%";for(let D=0,E=_.length;D<E;D++)this.createRequest(_.charAt(D),0,t,n),this.createRequest(_.charAt(D),1,t,n),this.createRequest(_.charAt(D),2,t,n);!function(e,t){new KJ(e,t).read()}(e,t);const w=Math.max(s.width,a.width,l.width,c.width,u.width,h.width,d.width,f.width,p.width,g.width);let C=e.fontFeatureSettings===wP.OFF;const x=n[0].width;for(let D=1,E=n.length;C&&D<E;D++){const e=x-n[D].width;if(e<-.001||e>.001){C=!1;break}}let k=!0;C&&v.width!==x&&(k=!1),v.width>m.width&&(k=!1);const S=Bz.INSTANCE.getTimeSinceLastZoomLevelChanged()>2e3;return new MU({zoomLevel:jz(),pixelRatio:zz(),fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontSize:e.fontSize,fontFeatureSettings:e.fontFeatureSettings,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,isMonospace:C,typicalHalfwidthCharacterWidth:i.width,typicalFullwidthCharacterWidth:r.width,canUseHalfwidthRightwardsArrow:k,spaceWidth:o.width,middotWidth:y.width,wsmiddotWidth:b.width,maxDigitWidth:w},S)}}XJ.INSTANCE=new XJ;class ZJ extends aX{constructor(e,t,n=null,i){var r;super(e,t),this.accessibilityService=i,this._elementSizeObserver=this._register(new YJ(n,t.dimension,(()=>this._recomputeOptions()))),this._register(XJ.INSTANCE.onDidChange((()=>this._recomputeOptions()))),this._validatedOptions.get(10)&&this._elementSizeObserver.startObserving(),this._register((r=e=>this._recomputeOptions(),Bz.INSTANCE.onDidChangeZoomLevel(r))),this._register(this.accessibilityService.onDidChangeScreenReaderOptimized((()=>this._recomputeOptions()))),this._recomputeOptions()}static applyFontInfoSlow(e,t){e.style.fontFamily=t.getMassagedFontFamily($z?EP.fontFamily:null),e.style.fontWeight=t.fontWeight,e.style.fontSize=t.fontSize+"px",e.style.fontFeatureSettings=t.fontFeatureSettings,e.style.lineHeight=t.lineHeight+"px",e.style.letterSpacing=t.letterSpacing+"px"}static applyFontInfo(e,t){e.setFontFamily(t.getMassagedFontFamily($z?EP.fontFamily:null)),e.setFontWeight(t.fontWeight),e.setFontSize(t.fontSize),e.setFontFeatureSettings(t.fontFeatureSettings),e.setLineHeight(t.lineHeight),e.setLetterSpacing(t.letterSpacing)}observeReferenceElement(e){this._elementSizeObserver.observe(e)}updatePixelRatio(){this._recomputeOptions()}static _getExtraEditorClassName(){let e="";return $z||qz||(e+="no-user-select "),$z&&(e+="no-minimap-shadow "),WR&&(e+="mac "),e}_getEnvConfiguration(){return{extraEditorClassName:ZJ._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:Hz||Wz,pixelRatio:zz(),zoomLevel:jz(),accessibilitySupport:this.accessibilityService.isScreenReaderOptimized()?2:this.accessibilityService.getAccessibilitySupport()}}readConfiguration(e){return XJ.INSTANCE.readConfiguration(e)}}class JJ{constructor(e){this.domNode=e,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontFeatureSettings="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(e){this._width!==e&&(this._width=e,this.domNode.style.width=this._width+"px")}setHeight(e){this._height!==e&&(this._height=e,this.domNode.style.height=this._height+"px")}setTop(e){this._top!==e&&(this._top=e,this.domNode.style.top=this._top+"px")}unsetTop(){-1!==this._top&&(this._top=-1,this.domNode.style.top="")}setLeft(e){this._left!==e&&(this._left=e,this.domNode.style.left=this._left+"px")}setBottom(e){this._bottom!==e&&(this._bottom=e,this.domNode.style.bottom=this._bottom+"px")}setRight(e){this._right!==e&&(this._right=e,this.domNode.style.right=this._right+"px")}setFontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(e){this._fontSize!==e&&(this._fontSize=e,this.domNode.style.fontSize=this._fontSize+"px")}setFontFeatureSettings(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setLineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)}toggleClassName(e,t){this.domNode.classList.toggle(e,t),this._className=this.domNode.className}setDisplay(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)}setPosition(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)}setBackgroundColor(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(e){this._boxShadow!==e&&(this._boxShadow=e,this.domNode.style.boxShadow=e)}setContain(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)}setAttribute(e,t){this.domNode.setAttribute(e,t)}removeAttribute(e){this.domNode.removeAttribute(e)}appendChild(e){this.domNode.appendChild(e.domNode)}removeChild(e){this.domNode.removeChild(e.domNode)}}function QJ(e){return new JJ(e)}function eQ(e,t,n){let i=null,r=null;if("function"==typeof n.value?(i="value",r=n.value,0!==r.length&&console.warn("Memoize should only be used in functions with zero parameters")):"function"==typeof n.get&&(i="get",r=n.get),!r)throw new Error("not supported");const o=`$memoize$${t}`;n[i]=function(...e){return this.hasOwnProperty(o)||Object.defineProperty(this,o,{configurable:!1,enumerable:!1,writable:!1,value:r.apply(this,e)}),this[o]}}var tQ,nQ,iQ=globalThis&&globalThis.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};(nQ=tQ||(tQ={})).Tap="-monaco-gesturetap",nQ.Change="-monaco-gesturechange",nQ.Start="-monaco-gesturestart",nQ.End="-monaco-gesturesend",nQ.Contextmenu="-monaco-gesturecontextmenu";class rQ extends KP{constructor(){super(),this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(AV(document,"touchstart",(e=>this.onTouchStart(e)),{passive:!1})),this._register(AV(document,"touchend",(e=>this.onTouchEnd(e)))),this._register(AV(document,"touchmove",(e=>this.onTouchMove(e)),{passive:!1}))}static addTarget(e){return rQ.isTouchDevice()?(rQ.INSTANCE||(rQ.INSTANCE=new rQ),rQ.INSTANCE.targets.push(e),{dispose:()=>{rQ.INSTANCE.targets=rQ.INSTANCE.targets.filter((t=>t!==e))}}):KP.None}static ignoreTarget(e){return rQ.isTouchDevice()?(rQ.INSTANCE||(rQ.INSTANCE=new rQ),rQ.INSTANCE.ignoreTargets.push(e),{dispose:()=>{rQ.INSTANCE.ignoreTargets=rQ.INSTANCE.ignoreTargets.filter((t=>t!==e))}}):KP.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(e){let t=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let n=0,i=e.targetTouches.length;n<i;n++){let i=e.targetTouches.item(n);this.activeTouches[i.identifier]={id:i.identifier,initialTarget:i.target,initialTimeStamp:t,initialPageX:i.pageX,initialPageY:i.pageY,rollingTimestamps:[t],rollingPageX:[i.pageX],rollingPageY:[i.pageY]};let r=this.newGestureEvent(tQ.Start,i.target);r.pageX=i.pageX,r.pageY=i.pageY,this.dispatchEvent(r)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}onTouchEnd(e){let t=Date.now(),n=Object.keys(this.activeTouches).length;for(let i=0,r=e.changedTouches.length;i<r;i++){let r=e.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(r.identifier))){console.warn("move of an UNKNOWN touch",r);continue}let o=this.activeTouches[r.identifier],s=Date.now()-o.initialTimeStamp;if(s<rQ.HOLD_DELAY&&Math.abs(o.initialPageX-yY(o.rollingPageX))<30&&Math.abs(o.initialPageY-yY(o.rollingPageY))<30){let e=this.newGestureEvent(tQ.Tap,o.initialTarget);e.pageX=yY(o.rollingPageX),e.pageY=yY(o.rollingPageY),this.dispatchEvent(e)}else if(s>=rQ.HOLD_DELAY&&Math.abs(o.initialPageX-yY(o.rollingPageX))<30&&Math.abs(o.initialPageY-yY(o.rollingPageY))<30){let e=this.newGestureEvent(tQ.Contextmenu,o.initialTarget);e.pageX=yY(o.rollingPageX),e.pageY=yY(o.rollingPageY),this.dispatchEvent(e)}else if(1===n){let e=yY(o.rollingPageX),n=yY(o.rollingPageY),i=yY(o.rollingTimestamps)-o.rollingTimestamps[0],r=e-o.rollingPageX[0],s=n-o.rollingPageY[0];const a=this.targets.filter((e=>o.initialTarget instanceof Node&&e.contains(o.initialTarget)));this.inertia(a,t,Math.abs(r)/i,r>0?1:-1,e,Math.abs(s)/i,s>0?1:-1,n)}this.dispatchEvent(this.newGestureEvent(tQ.End,o.initialTarget)),delete this.activeTouches[r.identifier]}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}newGestureEvent(e,t){let n=document.createEvent("CustomEvent");return n.initEvent(e,!1,!0),n.initialTarget=t,n.tapCount=0,n}dispatchEvent(e){if(e.type===tQ.Tap){const t=(new Date).getTime();let n=0;n=t-this._lastSetTapCountTime>rQ.CLEAR_TAP_COUNT_TIME?1:2,this._lastSetTapCountTime=t,e.tapCount=n}else e.type!==tQ.Change&&e.type!==tQ.Contextmenu||(this._lastSetTapCountTime=0);for(let t=0;t<this.ignoreTargets.length;t++)if(e.initialTarget instanceof Node&&this.ignoreTargets[t].contains(e.initialTarget))return;this.targets.forEach((t=>{e.initialTarget instanceof Node&&t.contains(e.initialTarget)&&(t.dispatchEvent(e),this.dispatched=!0)}))}inertia(e,t,n,i,r,o,s,a){this.handle=RV((()=>{let l=Date.now(),c=l-t,u=0,h=0,d=!0;n+=rQ.SCROLL_FRICTION*c,o+=rQ.SCROLL_FRICTION*c,n>0&&(d=!1,u=i*n*c),o>0&&(d=!1,h=s*o*c);let f=this.newGestureEvent(tQ.Change);f.translationX=u,f.translationY=h,e.forEach((e=>e.dispatchEvent(f))),d||this.inertia(e,l,n,i,r+u,o,s,a+h)}))}onTouchMove(e){let t=Date.now();for(let n=0,i=e.changedTouches.length;n<i;n++){let i=e.changedTouches.item(n);if(!this.activeTouches.hasOwnProperty(String(i.identifier))){console.warn("end of an UNKNOWN touch",i);continue}let r=this.activeTouches[i.identifier],o=this.newGestureEvent(tQ.Change,r.initialTarget);o.translationX=i.pageX-yY(r.rollingPageX),o.translationY=i.pageY-yY(r.rollingPageY),o.pageX=i.pageX,o.pageY=i.pageY,this.dispatchEvent(o),r.rollingPageX.length>3&&(r.rollingPageX.shift(),r.rollingPageY.shift(),r.rollingTimestamps.shift()),r.rollingPageX.push(i.pageX),r.rollingPageY.push(i.pageY),r.rollingTimestamps.push(t)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}}function oQ(e,t){let n=new lV(t);return n.preventDefault(),{leftButton:n.leftButton,buttons:n.buttons,posx:n.posx,posy:n.posy}}rQ.SCROLL_FRICTION=-.005,rQ.HOLD_DELAY=700,rQ.CLEAR_TAP_COUNT_TIME=400,iQ([eQ],rQ,"isTouchDevice",null);class sQ{constructor(){this._hooks=new qP,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(e,t){if(!this.isMonitoring())return;this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;const n=this._onStopCallback;this._onStopCallback=null,e&&n&&n(t)}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(e,t,n,i,r){if(this.isMonitoring())return;this._mouseMoveEventMerger=n,this._mouseMoveCallback=i,this._onStopCallback=r;const o=aV.getSameOriginWindowChain(),s=qR?"pointermove":"mousemove",a=o.map((e=>e.window.document)),l=iW(e);l&&a.unshift(l);for(const c of a)this._hooks.add(VV(c,s,(e=>{e.buttons===t?this._mouseMoveCallback(e):this.stopMonitoring(!0)}),((e,t)=>this._mouseMoveEventMerger(e,t)))),this._hooks.add(AV(c,"mouseup",(e=>this.stopMonitoring(!0))));if(aV.hasDifferentOriginAncestor()){let e=o[o.length-1];this._hooks.add(AV(e.window.document,"mouseout",(e=>{"html"===new lV(e).target.tagName.toLowerCase()&&this.stopMonitoring(!0)}))),this._hooks.add(AV(e.window.document,"mouseover",(e=>{"html"===new lV(e).target.tagName.toLowerCase()&&this.stopMonitoring(!0)}))),this._hooks.add(AV(e.window.document.body,"mouseleave",(e=>{this.stopMonitoring(!0)})))}}}class aQ{constructor(e,t){this.x=e,this.y=t,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new lQ(this.x-KV.scrollX,this.y-KV.scrollY)}}class lQ{constructor(e,t){this.clientX=e,this.clientY=t,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new aQ(this.clientX+KV.scrollX,this.clientY+KV.scrollY)}}class cQ{constructor(e,t,n,i){this.x=e,this.y=t,this.width=n,this.height=i,this._editorPagePositionBrand=void 0}}function uQ(e){const t=qV(e);return new cQ(t.left,t.top,t.width,t.height)}class hQ extends lV{constructor(e,t){super(e),this._editorMouseEventBrand=void 0,this.pos=new aQ(this.posx,this.posy),this.editorPos=uQ(t)}}class dQ{constructor(e){this._editorViewDomNode=e}_create(e){return new hQ(e,this._editorViewDomNode)}onContextMenu(e,t){return AV(e,"contextmenu",(e=>{t(this._create(e))}))}onMouseUp(e,t){return AV(e,"mouseup",(e=>{t(this._create(e))}))}onMouseDown(e,t){return AV(e,"mousedown",(e=>{t(this._create(e))}))}onMouseLeave(e,t){return OV(e,(e=>{t(this._create(e))}))}onMouseMoveThrottled(e,t,n,i){return VV(e,"mousemove",t,((e,t)=>n(e,this._create(t))),i)}}class fQ{constructor(e){this._editorViewDomNode=e}_create(e){return new hQ(e,this._editorViewDomNode)}onPointerUp(e,t){return AV(e,"pointerup",(e=>{t(this._create(e))}))}onPointerDown(e,t){return AV(e,"pointerdown",(e=>{t(this._create(e))}))}onPointerLeave(e,t){return i=e=>{t(this._create(e))},AV(n=e,"pointerout",(e=>{let t=e.relatedTarget;for(;t&&t!==n;)t=t.parentNode;t!==n&&i(e)}));var n,i}onPointerMoveThrottled(e,t,n,i){return VV(e,"pointermove",t,((e,t)=>n(e,this._create(t))),i)}}class pQ extends KP{constructor(e){super(),this._editorViewDomNode=e,this._globalMouseMoveMonitor=this._register(new sQ),this._keydownListener=null}startMonitoring(e,t,n,i,r){this._keydownListener=IV(document,"keydown",(e=>{e.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0,e.browserEvent)}),!0);this._globalMouseMoveMonitor.startMonitoring(e,t,((e,t)=>n(e,new hQ(t,this._editorViewDomNode))),i,(e=>{this._keydownListener.dispose(),r(e)}))}stopMonitoring(){this._globalMouseMoveMonitor.stopMonitoring(!0)}}class gQ extends KP{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(e){return!1}onCompositionEnd(e){return!1}onConfigurationChanged(e){return!1}onCursorStateChanged(e){return!1}onDecorationsChanged(e){return!1}onFlushed(e){return!1}onFocusChanged(e){return!1}onLanguageConfigurationChanged(e){return!1}onLineMappingChanged(e){return!1}onLinesChanged(e){return!1}onLinesDeleted(e){return!1}onLinesInserted(e){return!1}onRevealRangeRequest(e){return!1}onScrollChanged(e){return!1}onThemeChanged(e){return!1}onTokensChanged(e){return!1}onTokensColorsChanged(e){return!1}onZonesChanged(e){return!1}handleEvents(e){let t=!1;for(let n=0,i=e.length;n<i;n++){let i=e[n];switch(i.type){case 0:this.onCompositionStart(i)&&(t=!0);break;case 1:this.onCompositionEnd(i)&&(t=!0);break;case 2:this.onConfigurationChanged(i)&&(t=!0);break;case 3:this.onCursorStateChanged(i)&&(t=!0);break;case 4:this.onDecorationsChanged(i)&&(t=!0);break;case 5:this.onFlushed(i)&&(t=!0);break;case 6:this.onFocusChanged(i)&&(t=!0);break;case 7:this.onLanguageConfigurationChanged(i)&&(t=!0);break;case 8:this.onLineMappingChanged(i)&&(t=!0);break;case 9:this.onLinesChanged(i)&&(t=!0);break;case 10:this.onLinesDeleted(i)&&(t=!0);break;case 11:this.onLinesInserted(i)&&(t=!0);break;case 12:this.onRevealRangeRequest(i)&&(t=!0);break;case 13:this.onScrollChanged(i)&&(t=!0);break;case 15:this.onTokensChanged(i)&&(t=!0);break;case 14:this.onThemeChanged(i)&&(t=!0);break;case 16:this.onTokensColorsChanged(i)&&(t=!0);break;case 17:this.onZonesChanged(i)&&(t=!0);break;default:console.info("View received unknown event: "),console.info(i)}}t&&(this._shouldRender=!0)}}class mQ extends gQ{constructor(e){super(),this._context=e,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class vQ{static write(e,t){e.setAttribute("data-mprt",String(t))}static read(e){const t=e.getAttribute("data-mprt");return null===t?0:parseInt(t,10)}static collect(e,t){let n=[],i=0;for(;e&&e!==document.body&&e!==t;)e.nodeType===e.ELEMENT_NODE&&(n[i++]=this.read(e)),e=e.parentElement;const r=new Uint8Array(i);for(let o=0;o<i;o++)r[o]=n[i-o-1];return r}}class yQ extends class{constructor(e,t){this._restrictedRenderingContextBrand=void 0,this._viewLayout=e,this.viewportData=t,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const n=this._viewLayout.getCurrentViewport();this.scrollTop=n.top,this.scrollLeft=n.left,this.viewportWidth=n.width,this.viewportHeight=n.height}getScrolledTopFromAbsoluteTop(e){return e-this.scrollTop}getVerticalOffsetForLineNumber(e){return this._viewLayout.getVerticalOffsetForLineNumber(e)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}{constructor(e,t,n){super(e,t),this._renderingContextBrand=void 0,this._viewLines=n}linesVisibleRangesForRange(e,t){return this._viewLines.linesVisibleRangesForRange(e,t)}visibleRangeForPosition(e){return this._viewLines.visibleRangeForPosition(e)}}class bQ{constructor(e,t,n){this.outsideRenderedLine=e,this.lineNumber=t,this.ranges=n}}class _Q{constructor(e,t){this._horizontalRangeBrand=void 0,this.left=Math.round(e),this.width=Math.round(t)}static from(e){const t=new Array(e.length);for(let n=0,i=e.length;n<i;n++){const i=e[n];t[n]=new _Q(i.left,i.width)}return t}toString(){return`[${this.left},${this.width}]`}}class wQ{constructor(e,t){this._floatHorizontalRangeBrand=void 0,this.left=e,this.width=t}toString(){return`[${this.left},${this.width}]`}static compare(e,t){return e.left-t.left}}class CQ{constructor(e,t){this.outsideRenderedLine=e,this.originalLeft=t,this.left=Math.round(this.originalLeft)}}class xQ{constructor(e,t){this.outsideRenderedLine=e,this.ranges=t}}class kQ{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(e,t){e.selectNodeContents(t)}static _readClientRects(e,t,n,i,r){const o=this._createRange();try{return o.setStart(e,t),o.setEnd(n,i),o.getClientRects()}catch(nR){return null}finally{this._detachRange(o,r)}}static _mergeAdjacentRanges(e){if(1===e.length)return e;e.sort(wQ.compare);let t=[],n=0,i=e[0];for(let r=1,o=e.length;r<o;r++){const o=e[r];i.left+i.width+.9>=o.left?i.width=Math.max(i.width,o.left+o.width-i.left):(t[n++]=i,i=o)}return t[n++]=i,t}static _createHorizontalRangesFromClientRects(e,t){if(!e||0===e.length)return null;const n=[];for(let i=0,r=e.length;i<r;i++){const r=e[i];n[i]=new wQ(Math.max(0,r.left-t),r.width)}return this._mergeAdjacentRanges(n)}static readHorizontalRanges(e,t,n,i,r,o,s){const a=e.children.length-1;if(0>a)return null;if((t=Math.min(a,Math.max(0,t)))===(i=Math.min(a,Math.max(0,i)))&&n===r&&0===n&&!e.children[t].firstChild){const n=e.children[t].getClientRects();return this._createHorizontalRangesFromClientRects(n,o)}t!==i&&i>0&&0===r&&(i--,r=1073741824);let l=e.children[t].firstChild,c=e.children[i].firstChild;if(l&&c||(!l&&0===n&&t>0&&(l=e.children[t-1].firstChild,n=1073741824),!c&&0===r&&i>0&&(c=e.children[i-1].firstChild,r=1073741824)),!l||!c)return null;n=Math.min(l.textContent.length,Math.max(0,n)),r=Math.min(c.textContent.length,Math.max(0,r));const u=this._readClientRects(l,n,c,r,s);return this._createHorizontalRangesFromClientRects(u,o)}}const SQ=!!UR||!(HR||Wz||$z);let DQ=!0;class EQ{constructor(e,t){this._domNode=e,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=t}get clientRectDeltaLeft(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft}}class LQ{constructor(e,t){this.themeType=t;const n=e.options,i=n.get(43);this.renderWhitespace=n.get(87),this.renderControlCharacters=n.get(82),this.spaceWidth=i.spaceWidth,this.middotWidth=i.middotWidth,this.wsmiddotWidth=i.wsmiddotWidth,this.useMonospaceOptimizations=i.isMonospace&&!n.get(29),this.canUseHalfwidthRightwardsArrow=i.canUseHalfwidthRightwardsArrow,this.lineHeight=n.get(58),this.stopRenderingLineAfter=n.get(104),this.fontLigatures=n.get(44)}equals(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures}}class TQ{constructor(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(e){if(!this._renderedViewLine)throw new Error("I have no rendered view line to set the dom node to...");this._renderedViewLine.domNode=QJ(e)}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(e){this._isMaybeInvalid=!0,this._options=e}onSelectionChanged(){return(this._options.themeType===nJ.HIGH_CONTRAST||"selection"===this._options.renderWhitespace)&&(this._isMaybeInvalid=!0,!0)}renderLine(e,t,n,i){if(!1===this._isMaybeInvalid)return!1;this._isMaybeInvalid=!1;const r=n.getViewLineRenderingData(e),o=this._options,s=ZY.filter(r.inlineDecorations,e,r.minColumn,r.maxColumn);let a=null;if(o.themeType===nJ.HIGH_CONTRAST||"selection"===this._options.renderWhitespace){const t=n.selections;for(const n of t){if(n.endLineNumber<e||n.startLineNumber>e)continue;const t=n.startLineNumber===e?n.startColumn:r.minColumn,i=n.endLineNumber===e?n.endColumn:r.maxColumn;t<i&&(o.themeType===nJ.HIGH_CONTRAST||"selection"!==this._options.renderWhitespace?s.push(new ZY(t,i,"inline-selected-text",0)):(a||(a=[]),a.push(new tG(t-1,i-1))))}}const l=new nG(o.useMonospaceOptimizations,o.canUseHalfwidthRightwardsArrow,r.content,r.continuesWithWrappedLine,r.isBasicASCII,r.containsRTL,r.minColumn-1,r.tokens,s,r.tabSize,r.startVisibleColumn,o.spaceWidth,o.middotWidth,o.wsmiddotWidth,o.stopRenderingLineAfter,o.renderWhitespace,o.renderControlCharacters,o.fontLigatures!==wP.OFF,a);if(this._renderedViewLine&&this._renderedViewLine.input.equals(l))return!1;i.appendASCIIString('<div style="top:'),i.appendASCIIString(String(t)),i.appendASCIIString("px;height:"),i.appendASCIIString(String(this._options.lineHeight)),i.appendASCIIString('px;" class="'),i.appendASCIIString(TQ.CLASS_NAME),i.appendASCIIString('">');const c=sG(l,i);i.appendASCIIString("</div>");let u=null;return DQ&&SQ&&r.isBasicASCII&&o.useMonospaceOptimizations&&0===c.containsForeignElements&&r.content.length<300&&l.lineTokens.getCount()<100&&(u=new NQ(this._renderedViewLine?this._renderedViewLine.domNode:null,l,c.characterMapping)),u||(u=IQ(this._renderedViewLine?this._renderedViewLine.domNode:null,l,c.characterMapping,c.containsRTL,c.containsForeignElements)),this._renderedViewLine=u,!0}layoutLine(e,t){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(t),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return!this._renderedViewLine||this._renderedViewLine.getWidthIsFast()}needsMonospaceFontCheck(){return!!this._renderedViewLine&&this._renderedViewLine instanceof NQ}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof NQ?this._renderedViewLine.monospaceAssumptionsAreValid():DQ}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof NQ&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(e,t,n,i){if(!this._renderedViewLine)return null;t|=0,n|=0,t=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,t)),n=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,n));const r=0|this._renderedViewLine.input.stopRenderingLineAfter;let o=!1;-1!==r&&t>r+1&&n>r+1&&(o=!0),-1!==r&&t>r+1&&(t=r+1),-1!==r&&n>r+1&&(n=r+1);const s=this._renderedViewLine.getVisibleRangesForRange(e,t,n,i);return s&&s.length>0?new xQ(o,s):null}getColumnOfNodeOffset(e,t,n){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,t,n):1}}TQ.CLASS_NAME="view-line";class NQ{constructor(e,t,n){this.domNode=e,this.input=t,this._characterMapping=n,this._charWidth=t.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return DQ;const e=this.getWidth(),t=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(e-t)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),DQ=!1),DQ}toSlowRenderedLine(){return IQ(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(e,t,n,i){const r=this._getCharPosition(t),o=this._getCharPosition(n);return[new wQ(r,o-r)]}_getCharPosition(e){const t=this._characterMapping.getAbsoluteOffset(e);return this._charWidth*t}getColumnOfNodeOffset(e,t,n){const i=t.textContent.length;let r=-1;for(;t;)t=t.previousSibling,r++;return this._characterMapping.getColumn(new iG(r,n),i)}}class MQ{constructor(e,t,n,i,r){if(this.domNode=e,this.input=t,this._characterMapping=n,this._isWhitespaceOnly=/^\s*$/.test(t.lineContent),this._containsForeignElements=r,this._cachedWidth=-1,this._pixelOffsetCache=null,!i||0===this._characterMapping.length){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let e=0,t=this._characterMapping.length;e<=t;e++)this._pixelOffsetCache[e]=-1}}_getReadingTarget(e){return e.domNode.firstChild}getWidth(){return this.domNode?(-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return-1!==this._cachedWidth}getVisibleRangesForRange(e,t,n,i){if(!this.domNode)return null;if(null!==this._pixelOffsetCache){const r=this._readPixelOffset(this.domNode,e,t,i);if(-1===r)return null;const o=this._readPixelOffset(this.domNode,e,n,i);return-1===o?null:[new wQ(r,o-r)]}return this._readVisibleRangesForRange(this.domNode,e,t,n,i)}_readVisibleRangesForRange(e,t,n,i,r){if(n===i){const i=this._readPixelOffset(e,t,n,r);return-1===i?null:[new wQ(i,0)]}return this._readRawVisibleRangesForRange(e,n,i,r)}_readPixelOffset(e,t,n,i){if(0===this._characterMapping.length){if(0===this._containsForeignElements)return 0;if(2===this._containsForeignElements)return 0;if(1===this._containsForeignElements)return this.getWidth();const t=this._getReadingTarget(e);return t.firstChild?t.firstChild.offsetWidth:0}if(null!==this._pixelOffsetCache){const r=this._pixelOffsetCache[n];if(-1!==r)return r;const o=this._actualReadPixelOffset(e,t,n,i);return this._pixelOffsetCache[n]=o,o}return this._actualReadPixelOffset(e,t,n,i)}_actualReadPixelOffset(e,t,n,i){if(0===this._characterMapping.length){const t=kQ.readHorizontalRanges(this._getReadingTarget(e),0,0,0,0,i.clientRectDeltaLeft,i.endNode);return t&&0!==t.length?t[0].left:-1}if(n===this._characterMapping.length&&this._isWhitespaceOnly&&0===this._containsForeignElements)return this.getWidth();const r=this._characterMapping.getDomPosition(n),o=kQ.readHorizontalRanges(this._getReadingTarget(e),r.partIndex,r.charIndex,r.partIndex,r.charIndex,i.clientRectDeltaLeft,i.endNode);if(!o||0===o.length)return-1;const s=o[0].left;if(this.input.isBasicASCII){const e=this._characterMapping.getAbsoluteOffset(n),t=Math.round(this.input.spaceWidth*e);if(Math.abs(t-s)<=1)return t}return s}_readRawVisibleRangesForRange(e,t,n,i){if(1===t&&n===this._characterMapping.length)return[new wQ(0,this.getWidth())];const r=this._characterMapping.getDomPosition(t),o=this._characterMapping.getDomPosition(n);return kQ.readHorizontalRanges(this._getReadingTarget(e),r.partIndex,r.charIndex,o.partIndex,o.charIndex,i.clientRectDeltaLeft,i.endNode)}getColumnOfNodeOffset(e,t,n){const i=t.textContent.length;let r=-1;for(;t;)t=t.previousSibling,r++;return this._characterMapping.getColumn(new iG(r,n),i)}}class AQ extends MQ{_readVisibleRangesForRange(e,t,n,i,r){const o=super._readVisibleRangesForRange(e,t,n,i,r);if(!o||0===o.length||n===i||1===n&&i===this._characterMapping.length)return o;if(!this.input.containsRTL){const n=this._readPixelOffset(e,t,i,r);if(-1!==n){const e=o[o.length-1];e.left<n&&(e.width=n-e.left)}}return o}}const IQ=Hz?OQ:FQ;function OQ(e,t,n,i,r){return new AQ(e,t,n,i,r)}function FQ(e,t,n,i,r){return new MQ(e,t,n,i,r)}function RQ(e){return e.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class PQ{constructor(e,t,n,i){this.oldPosition=e,this.oldText=t,this.newPosition=n,this.newText=i}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return 0===this.oldText.length?`(insert@${this.oldPosition} "${RQ(this.newText)}")`:0===this.newText.length?`(delete@${this.oldPosition} "${RQ(this.oldText)}")`:`(replace@${this.oldPosition} "${RQ(this.oldText)}" with "${RQ(this.newText)}")`}static _writeStringSize(e){return 4+2*e.length}static _writeString(e,t,n){const i=t.length;PH(e,i,n),n+=4;for(let r=0;r<i;r++)FH(e,t.charCodeAt(r),n),n+=2;return n}static _readString(e,t){const n=RH(e,t);return Vq(e,t+=4,n)}writeSize(){return 8+PQ._writeStringSize(this.oldText)+PQ._writeStringSize(this.newText)}write(e,t){return PH(e,this.oldPosition,t),t+=4,PH(e,this.newPosition,t),t+=4,t=PQ._writeString(e,this.oldText,t),t=PQ._writeString(e,this.newText,t)}static read(e,t,n){const i=RH(e,t),r=RH(e,t+=4);t+=4;const o=PQ._readString(e,t);t+=PQ._writeStringSize(o);const s=PQ._readString(e,t);return t+=PQ._writeStringSize(s),n.push(new PQ(i,o,r,s)),t}}class BQ{constructor(e,t){this._prevEdits=e,this._currEdits=t,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let e=0,t=0,n=this._getPrev(e),i=this._getCurr(t);for(;e<this._prevLen||t<this._currLen;){if(null===n){this._acceptCurr(i),i=this._getCurr(++t);continue}if(null===i){this._acceptPrev(n),n=this._getPrev(++e);continue}if(i.oldEnd<=n.newPosition){this._acceptCurr(i),i=this._getCurr(++t);continue}if(n.newEnd<=i.oldPosition){this._acceptPrev(n),n=this._getPrev(++e);continue}if(i.oldPosition<n.newPosition){const[e,t]=BQ._splitCurr(i,n.newPosition-i.oldPosition);this._acceptCurr(e),i=t;continue}if(n.newPosition<i.oldPosition){const[e,t]=BQ._splitPrev(n,i.oldPosition-n.newPosition);this._acceptPrev(e),n=t;continue}let r,o;if(i.oldEnd===n.newEnd)r=n,o=i,n=this._getPrev(++e),i=this._getCurr(++t);else if(i.oldEnd<n.newEnd){const[e,s]=BQ._splitPrev(n,i.oldLength);r=e,o=i,n=s,i=this._getCurr(++t)}else{const[t,s]=BQ._splitCurr(i,n.newLength);r=n,o=t,n=this._getPrev(++e),i=s}this._result[this._resultLen++]=new PQ(r.oldPosition,r.oldText,o.newPosition,o.newText),this._prevDeltaOffset+=r.newLength-r.oldLength,this._currDeltaOffset+=o.newLength-o.oldLength}const r=BQ._merge(this._result);return BQ._removeNoOps(r)}_acceptCurr(e){this._result[this._resultLen++]=BQ._rebaseCurr(this._prevDeltaOffset,e),this._currDeltaOffset+=e.newLength-e.oldLength}_getCurr(e){return e<this._currLen?this._currEdits[e]:null}_acceptPrev(e){this._result[this._resultLen++]=BQ._rebasePrev(this._currDeltaOffset,e),this._prevDeltaOffset+=e.newLength-e.oldLength}_getPrev(e){return e<this._prevLen?this._prevEdits[e]:null}static _rebaseCurr(e,t){return new PQ(t.oldPosition-e,t.oldText,t.newPosition,t.newText)}static _rebasePrev(e,t){return new PQ(t.oldPosition,t.oldText,t.newPosition+e,t.newText)}static _splitPrev(e,t){const n=e.newText.substr(0,t),i=e.newText.substr(t);return[new PQ(e.oldPosition,e.oldText,e.newPosition,n),new PQ(e.oldEnd,"",e.newPosition+t,i)]}static _splitCurr(e,t){const n=e.oldText.substr(0,t),i=e.oldText.substr(t);return[new PQ(e.oldPosition,n,e.newPosition,e.newText),new PQ(e.oldPosition+t,i,e.newEnd,"")]}static _merge(e){if(0===e.length)return e;let t=[],n=0,i=e[0];for(let r=1;r<e.length;r++){const o=e[r];i.oldEnd===o.oldPosition?i=new PQ(i.oldPosition,i.oldText+o.oldText,i.newPosition,i.newText+o.newText):(t[n++]=i,i=o)}return t[n++]=i,t}static _removeNoOps(e){if(0===e.length)return e;let t=[],n=0;for(let i=0;i<e.length;i++){const r=e[i];r.oldText!==r.newText&&(t[n++]=r)}return t}}function jQ(e){return e.toString()}class zQ{constructor(e,t,n,i,r,o,s){this.beforeVersionId=e,this.afterVersionId=t,this.beforeEOL=n,this.afterEOL=i,this.beforeCursorState=r,this.afterCursorState=o,this.changes=s}static create(e,t){const n=e.getAlternativeVersionId(),i=WQ(e);return new zQ(n,n,i,i,t,t,[])}append(e,t,n,i,r){var o,s;t.length>0&&(this.changes=(o=this.changes,s=t,null===o||0===o.length?s:new BQ(o,s).compress())),this.afterEOL=n,this.afterVersionId=i,this.afterCursorState=r}static _writeSelectionsSize(e){return 4+16*(e?e.length:0)}static _writeSelections(e,t,n){if(PH(e,t?t.length:0,n),n+=4,t)for(const i of t)PH(e,i.selectionStartLineNumber,n),n+=4,PH(e,i.selectionStartColumn,n),n+=4,PH(e,i.positionLineNumber,n),n+=4,PH(e,i.positionColumn,n),n+=4;return n}static _readSelections(e,t,n){const i=RH(e,t);t+=4;for(let r=0;r<i;r++){const i=RH(e,t),r=RH(e,t+=4),o=RH(e,t+=4),s=RH(e,t+=4);t+=4,n.push(new uj(i,r,o,s))}return t}serialize(){let e=10+zQ._writeSelectionsSize(this.beforeCursorState)+zQ._writeSelectionsSize(this.afterCursorState)+4;for(const i of this.changes)e+=i.writeSize();const t=new Uint8Array(e);let n=0;PH(t,this.beforeVersionId,n),n+=4,PH(t,this.afterVersionId,n),n+=4,jH(t,this.beforeEOL,n),n+=1,jH(t,this.afterEOL,n),n+=1,n=zQ._writeSelections(t,this.beforeCursorState,n),n=zQ._writeSelections(t,this.afterCursorState,n),PH(t,this.changes.length,n),n+=4;for(const i of this.changes)n=i.write(t,n);return t.buffer}static deserialize(e){const t=new Uint8Array(e);let n=0;const i=RH(t,n);n+=4;const r=RH(t,n);n+=4;const o=BH(t,n);n+=1;const s=BH(t,n);n+=1;const a=[];n=zQ._readSelections(t,n,a);const l=[];n=zQ._readSelections(t,n,l);const c=RH(t,n);n+=4;const u=[];for(let h=0;h<c;h++)n=PQ.read(t,n,u);return new zQ(i,r,o,s,a,l,u)}}class VQ{constructor(e,t){this.model=e,this._data=zQ.create(e,t)}get type(){return 0}get resource(){return ZB.isUri(this.model)?this.model:this.model.uri}get label(){return DR(0,"Typing")}toString(){return(this._data instanceof zQ?this._data:zQ.deserialize(this._data)).changes.map((e=>e.toString())).join(", ")}matchesResource(e){return(ZB.isUri(this.model)?this.model:this.model.uri).toString()===e.toString()}setModel(e){this.model=e}canAppend(e){return this.model===e&&this._data instanceof zQ}append(e,t,n,i,r){this._data instanceof zQ&&this._data.append(e,t,n,i,r)}close(){this._data instanceof zQ&&(this._data=this._data.serialize())}open(){this._data instanceof zQ||(this._data=zQ.deserialize(this._data))}undo(){if(ZB.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof zQ&&(this._data=this._data.serialize());const e=zQ.deserialize(this._data);this.model._applyUndo(e.changes,e.beforeEOL,e.beforeVersionId,e.beforeCursorState)}redo(){if(ZB.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof zQ&&(this._data=this._data.serialize());const e=zQ.deserialize(this._data);this.model._applyRedo(e.changes,e.afterEOL,e.afterVersionId,e.afterCursorState)}heapSize(){return this._data instanceof zQ&&(this._data=this._data.serialize()),this._data.byteLength+168}}function WQ(e){return"\n"===e.getEOL()?0:1}function HQ(e){return!!e&&(e instanceof VQ||e instanceof class{constructor(e,t){this.type=1,this.label=e,this._isOpen=!0,this._editStackElementsArr=t.slice(0),this._editStackElementsMap=new Map;for(const n of this._editStackElementsArr){const e=jQ(n.resource);this._editStackElementsMap.set(e,n)}this._delegate=null}get resources(){return this._editStackElementsArr.map((e=>e.resource))}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(e){const t=jQ(e);return this._editStackElementsMap.has(t)}setModel(e){const t=jQ(ZB.isUri(e)?e:e.uri);this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).setModel(e)}canAppend(e){if(!this._isOpen)return!1;const t=jQ(e.uri);return!!this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).canAppend(e)}append(e,t,n,i,r){const o=jQ(e.uri);this._editStackElementsMap.get(o).append(e,t,n,i,r)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const e of this._editStackElementsArr)e.undo()}redo(){for(const e of this._editStackElementsArr)e.redo()}heapSize(e){const t=jQ(e);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).heapSize():0}split(){return this._editStackElementsArr}toString(){let e=[];for(const t of this._editStackElementsArr)e.push(`${$H(t.resource)}: ${t}`);return`{${e.join(", ")}}`}})}class UQ{constructor(e,t){this._model=e,this._undoRedoService=t}pushStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);HQ(e)&&e.close()}popStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);HQ(e)&&e.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(e){const t=this._undoRedoService.getLastElement(this._model.uri);if(HQ(t)&&t.canAppend(this._model))return t;const n=new VQ(this._model,e);return this._undoRedoService.pushElement(n),n}pushEOL(e){const t=this._getOrCreateEditStackElement(null);this._model.setEOL(e),t.append(this._model,[],WQ(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(e,t,n){const i=this._getOrCreateEditStackElement(e),r=this._model.applyEdits(t,!0),o=UQ._computeCursorState(n,r),s=r.map(((e,t)=>({index:t,textChange:e.textChange})));return s.sort(((e,t)=>e.textChange.oldPosition===t.textChange.oldPosition?e.index-t.index:e.textChange.oldPosition-t.textChange.oldPosition)),i.append(this._model,s.map((e=>e.textChange)),WQ(this._model),this._model.getAlternativeVersionId(),o),o}static _computeCursorState(e,t){try{return e?e(t):null}catch(nR){return IP(nR),null}}}class $Q{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function qQ(e,t,n,i,r){let o;for(r.spacesDiff=0,r.looksLikeAlignment=!1,o=0;o<t&&o<i;o++){if(e.charCodeAt(o)!==n.charCodeAt(o))break}let s=0,a=0;for(let d=o;d<t;d++){32===e.charCodeAt(d)?s++:a++}let l=0,c=0;for(let d=o;d<i;d++){32===n.charCodeAt(d)?l++:c++}if(s>0&&a>0)return;if(l>0&&c>0)return;let u=Math.abs(a-c),h=Math.abs(s-l);if(0===u)return r.spacesDiff=h,void(h>0&&0<=l-1&&l-1<e.length&&l<n.length&&32!==n.charCodeAt(l)&&32===e.charCodeAt(l-1)&&44===e.charCodeAt(e.length-1)&&(r.looksLikeAlignment=!0));h%u!=0||(r.spacesDiff=h/u)}function KQ(e,t,n){const i=Math.min(e.getLineCount(),1e4);let r=0,o=0,s="",a=0;const l=[2,4,6,8,3,5,7];let c=[0,0,0,0,0,0,0,0,0],u=new $Q;for(let f=1;f<=i;f++){let i=e.getLineLength(f),l=e.getLineContent(f);const h=i<=65536;let d=!1,p=0,g=0,m=0;for(let t=0,n=i;t<n;t++){let n=h?l.charCodeAt(t):e.getLineCharCode(f,t);if(9===n)m++;else{if(32!==n){d=!0,p=t;break}g++}}if(!d)continue;if(m>0?r++:g>1&&o++,qQ(s,a,l,p,u),u.looksLikeAlignment&&(!n||t!==u.spacesDiff))continue;let v=u.spacesDiff;v<=8&&c[v]++,s=l,a=p}let h=n;r!==o&&(h=r<o);let d=t;if(h){let e=h?0:.1*i;l.forEach((t=>{let n=c[t];n>e&&(e=n,d=t)})),4===d&&c[4]>0&&c[2]>0&&c[2]>=c[4]/2&&(d=2)}return{insertSpaces:h,tabSize:d}}function YQ(e){return(1&e.metadata)>>>0}function GQ(e,t){e.metadata=254&e.metadata|t<<0}function XQ(e){return(2&e.metadata)>>>1==1}function ZQ(e,t){e.metadata=253&e.metadata|(t?1:0)<<1}function JQ(e){return(4&e.metadata)>>>2==1}function QQ(e,t){e.metadata=251&e.metadata|(t?1:0)<<2}function e0(e,t){e.metadata=231&e.metadata|t<<3}function t0(e,t){e.metadata=223&e.metadata|(t?1:0)<<5}class n0{constructor(e,t,n){this.metadata=0,this.parent=this,this.left=this,this.right=this,GQ(this,1),this.start=t,this.end=n,this.delta=0,this.maxEnd=n,this.id=e,this.ownerId=0,this.options=null,QQ(this,!1),e0(this,1),t0(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=n,this.range=null,ZQ(this,!1)}reset(e,t,n,i){this.start=t,this.end=n,this.maxEnd=n,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=n,this.range=i}setOptions(e){this.options=e;let t=this.options.className;QQ(this,"squiggly-error"===t||"squiggly-warning"===t||"squiggly-info"===t),e0(this,this.options.stickiness),t0(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(e,t,n){this.cachedVersionId!==n&&(this.range=null),this.cachedVersionId=n,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t}detach(){this.parent=null,this.left=null,this.right=null}}const i0=new n0(null,0,0);i0.parent=i0,i0.left=i0,i0.right=i0,GQ(i0,0);class r0{constructor(){this.root=i0,this.requestNormalizeDelta=!1}intervalSearch(e,t,n,i,r){return this.root===i0?[]:function(e,t,n,i,r,o){let s=e.root,a=0,l=0,c=0,u=0,h=[],d=0;for(;s!==i0;)if(XQ(s))ZQ(s.left,!1),ZQ(s.right,!1),s===s.parent.right&&(a-=s.parent.delta),s=s.parent;else{if(!XQ(s.left)){if(l=a+s.maxEnd,l<t){ZQ(s,!0);continue}if(s.left!==i0){s=s.left;continue}}if(c=a+s.start,c>n)ZQ(s,!0);else{if(u=a+s.end,u>=t){s.setCachedOffsets(c,u,o);let e=!0;i&&s.ownerId&&s.ownerId!==i&&(e=!1),r&&JQ(s)&&(e=!1),e&&(h[d++]=s)}ZQ(s,!0),s.right===i0||XQ(s.right)||(a+=s.delta,s=s.right)}}return ZQ(e.root,!1),h}(this,e,t,n,i,r)}search(e,t,n){return this.root===i0?[]:function(e,t,n,i){let r=e.root,o=0,s=0,a=0,l=[],c=0;for(;r!==i0;){if(XQ(r)){ZQ(r.left,!1),ZQ(r.right,!1),r===r.parent.right&&(o-=r.parent.delta),r=r.parent;continue}if(r.left!==i0&&!XQ(r.left)){r=r.left;continue}s=o+r.start,a=o+r.end,r.setCachedOffsets(s,a,i);let e=!0;t&&r.ownerId&&r.ownerId!==t&&(e=!1),n&&JQ(r)&&(e=!1),e&&(l[c++]=r),ZQ(r,!0),r.right===i0||XQ(r.right)||(o+=r.delta,r=r.right)}return ZQ(e.root,!1),l}(this,e,t,n)}collectNodesFromOwner(e){return function(e,t){let n=e.root,i=[],r=0;for(;n!==i0;)XQ(n)?(ZQ(n.left,!1),ZQ(n.right,!1),n=n.parent):n.left===i0||XQ(n.left)?(n.ownerId===t&&(i[r++]=n),ZQ(n,!0),n.right===i0||XQ(n.right)||(n=n.right)):n=n.left;return ZQ(e.root,!1),i}(this,e)}collectNodesPostOrder(){return function(e){let t=e.root,n=[],i=0;for(;t!==i0;)XQ(t)?(ZQ(t.left,!1),ZQ(t.right,!1),t=t.parent):t.left===i0||XQ(t.left)?t.right===i0||XQ(t.right)?(n[i++]=t,ZQ(t,!0)):t=t.right:t=t.left;return ZQ(e.root,!1),n}(this)}insert(e){a0(this,e),this._normalizeDeltaIfNecessary()}delete(e){l0(this,e),this._normalizeDeltaIfNecessary()}resolveNode(e,t){const n=e;let i=0;for(;e!==this.root;)e===e.parent.right&&(i+=e.parent.delta),e=e.parent;const r=n.start+i,o=n.end+i;n.setCachedOffsets(r,o,t)}acceptReplace(e,t,n,i){const r=function(e,t,n){let i=e.root,r=0,o=0,s=0,a=0,l=[],c=0;for(;i!==i0;)if(XQ(i))ZQ(i.left,!1),ZQ(i.right,!1),i===i.parent.right&&(r-=i.parent.delta),i=i.parent;else{if(!XQ(i.left)){if(o=r+i.maxEnd,o<t){ZQ(i,!0);continue}if(i.left!==i0){i=i.left;continue}}s=r+i.start,s>n?ZQ(i,!0):(a=r+i.end,a>=t&&(i.setCachedOffsets(s,a,0),l[c++]=i),ZQ(i,!0),i.right===i0||XQ(i.right)||(r+=i.delta,i=i.right))}return ZQ(e.root,!1),l}(this,e,e+t);for(let o=0,s=r.length;o<s;o++){l0(this,r[o])}this._normalizeDeltaIfNecessary(),function(e,t,n,i){let r=e.root,o=0,s=0,a=0;const l=i-(n-t);for(;r!==i0;)if(XQ(r))ZQ(r.left,!1),ZQ(r.right,!1),r===r.parent.right&&(o-=r.parent.delta),f0(r),r=r.parent;else{if(!XQ(r.left)){if(s=o+r.maxEnd,s<t){ZQ(r,!0);continue}if(r.left!==i0){r=r.left;continue}}a=o+r.start,a>n?(r.start+=l,r.end+=l,r.delta+=l,(r.delta<-1073741824||r.delta>1073741824)&&(e.requestNormalizeDelta=!0),ZQ(r,!0)):(ZQ(r,!0),r.right===i0||XQ(r.right)||(o+=r.delta,r=r.right))}ZQ(e.root,!1)}(this,e,e+t,n),this._normalizeDeltaIfNecessary();for(let o=0,s=r.length;o<s;o++){const s=r[o];s.start=s.cachedAbsoluteStart,s.end=s.cachedAbsoluteEnd,s0(s,e,e+t,n,i),s.maxEnd=s.end,a0(this,s)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,function(e){let t=e.root,n=0;for(;t!==i0;)t.left===i0||XQ(t.left)?t.right===i0||XQ(t.right)?(t.start=n+t.start,t.end=n+t.end,t.delta=0,f0(t),ZQ(t,!0),ZQ(t.left,!1),ZQ(t.right,!1),t===t.parent.right&&(n-=t.parent.delta),t=t.parent):(n+=t.delta,t=t.right):t=t.left;ZQ(e.root,!1)}(this))}}function o0(e,t,n,i){return e<n||!(e>n)&&(1!==i&&(2===i||t))}function s0(e,t,n,i,r){const o=function(e){return(24&e.metadata)>>>3}(e),s=0===o||2===o,a=1===o||2===o,l=n-t,c=i,u=Math.min(l,c),h=e.start;let d=!1;const f=e.end;let p=!1;t<=h&&f<=n&&function(e){return(32&e.metadata)>>>5==1}(e)&&(e.start=t,d=!0,e.end=t,p=!0);{const e=r?1:l>0?2:0;!d&&o0(h,s,t,e)&&(d=!0),!p&&o0(f,a,t,e)&&(p=!0)}if(u>0&&!r){const e=l>c?2:0;!d&&o0(h,s,t+u,e)&&(d=!0),!p&&o0(f,a,t+u,e)&&(p=!0)}{const i=r?1:0;!d&&o0(h,s,n,i)&&(e.start=t+c,d=!0),!p&&o0(f,a,n,i)&&(e.end=t+c,p=!0)}const g=c-l;d||(e.start=Math.max(0,h+g)),p||(e.end=Math.max(0,f+g)),e.start>e.end&&(e.end=e.start)}function a0(e,t){if(e.root===i0)return t.parent=i0,t.left=i0,t.right=i0,GQ(t,0),e.root=t,e.root;!function(e,t){let n=0,i=e.root;const r=t.start,o=t.end;for(;;){if(g0(r,o,i.start+n,i.end+n)<0){if(i.left===i0){t.start-=n,t.end-=n,t.maxEnd-=n,i.left=t;break}i=i.left}else{if(i.right===i0){t.start-=n+i.delta,t.end-=n+i.delta,t.maxEnd-=n+i.delta,i.right=t;break}n+=i.delta,i=i.right}}t.parent=i,t.left=i0,t.right=i0,GQ(t,1)}(e,t),p0(t.parent);let n=t;for(;n!==e.root&&1===YQ(n.parent);)if(n.parent===n.parent.parent.left){const t=n.parent.parent.right;1===YQ(t)?(GQ(n.parent,0),GQ(t,0),GQ(n.parent.parent,1),n=n.parent.parent):(n===n.parent.right&&(n=n.parent,u0(e,n)),GQ(n.parent,0),GQ(n.parent.parent,1),h0(e,n.parent.parent))}else{const t=n.parent.parent.left;1===YQ(t)?(GQ(n.parent,0),GQ(t,0),GQ(n.parent.parent,1),n=n.parent.parent):(n===n.parent.left&&(n=n.parent,h0(e,n)),GQ(n.parent,0),GQ(n.parent.parent,1),u0(e,n.parent.parent))}return GQ(e.root,0),t}function l0(e,t){let n,i;if(t.left===i0?(n=t.right,i=t,n.delta+=t.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0),n.start+=t.delta,n.end+=t.delta):t.right===i0?(n=t.left,i=t):(i=function(e){for(;e.left!==i0;)e=e.left;return e}(t.right),n=i.right,n.start+=i.delta,n.end+=i.delta,n.delta+=i.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0),i.start+=t.delta,i.end+=t.delta,i.delta=t.delta,(i.delta<-1073741824||i.delta>1073741824)&&(e.requestNormalizeDelta=!0)),i===e.root)return e.root=n,GQ(n,0),t.detach(),c0(),f0(n),void(e.root.parent=i0);let r,o=1===YQ(i);if(i===i.parent.left?i.parent.left=n:i.parent.right=n,i===t?n.parent=i.parent:(i.parent===t?n.parent=i:n.parent=i.parent,i.left=t.left,i.right=t.right,i.parent=t.parent,GQ(i,YQ(t)),t===e.root?e.root=i:t===t.parent.left?t.parent.left=i:t.parent.right=i,i.left!==i0&&(i.left.parent=i),i.right!==i0&&(i.right.parent=i)),t.detach(),o)return p0(n.parent),i!==t&&(p0(i),p0(i.parent)),void c0();for(p0(n),p0(n.parent),i!==t&&(p0(i),p0(i.parent));n!==e.root&&0===YQ(n);)n===n.parent.left?(r=n.parent.right,1===YQ(r)&&(GQ(r,0),GQ(n.parent,1),u0(e,n.parent),r=n.parent.right),0===YQ(r.left)&&0===YQ(r.right)?(GQ(r,1),n=n.parent):(0===YQ(r.right)&&(GQ(r.left,0),GQ(r,1),h0(e,r),r=n.parent.right),GQ(r,YQ(n.parent)),GQ(n.parent,0),GQ(r.right,0),u0(e,n.parent),n=e.root)):(r=n.parent.left,1===YQ(r)&&(GQ(r,0),GQ(n.parent,1),h0(e,n.parent),r=n.parent.left),0===YQ(r.left)&&0===YQ(r.right)?(GQ(r,1),n=n.parent):(0===YQ(r.left)&&(GQ(r.right,0),GQ(r,1),u0(e,r),r=n.parent.left),GQ(r,YQ(n.parent)),GQ(n.parent,0),GQ(r.left,0),h0(e,n.parent),n=e.root));GQ(n,0),c0()}function c0(){i0.parent=i0,i0.delta=0,i0.start=0,i0.end=0}function u0(e,t){const n=t.right;n.delta+=t.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0),n.start+=t.delta,n.end+=t.delta,t.right=n.left,n.left!==i0&&(n.left.parent=t),n.parent=t.parent,t.parent===i0?e.root=n:t===t.parent.left?t.parent.left=n:t.parent.right=n,n.left=t,t.parent=n,f0(t),f0(n)}function h0(e,t){const n=t.left;t.delta-=n.delta,(t.delta<-1073741824||t.delta>1073741824)&&(e.requestNormalizeDelta=!0),t.start-=n.delta,t.end-=n.delta,t.left=n.right,n.right!==i0&&(n.right.parent=t),n.parent=t.parent,t.parent===i0?e.root=n:t===t.parent.right?t.parent.right=n:t.parent.left=n,n.right=t,t.parent=n,f0(t),f0(n)}function d0(e){let t=e.end;if(e.left!==i0){const n=e.left.maxEnd;n>t&&(t=n)}if(e.right!==i0){const n=e.right.maxEnd+e.delta;n>t&&(t=n)}return t}function f0(e){e.maxEnd=d0(e)}function p0(e){for(;e!==i0;){const t=d0(e);if(e.maxEnd===t)return;e.maxEnd=t,e=e.parent}}function g0(e,t,n,i){return e===n?t-i:e-n}class m0{constructor(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==v0)return y0(this.right);let e=this;for(;e.parent!==v0&&e.parent.left!==e;)e=e.parent;return e.parent===v0?v0:e.parent}prev(){if(this.left!==v0)return b0(this.left);let e=this;for(;e.parent!==v0&&e.parent.right!==e;)e=e.parent;return e.parent===v0?v0:e.parent}detach(){this.parent=null,this.left=null,this.right=null}}const v0=new m0(null,0);function y0(e){for(;e.left!==v0;)e=e.left;return e}function b0(e){for(;e.right!==v0;)e=e.right;return e}function _0(e){return e===v0?0:e.size_left+e.piece.length+_0(e.right)}function w0(e){return e===v0?0:e.lf_left+e.piece.lineFeedCnt+w0(e.right)}function C0(){v0.parent=v0}function x0(e,t){let n=t.right;n.size_left+=t.size_left+(t.piece?t.piece.length:0),n.lf_left+=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),t.right=n.left,n.left!==v0&&(n.left.parent=t),n.parent=t.parent,t.parent===v0?e.root=n:t.parent.left===t?t.parent.left=n:t.parent.right=n,n.left=t,t.parent=n}function k0(e,t){let n=t.left;t.left=n.right,n.right!==v0&&(n.right.parent=t),n.parent=t.parent,t.size_left-=n.size_left+(n.piece?n.piece.length:0),t.lf_left-=n.lf_left+(n.piece?n.piece.lineFeedCnt:0),t.parent===v0?e.root=n:t===t.parent.right?t.parent.right=n:t.parent.left=n,n.right=t,t.parent=n}function S0(e,t){let n,i;if(t.left===v0?(i=t,n=i.right):t.right===v0?(i=t,n=i.left):(i=y0(t.right),n=i.right),i===e.root)return e.root=n,n.color=0,t.detach(),C0(),void(e.root.parent=v0);let r,o=1===i.color;if(i===i.parent.left?i.parent.left=n:i.parent.right=n,i===t?(n.parent=i.parent,L0(e,n)):(i.parent===t?n.parent=i:n.parent=i.parent,L0(e,n),i.left=t.left,i.right=t.right,i.parent=t.parent,i.color=t.color,t===e.root?e.root=i:t===t.parent.left?t.parent.left=i:t.parent.right=i,i.left!==v0&&(i.left.parent=i),i.right!==v0&&(i.right.parent=i),i.size_left=t.size_left,i.lf_left=t.lf_left,L0(e,i)),t.detach(),n.parent.left===n){let t=_0(n),i=w0(n);if(t!==n.parent.size_left||i!==n.parent.lf_left){let r=t-n.parent.size_left,o=i-n.parent.lf_left;n.parent.size_left=t,n.parent.lf_left=i,E0(e,n.parent,r,o)}}if(L0(e,n.parent),o)C0();else{for(;n!==e.root&&0===n.color;)n===n.parent.left?(r=n.parent.right,1===r.color&&(r.color=0,n.parent.color=1,x0(e,n.parent),r=n.parent.right),0===r.left.color&&0===r.right.color?(r.color=1,n=n.parent):(0===r.right.color&&(r.left.color=0,r.color=1,k0(e,r),r=n.parent.right),r.color=n.parent.color,n.parent.color=0,r.right.color=0,x0(e,n.parent),n=e.root)):(r=n.parent.left,1===r.color&&(r.color=0,n.parent.color=1,k0(e,n.parent),r=n.parent.left),0===r.left.color&&0===r.right.color?(r.color=1,n=n.parent):(0===r.left.color&&(r.right.color=0,r.color=1,x0(e,r),r=n.parent.left),r.color=n.parent.color,n.parent.color=0,r.left.color=0,k0(e,n.parent),n=e.root));n.color=0,C0()}}function D0(e,t){for(L0(e,t);t!==e.root&&1===t.parent.color;)if(t.parent===t.parent.parent.left){const n=t.parent.parent.right;1===n.color?(t.parent.color=0,n.color=0,t.parent.parent.color=1,t=t.parent.parent):(t===t.parent.right&&x0(e,t=t.parent),t.parent.color=0,t.parent.parent.color=1,k0(e,t.parent.parent))}else{const n=t.parent.parent.left;1===n.color?(t.parent.color=0,n.color=0,t.parent.parent.color=1,t=t.parent.parent):(t===t.parent.left&&k0(e,t=t.parent),t.parent.color=0,t.parent.parent.color=1,x0(e,t.parent.parent))}e.root.color=0}function E0(e,t,n,i){for(;t!==e.root&&t!==v0;)t.parent.left===t&&(t.parent.size_left+=n,t.parent.lf_left+=i),t=t.parent}function L0(e,t){let n=0,i=0;if(t!==e.root){for(;t!==e.root&&t===t.parent.right;)t=t.parent;if(t!==e.root)for(n=_0((t=t.parent).left)-t.size_left,i=w0(t.left)-t.lf_left,t.size_left+=n,t.lf_left+=i;t!==e.root&&(0!==n||0!==i);)t.parent.left===t&&(t.parent.size_left+=n,t.parent.lf_left+=i),t=t.parent}}v0.parent=v0,v0.left=v0,v0.right=v0,v0.color=0;class T0 extends sY{constructor(e){super(0);for(let t=0,n=e.length;t<n;t++)this.set(e.charCodeAt(t),2);this.set(32,1),this.set(9,1)}}const N0=function(e){let t={};return n=>(t.hasOwnProperty(n)||(t[n]=e(n)),t[n])}((e=>new T0(e)));class M0{constructor(e,t,n,i){this.searchString=e,this.isRegex=t,this.matchCase=n,this.wordSeparators=i}parseSearchRequest(){if(""===this.searchString)return null;let e;e=this.isRegex?function(e){if(!e||0===e.length)return!1;for(let t=0,n=e.length;t<n;t++){if(92===e.charCodeAt(t)){if(t++,t>=n)break;const i=e.charCodeAt(t);if(110===i||114===i||87===i)return!0}}return!1}(this.searchString):this.searchString.indexOf("\n")>=0;let t=null;try{t=IW(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:e,global:!0,unicode:!0})}catch(i){return null}if(!t)return null;let n=!this.isRegex&&!e;return n&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(n=this.matchCase),new A0(t,this.wordSeparators?N0(this.wordSeparators):null,n?this.searchString:null)}}class A0{constructor(e,t,n){this.regex=e,this.wordSeparators=t,this.simpleSearch=n}}function I0(e,t,n){if(!n)return new BU(e,null);let i=[];for(let r=0,o=t.length;r<o;r++)i[r]=t[r];return new BU(e,i)}class O0{constructor(e){let t=[],n=0;for(let i=0,r=e.length;i<r;i++)10===e.charCodeAt(i)&&(t[n++]=i);this._lineFeedsOffsets=t}findLineFeedCountBeforeOffset(e){const t=this._lineFeedsOffsets;let n=0,i=t.length-1;if(-1===i)return 0;if(e<=t[0])return 0;for(;n<i;){const r=n+((i-n)/2>>0);t[r]>=e?i=r-1:t[r+1]>=e?(n=r,i=r):n=r+1}return n+1}}class F0{static findMatches(e,t,n,i,r){const o=t.parseSearchRequest();return o?o.regex.multiline?this._doFindMatchesMultiline(e,n,new P0(o.wordSeparators,o.regex),i,r):this._doFindMatchesLineByLine(e,n,o,i,r):[]}static _getMultilineMatchRange(e,t,n,i,r,o){let s,a,l=0;if(i?(l=i.findLineFeedCountBeforeOffset(r),s=t+r+l):s=t+r,i){let e=i.findLineFeedCountBeforeOffset(r+o.length)-l;a=s+o.length+e}else a=s+o.length;const c=e.getPositionAt(s),u=e.getPositionAt(a);return new cj(c.lineNumber,c.column,u.lineNumber,u.column)}static _doFindMatchesMultiline(e,t,n,i,r){const o=e.getOffsetAt(t.getStartPosition()),s=e.getValueInRange(t,1),a="\r\n"===e.getEOL()?new O0(s):null,l=[];let c,u=0;for(n.reset(0);c=n.next(s);)if(l[u++]=I0(this._getMultilineMatchRange(e,o,s,a,c.index,c[0]),c,i),u>=r)return l;return l}static _doFindMatchesLineByLine(e,t,n,i,r){const o=[];let s=0;if(t.startLineNumber===t.endLineNumber){const a=e.getLineContent(t.startLineNumber).substring(t.startColumn-1,t.endColumn-1);return s=this._findMatchesInLine(n,a,t.startLineNumber,t.startColumn-1,s,o,i,r),o}const a=e.getLineContent(t.startLineNumber).substring(t.startColumn-1);s=this._findMatchesInLine(n,a,t.startLineNumber,t.startColumn-1,s,o,i,r);for(let l=t.startLineNumber+1;l<t.endLineNumber&&s<r;l++)s=this._findMatchesInLine(n,e.getLineContent(l),l,0,s,o,i,r);if(s<r){const a=e.getLineContent(t.endLineNumber).substring(0,t.endColumn-1);s=this._findMatchesInLine(n,a,t.endLineNumber,0,s,o,i,r)}return o}static _findMatchesInLine(e,t,n,i,r,o,s,a){const l=e.wordSeparators;if(!s&&e.simpleSearch){const s=e.simpleSearch,c=s.length,u=t.length;let h=-c;for(;-1!==(h=t.indexOf(s,h+c));)if((!l||R0(l,t,u,h,c))&&(o[r++]=new BU(new cj(n,h+1+i,n,h+1+c+i),null),r>=a))return r;return r}const c=new P0(e.wordSeparators,e.regex);let u;c.reset(0);do{if(u=c.next(t),u&&(o[r++]=I0(new cj(n,u.index+1+i,n,u.index+1+u[0].length+i),u,s),r>=a))return r}while(u);return r}static findNextMatch(e,t,n,i){const r=t.parseSearchRequest();if(!r)return null;const o=new P0(r.wordSeparators,r.regex);return r.regex.multiline?this._doFindNextMatchMultiline(e,n,o,i):this._doFindNextMatchLineByLine(e,n,o,i)}static _doFindNextMatchMultiline(e,t,n,i){const r=new lj(t.lineNumber,1),o=e.getOffsetAt(r),s=e.getLineCount(),a=e.getValueInRange(new cj(r.lineNumber,r.column,s,e.getLineMaxColumn(s)),1),l="\r\n"===e.getEOL()?new O0(a):null;n.reset(t.column-1);let c=n.next(a);return c?I0(this._getMultilineMatchRange(e,o,a,l,c.index,c[0]),c,i):1!==t.lineNumber||1!==t.column?this._doFindNextMatchMultiline(e,new lj(1,1),n,i):null}static _doFindNextMatchLineByLine(e,t,n,i){const r=e.getLineCount(),o=t.lineNumber,s=e.getLineContent(o),a=this._findFirstMatchInLine(n,s,o,t.column,i);if(a)return a;for(let l=1;l<=r;l++){const t=(o+l-1)%r,s=e.getLineContent(t+1),a=this._findFirstMatchInLine(n,s,t+1,1,i);if(a)return a}return null}static _findFirstMatchInLine(e,t,n,i,r){e.reset(i-1);const o=e.next(t);return o?I0(new cj(n,o.index+1,n,o.index+1+o[0].length),o,r):null}static findPreviousMatch(e,t,n,i){const r=t.parseSearchRequest();if(!r)return null;const o=new P0(r.wordSeparators,r.regex);return r.regex.multiline?this._doFindPreviousMatchMultiline(e,n,o,i):this._doFindPreviousMatchLineByLine(e,n,o,i)}static _doFindPreviousMatchMultiline(e,t,n,i){const r=this._doFindMatchesMultiline(e,new cj(1,1,t.lineNumber,t.column),n,i,9990);if(r.length>0)return r[r.length-1];const o=e.getLineCount();return t.lineNumber!==o||t.column!==e.getLineMaxColumn(o)?this._doFindPreviousMatchMultiline(e,new lj(o,e.getLineMaxColumn(o)),n,i):null}static _doFindPreviousMatchLineByLine(e,t,n,i){const r=e.getLineCount(),o=t.lineNumber,s=e.getLineContent(o).substring(0,t.column-1),a=this._findLastMatchInLine(n,s,o,i);if(a)return a;for(let l=1;l<=r;l++){const t=(r+o-l-1)%r,s=e.getLineContent(t+1),a=this._findLastMatchInLine(n,s,t+1,i);if(a)return a}return null}static _findLastMatchInLine(e,t,n,i){let r,o=null;for(e.reset(0);r=e.next(t);)o=I0(new cj(n,r.index+1,n,r.index+1+r[0].length),r,i);return o}}function R0(e,t,n,i,r){return function(e,t,n,i,r){if(0===i)return!0;const o=t.charCodeAt(i-1);if(0!==e.get(o))return!0;if(13===o||10===o)return!0;if(r>0){const n=t.charCodeAt(i);if(0!==e.get(n))return!0}return!1}(e,t,0,i,r)&&function(e,t,n,i,r){if(i+r===n)return!0;const o=t.charCodeAt(i+r);if(0!==e.get(o))return!0;if(13===o||10===o)return!0;if(r>0){const n=t.charCodeAt(i+r-1);if(0!==e.get(n))return!0}return!1}(e,t,n,i,r)}class P0{constructor(e,t){this._wordSeparators=e,this._searchRegex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(e){this._searchRegex.lastIndex=e,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(e){const t=e.length;let n;do{if(this._prevMatchStartIndex+this._prevMatchLength===t)return null;if(n=this._searchRegex.exec(e),!n)return null;const i=n.index,r=n[0].length;if(i===this._prevMatchStartIndex&&r===this._prevMatchLength){if(0===r){JW(e,t,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=i,this._prevMatchLength=r,!this._wordSeparators||R0(this._wordSeparators,e,t,i,r))return n}while(n);return null}}function B0(e){let t;return t=e[e.length-1]<65536?new Uint16Array(e.length):new Uint32Array(e.length),t.set(e,0),t}class j0{constructor(e,t,n,i,r){this.lineStarts=e,this.cr=t,this.lf=n,this.crlf=i,this.isBasicASCII=r}}function z0(e,t=!0){let n=[0],i=1;for(let r=0,o=e.length;r<o;r++){const t=e.charCodeAt(r);13===t?r+1<o&&10===e.charCodeAt(r+1)?(n[i++]=r+2,r++):n[i++]=r+1:10===t&&(n[i++]=r+1)}return t?B0(n):n}class V0{constructor(e,t,n,i,r){this.bufferIndex=e,this.start=t,this.end=n,this.lineFeedCnt=i,this.length=r}}class W0{constructor(e,t){this.buffer=e,this.lineStarts=t}}class H0{constructor(e,t){this._pieces=[],this._tree=e,this._BOM=t,this._index=0,e.root!==v0&&e.iterate(e.root,(e=>(e!==v0&&this._pieces.push(e.piece),!0)))}read(){return 0===this._pieces.length?0===this._index?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:0===this._index?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class U0{constructor(e){this._limit=e,this._cache=[]}get(e){for(let t=this._cache.length-1;t>=0;t--){let n=this._cache[t];if(n.nodeStartOffset<=e&&n.nodeStartOffset+n.node.piece.length>=e)return n}return null}get2(e){for(let t=this._cache.length-1;t>=0;t--){let n=this._cache[t];if(n.nodeStartLineNumber&&n.nodeStartLineNumber<e&&n.nodeStartLineNumber+n.node.piece.lineFeedCnt>=e)return n}return null}set(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)}validate(e){let t=!1,n=this._cache;for(let i=0;i<n.length;i++){let r=n[i];(null===r.node.parent||r.nodeStartOffset>=e)&&(n[i]=null,t=!0)}if(t){let e=[];for(const t of n)null!==t&&e.push(t);this._cache=e}}}class $0{constructor(e,t,n){this.create(e,t,n)}create(e,t,n){this._buffers=[new W0("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=v0,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=n;let i=null;for(let r=0,o=e.length;r<o;r++)if(e[r].buffer.length>0){e[r].lineStarts||(e[r].lineStarts=z0(e[r].buffer));let t=new V0(r+1,{line:0,column:0},{line:e[r].lineStarts.length-1,column:e[r].buffer.length-e[r].lineStarts[e[r].lineStarts.length-1]},e[r].lineStarts.length-1,e[r].buffer.length);this._buffers.push(e[r]),i=this.rbInsertRight(i,t)}this._searchCache=new U0(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(e){let t=65535-Math.floor(21845),n=2*t,i="",r=0,o=[];if(this.iterate(this.root,(s=>{let a=this.getNodeContent(s),l=a.length;if(r<=t||r+l<n)return i+=a,r+=l,!0;let c=i.replace(/\r\n|\r|\n/g,e);return o.push(new W0(c,z0(c))),i=a,r=l,!0})),r>0){let t=i.replace(/\r\n|\r|\n/g,e);o.push(new W0(t,z0(t)))}this.create(o,e,!0)}getEOL(){return this._EOL}setEOL(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)}createSnapshot(e){return new H0(this,e)}getOffsetAt(e,t){let n=0,i=this.root;for(;i!==v0;)if(i.left!==v0&&i.lf_left+1>=e)i=i.left;else{if(i.lf_left+i.piece.lineFeedCnt+1>=e){return n+=i.size_left,n+(this.getAccumulatedValue(i,e-i.lf_left-2)+t-1)}e-=i.lf_left+i.piece.lineFeedCnt,n+=i.size_left+i.piece.length,i=i.right}return n}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let t=this.root,n=0,i=e;for(;t!==v0;)if(0!==t.size_left&&t.size_left>=e)t=t.left;else{if(t.size_left+t.piece.length>=e){let r=this.getIndexOf(t,e-t.size_left);if(n+=t.lf_left+r.index,0===r.index){let e=this.getOffsetAt(n+1,1);return new lj(n+1,i-e+1)}return new lj(n+1,r.remainder+1)}if(e-=t.size_left+t.piece.length,n+=t.lf_left+t.piece.lineFeedCnt,t.right===v0){let t=this.getOffsetAt(n+1,1);return new lj(n+1,i-e-t+1)}t=t.right}return new lj(1,1)}getValueInRange(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";let n=this.nodeAt2(e.startLineNumber,e.startColumn),i=this.nodeAt2(e.endLineNumber,e.endColumn),r=this.getValueInRange2(n,i);return t?t===this._EOL&&this._EOLNormalized&&t===this.getEOL()&&this._EOLNormalized?r:r.replace(/\r\n|\r|\n/g,t):r}getValueInRange2(e,t){if(e.node===t.node){let n=e.node,i=this._buffers[n.piece.bufferIndex].buffer,r=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return i.substring(r+e.remainder,r+t.remainder)}let n=e.node,i=this._buffers[n.piece.bufferIndex].buffer,r=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start),o=i.substring(r+e.remainder,r+n.piece.length);for(n=n.next();n!==v0;){let e=this._buffers[n.piece.bufferIndex].buffer,i=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);if(n===t.node){o+=e.substring(i,i+t.remainder);break}o+=e.substr(i,n.piece.length),n=n.next()}return o}getLinesContent(){let e=[],t=0,n="",i=!1;return this.iterate(this.root,(r=>{if(r===v0)return!0;const o=r.piece;let s=o.length;if(0===s)return!0;const a=this._buffers[o.bufferIndex].buffer,l=this._buffers[o.bufferIndex].lineStarts,c=o.start.line,u=o.end.line;let h=l[c]+o.start.column;if(i&&(10===a.charCodeAt(h)&&(h++,s--),e[t++]=n,n="",i=!1,0===s))return!0;if(c===u)return this._EOLNormalized||13!==a.charCodeAt(h+s-1)?n+=a.substr(h,s):(i=!0,n+=a.substr(h,s-1)),!0;n+=this._EOLNormalized?a.substring(h,Math.max(h,l[c+1]-this._EOLLength)):a.substring(h,l[c+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=n;for(let i=c+1;i<u;i++)n=this._EOLNormalized?a.substring(l[i],l[i+1]-this._EOLLength):a.substring(l[i],l[i+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=n;return this._EOLNormalized||13!==a.charCodeAt(l[u]+o.end.column-1)?n=a.substr(l[u],o.end.column):(i=!0,0===o.end.column?t--:n=a.substr(l[u],o.end.column-1)),!0})),i&&(e[t++]=n,n=""),e[t++]=n,e}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(e){return this._lastVisitedLine.lineNumber===e||(this._lastVisitedLine.lineNumber=e,e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,"")),this._lastVisitedLine.value}_getCharCode(e){if(e.remainder===e.node.piece.length){let t=e.node.next();if(!t)return 0;let n=this._buffers[t.piece.bufferIndex],i=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return n.buffer.charCodeAt(i)}{let t=this._buffers[e.node.piece.bufferIndex],n=this.offsetInBuffer(e.node.piece.bufferIndex,e.node.piece.start)+e.remainder;return t.buffer.charCodeAt(n)}}getLineCharCode(e,t){let n=this.nodeAt2(e,t+1);return this._getCharCode(n)}getLineLength(e){if(e===this.getLineCount()){let t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength}findMatchesInNode(e,t,n,i,r,o,s,a,l,c,u){let h,d,f,p=this._buffers[e.piece.bufferIndex],g=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start),m=this.offsetInBuffer(e.piece.bufferIndex,r),v=this.offsetInBuffer(e.piece.bufferIndex,o),y={line:0,column:0};t._wordSeparators?(d=p.buffer.substring(m,v),f=e=>e+m,t.reset(0)):(d=p.buffer,f=e=>e,t.reset(m));do{if(h=t.next(d),h){if(f(h.index)>=v)return c;this.positionInBuffer(e,f(h.index)-g,y);let t=this.getLineFeedCnt(e.piece.bufferIndex,r,y),o=y.line===r.line?y.column-r.column+i:y.column+1,s=o+h[0].length;if(u[c++]=I0(new cj(n+t,o,n+t,s),h,a),f(h.index)+h[0].length>=v)return c;if(c>=l)return c}}while(h);return c}findMatchesLineByLine(e,t,n,i){const r=[];let o=0;const s=new P0(t.wordSeparators,t.regex);let a=this.nodeAt2(e.startLineNumber,e.startColumn);if(null===a)return[];let l=this.nodeAt2(e.endLineNumber,e.endColumn);if(null===l)return[];let c=this.positionInBuffer(a.node,a.remainder),u=this.positionInBuffer(l.node,l.remainder);if(a.node===l.node)return this.findMatchesInNode(a.node,s,e.startLineNumber,e.startColumn,c,u,t,n,i,o,r),r;let h=e.startLineNumber,d=a.node;for(;d!==l.node;){let l=this.getLineFeedCnt(d.piece.bufferIndex,c,d.piece.end);if(l>=1){let a=this._buffers[d.piece.bufferIndex].lineStarts,u=this.offsetInBuffer(d.piece.bufferIndex,d.piece.start),f=a[c.line+l],p=h===e.startLineNumber?e.startColumn:1;if(o=this.findMatchesInNode(d,s,h,p,c,this.positionInBuffer(d,f-u),t,n,i,o,r),o>=i)return r;h+=l}let u=h===e.startLineNumber?e.startColumn-1:0;if(h===e.endLineNumber){const a=this.getLineContent(h).substring(u,e.endColumn-1);return o=this._findMatchesInLine(t,s,a,e.endLineNumber,u,o,r,n,i),r}if(o=this._findMatchesInLine(t,s,this.getLineContent(h).substr(u),h,u,o,r,n,i),o>=i)return r;h++,a=this.nodeAt2(h,1),d=a.node,c=this.positionInBuffer(a.node,a.remainder)}if(h===e.endLineNumber){let a=h===e.startLineNumber?e.startColumn-1:0;const l=this.getLineContent(h).substring(a,e.endColumn-1);return o=this._findMatchesInLine(t,s,l,e.endLineNumber,a,o,r,n,i),r}let f=h===e.startLineNumber?e.startColumn:1;return o=this.findMatchesInNode(l.node,s,h,f,c,u,t,n,i,o,r),r}_findMatchesInLine(e,t,n,i,r,o,s,a,l){const c=e.wordSeparators;if(!a&&e.simpleSearch){const t=e.simpleSearch,a=t.length,u=n.length;let h=-a;for(;-1!==(h=n.indexOf(t,h+a));)if((!c||R0(c,n,u,h,a))&&(s[o++]=new BU(new cj(i,h+1+r,i,h+1+a+r),null),o>=l))return o;return o}let u;t.reset(0);do{if(u=t.next(n),u&&(s[o++]=I0(new cj(i,u.index+1+r,i,u.index+1+u[0].length+r),u,a),o>=l))return o}while(u);return o}insert(e,t,n=!1){if(this._EOLNormalized=this._EOLNormalized&&n,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==v0){let{node:n,remainder:i,nodeStartOffset:r}=this.nodeAt(e),o=n.piece,s=o.bufferIndex,a=this.positionInBuffer(n,i);if(0===n.piece.bufferIndex&&o.end.line===this._lastChangeBufferPos.line&&o.end.column===this._lastChangeBufferPos.column&&r+o.length===e&&t.length<65535)return this.appendToNode(n,t),void this.computeBufferMetadata();if(r===e)this.insertContentToNodeLeft(t,n),this._searchCache.validate(e);else if(r+n.piece.length>e){let e=[],r=new V0(o.bufferIndex,a,o.end,this.getLineFeedCnt(o.bufferIndex,a,o.end),this.offsetInBuffer(s,o.end)-this.offsetInBuffer(s,a));if(this.shouldCheckCRLF()&&this.endWithCR(t)){if(10===this.nodeCharCodeAt(n,i)){let e={line:r.start.line+1,column:0};r=new V0(r.bufferIndex,e,r.end,this.getLineFeedCnt(r.bufferIndex,e,r.end),r.length-1),t+="\n"}}if(this.shouldCheckCRLF()&&this.startWithLF(t)){if(13===this.nodeCharCodeAt(n,i-1)){let r=this.positionInBuffer(n,i-1);this.deleteNodeTail(n,r),t="\r"+t,0===n.piece.length&&e.push(n)}else this.deleteNodeTail(n,a)}else this.deleteNodeTail(n,a);let l=this.createNewPieces(t);r.length>0&&this.rbInsertRight(n,r);let c=n;for(let t=0;t<l.length;t++)c=this.rbInsertRight(c,l[t]);this.deleteNodes(e)}else this.insertContentToNodeRight(t,n)}else{let e=this.createNewPieces(t),n=this.rbInsertLeft(null,e[0]);for(let t=1;t<e.length;t++)n=this.rbInsertRight(n,e[t])}this.computeBufferMetadata()}delete(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",t<=0||this.root===v0)return;let n=this.nodeAt(e),i=this.nodeAt(e+t),r=n.node,o=i.node;if(r===o){let o=this.positionInBuffer(r,n.remainder),s=this.positionInBuffer(r,i.remainder);if(n.nodeStartOffset===e){if(t===r.piece.length){let e=r.next();return S0(this,r),this.validateCRLFWithPrevNode(e),void this.computeBufferMetadata()}return this.deleteNodeHead(r,s),this._searchCache.validate(e),this.validateCRLFWithPrevNode(r),void this.computeBufferMetadata()}return n.nodeStartOffset+r.piece.length===e+t?(this.deleteNodeTail(r,o),this.validateCRLFWithNextNode(r),void this.computeBufferMetadata()):(this.shrinkNode(r,o,s),void this.computeBufferMetadata())}let s=[],a=this.positionInBuffer(r,n.remainder);this.deleteNodeTail(r,a),this._searchCache.validate(e),0===r.piece.length&&s.push(r);let l=this.positionInBuffer(o,i.remainder);this.deleteNodeHead(o,l),0===o.piece.length&&s.push(o);for(let u=r.next();u!==v0&&u!==o;u=u.next())s.push(u);let c=0===r.piece.length?r.prev():r;this.deleteNodes(s),this.validateCRLFWithNextNode(c),this.computeBufferMetadata()}insertContentToNodeLeft(e,t){let n=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){let i=t.piece,r={line:i.start.line+1,column:0},o=new V0(i.bufferIndex,r,i.end,this.getLineFeedCnt(i.bufferIndex,r,i.end),i.length-1);t.piece=o,e+="\n",E0(this,t,-1,-1),0===t.piece.length&&n.push(t)}let i=this.createNewPieces(e),r=this.rbInsertLeft(t,i[i.length-1]);for(let o=i.length-2;o>=0;o--)r=this.rbInsertLeft(r,i[o]);this.validateCRLFWithPrevNode(r),this.deleteNodes(n)}insertContentToNodeRight(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+="\n");let n=this.createNewPieces(e),i=this.rbInsertRight(t,n[0]),r=i;for(let o=1;o<n.length;o++)r=this.rbInsertRight(r,n[o]);this.validateCRLFWithPrevNode(i)}positionInBuffer(e,t,n){let i=e.piece,r=e.piece.bufferIndex,o=this._buffers[r].lineStarts,s=o[i.start.line]+i.start.column+t,a=i.start.line,l=i.end.line,c=0,u=0,h=0;for(;a<=l&&(c=a+(l-a)/2|0,h=o[c],c!==l);)if(u=o[c+1],s<h)l=c-1;else{if(!(s>=u))break;a=c+1}return n?(n.line=c,n.column=s-h,null):{line:c,column:s-h}}getLineFeedCnt(e,t,n){if(0===n.column)return n.line-t.line;let i=this._buffers[e].lineStarts;if(n.line===i.length-1)return n.line-t.line;let r=i[n.line+1],o=i[n.line]+n.column;if(r>o+1)return n.line-t.line;let s=o-1;return 13===this._buffers[e].buffer.charCodeAt(s)?n.line-t.line+1:n.line-t.line}offsetInBuffer(e,t){return this._buffers[e].lineStarts[t.line]+t.column}deleteNodes(e){for(let t=0;t<e.length;t++)S0(this,e[t])}createNewPieces(e){if(e.length>65535){let t=[];for(;e.length>65535;){const n=e.charCodeAt(65534);let i;13===n||n>=55296&&n<=56319?(i=e.substring(0,65534),e=e.substring(65534)):(i=e.substring(0,65535),e=e.substring(65535));let r=z0(i);t.push(new V0(this._buffers.length,{line:0,column:0},{line:r.length-1,column:i.length-r[r.length-1]},r.length-1,i.length)),this._buffers.push(new W0(i,r))}let n=z0(e);return t.push(new V0(this._buffers.length,{line:0,column:0},{line:n.length-1,column:e.length-n[n.length-1]},n.length-1,e.length)),this._buffers.push(new W0(e,n)),t}let t=this._buffers[0].buffer.length;const n=z0(e,!1);let i=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===t&&0!==t&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},i=this._lastChangeBufferPos;for(let e=0;e<n.length;e++)n[e]+=t+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(n.slice(1)),this._buffers[0].buffer+="_"+e,t+=1}else{if(0!==t)for(let e=0;e<n.length;e++)n[e]+=t;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(n.slice(1)),this._buffers[0].buffer+=e}const r=this._buffers[0].buffer.length;let o=this._buffers[0].lineStarts.length-1,s={line:o,column:r-this._buffers[0].lineStarts[o]},a=new V0(0,i,s,this.getLineFeedCnt(0,i,s),r-t);return this._lastChangeBufferPos=s,[a]}getLineRawContent(e,t=0){let n=this.root,i="",r=this._searchCache.get2(e);if(r){n=r.node;let o=this.getAccumulatedValue(n,e-r.nodeStartLineNumber-1),s=this._buffers[n.piece.bufferIndex].buffer,a=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);if(r.nodeStartLineNumber+n.piece.lineFeedCnt!==e){let i=this.getAccumulatedValue(n,e-r.nodeStartLineNumber);return s.substring(a+o,a+i-t)}i=s.substring(a+o,a+n.piece.length)}else{let r=0;const o=e;for(;n!==v0;)if(n.left!==v0&&n.lf_left>=e-1)n=n.left;else{if(n.lf_left+n.piece.lineFeedCnt>e-1){let i=this.getAccumulatedValue(n,e-n.lf_left-2),s=this.getAccumulatedValue(n,e-n.lf_left-1),a=this._buffers[n.piece.bufferIndex].buffer,l=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return r+=n.size_left,this._searchCache.set({node:n,nodeStartOffset:r,nodeStartLineNumber:o-(e-1-n.lf_left)}),a.substring(l+i,l+s-t)}if(n.lf_left+n.piece.lineFeedCnt===e-1){let t=this.getAccumulatedValue(n,e-n.lf_left-2),r=this._buffers[n.piece.bufferIndex].buffer,o=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);i=r.substring(o+t,o+n.piece.length);break}e-=n.lf_left+n.piece.lineFeedCnt,r+=n.size_left+n.piece.length,n=n.right}}for(n=n.next();n!==v0;){let e=this._buffers[n.piece.bufferIndex].buffer;if(n.piece.lineFeedCnt>0){let r=this.getAccumulatedValue(n,0),o=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return i+=e.substring(o,o+r-t),i}{let t=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);i+=e.substr(t,n.piece.length)}n=n.next()}return i}computeBufferMetadata(){let e=this.root,t=1,n=0;for(;e!==v0;)t+=e.lf_left+e.piece.lineFeedCnt,n+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=n,this._searchCache.validate(this._length)}getIndexOf(e,t){let n=e.piece,i=this.positionInBuffer(e,t),r=i.line-n.start.line;if(this.offsetInBuffer(n.bufferIndex,n.end)-this.offsetInBuffer(n.bufferIndex,n.start)===t){let t=this.getLineFeedCnt(e.piece.bufferIndex,n.start,i);if(t!==r)return{index:t,remainder:0}}return{index:r,remainder:i.column}}getAccumulatedValue(e,t){if(t<0)return 0;let n=e.piece,i=this._buffers[n.bufferIndex].lineStarts,r=n.start.line+t+1;return r>n.end.line?i[n.end.line]+n.end.column-i[n.start.line]-n.start.column:i[r]-i[n.start.line]-n.start.column}deleteNodeTail(e,t){const n=e.piece,i=n.lineFeedCnt,r=this.offsetInBuffer(n.bufferIndex,n.end),o=t,s=this.offsetInBuffer(n.bufferIndex,o),a=this.getLineFeedCnt(n.bufferIndex,n.start,o),l=a-i,c=s-r,u=n.length+c;e.piece=new V0(n.bufferIndex,n.start,o,a,u),E0(this,e,c,l)}deleteNodeHead(e,t){const n=e.piece,i=n.lineFeedCnt,r=this.offsetInBuffer(n.bufferIndex,n.start),o=t,s=this.getLineFeedCnt(n.bufferIndex,o,n.end),a=s-i,l=r-this.offsetInBuffer(n.bufferIndex,o),c=n.length+l;e.piece=new V0(n.bufferIndex,o,n.end,s,c),E0(this,e,l,a)}shrinkNode(e,t,n){const i=e.piece,r=i.start,o=i.end,s=i.length,a=i.lineFeedCnt,l=t,c=this.getLineFeedCnt(i.bufferIndex,i.start,l),u=this.offsetInBuffer(i.bufferIndex,t)-this.offsetInBuffer(i.bufferIndex,r);e.piece=new V0(i.bufferIndex,i.start,l,c,u),E0(this,e,u-s,c-a);let h=new V0(i.bufferIndex,n,o,this.getLineFeedCnt(i.bufferIndex,n,o),this.offsetInBuffer(i.bufferIndex,o)-this.offsetInBuffer(i.bufferIndex,n)),d=this.rbInsertRight(e,h);this.validateCRLFWithPrevNode(d)}appendToNode(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+="\n");const n=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),i=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;const r=z0(t,!1);for(let h=0;h<r.length;h++)r[h]+=i;if(n){let e=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:i-e}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(r.slice(1));const o=this._buffers[0].lineStarts.length-1,s={line:o,column:this._buffers[0].buffer.length-this._buffers[0].lineStarts[o]},a=e.piece.length+t.length,l=e.piece.lineFeedCnt,c=this.getLineFeedCnt(0,e.piece.start,s),u=c-l;e.piece=new V0(e.piece.bufferIndex,e.piece.start,s,c,a),this._lastChangeBufferPos=s,E0(this,e,t.length,u)}nodeAt(e){let t=this.root,n=this._searchCache.get(e);if(n)return{node:n.node,nodeStartOffset:n.nodeStartOffset,remainder:e-n.nodeStartOffset};let i=0;for(;t!==v0;)if(t.size_left>e)t=t.left;else{if(t.size_left+t.piece.length>=e){i+=t.size_left;let n={node:t,remainder:e-t.size_left,nodeStartOffset:i};return this._searchCache.set(n),n}e-=t.size_left+t.piece.length,i+=t.size_left+t.piece.length,t=t.right}return null}nodeAt2(e,t){let n=this.root,i=0;for(;n!==v0;)if(n.left!==v0&&n.lf_left>=e-1)n=n.left;else{if(n.lf_left+n.piece.lineFeedCnt>e-1){let r=this.getAccumulatedValue(n,e-n.lf_left-2),o=this.getAccumulatedValue(n,e-n.lf_left-1);return i+=n.size_left,{node:n,remainder:Math.min(r+t-1,o),nodeStartOffset:i}}if(n.lf_left+n.piece.lineFeedCnt===e-1){let r=this.getAccumulatedValue(n,e-n.lf_left-2);if(r+t-1<=n.piece.length)return{node:n,remainder:r+t-1,nodeStartOffset:i};t-=n.piece.length-r;break}e-=n.lf_left+n.piece.lineFeedCnt,i+=n.size_left+n.piece.length,n=n.right}for(n=n.next();n!==v0;){if(n.piece.lineFeedCnt>0){let e=this.getAccumulatedValue(n,0),i=this.offsetOfNode(n);return{node:n,remainder:Math.min(t-1,e),nodeStartOffset:i}}if(n.piece.length>=t-1){return{node:n,remainder:t-1,nodeStartOffset:this.offsetOfNode(n)}}t-=n.piece.length,n=n.next()}return null}nodeCharCodeAt(e,t){if(e.piece.lineFeedCnt<1)return-1;let n=this._buffers[e.piece.bufferIndex],i=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return n.buffer.charCodeAt(i)}offsetOfNode(e){if(!e)return 0;let t=e.size_left;for(;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t}shouldCheckCRLF(){return!(this._EOLNormalized&&"\n"===this._EOL)}startWithLF(e){if("string"==typeof e)return 10===e.charCodeAt(0);if(e===v0||0===e.piece.lineFeedCnt)return!1;let t=e.piece,n=this._buffers[t.bufferIndex].lineStarts,i=t.start.line,r=n[i]+t.start.column;return i!==n.length-1&&(!(n[i+1]>r+1)&&10===this._buffers[t.bufferIndex].buffer.charCodeAt(r))}endWithCR(e){return"string"==typeof e?13===e.charCodeAt(e.length-1):e!==v0&&0!==e.piece.lineFeedCnt&&13===this.nodeCharCodeAt(e,e.piece.length-1)}validateCRLFWithPrevNode(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){let t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}}validateCRLFWithNextNode(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){let t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}}fixCRLF(e,t){let n,i=[],r=this._buffers[e.piece.bufferIndex].lineStarts;n=0===e.piece.end.column?{line:e.piece.end.line-1,column:r[e.piece.end.line]-r[e.piece.end.line-1]-1}:{line:e.piece.end.line,column:e.piece.end.column-1};const o=e.piece.length-1,s=e.piece.lineFeedCnt-1;e.piece=new V0(e.piece.bufferIndex,e.piece.start,n,s,o),E0(this,e,-1,-1),0===e.piece.length&&i.push(e);let a={line:t.piece.start.line+1,column:0};const l=t.piece.length-1,c=this.getLineFeedCnt(t.piece.bufferIndex,a,t.piece.end);t.piece=new V0(t.piece.bufferIndex,a,t.piece.end,c,l),E0(this,t,-1,-1),0===t.piece.length&&i.push(t);let u=this.createNewPieces("\r\n");this.rbInsertRight(e,u[0]);for(let h=0;h<i.length;h++)S0(this,i[h])}adjustCarriageReturnFromNext(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){let n=t.next();if(this.startWithLF(n)){if(e+="\n",1===n.piece.length)S0(this,n);else{const e=n.piece,t={line:e.start.line+1,column:0},i=e.length-1,r=this.getLineFeedCnt(e.bufferIndex,t,e.end);n.piece=new V0(e.bufferIndex,t,e.end,r,i),E0(this,n,-1,-1)}return!0}}return!1}iterate(e,t){if(e===v0)return t(v0);let n=this.iterate(e.left,t);return n?t(e)&&this.iterate(e.right,t):n}getNodeContent(e){if(e===v0)return"";let t,n=this._buffers[e.piece.bufferIndex],i=e.piece,r=this.offsetInBuffer(i.bufferIndex,i.start),o=this.offsetInBuffer(i.bufferIndex,i.end);return t=n.buffer.substring(r,o),t}getPieceContent(e){let t=this._buffers[e.bufferIndex],n=this.offsetInBuffer(e.bufferIndex,e.start),i=this.offsetInBuffer(e.bufferIndex,e.end);return t.buffer.substring(n,i)}rbInsertRight(e,t){let n=new m0(t,1);if(n.left=v0,n.right=v0,n.parent=v0,n.size_left=0,n.lf_left=0,this.root===v0)this.root=n,n.color=0;else if(e.right===v0)e.right=n,n.parent=e;else{let t=y0(e.right);t.left=n,n.parent=t}return D0(this,n),n}rbInsertLeft(e,t){let n=new m0(t,1);if(n.left=v0,n.right=v0,n.parent=v0,n.size_left=0,n.lf_left=0,this.root===v0)this.root=n,n.color=0;else if(e.left===v0)e.left=n,n.parent=e;else{let t=b0(e.left);t.right=n,n.parent=t}return D0(this,n),n}}function q0(e){let t=0,n=0,i=0,r=0;for(let o=0,s=e.length;o<s;o++){const a=e.charCodeAt(o);13===a?(0===t&&(n=o),t++,o+1<s&&10===e.charCodeAt(o+1)?(r|=2,o++):r|=3,i=o+1):10===a&&(r|=1,0===t&&(n=o),t++,i=o+1)}return 0===t&&(n=e.length),[t,n,e.length-i,r]}function K0(e){return(16384|e<<0|2<<23)>>>0}const Y0=new Uint32Array(0).buffer;class G0{constructor(){this.tokens=[]}add(e,t){if(this.tokens.length>0){const n=this.tokens[this.tokens.length-1];if(n.startLineNumber+n.tokens.length-1+1===e)return void n.tokens.push(t)}this.tokens.push(new Q0(e,[t]))}}class X0{constructor(e){this._tokens=e,this._tokenCount=e.length/4}toString(e){let t=[];for(let n=0;n<this._tokenCount;n++)t.push(`(${this._getDeltaLine(n)+e},${this._getStartCharacter(n)}-${this._getEndCharacter(n)})`);return`[${t.join(",")}]`}getMaxDeltaLine(){const e=this._getTokenCount();return 0===e?-1:this._getDeltaLine(e-1)}getRange(){const e=this._getTokenCount();if(0===e)return null;const t=this._getStartCharacter(0),n=this._getDeltaLine(e-1),i=this._getEndCharacter(e-1);return new cj(0,t+1,n,i+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(e){return this._tokens[4*e]}_getStartCharacter(e){return this._tokens[4*e+1]}_getEndCharacter(e){return this._tokens[4*e+2]}isEmpty(){return 0===this._getTokenCount()}getLineTokens(e){let t=0,n=this._getTokenCount()-1;for(;t<n;){const i=t+Math.floor((n-t)/2),r=this._getDeltaLine(i);if(r<e)t=i+1;else{if(!(r>e)){let r=i;for(;r>t&&this._getDeltaLine(r-1)===e;)r--;let o=i;for(;o<n&&this._getDeltaLine(o+1)===e;)o++;return new Z0(this._tokens.subarray(4*r,4*o+4))}n=i-1}}return this._getDeltaLine(t)===e?new Z0(this._tokens.subarray(4*t,4*t+4)):null}clear(){this._tokenCount=0}removeTokens(e,t,n,i){const r=this._tokens,o=this._tokenCount;let s=0,a=!1,l=0;for(let c=0;c<o;c++){const o=4*c,u=r[o],h=r[o+1],d=r[o+2],f=r[o+3];if((u>e||u===e&&d>=t)&&(u<n||u===n&&h<=i))a=!0;else{if(0===s&&(l=u),a){const e=4*s;r[e]=u-l,r[e+1]=h,r[e+2]=d,r[e+3]=f}s++}}return this._tokenCount=s,l}split(e,t,n,i){const r=this._tokens,o=this._tokenCount;let s=[],a=[],l=s,c=0,u=0;for(let h=0;h<o;h++){const o=4*h,s=r[o],d=r[o+1],f=r[o+2],p=r[o+3];if(s>e||s===e&&f>=t){if(s<n||s===n&&d<=i)continue;l!==a&&(l=a,c=0,u=s)}l[c++]=s-u,l[c++]=d,l[c++]=f,l[c++]=p}return[new X0(new Uint32Array(s)),new X0(new Uint32Array(a)),u]}acceptDeleteRange(e,t,n,i,r){const o=this._tokens,s=this._tokenCount,a=i-t;let l=0,c=!1;for(let u=0;u<s;u++){const h=4*u;let d=o[h],f=o[h+1],p=o[h+2];const g=o[h+3];if(d<t||d===t&&p<=n){l++;continue}if(d===t&&f<n)d===i&&p>r?p-=r-n:p=n;else if(d===t&&f===n){if(!(d===i&&p>r)){c=!0;continue}p-=r-n}else if(d<i||d===i&&f<r){if(!(d===i&&p>r)){c=!0;continue}d===t?(f=n,p=f+(p-r)):(f=0,p=f+(p-r))}else if(d>i){if(0===a&&!c){l=s;break}d-=a}else{if(!(d===i&&f>=r))throw new Error("Not possible!");e&&0===d&&(f+=e,p+=e),d-=a,f-=r-n,p-=r-n}const m=4*l;o[m]=d,o[m+1]=f,o[m+2]=p,o[m+3]=g,l++}this._tokenCount=l}acceptInsertText(e,t,n,i,r,o){const s=0===n&&1===i&&(o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122),a=this._tokens,l=this._tokenCount;for(let c=0;c<l;c++){const o=4*c;let l=a[o],u=a[o+1],h=a[o+2];if(!(l<e||l===e&&h<t)){if(l===e&&h===t){if(!s)continue;h+=1}else if(l===e&&u<t&&t<h)0===n?h+=i:h=t;else{if(l===e&&u===t&&s)continue;if(l===e)if(l+=n,0===n)u+=i,h+=i;else{const e=h-u;u=r+(u-t),h=u+e}else l+=n}a[o]=l,a[o+1]=u,a[o+2]=h}}}}class Z0{constructor(e){this._tokens=e}getCount(){return this._tokens.length/4}getStartCharacter(e){return this._tokens[4*e+1]}getEndCharacter(e){return this._tokens[4*e+2]}getMetadata(e){return this._tokens[4*e+3]}}class J0{constructor(e,t){this.startLineNumber=e,this.tokens=t,this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}toString(){return this.tokens.toString(this.startLineNumber)}_updateEndLineNumber(){this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}isEmpty(){return this.tokens.isEmpty()}getLineTokens(e){return this.startLineNumber<=e&&e<=this.endLineNumber?this.tokens.getLineTokens(e-this.startLineNumber):null}getRange(){const e=this.tokens.getRange();return e?new cj(this.startLineNumber+e.startLineNumber,e.startColumn,this.startLineNumber+e.endLineNumber,e.endColumn):e}removeTokens(e){const t=e.startLineNumber-this.startLineNumber,n=e.endLineNumber-this.startLineNumber;this.startLineNumber+=this.tokens.removeTokens(t,e.startColumn-1,n,e.endColumn-1),this._updateEndLineNumber()}split(e){const t=e.startLineNumber-this.startLineNumber,n=e.endLineNumber-this.startLineNumber,[i,r,o]=this.tokens.split(t,e.startColumn-1,n,e.endColumn-1);return[new J0(this.startLineNumber,i),new J0(this.startLineNumber+o,r)]}applyEdit(e,t){const[n,i,r]=q0(t);this.acceptEdit(e,n,i,r,t.length>0?t.charCodeAt(0):0)}acceptEdit(e,t,n,i,r){this._acceptDeleteRange(e),this._acceptInsertText(new lj(e.startLineNumber,e.startColumn),t,n,i,r),this._updateEndLineNumber()}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return;const t=e.startLineNumber-this.startLineNumber,n=e.endLineNumber-this.startLineNumber;if(n<0){const e=n-t;return void(this.startLineNumber-=e)}const i=this.tokens.getMaxDeltaLine();if(!(t>=i+1)){if(t<0&&n>=i+1)return this.startLineNumber=0,void this.tokens.clear();if(t<0){const i=-t;this.startLineNumber-=i,this.tokens.acceptDeleteRange(e.startColumn-1,0,0,n,e.endColumn-1)}else this.tokens.acceptDeleteRange(0,t,e.startColumn-1,n,e.endColumn-1)}}_acceptInsertText(e,t,n,i,r){if(0===t&&0===n)return;const o=e.lineNumber-this.startLineNumber;if(o<0)return void(this.startLineNumber+=t);o>=this.tokens.getMaxDeltaLine()+1||this.tokens.acceptInsertText(o,e.column-1,t,n,i,r)}}class Q0{constructor(e,t){this.startLineNumber=e,this.tokens=t}}function e1(e){return e instanceof Uint32Array?e:new Uint32Array(e)}class t1{constructor(e){this._pieces=[],this._isComplete=!1,this._languageIdCodec=e}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return 0===this._pieces.length}set(e,t){this._pieces=e||[],this._isComplete=t}setPartial(e,t){let n=e;if(t.length>0){const i=t[0].getRange(),r=t[t.length-1].getRange();if(!i||!r)return e;n=e.plusRange(i).plusRange(r)}let i=null;for(let r=0,o=this._pieces.length;r<o;r++){const e=this._pieces[r];if(e.endLineNumber<n.startLineNumber)continue;if(e.startLineNumber>n.endLineNumber){i=i||{index:r};break}if(e.removeTokens(n),e.isEmpty()){this._pieces.splice(r,1),r--,o--;continue}if(e.endLineNumber<n.startLineNumber)continue;if(e.startLineNumber>n.endLineNumber){i=i||{index:r};continue}const[t,s]=e.split(n);t.isEmpty()?i=i||{index:r}:s.isEmpty()||(this._pieces.splice(r,1,t,s),r++,o++,i=i||{index:r})}return i=i||{index:this._pieces.length},t.length>0&&(this._pieces=kY(this._pieces,i.index,t)),n}isComplete(){return this._isComplete}addSemanticTokens(e,t){const n=this._pieces;if(0===n.length)return t;const i=n[t1._findFirstPieceWithLine(n,e)].getLineTokens(e);if(!i)return t;const r=t.getCount(),o=i.getCount();let s=0,a=[],l=0,c=0;const u=(e,t)=>{e!==c&&(c=e,a[l++]=e,a[l++]=t)};for(let h=0;h<o;h++){const e=i.getStartCharacter(h),n=i.getEndCharacter(h),o=i.getMetadata(h),a=((1&o?2048:0)|(2&o?4096:0)|(4&o?8192:0)|(8&o?8372224:0)|(16&o?4286578688:0))>>>0,l=~a>>>0;for(;s<r&&t.getEndOffset(s)<=e;)u(t.getEndOffset(s),t.getMetadata(s)),s++;for(s<r&&t.getStartOffset(s)<e&&u(e,t.getMetadata(s));s<r&&t.getEndOffset(s)<n;)u(t.getEndOffset(s),t.getMetadata(s)&l|o&a),s++;if(s<r)u(n,t.getMetadata(s)&l|o&a),t.getEndOffset(s)===n&&s++;else{const e=Math.min(Math.max(0,s-1),r-1);u(n,t.getMetadata(e)&l|o&a)}}for(;s<r;)u(t.getEndOffset(s),t.getMetadata(s)),s++;return new GY(new Uint32Array(a),t.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(e,t){let n=0,i=e.length-1;for(;n<i;){let r=n+Math.floor((i-n)/2);if(e[r].endLineNumber<t)n=r+1;else{if(!(e[r].startLineNumber>t)){for(;r>n&&e[r-1].startLineNumber<=t&&t<=e[r-1].endLineNumber;)r--;return r}i=r-1}}return n}acceptEdit(e,t,n,i,r){for(const o of this._pieces)o.acceptEdit(e,t,n,i,r)}}class n1{constructor(e){this._lineTokens=[],this._len=0,this._languageIdCodec=e}flush(){this._lineTokens=[],this._len=0}getTokens(e,t,n){let i=null;if(t<this._len&&(i=this._lineTokens[t]),null!==i&&i!==Y0)return new GY(e1(i),n,this._languageIdCodec);const r=new Uint32Array(2);return r[0]=n.length,r[1]=K0(this._languageIdCodec.encodeLanguageId(e)),new GY(r,n,this._languageIdCodec)}static _massageTokens(e,t,n){const i=n?e1(n):null;if(0===t){let t=!1;if(i&&i.length>1&&(t=M$.getLanguageId(i[1])!==e),!t)return Y0}if(!i||0===i.length){const n=new Uint32Array(2);return n[0]=t,n[1]=K0(e),n.buffer}return i[i.length-2]=t,0===i.byteOffset&&i.byteLength===i.buffer.byteLength?i.buffer:i}_ensureLine(e){for(;e>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(e,t){0!==t&&(e+t>this._len&&(t=this._len-e),this._lineTokens.splice(e,t),this._len-=t)}_insertLines(e,t){if(0===t)return;let n=[];for(let i=0;i<t;i++)n[i]=null;this._lineTokens=kY(this._lineTokens,e,n),this._len+=t}setTokens(e,t,n,i,r){const o=n1._massageTokens(this._languageIdCodec.encodeLanguageId(e),n,i);this._ensureLine(t);const s=this._lineTokens[t];return this._lineTokens[t]=o,!!r&&!n1._equals(s,o)}static _equals(e,t){if(!e||!t)return!e&&!t;const n=e1(e),i=e1(t);if(n.length!==i.length)return!1;for(let r=0,o=n.length;r<o;r++)if(n[r]!==i[r])return!1;return!0}acceptEdit(e,t,n){this._acceptDeleteRange(e),this._acceptInsertText(new lj(e.startLineNumber,e.startColumn),t,n)}_acceptDeleteRange(e){const t=e.startLineNumber-1;if(t>=this._len)return;if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;return void(this._lineTokens[t]=n1._delete(this._lineTokens[t],e.startColumn-1,e.endColumn-1))}this._lineTokens[t]=n1._deleteEnding(this._lineTokens[t],e.startColumn-1);const n=e.endLineNumber-1;let i=null;n<this._len&&(i=n1._deleteBeginning(this._lineTokens[n],e.endColumn-1)),this._lineTokens[t]=n1._append(this._lineTokens[t],i),this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t,n){if(0===t&&0===n)return;const i=e.lineNumber-1;i>=this._len||(0!==t?(this._lineTokens[i]=n1._deleteEnding(this._lineTokens[i],e.column-1),this._lineTokens[i]=n1._insert(this._lineTokens[i],e.column-1,n),this._insertLines(e.lineNumber,t)):this._lineTokens[i]=n1._insert(this._lineTokens[i],e.column-1,n))}static _deleteBeginning(e,t){return null===e||e===Y0?e:n1._delete(e,0,t)}static _deleteEnding(e,t){if(null===e||e===Y0)return e;const n=e1(e),i=n[n.length-2];return n1._delete(e,t,i)}static _delete(e,t,n){if(null===e||e===Y0||t===n)return e;const i=e1(e),r=i.length>>>1;if(0===t&&i[i.length-2]===n)return Y0;const o=GY.findIndexInTokensArray(i,t),s=o>0?i[o-1<<1]:0;if(n<i[o<<1]){const s=n-t;for(let e=o;e<r;e++)i[e<<1]-=s;return e}let a,l;s!==t?(i[o<<1]=t,a=o+1<<1,l=t):(a=o<<1,l=s);const c=n-t;for(let h=o+1;h<r;h++){const e=i[h<<1]-c;e>l&&(i[a++]=e,i[a++]=i[1+(h<<1)],l=e)}if(a===i.length)return e;let u=new Uint32Array(a);return u.set(i.subarray(0,a),0),u.buffer}static _append(e,t){if(t===Y0)return e;if(e===Y0)return t;if(null===e)return e;if(null===t)return null;const n=e1(e),i=e1(t),r=i.length>>>1;let o=new Uint32Array(n.length+i.length);o.set(n,0);let s=n.length;const a=n[n.length-2];for(let l=0;l<r;l++)o[s++]=i[l<<1]+a,o[s++]=i[1+(l<<1)];return o.buffer}static _insert(e,t,n){if(null===e||e===Y0)return e;const i=e1(e),r=i.length>>>1;let o=GY.findIndexInTokensArray(i,t);if(o>0){i[o-1<<1]===t&&o--}for(let s=o;s<r;s++)i[s<<1]+=n;return e}}class i1 extends KP{constructor(e,t,n,i,r,o,s){super(),this._onDidChangeContent=this._register(new nB),this._BOM=t,this._mightContainNonBasicASCII=!o,this._mightContainRTL=i,this._mightContainUnusualLineTerminators=r,this._pieceTree=new $0(e,n,s)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(e){return this._pieceTree.createSnapshot(e?this._BOM:"")}getOffsetAt(e,t){return this._pieceTree.getOffsetAt(e,t)}getPositionAt(e){return this._pieceTree.getPositionAt(e)}getRangeAt(e,t){let n=e+t;const i=this.getPositionAt(e),r=this.getPositionAt(n);return new cj(i.lineNumber,i.column,r.lineNumber,r.column)}getValueInRange(e,t=0){if(e.isEmpty())return"";const n=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,n)}getValueLengthInRange(e,t=0){if(e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;let n=this.getOffsetAt(e.startLineNumber,e.startColumn);return this.getOffsetAt(e.endLineNumber,e.endColumn)-n}getCharacterCountInRange(e,t=0){if(this._mightContainNonBasicASCII){let n=0;const i=e.startLineNumber,r=e.endLineNumber;for(let t=i;t<=r;t++){const o=this.getLineContent(t),s=t===i?e.startColumn-1:0,a=t===r?e.endColumn-1:o.length;for(let e=s;e<a;e++)GW(o.charCodeAt(e))?(n+=1,e+=1):n+=1}return n+=this._getEndOfLine(t).length*(r-i),n}return this.getValueLengthInRange(e,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(e){return this._pieceTree.getLineContent(e)}getLineCharCode(e,t){return this._pieceTree.getLineCharCode(e,t)}getLineLength(e){return this._pieceTree.getLineLength(e)}getLineFirstNonWhitespaceColumn(e){const t=RW(this.getLineContent(e));return-1===t?0:t+1}getLineLastNonWhitespaceColumn(e){const t=BW(this.getLineContent(e));return-1===t?0:t+2}_getEndOfLine(e){switch(e){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(e){this._pieceTree.setEOL(e)}applyEdits(e,t,n){let i=this._mightContainRTL,r=this._mightContainUnusualLineTerminators,o=this._mightContainNonBasicASCII,s=!0,a=[];for(let p=0;p<e.length;p++){let t=e[p];s&&t._isTracked&&(s=!1);let n=t.range;if(t.text){let e=!0;o||(e=!oH(t.text),o=e),!i&&e&&(i=nH(t.text)),!r&&e&&(r=aH(t.text))}let l="",c=0,u=0,h=0;if(t.text){let e;[c,u,h,e]=q0(t.text);const n=this.getEOL(),i="\r\n"===n?2:1;l=0===e||e===i?t.text:t.text.replace(/\r\n|\r|\n/g,n)}a[p]={sortIndex:p,identifier:t.identifier||null,range:n,rangeOffset:this.getOffsetAt(n.startLineNumber,n.startColumn),rangeLength:this.getValueLengthInRange(n),text:l,eolCount:c,firstLineLength:u,lastLineLength:h,forceMoveMarkers:Boolean(t.forceMoveMarkers),isAutoWhitespaceEdit:t.isAutoWhitespaceEdit||!1}}a.sort(i1._sortOpsAscending);let l=!1;for(let p=0,g=a.length-1;p<g;p++){let e=a[p].range.getEndPosition(),t=a[p+1].range.getStartPosition();if(t.isBeforeOrEqual(e)){if(t.isBefore(e))throw new Error("Overlapping ranges are not allowed!");l=!0}}s&&(a=this._reduceOperations(a));let c=n||t?i1._getInverseEditRanges(a):[],u=[];if(t)for(let p=0;p<a.length;p++){let e=a[p],t=c[p];if(e.isAutoWhitespaceEdit&&e.range.isEmpty())for(let n=t.startLineNumber;n<=t.endLineNumber;n++){let i="";n===t.startLineNumber&&(i=this.getLineContent(e.range.startLineNumber),-1!==RW(i))||u.push({lineNumber:n,oldContent:i})}}let h=null;if(n){let e=0;h=[];for(let t=0;t<a.length;t++){const n=a[t],i=c[t],r=this.getValueInRange(n.range),o=n.rangeOffset+e;e+=n.text.length-r.length,h[t]={sortIndex:n.sortIndex,identifier:n.identifier,range:i,text:r,textChange:new PQ(n.rangeOffset,r,o,n.text)}}l||h.sort(((e,t)=>e.sortIndex-t.sortIndex))}this._mightContainRTL=i,this._mightContainUnusualLineTerminators=r,this._mightContainNonBasicASCII=o;const d=this._doApplyEdits(a);let f=null;if(t&&u.length>0){u.sort(((e,t)=>t.lineNumber-e.lineNumber)),f=[];for(let e=0,t=u.length;e<t;e++){let t=u[e].lineNumber;if(e>0&&u[e-1].lineNumber===t)continue;let n=u[e].oldContent,i=this.getLineContent(t);0!==i.length&&i!==n&&-1===RW(i)&&f.push(t)}}return this._onDidChangeContent.fire(),new WU(h,d,f)}_reduceOperations(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]}_toSingleEditOperation(e){let t=!1;const n=e[0].range,i=e[e.length-1].range,r=new cj(n.startLineNumber,n.startColumn,i.endLineNumber,i.endColumn);let o=n.startLineNumber,s=n.startColumn;const a=[];for(let d=0,f=e.length;d<f;d++){const n=e[d],i=n.range;t=t||n.forceMoveMarkers,a.push(this.getValueInRange(new cj(o,s,i.startLineNumber,i.startColumn))),n.text.length>0&&a.push(n.text),o=i.endLineNumber,s=i.endColumn}const l=a.join(""),[c,u,h]=q0(l);return{sortIndex:0,identifier:e[0].identifier,range:r,rangeOffset:this.getOffsetAt(r.startLineNumber,r.startColumn),rangeLength:this.getValueLengthInRange(r,0),text:l,eolCount:c,firstLineLength:u,lastLineLength:h,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(e){e.sort(i1._sortOpsDescending);let t=[];for(let n=0;n<e.length;n++){let i=e[n];const r=i.range.startLineNumber,o=i.range.startColumn,s=i.range.endLineNumber,a=i.range.endColumn;if(r===s&&o===a&&0===i.text.length)continue;i.text?(this._pieceTree.delete(i.rangeOffset,i.rangeLength),this._pieceTree.insert(i.rangeOffset,i.text,!0)):this._pieceTree.delete(i.rangeOffset,i.rangeLength);const l=new cj(r,o,s,a);t.push({range:l,rangeLength:i.rangeLength,text:i.text,rangeOffset:i.rangeOffset,forceMoveMarkers:i.forceMoveMarkers})}return t}findMatchesLineByLine(e,t,n,i){return this._pieceTree.findMatchesLineByLine(e,t,n,i)}static _getInverseEditRanges(e){let t=[],n=0,i=0,r=null;for(let o=0,s=e.length;o<s;o++){let s,a,l,c=e[o];if(r?r.range.endLineNumber===c.range.startLineNumber?(s=n,a=i+(c.range.startColumn-r.range.endColumn)):(s=n+(c.range.startLineNumber-r.range.endLineNumber),a=c.range.startColumn):(s=c.range.startLineNumber,a=c.range.startColumn),c.text.length>0){const e=c.eolCount+1;l=1===e?new cj(s,a,s,a+c.firstLineLength):new cj(s,a,s+e-1,c.lastLineLength+1)}else l=new cj(s,a,s,a);n=l.endLineNumber,i=l.endColumn,t.push(l),r=c}return t}static _sortOpsAscending(e,t){let n=cj.compareRangesUsingEnds(e.range,t.range);return 0===n?e.sortIndex-t.sortIndex:n}static _sortOpsDescending(e,t){let n=cj.compareRangesUsingEnds(e.range,t.range);return 0===n?t.sortIndex-e.sortIndex:-n}}class r1{constructor(e,t,n,i,r,o,s,a,l){this._chunks=e,this._bom=t,this._cr=n,this._lf=i,this._crlf=r,this._containsRTL=o,this._containsUnusualLineTerminators=s,this._isBasicASCII=a,this._normalizeEOL=l}_getEOL(e){const t=this._cr+this._lf+this._crlf,n=this._cr+this._crlf;return 0===t?1===e?"\n":"\r\n":n>t/2?"\r\n":"\n"}create(e){const t=this._getEOL(e);let n=this._chunks;if(this._normalizeEOL&&("\r\n"===t&&(this._cr>0||this._lf>0)||"\n"===t&&(this._cr>0||this._crlf>0)))for(let r=0,o=n.length;r<o;r++){let e=n[r].buffer.replace(/\r\n|\r|\n/g,t),i=z0(e);n[r]=new W0(e,i)}const i=new i1(n,this._bom,t,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:i,disposable:i}}}class o1{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(e){if(0===e.length)return;0===this.chunks.length&&hH(e)&&(this.BOM=uH,e=e.substr(1));const t=e.charCodeAt(e.length-1);13===t||t>=55296&&t<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=t):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=t)}_acceptChunk1(e,t){(t||0!==e.length)&&(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+e):this._acceptChunk2(e))}_acceptChunk2(e){const t=function(e,t){e.length=0,e[0]=0;let n=1,i=0,r=0,o=0,s=!0;for(let l=0,c=t.length;l<c;l++){const a=t.charCodeAt(l);13===a?l+1<c&&10===t.charCodeAt(l+1)?(o++,e[n++]=l+2,l++):(i++,e[n++]=l+1):10===a?(r++,e[n++]=l+1):s&&9!==a&&(a<32||a>126)&&(s=!1)}const a=new j0(B0(e),i,r,o,s);return e.length=0,a}(this._tmpLineStarts,e);this.chunks.push(new W0(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf,this.isBasicASCII&&(this.isBasicASCII=t.isBasicASCII),this.isBasicASCII||this.containsRTL||(this.containsRTL=nH(e)),this.isBasicASCII||this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=aH(e))}finish(e=!0){return this._finish(),new r1(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,e)}_finish(){if(0===this.chunks.length&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;let e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);let t=z0(e.buffer);e.lineStarts=t,13===this._previousChar&&this.cr++}}}class s1{constructor(){this.changeType=1}}class a1{constructor(e,t,n,i,r){this.ownerId=e,this.lineNumber=t,this.column=n,this.options=i,this.order=r}static applyInjectedText(e,t){if(!t||0===t.length)return e;let n="",i=0;for(const r of t)n+=e.substring(i,r.column-1),i=r.column-1,n+=r.options.content;return n+=e.substring(i),n}static fromDecorations(e){const t=[];for(const n of e)n.options.before&&n.options.before.content.length>0&&t.push(new a1(n.ownerId,n.range.startLineNumber,n.range.startColumn,n.options.before,0)),n.options.after&&n.options.after.content.length>0&&t.push(new a1(n.ownerId,n.range.endLineNumber,n.range.endColumn,n.options.after,1));return t.sort(((e,t)=>e.lineNumber===t.lineNumber?e.column===t.column?e.order-t.order:e.column-t.column:e.lineNumber-t.lineNumber)),t}}class l1{constructor(e,t,n){this.changeType=2,this.lineNumber=e,this.detail=t,this.injectedText=n}}class c1{constructor(e,t){this.changeType=3,this.fromLineNumber=e,this.toLineNumber=t}}class u1{constructor(e,t,n,i){this.changeType=4,this.injectedTexts=i,this.fromLineNumber=e,this.toLineNumber=t,this.detail=n}}class h1{constructor(){this.changeType=5}}class d1{constructor(e,t,n,i){this.changes=e,this.versionId=t,this.isUndoing=n,this.isRedoing=i,this.resultingSelection=null}containsEvent(e){for(let t=0,n=this.changes.length;t<n;t++){if(this.changes[t].changeType===e)return!0}return!1}static merge(e,t){const n=[].concat(e.changes).concat(t.changes),i=t.versionId,r=e.isUndoing||t.isUndoing,o=e.isRedoing||t.isRedoing;return new d1(n,i,r,o)}}class f1{constructor(e){this.changes=e}}class p1{constructor(e,t){this.rawContentChangedEvent=e,this.contentChangedEvent=t}merge(e){const t=d1.merge(this.rawContentChangedEvent,e.rawContentChangedEvent),n=p1._mergeChangeEvents(this.contentChangedEvent,e.contentChangedEvent);return new p1(t,n)}static _mergeChangeEvents(e,t){return{changes:[].concat(e.changes).concat(t.changes),eol:t.eol,versionId:t.versionId,isUndoing:e.isUndoing||t.isUndoing,isRedoing:e.isRedoing||t.isRedoing,isFlush:e.isFlush||t.isFlush}}}class g1{constructor(){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0}_reset(e){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0,e&&this._setBeginState(0,e)}flush(e){this._reset(e)}get invalidLineStartIndex(){return this._invalidLineStartIndex}_invalidateLine(e){e<this._len&&(this._valid[e]=!1),e<this._invalidLineStartIndex&&(this._invalidLineStartIndex=e)}_isValid(e){return e<this._len&&this._valid[e]}getBeginState(e){return e<this._len?this._beginState[e]:null}_ensureLine(e){for(;e>=this._len;)this._beginState[this._len]=null,this._valid[this._len]=!1,this._len++}_deleteLines(e,t){0!==t&&(e+t>this._len&&(t=this._len-e),this._beginState.splice(e,t),this._valid.splice(e,t),this._len-=t)}_insertLines(e,t){if(0===t)return;const n=[],i=[];for(let r=0;r<t;r++)n[r]=null,i[r]=!1;this._beginState=kY(this._beginState,e,n),this._valid=kY(this._valid,e,i),this._len+=t}_setValid(e,t){this._ensureLine(e),this._valid[e]=t}_setBeginState(e,t){this._ensureLine(e),this._beginState[e]=t}setEndState(e,t,n){if(this._setValid(t,!0),this._invalidLineStartIndex=t+1,t===e-1)return;const i=this.getBeginState(t+1);if(null===i||!n.equals(i))return this._setBeginState(t+1,n),void this._invalidateLine(t+1);let r=t+1;for(;r<e&&this._isValid(r);)r++;this._invalidLineStartIndex=r}setFakeTokens(e){this._setValid(e,!1)}applyEdits(e,t){const n=e.endLineNumber-e.startLineNumber,i=t;for(let r=Math.min(n,i);r>=0;r--)this._invalidateLine(e.startLineNumber+r-1);this._acceptDeleteRange(e),this._acceptInsertText(new lj(e.startLineNumber,e.startColumn),t)}_acceptDeleteRange(e){e.startLineNumber-1>=this._len||this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t){e.lineNumber-1>=this._len||this._insertLines(e.lineNumber,t)}}class m1 extends KP{constructor(e,t){super(),this._textModel=e,this._languageIdCodec=t,this._isDisposed=!1,this._tokenizationStateStore=new g1,this._tokenizationSupport=null,this._register(rq.onDidChange((e=>{const t=this._textModel.getLanguageId();-1!==e.changedLanguages.indexOf(t)&&(this._resetTokenizationState(),this._textModel.clearTokens())}))),this._register(this._textModel.onDidChangeContentFast((e=>{if(e.isFlush)this._resetTokenizationState();else{for(let t=0,n=e.changes.length;t<n;t++){const n=e.changes[t],[i]=q0(n.text);this._tokenizationStateStore.applyEdits(n.range,i)}this._beginBackgroundTokenization()}}))),this._register(this._textModel.onDidChangeAttached((()=>{this._beginBackgroundTokenization()}))),this._register(this._textModel.onDidChangeLanguage((()=>{this._resetTokenizationState(),this._textModel.clearTokens()}))),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}_resetTokenizationState(){const[e,t]=function(e){const t=e.getLanguageId();let n=e.isTooLargeForTokenization()?null:rq.get(t),i=null;if(n)try{i=n.getInitialState()}catch(nR){IP(nR),n=null}return[n,i]}(this._textModel);this._tokenizationSupport=e,this._tokenizationStateStore.flush(t),this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&YR((()=>{this._isDisposed||this._revalidateTokensNow()}))}_revalidateTokensNow(){const e=this._textModel.getLineCount(),t=new G0,n=QP.create(!1);let i=-1;for(;this._hasLinesToTokenize()&&!(n.elapsed()>1)&&(i=this._tokenizeOneInvalidLine(t),!(i>=e)););this._beginBackgroundTokenization(),this._textModel.setTokens(t.tokens,!this._hasLinesToTokenize())}tokenizeViewport(e,t){const n=new G0;this._tokenizeViewport(n,e,t),this._textModel.setTokens(n.tokens,!this._hasLinesToTokenize())}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(e){const t=new G0;this._updateTokensUntilLine(t,e),this._textModel.setTokens(t.tokens,!this._hasLinesToTokenize())}isCheapToTokenize(e){if(!this._tokenizationSupport)return!0;const t=this._tokenizationStateStore.invalidLineStartIndex+1;return!(e>t)&&(e<t||this._textModel.getLineLength(e)<2048)}_hasLinesToTokenize(){return!!this._tokenizationSupport&&this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount()}_tokenizeOneInvalidLine(e){if(!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const t=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(e,t),t}_updateTokensUntilLine(e,t){if(!this._tokenizationSupport)return;const n=this._textModel.getLanguageId(),i=this._textModel.getLineCount(),r=t-1;for(let o=this._tokenizationStateStore.invalidLineStartIndex;o<=r;o++){const t=this._textModel.getLineContent(o+1),r=this._tokenizationStateStore.getBeginState(o),s=v1(this._languageIdCodec,n,this._tokenizationSupport,t,!0,r);e.add(o+1,s.tokens),this._tokenizationStateStore.setEndState(i,o,s.endState),o=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(e,t,n){if(!this._tokenizationSupport)return;if(n<=this._tokenizationStateStore.invalidLineStartIndex)return;if(t<=this._tokenizationStateStore.invalidLineStartIndex)return void this._updateTokensUntilLine(e,n);let i=this._textModel.getLineFirstNonWhitespaceColumn(t);const r=[];let o=null;for(let l=t-1;i>1&&l>=1;l--){const e=this._textModel.getLineFirstNonWhitespaceColumn(l);if(0!==e&&e<i){if(o=this._tokenizationStateStore.getBeginState(l-1),o)break;r.push(this._textModel.getLineContent(l)),i=e}}o||(o=this._tokenizationSupport.getInitialState());const s=this._textModel.getLanguageId();let a=o;for(let l=r.length-1;l>=0;l--){a=v1(this._languageIdCodec,s,this._tokenizationSupport,r[l],!1,a).endState}for(let l=t;l<=n;l++){const t=this._textModel.getLineContent(l),n=v1(this._languageIdCodec,s,this._tokenizationSupport,t,!0,a);e.add(l,n.tokens),this._tokenizationStateStore.setFakeTokens(l-1),a=n.endState}}}function v1(e,t,n,i,r,o){let s=null;if(n)try{s=n.tokenize2(i,r,o.clone(),0)}catch(nR){IP(nR)}return s||(s=function(e,t,n,i){let r=new Uint32Array(2);return r[0]=i,r[1]=(16384|e<<0|2<<23)>>>0,new fj(r,null===n?oq:n)}(e.encodeLanguageId(t),0,o,0)),GY.convertToEndOffset(s.tokens,i.length),s}function y1(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}class b1{constructor(e,t,n,i=1){this._rgbaBrand=void 0,this.r=0|Math.min(255,Math.max(0,e)),this.g=0|Math.min(255,Math.max(0,t)),this.b=0|Math.min(255,Math.max(0,n)),this.a=y1(Math.max(Math.min(1,i),0),3)}static equals(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}}class _1{constructor(e,t,n,i){this._hslaBrand=void 0,this.h=0|Math.max(Math.min(360,e),0),this.s=y1(Math.max(Math.min(1,t),0),3),this.l=y1(Math.max(Math.min(1,n),0),3),this.a=y1(Math.max(Math.min(1,i),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a}static fromRGBA(e){const t=e.r/255,n=e.g/255,i=e.b/255,r=e.a,o=Math.max(t,n,i),s=Math.min(t,n,i);let a=0,l=0;const c=(s+o)/2,u=o-s;if(u>0){switch(l=Math.min(c<=.5?u/(2*c):u/(2-2*c),1),o){case t:a=(n-i)/u+(n<i?6:0);break;case n:a=(i-t)/u+2;break;case i:a=(t-n)/u+4}a*=60,a=Math.round(a)}return new _1(a,l,c,r)}static _hue2rgb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}static toRGBA(e){const t=e.h/360,{s:n,l:i,a:r}=e;let o,s,a;if(0===n)o=s=a=i;else{const e=i<.5?i*(1+n):i+n-i*n,r=2*i-e;o=_1._hue2rgb(r,e,t+1/3),s=_1._hue2rgb(r,e,t),a=_1._hue2rgb(r,e,t-1/3)}return new b1(Math.round(255*o),Math.round(255*s),Math.round(255*a),r)}}class w1{constructor(e,t,n,i){this._hsvaBrand=void 0,this.h=0|Math.max(Math.min(360,e),0),this.s=y1(Math.max(Math.min(1,t),0),3),this.v=y1(Math.max(Math.min(1,n),0),3),this.a=y1(Math.max(Math.min(1,i),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a}static fromRGBA(e){const t=e.r/255,n=e.g/255,i=e.b/255,r=Math.max(t,n,i),o=r-Math.min(t,n,i),s=0===r?0:o/r;let a;return a=0===o?0:r===t?((n-i)/o%6+6)%6:r===n?(i-t)/o+2:(t-n)/o+4,new w1(Math.round(60*a),s,r,e.a)}static toRGBA(e){const{h:t,s:n,v:i,a:r}=e,o=i*n,s=o*(1-Math.abs(t/60%2-1)),a=i-o;let[l,c,u]=[0,0,0];return t<60?(l=o,c=s):t<120?(l=s,c=o):t<180?(c=o,u=s):t<240?(c=s,u=o):t<300?(l=s,u=o):t<=360&&(l=o,u=s),l=Math.round(255*(l+a)),c=Math.round(255*(c+a)),u=Math.round(255*(u+a)),new b1(l,c,u,r)}}class C1{constructor(e){if(!e)throw new Error("Color needs a value");if(e instanceof b1)this.rgba=e;else if(e instanceof _1)this._hsla=e,this.rgba=_1.toRGBA(e);else{if(!(e instanceof w1))throw new Error("Invalid color ctor argument");this._hsva=e,this.rgba=w1.toRGBA(e)}}static fromHex(e){return C1.Format.CSS.parseHex(e)||C1.red}get hsla(){return this._hsla?this._hsla:_1.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:w1.fromRGBA(this.rgba)}equals(e){return!!e&&b1.equals(this.rgba,e.rgba)&&_1.equals(this.hsla,e.hsla)&&w1.equals(this.hsva,e.hsva)}getRelativeLuminance(){return y1(.2126*C1._relativeLuminanceForComponent(this.rgba.r)+.7152*C1._relativeLuminanceForComponent(this.rgba.g)+.0722*C1._relativeLuminanceForComponent(this.rgba.b),4)}static _relativeLuminanceForComponent(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}isLighter(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128}isLighterThan(e){return this.getRelativeLuminance()>e.getRelativeLuminance()}isDarkerThan(e){return this.getRelativeLuminance()<e.getRelativeLuminance()}lighten(e){return new C1(new _1(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*e,this.hsla.a))}darken(e){return new C1(new _1(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*e,this.hsla.a))}transparent(e){const{r:t,g:n,b:i,a:r}=this.rgba;return new C1(new b1(t,n,i,r*e))}isTransparent(){return 0===this.rgba.a}isOpaque(){return 1===this.rgba.a}opposite(){return new C1(new b1(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=C1.Format.CSS.format(this)),this._toString}static getLighterColor(e,t,n){if(e.isLighterThan(t))return e;n=n||.5;const i=e.getRelativeLuminance(),r=t.getRelativeLuminance();return n=n*(r-i)/r,e.lighten(n)}static getDarkerColor(e,t,n){if(e.isDarkerThan(t))return e;n=n||.5;const i=e.getRelativeLuminance();return n=n*(i-t.getRelativeLuminance())/i,e.darken(n)}}var x1,k1;C1.white=new C1(new b1(255,255,255,1)),C1.black=new C1(new b1(0,0,0,1)),C1.red=new C1(new b1(255,0,0,1)),C1.blue=new C1(new b1(0,0,255,1)),C1.cyan=new C1(new b1(0,255,255,1)),C1.lightgrey=new C1(new b1(211,211,211,1)),C1.transparent=new C1(new b1(0,0,0,0)),x1=C1||(C1={}),function(e){function t(e){const t=e.toString(16);return 2!==t.length?"0"+t:t}function n(e){switch(e){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15}return 0}e.formatRGB=function(e){return 1===e.rgba.a?`rgb(${e.rgba.r}, ${e.rgba.g}, ${e.rgba.b})`:x1.Format.CSS.formatRGBA(e)},e.formatRGBA=function(e){return`rgba(${e.rgba.r}, ${e.rgba.g}, ${e.rgba.b}, ${+e.rgba.a.toFixed(2)})`},e.formatHSL=function(e){return 1===e.hsla.a?`hsl(${e.hsla.h}, ${(100*e.hsla.s).toFixed(2)}%, ${(100*e.hsla.l).toFixed(2)}%)`:x1.Format.CSS.formatHSLA(e)},e.formatHSLA=function(e){return`hsla(${e.hsla.h}, ${(100*e.hsla.s).toFixed(2)}%, ${(100*e.hsla.l).toFixed(2)}%, ${e.hsla.a.toFixed(2)})`},e.formatHex=function(e){return`#${t(e.rgba.r)}${t(e.rgba.g)}${t(e.rgba.b)}`},e.formatHexA=function(e,n=!1){return n&&1===e.rgba.a?x1.Format.CSS.formatHex(e):`#${t(e.rgba.r)}${t(e.rgba.g)}${t(e.rgba.b)}${t(Math.round(255*e.rgba.a))}`},e.format=function(e){return e.isOpaque()?x1.Format.CSS.formatHex(e):x1.Format.CSS.formatRGBA(e)},e.parseHex=function(e){const t=e.length;if(0===t)return null;if(35!==e.charCodeAt(0))return null;if(7===t){const t=16*n(e.charCodeAt(1))+n(e.charCodeAt(2)),i=16*n(e.charCodeAt(3))+n(e.charCodeAt(4)),r=16*n(e.charCodeAt(5))+n(e.charCodeAt(6));return new x1(new b1(t,i,r,1))}if(9===t){const t=16*n(e.charCodeAt(1))+n(e.charCodeAt(2)),i=16*n(e.charCodeAt(3))+n(e.charCodeAt(4)),r=16*n(e.charCodeAt(5))+n(e.charCodeAt(6)),o=16*n(e.charCodeAt(7))+n(e.charCodeAt(8));return new x1(new b1(t,i,r,o/255))}if(4===t){const t=n(e.charCodeAt(1)),i=n(e.charCodeAt(2)),r=n(e.charCodeAt(3));return new x1(new b1(16*t+t,16*i+i,16*r+r))}if(5===t){const t=n(e.charCodeAt(1)),i=n(e.charCodeAt(2)),r=n(e.charCodeAt(3)),o=n(e.charCodeAt(4));return new x1(new b1(16*t+t,16*i+i,16*r+r,(16*o+o)/255))}return null}}((k1=x1.Format||(x1.Format={})).CSS||(k1.CSS={}));const S1=Fz("undoRedoService");class D1{constructor(e,t){this.resource=e,this.elements=t}}class E1{constructor(){this.id=E1._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}E1._ID=0,E1.None=new E1;class L1{constructor(){this.id=L1._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}L1._ID=0,L1.None=new L1;class T1{constructor(e,t,n){this.range=e,this.nestingLevel=t,this.isInvalid=n}}class N1 extends class{constructor(e,t,n,i){this.range=e,this.openingBracketRange=t,this.closingBracketRange=n,this.nestingLevel=i}}{constructor(e,t,n,i,r){super(e,t,n,i),this.minVisibleColumnIndentation=r}}class M1{constructor(e,t){this.lineCount=e,this.columnCount=t}toString(){return`${this.lineCount},${this.columnCount}`}}const A1=Math.pow(2,26);function I1(e,t){return e*A1+t}function O1(e){const t=e,n=Math.floor(t/A1);return new M1(n,t-n*A1)}function F1(e,t){return t<A1?e+t:e-e%A1+t}function R1(e,t){return e<t}function P1(e,t){return e<=t}function B1(e,t){return e>=t}function j1(e){return I1(e.lineNumber-1,e.column-1)}function z1(e,t){const n=e,i=Math.floor(n/A1),r=n-i*A1,o=t,s=Math.floor(o/A1);return new cj(i+1,r+1,s+1,o-s*A1+1)}class V1{constructor(e,t,n){this.startOffset=e,this.endOffset=t,this.newLength=n}}class W1{constructor(e,t){this.documentLength=t,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=e.map((e=>H1.from(e)))}getOffsetBeforeChange(e){return this.adjustNextEdit(e),this.translateCurToOld(e)}getDistanceToNextChange(e){this.adjustNextEdit(e);const t=this.edits[this.nextEditIdx];return function(e,t){const n=e,i=t;if(i-n<=0)return 0;const r=Math.floor(n/A1),o=Math.floor(i/A1),s=i-o*A1;if(r===o)return I1(0,s-(n-r*A1));return I1(o-r,s)}(e,t?this.translateOldToCur(t.offsetObj):this.documentLength)}translateOldToCur(e){return e.lineCount===this.deltaLineIdxInOld?I1(e.lineCount+this.deltaOldToNewLineCount,e.columnCount+this.deltaOldToNewColumnCount):I1(e.lineCount+this.deltaOldToNewLineCount,e.columnCount)}translateCurToOld(e){const t=O1(e);return t.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?I1(t.lineCount-this.deltaOldToNewLineCount,t.columnCount-this.deltaOldToNewColumnCount):I1(t.lineCount-this.deltaOldToNewLineCount,t.columnCount)}adjustNextEdit(e){for(;this.nextEditIdx<this.edits.length;){const t=this.edits[this.nextEditIdx],n=this.translateOldToCur(t.endOffsetAfterObj);if(!P1(n,e))break;{this.nextEditIdx++;const e=O1(n),i=O1(this.translateOldToCur(t.endOffsetBeforeObj)),r=e.lineCount-i.lineCount;this.deltaOldToNewLineCount+=r;const o=this.deltaLineIdxInOld===t.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,s=e.columnCount-i.columnCount;this.deltaOldToNewColumnCount=o+s,this.deltaLineIdxInOld=t.endOffsetBeforeObj.lineCount}}}}class H1{constructor(e,t,n){this.endOffsetBeforeObj=O1(t),this.endOffsetAfterObj=O1(F1(e,n)),this.offsetObj=O1(e)}static from(e){return new H1(e.startOffset,e.endOffset,e.newLength)}}class U1{static visibleColumnFromColumn(e,t,n){const i=e.length,r=t-1<i?t-1:i;let o=0,s=0;for(;s<r;){const t=JW(e,r,s);if(s+=t>=65536?2:1,9===t)o=U1.nextRenderTabStop(o,n);else{let n=fH(t);for(;s<r;){const t=JW(e,r,s),i=fH(t);if(pH(n,i))break;s+=t>=65536?2:1,n=i}lH(t)||cH(t)?o+=2:o+=1}}return o}static visibleColumnsByColumns(e,t){const n=e.length;let i=new Array;i.push(-1);let r=0,o=0;for(;o<n;){const s=JW(e,n,o);if(o+=s>=65536?2:1,i.push(r),s>=65536&&i.push(r),9===s)r=U1.nextRenderTabStop(r,t);else{let t=fH(s);for(;o<n;){const a=JW(e,n,o),l=fH(a);if(pH(t,l))break;o+=a>=65536?2:1,i.push(r),s>=65536&&i.push(r),t=l}lH(s)||cH(s)?r+=2:r+=1}}return i.push(r),i}static visibleColumnFromColumn2(e,t,n){return this.visibleColumnFromColumn(t.getLineContent(n.lineNumber),n.column,e.tabSize)}static columnFromVisibleColumn(e,t,n){if(t<=0)return 1;const i=e.length;let r=0,o=1,s=0;for(;s<i;){const a=JW(e,i,s);let l;if(s+=a>=65536?2:1,9===a)l=U1.nextRenderTabStop(r,n);else{let t=fH(a);for(;s<i;){const n=JW(e,i,s),r=fH(n);if(pH(t,r))break;s+=n>=65536?2:1,t=r}l=lH(a)||cH(a)?r+2:r+1}const c=s+1;if(l>=t){return l-t<t-r?c:o}r=l,o=c}return i+1}static columnFromVisibleColumn2(e,t,n,i){let r=this.columnFromVisibleColumn(t.getLineContent(n),i,e.tabSize),o=t.getLineMinColumn(n);if(r<o)return o;let s=t.getLineMaxColumn(n);return r>s?s:r}static nextRenderTabStop(e,t){return e+t-e%t}static nextIndentTabStop(e,t){return e+t-e%t}static prevRenderTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}static prevIndentTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}}const $1=new Array;class q1{constructor(e,t){this.items=e,this.additionalItems=t}static create(e,t){if(e<=128&&0===t.length){let n=q1.cache[e];return n||(n=new q1(e,t),q1.cache[e]=n),n}return new q1(e,t)}static getEmpty(){return this.empty}add(e,t){const n=t.getKey(e);let i=n>>5;if(0===i){const e=1<<n|this.items;return e===this.items?this:q1.create(e,this.additionalItems)}i--;const r=this.additionalItems.slice(0);for(;r.length<i;)r.push(0);return r[i]|=1<<(31&n),q1.create(this.items,r)}merge(e){const t=this.items|e.items;if(this.additionalItems===$1&&e.additionalItems===$1)return t===this.items?this:t===e.items?e:q1.create(t,$1);const n=new Array;for(let i=0;i<Math.max(this.additionalItems.length,e.additionalItems.length);i++){const t=this.additionalItems[i]||0,r=e.additionalItems[i]||0;n.push(t|r)}return q1.create(t,n)}intersects(e){if(0!=(this.items&e.items))return!0;for(let t=0;t<Math.min(this.additionalItems.length,e.additionalItems.length);t++)if(0!=(this.additionalItems[t]&e.additionalItems[t]))return!0;return!1}}q1.cache=new Array(129),q1.empty=q1.create(0,$1);const K1={getKey:e=>e};class Y1{constructor(){this.items=new Map}getKey(e){let t=this.items.get(e);return void 0===t&&(t=this.items.size,this.items.set(e,t)),t}}class G1{constructor(e){this._length=e}get length(){return this._length}}class X1 extends G1{constructor(e,t,n,i,r){super(e),this.openingBracket=t,this.child=n,this.closingBracket=i,this.missingOpeningBracketIds=r}static create(e,t,n){let i=e.length;return t&&(i=F1(i,t.length)),n&&(i=F1(i,n.length)),new X1(i,e,t,n,t?t.missingOpeningBracketIds:q1.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(e){switch(e){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const e=new Array;return e.push(this.openingBracket),this.child&&e.push(this.child),this.closingBracket&&e.push(this.closingBracket),e}canBeReused(e){return null!==this.closingBracket&&!e.intersects(this.missingOpeningBracketIds)}deepClone(){return new X1(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(e,t){return this.child?this.child.computeMinIndentation(F1(e,this.openingBracket.length),t):Number.MAX_SAFE_INTEGER}}class Z1 extends G1{constructor(e,t,n){super(e),this.listHeight=t,this._missingOpeningBracketIds=n,this.cachedMinIndentation=-1}static create23(e,t,n,i=!1){let r=e.length,o=e.missingOpeningBracketIds;if(e.listHeight!==t.listHeight)throw new Error("Invalid list heights");if(r=F1(r,t.length),o=o.merge(t.missingOpeningBracketIds),n){if(e.listHeight!==n.listHeight)throw new Error("Invalid list heights");r=F1(r,n.length),o=o.merge(n.missingOpeningBracketIds)}return i?new Q1(r,e.listHeight+1,e,t,n,o):new J1(r,e.listHeight+1,e,t,n,o)}static getEmpty(){return new t2(0,0,[],q1.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const e=this.childrenLength;if(0===e)return;const t=this.getChild(e-1),n=4===t.kind?t.toMutable():t;return t!==n&&this.setChild(e-1,n),n}makeFirstElementMutable(){this.throwIfImmutable();if(0===this.childrenLength)return;const e=this.getChild(0),t=4===e.kind?e.toMutable():e;return e!==t&&this.setChild(0,t),t}canBeReused(e){if(e.intersects(this.missingOpeningBracketIds))return!1;let t,n=this;for(;4===n.kind&&(t=n.childrenLength)>0;)n=n.getChild(t-1);return n.canBeReused(e)}handleChildrenChanged(){this.throwIfImmutable();const e=this.childrenLength;let t=this.getChild(0).length,n=this.getChild(0).missingOpeningBracketIds;for(let i=1;i<e;i++){const e=this.getChild(i);t=F1(t,e.length),n=n.merge(e.missingOpeningBracketIds)}this._length=t,this._missingOpeningBracketIds=n,this.cachedMinIndentation=-1}computeMinIndentation(e,t){if(-1!==this.cachedMinIndentation)return this.cachedMinIndentation;let n=Number.MAX_SAFE_INTEGER,i=e;for(let r=0;r<this.childrenLength;r++){const e=this.getChild(r);e&&(n=Math.min(n,e.computeMinIndentation(i,t)),i=F1(i,e.length))}return this.cachedMinIndentation=n,n}}class J1 extends Z1{constructor(e,t,n,i,r,o){super(e,t,o),this._item1=n,this._item2=i,this._item3=r}get childrenLength(){return null!==this._item3?3:2}getChild(e){switch(e){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(e,t){switch(e){case 0:return void(this._item1=t);case 1:return void(this._item2=t);case 2:return void(this._item3=t)}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new J1(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=e,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item3;return this._item3=null,this.handleChildrenChanged(),e}prependChildOfSameHeight(e){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=e,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),e}toMutable(){return this}}class Q1 extends J1{toMutable(){return new J1(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class e2 extends Z1{constructor(e,t,n,i){super(e,t,i),this._children=n}get childrenLength(){return this._children.length}getChild(e){return this._children[e]}setChild(e,t){this._children[e]=t}get children(){return this._children}deepClone(){const e=new Array(this._children.length);for(let t=0;t<this._children.length;t++)e[t]=this._children[t].deepClone();return new e2(this.length,this.listHeight,e,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){this.throwIfImmutable(),this._children.push(e),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const e=this._children.pop();return this.handleChildrenChanged(),e}prependChildOfSameHeight(e){this.throwIfImmutable(),this._children.unshift(e),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const e=this._children.shift();return this.handleChildrenChanged(),e}toMutable(){return this}}class t2 extends e2{toMutable(){return new e2(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const n2=[];class i2 extends G1{get listHeight(){return 0}get childrenLength(){return 0}getChild(e){return null}get children(){return n2}deepClone(){return this}}class r2 extends i2{get kind(){return 0}get missingOpeningBracketIds(){return q1.getEmpty()}canBeReused(e){return!0}computeMinIndentation(e,t){const n=O1(e),i=(0===n.columnCount?n.lineCount:n.lineCount+1)+1,r=(o=F1(e,this.length),Math.floor(o/A1)+1);var o;let s=Number.MAX_SAFE_INTEGER;for(let a=i;a<=r;a++){const e=t.getLineFirstNonWhitespaceColumn(a),n=t.getLineContent(a);if(0===e)continue;const i=U1.visibleColumnFromColumn(n,e,t.getOptions().tabSize);s=Math.min(s,i)}return s}}class o2 extends i2{constructor(e){super(e)}static create(e){const t=e,n=o2.cacheByLength.get(t);if(n)return n;const i=new o2(e);return o2.cacheByLength.set(t,i),i}get kind(){return 1}get missingOpeningBracketIds(){return q1.getEmpty()}canBeReused(e){return!1}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}o2.cacheByLength=new Map;class s2 extends i2{constructor(e,t){super(t),this.missingOpeningBracketIds=e}get kind(){return 3}canBeReused(e){return!e.intersects(this.missingOpeningBracketIds)}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}class a2{constructor(e,t,n,i,r){this.length=e,this.kind=t,this.bracketId=n,this.bracketIds=i,this.astNode=r}}class l2{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.reader=new c2(this.textModel,this.bracketTokens),this._offset=0,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return I1(this.textBufferLineCount,this.textBufferLastLineLength)}skip(e){this.didPeek=!1,this._offset=F1(this._offset,e);const t=O1(this._offset);this.reader.setPosition(t.lineCount,t.columnCount)}read(){let e;return this.peeked?(this.didPeek=!1,e=this.peeked):e=this.reader.read(),e&&(this._offset=F1(this._offset,e.length)),e}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class c2{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}setPosition(e,t){e===this.lineIdx?(this.lineCharOffset=t,this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=e,this.lineCharOffset=t,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const e=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=e.length,e}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;null===this.line&&(this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const e=this.lineIdx,t=this.lineCharOffset;let n=0;for(;;){const i=this.lineTokens,r=i.getCount();let o=null;if(this.lineTokenOffset<r){const s=i.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<r&&s===i.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const a=0===M$.getTokenType(s),l=i.getEndOffset(this.lineTokenOffset);if(a&&l!==this.lineCharOffset){const e=i.getLanguageId(this.lineTokenOffset),t=this.line.substring(this.lineCharOffset,l),n=this.bracketTokens.getSingleLanguageBracketTokens(e),r=n.regExpGlobal;if(r){r.lastIndex=0;const e=r.exec(t);e&&(o=n.getToken(e[0]),o&&(this.lineCharOffset+=e.index))}}if(n+=l-this.lineCharOffset,o){if(e!==this.lineIdx||t!==this.lineCharOffset){this.peekedToken=o;break}return this.lineCharOffset+=o.length,o}this.lineTokenOffset++,this.lineCharOffset=l}else{if(this.lineIdx===this.textBufferLineCount-1)break;if(this.lineIdx++,this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,n+=33,n>1e3)break}if(n>1500)break}const i=(r=e,o=t,s=this.lineIdx,a=this.lineCharOffset,r!==s?I1(s-r,a):I1(0,a-o));var r,o,s,a;return new a2(i,0,-1,q1.getEmpty(),new r2(i))}}class u2{constructor(e,t){this.text=e,this._offset=0,this.idx=0;const n=t.getRegExpStr()?new RegExp(t.getRegExpStr()+"|\n","g"):null,i=[];let r,o=0,s=0,a=0,l=0;const c=new Array;for(let d=0;d<60;d++)c.push(new a2(I1(0,d),0,-1,q1.getEmpty(),new r2(I1(0,d))));const u=new Array;for(let d=0;d<60;d++)u.push(new a2(I1(1,d),0,-1,q1.getEmpty(),new r2(I1(1,d))));if(n)for(n.lastIndex=0;null!==(r=n.exec(e));){const e=r.index,n=r[0];if("\n"===n)o++,s=e+1;else{if(a!==e){let t;if(l===o){const n=e-a;if(n<c.length)t=c[n];else{const e=I1(0,n);t=new a2(e,0,-1,q1.getEmpty(),new r2(e))}}else{const n=o-l,i=e-s;if(1===n&&i<u.length)t=u[i];else{const e=I1(n,i);t=new a2(e,0,-1,q1.getEmpty(),new r2(e))}}i.push(t)}i.push(t.getToken(n)),a=e+n.length,l=o}}const h=e.length;if(a!==h){const e=l===o?I1(0,h-a):I1(o-l,h-s);i.push(new a2(e,0,-1,q1.getEmpty(),new r2(e)))}this.length=I1(o,h-s),this.tokens=i}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(e){throw new jP}}class h2{constructor(e){this.map=e,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(e,t){function n(e,n){return t.getKey(`${e}:::${n}`)}const i=e.characterPair.getColorizedBrackets(),r=new Map,o=new Set;for(const[a,l]of i){o.add(a);let t=r.get(l);const i=n(e.languageId,a);t||(t={openingBrackets:q1.getEmpty(),first:i},r.set(l,t)),t.openingBrackets=t.openingBrackets.add(i,K1)}const s=new Map;for(const[a,l]of r){const e=I1(0,a.length);s.set(a,new a2(e,2,l.first,l.openingBrackets,o2.create(e)))}for(const a of o){const t=I1(0,a.length),i=n(e.languageId,a);s.set(a,new a2(t,1,i,q1.getEmpty().add(i,K1),o2.create(t)))}return new h2(s)}getRegExpStr(){if(this.isEmpty)return null;{const e=[...this.map.keys()];return e.sort(),e.reverse(),e.map((e=>function(e){const t=MW(e);return/^[\w ]+$/.test(e)?`\\b${t}\\b`:t}(e))).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const e=this.getRegExpStr();this._regExpGlobal=e?new RegExp(e,"g"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(e){return this.map.get(e)}get isEmpty(){return 0===this.map.size}}class d2{constructor(e,t){this.denseKeyProvider=e,this.getLanguageConfiguration=t,this.languageIdToBracketTokens=new Map}didLanguageChange(e){const t=this.languageIdToBracketTokens.get(e);if(!t)return!1;const n=h2.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider).getRegExpStr();return t.getRegExpStr()!==n}getSingleLanguageBracketTokens(e){let t=this.languageIdToBracketTokens.get(e);return t||(t=h2.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider),this.languageIdToBracketTokens.set(e,t)),t}}function f2(e,t=!1){if(0===e.length)return null;if(1===e.length)return e[0];let n=e.length;for(;n>3;){const i=n>>1;for(let r=0;r<i;r++){const i=r<<1;e[r]=Z1.create23(e[i],e[i+1],i+3===n?e[i+2]:null,t)}n=i}return Z1.create23(e[0],e[1],n>=3?e[2]:null,t)}function p2(e,t){return Math.abs(e.listHeight-t.listHeight)}function g2(e,t){return e.listHeight===t.listHeight?Z1.create23(e,t,null,!1):e.listHeight>t.listHeight?function(e,t){let n=e=e.toMutable();const i=new Array;let r;for(;;){if(t.listHeight===n.listHeight){r=t;break}if(4!==n.kind)throw new Error("unexpected");i.push(n),n=n.makeLastElementMutable()}for(let o=i.length-1;o>=0;o--){const e=i[o];r?e.childrenLength>=3?r=Z1.create23(e.unappendChild(),r,null,!1):(e.appendChildOfSameHeight(r),r=void 0):e.handleChildrenChanged()}return r?Z1.create23(e,r,null,!1):e}(e,t):function(e,t){let n=e=e.toMutable();const i=new Array;for(;t.listHeight!==n.listHeight;){if(4!==n.kind)throw new Error("unexpected");i.push(n),n=n.makeFirstElementMutable()}let r=t;for(let o=i.length-1;o>=0;o--){const e=i[o];r?e.childrenLength>=3?r=Z1.create23(r,e.unprependChild(),null,!1):(e.prependChildOfSameHeight(r),r=void 0):e.handleChildrenChanged()}return r?Z1.create23(r,e,null,!1):e}(t,e)}class m2{constructor(e){this.lastOffset=0,this.nextNodes=[e],this.offsets=[0],this.idxs=[]}readLongestNodeAt(e,t){if(R1(e,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=e;;){const n=y2(this.nextNodes);if(!n)return;const i=y2(this.offsets);if(R1(e,i))return;if(R1(i,e))if(F1(i,n.length)<=e)this.nextNodeAfterCurrent();else{const e=v2(n);-1!==e?(this.nextNodes.push(n.getChild(e)),this.offsets.push(i),this.idxs.push(e)):this.nextNodeAfterCurrent()}else{if(t(n))return this.nextNodeAfterCurrent(),n;{const e=v2(n);if(-1===e)return void this.nextNodeAfterCurrent();this.nextNodes.push(n.getChild(e)),this.offsets.push(i),this.idxs.push(e)}}}}nextNodeAfterCurrent(){for(;;){const e=y2(this.offsets),t=y2(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),0===this.idxs.length)break;const n=y2(this.nextNodes),i=v2(n,this.idxs[this.idxs.length-1]);if(-1!==i){this.nextNodes.push(n.getChild(i)),this.offsets.push(F1(e,t.length)),this.idxs[this.idxs.length-1]=i;break}this.idxs.pop()}}}function v2(e,t=-1){for(;;){if(++t>=e.childrenLength)return-1;if(e.getChild(t))return t}}function y2(e){return e.length>0?e[e.length-1]:void 0}function b2(e,t,n,i){return new _2(e,t,n,i).parseDocument()}class _2{constructor(e,t,n,i){if(this.tokenizer=e,this.createImmutableLists=i,this._itemsConstructed=0,this._itemsFromCache=0,n&&i)throw new Error("Not supported");this.oldNodeReader=n?new m2(n):void 0,this.positionMapper=new W1(t,e.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let e=this.parseList(q1.getEmpty());return e||(e=Z1.getEmpty()),e}parseList(e){const t=new Array;for(;;){const n=this.tokenizer.peek();if(!n||2===n.kind&&n.bracketIds.intersects(e))break;const i=this.parseChild(e);4===i.kind&&0===i.childrenLength||t.push(i)}const n=this.oldNodeReader?function(e){if(0===e.length)return null;if(1===e.length)return e[0];let t=0;function n(){if(t>=e.length)return null;const n=t,i=e[n].listHeight;for(t++;t<e.length&&e[t].listHeight===i;)t++;return t-n>=2?f2(0===n&&t===e.length?e:e.slice(n,t),!1):e[n]}let i=n(),r=n();if(!r)return i;for(let o=n();o;o=n())p2(i,r)<=p2(r,o)?(i=g2(i,r),r=o):r=g2(r,o);return g2(i,r)}(t):f2(t,this.createImmutableLists);return n}parseChild(e){if(this.oldNodeReader){const t=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(0!==t){const n=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),(n=>{if(!R1(n.length,t))return!1;return n.canBeReused(e)}));if(n)return this._itemsFromCache++,this.tokenizer.skip(n.length),n}}this._itemsConstructed++;const t=this.tokenizer.read();switch(t.kind){case 2:return new s2(t.bracketIds,t.length);case 0:return t.astNode;case 1:const n=e.merge(t.bracketIds),i=this.parseList(n),r=this.tokenizer.peek();return r&&2===r.kind&&(r.bracketId===t.bracketId||r.bracketIds.intersects(t.bracketIds))?(this.tokenizer.read(),X1.create(t.astNode,i,r.astNode)):X1.create(t.astNode,i,null);default:throw new Error("unexpected")}}}class w2 extends KP{constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t,this.cache=this._register(new YP),this.onDidChangeEmitter=new nB,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(e.onDidChangeOptions((e=>{this.cache.clear(),this.updateCache()}))),this._register(e.onDidChangeLanguage((e=>{this.cache.clear(),this.updateCache()}))),this._register(this.languageConfigurationService.onDidChange((e=>{var t;e.languageId&&!(null===(t=this.cache.value)||void 0===t?void 0:t.object.didLanguageChange(e.languageId))||(this.cache.clear(),this.updateCache())})))}get isDocumentSupported(){return this.textModel.getValueLength()<=5e6}updateCache(){if(this.bracketsRequested&&this.isDocumentSupported){if(!this.cache.value){const n=new qP;this.cache.value=(e=n.add(new C2(this.textModel,(e=>this.languageConfigurationService.getLanguageConfiguration(e)))),t=n,{object:e,dispose:()=>null==t?void 0:t.dispose()}),n.add(this.cache.value.object.onDidChange((e=>this.onDidChangeEmitter.fire(e)))),this.onDidChangeEmitter.fire()}}else this.cache.clear(),this.onDidChangeEmitter.fire();var e,t}handleContentChanged(e){var t;null===(t=this.cache.value)||void 0===t||t.object.handleContentChanged(e)}getBracketPairsInRange(e){var t;return this.bracketsRequested=!0,this.updateCache(),(null===(t=this.cache.value)||void 0===t?void 0:t.object.getBracketPairsInRange(e,!1))||[]}getBracketPairsInRangeWithMinIndentation(e){var t;return this.bracketsRequested=!0,this.updateCache(),(null===(t=this.cache.value)||void 0===t?void 0:t.object.getBracketPairsInRange(e,!0))||[]}getBracketsInRange(e){var t;return this.bracketsRequested=!0,this.updateCache(),(null===(t=this.cache.value)||void 0===t?void 0:t.object.getBracketsInRange(e))||[]}}class C2 extends KP{constructor(e,t){if(super(),this.textModel=e,this.getLanguageConfiguration=t,this.didChangeEmitter=new nB,this.denseKeyProvider=new Y1,this.brackets=new d2(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this._register(e.onBackgroundTokenizationStateChanged((()=>{if(2===e.backgroundTokenizationState){const e=void 0===this.initialAstWithoutTokens;this.initialAstWithoutTokens=void 0,e||this.didChangeEmitter.fire()}}))),this._register(e.onDidChangeTokens((({ranges:e})=>{const t=e.map((e=>new V1(I1(e.fromLineNumber-1,0),I1(e.toLineNumber,0),I1(e.toLineNumber-e.fromLineNumber+1,0))));this.astWithTokens=this.parseDocumentFromTextBuffer(t,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}))),0===e.backgroundTokenizationState){const e=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),t=new u2(this.textModel.getValue(),e);this.initialAstWithoutTokens=b2(t,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else 2===e.backgroundTokenizationState?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):1===e.backgroundTokenizationState&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(e){return this.brackets.didLanguageChange(e)}handleContentChanged(e){const t=e.changes.map((e=>{const t=cj.lift(e.range);return new V1(j1(t.getStartPosition()),j1(t.getEndPosition()),function(e){const t=FW(e);return I1(t.length-1,t[t.length-1].length)}(e.text))})).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(t,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(t,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(e,t,n){const i=t;return b2(new l2(this.textModel,this.brackets),e,i,n)}getBracketsInRange(e){const t=I1(e.startLineNumber-1,e.startColumn-1),n=I1(e.endLineNumber-1,e.endColumn-1),i=new Array,r=this.initialAstWithoutTokens||this.astWithTokens;return x2(r,0,r.length,t,n,i),i}getBracketPairsInRange(e,t){const n=new Array,i=j1(e.getStartPosition()),r=j1(e.getEndPosition()),o=this.initialAstWithoutTokens||this.astWithTokens,s=new k2(n,t,this.textModel);return S2(o,0,o.length,i,r,s),n}}function x2(e,t,n,i,r,o,s=0){if(1===e.kind){const e=z1(t,n);o.push(new T1(e,s-1,!1))}else if(3===e.kind){const e=z1(t,n);o.push(new T1(e,s-1,!0))}else if(4===e.kind)for(const a of e.children)n=F1(t,a.length),P1(t,r)&&B1(n,i)&&x2(a,t,n,i,r,o,s),t=n;else if(2===e.kind){s++;{const a=e.openingBracket;n=F1(t,a.length),P1(t,r)&&B1(n,i)&&x2(a,t,n,i,r,o,s),t=n}if(e.child){const a=e.child;n=F1(t,a.length),P1(t,r)&&B1(n,i)&&x2(a,t,n,i,r,o,s),t=n}if(e.closingBracket){const a=e.closingBracket;n=F1(t,a.length),P1(t,r)&&B1(n,i)&&x2(a,t,n,i,r,o,s),t=n}}}class k2{constructor(e,t,n){this.result=e,this.includeMinIndentation=t,this.textModel=n}}function S2(e,t,n,i,r,o,s=0){var a;if(2===e.kind){const i=F1(t,e.openingBracket.length);let r=-1;o.includeMinIndentation&&(r=e.computeMinIndentation(t,o.textModel)),o.result.push(new N1(z1(t,n),z1(t,i),e.closingBracket?z1(F1(i,(null===(a=e.child)||void 0===a?void 0:a.length)||0),n):void 0,s,r)),s++}let l=t;for(const c of e.children){const e=l;l=F1(l,c.length),P1(e,r)&&P1(i,l)&&S2(c,e,l,i,r,o,s)}}const D2="base.contributions.colors";const E2=new class{constructor(){this._onDidChangeSchema=new nB,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(e,t,n,i=!1,r){let o={id:e,description:n,defaults:t,needsTransparency:i,deprecationMessage:r};this.colorsById[e]=o;let s={type:"string",description:n,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return r&&(s.deprecationMessage=r),this.colorSchema.properties[e]=s,this.colorReferenceSchema.enum.push(e),this.colorReferenceSchema.enumDescriptions.push(n),this._onDidChangeSchema.fire(),e}resolveDefaultColor(e,t){const n=this.colorsById[e];if(n&&n.defaults){return j3(n.defaults[t.type],t)}}getColorSchema(){return this.colorSchema}toString(){return Object.keys(this.colorsById).sort(((e,t)=>{let n=-1===e.indexOf(".")?0:1,i=-1===t.indexOf(".")?0:1;return n!==i?n-i:e.localeCompare(t)})).map((e=>`- \`${e}\`: ${this.colorsById[e].description}`)).join("\n")}};function L2(e,t,n,i,r){return E2.registerColor(e,t,n,i,r)}rK.add(D2,E2);const T2=L2("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},DR(0,"Overall foreground color. This color is only used if not overridden by a component."));L2("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},DR(0,"Overall foreground color for error messages. This color is only used if not overridden by a component.")),L2("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},DR(0,"The default color for icons in the workbench."));const N2=L2("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},DR(0,"Overall border color for focused elements. This color is only used if not overridden by a component.")),M2=L2("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},DR(0,"An extra border around elements to separate them from others for greater contrast.")),A2=L2("contrastActiveBorder",{light:null,dark:null,hc:N2},DR(0,"An extra border around active elements to separate them from others for greater contrast."));L2("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},DR(0,"Foreground color for links in text.")),L2("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},DR(0,"Foreground color for links in text when clicked on and on mouse hover.")),L2("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:C1.black},DR(0,"Background color for code blocks in text."));const I2=L2("widget.shadow",{dark:R3(C1.black,.36),light:R3(C1.black,.16),hc:null},DR(0,"Shadow color of widgets such as find/replace inside the editor.")),O2=L2("input.background",{dark:"#3C3C3C",light:C1.white,hc:C1.black},DR(0,"Input box background.")),F2=L2("input.foreground",{dark:T2,light:T2,hc:T2},DR(0,"Input box foreground.")),R2=L2("input.border",{dark:null,light:null,hc:M2},DR(0,"Input box border."));L2("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:M2},DR(0,"Border color of activated options in input fields.")),L2("inputOption.activeBackground",{dark:R3(N2,.4),light:R3(N2,.2),hc:C1.transparent},DR(0,"Background color of activated options in input fields.")),L2("inputOption.activeForeground",{dark:C1.white,light:C1.black,hc:null},DR(0,"Foreground color of activated options in input fields."));const P2=L2("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:C1.black},DR(0,"Input validation background color for information severity.")),B2=L2("inputValidation.infoForeground",{dark:null,light:null,hc:null},DR(0,"Input validation foreground color for information severity.")),j2=L2("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:M2},DR(0,"Input validation border color for information severity.")),z2=L2("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:C1.black},DR(0,"Input validation background color for warning severity.")),V2=L2("inputValidation.warningForeground",{dark:null,light:null,hc:null},DR(0,"Input validation foreground color for warning severity.")),W2=L2("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:M2},DR(0,"Input validation border color for warning severity.")),H2=L2("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:C1.black},DR(0,"Input validation background color for error severity.")),U2=L2("inputValidation.errorForeground",{dark:null,light:null,hc:null},DR(0,"Input validation foreground color for error severity.")),$2=L2("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:M2},DR(0,"Input validation border color for error severity.")),q2=L2("dropdown.background",{dark:"#3C3C3C",light:C1.white,hc:C1.black},DR(0,"Dropdown background.")),K2=L2("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:C1.white},DR(0,"Dropdown foreground.")),Y2=L2("button.foreground",{dark:C1.white,light:C1.white,hc:C1.white},DR(0,"Button foreground color.")),G2=L2("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},DR(0,"Button background color.")),X2=L2("button.hoverBackground",{dark:F3(G2,.2),light:O3(G2,.2),hc:null},DR(0,"Button background color when hovering.")),Z2=L2("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:C1.black},DR(0,"Badge background color. Badges are small information labels, e.g. for search results count.")),J2=L2("badge.foreground",{dark:C1.white,light:"#333",hc:C1.white},DR(0,"Badge foreground color. Badges are small information labels, e.g. for search results count.")),Q2=L2("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},DR(0,"Scrollbar shadow to indicate that the view is scrolled.")),e4=L2("scrollbarSlider.background",{dark:C1.fromHex("#797979").transparent(.4),light:C1.fromHex("#646464").transparent(.4),hc:R3(M2,.6)},DR(0,"Scrollbar slider background color.")),t4=L2("scrollbarSlider.hoverBackground",{dark:C1.fromHex("#646464").transparent(.7),light:C1.fromHex("#646464").transparent(.7),hc:R3(M2,.8)},DR(0,"Scrollbar slider background color when hovering.")),n4=L2("scrollbarSlider.activeBackground",{dark:C1.fromHex("#BFBFBF").transparent(.4),light:C1.fromHex("#000000").transparent(.6),hc:M2},DR(0,"Scrollbar slider background color when clicked on.")),i4=L2("progressBar.background",{dark:C1.fromHex("#0E70C0"),light:C1.fromHex("#0E70C0"),hc:M2},DR(0,"Background color of the progress bar that can show for long running operations.")),r4=L2("editorError.background",{dark:null,light:null,hc:null},DR(0,"Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),o4=L2("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hc:null},DR(0,"Foreground color of error squigglies in the editor.")),s4=L2("editorError.border",{dark:null,light:null,hc:C1.fromHex("#E47777").transparent(.8)},DR(0,"Border color of error boxes in the editor.")),a4=L2("editorWarning.background",{dark:null,light:null,hc:null},DR(0,"Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),l4=L2("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hc:null},DR(0,"Foreground color of warning squigglies in the editor.")),c4=L2("editorWarning.border",{dark:null,light:null,hc:C1.fromHex("#FFCC00").transparent(.8)},DR(0,"Border color of warning boxes in the editor.")),u4=L2("editorInfo.background",{dark:null,light:null,hc:null},DR(0,"Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),h4=L2("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hc:"#3794FF"},DR(0,"Foreground color of info squigglies in the editor.")),d4=L2("editorInfo.border",{dark:null,light:null,hc:C1.fromHex("#3794FF").transparent(.8)},DR(0,"Border color of info boxes in the editor.")),f4=L2("editorHint.foreground",{dark:C1.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},DR(0,"Foreground color of hint squigglies in the editor.")),p4=L2("editorHint.border",{dark:null,light:null,hc:C1.fromHex("#eeeeee").transparent(.8)},DR(0,"Border color of hint boxes in the editor.")),g4=L2("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:C1.black},DR(0,"Editor background color.")),m4=L2("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:C1.white},DR(0,"Editor default foreground color.")),v4=L2("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},DR(0,"Background color of editor widgets, such as find/replace.")),y4=L2("editorWidget.foreground",{dark:T2,light:T2,hc:T2},DR(0,"Foreground color of editor widgets, such as find/replace.")),b4=L2("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:M2},DR(0,"Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget."));L2("editorWidget.resizeBorder",{light:null,dark:null,hc:null},DR(0,"Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget."));const _4=L2("quickInput.background",{dark:v4,light:v4,hc:v4},DR(0,"Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),w4=L2("quickInput.foreground",{dark:y4,light:y4,hc:y4},DR(0,"Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),C4=L2("quickInputTitle.background",{dark:new C1(new b1(255,255,255,.105)),light:new C1(new b1(0,0,0,.06)),hc:"#000000"},DR(0,"Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),x4=L2("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:C1.white},DR(0,"Quick picker color for grouping labels.")),k4=L2("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:C1.white},DR(0,"Quick picker color for grouping borders.")),S4=L2("keybindingLabel.background",{dark:new C1(new b1(128,128,128,.17)),light:new C1(new b1(221,221,221,.4)),hc:C1.transparent},DR(0,"Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),D4=L2("keybindingLabel.foreground",{dark:C1.fromHex("#CCCCCC"),light:C1.fromHex("#555555"),hc:C1.white},DR(0,"Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),E4=L2("keybindingLabel.border",{dark:new C1(new b1(51,51,51,.6)),light:new C1(new b1(204,204,204,.4)),hc:new C1(new b1(111,195,223))},DR(0,"Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),L4=L2("keybindingLabel.bottomBorder",{dark:new C1(new b1(68,68,68,.6)),light:new C1(new b1(187,187,187,.4)),hc:new C1(new b1(111,195,223))},DR(0,"Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),T4=L2("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},DR(0,"Color of the editor selection.")),N4=L2("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},DR(0,"Color of the selected text for high contrast.")),M4=L2("editor.inactiveSelectionBackground",{light:R3(T4,.5),dark:R3(T4,.5),hc:R3(T4,.5)},DR(0,"Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),A4=L2("editor.selectionHighlightBackground",{light:B3(T4,g4,.3,.6),dark:B3(T4,g4,.3,.6),hc:null},DR(0,"Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0);L2("editor.selectionHighlightBorder",{light:null,dark:null,hc:A2},DR(0,"Border color for regions with the same content as the selection.")),L2("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},DR(0,"Color of the current search match."));const I4=L2("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},DR(0,"Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0);L2("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},DR(0,"Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),L2("editor.findMatchBorder",{light:null,dark:null,hc:A2},DR(0,"Border color of the current search match.")),L2("editor.findMatchHighlightBorder",{light:null,dark:null,hc:A2},DR(0,"Border color of the other search matches.")),L2("editor.findRangeHighlightBorder",{dark:null,light:null,hc:R3(A2,.4)},DR(0,"Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),L2("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},DR(0,"Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0);const O4=L2("editorHoverWidget.background",{light:v4,dark:v4,hc:v4},DR(0,"Background color of the editor hover."));L2("editorHoverWidget.foreground",{light:y4,dark:y4,hc:y4},DR(0,"Foreground color of the editor hover.")),L2("editorHoverWidget.border",{light:b4,dark:b4,hc:b4},DR(0,"Border color of the editor hover.")),L2("editorHoverWidget.statusBarBackground",{dark:F3(O4,.2),light:O3(O4,.05),hc:v4},DR(0,"Background color of the editor hover status bar.")),L2("editorLink.activeForeground",{dark:"#4E94CE",light:C1.blue,hc:C1.cyan},DR(0,"Color of active links."));const F4=L2("editorInlayHint.foreground",{dark:R3(J2,.8),light:R3(J2,.8),hc:J2},DR(0,"Foreground color of inline hints")),R4=L2("editorInlayHint.background",{dark:R3(Z2,.6),light:R3(Z2,.3),hc:Z2},DR(0,"Background color of inline hints"));L2("editorInlayHint.typeForeground",{dark:F4,light:F4,hc:F4},DR(0,"Foreground color of inline hints for types")),L2("editorInlayHint.typeBackground",{dark:R4,light:R4,hc:R4},DR(0,"Background color of inline hints for types")),L2("editorInlayHint.parameterForeground",{dark:F4,light:F4,hc:F4},DR(0,"Foreground color of inline hints for parameters")),L2("editorInlayHint.parameterBackground",{dark:R4,light:R4,hc:R4},DR(0,"Background color of inline hints for parameters")),L2("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},DR(0,"The color used for the lightbulb actions icon.")),L2("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},DR(0,"The color used for the lightbulb auto fix actions icon."));const P4=new C1(new b1(155,185,85,.2)),B4=new C1(new b1(255,0,0,.2)),j4=L2("diffEditor.insertedTextBackground",{dark:P4,light:P4,hc:null},DR(0,"Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),z4=L2("diffEditor.removedTextBackground",{dark:B4,light:B4,hc:null},DR(0,"Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),V4=L2("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},DR(0,"Outline color for the text that got inserted.")),W4=L2("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},DR(0,"Outline color for text that got removed.")),H4=L2("diffEditor.border",{dark:null,light:null,hc:M2},DR(0,"Border color between the two text editors.")),U4=L2("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},DR(0,"Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),$4=L2("list.focusBackground",{dark:null,light:null,hc:null},DR(0,"List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),q4=L2("list.focusForeground",{dark:null,light:null,hc:null},DR(0,"List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),K4=L2("list.focusOutline",{dark:N2,light:N2,hc:A2},DR(0,"List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Y4=L2("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hc:null},DR(0,"List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),G4=L2("list.activeSelectionForeground",{dark:C1.white,light:C1.white,hc:null},DR(0,"List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),X4=L2("list.activeSelectionIconForeground",{dark:null,light:null,hc:null},DR(0,"List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Z4=L2("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},DR(0,"List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),J4=L2("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},DR(0,"List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Q4=L2("list.inactiveSelectionIconForeground",{dark:null,light:null,hc:null},DR(0,"List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),e3=L2("list.inactiveFocusBackground",{dark:null,light:null,hc:null},DR(0,"List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),t3=L2("list.inactiveFocusOutline",{dark:null,light:null,hc:null},DR(0,"List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),n3=L2("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},DR(0,"List/Tree background when hovering over items using the mouse.")),i3=L2("list.hoverForeground",{dark:null,light:null,hc:null},DR(0,"List/Tree foreground when hovering over items using the mouse.")),r3=L2("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},DR(0,"List/Tree drag and drop background when moving items around using the mouse.")),o3=L2("list.highlightForeground",{dark:"#18A3FF",light:"#0066BF",hc:N2},DR(0,"List/Tree foreground color of the match highlights when searching inside the list/tree."));var s3,a3,l3;L2("list.focusHighlightForeground",{dark:o3,light:(s3=Y4,a3=o3,l3="#9DDDFF",{op:5,if:s3,then:a3,else:l3}),hc:o3},DR(0,"List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree."));const c3=L2("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:C1.black},DR(0,"Background color of the type filter widget in lists and trees.")),u3=L2("listFilterWidget.outline",{dark:C1.transparent,light:C1.transparent,hc:"#f38518"},DR(0,"Outline color of the type filter widget in lists and trees.")),h3=L2("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:M2},DR(0,"Outline color of the type filter widget in lists and trees, when there are no matches.")),d3=L2("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},DR(0,"Tree stroke color for the indentation guides.")),f3=L2("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hc:null},DR(0,"Tree stroke color for the indentation guides.")),p3=L2("quickInput.list.focusBackground",{dark:null,light:null,hc:null},"",void 0,DR(0,"Please use quickInputList.focusBackground instead")),g3=L2("quickInputList.focusForeground",{dark:G4,light:G4,hc:G4},DR(0,"Quick picker foreground color for the focused item.")),m3=L2("quickInputList.focusIconForeground",{dark:X4,light:X4,hc:X4},DR(0,"Quick picker icon foreground color for the focused item.")),v3=L2("quickInputList.focusBackground",{dark:P3(p3,Y4),light:P3(p3,Y4),hc:null},DR(0,"Quick picker background color for the focused item.")),y3=L2("menu.border",{dark:null,light:null,hc:M2},DR(0,"Border color of menus.")),b3=L2("menu.foreground",{dark:K2,light:T2,hc:K2},DR(0,"Foreground color of menu items.")),_3=L2("menu.background",{dark:q2,light:q2,hc:q2},DR(0,"Background color of menu items.")),w3=L2("menu.selectionForeground",{dark:G4,light:G4,hc:G4},DR(0,"Foreground color of the selected menu item in menus.")),C3=L2("menu.selectionBackground",{dark:Y4,light:Y4,hc:Y4},DR(0,"Background color of the selected menu item in menus.")),x3=L2("menu.selectionBorder",{dark:null,light:null,hc:A2},DR(0,"Border color of the selected menu item in menus.")),k3=L2("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:M2},DR(0,"Color of a separator menu item in menus."));L2("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hc:null},DR(0,"Toolbar background when hovering over actions using the mouse")),L2("editor.snippetTabstopHighlightBackground",{dark:new C1(new b1(124,124,124,.3)),light:new C1(new b1(10,50,100,.2)),hc:new C1(new b1(124,124,124,.3))},DR(0,"Highlight background color of a snippet tabstop.")),L2("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},DR(0,"Highlight border color of a snippet tabstop.")),L2("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},DR(0,"Highlight background color of the final tabstop of a snippet.")),L2("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new C1(new b1(10,50,100,.5)),hc:"#525252"},DR(0,"Highlight border color of the final tabstop of a snippet.")),L2("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},DR(0,"Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),L2("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},DR(0,"Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),L2("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},DR(0,"Minimap marker color for find matches."),!0),L2("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hc:"#ffffff"},DR(0,"Minimap marker color for repeating editor selections."),!0);const S3=L2("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},DR(0,"Minimap marker color for the editor selection."),!0),D3=L2("minimap.errorHighlight",{dark:new C1(new b1(255,18,18,.7)),light:new C1(new b1(255,18,18,.7)),hc:new C1(new b1(255,50,50,1))},DR(0,"Minimap marker color for errors.")),E3=L2("minimap.warningHighlight",{dark:l4,light:l4,hc:c4},DR(0,"Minimap marker color for warnings.")),L3=L2("minimap.background",{dark:null,light:null,hc:null},DR(0,"Minimap background color.")),T3=L2("minimap.foregroundOpacity",{dark:C1.fromHex("#000f"),light:C1.fromHex("#000f"),hc:C1.fromHex("#000f")},DR(0,'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),N3=L2("minimapSlider.background",{light:R3(e4,.5),dark:R3(e4,.5),hc:R3(e4,.5)},DR(0,"Minimap slider background color.")),M3=L2("minimapSlider.hoverBackground",{light:R3(t4,.5),dark:R3(t4,.5),hc:R3(t4,.5)},DR(0,"Minimap slider background color when hovering.")),A3=L2("minimapSlider.activeBackground",{light:R3(n4,.5),dark:R3(n4,.5),hc:R3(n4,.5)},DR(0,"Minimap slider background color when clicked on."));function I3(e,t){var n,i,r;switch(e.op){case 0:return null===(n=j3(e.value,t))||void 0===n?void 0:n.darken(e.factor);case 1:return null===(i=j3(e.value,t))||void 0===i?void 0:i.lighten(e.factor);case 2:return null===(r=j3(e.value,t))||void 0===r?void 0:r.transparent(e.factor);case 3:for(const n of e.values){const e=j3(n,t);if(e)return e}return;case 5:return j3(t.defines(e.if)?e.then:e.else,t);case 4:const o=j3(e.value,t);if(!o)return;const s=j3(e.background,t);return s?o.isDarkerThan(s)?C1.getLighterColor(o,s,e.factor).transparent(e.transparency):C1.getDarkerColor(o,s,e.factor).transparent(e.transparency):o.transparent(e.factor*e.transparency);default:throw function(e,t="Unreachable"){throw new Error(t)}()}}function O3(e,t){return{op:0,value:e,factor:t}}function F3(e,t){return{op:1,value:e,factor:t}}function R3(e,t){return{op:2,value:e,factor:t}}function P3(...e){return{op:3,values:e}}function B3(e,t,n,i){return{op:4,value:e,background:t,factor:n,transparency:i}}function j3(e,t){if(null!==e)return"string"==typeof e?"#"===e[0]?C1.fromHex(e):t.getColor(e):e instanceof C1?e:"object"==typeof e?I3(e,t):void 0}L2("problemsErrorIcon.foreground",{dark:o4,light:o4,hc:o4},DR(0,"The color used for the problems error icon.")),L2("problemsWarningIcon.foreground",{dark:l4,light:l4,hc:l4},DR(0,"The color used for the problems warning icon.")),L2("problemsInfoIcon.foreground",{dark:h4,light:h4,hc:h4},DR(0,"The color used for the problems info icon."));let z3=rK.as(oK);z3.registerSchema("vscode://schemas/workbench-colors",E2.getColorSchema());const V3=new bV((()=>z3.notifySchemaChanged("vscode://schemas/workbench-colors")),200);E2.onDidChangeSchema((()=>{V3.isScheduled()||V3.schedule()}));const W3=L2("editor.lineHighlightBackground",{dark:null,light:null,hc:null},DR(0,"Background color for the highlight of line at the cursor position.")),H3=L2("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},DR(0,"Background color for the border around the line at the cursor position.")),U3=L2("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},DR(0,"Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),$3=L2("editor.rangeHighlightBorder",{dark:null,light:null,hc:A2},DR(0,"Background color of the border around highlighted ranges."),!0),q3=L2("editor.symbolHighlightBackground",{dark:I4,light:I4,hc:null},DR(0,"Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),K3=L2("editor.symbolHighlightBorder",{dark:null,light:null,hc:A2},DR(0,"Background color of the border around highlighted symbols."),!0),Y3=L2("editorCursor.foreground",{dark:"#AEAFAD",light:C1.black,hc:C1.white},DR(0,"Color of the editor cursor.")),G3=L2("editorCursor.background",null,DR(0,"The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),X3=L2("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},DR(0,"Color of whitespace characters in the editor.")),Z3=L2("editorIndentGuide.background",{dark:X3,light:X3,hc:X3},DR(0,"Color of the editor indentation guides.")),J3=L2("editorIndentGuide.activeBackground",{dark:X3,light:X3,hc:X3},DR(0,"Color of the active editor indentation guides.")),Q3=L2("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:C1.white},DR(0,"Color of editor line numbers.")),e5=L2("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:A2},DR(0,"Color of editor active line number"),!1,DR(0,"Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),t5=L2("editorLineNumber.activeForeground",{dark:e5,light:e5,hc:e5},DR(0,"Color of editor active line number")),n5=L2("editorRuler.foreground",{dark:"#5A5A5A",light:C1.lightgrey,hc:C1.white},DR(0,"Color of the editor rulers."));L2("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hc:"#999999"},DR(0,"Foreground color of editor CodeLens")),L2("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},DR(0,"Background color behind matching brackets")),L2("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:M2},DR(0,"Color for matching brackets boxes"));const i5=L2("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},DR(0,"Color of the overview ruler border.")),r5=L2("editorOverviewRuler.background",null,DR(0,"Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),o5=L2("editorGutter.background",{dark:g4,light:g4,hc:g4},DR(0,"Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),s5=L2("editorUnnecessaryCode.border",{dark:null,light:null,hc:C1.fromHex("#fff").transparent(.8)},DR(0,"Border color of unnecessary (unused) source code in the editor.")),a5=L2("editorUnnecessaryCode.opacity",{dark:C1.fromHex("#000a"),light:C1.fromHex("#0007"),hc:null},DR(0,"Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out."));L2("editorGhostText.border",{dark:null,light:null,hc:C1.fromHex("#fff").transparent(.8)},DR(0,"Border color of ghost text in the editor.")),L2("editorGhostText.foreground",{dark:C1.fromHex("#ffffff56"),light:C1.fromHex("#0007"),hc:null},DR(0,"Foreground color of the ghost text in the editor."));const l5=new C1(new b1(0,122,204,.6));L2("editorOverviewRuler.rangeHighlightForeground",{dark:l5,light:l5,hc:l5},DR(0,"Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0);const c5=L2("editorOverviewRuler.errorForeground",{dark:new C1(new b1(255,18,18,.7)),light:new C1(new b1(255,18,18,.7)),hc:new C1(new b1(255,50,50,1))},DR(0,"Overview ruler marker color for errors.")),u5=L2("editorOverviewRuler.warningForeground",{dark:l4,light:l4,hc:c4},DR(0,"Overview ruler marker color for warnings.")),h5=L2("editorOverviewRuler.infoForeground",{dark:h4,light:h4,hc:d4},DR(0,"Overview ruler marker color for infos.")),d5=L2("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hc:"#FFD700"},DR(0,"Foreground color of brackets (1). Requires enabling bracket pair colorization.")),f5=L2("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hc:"#DA70D6"},DR(0,"Foreground color of brackets (2). Requires enabling bracket pair colorization.")),p5=L2("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hc:"#87CEFA"},DR(0,"Foreground color of brackets (3). Requires enabling bracket pair colorization.")),g5=L2("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},DR(0,"Foreground color of brackets (4). Requires enabling bracket pair colorization.")),m5=L2("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},DR(0,"Foreground color of brackets (5). Requires enabling bracket pair colorization.")),v5=L2("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},DR(0,"Foreground color of brackets (6). Requires enabling bracket pair colorization.")),y5=L2("editorBracketHighlight.unexpectedBracket.foreground",{dark:new C1(new b1(255,18,18,.8)),light:new C1(new b1(255,18,18,.8)),hc:new C1(new b1(255,50,50,1))},DR(0,"Foreground color of unexpected brackets.")),b5=L2("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},DR(0,"Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),_5=L2("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},DR(0,"Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),w5=L2("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},DR(0,"Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),C5=L2("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},DR(0,"Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),x5=L2("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},DR(0,"Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),k5=L2("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},DR(0,"Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),S5=L2("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},DR(0,"Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),D5=L2("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},DR(0,"Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),E5=L2("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},DR(0,"Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),L5=L2("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},DR(0,"Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),T5=L2("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},DR(0,"Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),N5=L2("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},DR(0,"Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));vJ(((e,t)=>{const n=e.getColor(g4);n&&t.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${n}; }`);const i=e.getColor(m4);i&&t.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${i}; }`);const r=e.getColor(o5);r&&t.addRule(`.monaco-editor .margin { background-color: ${r}; }`);const o=e.getColor(U3);o&&t.addRule(`.monaco-editor .rangeHighlight { background-color: ${o}; }`);const s=e.getColor($3);s&&t.addRule(`.monaco-editor .rangeHighlight { border: 1px ${"hc"===e.type?"dotted":"solid"} ${s}; }`);const a=e.getColor(q3);a&&t.addRule(`.monaco-editor .symbolHighlight { background-color: ${a}; }`);const l=e.getColor(K3);l&&t.addRule(`.monaco-editor .symbolHighlight { border: 1px ${"hc"===e.type?"dotted":"solid"} ${l}; }`);const c=e.getColor(X3);c&&(t.addRule(`.monaco-editor .mtkw { color: ${c} !important; }`),t.addRule(`.monaco-editor .mtkz { color: ${c} !important; }`))}));class M5 extends KP{constructor(e){super(),this.textModel=e,this.colorProvider=new A5,this.onDidChangeEmitter=new nB,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=e.getOptions().bracketPairColorizationOptions,this._register(e.onDidChangeOptions((t=>{this.colorizationOptions=e.getOptions().bracketPairColorizationOptions}))),this._register(e.bracketPairs.onDidChange((e=>{this.onDidChangeEmitter.fire()})))}getDecorationsInRange(e,t,n){if(void 0===t)return[];if(!this.colorizationOptions.enabled)return[];const i=new Array,r=this.textModel.bracketPairs.getBracketsInRange(e);for(const o of r)i.push({id:`bracket${o.range.toString()}-${o.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(o)},ownerId:0,range:o.range});return i}getAllDecorations(e,t){return void 0===e?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new cj(1,1,this.textModel.getLineCount(),1),e,t):[]}}class A5{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(e){return e.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(e.nestingLevel)}getInlineClassNameOfLevel(e){return"bracket-highlighting-"+e%30}}vJ(((e,t)=>{const n=[d5,f5,p5,g5,m5,v5],i=new A5;t.addRule(`.monaco-editor .${i.unexpectedClosingBracketClassName} { color: ${e.getColor(y5)}; }`);let r=n.map((t=>e.getColor(t))).filter((e=>!!e)).filter((e=>!e.isTransparent()));for(let o=0;o<30;o++){const e=r[o%r.length];t.addRule(`.monaco-editor .${i.getInlineClassNameOfLevel(o)} { color: ${e}; }`)}}));var I5=globalThis&&globalThis.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},O5=globalThis&&globalThis.__param||function(e,t){return function(n,i){t(n,i,e)}};function F5(e){const t=new o1;return t.acceptChunk(e),t.finish()}function R5(e,t){return("string"==typeof e?F5(e):e).create(t)}let P5=0;class B5{constructor(e){this._source=e,this._eos=!1}read(){if(this._eos)return null;let e=[],t=0,n=0;for(;;){let i=this._source.read();if(null===i)return this._eos=!0,0===t?null:e.join("");if(i.length>0&&(e[t++]=i,n+=i.length),n>=65536)return e.join("")}}}const j5=()=>{throw new Error("Invalid change accessor")};class z5{constructor(){this._searchCanceledBrand=void 0}}function V5(e){return e instanceof z5?null:e}z5.INSTANCE=new z5;let W5=class e extends KP{constructor(t,n,i,r=null,o,s,a){super(),this._undoRedoService=o,this._modeService=s,this._languageConfigurationService=a,this._onWillDispose=this._register(new nB),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new t6((e=>this.handleBeforeFireDecorationsChangedEvent(e)))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new nB),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new nB),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new nB),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new nB),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new nB),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeContentOrInjectedText=this._register(new nB),this.onDidChangeContentOrInjectedText=this._onDidChangeContentOrInjectedText.event,this._eventEmitter=this._register(new n6),this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new nB),this.onBackgroundTokenizationStateChanged=this._onBackgroundTokenizationStateChanged.event,this._register(this._eventEmitter.fastEvent((e=>{this._onDidChangeContentOrInjectedText.fire(e.rawContentChangedEvent)}))),P5++,this.id="$model"+P5,this.isForSimpleWidget=n.isForSimpleWidget,this._associatedResource=null==r?ZB.parse("inmemory://model/"+P5):r,this._attachedEditorCount=0;const{textBuffer:l,disposable:c}=R5(t,n.defaultEOL);this._buffer=l,this._bufferDisposable=c,this._options=e.resolveOptions(this._buffer,n);const u=this._buffer.getLineCount(),h=this._buffer.getValueLengthInRange(new cj(1,1,u,this._buffer.getLineLength(u)+1),0);n.largeFileOptimizations?this._isTooLargeForTokenization=h>e.LARGE_FILE_SIZE_THRESHOLD||u>e.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=h>e.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageId=i||sq,this._languageRegistryListener=this._languageConfigurationService.onDidChange((e=>{e.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})),this._instanceId=dH(P5),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new q5,this._commandManager=new UQ(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new n1(this._modeService.languageIdCodec),this._tokens2=new t1(this._modeService.languageIdCodec),this._tokenization=new m1(this,this._modeService.languageIdCodec),this._bracketPairColorizer=this._register(new w2(this,this._languageConfigurationService)),this._decorationProvider=this._register(new M5(this)),this._register(this._decorationProvider.onDidChange((()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})))}static resolveOptions(e,t){if(t.detectIndentation){const n=KQ(e,t.tabSize,t.insertSpaces);return new PU({tabSize:n.tabSize,indentSize:n.tabSize,insertSpaces:n.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL,bracketPairColorizationOptions:t.bracketPairColorizationOptions})}return new PU({tabSize:t.tabSize,indentSize:t.indentSize,insertSpaces:t.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL,bracketPairColorizationOptions:t.bracketPairColorizationOptions})}onDidChangeContentFast(e){return this._eventEmitter.fastEvent((t=>e(t.contentChangedEvent)))}onDidChangeContent(e){return this._eventEmitter.slowEvent((t=>e(t.contentChangedEvent)))}get bracketPairs(){return this._bracketPairColorizer}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(e){if(2===this._backgroundTokenizationState)return;const t=e?2:1;this._backgroundTokenizationState!==t&&(this._backgroundTokenizationState=t,this._onBackgroundTokenizationStateChanged.fire())}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this._isDisposing=!1;const e=new i1([],"","\n",!1,!1,!0,!0);e.dispose(),this._buffer=e}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(e,t){this._bracketPairColorizer.handleContentChanged(t),this._isDisposing||this._eventEmitter.fire(new p1(e,t))}setValue(e){if(this._assertNotDisposed(),null===e)return;const{textBuffer:t,disposable:n}=R5(e,this._options.defaultEOL);this._setValueFromTextBuffer(t,n)}_createContentChanged2(e,t,n,i,r,o,s){return{changes:[{range:e,rangeOffset:t,rangeLength:n,text:i}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:r,isRedoing:o,isFlush:s}}_setValueFromTextBuffer(e,t){this._assertNotDisposed();const n=this.getFullModelRange(),i=this.getValueLengthInRange(n),r=this.getLineCount(),o=this.getLineMaxColumn(r);this._buffer=e,this._bufferDisposable.dispose(),this._bufferDisposable=t,this._increaseVersionId(),this._tokens.flush(),this._tokens2.flush(),this._decorations=Object.create(null),this._decorationsTree=new q5,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new d1([new s1],this._versionId,!1,!1),this._createContentChanged2(new cj(1,1,r,o),0,i,this.getValue(),!1,!1,!0))}setEOL(e){this._assertNotDisposed();const t=1===e?"\r\n":"\n";if(this._buffer.getEOL()===t)return;const n=this.getFullModelRange(),i=this.getValueLengthInRange(n),r=this.getLineCount(),o=this.getLineMaxColumn(r);this._onBeforeEOLChange(),this._buffer.setEOL(t),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new d1([new h1],this._versionId,!1,!1),this._createContentChanged2(new cj(1,1,r,o),0,i,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const e=this.getVersionId(),t=this._decorationsTree.collectNodesPostOrder();for(let n=0,i=t.length;n<i;n++){const i=t[n],r=i.range,o=i.cachedAbsoluteStart-i.start,s=this._buffer.getOffsetAt(r.startLineNumber,r.startColumn),a=this._buffer.getOffsetAt(r.endLineNumber,r.endColumn);i.cachedAbsoluteStart=s,i.cachedAbsoluteEnd=a,i.cachedVersionId=e,i.start=s-o,i.end=a-o,f0(i)}}onBeforeAttached(){this._attachedEditorCount++,1===this._attachedEditorCount&&this._onDidChangeAttached.fire(void 0)}onBeforeDetached(){this._attachedEditorCount--,0===this._attachedEditorCount&&this._onDidChangeAttached.fire(void 0)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let e=0,t=0;const n=this._buffer.getLineCount();for(let i=1;i<=n;i++){const n=this._buffer.getLineLength(i);n>=1e4?t+=n:e+=n}return t>e}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(e){this._assertNotDisposed();let t=void 0!==e.tabSize?e.tabSize:this._options.tabSize,n=void 0!==e.indentSize?e.indentSize:this._options.indentSize,i=void 0!==e.insertSpaces?e.insertSpaces:this._options.insertSpaces,r=void 0!==e.trimAutoWhitespace?e.trimAutoWhitespace:this._options.trimAutoWhitespace,o=void 0!==e.bracketColorizationOptions?e.bracketColorizationOptions:this._options.bracketPairColorizationOptions,s=new PU({tabSize:t,indentSize:n,insertSpaces:i,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:r,bracketPairColorizationOptions:o});if(this._options.equals(s))return;let a=this._options.createChangeEvent(s);this._options=s,this._onDidChangeOptions.fire(a)}detectIndentation(e,t){this._assertNotDisposed();let n=KQ(this._buffer,t,e);this.updateOptions({insertSpaces:n.insertSpaces,tabSize:n.tabSize,indentSize:n.tabSize})}static _normalizeIndentationFromWhitespace(e,t,n){let i=0;for(let o=0;o<e.length;o++)"\t"===e.charAt(o)?i+=t:i++;let r="";if(!n){let e=Math.floor(i/t);i%=t;for(let t=0;t<e;t++)r+="\t"}for(let o=0;o<i;o++)r+=" ";return r}static normalizeIndentation(t,n,i){let r=RW(t);return-1===r&&(r=t.length),e._normalizeIndentationFromWhitespace(t.substring(0,r),n,i)+t.substring(r)}normalizeIndentation(t){return this._assertNotDisposed(),e.normalizeIndentation(t,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(e=null){const t=this.findMatches(sH.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(e,t.map((e=>({range:e.range,text:null}))),(()=>null))}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(e){this._assertNotDisposed();let t=this._validatePosition(e.lineNumber,e.column,0);return this._buffer.getOffsetAt(t.lineNumber,t.column)}getPositionAt(e){this._assertNotDisposed();let t=Math.min(this._buffer.getLength(),Math.max(0,e));return this._buffer.getPositionAt(t)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(e){this._versionId=e}_overwriteAlternativeVersionId(e){this._alternativeVersionId=e}_overwriteInitialUndoRedoSnapshot(e){this._initialUndoRedoSnapshot=e}getValue(e,t=!1){this._assertNotDisposed();const n=this.getFullModelRange(),i=this.getValueInRange(n,e);return t?this._buffer.getBOM()+i:i}createSnapshot(e=!1){return new B5(this._buffer.createSnapshot(e))}getValueLength(e,t=!1){this._assertNotDisposed();const n=this.getFullModelRange(),i=this.getValueLengthInRange(n,e);return t?this._buffer.getBOM().length+i:i}getValueInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(e),t)}getValueLengthInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(e),t)}getCharacterCountInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(e),t)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(e)}getLineLength(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(e)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),"\n"===this._buffer.getEOL()?0:1}getLineMinColumn(e){return this._assertNotDisposed(),1}getLineMaxColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(e)+1}getLineFirstNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(e)}getLineLastNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(e)}_validateRangeRelaxedNoAllocations(e){const t=this._buffer.getLineCount(),n=e.startLineNumber,i=e.startColumn;let r=Math.floor("number"!=typeof n||isNaN(n)?1:n),o=Math.floor("number"!=typeof i||isNaN(i)?1:i);if(r<1)r=1,o=1;else if(r>t)r=t,o=this.getLineMaxColumn(r);else if(o<=1)o=1;else{const e=this.getLineMaxColumn(r);o>=e&&(o=e)}const s=e.endLineNumber,a=e.endColumn;let l=Math.floor("number"!=typeof s||isNaN(s)?1:s),c=Math.floor("number"!=typeof a||isNaN(a)?1:a);if(l<1)l=1,c=1;else if(l>t)l=t,c=this.getLineMaxColumn(l);else if(c<=1)c=1;else{const e=this.getLineMaxColumn(l);c>=e&&(c=e)}return n===r&&i===o&&s===l&&a===c&&e instanceof cj&&!(e instanceof uj)?e:new cj(r,o,l,c)}_isValidPosition(e,t,n){if("number"!=typeof e||"number"!=typeof t)return!1;if(isNaN(e)||isNaN(t))return!1;if(e<1||t<1)return!1;if((0|e)!==e||(0|t)!==t)return!1;if(e>this._buffer.getLineCount())return!1;if(1===t)return!0;if(t>this.getLineMaxColumn(e))return!1;if(1===n){if(GW(this._buffer.getLineCharCode(e,t-2)))return!1}return!0}_validatePosition(e,t,n){const i=Math.floor("number"!=typeof e||isNaN(e)?1:e),r=Math.floor("number"!=typeof t||isNaN(t)?1:t),o=this._buffer.getLineCount();if(i<1)return new lj(1,1);if(i>o)return new lj(o,this.getLineMaxColumn(o));if(r<=1)return new lj(i,1);const s=this.getLineMaxColumn(i);if(r>=s)return new lj(i,s);if(1===n){if(GW(this._buffer.getLineCharCode(i,r-2)))return new lj(i,r-1)}return new lj(i,r)}validatePosition(e){return this._assertNotDisposed(),e instanceof lj&&this._isValidPosition(e.lineNumber,e.column,1)?e:this._validatePosition(e.lineNumber,e.column,1)}_isValidRange(e,t){const n=e.startLineNumber,i=e.startColumn,r=e.endLineNumber,o=e.endColumn;if(!this._isValidPosition(n,i,0))return!1;if(!this._isValidPosition(r,o,0))return!1;if(1===t){const e=i>1?this._buffer.getLineCharCode(n,i-2):0,t=o>1&&o<=this._buffer.getLineLength(r)?this._buffer.getLineCharCode(r,o-2):0,s=GW(e),a=GW(t);return!s&&!a}return!0}validateRange(e){if(this._assertNotDisposed(),e instanceof cj&&!(e instanceof uj)&&this._isValidRange(e,1))return e;const t=this._validatePosition(e.startLineNumber,e.startColumn,0),n=this._validatePosition(e.endLineNumber,e.endColumn,0),i=t.lineNumber,r=t.column,o=n.lineNumber,s=n.column;{const e=r>1?this._buffer.getLineCharCode(i,r-2):0,t=s>1&&s<=this._buffer.getLineLength(o)?this._buffer.getLineCharCode(o,s-2):0,n=GW(e),a=GW(t);return n||a?i===o&&r===s?new cj(i,r-1,o,s-1):n&&a?new cj(i,r-1,o,s+1):n?new cj(i,r-1,o,s):new cj(i,r,o,s+1):new cj(i,r,o,s)}}modifyPosition(e,t){this._assertNotDisposed();let n=this.getOffsetAt(e)+t;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,n)))}getFullModelRange(){this._assertNotDisposed();const e=this.getLineCount();return new cj(1,1,e,this.getLineMaxColumn(e))}findMatchesLineByLine(e,t,n,i){return this._buffer.findMatchesLineByLine(e,t,n,i)}findMatches(e,t,n,i,r,o,s=999){this._assertNotDisposed();let a=null;null!==t&&(Array.isArray(t)||(t=[t]),t.every((e=>cj.isIRange(e)))&&(a=t.map((e=>this.validateRange(e))))),null===a&&(a=[this.getFullModelRange()]),a=a.sort(((e,t)=>e.startLineNumber-t.startLineNumber||e.startColumn-t.startColumn));const l=[];let c;if(l.push(a.reduce(((e,t)=>cj.areIntersecting(e,t)?e.plusRange(t):(l.push(e),t)))),!n&&e.indexOf("\n")<0){const t=new M0(e,n,i,r).parseSearchRequest();if(!t)return[];c=e=>this.findMatchesLineByLine(e,t,o,s)}else c=t=>F0.findMatches(this,new M0(e,n,i,r),t,o,s);return l.map(c).reduce(((e,t)=>e.concat(t)),[])}findNextMatch(e,t,n,i,r,o){this._assertNotDisposed();const s=this.validatePosition(t);if(!n&&e.indexOf("\n")<0){const t=new M0(e,n,i,r).parseSearchRequest();if(!t)return null;const a=this.getLineCount();let l=new cj(s.lineNumber,s.column,a,this.getLineMaxColumn(a)),c=this.findMatchesLineByLine(l,t,o,1);return F0.findNextMatch(this,new M0(e,n,i,r),s,o),c.length>0?c[0]:(l=new cj(1,1,s.lineNumber,this.getLineMaxColumn(s.lineNumber)),c=this.findMatchesLineByLine(l,t,o,1),c.length>0?c[0]:null)}return F0.findNextMatch(this,new M0(e,n,i,r),s,o)}findPreviousMatch(e,t,n,i,r,o){this._assertNotDisposed();const s=this.validatePosition(t);return F0.findPreviousMatch(this,new M0(e,n,i,r),s,o)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(e){if(("\n"===this.getEOL()?0:1)!==e)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(e){return e instanceof VU?e:new VU(e.identifier||null,this.validateRange(e.range),e.text,e.forceMoveMarkers||!1,e.isAutoWhitespaceEdit||!1,e._isTracked||!1)}_validateEditOperations(e){const t=[];for(let n=0,i=e.length;n<i;n++)t[n]=this._validateEditOperation(e[n]);return t}pushEditOperations(e,t,n){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(e,this._validateEditOperations(t),n)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(e,t,n){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){let n=t.map((e=>({range:this.validateRange(e.range),text:e.text}))),i=!0;if(e)for(let t=0,r=e.length;t<r;t++){let r=e[t],o=!1;for(let e=0,t=n.length;e<t;e++){let t=n[e].range,i=t.startLineNumber>r.endLineNumber,s=r.startLineNumber>t.endLineNumber;if(!i&&!s){o=!0;break}}if(!o){i=!1;break}}if(i)for(let e=0,r=this._trimAutoWhitespaceLines.length;e<r;e++){let i=this._trimAutoWhitespaceLines[e],r=this.getLineMaxColumn(i),o=!0;for(let e=0,t=n.length;e<t;e++){let t=n[e].range,s=n[e].text;if(!(i<t.startLineNumber||i>t.endLineNumber)&&!(i===t.startLineNumber&&t.startColumn===r&&t.isEmpty()&&s&&s.length>0&&"\n"===s.charAt(0)||i===t.startLineNumber&&1===t.startColumn&&t.isEmpty()&&s&&s.length>0&&"\n"===s.charAt(s.length-1))){o=!1;break}}if(o){const e=new cj(i,1,i,r);t.push(new VU(null,e,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(e,t,n)}_applyUndo(e,t,n,i){const r=e.map((e=>{const t=this.getPositionAt(e.newPosition),n=this.getPositionAt(e.newEnd);return{range:new cj(t.lineNumber,t.column,n.lineNumber,n.column),text:e.oldText}}));this._applyUndoRedoEdits(r,t,!0,!1,n,i)}_applyRedo(e,t,n,i){const r=e.map((e=>{const t=this.getPositionAt(e.oldPosition),n=this.getPositionAt(e.oldEnd);return{range:new cj(t.lineNumber,t.column,n.lineNumber,n.column),text:e.newText}}));this._applyUndoRedoEdits(r,t,!1,!0,n,i)}_applyUndoRedoEdits(e,t,n,i,r,o){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=n,this._isRedoing=i,this.applyEdits(e,!1),this.setEOL(t),this._overwriteAlternativeVersionId(r)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(o),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(e,t=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const n=this._validateEditOperations(e);return this._doApplyEdits(n,t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(e,t){const n=this._buffer.getLineCount(),i=this._buffer.applyEdits(e,this._options.trimAutoWhitespace,t),r=this._buffer.getLineCount(),o=i.changes;if(this._trimAutoWhitespaceLines=i.trimAutoWhitespaceLineNumbers,0!==o.length){for(let n=0,i=o.length;n<i;n++){const e=o[n],[t,i,r]=q0(e.text);this._tokens.acceptEdit(e.range,t,i),this._tokens2.acceptEdit(e.range,t,i,r,e.text.length>0?e.text.charCodeAt(0):0),this._decorationsTree.acceptReplace(e.rangeOffset,e.rangeLength,e.text.length,e.forceMoveMarkers)}let e=[];this._increaseVersionId();let t=n;for(let n=0,i=o.length;n<i;n++){const i=o[n],[s]=q0(i.text);this._onDidChangeDecorations.fire();const a=i.range.startLineNumber,l=i.range.endLineNumber,c=l-a,u=s,h=Math.min(c,u),d=u-c,f=r-t-d+a,p=f,g=f+u,m=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new lj(p,1)),this.getOffsetAt(new lj(g,this.getLineMaxColumn(g))),0),v=a1.fromDecorations(m),y=new TY(v);for(let t=h;t>=0;t--){const n=a+t,i=f+t;y.takeFromEndWhile((e=>e.lineNumber>i));const r=y.takeFromEndWhile((e=>e.lineNumber===i));e.push(new l1(n,this.getLineContent(i),r))}if(h<c){const t=a+h;e.push(new c1(t+1,l))}if(h<u){const n=new TY(v),i=a+h,o=u-h,s=r-t-o+i+1;let l=[],c=[];for(let e=0;e<o;e++){let t=s+e;c[e]=this.getLineContent(t),n.takeWhile((e=>e.lineNumber<t)),l[e]=n.takeWhile((e=>e.lineNumber===t))}e.push(new u1(i+1,a+u,c,l))}t+=d}this._emitContentChangedEvent(new d1(e,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:o,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return null===i.reverseEdits?void 0:i.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(e){if(null===e||0===e.size)return;const t=[...e].map((e=>new l1(e,this.getLineContent(e),this._getInjectedTextInLine(e))));this._onDidChangeContentOrInjectedText.fire(new f1(t))}changeDecorations(e,t=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(t,e)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(e,t){let n={addDecoration:(t,n)=>this._deltaDecorationsImpl(e,[],[{range:t,options:n}])[0],changeDecoration:(e,t)=>{this._changeDecorationImpl(e,t)},changeDecorationOptions:(e,t)=>{this._changeDecorationOptionsImpl(e,e6(t))},removeDecoration:t=>{this._deltaDecorationsImpl(e,[t],[])},deltaDecorations:(t,n)=>0===t.length&&0===n.length?[]:this._deltaDecorationsImpl(e,t,n)},i=null;try{i=t(n)}catch(nR){IP(nR)}return n.addDecoration=j5,n.changeDecoration=j5,n.changeDecorationOptions=j5,n.removeDecoration=j5,n.deltaDecorations=j5,i}deltaDecorations(e,t,n=0){if(this._assertNotDisposed(),e||(e=[]),0===e.length&&0===t.length)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(n,e,t)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(e){return this.getDecorationRange(e)}_setTrackedRange(e,t,n){const i=e?this._decorations[e]:null;if(!i)return t?this._deltaDecorationsImpl(0,[],[{range:t,options:Q5[n]}])[0]:null;if(!t)return this._decorationsTree.delete(i),delete this._decorations[i.id],null;const r=this._validateRangeRelaxedNoAllocations(t),o=this._buffer.getOffsetAt(r.startLineNumber,r.startColumn),s=this._buffer.getOffsetAt(r.endLineNumber,r.endColumn);return this._decorationsTree.delete(i),i.reset(this.getVersionId(),o,s,r),i.setOptions(Q5[n]),this._decorationsTree.insert(i),i.id}removeAllDecorationsWithOwnerId(e){if(this._isDisposed)return;const t=this._decorationsTree.collectNodesFromOwner(e);for(let n=0,i=t.length;n<i;n++){const e=t[n];this._decorationsTree.delete(e),delete this._decorations[e.id]}}getDecorationOptions(e){const t=this._decorations[e];return t?t.options:null}getDecorationRange(e){const t=this._decorations[e];return t?this._decorationsTree.getNodeRange(this,t):null}getLineDecorations(e,t=0,n=!1){return e<1||e>this.getLineCount()?[]:this.getLinesDecorations(e,e,t,n)}getLinesDecorations(e,t,n=0,i=!1){let r=this.getLineCount(),o=Math.min(r,Math.max(1,e)),s=Math.min(r,Math.max(1,t)),a=this.getLineMaxColumn(s);const l=new cj(o,1,s,a),c=this._getDecorationsInRange(l,n,i);return c.push(...this._decorationProvider.getDecorationsInRange(l,n,i)),c}getDecorationsInRange(e,t=0,n=!1){let i=this.validateRange(e);const r=this._getDecorationsInRange(i,t,n);return r.push(...this._decorationProvider.getDecorationsInRange(i,t,n)),r}getOverviewRulerDecorations(e=0,t=!1){return this._decorationsTree.getAll(this,e,t,!0)}getInjectedTextDecorations(e=0){return this._decorationsTree.getAllInjectedText(this,e)}_getInjectedTextInLine(e){const t=this._buffer.getOffsetAt(e,1),n=t+this._buffer.getLineLength(e),i=this._decorationsTree.getInjectedTextInInterval(this,t,n,0);return a1.fromDecorations(i).filter((t=>t.lineNumber===e))}getAllDecorations(e=0,t=!1){let n=this._decorationsTree.getAll(this,e,t,!1);return n=n.concat(this._decorationProvider.getAllDecorations(e,t)),n}_getDecorationsInRange(e,t,n){const i=this._buffer.getOffsetAt(e.startLineNumber,e.startColumn),r=this._buffer.getOffsetAt(e.endLineNumber,e.endColumn);return this._decorationsTree.getAllInInterval(this,i,r,t,n)}getRangeAt(e,t){return this._buffer.getRangeAt(e,t-e)}_changeDecorationImpl(e,t){const n=this._decorations[e];if(!n)return;if(n.options.after){const t=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(t.endLineNumber)}if(n.options.before){const t=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(t.startLineNumber)}const i=this._validateRangeRelaxedNoAllocations(t),r=this._buffer.getOffsetAt(i.startLineNumber,i.startColumn),o=this._buffer.getOffsetAt(i.endLineNumber,i.endColumn);this._decorationsTree.delete(n),n.reset(this.getVersionId(),r,o,i),this._decorationsTree.insert(n),this._onDidChangeDecorations.checkAffectedAndFire(n.options),n.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(i.endLineNumber),n.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(i.startLineNumber)}_changeDecorationOptionsImpl(e,t){const n=this._decorations[e];if(!n)return;const i=!(!n.options.overviewRuler||!n.options.overviewRuler.color),r=!(!t.overviewRuler||!t.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(n.options),this._onDidChangeDecorations.checkAffectedAndFire(t),n.options.after||t.after){const e=this._decorationsTree.getNodeRange(this,n);this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.endLineNumber)}if(n.options.before||t.before){const e=this._decorationsTree.getNodeRange(this,n);this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.startLineNumber)}i!==r?(this._decorationsTree.delete(n),n.setOptions(t),this._decorationsTree.insert(n)):n.setOptions(t)}_deltaDecorationsImpl(e,t,n){const i=this.getVersionId(),r=t.length;let o=0;const s=n.length;let a=0,l=new Array(s);for(;o<r||a<s;){let c=null;if(o<r){do{c=this._decorations[t[o++]]}while(!c&&o<r);if(c){if(c.options.after){const e=this._decorationsTree.getNodeRange(this,c);this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.endLineNumber)}if(c.options.before){const e=this._decorationsTree.getNodeRange(this,c);this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.startLineNumber)}this._decorationsTree.delete(c),this._onDidChangeDecorations.checkAffectedAndFire(c.options)}}if(a<s){if(!c){const e=++this._lastDecorationId,t=`${this._instanceId};${e}`;c=new n0(t,0,0),this._decorations[t]=c}const t=n[a],r=this._validateRangeRelaxedNoAllocations(t.range),o=e6(t.options),s=this._buffer.getOffsetAt(r.startLineNumber,r.startColumn),u=this._buffer.getOffsetAt(r.endLineNumber,r.endColumn);c.ownerId=e,c.reset(i,s,u,r),c.setOptions(o),c.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(r.endLineNumber),c.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(r.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(o),this._decorationsTree.insert(c),l[a]=c.id,a++}else c&&delete this._decorations[c.id]}return l}setTokens(e,t=!1){if(0!==e.length){let t=[];for(let n=0,i=e.length;n<i;n++){const i=e[n];let r=0,o=0,s=!1;for(let e=0,t=i.tokens.length;e<t;e++){const t=i.startLineNumber+e;if(s)this._tokens.setTokens(this._languageId,t-1,this._buffer.getLineLength(t),i.tokens[e],!1),o=t;else{this._tokens.setTokens(this._languageId,t-1,this._buffer.getLineLength(t),i.tokens[e],!0)&&(s=!0,r=t,o=t)}}s&&t.push({fromLineNumber:r,toLineNumber:o})}t.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:t})}this.handleTokenizationProgress(t)}setSemanticTokens(e,t){this._tokens2.set(e,t),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:null!==e,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasCompleteSemanticTokens(){return this._tokens2.isComplete()}hasSomeSemanticTokens(){return!this._tokens2.isEmpty()}setPartialSemanticTokens(e,t){if(this.hasCompleteSemanticTokens())return;const n=this._tokens2.setPartial(e,t);this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:n.startLineNumber,toLineNumber:n.endLineNumber}]})}tokenizeViewport(e,t){e=Math.max(1,e),t=Math.min(this._buffer.getLineCount(),t),this._tokenization.tokenizeViewport(e,t)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent(e){this._isDisposing||this._onDidChangeTokens.fire(e)}resetTokenization(){this._tokenization.reset()}forceTokenization(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(e)}isCheapToTokenize(e){return this._tokenization.isCheapToTokenize(e)}tokenizeIfCheap(e){this.isCheapToTokenize(e)&&this.forceTokenization(e)}getLineTokens(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(e)}_getLineTokens(e){const t=this.getLineContent(e),n=this._tokens.getTokens(this._languageId,e-1,t);return this._tokens2.addSemanticTokens(e,n)}getLanguageId(){return this._languageId}setMode(e){if(this._languageId===e)return;let t={oldLanguage:this._languageId,newLanguage:e};this._languageId=e,this._onDidChangeLanguage.fire(t),this._onDidChangeLanguageConfiguration.fire({})}getLanguageIdAtPosition(e,t){const n=this.validatePosition(new lj(e,t)),i=this.getLineTokens(n.lineNumber);return i.getLanguageId(i.findTokenIndexAtOffset(n.column-1))}getLanguageConfiguration(e){return this._languageConfigurationService.getLanguageConfiguration(e)}getWordAtPosition(t){this._assertNotDisposed();const n=this.validatePosition(t),i=this.getLineContent(n.lineNumber),r=this._getLineTokens(n.lineNumber),o=r.findTokenIndexAtOffset(n.column-1),[s,a]=e._findLanguageBoundaries(r,o),l=nP(n.column,this.getLanguageConfiguration(r.getLanguageId(o)).getWordDefinition(),i.substring(s,a),s);if(l&&l.startColumn<=t.column&&t.column<=l.endColumn)return l;if(o>0&&s===n.column-1){const[s,a]=e._findLanguageBoundaries(r,o-1),l=nP(n.column,this.getLanguageConfiguration(r.getLanguageId(o-1)).getWordDefinition(),i.substring(s,a),s);if(l&&l.startColumn<=t.column&&t.column<=l.endColumn)return l}return null}static _findLanguageBoundaries(e,t){const n=e.getLanguageId(t);let i=0;for(let o=t;o>=0&&e.getLanguageId(o)===n;o--)i=e.getStartOffset(o);let r=e.getLineContent().length;for(let o=t,s=e.getCount();o<s&&e.getLanguageId(o)===n;o++)r=e.getEndOffset(o);return[i,r]}getWordUntilPosition(e){const t=this.getWordAtPosition(e);return t?{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}}findMatchingBracketUp(e,t){let n=e.toLowerCase(),i=this.validatePosition(t),r=this._getLineTokens(i.lineNumber),o=r.getLanguageId(r.findTokenIndexAtOffset(i.column-1)),s=this.getLanguageConfiguration(o).brackets;if(!s)return null;let a=s.textIsBracket[n];return a?V5(this._findMatchingBracketUp(a,i,null)):null}matchBracket(e){return this._matchBracket(this.validatePosition(e))}_establishBracketSearchOffsets(e,t,n,i){const r=t.getCount(),o=t.getLanguageId(i);let s=Math.max(0,e.column-1-n.maxBracketLength);for(let l=i-1;l>=0;l--){const e=t.getEndOffset(l);if(e<=s)break;if(Mq(t.getStandardTokenType(l))||t.getLanguageId(l)!==o){s=e;break}}let a=Math.min(t.getLineContent().length,e.column-1+n.maxBracketLength);for(let l=i+1;l<r;l++){const e=t.getStartOffset(l);if(e>=a)break;if(Mq(t.getStandardTokenType(l))||t.getLanguageId(l)!==o){a=e;break}}return{searchStartOffset:s,searchEndOffset:a}}_matchBracket(e){const t=e.lineNumber,n=this._getLineTokens(t),i=this._buffer.getLineContent(t),r=n.findTokenIndexAtOffset(e.column-1);if(r<0)return null;const o=this.getLanguageConfiguration(n.getLanguageId(r)).brackets;if(o&&!Mq(n.getStandardTokenType(r))){let{searchStartOffset:s,searchEndOffset:a}=this._establishBracketSearchOffsets(e,n,o,r),l=null;for(;;){const n=Qq.findNextBracketInRange(o.forwardRegex,t,i,s,a);if(!n)break;if(n.startColumn<=e.column&&e.column<=n.endColumn){const e=i.substring(n.startColumn-1,n.endColumn-1).toLowerCase(),t=this._matchFoundBracket(n,o.textIsBracket[e],o.textIsOpenBracket[e],null);if(t){if(t instanceof z5)return null;l=t}}s=n.endColumn-1}if(l)return l}if(r>0&&n.getStartOffset(r)===e.column-1){const o=r-1,s=this.getLanguageConfiguration(n.getLanguageId(o)).brackets;if(s&&!Mq(n.getStandardTokenType(o))){let{searchStartOffset:r,searchEndOffset:a}=this._establishBracketSearchOffsets(e,n,s,o);const l=Qq.findPrevBracketInRange(s.reversedRegex,t,i,r,a);if(l&&l.startColumn<=e.column&&e.column<=l.endColumn){const e=i.substring(l.startColumn-1,l.endColumn-1).toLowerCase(),t=this._matchFoundBracket(l,s.textIsBracket[e],s.textIsOpenBracket[e],null);if(t)return t instanceof z5?null:t}}}return null}_matchFoundBracket(e,t,n,i){if(!t)return null;const r=n?this._findMatchingBracketDown(t,e.getEndPosition(),i):this._findMatchingBracketUp(t,e.getStartPosition(),i);return r?r instanceof z5?r:[e,r]:null}_findMatchingBracketUp(e,t,n){const i=e.languageId,r=e.reversedRegex;let o=-1,s=0;const a=(t,i,a,l)=>{for(;;){if(n&&++s%100==0&&!n())return z5.INSTANCE;const c=Qq.findPrevBracketInRange(r,t,i,a,l);if(!c)break;const u=i.substring(c.startColumn-1,c.endColumn-1).toLowerCase();if(e.isOpen(u)?o++:e.isClose(u)&&o--,0===o)return c;l=c.startColumn-1}return null};for(let l=t.lineNumber;l>=1;l--){const e=this._getLineTokens(l),n=e.getCount(),r=this._buffer.getLineContent(l);let o=n-1,s=r.length,c=r.length;l===t.lineNumber&&(o=e.findTokenIndexAtOffset(t.column-1),s=t.column-1,c=t.column-1);let u=!0;for(;o>=0;o--){const t=e.getLanguageId(o)===i&&!Mq(e.getStandardTokenType(o));if(t)u?s=e.getStartOffset(o):(s=e.getStartOffset(o),c=e.getEndOffset(o));else if(u&&s!==c){const e=a(l,r,s,c);if(e)return e}u=t}if(u&&s!==c){const e=a(l,r,s,c);if(e)return e}}return null}_findMatchingBracketDown(e,t,n){const i=e.languageId,r=e.forwardRegex;let o=1,s=0;const a=(t,i,a,l)=>{for(;;){if(n&&++s%100==0&&!n())return z5.INSTANCE;const c=Qq.findNextBracketInRange(r,t,i,a,l);if(!c)break;const u=i.substring(c.startColumn-1,c.endColumn-1).toLowerCase();if(e.isOpen(u)?o++:e.isClose(u)&&o--,0===o)return c;a=c.endColumn-1}return null},l=this.getLineCount();for(let c=t.lineNumber;c<=l;c++){const e=this._getLineTokens(c),n=e.getCount(),r=this._buffer.getLineContent(c);let o=0,s=0,l=0;c===t.lineNumber&&(o=e.findTokenIndexAtOffset(t.column-1),s=t.column-1,l=t.column-1);let u=!0;for(;o<n;o++){const t=e.getLanguageId(o)===i&&!Mq(e.getStandardTokenType(o));if(t)u||(s=e.getStartOffset(o)),l=e.getEndOffset(o);else if(u&&s!==l){const e=a(c,r,s,l);if(e)return e}u=t}if(u&&s!==l){const e=a(c,r,s,l);if(e)return e}}return null}findPrevBracket(e){const t=this.validatePosition(e);let n=null,i=null;for(let r=t.lineNumber;r>=1;r--){const e=this._getLineTokens(r),o=e.getCount(),s=this._buffer.getLineContent(r);let a=o-1,l=s.length,c=s.length;if(r===t.lineNumber){a=e.findTokenIndexAtOffset(t.column-1),l=t.column-1,c=t.column-1;const r=e.getLanguageId(a);n!==r&&(n=r,i=this.getLanguageConfiguration(n).brackets)}let u=!0;for(;a>=0;a--){const t=e.getLanguageId(a);if(n!==t){if(i&&u&&l!==c){const e=Qq.findPrevBracketInRange(i.reversedRegex,r,s,l,c);if(e)return this._toFoundBracket(i,e);u=!1}n=t,i=this.getLanguageConfiguration(n).brackets}const o=!!i&&!Mq(e.getStandardTokenType(a));if(o)u?l=e.getStartOffset(a):(l=e.getStartOffset(a),c=e.getEndOffset(a));else if(i&&u&&l!==c){const e=Qq.findPrevBracketInRange(i.reversedRegex,r,s,l,c);if(e)return this._toFoundBracket(i,e)}u=o}if(i&&u&&l!==c){const e=Qq.findPrevBracketInRange(i.reversedRegex,r,s,l,c);if(e)return this._toFoundBracket(i,e)}}return null}findNextBracket(e){const t=this.validatePosition(e),n=this.getLineCount();let i=null,r=null;for(let o=t.lineNumber;o<=n;o++){const e=this._getLineTokens(o),n=e.getCount(),s=this._buffer.getLineContent(o);let a=0,l=0,c=0;if(o===t.lineNumber){a=e.findTokenIndexAtOffset(t.column-1),l=t.column-1,c=t.column-1;const n=e.getLanguageId(a);i!==n&&(i=n,r=this.getLanguageConfiguration(i).brackets)}let u=!0;for(;a<n;a++){const t=e.getLanguageId(a);if(i!==t){if(r&&u&&l!==c){const e=Qq.findNextBracketInRange(r.forwardRegex,o,s,l,c);if(e)return this._toFoundBracket(r,e);u=!1}i=t,r=this.getLanguageConfiguration(i).brackets}const n=!!r&&!Mq(e.getStandardTokenType(a));if(n)u||(l=e.getStartOffset(a)),c=e.getEndOffset(a);else if(r&&u&&l!==c){const e=Qq.findNextBracketInRange(r.forwardRegex,o,s,l,c);if(e)return this._toFoundBracket(r,e)}u=n}if(r&&u&&l!==c){const e=Qq.findNextBracketInRange(r.forwardRegex,o,s,l,c);if(e)return this._toFoundBracket(r,e)}}return null}findEnclosingBrackets(e,t){let n;if(void 0===t)n=null;else{const e=Date.now();n=()=>Date.now()-e<=t}const i=this.validatePosition(e),r=this.getLineCount(),o=new Map;let s=[];const a=(e,t)=>{if(!o.has(e)){let n=[];for(let e=0,i=t?t.brackets.length:0;e<i;e++)n[e]=0;o.set(e,n)}s=o.get(e)};let l=0;const c=(e,t,i,r,o)=>{for(;;){if(n&&++l%100==0&&!n())return z5.INSTANCE;const a=Qq.findNextBracketInRange(e.forwardRegex,t,i,r,o);if(!a)break;const c=i.substring(a.startColumn-1,a.endColumn-1).toLowerCase(),u=e.textIsBracket[c];if(u&&(u.isOpen(c)?s[u.index]++:u.isClose(c)&&s[u.index]--,-1===s[u.index]))return this._matchFoundBracket(a,u,!1,n);r=a.endColumn-1}return null};let u=null,h=null;for(let d=i.lineNumber;d<=r;d++){const e=this._getLineTokens(d),t=e.getCount(),n=this._buffer.getLineContent(d);let r=0,o=0,s=0;if(d===i.lineNumber){r=e.findTokenIndexAtOffset(i.column-1),o=i.column-1,s=i.column-1;const t=e.getLanguageId(r);u!==t&&(u=t,h=this.getLanguageConfiguration(u).brackets,a(u,h))}let l=!0;for(;r<t;r++){const t=e.getLanguageId(r);if(u!==t){if(h&&l&&o!==s){const e=c(h,d,n,o,s);if(e)return V5(e);l=!1}u=t,h=this.getLanguageConfiguration(u).brackets,a(u,h)}const i=!!h&&!Mq(e.getStandardTokenType(r));if(i)l||(o=e.getStartOffset(r)),s=e.getEndOffset(r);else if(h&&l&&o!==s){const e=c(h,d,n,o,s);if(e)return V5(e)}l=i}if(h&&l&&o!==s){const e=c(h,d,n,o,s);if(e)return V5(e)}}return null}_toFoundBracket(e,t){if(!t)return null;let n=this.getValueInRange(t);n=n.toLowerCase();let i=e.textIsBracket[n];return i?{range:t,open:i.open,close:i.close,isOpen:e.textIsOpenBracket[n]}:null}static computeIndentLevel(e,t){let n=0,i=0,r=e.length;for(;i<r;){let r=e.charCodeAt(i);if(32===r)n++;else{if(9!==r)break;n=n-n%t+t}i++}return i===r?-1:n}_computeIndentLevel(t){return e.computeIndentLevel(this._buffer.getLineContent(t+1),this._options.tabSize)}getActiveIndentGuide(e,t,n){this._assertNotDisposed();const i=this.getLineCount();if(e<1||e>i)throw new Error("Illegal value for lineNumber");const r=this.getLanguageConfiguration(this._languageId).foldingRules,o=Boolean(r&&r.offSide);let s=-2,a=-1,l=-2,c=-1;const u=e=>{if(-1!==s&&(-2===s||s>e-1)){s=-1,a=-1;for(let t=e-2;t>=0;t--){let e=this._computeIndentLevel(t);if(e>=0){s=t,a=e;break}}}if(-2===l){l=-1,c=-1;for(let t=e;t<i;t++){let e=this._computeIndentLevel(t);if(e>=0){l=t,c=e;break}}}};let h=-2,d=-1,f=-2,p=-1;const g=e=>{if(-2===h){h=-1,d=-1;for(let t=e-2;t>=0;t--){let e=this._computeIndentLevel(t);if(e>=0){h=t,d=e;break}}}if(-1!==f&&(-2===f||f<e-1)){f=-1,p=-1;for(let t=e;t<i;t++){let e=this._computeIndentLevel(t);if(e>=0){f=t,p=e;break}}}};let m=0,v=!0,y=0,b=!0,_=0,w=0;for(let C=0;v||b;C++){const r=e-C,s=e+C;C>1&&(r<1||r<t)&&(v=!1),C>1&&(s>i||s>n)&&(b=!1),C>5e4&&(v=!1,b=!1);let f=-1;if(v){const e=this._computeIndentLevel(r-1);e>=0?(l=r-1,c=e,f=Math.ceil(e/this._options.indentSize)):(u(r),f=this._getIndentLevelForWhitespaceLine(o,a,c))}let x=-1;if(b){const e=this._computeIndentLevel(s-1);e>=0?(h=s-1,d=e,x=Math.ceil(e/this._options.indentSize)):(g(s),x=this._getIndentLevelForWhitespaceLine(o,d,p))}if(0!==C){if(1===C){if(s<=i&&x>=0&&w+1===x){v=!1,m=s,y=s,_=x;continue}if(r>=1&&f>=0&&f-1===w){b=!1,m=r,y=r,_=f;continue}if(m=e,y=e,_=w,0===_)return{startLineNumber:m,endLineNumber:y,indent:_}}v&&(f>=_?m=r:v=!1),b&&(x>=_?y=s:b=!1)}else w=f}return{startLineNumber:m,endLineNumber:y,indent:_}}getLinesBracketGuides(e,t,n,i){var r,o,s,a,l;const c=[],u=this._bracketPairColorizer.getBracketPairsInRangeWithMinIndentation(new cj(e,1,t,this.getLineMaxColumn(t)));let h;if(n&&u.length>0){h=null===(r=function(e,t){const n=function(e,t){for(let n=e.length-1;n>=0;n--)if(t(e[n]))return n;return-1}(e,t);if(-1!==n)return e[n]}(e<=n.lineNumber&&n.lineNumber<=t?u.filter((e=>e.range.containsPosition(n))):this._bracketPairColorizer.getBracketPairsInRange(cj.fromPositions(n)),(e=>e.range.startLineNumber!==e.range.endLineNumber)))||void 0===r?void 0:r.range}const d=new TY(u),f=new Array,p=new Array,g=new H5;for(let m=e;m<=t;m++){let e=new Array;p.length>0&&(e=e.concat(p),p.length=0),c.push(e);for(const n of d.takeWhile((e=>e.openingBracketRange.startLineNumber<=m))||[]){if(n.range.startLineNumber===n.range.endLineNumber)continue;const e=Math.min(this.getVisibleColumnFromPosition(n.openingBracketRange.getStartPosition()),this.getVisibleColumnFromPosition(null!==(s=null===(o=n.closingBracketRange)||void 0===o?void 0:o.getStartPosition())&&void 0!==s?s:n.range.getEndPosition()),n.minVisibleColumnIndentation+1);let t=!1;if(n.closingBracketRange){RW(this.getLineContent(n.closingBracketRange.startLineNumber))<n.closingBracketRange.startColumn-1&&(t=!0)}const i=n.openingBracketRange.getStartPosition(),r=null!==(l=null===(a=n.closingBracketRange)||void 0===a?void 0:a.getStartPosition())&&void 0!==l?l:n.range.getEndPosition();void 0===n.closingBracketRange?f[n.nestingLevel]=null:f[n.nestingLevel]={nestingLevel:n.nestingLevel,guideVisibleColumn:e,start:i,visibleStartColumn:this.getVisibleColumnFromPosition(i),end:r,visibleEndColumn:this.getVisibleColumnFromPosition(r),bracketPair:n,renderHorizontalEndLineAtTheBottom:t}}for(const n of f){if(!n)continue;const t=h&&n.bracketPair.range.equalsRange(h),r=g.getInlineClassNameOfLevel(n.nestingLevel)+(i.highlightActive&&t?" "+g.activeClassName:"");(t&&i.horizontalGuides!==FU.Disabled||i.includeInactive&&i.horizontalGuides===FU.Enabled)&&(n.start.lineNumber===m&&n.guideVisibleColumn<n.visibleStartColumn&&e.push(new jU(n.guideVisibleColumn,r,new zU(!1,n.start.column))),n.end.lineNumber===m+1&&n.guideVisibleColumn<n.visibleEndColumn&&p.push(new jU(n.guideVisibleColumn,r,new zU(!n.renderHorizontalEndLineAtTheBottom,n.end.column))))}let t=Number.MAX_SAFE_INTEGER;for(let n=f.length-1;n>=0;n--){const r=f[n];if(!r)continue;const o=i.highlightActive&&h&&r.bracketPair.range.equalsRange(h),s=g.getInlineClassNameOfLevel(r.nestingLevel)+(o?" "+g.activeClassName:"");(o||i.includeInactive)&&r.renderHorizontalEndLineAtTheBottom&&r.end.lineNumber===m+1&&p.push(new jU(r.guideVisibleColumn,s,null)),r.end.lineNumber<=m||r.start.lineNumber>=m||(r.guideVisibleColumn>=t&&!o||(t=r.guideVisibleColumn,(o||i.includeInactive)&&e.push(new jU(r.guideVisibleColumn,s,null))))}e.sort(((e,t)=>e.visibleColumn-t.visibleColumn))}return c}getVisibleColumnFromPosition(e){return U1.visibleColumnFromColumn(this.getLineContent(e.lineNumber),e.column,this._options.tabSize)+1}getLinesIndentGuides(e,t){this._assertNotDisposed();const n=this.getLineCount();if(e<1||e>n)throw new Error("Illegal value for startLineNumber");if(t<1||t>n)throw new Error("Illegal value for endLineNumber");const i=this.getLanguageConfiguration(this._languageId).foldingRules,r=Boolean(i&&i.offSide);let o=new Array(t-e+1),s=-2,a=-1,l=-2,c=-1;for(let u=e;u<=t;u++){let t=u-e;const i=this._computeIndentLevel(u-1);if(i>=0)s=u-1,a=i,o[t]=Math.ceil(i/this._options.indentSize);else{if(-2===s){s=-1,a=-1;for(let e=u-2;e>=0;e--){let t=this._computeIndentLevel(e);if(t>=0){s=e,a=t;break}}}if(-1!==l&&(-2===l||l<u-1)){l=-1,c=-1;for(let e=u;e<n;e++){let t=this._computeIndentLevel(e);if(t>=0){l=e,c=t;break}}}o[t]=this._getIndentLevelForWhitespaceLine(r,a,c)}}return o}_getIndentLevelForWhitespaceLine(e,t,n){return-1===t||-1===n?0:t<n?1+Math.floor(t/this._options.indentSize):t===n||e?Math.ceil(n/this._options.indentSize):1+Math.floor(n/this._options.indentSize)}normalizePosition(e,t){return e}getLineIndentColumn(e){return function(e){let t=0;for(const n of e){if(" "!==n&&"\t"!==n)break;t++}return t}(this.getLineContent(e))+1}};W5.MODEL_SYNC_LIMIT=52428800,W5.LARGE_FILE_SIZE_THRESHOLD=20971520,W5.LARGE_FILE_LINE_COUNT_THRESHOLD=3e5,W5.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:LP.tabSize,indentSize:LP.indentSize,insertSpaces:LP.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:LP.trimAutoWhitespace,largeFileOptimizations:LP.largeFileOptimizations,bracketPairColorizationOptions:LP.bracketPairColorizationOptions},W5=I5([O5(4,S1),O5(5,lq),O5(6,NK)],W5);class H5{constructor(){this.activeClassName="indent-active"}getInlineClassNameOfLevel(e){return"bracket-indent-guide lvl-"+e%30}}function U5(e){return!(!e.options.overviewRuler||!e.options.overviewRuler.color)}function $5(e){return!!e.options.after||!!e.options.before}class q5{constructor(){this._decorationsTree0=new r0,this._decorationsTree1=new r0,this._injectedTextDecorationsTree=new r0}ensureAllNodesHaveRanges(e){this.getAll(e,0,!1,!1)}_ensureNodesHaveRanges(e,t){for(const n of t)null===n.range&&(n.range=e.getRangeAt(n.cachedAbsoluteStart,n.cachedAbsoluteEnd));return t}getAllInInterval(e,t,n,i,r){const o=e.getVersionId(),s=this._intervalSearch(t,n,i,r,o);return this._ensureNodesHaveRanges(e,s)}_intervalSearch(e,t,n,i,r){const o=this._decorationsTree0.intervalSearch(e,t,n,i,r),s=this._decorationsTree1.intervalSearch(e,t,n,i,r),a=this._injectedTextDecorationsTree.intervalSearch(e,t,n,i,r);return o.concat(s).concat(a)}getInjectedTextInInterval(e,t,n,i){const r=e.getVersionId(),o=this._injectedTextDecorationsTree.intervalSearch(t,n,i,!1,r);return this._ensureNodesHaveRanges(e,o).filter((e=>e.options.showIfCollapsed||!e.range.isEmpty()))}getAllInjectedText(e,t){const n=e.getVersionId(),i=this._injectedTextDecorationsTree.search(t,!1,n);return this._ensureNodesHaveRanges(e,i).filter((e=>e.options.showIfCollapsed||!e.range.isEmpty()))}getAll(e,t,n,i){const r=e.getVersionId(),o=this._search(t,n,i,r);return this._ensureNodesHaveRanges(e,o)}_search(e,t,n,i){if(n)return this._decorationsTree1.search(e,t,i);{const n=this._decorationsTree0.search(e,t,i),r=this._decorationsTree1.search(e,t,i),o=this._injectedTextDecorationsTree.search(e,t,i);return n.concat(r).concat(o)}}collectNodesFromOwner(e){const t=this._decorationsTree0.collectNodesFromOwner(e),n=this._decorationsTree1.collectNodesFromOwner(e),i=this._injectedTextDecorationsTree.collectNodesFromOwner(e);return t.concat(n).concat(i)}collectNodesPostOrder(){const e=this._decorationsTree0.collectNodesPostOrder(),t=this._decorationsTree1.collectNodesPostOrder(),n=this._injectedTextDecorationsTree.collectNodesPostOrder();return e.concat(t).concat(n)}insert(e){$5(e)?this._injectedTextDecorationsTree.insert(e):U5(e)?this._decorationsTree1.insert(e):this._decorationsTree0.insert(e)}delete(e){$5(e)?this._injectedTextDecorationsTree.delete(e):U5(e)?this._decorationsTree1.delete(e):this._decorationsTree0.delete(e)}getNodeRange(e,t){const n=e.getVersionId();return t.cachedVersionId!==n&&this._resolveNode(t,n),null===t.range&&(t.range=e.getRangeAt(t.cachedAbsoluteStart,t.cachedAbsoluteEnd)),t.range}_resolveNode(e,t){$5(e)?this._injectedTextDecorationsTree.resolveNode(e,t):U5(e)?this._decorationsTree1.resolveNode(e,t):this._decorationsTree0.resolveNode(e,t)}acceptReplace(e,t,n,i){this._decorationsTree0.acceptReplace(e,t,n,i),this._decorationsTree1.acceptReplace(e,t,n,i),this._injectedTextDecorationsTree.acceptReplace(e,t,n,i)}}function K5(e){return e.replace(/[^a-z0-9\-_]/gi," ")}class Y5{constructor(e){this.color=e.color||"",this.darkColor=e.darkColor||""}}class G5 extends Y5{constructor(e){super(e),this._resolvedColor=null,this.position="number"==typeof e.position?e.position:IU.Center}getColor(e){return this._resolvedColor||("light"!==e.type&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(e,t){if("string"==typeof e)return e;let n=e?t.getColor(e.id):null;return n?n.toString():""}}class X5 extends Y5{constructor(e){super(e),this.position=e.position}getColor(e){return this._resolvedColor||("light"!==e.type&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(e,t){return"string"==typeof e?C1.fromHex(e):t.getColor(e.id)}}class Z5{constructor(e){this.content=e.content||"",this.inlineClassName=e.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1}static from(e){return e instanceof Z5?e:new Z5(e)}}class J5{constructor(e){this.description=e.description,this.stickiness=e.stickiness||0,this.zIndex=e.zIndex||0,this.className=e.className?K5(e.className):null,this.hoverMessage=e.hoverMessage||null,this.glyphMarginHoverMessage=e.glyphMarginHoverMessage||null,this.isWholeLine=e.isWholeLine||!1,this.showIfCollapsed=e.showIfCollapsed||!1,this.collapseOnReplaceEdit=e.collapseOnReplaceEdit||!1,this.overviewRuler=e.overviewRuler?new G5(e.overviewRuler):null,this.minimap=e.minimap?new X5(e.minimap):null,this.glyphMarginClassName=e.glyphMarginClassName?K5(e.glyphMarginClassName):null,this.linesDecorationsClassName=e.linesDecorationsClassName?K5(e.linesDecorationsClassName):null,this.firstLineDecorationClassName=e.firstLineDecorationClassName?K5(e.firstLineDecorationClassName):null,this.marginClassName=e.marginClassName?K5(e.marginClassName):null,this.inlineClassName=e.inlineClassName?K5(e.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=e.beforeContentClassName?K5(e.beforeContentClassName):null,this.afterContentClassName=e.afterContentClassName?K5(e.afterContentClassName):null,this.after=e.after?Z5.from(e.after):null,this.before=e.before?Z5.from(e.before):null}static register(e){return new J5(e)}static createDynamic(e){return new J5(e)}}J5.EMPTY=J5.register({description:"empty"});const Q5=[J5.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),J5.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),J5.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),J5.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function e6(e){return e instanceof J5?e:J5.createDynamic(e)}class t6 extends KP{constructor(e){super(),this.handleBeforeFire=e,this._actual=this._register(new nB),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var e;if(this._deferredCnt--,0===this._deferredCnt){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const e={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(e)}null===(e=this._affectedInjectedTextLines)||void 0===e||e.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(e){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(e)}checkAffectedAndFire(e){this._affectsMinimap||(this._affectsMinimap=!(!e.minimap||!e.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!(!e.overviewRuler||!e.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}class n6 extends KP{constructor(){super(),this._fastEmitter=this._register(new nB),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new nB),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(e=null){if(this._deferredCnt--,0===this._deferredCnt&&null!==this._deferredEvent){this._deferredEvent.rawContentChangedEvent.resultingSelection=e;const t=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(t),this._slowEmitter.fire(t)}}fire(e){this._deferredCnt>0?this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(e):this._deferredEvent=e:(this._fastEmitter.fire(e),this._slowEmitter.fire(e))}}const i6=()=>!0,r6=()=>!1,o6=e=>" "===e||"\t"===e;class s6{constructor(e,t,n){this._cursorMoveConfigurationBrand=void 0,this._languageId=e;const i=n.options,r=i.get(129);this.readOnly=i.get(80),this.tabSize=t.tabSize,this.indentSize=t.indentSize,this.insertSpaces=t.insertSpaces,this.stickyTabStops=i.get(103),this.lineHeight=i.get(58),this.pageSize=Math.max(1,Math.floor(r.height/this.lineHeight)-2),this.useTabStops=i.get(114),this.wordSeparators=i.get(115),this.emptySelectionClipboard=i.get(32),this.copyWithSyntaxHighlighting=i.get(21),this.multiCursorMergeOverlapping=i.get(68),this.multiCursorPaste=i.get(70),this.autoClosingBrackets=i.get(5),this.autoClosingQuotes=i.get(8),this.autoClosingDelete=i.get(6),this.autoClosingOvertype=i.get(7),this.autoSurround=i.get(11),this.autoIndent=i.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:s6._getShouldAutoClose(e,this.autoClosingQuotes),bracket:s6._getShouldAutoClose(e,this.autoClosingBrackets)},this.autoClosingPairs=FK.getAutoClosingPairs(e);let o=s6._getSurroundingPairs(e);if(o)for(const s of o)this.surroundingPairs[s.open]=s.close}static shouldRecreate(e){return e.hasChanged(129)||e.hasChanged(115)||e.hasChanged(32)||e.hasChanged(68)||e.hasChanged(70)||e.hasChanged(5)||e.hasChanged(8)||e.hasChanged(6)||e.hasChanged(7)||e.hasChanged(11)||e.hasChanged(114)||e.hasChanged(58)||e.hasChanged(80)}get electricChars(){if(!this._electricChars){this._electricChars={};let e=s6._getElectricCharacters(this._languageId);if(e)for(const t of e)this._electricChars[t]=!0}return this._electricChars}normalizeIndentation(e){return W5.normalizeIndentation(e,this.indentSize,this.insertSpaces)}static _getElectricCharacters(e){try{return FK.getElectricCharacters(e)}catch(nR){return IP(nR),null}}static _getShouldAutoClose(e,t){switch(t){case"beforeWhitespace":return o6;case"languageDefined":return s6._getLanguageDefinedShouldAutoClose(e);case"always":return i6;case"never":return r6}}static _getLanguageDefinedShouldAutoClose(e){try{const t=FK.getAutoCloseBeforeSet(e);return e=>-1!==t.indexOf(e)}catch(nR){return IP(nR),r6}}static _getSurroundingPairs(e){try{return FK.getSurroundingPairs(e)}catch(nR){return IP(nR),null}}}class a6{constructor(e,t,n,i){this._singleCursorStateBrand=void 0,this.selectionStart=e,this.selectionStartLeftoverVisibleColumns=t,this.position=n,this.leftoverVisibleColumns=i,this.selection=a6._computeSelection(this.selectionStart,this.position)}equals(e){return this.selectionStartLeftoverVisibleColumns===e.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===e.leftoverVisibleColumns&&this.position.equals(e.position)&&this.selectionStart.equalsRange(e.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(e,t,n,i){return e?new a6(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new lj(t,n),i):new a6(new cj(t,n,t,n),i,new lj(t,n),i)}static _computeSelection(e,t){let n,i,r,o;return e.isEmpty()?(n=e.startLineNumber,i=e.startColumn,r=t.lineNumber,o=t.column):t.isBeforeOrEqual(e.getStartPosition())?(n=e.endLineNumber,i=e.endColumn,r=t.lineNumber,o=t.column):(n=e.startLineNumber,i=e.startColumn,r=t.lineNumber,o=t.column),new uj(n,i,r,o)}}class l6{constructor(e,t,n,i){this._cursorContextBrand=void 0,this.model=e,this.viewModel=t,this.coordinatesConverter=n,this.cursorConfig=i}}class c6{constructor(e){this.modelState=e,this.viewState=null}}class u6{constructor(e){this.modelState=null,this.viewState=e}}class h6{constructor(e,t){this._cursorStateBrand=void 0,this.modelState=e,this.viewState=t}static fromModelState(e){return new c6(e)}static fromViewState(e){return new u6(e)}static fromModelSelection(e){const t=e.selectionStartLineNumber,n=e.selectionStartColumn,i=e.positionLineNumber,r=e.positionColumn,o=new a6(new cj(t,n,t,n),0,new lj(i,r),0);return h6.fromModelState(o)}static fromModelSelections(e){let t=[];for(let n=0,i=e.length;n<i;n++)t[n]=this.fromModelSelection(e[n]);return t}equals(e){return this.viewState.equals(e.viewState)&&this.modelState.equals(e.modelState)}}class d6{constructor(e,t,n){this._editOperationResultBrand=void 0,this.type=e,this.commands=t,this.shouldPushStackElementBefore=n.shouldPushStackElementBefore,this.shouldPushStackElementAfter=n.shouldPushStackElementAfter}}function f6(e){return"'"===e||'"'===e||"`"===e}class p6{static whitespaceVisibleColumn(e,t,n){const i=e.length;let r=0,o=-1,s=-1;for(let a=0;a<i;a++){if(a===t)return[o,s,r];r%n==0&&(o=a,s=r);switch(e.charCodeAt(a)){case 32:r+=1;break;case 9:r=U1.nextRenderTabStop(r,n);break;default:return[-1,-1,-1]}}return t===i?[o,s,r]:[-1,-1,-1]}static atomicPosition(e,t,n,i){const r=e.length,[o,s,a]=p6.whitespaceVisibleColumn(e,t,n);if(-1===a)return-1;let l;switch(i){case 0:l=!0;break;case 1:l=!1;break;case 2:if(a%n==0)return t;l=a%n<=n/2}if(l){if(-1===o)return-1;let t=s;for(let i=o;i<r;++i){if(t===s+n)return o;switch(e.charCodeAt(i)){case 32:t+=1;break;case 9:t=U1.nextRenderTabStop(t,n);break;default:return-1}}return t===s+n?o:-1}const c=U1.nextRenderTabStop(a,n);let u=a;for(let h=t;h<r;h++){if(u===c)return h;switch(e.charCodeAt(h)){case 32:u+=1;break;case 9:u=U1.nextRenderTabStop(u,n);break;default:return-1}}return u===c?r:-1}}class g6{constructor(e=null){this.hitTarget=e,this.type=0}}class m6{constructor(e,t,n){this.position=e,this.spanNode=t,this.injectedText=n,this.type=1}}var v6;(v6||(v6={})).createFromDOMInfo=function(e,t,n){const i=e.getPositionFromDOMInfo(t,n);return i?new m6(i,t,null):new g6(t)};class y6{constructor(e,t){this.lastViewCursorsRenderData=e,this.lastTextareaPosition=t}}class b6{constructor(e,t,n=0,i=null,r=null,o=null){this.element=e,this.type=t,this.mouseColumn=n,this.position=i,!r&&i&&(r=new cj(i.lineNumber,i.column,i.lineNumber,i.column)),this.range=r,this.detail=o}static _typeToString(e){return 1===e?"TEXTAREA":2===e?"GUTTER_GLYPH_MARGIN":3===e?"GUTTER_LINE_NUMBERS":4===e?"GUTTER_LINE_DECORATIONS":5===e?"GUTTER_VIEW_ZONE":6===e?"CONTENT_TEXT":7===e?"CONTENT_EMPTY":8===e?"CONTENT_VIEW_ZONE":9===e?"CONTENT_WIDGET":10===e?"OVERVIEW_RULER":11===e?"SCROLLBAR":12===e?"OVERLAY_WIDGET":"UNKNOWN"}static toString(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+e.detail}toString(){return b6.toString(this)}}class _6{static isTextArea(e){return 2===e.length&&3===e[0]&&6===e[1]}static isChildOfViewLines(e){return e.length>=4&&3===e[0]&&7===e[3]}static isStrictChildOfViewLines(e){return e.length>4&&3===e[0]&&7===e[3]}static isChildOfScrollableElement(e){return e.length>=2&&3===e[0]&&5===e[1]}static isChildOfMinimap(e){return e.length>=2&&3===e[0]&&8===e[1]}static isChildOfContentWidgets(e){return e.length>=4&&3===e[0]&&1===e[3]}static isChildOfOverflowingContentWidgets(e){return e.length>=1&&2===e[0]}static isChildOfOverlayWidgets(e){return e.length>=2&&3===e[0]&&4===e[1]}}class w6{constructor(e,t,n){this.model=e.model;const i=e.configuration.options;this.layoutInfo=i.get(129),this.viewDomNode=t.viewDomNode,this.lineHeight=i.get(58),this.stickyTabStops=i.get(103),this.typicalHalfwidthCharacterWidth=i.get(43).typicalHalfwidthCharacterWidth,this.lastRenderData=n,this._context=e,this._viewHelper=t}getZoneAtCoord(e){return w6.getZoneAtCoord(this._context,e)}static getZoneAtCoord(e,t){const n=e.viewLayout.getWhitespaceAtVerticalOffset(t);if(n){const i=n.verticalOffset+n.height/2,r=e.model.getLineCount();let o,s=null,a=null;return n.afterLineNumber!==r&&(a=new lj(n.afterLineNumber+1,1)),n.afterLineNumber>0&&(s=new lj(n.afterLineNumber,e.model.getLineMaxColumn(n.afterLineNumber))),o=null===a?s:null===s?a:t<i?s:a,{viewZoneId:n.id,afterLineNumber:n.afterLineNumber,positionBefore:s,positionAfter:a,position:o}}return null}getFullLineRangeAtCoord(e){if(this._context.viewLayout.isAfterLines(e)){const e=this._context.model.getLineCount(),t=this._context.model.getLineMaxColumn(e);return{range:new cj(e,t,e,t),isAfterLines:!0}}const t=this._context.viewLayout.getLineNumberAtVerticalOffset(e),n=this._context.model.getLineMaxColumn(t);return{range:new cj(t,1,t,n),isAfterLines:!1}}getLineNumberAtVerticalOffset(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)}isAfterLines(e){return this._context.viewLayout.isAfterLines(e)}isInTopPadding(e){return this._context.viewLayout.isInTopPadding(e)}isInBottomPadding(e){return this._context.viewLayout.isInBottomPadding(e)}getVerticalOffsetForLineNumber(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)}findAttribute(e,t){return w6._findAttribute(e,t,this._viewHelper.viewDomNode)}static _findAttribute(e,t,n){for(;e&&e!==document.body;){if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e===n)return null;e=e.parentNode}return null}getLineWidth(e){return this._viewHelper.getLineWidth(e)}visibleRangeForPosition(e,t){return this._viewHelper.visibleRangeForPosition(e,t)}getPositionFromDOMInfo(e,t){return this._viewHelper.getPositionFromDOMInfo(e,t)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class C6 extends class{constructor(e,t,n){this.editorPos=t,this.pos=n,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+n.y-t.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+n.x-t.x-e.layoutInfo.contentLeft,this.isInMarginArea=n.x-t.x<e.layoutInfo.contentLeft&&n.x-t.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,S6._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}}{constructor(e,t,n,i){super(e,t,n),this._ctx=e,i?(this.target=i,this.targetPath=vQ.collect(i,e.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}\n\ttarget: ${this.target?this.target.outerHTML:null}`}fulfill(e,t=null,n=null,i=null){let r=this.mouseColumn;return t&&t.column<this._ctx.model.getLineMaxColumn(t.lineNumber)&&(r=U1.visibleColumnFromColumn(this._ctx.model.getLineContent(t.lineNumber),t.column,this._ctx.model.getTextModelOptions().tabSize)+1),new b6(this.target,e,r,t,n,i)}withTarget(e){return new C6(this._ctx,this.editorPos,this.pos,e)}}const x6={isAfterLines:!0};function k6(e){return{isAfterLines:!1,horizontalDistanceToText:e}}class S6{constructor(e,t){this._context=e,this._viewHelper=t}mouseTargetIsWidget(e){const t=e.target,n=vQ.collect(t,this._viewHelper.viewDomNode);return!(!_6.isChildOfContentWidgets(n)&&!_6.isChildOfOverflowingContentWidgets(n))||!!_6.isChildOfOverlayWidgets(n)}createMouseTarget(e,t,n,i){const r=new w6(this._context,this._viewHelper,e),o=new C6(r,t,n,i);try{return S6._createMouseTarget(r,o,!1)}catch(s){return o.fulfill(0)}}static _createMouseTarget(e,t,n){if(null===t.target){if(n)return t.fulfill(0);const i=S6._doHitTest(e,t);return 1===i.type?S6.createMouseTargetFromHitTestPosition(e,t,i.spanNode,i.position,i.injectedText):this._createMouseTarget(e,t.withTarget(i.hitTarget),!0)}const i=t;let r=null;return r=r||S6._hitTestContentWidget(e,i),r=r||S6._hitTestOverlayWidget(e,i),r=r||S6._hitTestMinimap(e,i),r=r||S6._hitTestScrollbarSlider(e,i),r=r||S6._hitTestViewZone(e,i),r=r||S6._hitTestMargin(e,i),r=r||S6._hitTestViewCursor(e,i),r=r||S6._hitTestTextArea(e,i),r=r||S6._hitTestViewLines(e,i,n),r=r||S6._hitTestScrollbar(e,i),r||t.fulfill(0)}static _hitTestContentWidget(e,t){if(_6.isChildOfContentWidgets(t.targetPath)||_6.isChildOfOverflowingContentWidgets(t.targetPath)){const n=e.findAttribute(t.target,"widgetId");return n?t.fulfill(9,null,null,n):t.fulfill(0)}return null}static _hitTestOverlayWidget(e,t){if(_6.isChildOfOverlayWidgets(t.targetPath)){const n=e.findAttribute(t.target,"widgetId");return n?t.fulfill(12,null,null,n):t.fulfill(0)}return null}static _hitTestViewCursor(e,t){if(t.target){const n=e.lastRenderData.lastViewCursorsRenderData;for(const e of n)if(t.target===e.domNode)return t.fulfill(6,e.position,null,{mightBeForeignElement:!1})}if(t.isInContentArea){const n=e.lastRenderData.lastViewCursorsRenderData,i=t.mouseContentHorizontalOffset,r=t.mouseVerticalOffset;for(const o of n){if(i<o.contentLeft)continue;if(i>o.contentLeft+o.width)continue;const n=e.getVerticalOffsetForLineNumber(o.position.lineNumber);if(n<=r&&r<=n+o.height)return t.fulfill(6,o.position,null,{mightBeForeignElement:!1})}}return null}static _hitTestViewZone(e,t){const n=e.getZoneAtCoord(t.mouseVerticalOffset);if(n){const e=t.isInContentArea?8:5;return t.fulfill(e,n.position,null,n)}return null}static _hitTestTextArea(e,t){return _6.isTextArea(t.targetPath)?e.lastRenderData.lastTextareaPosition?t.fulfill(6,e.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1}):t.fulfill(1,e.lastRenderData.lastTextareaPosition):null}static _hitTestMargin(e,t){if(t.isInMarginArea){const n=e.getFullLineRangeAtCoord(t.mouseVerticalOffset),i=n.range.getStartPosition();let r=Math.abs(t.pos.x-t.editorPos.x);const o={isAfterLines:n.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:r};return r-=e.layoutInfo.glyphMarginLeft,r<=e.layoutInfo.glyphMarginWidth?t.fulfill(2,i,n.range,o):(r-=e.layoutInfo.glyphMarginWidth,r<=e.layoutInfo.lineNumbersWidth?t.fulfill(3,i,n.range,o):(r-=e.layoutInfo.lineNumbersWidth,t.fulfill(4,i,n.range,o)))}return null}static _hitTestViewLines(e,t,n){if(!_6.isChildOfViewLines(t.targetPath))return null;if(e.isInTopPadding(t.mouseVerticalOffset))return t.fulfill(7,new lj(1,1),null,x6);if(e.isAfterLines(t.mouseVerticalOffset)||e.isInBottomPadding(t.mouseVerticalOffset)){const n=e.model.getLineCount(),i=e.model.getLineMaxColumn(n);return t.fulfill(7,new lj(n,i),null,x6)}if(n){if(_6.isStrictChildOfViewLines(t.targetPath)){const n=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset);if(0===e.model.getLineLength(n)){const i=e.getLineWidth(n),r=k6(t.mouseContentHorizontalOffset-i);return t.fulfill(7,new lj(n,1),null,r)}const i=e.getLineWidth(n);if(t.mouseContentHorizontalOffset>=i){const r=k6(t.mouseContentHorizontalOffset-i),o=new lj(n,e.model.getLineMaxColumn(n));return t.fulfill(7,o,null,r)}}return t.fulfill(0)}const i=S6._doHitTest(e,t);return 1===i.type?S6.createMouseTargetFromHitTestPosition(e,t,i.spanNode,i.position,i.injectedText):this._createMouseTarget(e,t.withTarget(i.hitTarget),!0)}static _hitTestMinimap(e,t){if(_6.isChildOfMinimap(t.targetPath)){const n=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),i=e.model.getLineMaxColumn(n);return t.fulfill(11,new lj(n,i))}return null}static _hitTestScrollbarSlider(e,t){if(_6.isChildOfScrollableElement(t.targetPath)&&t.target&&1===t.target.nodeType){const n=t.target.className;if(n&&/\b(slider|scrollbar)\b/.test(n)){const n=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),i=e.model.getLineMaxColumn(n);return t.fulfill(11,new lj(n,i))}}return null}static _hitTestScrollbar(e,t){if(_6.isChildOfScrollableElement(t.targetPath)){const n=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),i=e.model.getLineMaxColumn(n);return t.fulfill(11,new lj(n,i))}return null}getMouseColumn(e,t){const n=this._context.configuration.options,i=n.get(129),r=this._context.viewLayout.getCurrentScrollLeft()+t.x-e.x-i.contentLeft;return S6._getMouseColumn(r,n.get(43).typicalHalfwidthCharacterWidth)}static _getMouseColumn(e,t){if(e<0)return 1;return Math.round(e/t)+1}static createMouseTargetFromHitTestPosition(e,t,n,i,r){const o=i.lineNumber,s=i.column,a=e.getLineWidth(o);if(t.mouseContentHorizontalOffset>a){const e=k6(t.mouseContentHorizontalOffset-a);return t.fulfill(7,i,null,e)}const l=e.visibleRangeForPosition(o,s);if(!l)return t.fulfill(0,i);const c=l.left;if(t.mouseContentHorizontalOffset===c)return t.fulfill(6,i,null,{mightBeForeignElement:!!r});const u=[];if(u.push({offset:l.left,column:s}),s>1){const t=e.visibleRangeForPosition(o,s-1);t&&u.push({offset:t.left,column:s-1})}if(s<e.model.getLineMaxColumn(o)){const t=e.visibleRangeForPosition(o,s+1);t&&u.push({offset:t.left,column:s+1})}u.sort(((e,t)=>e.offset-t.offset));const h=t.pos.toClientCoordinates(),d=n.getBoundingClientRect(),f=d.left<=h.clientX&&h.clientX<=d.right;for(let p=1;p<u.length;p++){const e=u[p-1],n=u[p];if(e.offset<=t.mouseContentHorizontalOffset&&t.mouseContentHorizontalOffset<=n.offset){const s=new cj(o,e.column,o,n.column);return t.fulfill(6,i,s,{mightBeForeignElement:!f||!!r})}}return t.fulfill(6,i,null,{mightBeForeignElement:!f||!!r})}static _doHitTestWithCaretRangeFromPoint(e,t){const n=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),i=e.getVerticalOffsetForLineNumber(n)+Math.floor(e.lineHeight/2);let r=t.pos.y+(i-t.mouseVerticalOffset);r<=t.editorPos.y&&(r=t.editorPos.y+1),r>=t.editorPos.y+e.layoutInfo.height&&(r=t.editorPos.y+e.layoutInfo.height-1);const o=new aQ(t.pos.x,r),s=this._actualDoHitTestWithCaretRangeFromPoint(e,o.toClientCoordinates());return 1===s.type?s:this._actualDoHitTestWithCaretRangeFromPoint(e,t.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(e,t){const n=iW(e.viewDomNode);let i;if(i=n?void 0===n.caretRangeFromPoint?function(e,t,n){const i=document.createRange();let r=e.elementFromPoint(t,n);if(null!==r){for(;r&&r.firstChild&&r.firstChild.nodeType!==r.firstChild.TEXT_NODE&&r.lastChild&&r.lastChild.firstChild;)r=r.lastChild;const e=r.getBoundingClientRect(),n=window.getComputedStyle(r,null).getPropertyValue("font"),o=r.innerText;let s,a=e.left,l=0;if(t>e.left+e.width)l=o.length;else{const e=D6.getInstance();for(let i=0;i<o.length+1;i++){if(s=e.getCharWidth(o.charAt(i),n)/2,a+=s,t<a){l=i;break}a+=s}}i.setStart(r.firstChild,l),i.setEnd(r.firstChild,l)}return i}(n,t.clientX,t.clientY):n.caretRangeFromPoint(t.clientX,t.clientY):document.caretRangeFromPoint(t.clientX,t.clientY),!i||!i.startContainer)return new g6;const r=i.startContainer;if(r.nodeType===r.TEXT_NODE){const t=r.parentNode,n=t?t.parentNode:null,o=n?n.parentNode:null;return(o&&o.nodeType===o.ELEMENT_NODE?o.className:null)===TQ.CLASS_NAME?v6.createFromDOMInfo(e,t,i.startOffset):new g6(r.parentNode)}if(r.nodeType===r.ELEMENT_NODE){const t=r.parentNode,n=t?t.parentNode:null;return(n&&n.nodeType===n.ELEMENT_NODE?n.className:null)===TQ.CLASS_NAME?v6.createFromDOMInfo(e,r,r.textContent.length):new g6(r)}return new g6}static _doHitTestWithCaretPositionFromPoint(e,t){const n=document.caretPositionFromPoint(t.clientX,t.clientY);if(n.offsetNode.nodeType===n.offsetNode.TEXT_NODE){const t=n.offsetNode.parentNode,i=t?t.parentNode:null,r=i?i.parentNode:null;return(r&&r.nodeType===r.ELEMENT_NODE?r.className:null)===TQ.CLASS_NAME?v6.createFromDOMInfo(e,n.offsetNode.parentNode,n.offset):new g6(n.offsetNode.parentNode)}if(n.offsetNode.nodeType===n.offsetNode.ELEMENT_NODE){const t=n.offsetNode.parentNode,i=t&&t.nodeType===t.ELEMENT_NODE?t.className:null,r=t?t.parentNode:null,o=r&&r.nodeType===r.ELEMENT_NODE?r.className:null;if(i===TQ.CLASS_NAME){const t=n.offsetNode.childNodes[Math.min(n.offset,n.offsetNode.childNodes.length-1)];if(t)return v6.createFromDOMInfo(e,t,0)}else if(o===TQ.CLASS_NAME)return v6.createFromDOMInfo(e,n.offsetNode,0)}return new g6(n.offsetNode)}static _snapToSoftTabBoundary(e,t){const n=t.getLineContent(e.lineNumber),{tabSize:i}=t.getTextModelOptions(),r=p6.atomicPosition(n,e.column-1,i,2);return-1!==r?new lj(e.lineNumber,r+1):e}static _doHitTest(e,t){let n=new g6;if("function"==typeof document.caretRangeFromPoint?n=this._doHitTestWithCaretRangeFromPoint(e,t):document.caretPositionFromPoint&&(n=this._doHitTestWithCaretPositionFromPoint(e,t.pos.toClientCoordinates())),1===n.type){const t=e.model.getInjectedTextAt(n.position),i=e.model.normalizePosition(n.position,2);!t&&i.equals(n.position)||(n=new m6(i,n.spanNode,t))}return 1===n.type&&e.stickyTabStops&&(n=new m6(this._snapToSoftTabBoundary(n.position,e.model),n.spanNode,n.injectedText)),n}}class D6{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return D6._INSTANCE||(D6._INSTANCE=new D6),D6._INSTANCE}getCharWidth(e,t){const n=e+t;if(this._cache[n])return this._cache[n];const i=this._canvas.getContext("2d");i.font=t;const r=i.measureText(e).width;return this._cache[n]=r,r}}function E6(e){return function(t,n){let i=!1;return e&&(i=e.mouseTargetIsWidget(n)),i||n.preventDefault(),n}}D6._INSTANCE=null;class L6 extends gQ{constructor(e,t,n){super(),this._context=e,this.viewController=t,this.viewHelper=n,this.mouseTargetFactory=new S6(this._context,n),this._mouseDownOperation=this._register(new T6(this._context,this.viewController,this.viewHelper,((e,t)=>this._createMouseTarget(e,t)),(e=>this._getMouseColumn(e)))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(129).height;const i=new dQ(this.viewHelper.viewDomNode);this._register(i.onContextMenu(this.viewHelper.viewDomNode,(e=>this._onContextMenu(e,!0)))),this._register(i.onMouseMoveThrottled(this.viewHelper.viewDomNode,(e=>this._onMouseMove(e)),E6(this.mouseTargetFactory),L6.MOUSE_MOVE_MINIMUM_TIME)),this._register(i.onMouseUp(this.viewHelper.viewDomNode,(e=>this._onMouseUp(e)))),this._register(i.onMouseLeave(this.viewHelper.viewDomNode,(e=>this._onMouseLeave(e)))),this._register(i.onMouseDown(this.viewHelper.viewDomNode,(e=>this._onMouseDown(e))));this._register(AV(this.viewHelper.viewDomNode,hW.MOUSE_WHEEL,(e=>{if(this.viewController.emitMouseWheel(e),!this._context.configuration.options.get(67))return;const t=new cV(e);if(WR?(e.metaKey||e.ctrlKey)&&!e.shiftKey&&!e.altKey:e.ctrlKey&&!e.metaKey&&!e.shiftKey&&!e.altKey){const e=LU.getZoomLevel(),n=t.deltaY>0?1:-1;LU.setZoomLevel(e+n),t.preventDefault(),t.stopPropagation()}}),{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){if(e.hasChanged(129)){const e=this._context.configuration.options.get(129).height;this._height!==e&&(this._height=e,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(e){return this._mouseDownOperation.onCursorStateChanged(e),!1}onFocusChanged(e){return!1}onScrollChanged(e){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(e,t){const n=new lQ(e,t).toPageCoordinates(),i=uQ(this.viewHelper.viewDomNode);return n.y<i.y||n.y>i.y+i.height||n.x<i.x||n.x>i.x+i.width?null:this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),i,n,null)}_createMouseTarget(e,t){let n=e.target;if(!this.viewHelper.viewDomNode.contains(n)){const t=iW(this.viewHelper.viewDomNode);t&&(n=t.elementsFromPoint(e.posx,e.posy).find((e=>this.viewHelper.viewDomNode.contains(e))))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,t?n:null)}_getMouseColumn(e){return this.mouseTargetFactory.getMouseColumn(e.editorPos,e.pos)}_onContextMenu(e,t){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,t)})}_onMouseMove(e){if(this._mouseDownOperation.isActive())return;e.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})}_onMouseLeave(e){this.lastMouseLeaveTime=(new Date).getTime(),this.viewController.emitMouseLeave({event:e,target:null})}_onMouseUp(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})}_onMouseDown(e){const t=this._createMouseTarget(e,!0),n=6===t.type||7===t.type,i=2===t.type||3===t.type||4===t.type,r=3===t.type,o=this._context.configuration.options.get(97),s=8===t.type||5===t.type,a=9===t.type;let l=e.leftButton||e.middleButton;WR&&e.leftButton&&e.ctrlKey&&(l=!1);const c=()=>{e.preventDefault(),this.viewHelper.focusTextArea()};if(l&&(n||r&&o))c(),this._mouseDownOperation.start(t.type,e);else if(i)e.preventDefault();else if(s){const n=t.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(n.viewZoneId)&&(c(),this._mouseDownOperation.start(t.type,e),e.preventDefault())}else a&&this.viewHelper.shouldSuppressMouseDownOnWidget(t.detail)&&(c(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:t})}}L6.MOUSE_MOVE_MINIMUM_TIME=100;class T6 extends KP{constructor(e,t,n,i,r){super(),this._context=e,this._viewController=t,this._viewHelper=n,this._createMouseTarget=i,this._getMouseColumn=r,this._mouseMoveMonitor=this._register(new pQ(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new vV),this._mouseState=new N6,this._currentSelection=new uj(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);const t=this._findMousePosition(e,!0);t&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:t}):this._dispatchMouse(t,!0))}start(e,t){this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(3===e),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);const n=this._findMousePosition(t,!0);if(!n||!n.position)return;this._mouseState.trySetCount(t.detail,n.position),t.detail=this._mouseState.count;const i=this._context.configuration.options;if(!i.get(80)&&i.get(31)&&!i.get(18)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&6===n.type&&n.position&&this._currentSelection.containsPosition(n.position))return this._mouseState.isDragAndDrop=!0,this._isActive=!0,void this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,E6(null),(e=>this._onMouseDownThenMove(e)),(e=>{const t=this._findMousePosition(this._lastMouseEvent,!0);e&&e instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:t?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()}));this._mouseState.isDragAndDrop=!1,this._dispatchMouse(n,t.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,E6(null),(e=>this._onMouseDownThenMove(e)),(()=>this._stop())))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){this._isActive&&this._onScrollTimeout.setIfNotSet((()=>{if(!this._lastMouseEvent)return;const e=this._findMousePosition(this._lastMouseEvent,!1);e&&(this._mouseState.isDragAndDrop||this._dispatchMouse(e,!0))}),10)}onCursorStateChanged(e){this._currentSelection=e.selections[0]}_getPositionOutsideEditor(e){const t=e.editorPos,n=this._context.model,i=this._context.viewLayout,r=this._getMouseColumn(e);if(e.posy<t.y){const n=Math.max(i.getCurrentScrollTop()-(t.y-e.posy),0),o=w6.getZoneAtCoord(this._context,n);if(o){const e=this._helpPositionJumpOverViewZone(o);if(e)return new b6(null,13,r,e)}const s=i.getLineNumberAtVerticalOffset(n);return new b6(null,13,r,new lj(s,1))}if(e.posy>t.y+t.height){const o=i.getCurrentScrollTop()+(e.posy-t.y),s=w6.getZoneAtCoord(this._context,o);if(s){const e=this._helpPositionJumpOverViewZone(s);if(e)return new b6(null,13,r,e)}const a=i.getLineNumberAtVerticalOffset(o);return new b6(null,13,r,new lj(a,n.getLineMaxColumn(a)))}const o=i.getLineNumberAtVerticalOffset(i.getCurrentScrollTop()+(e.posy-t.y));return e.posx<t.x?new b6(null,13,r,new lj(o,1)):e.posx>t.x+t.width?new b6(null,13,r,new lj(o,n.getLineMaxColumn(o))):null}_findMousePosition(e,t){const n=this._getPositionOutsideEditor(e);if(n)return n;const i=this._createMouseTarget(e,t);if(!i.position)return null;if(8===i.type||5===i.type){const e=this._helpPositionJumpOverViewZone(i.detail);if(e)return new b6(i.element,i.type,i.mouseColumn,e,null,i.detail)}return i}_helpPositionJumpOverViewZone(e){const t=new lj(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),n=e.positionBefore,i=e.positionAfter;return n&&i?n.isBefore(t)?n:i:null}_dispatchMouse(e,t){e.position&&this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})}}class N6{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey}setStartButtons(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton}setStartedOnLineNumbers(e){this._startedOnLineNumbers=e}trySetCount(e,t){const n=(new Date).getTime();n-this._lastSetMouseDownCountTime>N6.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=n,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=t,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)}}var M6,A6;N6.CLEAR_MOUSE_DOWN_COUNT_TIME=400,(A6=M6||(M6={})).text="text/plain",A6.binary="application/octet-stream",A6.unknown="application/unknown",A6.markdown="text/markdown",A6.latex="text/latex";let I6=[],O6=[],F6=[];function R6(e,t=!1){const n=function(e){return{id:e.id,mime:e.mime,filename:e.filename,extension:e.extension,filepattern:e.filepattern,firstline:e.firstline,userConfigured:e.userConfigured,filenameLowercase:e.filename?e.filename.toLowerCase():void 0,extensionLowercase:e.extension?e.extension.toLowerCase():void 0,filepatternLowercase:e.filepattern?f$(e.filepattern.toLowerCase()):void 0,filepatternOnPath:!!e.filepattern&&e.filepattern.indexOf(PB.sep)>=0}}(e);I6.push(n),n.userConfigured?F6.push(n):O6.push(n),t&&!n.userConfigured&&I6.forEach((e=>{e.mime===n.mime||e.userConfigured||(n.extension&&e.extension===n.extension&&console.warn(`Overwriting extension <<${n.extension}>> to now point to mime <<${n.mime}>>`),n.filename&&e.filename===n.filename&&console.warn(`Overwriting filename <<${n.filename}>> to now point to mime <<${n.mime}>>`),n.filepattern&&e.filepattern===n.filepattern&&console.warn(`Overwriting filepattern <<${n.filepattern}>> to now point to mime <<${n.mime}>>`),n.firstline&&e.firstline===n.firstline&&console.warn(`Overwriting firstline <<${n.firstline}>> to now point to mime <<${n.mime}>>`))}))}function P6(e,t){let n;if(e)switch(e.scheme){case kV.file:n=e.fsPath;break;case kV.data:n=KH.parseMetaData(e).get(KH.META_DATA_LABEL);break;default:n=e.path}if(!n)return[M6.unknown];n=n.toLowerCase();const i=WB(n),r=B6(n,i,F6);if(r)return[r,M6.text];const o=B6(n,i,O6);if(o)return[o,M6.text];if(t){const e=function(e){hH(e)&&(e=e.substr(1));if(e.length>0)for(let t=I6.length-1;t>=0;t--){const n=I6[t];if(!n.firstline)continue;const i=e.match(n.firstline);if(i&&i.length>0)return n.mime}return null}(t);if(e)return[e,M6.text]}return[M6.unknown]}function B6(e,t,n){var i;let r=null,o=null,s=null;for(let a=n.length-1;a>=0;a--){const l=n[a];if(t===l.filenameLowercase){r=l;break}if(l.filepattern&&(!o||l.filepattern.length>o.filepattern.length)){const n=l.filepatternOnPath?e:t;(null===(i=l.filepatternLowercase)||void 0===i?void 0:i.call(l,n))&&(o=l)}l.extension&&(!s||l.extension.length>s.extension.length)&&t.endsWith(l.extensionLowercase)&&(s=l)}return r?r.mime:o?o.mime:s?s.mime:null}class j6{constructor(e,t,n,i,r){this.value=e,this.selectionStart=t,this.selectionEnd=n,this.selectionStartPosition=i,this.selectionEndPosition=r}toString(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"}static readFromTextArea(e){return new j6(e.getValue(),e.getSelectionStart(),e.getSelectionEnd(),null,null)}collapseSelection(){return new j6(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(e,t,n){t.setValue(e,this.value),n&&t.setSelectionRange(e,this.selectionStart,this.selectionEnd)}deduceEditorPosition(e){if(e<=this.selectionStart){const t=this.value.substring(e,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,t,-1)}if(e>=this.selectionEnd){const t=this.value.substring(this.selectionEnd,e);return this._finishDeduceEditorPosition(this.selectionEndPosition,t,1)}const t=this.value.substring(this.selectionStart,e);if(-1===t.indexOf(String.fromCharCode(8230)))return this._finishDeduceEditorPosition(this.selectionStartPosition,t,1);const n=this.value.substring(e,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,n,-1)}_finishDeduceEditorPosition(e,t,n){let i=0,r=-1;for(;-1!==(r=t.indexOf("\n",r+1));)i++;return[e,n*t.length,i]}static selectedText(e){return new j6(e,0,e.length,null,null)}static deduceInput(e,t,n){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};let i=e.value,r=e.selectionStart,o=e.selectionEnd,s=t.value,a=t.selectionStart,l=t.selectionEnd;const c=YW(i.substring(o),s.substring(l));s=s.substring(0,s.length-c),i=i.substring(0,i.length-c);const u=i.substring(0,r),h=KW(u,s.substring(0,a));if(s=s.substring(h),i=i.substring(h),a-=h,r-=h,l-=h,o-=h,n&&a===l&&i.length>0){let e=null;if(a===s.length?s.startsWith(i)&&(e=s.substring(i.length)):s.endsWith(i)&&(e=s.substring(0,s.length-i.length)),null!==e&&e.length>0&&(/\uFE0F/.test(e)||(d=e,iH.test(d))))return{text:e,replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0}}var d;if(a===l){if(i===s&&0===r&&o===i.length&&a===s.length&&-1===s.indexOf("\n")&&function(e){for(let t=0,n=e.length;t<n;t++)if(lH(e.charCodeAt(t)))return!0;return!1}(s))return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};return{text:s,replacePrevCharCnt:u.length-h,replaceNextCharCnt:0,positionDelta:0}}return{text:s,replacePrevCharCnt:o-r,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(e,t){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e.value===t.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:t.selectionEnd-e.selectionEnd};const n=Math.min(KW(e.value,t.value),e.selectionEnd),i=Math.min(YW(e.value,t.value),e.value.length-e.selectionEnd),r=e.value.substring(n,e.value.length-i),o=t.value.substring(n,t.value.length-i);e.selectionStart;const s=e.selectionEnd-n;t.selectionStart;const a=t.selectionEnd-n;return{text:o,replacePrevCharCnt:s,replaceNextCharCnt:r.length-s,positionDelta:a-o.length}}}j6.EMPTY=new j6("",0,0,null,null);class z6{static _getPageOfLine(e,t){return Math.floor((e-1)/t)}static _getRangeForPage(e,t){const n=e*t;return new cj(n+1,1,n+t+1,1)}static fromEditorSelection(e,t,n,i,r){const o=z6._getPageOfLine(n.startLineNumber,i),s=z6._getRangeForPage(o,i),a=z6._getPageOfLine(n.endLineNumber,i),l=z6._getRangeForPage(a,i),c=s.intersectRanges(new cj(1,1,n.startLineNumber,n.startColumn));let u=t.getValueInRange(c,1);const h=t.getLineCount(),d=t.getLineMaxColumn(h),f=l.intersectRanges(new cj(n.endLineNumber,n.endColumn,h,d));let p,g=t.getValueInRange(f,1);if(o===a||o+1===a)p=t.getValueInRange(n,1);else{const e=s.intersectRanges(n),i=l.intersectRanges(n);p=t.getValueInRange(e,1)+String.fromCharCode(8230)+t.getValueInRange(i,1)}if(r){const e=500;u.length>e&&(u=u.substring(u.length-e,u.length)),g.length>e&&(g=g.substring(0,e)),p.length>2*e&&(p=p.substring(0,e)+String.fromCharCode(8230)+p.substring(p.length-e,p.length))}return new j6(u+p+g,u.length,u.length+p.length,new lj(n.startLineNumber,n.startColumn),new lj(n.endLineNumber,n.endColumn))}}var V6;(V6||(V6={})).Tap="-monaco-textarea-synthetic-tap";class W6{constructor(){this._lastState=null}set(e,t){this._lastState={lastCopiedValue:e,data:t}}get(e){return this._lastState&&this._lastState.lastCopiedValue===e?this._lastState.data:(this._lastState=null,null)}}W6.INSTANCE=new W6;class H6 extends KP{constructor(e,t){super(),this.textArea=t,this._onFocus=this._register(new nB),this.onFocus=this._onFocus.event,this._onBlur=this._register(new nB),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new nB),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new nB),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new nB),this.onCut=this._onCut.event,this._onPaste=this._register(new nB),this.onPaste=this._onPaste.event,this._onType=this._register(new nB),this.onType=this._onType.event,this._onCompositionStart=this._register(new nB),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new nB),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new nB),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new nB),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._host=e,this._textArea=this._register(new $6(t)),this._asyncTriggerCut=this._register(new bV((()=>this._onCut.fire()),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new bV((()=>this.writeScreenReaderContent("asyncFocusGain")),0)),this._textAreaState=j6.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._isDoingComposition=!1,this._nextCommand=0;let n=null;this._register(IV(t.domNode,"keydown",(e=>{(109===e.keyCode||this._isDoingComposition&&1===e.keyCode)&&e.stopPropagation(),e.equals(9)&&e.preventDefault(),n=e,this._onKeyDown.fire(e)}))),this._register(IV(t.domNode,"keyup",(e=>{this._onKeyUp.fire(e)}))),this._register(AV(t.domNode,"compositionstart",(e=>{if(!this._isDoingComposition){if(this._isDoingComposition=!0,WR&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===e.data){if(n&&n.equals(109)&&("ArrowRight"===n.code||"ArrowLeft"===n.code)||Wz)return this._textAreaState=new j6(this._textAreaState.value,this._textAreaState.selectionStart-1,this._textAreaState.selectionEnd,this._textAreaState.selectionStartPosition?new lj(this._textAreaState.selectionStartPosition.lineNumber,this._textAreaState.selectionStartPosition.column-1):null,this._textAreaState.selectionEndPosition),void this._onCompositionStart.fire({revealDeltaColumns:-1})}Kz?this._onCompositionStart.fire({revealDeltaColumns:-this._textAreaState.selectionStart}):(this._setAndWriteTextAreaState("compositionstart",j6.EMPTY),this._onCompositionStart.fire({revealDeltaColumns:0}))}})));const i=e=>{const t=this._textAreaState,n=j6.readFromTextArea(this._textArea);return[n,j6.deduceInput(t,n,e)]},r=()=>{const e=this._textAreaState,t=j6.readFromTextArea(this._textArea);return[t,j6.deduceAndroidCompositionInput(e,t)]},o=e=>{const t=this._textAreaState,n=j6.selectedText(e);return[n,{text:n.value,replacePrevCharCnt:t.selectionEnd-t.selectionStart,replaceNextCharCnt:0,positionDelta:0}]};this._register(AV(t.domNode,"compositionupdate",(e=>{if(Kz){const[t,n]=r();return this._textAreaState=t,this._onType.fire(n),void this._onCompositionUpdate.fire(e)}const[t,n]=o(e.data||"");this._textAreaState=t,this._onType.fire(n),this._onCompositionUpdate.fire(e)}))),this._register(AV(t.domNode,"compositionend",(e=>{if(!this._isDoingComposition)return;if(this._isDoingComposition=!1,Kz){const[e,t]=r();return this._textAreaState=e,this._onType.fire(t),void this._onCompositionEnd.fire()}const[t,n]=o(e.data||"");this._textAreaState=t,this._onType.fire(n),(Uz||Wz)&&(this._textAreaState=j6.readFromTextArea(this._textArea)),this._onCompositionEnd.fire()}))),this._register(AV(t.domNode,"input",(()=>{if(this._textArea.setIgnoreSelectionChangeTime("received input event"),this._isDoingComposition)return;const[e,t]=i(WR);0===t.replacePrevCharCnt&&1===t.text.length&&GW(t.text.charCodeAt(0))||(this._textAreaState=e,0===this._nextCommand?""===t.text&&0===t.replacePrevCharCnt||this._onType.fire(t):(""===t.text&&0===t.replacePrevCharCnt||this._firePaste(t.text,null),this._nextCommand=0))}))),this._register(AV(t.domNode,"cut",(e=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(e),this._asyncTriggerCut.schedule()}))),this._register(AV(t.domNode,"copy",(e=>{this._ensureClipboardGetsEditorSelection(e)}))),this._register(AV(t.domNode,"paste",(e=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),U6.canUseTextData(e)){const[t,n]=U6.getTextData(e);""!==t&&this._firePaste(t,n)}else this._textArea.getSelectionStart()!==this._textArea.getSelectionEnd()&&this._setAndWriteTextAreaState("paste",j6.EMPTY),this._nextCommand=1}))),this._register(AV(t.domNode,"focus",(()=>{const e=this._hasFocus;this._setHasFocus(!0),$z&&!e&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()}))),this._register(AV(t.domNode,"blur",(()=>{this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)}))),this._register(AV(t.domNode,V6.Tap,(()=>{Kz&&this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())})))}_installSelectionChangeListener(){let e=0;return AV(document,"selectionchange",(t=>{if(!this._hasFocus)return;if(this._isDoingComposition)return;if(!Uz)return;const n=Date.now(),i=n-e;if(e=n,i<5)return;const r=n-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),r<100)return;if(!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const o=this._textArea.getValue();if(this._textAreaState.value!==o)return;const s=this._textArea.getSelectionStart(),a=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===s&&this._textAreaState.selectionEnd===a)return;const l=this._textAreaState.deduceEditorPosition(s),c=this._host.deduceModelPosition(l[0],l[1],l[2]),u=this._textAreaState.deduceEditorPosition(a),h=this._host.deduceModelPosition(u[0],u[1],u[2]),d=new uj(c.lineNumber,c.column,h.lineNumber,h.column);this._onSelectionChangeRequest.fire(d)}))}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){const e=iW(this.textArea.domNode);e?this._setHasFocus(e.activeElement===this.textArea.domNode):NV(this.textArea.domNode)?this._setHasFocus(document.activeElement===this.textArea.domNode):this._setHasFocus(!1)}_setHasFocus(e){this._hasFocus!==e&&(this._hasFocus=e,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(e,t){this._hasFocus||(t=t.collapseSelection()),t.writeToTextArea(e,this._textArea,this._hasFocus),this._textAreaState=t}writeScreenReaderContent(e){this._isDoingComposition||this._setAndWriteTextAreaState(e,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(e){const t=this._host.getDataToCopy(U6.canUseTextData(e)),n={version:1,isFromEmptySelection:t.isFromEmptySelection,multicursorText:t.multicursorText,mode:t.mode};W6.INSTANCE.set(Wz?t.text.replace(/\r\n/g,"\n"):t.text,n),U6.canUseTextData(e)?U6.setTextData(e,t.text,t.html,n):this._setAndWriteTextAreaState("copy or cut",j6.selectedText(t.text))}_firePaste(e,t){t||(t=W6.INSTANCE.get(e)),this._onPaste.fire({text:e,metadata:t})}}class U6{static canUseTextData(e){return!!e.clipboardData}static getTextData(e){if(e.clipboardData){e.preventDefault();const n=e.clipboardData.getData(M6.text);let i=null;const r=e.clipboardData.getData("vscode-editor-data");if("string"==typeof r)try{i=JSON.parse(r),1!==i.version&&(i=null)}catch(t){}return[n,i]}throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")}static setTextData(e,t,n,i){if(e.clipboardData)return e.clipboardData.setData(M6.text,t),"string"==typeof n&&e.clipboardData.setData("text/html",n),e.clipboardData.setData("vscode-editor-data",JSON.stringify(i)),void e.preventDefault();throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")}}class $6 extends KP{constructor(e){super(),this._actual=e,this._ignoreSelectionChangeTime=0}setIgnoreSelectionChangeTime(e){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.domNode.value}setValue(e,t){const n=this._actual.domNode;n.value!==t&&(this.setIgnoreSelectionChangeTime("setValue"),n.value=t)}getSelectionStart(){return"backward"===this._actual.domNode.selectionDirection?this._actual.domNode.selectionEnd:this._actual.domNode.selectionStart}getSelectionEnd(){return"backward"===this._actual.domNode.selectionDirection?this._actual.domNode.selectionStart:this._actual.domNode.selectionEnd}setSelectionRange(e,t,n){const i=this._actual.domNode;let r=null;const o=iW(i);r=o?o.activeElement:document.activeElement;const s=r===i,a=i.selectionStart,l=i.selectionEnd;if(s&&a===t&&l===n)Wz&&window.parent!==window&&i.focus();else{if(s)return this.setIgnoreSelectionChangeTime("setSelectionRange"),i.setSelectionRange(t,n),void(Wz&&window.parent!==window&&i.focus());try{const e=function(e){let t=[];for(let n=0;e&&e.nodeType===e.ELEMENT_NODE;n++)t[n]=e.scrollTop,e=e.parentNode;return t}(i);this.setIgnoreSelectionChangeTime("setSelectionRange"),i.focus(),i.setSelectionRange(t,n),function(e,t){for(let n=0;e&&e.nodeType===e.ELEMENT_NODE;n++)e.scrollTop!==t[n]&&(e.scrollTop=t[n]),e=e.parentNode}(i,e)}catch(nR){}}}}class q6 extends L6{constructor(e,t,n){super(e,t,n),this._register(rQ.addTarget(this.viewHelper.linesContentDomNode)),this._register(AV(this.viewHelper.linesContentDomNode,tQ.Tap,(e=>this.onTap(e)))),this._register(AV(this.viewHelper.linesContentDomNode,tQ.Change,(e=>this.onChange(e)))),this._register(AV(this.viewHelper.linesContentDomNode,tQ.Contextmenu,(e=>this._onContextMenu(new hQ(e,this.viewHelper.viewDomNode),!1)))),this._lastPointerType="mouse",this._register(AV(this.viewHelper.linesContentDomNode,"pointerdown",(e=>{const t=e.pointerType;this._lastPointerType="mouse"!==t?"touch"===t?"touch":"pen":"mouse"})));const i=new fQ(this.viewHelper.viewDomNode);this._register(i.onPointerMoveThrottled(this.viewHelper.viewDomNode,(e=>this._onMouseMove(e)),E6(this.mouseTargetFactory),L6.MOUSE_MOVE_MINIMUM_TIME)),this._register(i.onPointerUp(this.viewHelper.viewDomNode,(e=>this._onMouseUp(e)))),this._register(i.onPointerLeave(this.viewHelper.viewDomNode,(e=>this._onMouseLeave(e)))),this._register(i.onPointerDown(this.viewHelper.viewDomNode,(e=>this._onMouseDown(e))))}onTap(e){if(!e.initialTarget||!this.viewHelper.linesContentDomNode.contains(e.initialTarget))return;e.preventDefault(),this.viewHelper.focusTextArea();const t=this._createMouseTarget(new hQ(e,this.viewHelper.viewDomNode),!1);t.position&&this.viewController.dispatchMouse({position:t.position,mouseColumn:t.position.column,startedOnLineNumbers:!1,mouseDownCount:e.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})}onChange(e){"touch"===this._lastPointerType&&this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}_onMouseDown(e){"touch"!==e.browserEvent.pointerType&&super._onMouseDown(e)}}class K6 extends L6{constructor(e,t,n){super(e,t,n),this._register(rQ.addTarget(this.viewHelper.linesContentDomNode)),this._register(AV(this.viewHelper.linesContentDomNode,tQ.Tap,(e=>this.onTap(e)))),this._register(AV(this.viewHelper.linesContentDomNode,tQ.Change,(e=>this.onChange(e)))),this._register(AV(this.viewHelper.linesContentDomNode,tQ.Contextmenu,(e=>this._onContextMenu(new hQ(e,this.viewHelper.viewDomNode),!1))))}onTap(e){e.preventDefault(),this.viewHelper.focusTextArea();const t=this._createMouseTarget(new hQ(e,this.viewHelper.viewDomNode),!1);if(t.position){const e=document.createEvent("CustomEvent");e.initEvent(V6.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(e),this.viewController.moveTo(t.position)}}onChange(e){this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}}class Y6 extends KP{constructor(e,t,n){super(),qR&&Gz?this.handler=this._register(new q6(e,t,n)):window.TouchEvent?this.handler=this._register(new K6(e,t,n)):this.handler=this._register(new L6(e,t,n))}getTargetAtClientPoint(e,t){return this.handler.getTargetAtClientPoint(e,t)}}class G6 extends gQ{}class X6 extends G6{constructor(e){super(),this._context=e,this._readConfig(),this._lastCursorModelPosition=new lj(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const e=this._context.configuration.options;this._lineHeight=e.get(58);const t=e.get(59);this._renderLineNumbers=t.renderType,this._renderCustomLineNumbers=t.renderFn,this._renderFinalNewline=e.get(83);const n=e.get(129);this._lineNumbersLeft=n.lineNumbersLeft,this._lineNumbersWidth=n.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return this._readConfig(),!0}onCursorStateChanged(e){const t=e.selections[0].getPosition();this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(t);let n=!1;return this._activeLineNumber!==t.lineNumber&&(this._activeLineNumber=t.lineNumber,n=!0),2!==this._renderLineNumbers&&3!==this._renderLineNumbers||(n=!0),n}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getLineRenderLineNumber(e){const t=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new lj(e,1));if(1!==t.column)return"";const n=t.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(n);if(2===this._renderLineNumbers){const e=Math.abs(this._lastCursorModelPosition.lineNumber-n);return 0===e?'<span class="relative-current-line-number">'+n+"</span>":String(e)}return 3===this._renderLineNumbers?this._lastCursorModelPosition.lineNumber===n||n%10==0?String(n):"":String(n)}prepareRender(e){if(0===this._renderLineNumbers)return void(this._renderResult=null);const t=HR?this._lineHeight%2==0?" lh-even":" lh-odd":"",n=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,r='<div class="'+X6.CLASS_NAME+t+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',o=this._context.model.getLineCount(),s=[];for(let a=n;a<=i;a++){const e=a-n;if(!this._renderFinalNewline&&a===o&&0===this._context.model.getLineLength(a)){s[e]="";continue}const i=this._getLineRenderLineNumber(a);i?a===this._activeLineNumber?s[e]='<div class="active-line-number '+X6.CLASS_NAME+t+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+i+"</div>":s[e]=r+i+"</div>":s[e]=""}this._renderResult=s}render(e,t){if(!this._renderResult)return"";const n=t-e;return n<0||n>=this._renderResult.length?"":this._renderResult[n]}}X6.CLASS_NAME="line-numbers",vJ(((e,t)=>{const n=e.getColor(Q3);n&&t.addRule(`.monaco-editor .line-numbers { color: ${n}; }`);const i=e.getColor(t5);i&&t.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${i}; }`)}));class Z6 extends mQ{constructor(e){super(e);const t=this._context.configuration.options,n=t.get(129);this._canUseLayerHinting=!t.get(28),this._contentLeft=n.contentLeft,this._glyphMarginLeft=n.glyphMarginLeft,this._glyphMarginWidth=n.glyphMarginWidth,this._domNode=QJ(document.createElement("div")),this._domNode.setClassName(Z6.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=QJ(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(Z6.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(e){const t=this._context.configuration.options,n=t.get(129);return this._canUseLayerHinting=!t.get(28),this._contentLeft=n.contentLeft,this._glyphMarginLeft=n.glyphMarginLeft,this._glyphMarginWidth=n.glyphMarginWidth,!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollTopChanged}prepareRender(e){}render(e){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const t=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-t);const n=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(n),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(n)}}Z6.CLASS_NAME="glyph-margin",Z6.OUTER_CLASS_NAME="margin";class J6{constructor(e,t,n){this._visibleTextAreaBrand=void 0,this.top=e,this.left=t,this.width=n}setWidth(e){return new J6(this.top,this.left,e)}}const Q6=Wz;class e8 extends mQ{constructor(e,t,n){super(e),this._primaryCursorPosition=new lj(1,1),this._primaryCursorVisibleRange=null,this._viewController=t,this._viewHelper=n,this._scrollLeft=0,this._scrollTop=0;const i=this._context.configuration.options,r=i.get(129);this._setAccessibilityOptions(i),this._contentLeft=r.contentLeft,this._contentWidth=r.contentWidth,this._contentHeight=r.height,this._fontInfo=i.get(43),this._lineHeight=i.get(58),this._emptySelectionClipboard=i.get(32),this._copyWithSyntaxHighlighting=i.get(21),this._visibleTextArea=null,this._selections=[new uj(1,1,1,1)],this._modelSelections=[new uj(1,1,1,1)],this._lastRenderPosition=null,this.textArea=QJ(document.createElement("textarea")),vQ.write(this.textArea,6),this.textArea.setClassName("inputarea monaco-mouse-cursor-text"),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(i)),this.textArea.setAttribute("tabindex",String(i.get(111))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",DR(0,"editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),i.get(30)&&i.get(80)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=QJ(document.createElement("div")),this.textAreaCover.setPosition("absolute");const o={getLineCount:()=>this._context.model.getLineCount(),getLineMaxColumn:e=>this._context.model.getLineMaxColumn(e),getValueInRange:(e,t)=>this._context.model.getValueInRange(e,t)},s={getDataToCopy:e=>{const t=this._context.model.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,VR),n=this._context.model.getEOL(),i=this._emptySelectionClipboard&&1===this._modelSelections.length&&this._modelSelections[0].isEmpty(),r=Array.isArray(t)?t:null,o=Array.isArray(t)?t.join(n):t;let s,a=null;if(e&&this._copyWithSyntaxHighlighting&&o.length<65536){const e=this._context.model.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);e&&(s=e.html,a=e.mode)}return{isFromEmptySelection:i,multicursorText:r,text:o,html:s,mode:a}},getScreenReaderContent:e=>{if(1===this._accessibilitySupport){if(WR){const e=this._selections[0];if(e.isEmpty()){const t=e.getStartPosition();let n=this._getWordBeforePosition(t);if(0===n.length&&(n=this._getCharacterBeforePosition(t)),n.length>0)return new j6(n,n.length,n.length,t,t)}}return j6.EMPTY}if(Kz){const e=this._selections[0];if(e.isEmpty()){const t=e.getStartPosition(),[n,i]=this._getAndroidWordAtPosition(t);if(n.length>0)return new j6(n,i,i,t,t)}return j6.EMPTY}return z6.fromEditorSelection(e,o,this._selections[0],this._accessibilityPageSize,0===this._accessibilitySupport)},deduceModelPosition:(e,t,n)=>this._context.model.deduceModelPositionRelativeToViewPosition(e,t,n)};this._textAreaInput=this._register(new H6(s,this.textArea)),this._register(this._textAreaInput.onKeyDown((e=>{this._viewController.emitKeyDown(e)}))),this._register(this._textAreaInput.onKeyUp((e=>{this._viewController.emitKeyUp(e)}))),this._register(this._textAreaInput.onPaste((e=>{let t=!1,n=null,i=null;e.metadata&&(t=this._emptySelectionClipboard&&!!e.metadata.isFromEmptySelection,n=void 0!==e.metadata.multicursorText?e.metadata.multicursorText:null,i=e.metadata.mode),this._viewController.paste(e.text,t,n,i)}))),this._register(this._textAreaInput.onCut((()=>{this._viewController.cut()}))),this._register(this._textAreaInput.onType((e=>{e.replacePrevCharCnt||e.replaceNextCharCnt||e.positionDelta?this._viewController.compositionType(e.text,e.replacePrevCharCnt,e.replaceNextCharCnt,e.positionDelta):this._viewController.type(e.text)}))),this._register(this._textAreaInput.onSelectionChangeRequest((e=>{this._viewController.setSelection(e)}))),this._register(this._textAreaInput.onCompositionStart((e=>{const t=this._selections[0].startLineNumber,n=this._selections[0].startColumn+e.revealDeltaColumns;this._context.model.revealRange("keyboard",!0,new cj(t,n,t,n),0,1);const i=this._viewHelper.visibleRangeForPositionRelativeToEditor(t,n);i&&(this._visibleTextArea=new J6(this._context.viewLayout.getVerticalOffsetForLineNumber(t),i.left,Q6?0:1),this._render()),this.textArea.setClassName("inputarea monaco-mouse-cursor-text ime-input"),this._viewController.compositionStart(),this._context.model.onCompositionStart()}))),this._register(this._textAreaInput.onCompositionUpdate((e=>{this._visibleTextArea&&(this._visibleTextArea=this._visibleTextArea.setWidth(function(e,t){const n=document.createElement("canvas").getContext("2d");n.font=(i=t,r="normal",o=i.fontWeight,s=i.fontSize,a=i.lineHeight,l=i.fontFamily,`${r} normal ${o} ${s}px / ${a}px ${l}`);var i,r,o,s,a,l;const c=n.measureText(e);return Wz?c.width+2:c.width}(e.data,this._fontInfo)),this._render())}))),this._register(this._textAreaInput.onCompositionEnd((()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName("inputarea monaco-mouse-cursor-text"),this._viewController.compositionEnd(),this._context.model.onCompositionEnd()}))),this._register(this._textAreaInput.onFocus((()=>{this._context.model.setHasFocus(!0)}))),this._register(this._textAreaInput.onBlur((()=>{this._context.model.setHasFocus(!1)})))}dispose(){super.dispose()}_getAndroidWordAtPosition(e){const t=this._context.model.getLineContent(e.lineNumber),n=N0('`~!@#$%^&*()-=+[{]}\\|;:",.<>/?');let i=!0,r=e.column,o=!0,s=e.column,a=0;for(;a<50&&(i||o);){if(i&&r<=1&&(i=!1),i){const e=t.charCodeAt(r-2);0!==n.get(e)?i=!1:r--}if(o&&s>t.length&&(o=!1),o){const e=t.charCodeAt(s-1);0!==n.get(e)?o=!1:s++}a++}return[t.substring(r-1,s-1),e.column-r]}_getWordBeforePosition(e){const t=this._context.model.getLineContent(e.lineNumber),n=N0(this._context.configuration.options.get(115));let i=e.column,r=0;for(;i>1;){const o=t.charCodeAt(i-2);if(0!==n.get(o)||r>50)return t.substring(i-1,e.column-1);r++,i--}return t.substring(0,e.column-1)}_getCharacterBeforePosition(e){if(e.column>1){const t=this._context.model.getLineContent(e.lineNumber).charAt(e.column-2);if(!GW(t.charCodeAt(0)))return t}return""}_getAriaLabel(e){return 1===e.get(2)?DR(0,"The editor is not accessible at this time. Press {0} for options.",HR?"Shift+Alt+F1":"Alt+F1"):e.get(4)}_setAccessibilityOptions(e){this._accessibilitySupport=e.get(2);const t=e.get(3);2===this._accessibilitySupport&&t===MP.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=t}onConfigurationChanged(e){const t=this._context.configuration.options,n=t.get(129);return this._setAccessibilityOptions(t),this._contentLeft=n.contentLeft,this._contentWidth=n.contentWidth,this._contentHeight=n.height,this._fontInfo=t.get(43),this._lineHeight=t.get(58),this._emptySelectionClipboard=t.get(32),this._copyWithSyntaxHighlighting=t.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(t)),this.textArea.setAttribute("tabindex",String(t.get(111))),(e.hasChanged(30)||e.hasChanged(80))&&(t.get(30)&&t.get(80)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),e.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0}onZonesChanged(e){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),e.role&&this.textArea.setAttribute("role",e.role)}prepareRender(e){this._primaryCursorPosition=new lj(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition)}render(e){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea)return void this._renderInsideEditor(null,this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight);if(!this._primaryCursorVisibleRange)return void this._renderAtTopLeft();const e=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(e<this._contentLeft||e>this._contentLeft+this._contentWidth)return void this._renderAtTopLeft();const t=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;t<0||t>this._contentHeight?this._renderAtTopLeft():WR?this._renderInsideEditor(this._primaryCursorPosition,t,e,Q6?0:1,this._lineHeight):this._renderInsideEditor(this._primaryCursorPosition,t,e,Q6?0:1,Q6?0:1)}_renderInsideEditor(e,t,n,i,r){this._lastRenderPosition=e;const o=this.textArea,s=this.textAreaCover;ZJ.applyFontInfo(o,this._fontInfo),o.setTop(t),o.setLeft(n),o.setWidth(i),o.setHeight(r),s.setTop(0),s.setLeft(0),s.setWidth(0),s.setHeight(0)}_renderAtTopLeft(){this._lastRenderPosition=null;const e=this.textArea,t=this.textAreaCover;if(ZJ.applyFontInfo(e,this._fontInfo),e.setTop(0),e.setLeft(0),t.setTop(0),t.setLeft(0),Q6)return e.setWidth(0),e.setHeight(0),t.setWidth(0),void t.setHeight(0);e.setWidth(1),e.setHeight(1),t.setWidth(1),t.setHeight(1);const n=this._context.configuration.options;n.get(49)?t.setClassName("monaco-editor-background textAreaCover "+Z6.OUTER_CLASS_NAME):0!==n.get(59).renderType?t.setClassName("monaco-editor-background textAreaCover "+X6.CLASS_NAME):t.setClassName("monaco-editor-background textAreaCover")}}class t8{static columnSelect(e,t,n,i,r,o){let s=Math.abs(r-n)+1,a=n>r,l=i>o,c=i<o,u=[];for(let h=0;h<s;h++){let r=n+(a?-h:h),s=U1.columnFromVisibleColumn2(e,t,r,i),d=U1.columnFromVisibleColumn2(e,t,r,o),f=U1.visibleColumnFromColumn2(e,t,new lj(r,s)),p=U1.visibleColumnFromColumn2(e,t,new lj(r,d));if(c){if(f>o)continue;if(p<i)continue}if(l){if(p>i)continue;if(f<o)continue}u.push(new a6(new cj(r,s,r,s),0,new lj(r,d),0))}if(0===u.length)for(let h=0;h<s;h++){const e=n+(a?-h:h),i=t.getLineMaxColumn(e);u.push(new a6(new cj(e,i,e,i),0,new lj(e,i),0))}return{viewStates:u,reversed:a,fromLineNumber:n,fromVisualColumn:i,toLineNumber:r,toVisualColumn:o}}static columnSelectLeft(e,t,n){let i=n.toViewVisualColumn;return i>0&&i--,t8.columnSelect(e,t,n.fromViewLineNumber,n.fromViewVisualColumn,n.toViewLineNumber,i)}static columnSelectRight(e,t,n){let i=0;const r=Math.min(n.fromViewLineNumber,n.toViewLineNumber),o=Math.max(n.fromViewLineNumber,n.toViewLineNumber);for(let a=r;a<=o;a++){const n=t.getLineMaxColumn(a),r=U1.visibleColumnFromColumn2(e,t,new lj(a,n));i=Math.max(i,r)}let s=n.toViewVisualColumn;return s<i&&s++,this.columnSelect(e,t,n.fromViewLineNumber,n.fromViewVisualColumn,n.toViewLineNumber,s)}static columnSelectUp(e,t,n,i){const r=i?e.pageSize:1,o=Math.max(1,n.toViewLineNumber-r);return this.columnSelect(e,t,n.fromViewLineNumber,n.fromViewVisualColumn,o,n.toViewVisualColumn)}static columnSelectDown(e,t,n,i){const r=i?e.pageSize:1,o=Math.min(t.getLineCount(),n.toViewLineNumber+r);return this.columnSelect(e,t,n.fromViewLineNumber,n.fromViewVisualColumn,o,n.toViewVisualColumn)}}class n8{constructor(e,t,n=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=n}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let n=t.getInverseEditOperations()[0].range;return new uj(n.endLineNumber,n.endColumn,n.endLineNumber,n.endColumn)}}class i8{constructor(e,t,n=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=n}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let n=t.getInverseEditOperations()[0].range;return new uj(n.startLineNumber,n.startColumn,n.startLineNumber,n.startColumn)}}class r8{constructor(e,t,n,i,r=!1){this._range=e,this._text=t,this._columnDeltaOffset=i,this._lineNumberDeltaOffset=n,this.insertsAutoWhitespace=r}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let n=t.getInverseEditOperations()[0].range;return new uj(n.endLineNumber+this._lineNumberDeltaOffset,n.endColumn+this._columnDeltaOffset,n.endLineNumber+this._lineNumberDeltaOffset,n.endColumn+this._columnDeltaOffset)}}class o8{constructor(e,t,n,i=!1){this._range=e,this._text=t,this._initialSelection=n,this._forceMoveMarkers=i,this._selectionId=null}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=t.trackSelection(this._initialSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}class s8{constructor(e,t,n){this._cursorPositionBrand=void 0,this.lineNumber=e,this.column=t,this.leftoverVisibleColumns=n}}class a8{static leftPosition(e,t){if(t.column>e.getLineMinColumn(t.lineNumber))return t.delta(void 0,-function(e,t){const n=gH.getInstance(),i=t,r=QW(e,t);t-=r>=65536?2:1;let o=n.getGraphemeBreakType(r);for(;t>0;){const i=QW(e,t),r=n.getGraphemeBreakType(i);if(pH(r,o))break;t-=i>=65536?2:1,o=r}return i-t}(e.getLineContent(t.lineNumber),t.column-1));if(t.lineNumber>1){const n=t.lineNumber-1;return new lj(n,e.getLineMaxColumn(n))}return t}static leftPositionAtomicSoftTabs(e,t,n){if(t.column<=e.getLineIndentColumn(t.lineNumber)){const i=e.getLineMinColumn(t.lineNumber),r=e.getLineContent(t.lineNumber),o=p6.atomicPosition(r,t.column-1,n,0);if(-1!==o&&o+1>=i)return new lj(t.lineNumber,o+1)}return this.leftPosition(e,t)}static left(e,t,n){const i=e.stickyTabStops?a8.leftPositionAtomicSoftTabs(t,n,e.tabSize):a8.leftPosition(t,n);return new s8(i.lineNumber,i.column,0)}static moveLeft(e,t,n,i,r){let o,s;if(n.hasSelection()&&!i)o=n.selection.startLineNumber,s=n.selection.startColumn;else{const i=n.position.delta(void 0,-(r-1)),a=t.normalizePosition(a8.clipPositionColumn(i,t),0),l=a8.left(e,t,a);o=l.lineNumber,s=l.column}return n.move(i,o,s,0)}static clipPositionColumn(e,t){return new lj(e.lineNumber,a8.clipRange(e.column,t.getLineMinColumn(e.lineNumber),t.getLineMaxColumn(e.lineNumber)))}static clipRange(e,t,n){return e<t?t:e>n?n:e}static rightPosition(e,t,n){return n<e.getLineMaxColumn(t)?n+=eH(e.getLineContent(t),n-1):t<e.getLineCount()&&(t+=1,n=e.getLineMinColumn(t)),new lj(t,n)}static rightPositionAtomicSoftTabs(e,t,n,i,r){if(n<e.getLineIndentColumn(t)){const r=e.getLineContent(t),o=p6.atomicPosition(r,n-1,i,1);if(-1!==o)return new lj(t,o+1)}return this.rightPosition(e,t,n)}static right(e,t,n){const i=e.stickyTabStops?a8.rightPositionAtomicSoftTabs(t,n.lineNumber,n.column,e.tabSize,e.indentSize):a8.rightPosition(t,n.lineNumber,n.column);return new s8(i.lineNumber,i.column,0)}static moveRight(e,t,n,i,r){let o,s;if(n.hasSelection()&&!i)o=n.selection.endLineNumber,s=n.selection.endColumn;else{const i=n.position.delta(void 0,r-1),a=t.normalizePosition(a8.clipPositionColumn(i,t),1),l=a8.right(e,t,a);o=l.lineNumber,s=l.column}return n.move(i,o,s,0)}static vertical(e,t,n,i,r,o,s){const a=U1.visibleColumnFromColumn(t.getLineContent(n),i,e.tabSize)+r,l=t.getLineCount(),c=1===n&&1===i,u=n===l&&i===t.getLineMaxColumn(n),h=o<n?c:u;return(n=o)<1?(n=1,i=s?t.getLineMinColumn(n):Math.min(t.getLineMaxColumn(n),i)):n>l?(n=l,i=s?t.getLineMaxColumn(n):Math.min(t.getLineMaxColumn(n),i)):i=U1.columnFromVisibleColumn2(e,t,n,a),r=h?0:a-U1.visibleColumnFromColumn(t.getLineContent(n),i,e.tabSize),new s8(n,i,r)}static down(e,t,n,i,r,o,s){return this.vertical(e,t,n,i,r,n+o,s)}static moveDown(e,t,n,i,r){let o,s;n.hasSelection()&&!i?(o=n.selection.endLineNumber,s=n.selection.endColumn):(o=n.position.lineNumber,s=n.position.column);let a=a8.down(e,t,o,s,n.leftoverVisibleColumns,r,!0);return n.move(i,a.lineNumber,a.column,a.leftoverVisibleColumns)}static translateDown(e,t,n){let i=n.selection,r=a8.down(e,t,i.selectionStartLineNumber,i.selectionStartColumn,n.selectionStartLeftoverVisibleColumns,1,!1),o=a8.down(e,t,i.positionLineNumber,i.positionColumn,n.leftoverVisibleColumns,1,!1);return new a6(new cj(r.lineNumber,r.column,r.lineNumber,r.column),r.leftoverVisibleColumns,new lj(o.lineNumber,o.column),o.leftoverVisibleColumns)}static up(e,t,n,i,r,o,s){return this.vertical(e,t,n,i,r,n-o,s)}static moveUp(e,t,n,i,r){let o,s;n.hasSelection()&&!i?(o=n.selection.startLineNumber,s=n.selection.startColumn):(o=n.position.lineNumber,s=n.position.column);let a=a8.up(e,t,o,s,n.leftoverVisibleColumns,r,!0);return n.move(i,a.lineNumber,a.column,a.leftoverVisibleColumns)}static translateUp(e,t,n){let i=n.selection,r=a8.up(e,t,i.selectionStartLineNumber,i.selectionStartColumn,n.selectionStartLeftoverVisibleColumns,1,!1),o=a8.up(e,t,i.positionLineNumber,i.positionColumn,n.leftoverVisibleColumns,1,!1);return new a6(new cj(r.lineNumber,r.column,r.lineNumber,r.column),r.leftoverVisibleColumns,new lj(o.lineNumber,o.column),o.leftoverVisibleColumns)}static _isBlankLine(e,t){return 0===e.getLineFirstNonWhitespaceColumn(t)}static moveToPrevBlankLine(e,t,n,i){let r=n.position.lineNumber;for(;r>1&&this._isBlankLine(t,r);)r--;for(;r>1&&!this._isBlankLine(t,r);)r--;return n.move(i,r,t.getLineMinColumn(r),0)}static moveToNextBlankLine(e,t,n,i){const r=t.getLineCount();let o=n.position.lineNumber;for(;o<r&&this._isBlankLine(t,o);)o++;for(;o<r&&!this._isBlankLine(t,o);)o++;return n.move(i,o,t.getLineMinColumn(o),0)}static moveToBeginningOfLine(e,t,n,i){let r,o=n.position.lineNumber,s=t.getLineMinColumn(o),a=t.getLineFirstNonWhitespaceColumn(o)||s;return r=n.position.column===a?s:a,n.move(i,o,r,0)}static moveToEndOfLine(e,t,n,i,r){let o=n.position.lineNumber,s=t.getLineMaxColumn(o);return n.move(i,o,s,r?1073741824-s:0)}static moveToBeginningOfBuffer(e,t,n,i){return n.move(i,1,1,0)}static moveToEndOfBuffer(e,t,n,i){let r=t.getLineCount(),o=t.getLineMaxColumn(r);return n.move(i,r,o,0)}}class l8{static deleteRight(e,t,n,i){let r=[],o=3!==e;for(let s=0,a=i.length;s<a;s++){const e=i[s];let a=e;if(a.isEmpty()){let i=e.getPosition(),r=a8.right(t,n,i);a=new cj(r.lineNumber,r.column,i.lineNumber,i.column)}a.isEmpty()?r[s]=null:(a.startLineNumber!==a.endLineNumber&&(o=!0),r[s]=new n8(a,""))}return[o,r]}static isAutoClosingPairDelete(e,t,n,i,r,o,s){if("never"===t&&"never"===n)return!1;if("never"===e)return!1;for(let a=0,l=o.length;a<l;a++){const l=o[a],c=l.getPosition();if(!l.isEmpty())return!1;const u=r.getLineContent(c.lineNumber);if(c.column<2||c.column>=u.length+1)return!1;const h=u.charAt(c.column-2),d=i.get(h);if(!d)return!1;if(f6(h)){if("never"===n)return!1}else if("never"===t)return!1;const f=u.charAt(c.column-1);let p=!1;for(const e of d)e.open===h&&e.close===f&&(p=!0);if(!p)return!1;if("auto"===e){let e=!1;for(let t=0,n=s.length;t<n;t++){const n=s[t];if(c.lineNumber===n.startLineNumber&&c.column===n.startColumn){e=!0;break}}if(!e)return!1}}return!0}static _runAutoClosingPairDelete(e,t,n){let i=[];for(let r=0,o=n.length;r<o;r++){const e=n[r].getPosition(),t=new cj(e.lineNumber,e.column-1,e.lineNumber,e.column+1);i[r]=new n8(t,"")}return[!0,i]}static deleteLeft(e,t,n,i,r){if(this.isAutoClosingPairDelete(t.autoClosingDelete,t.autoClosingBrackets,t.autoClosingQuotes,t.autoClosingPairs.autoClosingPairsOpenByEnd,n,i,r))return this._runAutoClosingPairDelete(t,n,i);const o=[];let s=2!==e;for(let a=0,l=i.length;a<l;a++){let e=l8.getDeleteRange(i[a],n,t);e.isEmpty()?o[a]=null:(e.startLineNumber!==e.endLineNumber&&(s=!0),o[a]=new n8(e,""))}return[s,o]}static getDeleteRange(e,t,n){if(!e.isEmpty())return e;const i=e.getPosition();if(n.useTabStops&&i.column>1){const e=t.getLineContent(i.lineNumber),r=RW(e),o=-1===r?e.length+1:r+1;if(i.column<=o){const e=U1.visibleColumnFromColumn2(n,t,i),r=U1.prevIndentTabStop(e,n.indentSize),o=U1.columnFromVisibleColumn2(n,t,i.lineNumber,r);return new cj(i.lineNumber,o,i.lineNumber,i.column)}}return cj.fromPositions(l8.getPositionAfterDeleteLeft(i,t),i)}static getPositionAfterDeleteLeft(e,t){if(e.column>1){const n=mH(e.column-1,t.getLineContent(e.lineNumber));return e.with(void 0,n+1)}if(e.lineNumber>1){const n=e.lineNumber-1;return new lj(n,t.getLineMaxColumn(n))}return e}static cut(e,t,n){let i=[],r=null;n.sort(((e,t)=>lj.compare(e.getStartPosition(),t.getEndPosition())));for(let o=0,s=n.length;o<s;o++){const s=n[o];if(s.isEmpty())if(e.emptySelectionClipboard){let e,n,a,l,c=s.getPosition();c.lineNumber<t.getLineCount()?(e=c.lineNumber,n=1,a=c.lineNumber+1,l=1):c.lineNumber>1&&(null==r?void 0:r.endLineNumber)!==c.lineNumber?(e=c.lineNumber-1,n=t.getLineMaxColumn(c.lineNumber-1),a=c.lineNumber,l=t.getLineMaxColumn(c.lineNumber)):(e=c.lineNumber,n=1,a=c.lineNumber,l=t.getLineMaxColumn(c.lineNumber));let u=new cj(e,n,a,l);r=u,u.isEmpty()?i[o]=null:i[o]=new n8(u,"")}else i[o]=null;else i[o]=new n8(s,"")}return new d6(0,i,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}class c8{static _createWord(e,t,n,i,r){return{start:i,end:r,wordType:t,nextCharClass:n}}static _findPreviousWordOnLine(e,t,n){let i=t.getLineContent(n.lineNumber);return this._doFindPreviousWordOnLine(i,e,n)}static _doFindPreviousWordOnLine(e,t,n){let i=0;for(let r=n.column-2;r>=0;r--){let n=e.charCodeAt(r),o=t.get(n);if(0===o){if(2===i)return this._createWord(e,i,o,r+1,this._findEndOfWord(e,t,i,r+1));i=1}else if(2===o){if(1===i)return this._createWord(e,i,o,r+1,this._findEndOfWord(e,t,i,r+1));i=2}else if(1===o&&0!==i)return this._createWord(e,i,o,r+1,this._findEndOfWord(e,t,i,r+1))}return 0!==i?this._createWord(e,i,1,0,this._findEndOfWord(e,t,i,0)):null}static _findEndOfWord(e,t,n,i){let r=e.length;for(let o=i;o<r;o++){let i=e.charCodeAt(o),r=t.get(i);if(1===r)return o;if(1===n&&2===r)return o;if(2===n&&0===r)return o}return r}static _findNextWordOnLine(e,t,n){let i=t.getLineContent(n.lineNumber);return this._doFindNextWordOnLine(i,e,n)}static _doFindNextWordOnLine(e,t,n){let i=0,r=e.length;for(let o=n.column-1;o<r;o++){let n=e.charCodeAt(o),r=t.get(n);if(0===r){if(2===i)return this._createWord(e,i,r,this._findStartOfWord(e,t,i,o-1),o);i=1}else if(2===r){if(1===i)return this._createWord(e,i,r,this._findStartOfWord(e,t,i,o-1),o);i=2}else if(1===r&&0!==i)return this._createWord(e,i,r,this._findStartOfWord(e,t,i,o-1),o)}return 0!==i?this._createWord(e,i,1,this._findStartOfWord(e,t,i,r-1),r):null}static _findStartOfWord(e,t,n,i){for(let r=i;r>=0;r--){let i=e.charCodeAt(r),o=t.get(i);if(1===o)return r+1;if(1===n&&2===o)return r+1;if(2===n&&0===o)return r+1}return 0}static moveWordLeft(e,t,n,i){let r=n.lineNumber,o=n.column;1===o&&r>1&&(r-=1,o=t.getLineMaxColumn(r));let s=c8._findPreviousWordOnLine(e,t,new lj(r,o));if(0===i)return new lj(r,s?s.start+1:1);if(1===i)return s&&2===s.wordType&&s.end-s.start==1&&0===s.nextCharClass&&(s=c8._findPreviousWordOnLine(e,t,new lj(r,s.start+1))),new lj(r,s?s.start+1:1);if(3===i){for(;s&&2===s.wordType;)s=c8._findPreviousWordOnLine(e,t,new lj(r,s.start+1));return new lj(r,s?s.start+1:1)}return s&&o<=s.end+1&&(s=c8._findPreviousWordOnLine(e,t,new lj(r,s.start+1))),new lj(r,s?s.end+1:1)}static _moveWordPartLeft(e,t){const n=t.lineNumber,i=e.getLineMaxColumn(n);if(1===t.column)return n>1?new lj(n-1,e.getLineMaxColumn(n-1)):t;const r=e.getLineContent(n);for(let o=t.column-1;o>1;o--){const e=r.charCodeAt(o-2),t=r.charCodeAt(o-1);if(95===e&&95!==t)return new lj(n,o);if(HW(e)&&UW(t))return new lj(n,o);if(UW(e)&&UW(t)&&o+1<i){if(HW(r.charCodeAt(o)))return new lj(n,o)}}return new lj(n,1)}static moveWordRight(e,t,n,i){let r=n.lineNumber,o=n.column,s=!1;o===t.getLineMaxColumn(r)&&r<t.getLineCount()&&(s=!0,r+=1,o=1);let a=c8._findNextWordOnLine(e,t,new lj(r,o));if(2===i)a&&2===a.wordType&&a.end-a.start==1&&0===a.nextCharClass&&(a=c8._findNextWordOnLine(e,t,new lj(r,a.end+1))),o=a?a.end+1:t.getLineMaxColumn(r);else if(3===i){for(s&&(o=0);a&&(2===a.wordType||a.start+1<=o);)a=c8._findNextWordOnLine(e,t,new lj(r,a.end+1));o=a?a.start+1:t.getLineMaxColumn(r)}else a&&!s&&o>=a.start+1&&(a=c8._findNextWordOnLine(e,t,new lj(r,a.end+1))),o=a?a.start+1:t.getLineMaxColumn(r);return new lj(r,o)}static _moveWordPartRight(e,t){const n=t.lineNumber,i=e.getLineMaxColumn(n);if(t.column===i)return n<e.getLineCount()?new lj(n+1,1):t;const r=e.getLineContent(n);for(let o=t.column+1;o<i;o++){const e=r.charCodeAt(o-2),t=r.charCodeAt(o-1);if(95!==e&&95===t)return new lj(n,o);if(HW(e)&&UW(t))return new lj(n,o);if(UW(e)&&UW(t)&&o+1<i){if(HW(r.charCodeAt(o)))return new lj(n,o)}}return new lj(n,i)}static _deleteWordLeftWhitespace(e,t){const n=e.getLineContent(t.lineNumber),i=t.column-2,r=BW(n,i);return r+1<i?new cj(t.lineNumber,r+2,t.lineNumber,t.column):null}static deleteWordLeft(e,t){const n=e.wordSeparators,i=e.model,r=e.selection,o=e.whitespaceHeuristics;if(!r.isEmpty())return r;if(l8.isAutoClosingPairDelete(e.autoClosingDelete,e.autoClosingBrackets,e.autoClosingQuotes,e.autoClosingPairs.autoClosingPairsOpenByEnd,e.model,[e.selection],e.autoClosedCharacters)){const t=e.selection.getPosition();return new cj(t.lineNumber,t.column-1,t.lineNumber,t.column+1)}const s=new lj(r.positionLineNumber,r.positionColumn);let a=s.lineNumber,l=s.column;if(1===a&&1===l)return null;if(o){let e=this._deleteWordLeftWhitespace(i,s);if(e)return e}let c=c8._findPreviousWordOnLine(n,i,s);return 0===t?c?l=c.start+1:l>1?l=1:(a--,l=i.getLineMaxColumn(a)):(c&&l<=c.end+1&&(c=c8._findPreviousWordOnLine(n,i,new lj(a,c.start+1))),c?l=c.end+1:l>1?l=1:(a--,l=i.getLineMaxColumn(a))),new cj(a,l,s.lineNumber,s.column)}static deleteInsideWord(e,t,n){if(!n.isEmpty())return n;const i=new lj(n.positionLineNumber,n.positionColumn);let r=this._deleteInsideWordWhitespace(t,i);return r||this._deleteInsideWordDetermineDeleteRange(e,t,i)}static _charAtIsWhitespace(e,t){const n=e.charCodeAt(t);return 32===n||9===n}static _deleteInsideWordWhitespace(e,t){const n=e.getLineContent(t.lineNumber),i=n.length;if(0===i)return null;let r=Math.max(t.column-2,0);if(!this._charAtIsWhitespace(n,r))return null;let o=Math.min(t.column-1,i-1);if(!this._charAtIsWhitespace(n,o))return null;for(;r>0&&this._charAtIsWhitespace(n,r-1);)r--;for(;o+1<i&&this._charAtIsWhitespace(n,o+1);)o++;return new cj(t.lineNumber,r+1,t.lineNumber,o+2)}static _deleteInsideWordDetermineDeleteRange(e,t,n){const i=t.getLineContent(n.lineNumber),r=i.length;if(0===r)return n.lineNumber>1?new cj(n.lineNumber-1,t.getLineMaxColumn(n.lineNumber-1),n.lineNumber,1):n.lineNumber<t.getLineCount()?new cj(n.lineNumber,1,n.lineNumber+1,1):new cj(n.lineNumber,1,n.lineNumber,1);const o=e=>e.start+1<=n.column&&n.column<=e.end+1,s=(e,t)=>(e=Math.min(e,n.column),t=Math.max(t,n.column),new cj(n.lineNumber,e,n.lineNumber,t)),a=e=>{let t=e.start+1,n=e.end+1,o=!1;for(;n-1<r&&this._charAtIsWhitespace(i,n-1);)o=!0,n++;if(!o)for(;t>1&&this._charAtIsWhitespace(i,t-2);)t--;return s(t,n)},l=c8._findPreviousWordOnLine(e,t,n);if(l&&o(l))return a(l);const c=c8._findNextWordOnLine(e,t,n);return c&&o(c)?a(c):l&&c?s(l.end+1,c.start+1):l?s(l.start+1,l.end+1):c?s(c.start+1,c.end+1):s(1,r+1)}static _deleteWordPartLeft(e,t){if(!t.isEmpty())return t;const n=t.getPosition(),i=c8._moveWordPartLeft(e,n);return new cj(n.lineNumber,n.column,i.lineNumber,i.column)}static _findFirstNonWhitespaceChar(e,t){let n=e.length;for(let i=t;i<n;i++){let t=e.charAt(i);if(" "!==t&&"\t"!==t)return i}return n}static _deleteWordRightWhitespace(e,t){const n=e.getLineContent(t.lineNumber),i=t.column-1,r=this._findFirstNonWhitespaceChar(n,i);return i+1<r?new cj(t.lineNumber,t.column,t.lineNumber,r+1):null}static deleteWordRight(e,t){const n=e.wordSeparators,i=e.model,r=e.selection,o=e.whitespaceHeuristics;if(!r.isEmpty())return r;const s=new lj(r.positionLineNumber,r.positionColumn);let a=s.lineNumber,l=s.column;const c=i.getLineCount(),u=i.getLineMaxColumn(a);if(a===c&&l===u)return null;if(o){let e=this._deleteWordRightWhitespace(i,s);if(e)return e}let h=c8._findNextWordOnLine(n,i,s);return 2===t?h?l=h.end+1:l<u||a===c?l=u:(a++,h=c8._findNextWordOnLine(n,i,new lj(a,1)),l=h?h.start+1:i.getLineMaxColumn(a)):(h&&l>=h.start+1&&(h=c8._findNextWordOnLine(n,i,new lj(a,h.end+1))),h?l=h.start+1:l<u||a===c?l=u:(a++,h=c8._findNextWordOnLine(n,i,new lj(a,1)),l=h?h.start+1:i.getLineMaxColumn(a))),new cj(a,l,s.lineNumber,s.column)}static _deleteWordPartRight(e,t){if(!t.isEmpty())return t;const n=t.getPosition(),i=c8._moveWordPartRight(e,n);return new cj(n.lineNumber,n.column,i.lineNumber,i.column)}static _createWordAtPosition(e,t,n){const i=new cj(t,n.start+1,t,n.end+1);return{word:e.getValueInRange(i),startColumn:i.startColumn,endColumn:i.endColumn}}static getWordAtPosition(e,t,n){const i=N0(t),r=c8._findPreviousWordOnLine(i,e,n);if(r&&1===r.wordType&&r.start<=n.column-1&&n.column-1<=r.end)return c8._createWordAtPosition(e,n.lineNumber,r);const o=c8._findNextWordOnLine(i,e,n);return o&&1===o.wordType&&o.start<=n.column-1&&n.column-1<=o.end?c8._createWordAtPosition(e,n.lineNumber,o):null}static word(e,t,n,i,r){const o=N0(e.wordSeparators);let s,a,l=c8._findPreviousWordOnLine(o,t,r),c=c8._findNextWordOnLine(o,t,r);if(!i){let e,n;return l&&1===l.wordType&&l.start<=r.column-1&&r.column-1<=l.end?(e=l.start+1,n=l.end+1):c&&1===c.wordType&&c.start<=r.column-1&&r.column-1<=c.end?(e=c.start+1,n=c.end+1):(e=l?l.end+1:1,n=c?c.start+1:t.getLineMaxColumn(r.lineNumber)),new a6(new cj(r.lineNumber,e,r.lineNumber,n),0,new lj(r.lineNumber,n),0)}l&&1===l.wordType&&l.start<r.column-1&&r.column-1<l.end?(s=l.start+1,a=l.end+1):c&&1===c.wordType&&c.start<r.column-1&&r.column-1<c.end?(s=c.start+1,a=c.end+1):(s=r.column,a=r.column);let u,h=r.lineNumber;if(n.selectionStart.containsPosition(r))u=n.selectionStart.endColumn;else if(r.isBeforeOrEqual(n.selectionStart.getStartPosition())){u=s;let e=new lj(h,u);n.selectionStart.containsPosition(e)&&(u=n.selectionStart.endColumn)}else{u=a;let e=new lj(h,u);n.selectionStart.containsPosition(e)&&(u=n.selectionStart.startColumn)}return n.move(!0,h,u,0)}}class u8{static addCursorDown(e,t,n){let i=[],r=0;for(let o=0,s=t.length;o<s;o++){const s=t[o];i[r++]=new h6(s.modelState,s.viewState),i[r++]=n?h6.fromModelState(a8.translateDown(e.cursorConfig,e.model,s.modelState)):h6.fromViewState(a8.translateDown(e.cursorConfig,e,s.viewState))}return i}static addCursorUp(e,t,n){let i=[],r=0;for(let o=0,s=t.length;o<s;o++){const s=t[o];i[r++]=new h6(s.modelState,s.viewState),i[r++]=n?h6.fromModelState(a8.translateUp(e.cursorConfig,e.model,s.modelState)):h6.fromViewState(a8.translateUp(e.cursorConfig,e,s.viewState))}return i}static moveToBeginningOfLine(e,t,n){let i=[];for(let r=0,o=t.length;r<o;r++){const o=t[r];i[r]=this._moveToLineStart(e,o,n)}return i}static _moveToLineStart(e,t,n){const i=t.viewState.position.column,r=i===t.modelState.position.column,o=t.viewState.position.lineNumber,s=e.getLineFirstNonWhitespaceColumn(o);return r||i===s?this._moveToLineStartByModel(e,t,n):this._moveToLineStartByView(e,t,n)}static _moveToLineStartByView(e,t,n){return h6.fromViewState(a8.moveToBeginningOfLine(e.cursorConfig,e,t.viewState,n))}static _moveToLineStartByModel(e,t,n){return h6.fromModelState(a8.moveToBeginningOfLine(e.cursorConfig,e.model,t.modelState,n))}static moveToEndOfLine(e,t,n,i){let r=[];for(let o=0,s=t.length;o<s;o++){const s=t[o];r[o]=this._moveToLineEnd(e,s,n,i)}return r}static _moveToLineEnd(e,t,n,i){const r=t.viewState.position,o=e.getLineMaxColumn(r.lineNumber),s=r.column===o,a=t.modelState.position,l=e.model.getLineMaxColumn(a.lineNumber),c=o-r.column==l-a.column;return s||c?this._moveToLineEndByModel(e,t,n,i):this._moveToLineEndByView(e,t,n,i)}static _moveToLineEndByView(e,t,n,i){return h6.fromViewState(a8.moveToEndOfLine(e.cursorConfig,e,t.viewState,n,i))}static _moveToLineEndByModel(e,t,n,i){return h6.fromModelState(a8.moveToEndOfLine(e.cursorConfig,e.model,t.modelState,n,i))}static expandLineSelection(e,t){let n=[];for(let i=0,r=t.length;i<r;i++){const r=t[i],o=r.modelState.selection.startLineNumber,s=e.model.getLineCount();let a,l=r.modelState.selection.endLineNumber;l===s?a=e.model.getLineMaxColumn(s):(l++,a=1),n[i]=h6.fromModelState(new a6(new cj(o,1,o,1),0,new lj(l,a),0))}return n}static moveToBeginningOfBuffer(e,t,n){let i=[];for(let r=0,o=t.length;r<o;r++){const o=t[r];i[r]=h6.fromModelState(a8.moveToBeginningOfBuffer(e.cursorConfig,e.model,o.modelState,n))}return i}static moveToEndOfBuffer(e,t,n){let i=[];for(let r=0,o=t.length;r<o;r++){const o=t[r];i[r]=h6.fromModelState(a8.moveToEndOfBuffer(e.cursorConfig,e.model,o.modelState,n))}return i}static selectAll(e,t){const n=e.model.getLineCount(),i=e.model.getLineMaxColumn(n);return h6.fromModelState(new a6(new cj(1,1,1,1),0,new lj(n,i),0))}static line(e,t,n,i,r){const o=e.model.validatePosition(i),s=r?e.coordinatesConverter.validateViewPosition(new lj(r.lineNumber,r.column),o):e.coordinatesConverter.convertModelPositionToViewPosition(o);if(!n||!t.modelState.hasSelection()){const t=e.model.getLineCount();let n=o.lineNumber+1,i=1;return n>t&&(n=t,i=e.model.getLineMaxColumn(n)),h6.fromModelState(new a6(new cj(o.lineNumber,1,n,i),0,new lj(n,i),0))}const a=t.modelState.selectionStart.getStartPosition().lineNumber;if(o.lineNumber<a)return h6.fromViewState(t.viewState.move(t.modelState.hasSelection(),s.lineNumber,1,0));if(o.lineNumber>a){const n=e.getLineCount();let i=s.lineNumber+1,r=1;return i>n&&(i=n,r=e.getLineMaxColumn(i)),h6.fromViewState(t.viewState.move(t.modelState.hasSelection(),i,r,0))}{const e=t.modelState.selectionStart.getEndPosition();return h6.fromModelState(t.modelState.move(t.modelState.hasSelection(),e.lineNumber,e.column,0))}}static word(e,t,n,i){const r=e.model.validatePosition(i);return h6.fromModelState(c8.word(e.cursorConfig,e.model,t.modelState,n,r))}static cancelSelection(e,t){if(!t.modelState.hasSelection())return new h6(t.modelState,t.viewState);const n=t.viewState.position.lineNumber,i=t.viewState.position.column;return h6.fromViewState(new a6(new cj(n,i,n,i),0,new lj(n,i),0))}static moveTo(e,t,n,i,r){const o=e.model.validatePosition(i),s=r?e.coordinatesConverter.validateViewPosition(new lj(r.lineNumber,r.column),o):e.coordinatesConverter.convertModelPositionToViewPosition(o);return h6.fromViewState(t.viewState.move(n,s.lineNumber,s.column,0))}static simpleMove(e,t,n,i,r,o){switch(n){case 0:return 4===o?this._moveHalfLineLeft(e,t,i):this._moveLeft(e,t,i,r);case 1:return 4===o?this._moveHalfLineRight(e,t,i):this._moveRight(e,t,i,r);case 2:return 2===o?this._moveUpByViewLines(e,t,i,r):this._moveUpByModelLines(e,t,i,r);case 3:return 2===o?this._moveDownByViewLines(e,t,i,r):this._moveDownByModelLines(e,t,i,r);case 4:return 2===o?t.map((t=>h6.fromViewState(a8.moveToPrevBlankLine(e.cursorConfig,e,t.viewState,i)))):t.map((t=>h6.fromModelState(a8.moveToPrevBlankLine(e.cursorConfig,e.model,t.modelState,i))));case 5:return 2===o?t.map((t=>h6.fromViewState(a8.moveToNextBlankLine(e.cursorConfig,e,t.viewState,i)))):t.map((t=>h6.fromModelState(a8.moveToNextBlankLine(e.cursorConfig,e.model,t.modelState,i))));case 6:return this._moveToViewMinColumn(e,t,i);case 7:return this._moveToViewFirstNonWhitespaceColumn(e,t,i);case 8:return this._moveToViewCenterColumn(e,t,i);case 9:return this._moveToViewMaxColumn(e,t,i);case 10:return this._moveToViewLastNonWhitespaceColumn(e,t,i);default:return null}}static viewportMove(e,t,n,i,r){const o=e.getCompletelyVisibleViewRange(),s=e.coordinatesConverter.convertViewRangeToModelRange(o);switch(n){case 11:{const n=this._firstLineNumberInRange(e.model,s,r),o=e.model.getLineFirstNonWhitespaceColumn(n);return[this._moveToModelPosition(e,t[0],i,n,o)]}case 13:{const n=this._lastLineNumberInRange(e.model,s,r),o=e.model.getLineFirstNonWhitespaceColumn(n);return[this._moveToModelPosition(e,t[0],i,n,o)]}case 12:{const n=Math.round((s.startLineNumber+s.endLineNumber)/2),r=e.model.getLineFirstNonWhitespaceColumn(n);return[this._moveToModelPosition(e,t[0],i,n,r)]}case 14:{let n=[];for(let r=0,s=t.length;r<s;r++){const s=t[r];n[r]=this.findPositionInViewportIfOutside(e,s,o,i)}return n}default:return null}}static findPositionInViewportIfOutside(e,t,n,i){let r=t.viewState.position.lineNumber;if(n.startLineNumber<=r&&r<=n.endLineNumber-1)return new h6(t.modelState,t.viewState);{let o;o=r>n.endLineNumber-1?n.endLineNumber-1:r<n.startLineNumber?n.startLineNumber:r;const s=a8.vertical(e.cursorConfig,e,r,t.viewState.position.column,t.viewState.leftoverVisibleColumns,o,!1);return h6.fromViewState(t.viewState.move(i,s.lineNumber,s.column,s.leftoverVisibleColumns))}}static _firstLineNumberInRange(e,t,n){let i=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(i)&&i++,Math.min(t.endLineNumber,i+n-1)}static _lastLineNumberInRange(e,t,n){let i=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(i)&&i++,Math.max(i,t.endLineNumber-n+1)}static _moveLeft(e,t,n,i){return t.map((t=>h6.fromViewState(a8.moveLeft(e.cursorConfig,e,t.viewState,n,i))))}static _moveHalfLineLeft(e,t,n){let i=[];for(let r=0,o=t.length;r<o;r++){const o=t[r],s=o.viewState.position.lineNumber,a=Math.round(e.getLineContent(s).length/2);i[r]=h6.fromViewState(a8.moveLeft(e.cursorConfig,e,o.viewState,n,a))}return i}static _moveRight(e,t,n,i){return t.map((t=>h6.fromViewState(a8.moveRight(e.cursorConfig,e,t.viewState,n,i))))}static _moveHalfLineRight(e,t,n){let i=[];for(let r=0,o=t.length;r<o;r++){const o=t[r],s=o.viewState.position.lineNumber,a=Math.round(e.getLineContent(s).length/2);i[r]=h6.fromViewState(a8.moveRight(e.cursorConfig,e,o.viewState,n,a))}return i}static _moveDownByViewLines(e,t,n,i){let r=[];for(let o=0,s=t.length;o<s;o++){const s=t[o];r[o]=h6.fromViewState(a8.moveDown(e.cursorConfig,e,s.viewState,n,i))}return r}static _moveDownByModelLines(e,t,n,i){let r=[];for(let o=0,s=t.length;o<s;o++){const s=t[o];r[o]=h6.fromModelState(a8.moveDown(e.cursorConfig,e.model,s.modelState,n,i))}return r}static _moveUpByViewLines(e,t,n,i){let r=[];for(let o=0,s=t.length;o<s;o++){const s=t[o];r[o]=h6.fromViewState(a8.moveUp(e.cursorConfig,e,s.viewState,n,i))}return r}static _moveUpByModelLines(e,t,n,i){let r=[];for(let o=0,s=t.length;o<s;o++){const s=t[o];r[o]=h6.fromModelState(a8.moveUp(e.cursorConfig,e.model,s.modelState,n,i))}return r}static _moveToViewPosition(e,t,n,i,r){return h6.fromViewState(t.viewState.move(n,i,r,0))}static _moveToModelPosition(e,t,n,i,r){return h6.fromModelState(t.modelState.move(n,i,r,0))}static _moveToViewMinColumn(e,t,n){let i=[];for(let r=0,o=t.length;r<o;r++){const o=t[r],s=o.viewState.position.lineNumber,a=e.getLineMinColumn(s);i[r]=this._moveToViewPosition(e,o,n,s,a)}return i}static _moveToViewFirstNonWhitespaceColumn(e,t,n){let i=[];for(let r=0,o=t.length;r<o;r++){const o=t[r],s=o.viewState.position.lineNumber,a=e.getLineFirstNonWhitespaceColumn(s);i[r]=this._moveToViewPosition(e,o,n,s,a)}return i}static _moveToViewCenterColumn(e,t,n){let i=[];for(let r=0,o=t.length;r<o;r++){const o=t[r],s=o.viewState.position.lineNumber,a=Math.round((e.getLineMaxColumn(s)+e.getLineMinColumn(s))/2);i[r]=this._moveToViewPosition(e,o,n,s,a)}return i}static _moveToViewMaxColumn(e,t,n){let i=[];for(let r=0,o=t.length;r<o;r++){const o=t[r],s=o.viewState.position.lineNumber,a=e.getLineMaxColumn(s);i[r]=this._moveToViewPosition(e,o,n,s,a)}return i}static _moveToViewLastNonWhitespaceColumn(e,t,n){let i=[];for(let r=0,o=t.length;r<o;r++){const o=t[r],s=o.viewState.position.lineNumber,a=e.getLineLastNonWhitespaceColumn(s);i[r]=this._moveToViewPosition(e,o,n,s,a)}return i}}var h8,d8;(d8=h8||(h8={})).description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:function(e){if(!XH(e))return!1;let t=e;return!(!GH(t.to)||!QH(t.select)&&!JH(t.select)||!QH(t.by)&&!GH(t.by)||!QH(t.value)&&!ZH(t.value))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},d8.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},d8.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"},d8.parse=function(e){if(!e.to)return null;let t;switch(e.to){case d8.RawDirection.Left:t=0;break;case d8.RawDirection.Right:t=1;break;case d8.RawDirection.Up:t=2;break;case d8.RawDirection.Down:t=3;break;case d8.RawDirection.PrevBlankLine:t=4;break;case d8.RawDirection.NextBlankLine:t=5;break;case d8.RawDirection.WrappedLineStart:t=6;break;case d8.RawDirection.WrappedLineFirstNonWhitespaceCharacter:t=7;break;case d8.RawDirection.WrappedLineColumnCenter:t=8;break;case d8.RawDirection.WrappedLineEnd:t=9;break;case d8.RawDirection.WrappedLineLastNonWhitespaceCharacter:t=10;break;case d8.RawDirection.ViewPortTop:t=11;break;case d8.RawDirection.ViewPortBottom:t=13;break;case d8.RawDirection.ViewPortCenter:t=12;break;case d8.RawDirection.ViewPortIfOutside:t=14;break;default:return null}let n=0;switch(e.by){case d8.RawUnit.Line:n=1;break;case d8.RawUnit.WrappedLine:n=2;break;case d8.RawUnit.Character:n=3;break;case d8.RawUnit.HalfLine:n=4}return{direction:t,unit:n,select:!!e.select,value:e.value||1}};const f8=Object.create(null);function p8(e,t){if(t<=0)return"";f8[e]||(f8[e]=["",e]);const n=f8[e];for(let i=n.length;i<=t;i++)n[i]=n[i-1]+e;return n[t]}class g8{constructor(e,t){this._opts=t,this._selection=e,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(e,t,n,i,r){const o=U1.visibleColumnFromColumn(e,t,n);if(r){const e=p8(" ",i);return p8(e,U1.prevIndentTabStop(o,i)/i)}return p8("\t",U1.prevRenderTabStop(o,n)/n)}static shiftIndent(e,t,n,i,r){const o=U1.visibleColumnFromColumn(e,t,n);if(r){const e=p8(" ",i);return p8(e,U1.nextIndentTabStop(o,i)/i)}return p8("\t",U1.nextRenderTabStop(o,n)/n)}_addEditOperation(e,t,n){this._useLastEditRangeForCursorEndPosition?e.addTrackedEditOperation(t,n):e.addEditOperation(t,n)}getEditOperations(e,t){const n=this._selection.startLineNumber;let i=this._selection.endLineNumber;1===this._selection.endColumn&&n!==i&&(i-=1);const{tabSize:r,indentSize:o,insertSpaces:s}=this._opts,a=n===i;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(e.getLineContent(n))&&(this._useLastEditRangeForCursorEndPosition=!0);let l=0,c=0;for(let u=n;u<=i;u++,l=c){c=0;let i,h=e.getLineContent(u),d=RW(h);if((!this._opts.isUnshift||0!==h.length&&0!==d)&&(a||this._opts.isUnshift||0!==h.length)){if(-1===d&&(d=h.length),u>1){if(U1.visibleColumnFromColumn(h,d+1,r)%o!=0&&e.isCheapToTokenize(u-1)){let t=FK.getEnterAction(this._opts.autoIndent,e,new cj(u-1,e.getLineMaxColumn(u-1),u-1,e.getLineMaxColumn(u-1)));if(t){if(c=l,t.appendText)for(let e=0,n=t.appendText.length;e<n&&c<o&&32===t.appendText.charCodeAt(e);e++)c++;t.removeText&&(c=Math.max(0,c-t.removeText));for(let e=0;e<c&&(0!==d&&32===h.charCodeAt(d-1));e++)d--}}}this._opts.isUnshift&&0===d||(i=this._opts.isUnshift?g8.unshiftIndent(h,d+1,r,o,s):g8.shiftIndent(h,d+1,r,o,s),this._addEditOperation(t,new cj(u,1,u,d+1),i),u!==n||this._selection.isEmpty()||(this._selectionStartColumnStaysPut=this._selection.startColumn<=d+1))}}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&0===e.getLineLength(n)&&(this._useLastEditRangeForCursorEndPosition=!0);const r=s?p8(" ",o):"\t";for(let s=n;s<=i;s++){const i=e.getLineContent(s);let l=RW(i);if((!this._opts.isUnshift||0!==i.length&&0!==l)&&((a||this._opts.isUnshift||0!==i.length)&&(-1===l&&(l=i.length),!this._opts.isUnshift||0!==l)))if(this._opts.isUnshift){l=Math.min(l,o);for(let e=0;e<l;e++){if(9===i.charCodeAt(e)){l=e+1;break}}this._addEditOperation(t,new cj(s,1,s,l+1),"")}else this._addEditOperation(t,new cj(s,1,s,1),r),s!==n||this._selection.isEmpty()||(this._selectionStartColumnStaysPut=1===this._selection.startColumn)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){if(this._useLastEditRangeForCursorEndPosition){let e=t.getInverseEditOperations()[0];return new uj(e.range.endLineNumber,e.range.endColumn,e.range.endLineNumber,e.range.endColumn)}const n=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){let e=this._selection.startColumn;return n.startColumn<=e?n:0===n.getDirection()?new uj(n.startLineNumber,e,n.endLineNumber,n.endColumn):new uj(n.endLineNumber,n.endColumn,n.startLineNumber,e)}return n}}class m8{constructor(e,t,n){this._range=e,this._charBeforeSelection=t,this._charAfterSelection=n}getEditOperations(e,t){t.addTrackedEditOperation(new cj(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),t.addTrackedEditOperation(new cj(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(e,t){let n=t.getInverseEditOperations(),i=n[0].range,r=n[1].range;return new uj(i.endLineNumber,i.endColumn,r.endLineNumber,r.endColumn-this._charAfterSelection.length)}}class v8{static indent(e,t,n){if(null===t||null===n)return[];let i=[];for(let r=0,o=n.length;r<o;r++)i[r]=new g8(n[r],{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent});return i}static outdent(e,t,n){let i=[];for(let r=0,o=n.length;r<o;r++)i[r]=new g8(n[r],{isUnshift:!0,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent});return i}static shiftIndent(e,t,n){return n=n||1,g8.shiftIndent(t,t.length+n,e.tabSize,e.indentSize,e.insertSpaces)}static unshiftIndent(e,t,n){return n=n||1,g8.unshiftIndent(t,t.length+n,e.tabSize,e.indentSize,e.insertSpaces)}static _distributedPaste(e,t,n,i){let r=[];for(let o=0,s=n.length;o<s;o++)r[o]=new n8(n[o],i[o]);return new d6(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(e,t,n,i,r){let o=[];for(let s=0,a=n.length;s<a;s++){const e=n[s];let t=e.getPosition();if(r&&!e.isEmpty()&&(r=!1),r&&i.indexOf("\n")!==i.length-1&&(r=!1),r){let n=new cj(t.lineNumber,1,t.lineNumber,1);o[s]=new o8(n,i,e,!0)}else o[s]=new n8(e,i)}return new d6(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(e,t,n,i,r){if(i)return null;if(1===t.length)return null;if(r&&r.length===t.length)return r;if("spread"===e.multiCursorPaste){10===n.charCodeAt(n.length-1)&&(n=n.substr(0,n.length-1)),13===n.charCodeAt(n.length-1)&&(n=n.substr(0,n.length-1));let e=FW(n);if(e.length===t.length)return e}return null}static paste(e,t,n,i,r,o){const s=this._distributePasteToCursors(e,n,i,r,o);return s?(n=n.sort(cj.compareRangesUsingStarts),this._distributedPaste(e,t,n,s)):this._simplePaste(e,t,n,i,r)}static _goodIndentForLine(e,t,n){let i=null,r="";const o=FK.getInheritIndentForLine(e.autoIndent,t,n,!1);if(o)i=o.action,r=o.indentation;else if(n>1){let i;for(i=n-1;i>=1;i--){if(BW(t.getLineContent(i))>=0)break}if(i<1)return null;const o=t.getLineMaxColumn(i),s=FK.getEnterAction(e.autoIndent,t,new cj(i,o,i,o));s&&(r=s.indentation+s.appendText)}return i&&(i===Sq.Indent&&(r=v8.shiftIndent(e,r)),i===Sq.Outdent&&(r=v8.unshiftIndent(e,r)),r=e.normalizeIndentation(r)),r||null}static _replaceJumpToNextIndent(e,t,n,i){let r="",o=n.getStartPosition();if(e.insertSpaces){let n=U1.visibleColumnFromColumn2(e,t,o),i=e.indentSize,s=i-n%i;for(let e=0;e<s;e++)r+=" "}else r="\t";return new n8(n,r,i)}static tab(e,t,n){let i=[];for(let r=0,o=n.length;r<o;r++){const o=n[r];if(o.isEmpty()){let n=t.getLineContent(o.startLineNumber);if(/^\s*$/.test(n)&&t.isCheapToTokenize(o.startLineNumber)){let s=this._goodIndentForLine(e,t,o.startLineNumber);s=s||"\t";let a=e.normalizeIndentation(s);if(!n.startsWith(a)){i[r]=new n8(new cj(o.startLineNumber,1,o.startLineNumber,n.length+1),a,!0);continue}}i[r]=this._replaceJumpToNextIndent(e,t,o,!0)}else{if(o.startLineNumber===o.endLineNumber){let n=t.getLineMaxColumn(o.startLineNumber);if(1!==o.startColumn||o.endColumn!==n){i[r]=this._replaceJumpToNextIndent(e,t,o,!1);continue}}i[r]=new g8(o,{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent})}}return i}static compositionType(e,t,n,i,r,o,s,a){const l=i.map((e=>this._compositionType(n,e,r,o,s,a)));return new d6(4,l,{shouldPushStackElementBefore:_8(e,4),shouldPushStackElementAfter:!1})}static _compositionType(e,t,n,i,r,o){if(!t.isEmpty())return null;const s=t.getPosition(),a=Math.max(1,s.column-i),l=Math.min(e.getLineMaxColumn(s.lineNumber),s.column+r),c=new cj(s.lineNumber,a,s.lineNumber,l);return e.getValueInRange(c)===n&&0===o?null:new r8(c,n,0,o)}static _typeCommand(e,t,n){return n?new i8(e,t,!0):new n8(e,t,!0)}static _enter(e,t,n,i){if(0===e.autoIndent)return v8._typeCommand(i,"\n",n);if(!t.isCheapToTokenize(i.getStartPosition().lineNumber)||1===e.autoIndent){let r=PW(t.getLineContent(i.startLineNumber)).substring(0,i.startColumn-1);return v8._typeCommand(i,"\n"+e.normalizeIndentation(r),n)}const r=FK.getEnterAction(e.autoIndent,t,i);if(r){if(r.indentAction===Sq.None)return v8._typeCommand(i,"\n"+e.normalizeIndentation(r.indentation+r.appendText),n);if(r.indentAction===Sq.Indent)return v8._typeCommand(i,"\n"+e.normalizeIndentation(r.indentation+r.appendText),n);if(r.indentAction===Sq.IndentOutdent){const t=e.normalizeIndentation(r.indentation),o=e.normalizeIndentation(r.indentation+r.appendText),s="\n"+o+"\n"+t;return n?new i8(i,s,!0):new r8(i,s,-1,o.length-t.length,!0)}if(r.indentAction===Sq.Outdent){const t=v8.unshiftIndent(e,r.indentation);return v8._typeCommand(i,"\n"+e.normalizeIndentation(t+r.appendText),n)}}const o=PW(t.getLineContent(i.startLineNumber)).substring(0,i.startColumn-1);if(e.autoIndent>=4){const r=FK.getIndentForEnter(e.autoIndent,t,i,{unshiftIndent:t=>v8.unshiftIndent(e,t),shiftIndent:t=>v8.shiftIndent(e,t),normalizeIndentation:t=>e.normalizeIndentation(t)});if(r){let o=U1.visibleColumnFromColumn2(e,t,i.getEndPosition());const s=i.endColumn,a=RW(t.getLineContent(i.endLineNumber));if(i=a>=0?i.setEndPosition(i.endLineNumber,Math.max(i.endColumn,a+1)):i.setEndPosition(i.endLineNumber,t.getLineMaxColumn(i.endLineNumber)),n)return new i8(i,"\n"+e.normalizeIndentation(r.afterEnter),!0);{let t=0;return s<=a+1&&(e.insertSpaces||(o=Math.ceil(o/e.indentSize)),t=Math.min(o+1-e.normalizeIndentation(r.afterEnter).length-1,0)),new r8(i,"\n"+e.normalizeIndentation(r.afterEnter),0,t,!0)}}}return v8._typeCommand(i,"\n"+e.normalizeIndentation(o),n)}static _isAutoIndentType(e,t,n){if(e.autoIndent<4)return!1;for(let i=0,r=n.length;i<r;i++)if(!t.isCheapToTokenize(n[i].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(e,t,n,i){const r=FK.getIndentationAtPosition(t,n.startLineNumber,n.startColumn),o=FK.getIndentActionForType(e.autoIndent,t,n,i,{shiftIndent:t=>v8.shiftIndent(e,t),unshiftIndent:t=>v8.unshiftIndent(e,t)});if(null===o)return null;if(o!==e.normalizeIndentation(r)){const r=t.getLineFirstNonWhitespaceColumn(n.startLineNumber);return 0===r?v8._typeCommand(new cj(n.startLineNumber,1,n.endLineNumber,n.endColumn),e.normalizeIndentation(o)+i,!1):v8._typeCommand(new cj(n.startLineNumber,1,n.endLineNumber,n.endColumn),e.normalizeIndentation(o)+t.getLineContent(n.startLineNumber).substring(r-1,n.startColumn-1)+i,!1)}return null}static _isAutoClosingOvertype(e,t,n,i,r){if("never"===e.autoClosingOvertype)return!1;if(!e.autoClosingPairs.autoClosingPairsCloseSingleChar.has(r))return!1;for(let o=0,s=n.length;o<s;o++){const s=n[o];if(!s.isEmpty())return!1;const a=s.getPosition(),l=t.getLineContent(a.lineNumber);if(l.charAt(a.column-1)!==r)return!1;const c=f6(r);if(92===(a.column>2?l.charCodeAt(a.column-2):0)&&c)return!1;if("auto"===e.autoClosingOvertype){let e=!1;for(let t=0,n=i.length;t<n;t++){const n=i[t];if(a.lineNumber===n.startLineNumber&&a.column===n.startColumn){e=!0;break}}if(!e)return!1}}return!0}static _runAutoClosingOvertype(e,t,n,i,r){let o=[];for(let s=0,a=i.length;s<a;s++){const e=i[s].getPosition(),t=new cj(e.lineNumber,e.column,e.lineNumber,e.column+1);o[s]=new n8(t,r)}return new d6(4,o,{shouldPushStackElementBefore:_8(e,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(e,t){const n=t.charAt(0),i=e.autoClosingPairs.autoClosingPairsOpenByStart.get(n)||[],r=e.autoClosingPairs.autoClosingPairsCloseByStart.get(n)||[],o=i.some((e=>t.startsWith(e.open))),s=r.some((e=>t.startsWith(e.close)));return!o&&s}static _findAutoClosingPairOpen(e,t,n,i){const r=e.autoClosingPairs.autoClosingPairsOpenByEnd.get(i);if(!r)return null;let o=null;for(const s of r)if(null===o||s.open.length>o.open.length){let e=!0;for(const r of n){if(t.getValueInRange(new cj(r.lineNumber,r.column-s.open.length+1,r.lineNumber,r.column))+i!==s.open){e=!1;break}}e&&(o=s)}return o}static _findSubAutoClosingPairClose(e,t){if(t.open.length<=1)return"";const n=t.close.charAt(t.close.length-1),i=e.autoClosingPairs.autoClosingPairsCloseByEnd.get(n)||[];let r=null;for(const o of i)o.open!==t.open&&t.open.includes(o.open)&&t.close.endsWith(o.close)&&(!r||o.open.length>r.open.length)&&(r=o);return r?r.close:""}static _getAutoClosingPairClose(e,t,n,i,r){const o=f6(i),s=o?e.autoClosingQuotes:e.autoClosingBrackets;if("never"===s)return null;const a=this._findAutoClosingPairOpen(e,t,n.map((e=>e.getPosition())),i);if(!a)return null;const l=this._findSubAutoClosingPairClose(e,a);let c=!0;const u=o?e.shouldAutoCloseBefore.quote:e.shouldAutoCloseBefore.bracket;for(let h=0,d=n.length;h<d;h++){const o=n[h];if(!o.isEmpty())return null;const d=o.getPosition(),f=t.getLineContent(d.lineNumber),p=f.substring(d.column-1);if(p.startsWith(l)||(c=!1),f.length>d.column-1){const t=f.charAt(d.column-1);if(!v8._isBeforeClosingBrace(e,p)&&!u(t))return null}if(!t.isCheapToTokenize(d.lineNumber))return null;if(1===a.open.length&&("'"===i||'"'===i)&&"always"!==s){const t=N0(e.wordSeparators);if(r&&d.column>1&&0===t.get(f.charCodeAt(d.column-2)))return null;if(!r&&d.column>2&&0===t.get(f.charCodeAt(d.column-3)))return null}t.forceTokenization(d.lineNumber);const g=t.getLineTokens(d.lineNumber);let m=!1;try{m=FK.shouldAutoClosePair(a,g,r?d.column:d.column-1)}catch(nR){IP(nR)}if(!m)return null}return c?a.close.substring(0,a.close.length-l.length):a.close}static _runAutoClosingOpenCharType(e,t,n,i,r,o,s){let a=[];for(let l=0,c=i.length;l<c;l++){const e=i[l];a[l]=new y8(e,r,o,s)}return new d6(4,a,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(e,t){return f6(t)?"quotes"===e.autoSurround||"languageDefined"===e.autoSurround:"brackets"===e.autoSurround||"languageDefined"===e.autoSurround}static _isSurroundSelectionType(e,t,n,i){if(!v8._shouldSurroundChar(e,i)||!e.surroundingPairs.hasOwnProperty(i))return!1;const r=f6(i);for(let o=0,s=n.length;o<s;o++){const e=n[o];if(e.isEmpty())return!1;let i=!0;for(let n=e.startLineNumber;n<=e.endLineNumber;n++){const r=t.getLineContent(n),o=n===e.startLineNumber?e.startColumn-1:0,s=n===e.endLineNumber?e.endColumn-1:r.length,a=r.substring(o,s);if(/[^ \t]/.test(a)){i=!1;break}}if(i)return!1;if(r&&e.startLineNumber===e.endLineNumber&&e.startColumn+1===e.endColumn){if(f6(t.getValueInRange(e)))return!1}}return!0}static _runSurroundSelectionType(e,t,n,i,r){let o=[];for(let s=0,a=i.length;s<a;s++){const e=i[s],n=t.surroundingPairs[r];o[s]=new m8(e,r,n)}return new d6(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(e,t,n){return!(1!==n.length||!t.isCheapToTokenize(n[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(e,t,n,i,r){if(!t.electricChars.hasOwnProperty(r)||!i.isEmpty())return null;let o=i.getPosition();n.forceTokenization(o.lineNumber);let s,a=n.getLineTokens(o.lineNumber);try{s=FK.onElectricCharacter(r,a,o.column)}catch(nR){return IP(nR),null}if(!s)return null;if(s.matchOpenBracket){let i=(a.getLineContent()+r).lastIndexOf(s.matchOpenBracket)+1,l=n.findMatchingBracketUp(s.matchOpenBracket,{lineNumber:o.lineNumber,column:i});if(l){if(l.startLineNumber===o.lineNumber)return null;let i=PW(n.getLineContent(l.startLineNumber)),s=t.normalizeIndentation(i),a=n.getLineContent(o.lineNumber),c=n.getLineFirstNonWhitespaceColumn(o.lineNumber)||o.column,u=s+a.substring(c-1,o.column-1)+r,h=new cj(o.lineNumber,1,o.lineNumber,o.column);const d=new n8(h,u);return new d6(b8(u,e),[d],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(e,t,n,i,r,o){if(!i||uj.selectionsArrEqual(i,r))return null;let s=null;for(const l of r){if(!l.isEmpty())return null;const e=l.getPosition(),t=n.getValueInRange(new cj(e.lineNumber,e.column-1,e.lineNumber,e.column));if(null===s)s=t;else if(s!==t)return null}if(!s)return null;if(this._isAutoClosingOvertype(t,n,r,o,s)){const e=r.map((e=>new n8(new cj(e.positionLineNumber,e.positionColumn,e.positionLineNumber,e.positionColumn+1),"",!1)));return new d6(4,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const a=this._getAutoClosingPairClose(t,n,r,s,!1);return null!==a?this._runAutoClosingOpenCharType(e,t,n,r,s,!1,a):null}static typeWithInterceptors(e,t,n,i,r,o,s){if(!e&&"\n"===s){let e=[];for(let t=0,o=r.length;t<o;t++)e[t]=v8._enter(n,i,!1,r[t]);return new d6(4,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoIndentType(n,i,r)){let e=[],t=!1;for(let o=0,a=r.length;o<a;o++)if(e[o]=this._runAutoIndentType(n,i,r[o],s),!e[o]){t=!0;break}if(!t)return new d6(4,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoClosingOvertype(n,i,r,o,s))return this._runAutoClosingOvertype(t,n,i,r,s);if(!e){const e=this._getAutoClosingPairClose(n,i,r,s,!0);if(e)return this._runAutoClosingOpenCharType(t,n,i,r,s,!0,e)}if(this._isSurroundSelectionType(n,i,r,s))return this._runSurroundSelectionType(t,n,i,r,s);if(!e&&this._isTypeInterceptorElectricChar(n,i,r)){const e=this._typeInterceptorElectricChar(t,n,i,r[0],s);if(e)return e}let a=[];for(let c=0,u=r.length;c<u;c++)a[c]=new n8(r[c],s);const l=b8(s,t);return new d6(l,a,{shouldPushStackElementBefore:_8(t,l),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(e,t,n,i,r){let o=[];for(let a=0,l=i.length;a<l;a++)o[a]=new n8(i[a],r);const s=b8(r,e);return new d6(s,o,{shouldPushStackElementBefore:_8(e,s),shouldPushStackElementAfter:!1})}static lineInsertBefore(e,t,n){if(null===t||null===n)return[];let i=[];for(let r=0,o=n.length;r<o;r++){let o=n[r].positionLineNumber;if(1===o)i[r]=new i8(new cj(1,1,1,1),"\n");else{o--;let n=t.getLineMaxColumn(o);i[r]=this._enter(e,t,!1,new cj(o,n,o,n))}}return i}static lineInsertAfter(e,t,n){if(null===t||null===n)return[];let i=[];for(let r=0,o=n.length;r<o;r++){const o=n[r].positionLineNumber;let s=t.getLineMaxColumn(o);i[r]=this._enter(e,t,!1,new cj(o,s,o,s))}return i}static lineBreakInsert(e,t,n){let i=[];for(let r=0,o=n.length;r<o;r++)i[r]=this._enter(e,t,!0,n[r]);return i}}class y8 extends r8{constructor(e,t,n,i){super(e,(n?t:"")+i,0,-i.length),this._openCharacter=t,this._closeCharacter=i,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(e,t){let n=t.getInverseEditOperations()[0].range;return this.closeCharacterRange=new cj(n.startLineNumber,n.endColumn-this._closeCharacter.length,n.endLineNumber,n.endColumn),this.enclosingRange=new cj(n.startLineNumber,n.endColumn-this._openCharacter.length-this._closeCharacter.length,n.endLineNumber,n.endColumn),super.computeCursorState(e,t)}}function b8(e,t){return" "===e?5===t||6===t?6:5:4}function _8(e,t){return!(!C8(e)||C8(t))||5!==e&&w8(e)!==w8(t)}function w8(e){return 6===e||5===e?"space":e}function C8(e){return 4===e||5===e||6===e}var x8,k8;(k8=x8||(x8={})).editorSimpleInput=new $X("editorSimpleInput",!1,!0),k8.editorTextFocus=new $X("editorTextFocus",!1,DR(0,"Whether the editor text has focus (cursor is blinking)")),k8.focus=new $X("editorFocus",!1,DR(0,"Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),k8.textInputFocus=new $X("textInputFocus",!1,DR(0,"Whether an editor or a rich text input has focus (cursor is blinking)")),k8.readOnly=new $X("editorReadonly",!1,DR(0,"Whether the editor is read only")),k8.inDiffEditor=new $X("inDiffEditor",!1,DR(0,"Whether the context is a diff editor")),k8.columnSelection=new $X("editorColumnSelection",!1,DR(0,"Whether `editor.columnSelection` is enabled")),k8.writable=k8.readOnly.toNegated(),k8.hasNonEmptySelection=new $X("editorHasSelection",!1,DR(0,"Whether the editor has text selected")),k8.hasOnlyEmptySelection=k8.hasNonEmptySelection.toNegated(),k8.hasMultipleSelections=new $X("editorHasMultipleSelections",!1,DR(0,"Whether the editor has multiple selections")),k8.hasSingleSelection=k8.hasMultipleSelections.toNegated(),k8.tabMovesFocus=new $X("editorTabMovesFocus",!1,DR(0,"Whether `Tab` will move focus out of the editor")),k8.tabDoesNotMoveFocus=k8.tabMovesFocus.toNegated(),k8.isInWalkThroughSnippet=new $X("isInEmbeddedEditor",!1,!0),k8.canUndo=new $X("canUndo",!1,!0),k8.canRedo=new $X("canRedo",!1,!0),k8.hoverVisible=new $X("editorHoverVisible",!1,DR(0,"Whether the editor hover is visible")),k8.inCompositeEditor=new $X("inCompositeEditor",void 0,DR(0,"Whether the editor is part of a larger editor (e.g. notebooks)")),k8.notInCompositeEditor=k8.inCompositeEditor.toNegated(),k8.languageId=new $X("editorLangId","",DR(0,"The language identifier of the editor")),k8.hasCompletionItemProvider=new $X("editorHasCompletionItemProvider",!1,DR(0,"Whether the editor has a completion item provider")),k8.hasCodeActionsProvider=new $X("editorHasCodeActionsProvider",!1,DR(0,"Whether the editor has a code actions provider")),k8.hasCodeLensProvider=new $X("editorHasCodeLensProvider",!1,DR(0,"Whether the editor has a code lens provider")),k8.hasDefinitionProvider=new $X("editorHasDefinitionProvider",!1,DR(0,"Whether the editor has a definition provider")),k8.hasDeclarationProvider=new $X("editorHasDeclarationProvider",!1,DR(0,"Whether the editor has a declaration provider")),k8.hasImplementationProvider=new $X("editorHasImplementationProvider",!1,DR(0,"Whether the editor has an implementation provider")),k8.hasTypeDefinitionProvider=new $X("editorHasTypeDefinitionProvider",!1,DR(0,"Whether the editor has a type definition provider")),k8.hasHoverProvider=new $X("editorHasHoverProvider",!1,DR(0,"Whether the editor has a hover provider")),k8.hasDocumentHighlightProvider=new $X("editorHasDocumentHighlightProvider",!1,DR(0,"Whether the editor has a document highlight provider")),k8.hasDocumentSymbolProvider=new $X("editorHasDocumentSymbolProvider",!1,DR(0,"Whether the editor has a document symbol provider")),k8.hasReferenceProvider=new $X("editorHasReferenceProvider",!1,DR(0,"Whether the editor has a reference provider")),k8.hasRenameProvider=new $X("editorHasRenameProvider",!1,DR(0,"Whether the editor has a rename provider")),k8.hasSignatureHelpProvider=new $X("editorHasSignatureHelpProvider",!1,DR(0,"Whether the editor has a signature help provider")),k8.hasInlayHintsProvider=new $X("editorHasInlayHintsProvider",!1,DR(0,"Whether the editor has an inline hints provider")),k8.hasDocumentFormattingProvider=new $X("editorHasDocumentFormattingProvider",!1,DR(0,"Whether the editor has a document formatting provider")),k8.hasDocumentSelectionFormattingProvider=new $X("editorHasDocumentSelectionFormattingProvider",!1,DR(0,"Whether the editor has a document selection formatting provider")),k8.hasMultipleDocumentFormattingProvider=new $X("editorHasMultipleDocumentFormattingProvider",!1,DR(0,"Whether the editor has multiple document formatting providers")),k8.hasMultipleDocumentSelectionFormattingProvider=new $X("editorHasMultipleDocumentSelectionFormattingProvider",!1,DR(0,"Whether the editor has multiple document selection formatting providers"));class S8 extends MJ{runEditorCommand(e,t,n){const i=t._getViewModel();i&&this.runCoreEditorCommand(i,n||{})}}var D8,E8,L8,T8,N8;(E8=D8||(D8={})).description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:function(e){if(!XH(e))return!1;const t=e;return!(!GH(t.to)||!QH(t.by)&&!GH(t.by)||!QH(t.value)&&!ZH(t.value)||!QH(t.revealCursor)&&!JH(t.revealCursor))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},E8.RawDirection={Up:"up",Down:"down"},E8.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"},E8.parse=function(e){let t,n;switch(e.to){case E8.RawDirection.Up:t=1;break;case E8.RawDirection.Down:t=2;break;default:return null}switch(e.by){case E8.RawUnit.Line:n=1;break;case E8.RawUnit.WrappedLine:n=2;break;case E8.RawUnit.Page:n=3;break;case E8.RawUnit.HalfPage:n=4;break;default:n=2}return{direction:t,unit:n,value:Math.floor(e.value||1),revealCursor:!!e.revealCursor,select:!!e.select}},(T8=L8||(L8={})).description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:function(e){if(!XH(e))return!1;const t=e;return!(!ZH(t.lineNumber)&&!GH(t.lineNumber)||!QH(t.at)&&!GH(t.at))},schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},T8.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"};class M8{constructor(e){e.addImplementation(1e4,"code-editor",((e,t)=>{const n=e.get(Pz).getFocusedCodeEditor();return!(!n||!n.hasTextFocus())&&this._runEditorCommand(e,n,t)})),e.addImplementation(1e3,"generic-dom-input-textarea",((e,t)=>{const n=document.activeElement;return!!(n&&["input","textarea"].indexOf(n.tagName.toLowerCase())>=0)&&(this.runDOMCommand(),!0)})),e.addImplementation(0,"generic-dom",((e,t)=>{const n=e.get(Pz).getActiveCodeEditor();return!!n&&(n.focus(),this._runEditorCommand(e,n,t))}))}_runEditorCommand(e,t,n){const i=this.runEditorCommand(e,t,n);return i||!0}}!function(e){class t extends S8{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[u8.moveTo(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position,t.viewPosition)]),e.revealPrimaryCursor(t.source,!0)}}e.MoveTo=IJ(new t({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),e.MoveToSelect=IJ(new t({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class n extends S8{runCoreEditorCommand(e,t){e.model.pushStackElement();const n=this._getColumnSelectResult(e,e.getPrimaryCursorState(),e.getCursorColumnSelectData(),t);e.setCursorStates(t.source,3,n.viewStates.map((e=>h6.fromViewState(e)))),e.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:n.fromLineNumber,fromViewVisualColumn:n.fromVisualColumn,toViewLineNumber:n.toLineNumber,toViewVisualColumn:n.toVisualColumn}),n.reversed?e.revealTopMostCursor(t.source):e.revealBottomMostCursor(t.source)}}e.ColumnSelect=IJ(new class extends n{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(e,t,n,i){const r=e.model.validatePosition(i.position),o=e.coordinatesConverter.validateViewPosition(new lj(i.viewPosition.lineNumber,i.viewPosition.column),r);let s=i.doColumnSelect?n.fromViewLineNumber:o.lineNumber,a=i.doColumnSelect?n.fromViewVisualColumn:i.mouseColumn-1;return t8.columnSelect(e.cursorConfig,e,s,a,o.lineNumber,i.mouseColumn-1)}}),e.CursorColumnSelectLeft=IJ(new class extends n{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:x8.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(e,t,n,i){return t8.columnSelectLeft(e.cursorConfig,e,n)}}),e.CursorColumnSelectRight=IJ(new class extends n{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:0,kbExpr:x8.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(e,t,n,i){return t8.columnSelectRight(e.cursorConfig,e,n)}});class i extends n{constructor(e){super(e),this._isPaged=e.isPaged}_getColumnSelectResult(e,t,n,i){return t8.columnSelectUp(e.cursorConfig,e,n,this._isPaged)}}e.CursorColumnSelectUp=IJ(new i({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:0,kbExpr:x8.textInputFocus,primary:3600,linux:{primary:0}}})),e.CursorColumnSelectPageUp=IJ(new i({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:x8.textInputFocus,primary:3595,linux:{primary:0}}}));class r extends n{constructor(e){super(e),this._isPaged=e.isPaged}_getColumnSelectResult(e,t,n,i){return t8.columnSelectDown(e.cursorConfig,e,n,this._isPaged)}}e.CursorColumnSelectDown=IJ(new r({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:0,kbExpr:x8.textInputFocus,primary:3602,linux:{primary:0}}})),e.CursorColumnSelectPageDown=IJ(new r({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:x8.textInputFocus,primary:3596,linux:{primary:0}}}));class o extends S8{constructor(){super({id:"cursorMove",precondition:void 0,description:h8.description})}runCoreEditorCommand(e,t){const n=h8.parse(t);n&&this._runCursorMove(e,t.source,n)}_runCursorMove(e,t,n){e.model.pushStackElement(),e.setCursorStates(t,3,o._move(e,e.getCursorStates(),n)),e.revealPrimaryCursor(t,!0)}static _move(e,t,n){const i=n.select,r=n.value;switch(n.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return u8.simpleMove(e,t,n.direction,i,r,n.unit);case 11:case 13:case 12:case 14:return u8.viewportMove(e,t,n.direction,i,r);default:return null}}}e.CursorMoveImpl=o,e.CursorMove=IJ(new o);class s extends S8{constructor(e){super(e),this._staticArgs=e.args}runCoreEditorCommand(e,t){let n=this._staticArgs;-1===this._staticArgs.value&&(n={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:e.cursorConfig.pageSize}),e.model.pushStackElement(),e.setCursorStates(t.source,3,u8.simpleMove(e,e.getCursorStates(),n.direction,n.select,n.value,n.unit)),e.revealPrimaryCursor(t.source,!0)}}e.CursorLeft=IJ(new s({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:x8.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),e.CursorLeftSelect=IJ(new s({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:x8.textInputFocus,primary:1039}})),e.CursorRight=IJ(new s({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:0,kbExpr:x8.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),e.CursorRightSelect=IJ(new s({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:x8.textInputFocus,primary:1041}})),e.CursorUp=IJ(new s({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:0,kbExpr:x8.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),e.CursorUpSelect=IJ(new s({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:x8.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),e.CursorPageUp=IJ(new s({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:x8.textInputFocus,primary:11}})),e.CursorPageUpSelect=IJ(new s({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:x8.textInputFocus,primary:1035}})),e.CursorDown=IJ(new s({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:0,kbExpr:x8.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),e.CursorDownSelect=IJ(new s({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:x8.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),e.CursorPageDown=IJ(new s({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:x8.textInputFocus,primary:12}})),e.CursorPageDownSelect=IJ(new s({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:x8.textInputFocus,primary:1036}})),e.CreateCursor=IJ(new class extends S8{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(e,t){let n;n=t.wholeLine?u8.line(e,e.getPrimaryCursorState(),!1,t.position,t.viewPosition):u8.moveTo(e,e.getPrimaryCursorState(),!1,t.position,t.viewPosition);const i=e.getCursorStates();if(i.length>1){const r=n.modelState?n.modelState.position:null,o=n.viewState?n.viewState.position:null;for(let n=0,s=i.length;n<s;n++){const s=i[n];if((!r||s.modelState.selection.containsPosition(r))&&(!o||s.viewState.selection.containsPosition(o)))return i.splice(n,1),e.model.pushStackElement(),void e.setCursorStates(t.source,3,i)}}i.push(n),e.model.pushStackElement(),e.setCursorStates(t.source,3,i)}}),e.LastCursorMoveToSelect=IJ(new class extends S8{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(e,t){const n=e.getLastAddedCursorIndex(),i=e.getCursorStates(),r=i.slice(0);r[n]=u8.moveTo(e,i[n],!0,t.position,t.viewPosition),e.model.pushStackElement(),e.setCursorStates(t.source,3,r)}});class a extends S8{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,u8.moveToBeginningOfLine(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}e.CursorHome=IJ(new a({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:0,kbExpr:x8.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),e.CursorHomeSelect=IJ(new a({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:x8.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class l extends S8{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,this._exec(e.getCursorStates())),e.revealPrimaryCursor(t.source,!0)}_exec(e){const t=[];for(let n=0,i=e.length;n<i;n++){const i=e[n],r=i.modelState.position.lineNumber;t[n]=h6.fromModelState(i.modelState.move(this._inSelectionMode,r,1,0))}return t}}e.CursorLineStart=IJ(new l({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:0,kbExpr:x8.textInputFocus,primary:0,mac:{primary:287}}})),e.CursorLineStartSelect=IJ(new l({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:x8.textInputFocus,primary:0,mac:{primary:1311}}}));class c extends S8{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,u8.moveToEndOfLine(e,e.getCursorStates(),this._inSelectionMode,t.sticky||!1)),e.revealPrimaryCursor(t.source,!0)}}e.CursorEnd=IJ(new c({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:x8.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:DR(0,"Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),e.CursorEndSelect=IJ(new c({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:x8.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:DR(0,"Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class u extends S8{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,this._exec(e,e.getCursorStates())),e.revealPrimaryCursor(t.source,!0)}_exec(e,t){const n=[];for(let i=0,r=t.length;i<r;i++){const r=t[i],o=r.modelState.position.lineNumber,s=e.model.getLineMaxColumn(o);n[i]=h6.fromModelState(r.modelState.move(this._inSelectionMode,o,s,0))}return n}}e.CursorLineEnd=IJ(new u({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:0,kbExpr:x8.textInputFocus,primary:0,mac:{primary:291}}})),e.CursorLineEndSelect=IJ(new u({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:x8.textInputFocus,primary:0,mac:{primary:1315}}}));class h extends S8{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,u8.moveToBeginningOfBuffer(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}e.CursorTop=IJ(new h({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:x8.textInputFocus,primary:2062,mac:{primary:2064}}})),e.CursorTopSelect=IJ(new h({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:x8.textInputFocus,primary:3086,mac:{primary:3088}}}));class d extends S8{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,u8.moveToEndOfBuffer(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}e.CursorBottom=IJ(new d({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:x8.textInputFocus,primary:2061,mac:{primary:2066}}})),e.CursorBottomSelect=IJ(new d({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:x8.textInputFocus,primary:3085,mac:{primary:3090}}}));class f extends S8{constructor(){super({id:"editorScroll",precondition:void 0,description:D8.description})}runCoreEditorCommand(e,t){const n=D8.parse(t);n&&this._runEditorScroll(e,t.source,n)}_runEditorScroll(e,t,n){const i=this._computeDesiredScrollTop(e,n);if(n.revealCursor){const r=e.getCompletelyVisibleViewRangeAtScrollTop(i);e.setCursorStates(t,3,[u8.findPositionInViewportIfOutside(e,e.getPrimaryCursorState(),r,n.select)])}e.setScrollTop(i,0)}_computeDesiredScrollTop(e,t){if(1===t.unit){const n=e.getCompletelyVisibleViewRange(),i=e.coordinatesConverter.convertViewRangeToModelRange(n);let r;r=1===t.direction?Math.max(1,i.startLineNumber-t.value):Math.min(e.model.getLineCount(),i.startLineNumber+t.value);const o=e.coordinatesConverter.convertModelPositionToViewPosition(new lj(r,1));return e.getVerticalOffsetForLineNumber(o.lineNumber)}let n;n=3===t.unit?e.cursorConfig.pageSize*t.value:4===t.unit?Math.round(e.cursorConfig.pageSize/2)*t.value:t.value;const i=(1===t.direction?-1:1)*n;return e.getScrollTop()+i*e.cursorConfig.lineHeight}}e.EditorScrollImpl=f,e.EditorScroll=IJ(new f),e.ScrollLineUp=IJ(new class extends S8{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:0,kbExpr:x8.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(t,n){e.EditorScroll._runEditorScroll(t,n.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),e.ScrollPageUp=IJ(new class extends S8{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:x8.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(t,n){e.EditorScroll._runEditorScroll(t,n.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),e.ScrollLineDown=IJ(new class extends S8{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:0,kbExpr:x8.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(t,n){e.EditorScroll._runEditorScroll(t,n.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),e.ScrollPageDown=IJ(new class extends S8{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:x8.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(t,n){e.EditorScroll._runEditorScroll(t,n.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class p extends S8{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[u8.word(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position)]),e.revealPrimaryCursor(t.source,!0)}}e.WordSelect=IJ(new p({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),e.WordSelectDrag=IJ(new p({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),e.LastCursorWordSelect=IJ(new class extends S8{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(e,t){const n=e.getLastAddedCursorIndex(),i=e.getCursorStates(),r=i.slice(0),o=i[n];r[n]=u8.word(e,o,o.modelState.hasSelection(),t.position),e.model.pushStackElement(),e.setCursorStates(t.source,3,r)}});class g extends S8{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[u8.line(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position,t.viewPosition)]),e.revealPrimaryCursor(t.source,!1)}}e.LineSelect=IJ(new g({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),e.LineSelectDrag=IJ(new g({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class m extends S8{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){const n=e.getLastAddedCursorIndex(),i=e.getCursorStates(),r=i.slice(0);r[n]=u8.line(e,i[n],this._inSelectionMode,t.position,t.viewPosition),e.model.pushStackElement(),e.setCursorStates(t.source,3,r)}}e.LastCursorLineSelect=IJ(new m({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),e.LastCursorLineSelectDrag=IJ(new m({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),e.ExpandLineSelection=IJ(new class extends S8{constructor(){super({id:"expandLineSelection",precondition:void 0,kbOpts:{weight:0,kbExpr:x8.textInputFocus,primary:2090}})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,u8.expandLineSelection(e,e.getCursorStates())),e.revealPrimaryCursor(t.source,!0)}}),e.CancelSelection=IJ(new class extends S8{constructor(){super({id:"cancelSelection",precondition:x8.hasNonEmptySelection,kbOpts:{weight:0,kbExpr:x8.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[u8.cancelSelection(e,e.getPrimaryCursorState())]),e.revealPrimaryCursor(t.source,!0)}}),e.RemoveSecondaryCursors=IJ(new class extends S8{constructor(){super({id:"removeSecondaryCursors",precondition:x8.hasMultipleSelections,kbOpts:{weight:1,kbExpr:x8.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(e,t){var n;e.model.pushStackElement(),e.setCursorStates(t.source,3,[e.getPrimaryCursorState()]),e.revealPrimaryCursor(t.source,!0),n=DR(0,"Removed secondary cursors"),YZ&&(WR?QZ(n):ZZ.textContent!==n?(TV(JZ),eJ(ZZ,n)):(TV(ZZ),eJ(JZ,n)))}}),e.RevealLine=IJ(new class extends S8{constructor(){super({id:"revealLine",precondition:void 0,description:L8.description})}runCoreEditorCommand(e,t){const n=t,i=n.lineNumber||0;let r="number"==typeof i?i+1:parseInt(i)+1;r<1&&(r=1);const o=e.model.getLineCount();r>o&&(r=o);const s=new cj(r,1,r,e.model.getLineMaxColumn(r));let a=0;if(n.at)switch(n.at){case L8.RawAtArgument.Top:a=3;break;case L8.RawAtArgument.Center:a=1;break;case L8.RawAtArgument.Bottom:a=4}const l=e.coordinatesConverter.convertModelRangeToViewRange(s);e.revealRange(t.source,!1,l,a,0)}}),e.SelectAll=new class extends M8{constructor(){super(WJ)}runDOMCommand(){Wz&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(e,t,n){const i=t._getViewModel();i&&this.runCoreEditorCommand(i,n)}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates("keyboard",3,[u8.selectAll(e,e.getPrimaryCursorState())])}},e.SetSelection=IJ(new class extends S8{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[h6.fromModelSelection(t.selection)])}})}(N8||(N8={}));const A8=SX.and(x8.textInputFocus,x8.columnSelection);function I8(e,t){tZ.registerKeybindingRule({id:e,primary:t,when:A8,weight:1})}function O8(e){return e.register(),e}var F8,R8;I8(N8.CursorColumnSelectLeft.id,1039),I8(N8.CursorColumnSelectRight.id,1041),I8(N8.CursorColumnSelectUp.id,1040),I8(N8.CursorColumnSelectPageUp.id,1035),I8(N8.CursorColumnSelectDown.id,1042),I8(N8.CursorColumnSelectPageDown.id,1036),function(e){class t extends MJ{runEditorCommand(e,t,n){const i=t._getViewModel();i&&this.runCoreEditingCommand(t,i,n||{})}}e.CoreEditingCommand=t,e.LineBreakInsert=IJ(new class extends t{constructor(){super({id:"lineBreakInsert",precondition:x8.writable,kbOpts:{weight:0,kbExpr:x8.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(e,t,n){e.pushUndoStop(),e.executeCommands(this.id,v8.lineBreakInsert(t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection))))}}),e.Outdent=IJ(new class extends t{constructor(){super({id:"outdent",precondition:x8.writable,kbOpts:{weight:0,kbExpr:SX.and(x8.editorTextFocus,x8.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(e,t,n){e.pushUndoStop(),e.executeCommands(this.id,v8.outdent(t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)))),e.pushUndoStop()}}),e.Tab=IJ(new class extends t{constructor(){super({id:"tab",precondition:x8.writable,kbOpts:{weight:0,kbExpr:SX.and(x8.editorTextFocus,x8.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(e,t,n){e.pushUndoStop(),e.executeCommands(this.id,v8.tab(t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)))),e.pushUndoStop()}}),e.DeleteLeft=IJ(new class extends t{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:x8.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(e,t,n){const[i,r]=l8.deleteLeft(t.getPrevEditOperationType(),t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)),t.getCursorAutoClosedCharacters());i&&e.pushUndoStop(),e.executeCommands(this.id,r),t.setPrevEditOperationType(2)}}),e.DeleteRight=IJ(new class extends t{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:0,kbExpr:x8.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(e,t,n){const[i,r]=l8.deleteRight(t.getPrevEditOperationType(),t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)));i&&e.pushUndoStop(),e.executeCommands(this.id,r),t.setPrevEditOperationType(3)}}),e.Undo=new class extends M8{constructor(){super(zJ)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(e,t,n){if(t.hasModel()&&!0!==t.getOption(80))return t.getModel().undo()}},e.Redo=new class extends M8{constructor(){super(VJ)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(e,t,n){if(t.hasModel()&&!0!==t.getOption(80))return t.getModel().redo()}}}(F8||(F8={}));class P8 extends LJ{constructor(e,t,n){super({id:e,precondition:void 0,description:n}),this._handlerId=t}runCommand(e,t){const n=e.get(Pz).getFocusedCodeEditor();n&&n.trigger("keyboard",this._handlerId,t)}}function B8(e,t){O8(new P8("default:"+e,e)),O8(new P8(e,e,t))}B8("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),B8("replacePreviousChar"),B8("compositionType"),B8("compositionStart"),B8("compositionEnd"),B8("paste"),B8("cut");class j8{constructor(e,t,n,i){this.configuration=e,this.viewModel=t,this.userInputEvents=n,this.commandDelegate=i}paste(e,t,n,i){this.commandDelegate.paste(e,t,n,i)}type(e){this.commandDelegate.type(e)}compositionType(e,t,n,i){this.commandDelegate.compositionType(e,t,n,i)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(e){N8.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:e})}_validateViewColumn(e){const t=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<t?new lj(e.lineNumber,t):e}_hasMulticursorModifier(e){switch(this.configuration.options.get(69)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey;default:return!1}}_hasNonMulticursorModifier(e){switch(this.configuration.options.get(69)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey;default:return!1}}dispatchMouse(e){const t=this.configuration.options,n=HR&&t.get(95),i=t.get(18);e.middleButton&&!n?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount>=4?this._selectAll():3===e.mouseDownCount?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position):this._lastCursorLineSelect(e.position):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):2===e.mouseDownCount?this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position):e.inSelectionMode?this._wordSelectDrag(e.position):this._wordSelect(e.position):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey||i?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position):this.moveTo(e.position)}_usualArgs(e){return e=this._validateViewColumn(e),{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e}}moveTo(e){N8.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_moveToSelect(e){N8.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_columnSelect(e,t,n){e=this._validateViewColumn(e),N8.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:t,doColumnSelect:n})}_createCursor(e,t){e=this._validateViewColumn(e),N8.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:t})}_lastCursorMoveToSelect(e){N8.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelect(e){N8.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelectDrag(e){N8.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorWordSelect(e){N8.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelect(e){N8.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelectDrag(e){N8.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelect(e){N8.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelectDrag(e){N8.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_selectAll(){N8.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)}emitKeyDown(e){this.userInputEvents.emitKeyDown(e)}emitKeyUp(e){this.userInputEvents.emitKeyUp(e)}emitContextMenu(e){this.userInputEvents.emitContextMenu(e)}emitMouseMove(e){this.userInputEvents.emitMouseMove(e)}emitMouseLeave(e){this.userInputEvents.emitMouseLeave(e)}emitMouseUp(e){this.userInputEvents.emitMouseUp(e)}emitMouseDown(e){this.userInputEvents.emitMouseDown(e)}emitMouseDrag(e){this.userInputEvents.emitMouseDrag(e)}emitMouseDrop(e){this.userInputEvents.emitMouseDrop(e)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(e){this.userInputEvents.emitMouseWheel(e)}}class z8{constructor(e){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=e}emitKeyDown(e){this.onKeyDown&&this.onKeyDown(e)}emitKeyUp(e){this.onKeyUp&&this.onKeyUp(e)}emitContextMenu(e){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(e))}emitMouseMove(e){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(e))}emitMouseLeave(e){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(e))}emitMouseDown(e){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(e))}emitMouseUp(e){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(e))}emitMouseDrag(e){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(e))}emitMouseDrop(e){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(e))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(e){this.onMouseWheel&&this.onMouseWheel(e)}_convertViewToModelMouseEvent(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e}_convertViewToModelMouseTarget(e){return z8.convertViewToModelMouseTarget(e,this._coordinatesConverter)}static convertViewToModelMouseTarget(e,t){return new V8(e.element,e.type,e.mouseColumn,e.position?t.convertViewPositionToModelPosition(e.position):null,e.range?t.convertViewRangeToModelRange(e.range):null,e.detail)}}class V8{constructor(e,t,n,i,r,o){this.element=e,this.type=t,this.mouseColumn=n,this.position=i,this.range=r,this.detail=o}toString(){return b6.toString(this)}}class W8{constructor(e){this._createLine=e,this._set(1,[])}flush(){this._set(1,[])}_set(e,t){this._lines=t,this._rendLineNumberStart=e}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(e){const t=e-this._rendLineNumberStart;if(t<0||t>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[t]}onLinesDeleted(e,t){if(0===this.getCount())return null;const n=this.getStartLineNumber(),i=this.getEndLineNumber();if(t<n){const n=t-e+1;return this._rendLineNumberStart-=n,null}if(e>i)return null;let r=0,o=0;for(let s=n;s<=i;s++){const n=s-this._rendLineNumberStart;e<=s&&s<=t&&(0===o?(r=n,o=1):o++)}if(e<n){let i=0;i=t<n?t-e+1:n-e,this._rendLineNumberStart-=i}return this._lines.splice(r,o)}onLinesChanged(e,t){if(0===this.getCount())return!1;const n=this.getStartLineNumber(),i=this.getEndLineNumber();let r=!1;for(let o=e;o<=t;o++)o>=n&&o<=i&&(this._lines[o-this._rendLineNumberStart].onContentChanged(),r=!0);return r}onLinesInserted(e,t){if(0===this.getCount())return null;const n=t-e+1,i=this.getStartLineNumber(),r=this.getEndLineNumber();if(e<=i)return this._rendLineNumberStart+=n,null;if(e>r)return null;if(n+e>r){return this._lines.splice(e-this._rendLineNumberStart,r-e+1)}const o=[];for(let u=0;u<n;u++)o[u]=this._createLine();const s=e-this._rendLineNumberStart,a=this._lines.slice(0,s),l=this._lines.slice(s,this._lines.length-n),c=this._lines.slice(this._lines.length-n,this._lines.length);return this._lines=a.concat(o).concat(l),c}onTokensChanged(e){if(0===this.getCount())return!1;const t=this.getStartLineNumber(),n=this.getEndLineNumber();let i=!1;for(let r=0,o=e.length;r<o;r++){const o=e[r];if(o.toLineNumber<t||o.fromLineNumber>n)continue;const s=Math.max(t,o.fromLineNumber),a=Math.min(n,o.toLineNumber);for(let e=s;e<=a;e++){const t=e-this._rendLineNumberStart;this._lines[t].onTokensChanged(),i=!0}}return i}}class H8{constructor(e){this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new W8((()=>this._host.createVisibleLine()))}_createDomNode(){const e=QJ(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e}onConfigurationChanged(e){return!!e.hasChanged(129)}onFlushed(e){return this._linesCollection.flush(),!0}onLinesChanged(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.toLineNumber)}onLinesDeleted(e){const t=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(t)for(let n=0,i=t.length;n<i;n++){const e=t[n].getDomNode();e&&this.domNode.domNode.removeChild(e)}return!0}onLinesInserted(e){const t=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(t)for(let n=0,i=t.length;n<i;n++){const e=t[n].getDomNode();e&&this.domNode.domNode.removeChild(e)}return!0}onScrollChanged(e){return e.scrollTopChanged}onTokensChanged(e){return this._linesCollection.onTokensChanged(e.ranges)}onZonesChanged(e){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(e){return this._linesCollection.getLine(e)}renderLines(e){const t=this._linesCollection._get(),n=new U8(this.domNode.domNode,this._host,e),i={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines,linesLength:t.lines.length},r=n.render(i,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(r.rendLineNumberStart,r.lines)}}class U8{constructor(e,t,n){this.domNode=e,this.host=t,this.viewportData=n}render(e,t,n,i){const r={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(r.rendLineNumberStart+r.linesLength-1<t||n<r.rendLineNumberStart){r.rendLineNumberStart=t,r.linesLength=n-t+1,r.lines=[];for(let e=t;e<=n;e++)r.lines[e-t]=this.host.createVisibleLine();return this._finishRendering(r,!0,i),r}if(this._renderUntouchedLines(r,Math.max(t-r.rendLineNumberStart,0),Math.min(n-r.rendLineNumberStart,r.linesLength-1),i,t),r.rendLineNumberStart>t){const e=t,o=Math.min(n,r.rendLineNumberStart-1);e<=o&&(this._insertLinesBefore(r,e,o,i,t),r.linesLength+=o-e+1)}else if(r.rendLineNumberStart<t){const e=Math.min(r.linesLength,t-r.rendLineNumberStart);e>0&&(this._removeLinesBefore(r,e),r.linesLength-=e)}if(r.rendLineNumberStart=t,r.rendLineNumberStart+r.linesLength-1<n){const e=r.rendLineNumberStart+r.linesLength,o=n;e<=o&&(this._insertLinesAfter(r,e,o,i,t),r.linesLength+=o-e+1)}else if(r.rendLineNumberStart+r.linesLength-1>n){const e=Math.max(0,n-r.rendLineNumberStart+1),t=r.linesLength-1-e+1;t>0&&(this._removeLinesAfter(r,t),r.linesLength-=t)}return this._finishRendering(r,!1,i),r}_renderUntouchedLines(e,t,n,i,r){const o=e.rendLineNumberStart,s=e.lines;for(let a=t;a<=n;a++){const e=o+a;s[a].layoutLine(e,i[e-r])}}_insertLinesBefore(e,t,n,i,r){const o=[];let s=0;for(let a=t;a<=n;a++)o[s++]=this.host.createVisibleLine();e.lines=o.concat(e.lines)}_removeLinesBefore(e,t){for(let n=0;n<t;n++){const t=e.lines[n].getDomNode();t&&this.domNode.removeChild(t)}e.lines.splice(0,t)}_insertLinesAfter(e,t,n,i,r){const o=[];let s=0;for(let a=t;a<=n;a++)o[s++]=this.host.createVisibleLine();e.lines=e.lines.concat(o)}_removeLinesAfter(e,t){const n=e.linesLength-t;for(let i=0;i<t;i++){const t=e.lines[n+i].getDomNode();t&&this.domNode.removeChild(t)}e.lines.splice(n,t)}_finishRenderingNewLines(e,t,n,i){U8._ttPolicy&&(n=U8._ttPolicy.createHTML(n));const r=this.domNode.lastChild;t||!r?this.domNode.innerHTML=n:r.insertAdjacentHTML("afterend",n);let o=this.domNode.lastChild;for(let s=e.linesLength-1;s>=0;s--){const t=e.lines[s];i[s]&&(t.setDomNode(o),o=o.previousSibling)}}_finishRenderingInvalidLines(e,t,n){const i=document.createElement("div");U8._ttPolicy&&(t=U8._ttPolicy.createHTML(t)),i.innerHTML=t;for(let r=0;r<e.linesLength;r++){const t=e.lines[r];if(n[r]){const e=i.firstChild,n=t.getDomNode();n.parentNode.replaceChild(e,n),t.setDomNode(e)}}}_finishRendering(e,t,n){const i=U8._sb,r=e.linesLength,o=e.lines,s=e.rendLineNumberStart,a=[];{i.reset();let l=!1;for(let e=0;e<r;e++){const t=o[e];a[e]=!1;if(t.getDomNode())continue;t.renderLine(e+s,n[e],this.viewportData,i)&&(a[e]=!0,l=!0)}l&&this._finishRenderingNewLines(e,t,i.build(),a)}{i.reset();let t=!1;const l=[];for(let e=0;e<r;e++){const r=o[e];if(l[e]=!1,a[e])continue;r.renderLine(e+s,n[e],this.viewportData,i)&&(l[e]=!0,t=!0)}t&&this._finishRenderingInvalidLines(e,i.build(),l)}}}U8._ttPolicy=null===(R8=window.trustedTypes)||void 0===R8?void 0:R8.createPolicy("editorViewLayer",{createHTML:e=>e}),U8._sb=zq(1e5);class $8 extends mQ{constructor(e){super(e),this._visibleLines=new H8(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let e=0,t=this._dynamicOverlays.length;e<t;e++){if(this._dynamicOverlays[e].shouldRender())return!0}return!1}dispose(){super.dispose();for(let e=0,t=this._dynamicOverlays.length;e<t;e++){this._dynamicOverlays[e].dispose()}this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new q8(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(e){this._dynamicOverlays.push(e)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e);const t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let i=t;i<=n;i++){this._visibleLines.getVisibleLine(i).onConfigurationChanged(e)}return!0}onFlushed(e){return this._visibleLines.onFlushed(e)}onFocusChanged(e){return this._isFocused=e.isFocused,!0}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onScrollChanged(e){return this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._visibleLines.onZonesChanged(e)}prepareRender(e){const t=this._dynamicOverlays.filter((e=>e.shouldRender()));for(let n=0,i=t.length;n<i;n++){const i=t[n];i.prepareRender(e),i.onDidRender()}}render(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(e){this._visibleLines.renderLines(e.viewportData)}}class q8{constructor(e,t){this._configuration=e,this._lineHeight=this._configuration.options.get(58),this._dynamicOverlays=t,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(e){this._domNode=QJ(e)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(e){this._lineHeight=this._configuration.options.get(58)}renderLine(e,t,n,i){let r="";for(let o=0,s=this._dynamicOverlays.length;o<s;o++){r+=this._dynamicOverlays[o].render(n.startLineNumber,e)}return this._renderedContent!==r&&(this._renderedContent=r,i.appendASCIIString('<div style="position:absolute;top:'),i.appendASCIIString(String(t)),i.appendASCIIString("px;width:100%;height:"),i.appendASCIIString(String(this._lineHeight)),i.appendASCIIString('px;">'),i.appendASCIIString(r),i.appendASCIIString("</div>"),!0)}layoutLine(e,t){this._domNode&&(this._domNode.setTop(t),this._domNode.setHeight(this._lineHeight))}}class K8 extends $8{constructor(e){super(e);const t=this._context.configuration.options.get(129);this._contentWidth=t.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(e){const t=this._context.configuration.options.get(129);return this._contentWidth=t.contentWidth,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollWidthChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e),this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth))}}class Y8 extends $8{constructor(e){super(e);const t=this._context.configuration.options,n=t.get(129);this._contentLeft=n.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),ZJ.applyFontInfo(this.domNode,t.get(43))}onConfigurationChanged(e){const t=this._context.configuration.options;ZJ.applyFontInfo(this.domNode,t.get(43));const n=t.get(129);return this._contentLeft=n.contentLeft,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollHeightChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e);const t=Math.min(e.scrollHeight,1e6);this.domNode.setHeight(t),this.domNode.setWidth(this._contentLeft)}}class G8{constructor(e,t){this._coordinateBrand=void 0,this.top=e,this.left=t}}class X8 extends mQ{constructor(e,t){super(e),this._viewDomNode=t,this._widgets={},this.domNode=QJ(document.createElement("div")),vQ.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=QJ(document.createElement("div")),vQ.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(e){const t=Object.keys(this._widgets);for(const n of t)this._widgets[n].onConfigurationChanged(e);return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLineMappingChanged(e){const t=Object.keys(this._widgets);for(const n of t)this._widgets[n].onLineMappingChanged(e);return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onZonesChanged(e){return!0}addWidget(e){const t=new Z8(this._context,this._viewDomNode,e);this._widgets[t.id]=t,t.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(t.domNode):this.domNode.appendChild(t.domNode),this.setShouldRender()}setWidgetPosition(e,t,n){this._widgets[e.getId()].setPosition(t,n),this.setShouldRender()}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const e=this._widgets[t];delete this._widgets[t];const n=e.domNode.domNode;n.parentNode.removeChild(n),n.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(e){return!!this._widgets.hasOwnProperty(e)&&this._widgets[e].suppressMouseDown}onBeforeRender(e){const t=Object.keys(this._widgets);for(const n of t)this._widgets[n].onBeforeRender(e)}prepareRender(e){const t=Object.keys(this._widgets);for(const n of t)this._widgets[n].prepareRender(e)}render(e){const t=Object.keys(this._widgets);for(const n of t)this._widgets[n].render(e)}}class Z8{constructor(e,t,n){this._context=e,this._viewDomNode=t,this._actual=n,this.domNode=QJ(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const i=this._context.configuration.options,r=i.get(129);this._fixedOverflowWidgets=i.get(36),this._contentWidth=r.contentWidth,this._contentLeft=r.contentLeft,this._lineHeight=i.get(58),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(e){const t=this._context.configuration.options;if(this._lineHeight=t.get(58),e.hasChanged(129)){const e=t.get(129);this._contentLeft=e.contentLeft,this._contentWidth=e.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(e){this._setPosition(this._range)}_setPosition(e){if(this._range=e,this._viewRange=null,this._range){const e=this._context.model.validateModelRange(this._range);(this._context.model.coordinatesConverter.modelPositionIsVisible(e.getStartPosition())||this._context.model.coordinatesConverter.modelPositionIsVisible(e.getEndPosition()))&&(this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(e))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth}setPosition(e,t){this._setPosition(e),this._preference=t,this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1}_layoutBoxInViewport(e,t,n,i,r){const o=e.top,s=o,a=t.top+this._lineHeight,l=o-i,c=s>=i,u=a,h=r.viewportHeight-a>=i;let d=e.left,f=t.left;return d+n>r.scrollLeft+r.viewportWidth&&(d=r.scrollLeft+r.viewportWidth-n),f+n>r.scrollLeft+r.viewportWidth&&(f=r.scrollLeft+r.viewportWidth-n),d<r.scrollLeft&&(d=r.scrollLeft),f<r.scrollLeft&&(f=r.scrollLeft),{fitsAbove:c,aboveTop:l,aboveLeft:d,fitsBelow:h,belowTop:u,belowLeft:f}}_layoutHorizontalSegmentInPage(e,t,n,i){const r=Math.max(0,t.left-i),o=Math.min(t.left+t.width+i,e.width);let s=t.left+n-KV.scrollX;if(s+i>o){const e=s-(o-i);s-=e,n-=e}if(s<r){const e=s-r;s-=e,n-=e}return[n,s]}_layoutBoxInPage(e,t,n,i,r){const o=e.top-i,s=t.top+this._lineHeight,a=qV(this._viewDomNode.domNode),l=a.top+o-KV.scrollY,c=a.top+s-KV.scrollY,u=HV(document.body),[h,d]=this._layoutHorizontalSegmentInPage(u,a,e.left-r.scrollLeft+this._contentLeft,n),[f,p]=this._layoutHorizontalSegmentInPage(u,a,t.left-r.scrollLeft+this._contentLeft,n),g=l>=22,m=c+i<=u.height-22;return this._fixedOverflowWidgets?{fitsAbove:g,aboveTop:Math.max(l,22),aboveLeft:d,fitsBelow:m,belowTop:c,belowLeft:p}:{fitsAbove:g,aboveTop:o,aboveLeft:h,fitsBelow:m,belowTop:s,belowLeft:f}}_prepareRenderWidgetAtExactPositionOverflowing(e){return new G8(e.top,e.left+this._contentLeft)}_getTopAndBottomLeft(e){if(!this._viewRange)return[null,null];const t=e.linesVisibleRangesForRange(this._viewRange,!1);if(!t||0===t.length)return[null,null];let n=t[0],i=t[0];for(const c of t)c.lineNumber<n.lineNumber&&(n=c),c.lineNumber>i.lineNumber&&(i=c);let r=1073741824;for(const c of n.ranges)c.left<r&&(r=c.left);let o=1073741824;for(const c of i.ranges)c.left<o&&(o=c.left);const s=e.getVerticalOffsetForLineNumber(n.lineNumber)-e.scrollTop,a=new G8(s,r),l=e.getVerticalOffsetForLineNumber(i.lineNumber)-e.scrollTop;return[a,new G8(l,o)]}_prepareRenderWidget(e){const[t,n]=this._getTopAndBottomLeft(e);if(!t||!n)return null;if(-1===this._cachedDomNodeClientWidth||-1===this._cachedDomNodeClientHeight){let e=null;if("function"==typeof this._actual.beforeRender&&(e=J8(this._actual.beforeRender,this._actual)),e)this._cachedDomNodeClientWidth=e.width,this._cachedDomNodeClientHeight=e.height;else{const e=this.domNode.domNode;this._cachedDomNodeClientWidth=e.clientWidth,this._cachedDomNodeClientHeight=e.clientHeight}}let i;if(i=this.allowEditorOverflow?this._layoutBoxInPage(t,n,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e):this._layoutBoxInViewport(t,n,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e),this._preference)for(let r=1;r<=2;r++)for(const e of this._preference)if(1===e){if(!i)return null;if(2===r||i.fitsAbove)return{coordinate:new G8(i.aboveTop,i.aboveLeft),position:1}}else{if(2!==e)return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(t),position:0}:{coordinate:t,position:0};if(!i)return null;if(2===r||i.fitsBelow)return{coordinate:new G8(i.belowTop,i.belowLeft),position:2}}return null}onBeforeRender(e){this._viewRange&&this._preference&&(this._viewRange.endLineNumber<e.startLineNumber||this._viewRange.startLineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth))}prepareRender(e){this._renderData=this._prepareRenderWidget(e)}render(e){if(!this._renderData)return this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),void("function"==typeof this._actual.afterRender&&J8(this._actual.afterRender,this._actual,null));this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),"function"==typeof this._actual.afterRender&&J8(this._actual.afterRender,this._actual,this._renderData.position)}}function J8(e,t,...n){try{return e.call(t,...n)}catch(i){return null}}let Q8=!0;class e7 extends G6{constructor(e){super(),this._context=e;const t=this._context.configuration.options,n=t.get(129);this._lineHeight=t.get(58),this._renderLineHighlight=t.get(84),this._renderLineHighlightOnlyWhenFocus=t.get(85),this._contentLeft=n.contentLeft,this._contentWidth=n.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new uj(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let e=!1;const t=Q8?this._selections.slice(0,1):this._selections,n=t.map((e=>e.positionLineNumber));n.sort(((e,t)=>e-t)),bY(this._cursorLineNumbers,n)||(this._cursorLineNumbers=n,e=!0);const i=t.every((e=>e.isEmpty()));return this._selectionIsEmpty!==i&&(this._selectionIsEmpty=i,e=!0),e}onThemeChanged(e){return this._readFromSelections()}onConfigurationChanged(e){const t=this._context.configuration.options,n=t.get(129);return this._lineHeight=t.get(58),this._renderLineHighlight=t.get(84),this._renderLineHighlightOnlyWhenFocus=t.get(85),this._contentLeft=n.contentLeft,this._contentWidth=n.contentWidth,!0}onCursorStateChanged(e){return this._selections=e.selections,this._readFromSelections()}onFlushed(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollWidthChanged||e.scrollTopChanged}onZonesChanged(e){return!0}onFocusChanged(e){return!!this._renderLineHighlightOnlyWhenFocus&&(this._focused=e.isFocused,!0)}prepareRender(e){if(!this._shouldRenderThis())return void(this._renderData=null);const t=this._renderOne(e),n=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,r=this._cursorLineNumbers.length;let o=0;const s=[];for(let a=n;a<=i;a++){const e=a-n;for(;o<r&&this._cursorLineNumbers[o]<a;)o++;o<r&&this._cursorLineNumbers[o]===a?s[e]=t:s[e]=""}this._renderData=s}render(e,t){if(!this._renderData)return"";const n=t-e;return n>=this._renderData.length?"":this._renderData[n]}}class t7 extends e7{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(e.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderOther(){return("gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class n7 extends e7{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderMargin(){return("gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderThis(){return!0}_shouldRenderOther(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}vJ(((e,t)=>{Q8=!1;const n=e.getColor(W3);if(n&&(t.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${n}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${n}; border: none; }`)),!n||n.isTransparent()||e.defines(H3)){const n=e.getColor(H3);n&&(Q8=!0,t.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${n}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${n}; }`),"hc"===e.type&&(t.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}}));class i7 extends G6{constructor(e){super(),this._context=e;const t=this._context.configuration.options;this._lineHeight=t.get(58),this._typicalHalfwidthCharacterWidth=t.get(43).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._lineHeight=t.get(58),this._typicalHalfwidthCharacterWidth=t.get(43).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}prepareRender(e){const t=e.getDecorationsInViewport();let n=[],i=0;for(let a=0,l=t.length;a<l;a++){const e=t[a];e.options.className&&(n[i++]=e)}n=n.sort(((e,t)=>{if(e.options.zIndex<t.options.zIndex)return-1;if(e.options.zIndex>t.options.zIndex)return 1;const n=e.options.className,i=t.options.className;return n<i?-1:n>i?1:cj.compareRangesUsingStarts(e.range,t.range)}));const r=e.visibleRange.startLineNumber,o=e.visibleRange.endLineNumber,s=[];for(let a=r;a<=o;a++){s[a-r]=""}this._renderWholeLineDecorations(e,n,s),this._renderNormalDecorations(e,n,s),this._renderResult=s}_renderWholeLineDecorations(e,t,n){const i=String(this._lineHeight),r=e.visibleRange.startLineNumber,o=e.visibleRange.endLineNumber;for(let s=0,a=t.length;s<a;s++){const e=t[s];if(!e.options.isWholeLine)continue;const a='<div class="cdr '+e.options.className+'" style="left:0;width:100%;height:'+i+'px;"></div>',l=Math.max(e.range.startLineNumber,r),c=Math.min(e.range.endLineNumber,o);for(let t=l;t<=c;t++){n[t-r]+=a}}}_renderNormalDecorations(e,t,n){const i=String(this._lineHeight),r=e.visibleRange.startLineNumber;let o=null,s=!1,a=null;for(let l=0,c=t.length;l<c;l++){const c=t[l];if(c.options.isWholeLine)continue;const u=c.options.className,h=Boolean(c.options.showIfCollapsed);let d=c.range;h&&1===d.endColumn&&d.endLineNumber!==d.startLineNumber&&(d=new cj(d.startLineNumber,d.startColumn,d.endLineNumber-1,this._context.model.getLineMaxColumn(d.endLineNumber-1))),o===u&&s===h&&cj.areIntersectingOrTouching(a,d)?a=cj.plusRange(a,d):(null!==o&&this._renderNormalDecoration(e,a,o,s,i,r,n),o=u,s=h,a=d)}null!==o&&this._renderNormalDecoration(e,a,o,s,i,r,n)}_renderNormalDecoration(e,t,n,i,r,o,s){const a=e.linesVisibleRangesForRange(t,"findMatch"===n);if(a)for(let l=0,c=a.length;l<c;l++){const e=a[l];if(e.outsideRenderedLine)continue;const t=e.lineNumber-o;if(i&&1===e.ranges.length){const t=e.ranges[0];0===t.width&&(e.ranges[0]=new _Q(t.left,this._typicalHalfwidthCharacterWidth))}for(let i=0,o=e.ranges.length;i<o;i++){const o=e.ranges[i],a='<div class="cdr '+n+'" style="left:'+String(o.left)+"px;width:"+String(o.width)+"px;height:"+r+'px;"></div>';s[t]+=a}}}render(e,t){if(!this._renderResult)return"";const n=t-e;return n<0||n>=this._renderResult.length?"":this._renderResult[n]}}class r7 extends KP{onclick(e,t){this._register(AV(e,hW.CLICK,(e=>t(new lV(e)))))}onmousedown(e,t){this._register(AV(e,hW.MOUSE_DOWN,(e=>t(new lV(e)))))}onmouseover(e,t){this._register(AV(e,hW.MOUSE_OVER,(e=>t(new lV(e)))))}onnonbubblingmouseout(e,t){this._register(OV(e,(e=>t(new lV(e)))))}onkeydown(e,t){this._register(AV(e,hW.KEY_DOWN,(e=>t(new iV(e)))))}onkeyup(e,t){this._register(AV(e,hW.KEY_UP,(e=>t(new iV(e)))))}oninput(e,t){this._register(AV(e,hW.INPUT,t))}onblur(e,t){this._register(AV(e,hW.BLUR,t))}onfocus(e,t){this._register(AV(e,hW.FOCUS,t))}ignoreGesture(e){rQ.ignoreTarget(e)}}class o7 extends r7{constructor(e){super(),this._onActivate=e.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=e.bgWidth+"px",this.bgDomNode.style.height=e.bgHeight+"px",void 0!==e.top&&(this.bgDomNode.style.top="0px"),void 0!==e.left&&(this.bgDomNode.style.left="0px"),void 0!==e.bottom&&(this.bgDomNode.style.bottom="0px"),void 0!==e.right&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=e.className,this.domNode.classList.add(...e.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width="11px",this.domNode.style.height="11px",void 0!==e.top&&(this.domNode.style.top=e.top+"px"),void 0!==e.left&&(this.domNode.style.left=e.left+"px"),void 0!==e.bottom&&(this.domNode.style.bottom=e.bottom+"px"),void 0!==e.right&&(this.domNode.style.right=e.right+"px"),this._mouseMoveMonitor=this._register(new sQ),this.onmousedown(this.bgDomNode,(e=>this._arrowMouseDown(e))),this.onmousedown(this.domNode,(e=>this._arrowMouseDown(e))),this._mousedownRepeatTimer=this._register(new yV),this._mousedownScheduleRepeatTimer=this._register(new vV)}_arrowMouseDown(e){this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet((()=>{this._mousedownRepeatTimer.cancelAndSet((()=>this._onActivate()),1e3/24)}),200),this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,oQ,(e=>{}),(()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()})),e.preventDefault()}}class s7 extends KP{constructor(e,t,n){super(),this._visibility=e,this._visibleClassName=t,this._invisibleClassName=n,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new vV)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}setShouldBeVisible(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}_applyVisibilitySetting(){return 2!==this._visibility&&(3===this._visibility||this._rawShouldBeVisible)}_updateShouldBeVisible(){const e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet((()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)}),0))}_hide(e){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(e?" fade":"")))}}class a7 extends r7{constructor(e){super(),this._lazyRender=e.lazyRender,this._host=e.host,this._scrollable=e.scrollable,this._scrollByPage=e.scrollByPage,this._scrollbarState=e.scrollbarState,this._visibilityController=this._register(new s7(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new sQ),this._shouldRender=!0,this.domNode=QJ(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,(e=>this._domNodeMouseDown(e)))}_createArrow(e){const t=this._register(new o7(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(e,t,n,i){this.slider=QJ(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),"number"==typeof n&&this.slider.setWidth(n),"number"==typeof i&&this.slider.setHeight(i),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,(e=>{e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,(()=>{})))})),this.onclick(this.slider.domNode,(e=>{e.leftButton&&e.stopPropagation()}))}_onElementSize(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(e){e.target===this.domNode.domNode&&this._onMouseDown(e)}delegateMouseDown(e){const t=this.domNode.domNode.getClientRects()[0].top,n=t+this._scrollbarState.getSliderPosition(),i=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),r=this._sliderMousePosition(e);n<=r&&r<=i?e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,(()=>{}))):this._onMouseDown(e)}_onMouseDown(e){let t,n;if(e.target===this.domNode.domNode&&"number"==typeof e.browserEvent.offsetX&&"number"==typeof e.browserEvent.offsetY)t=e.browserEvent.offsetX,n=e.browserEvent.offsetY;else{const i=qV(this.domNode.domNode);t=e.posx-i.left,n=e.posy-i.top}const i=this._mouseDownRelativePosition(t,n);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(i):this._scrollbarState.getDesiredScrollPositionFromOffset(i)),e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,(()=>{})))}_sliderMouseDown(e,t){const n=this._sliderMousePosition(e),i=this._sliderOrthogonalMousePosition(e),r=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,oQ,(e=>{const t=this._sliderOrthogonalMousePosition(e),o=Math.abs(t-i);if(VR&&o>140)return void this._setDesiredScrollPositionNow(r.getScrollPosition());const s=this._sliderMousePosition(e)-n;this._setDesiredScrollPositionNow(r.getDesiredScrollPositionFromDelta(s))}),(()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),t()})),this._host.onDragStart()}_setDesiredScrollPositionNow(e){const t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}class l7{constructor(e,t,n,i,r,o){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(n),this._arrowSize=Math.round(e),this._visibleSize=i,this._scrollSize=r,this._scrollPosition=o,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new l7(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(e){const t=Math.round(e);return this._visibleSize!==t&&(this._visibleSize=t,this._refreshComputedValues(),!0)}setScrollSize(e){const t=Math.round(e);return this._scrollSize!==t&&(this._scrollSize=t,this._refreshComputedValues(),!0)}setScrollPosition(e){const t=Math.round(e);return this._scrollPosition!==t&&(this._scrollPosition=t,this._refreshComputedValues(),!0)}setScrollbarSize(e){this._scrollbarSize=Math.round(e)}setOppositeScrollbarSize(e){this._oppositeScrollbarSize=Math.round(e)}static _computeValues(e,t,n,i,r){const o=Math.max(0,n-e),s=Math.max(0,o-2*t),a=i>0&&i>n;if(!a)return{computedAvailableSize:Math.round(o),computedIsNeeded:a,computedSliderSize:Math.round(s),computedSliderRatio:0,computedSliderPosition:0};const l=Math.round(Math.max(20,Math.floor(n*s/i))),c=(s-l)/(i-n),u=r*c;return{computedAvailableSize:Math.round(o),computedIsNeeded:a,computedSliderSize:Math.round(l),computedSliderRatio:c,computedSliderPosition:Math.round(u)}}_refreshComputedValues(){const e=l7._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize;let n=this._scrollPosition;return t<this._computedSliderPosition?n-=this._visibleSize:n+=this._visibleSize,n}getDesiredScrollPositionFromDelta(e){if(!this._computedIsNeeded)return 0;const t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)}}const c7=C$("scrollbar-button-left",x$.triangleLeft),u7=C$("scrollbar-button-right",x$.triangleRight);class h7 extends a7{constructor(e,t,n){const i=e.getScrollDimensions(),r=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:n,scrollbarState:new l7(t.horizontalHasArrows?t.arrowSize:0,2===t.horizontal?0:t.horizontalScrollbarSize,2===t.vertical?0:t.verticalScrollbarSize,i.width,i.scrollWidth,r.scrollLeft),visibility:t.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:t.scrollByPage}),t.horizontalHasArrows){const e=(t.arrowSize-11)/2,n=(t.horizontalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:c7,top:n,left:e,bottom:void 0,right:void 0,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new cV(null,1,0))}),this._createArrow({className:"scra",icon:u7,top:n,left:void 0,bottom:void 0,right:e,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new cV(null,-1,0))})}this._createSlider(Math.floor((t.horizontalScrollbarSize-t.horizontalSliderSize)/2),0,void 0,t.horizontalSliderSize)}_updateSlider(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}_renderDomNode(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(e,t){return e}_sliderMousePosition(e){return e.posx}_sliderOrthogonalMousePosition(e){return e.posy}_updateScrollbarSize(e){this.slider.setHeight(e)}writeScrollPosition(e,t){e.scrollLeft=t}updateOptions(e){this.updateScrollbarSize(2===e.horizontal?0:e.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(2===e.vertical?0:e.verticalScrollbarSize),this._visibilityController.setVisibility(e.horizontal),this._scrollByPage=e.scrollByPage}}const d7=C$("scrollbar-button-up",x$.triangleUp),f7=C$("scrollbar-button-down",x$.triangleDown);class p7 extends a7{constructor(e,t,n){const i=e.getScrollDimensions(),r=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:n,scrollbarState:new l7(t.verticalHasArrows?t.arrowSize:0,2===t.vertical?0:t.verticalScrollbarSize,0,i.height,i.scrollHeight,r.scrollTop),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:t.scrollByPage}),t.verticalHasArrows){const e=(t.arrowSize-11)/2,n=(t.verticalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:d7,top:e,left:n,bottom:void 0,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new cV(null,0,1))}),this._createArrow({className:"scra",icon:f7,top:void 0,left:n,bottom:e,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new cV(null,0,-1))})}this._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,void 0)}_updateSlider(e,t){this.slider.setHeight(e),this.slider.setTop(t)}_renderDomNode(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(e,t){return t}_sliderMousePosition(e){return e.posy}_sliderOrthogonalMousePosition(e){return e.posx}_updateScrollbarSize(e){this.slider.setWidth(e)}writeScrollPosition(e,t){e.scrollTop=t}updateOptions(e){this.updateScrollbarSize(2===e.vertical?0:e.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(e.vertical),this._scrollByPage=e.scrollByPage}}class g7{constructor(e,t,n,i,r,o){this._scrollStateBrand=void 0,e|=0,t|=0,n|=0,i|=0,r|=0,o|=0,this.rawScrollLeft=n,this.rawScrollTop=o,e<0&&(e=0),n+e>t&&(n=t-e),n<0&&(n=0),i<0&&(i=0),o+i>r&&(o=r-i),o<0&&(o=0),this.width=e,this.scrollWidth=t,this.scrollLeft=n,this.height=i,this.scrollHeight=r,this.scrollTop=o}equals(e){return this.rawScrollLeft===e.rawScrollLeft&&this.rawScrollTop===e.rawScrollTop&&this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop}withScrollDimensions(e,t){return new g7(void 0!==e.width?e.width:this.width,void 0!==e.scrollWidth?e.scrollWidth:this.scrollWidth,t?this.rawScrollLeft:this.scrollLeft,void 0!==e.height?e.height:this.height,void 0!==e.scrollHeight?e.scrollHeight:this.scrollHeight,t?this.rawScrollTop:this.scrollTop)}withScrollPosition(e){return new g7(this.width,this.scrollWidth,void 0!==e.scrollLeft?e.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,void 0!==e.scrollTop?e.scrollTop:this.rawScrollTop)}createScrollEvent(e,t){const n=this.width!==e.width,i=this.scrollWidth!==e.scrollWidth,r=this.scrollLeft!==e.scrollLeft,o=this.height!==e.height,s=this.scrollHeight!==e.scrollHeight,a=this.scrollTop!==e.scrollTop;return{inSmoothScrolling:t,oldWidth:e.width,oldScrollWidth:e.scrollWidth,oldScrollLeft:e.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:e.height,oldScrollHeight:e.scrollHeight,oldScrollTop:e.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:n,scrollWidthChanged:i,scrollLeftChanged:r,heightChanged:o,scrollHeightChanged:s,scrollTopChanged:a}}}class m7 extends KP{constructor(e,t){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new nB),this.onScroll=this._onScroll.event,this._smoothScrollDuration=e,this._scheduleAtNextAnimationFrame=t,this._state=new g7(0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(e){this._smoothScrollDuration=e}validateScrollPosition(e){return this._state.withScrollPosition(e)}getScrollDimensions(){return this._state}setScrollDimensions(e,t){const n=this._state.withScrollDimensions(e,t);this._setState(n,Boolean(this._smoothScrolling)),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(e){const t=this._state.withScrollPosition(e);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(e,t){if(0===this._smoothScrollDuration)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:void 0===e.scrollLeft?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:void 0===e.scrollTop?this._smoothScrolling.to.scrollTop:e.scrollTop};const n=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===n.scrollLeft&&this._smoothScrolling.to.scrollTop===n.scrollTop)return;let i;i=t?new b7(this._smoothScrolling.from,n,this._smoothScrolling.startTime,this._smoothScrolling.duration):this._smoothScrolling.combine(this._state,n,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=i}else{const t=this._state.withScrollPosition(e);this._smoothScrolling=b7.start(this._state,t,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame((()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())}))}_performSmoothScrolling(){if(!this._smoothScrolling)return;const e=this._smoothScrolling.tick(),t=this._state.withScrollPosition(e);return this._setState(t,!0),this._smoothScrolling?e.isDone?(this._smoothScrolling.dispose(),void(this._smoothScrolling=null)):void(this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame((()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())}))):void 0}_setState(e,t){const n=this._state;n.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(n,t)))}}class v7{constructor(e,t,n){this.scrollLeft=e,this.scrollTop=t,this.isDone=n}}function y7(e,t){const n=t-e;return function(t){return e+n*(1-function(e){return Math.pow(e,3)}(1-t))}}class b7{constructor(e,t,n,i){this.from=e,this.to=t,this.duration=i,this.startTime=n,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(e,t,n){if(Math.abs(e-t)>2.5*n){let s,a;return e<t?(s=e+.75*n,a=t-.75*n):(s=e-.75*n,a=t+.75*n),i=y7(e,s),r=y7(a,t),o=.33,function(e){return e<o?i(e/o):r((e-o)/(1-o))}}var i,r,o;return y7(e,t)}dispose(){null!==this.animationFrameDisposable&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(e){this.to=e.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(e){const t=(e-this.startTime)/this.duration;if(t<1){const e=this.scrollLeft(t),n=this.scrollTop(t);return new v7(e,n,!1)}return new v7(this.to.scrollLeft,this.to.scrollTop,!0)}combine(e,t,n){return b7.start(e,t,n)}static start(e,t,n){n+=10;const i=Date.now()-10;return new b7(e,t,i,n)}}class _7{constructor(e,t,n){this.timestamp=e,this.deltaX=t,this.deltaY=n,this.score=0}}class w7{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(-1===this._front&&-1===this._rear)return!1;let e=1,t=0,n=1,i=this._rear;for(;;){const r=i===this._front?e:Math.pow(2,-n);if(e-=r,t+=this._memory[i].score*r,i===this._front)break;i=(this._capacity+i-1)%this._capacity,n++}return t<=.5}accept(e,t,n){const i=new _7(e,t,n);i.score=this._computeScore(i),-1===this._front&&-1===this._rear?(this._memory[0]=i,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=i)}_computeScore(e){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;let t=.5;return(-1!==this._front||-1!==this._rear)&&this._memory[this._rear],this._isAlmostInt(e.deltaX)&&this._isAlmostInt(e.deltaY)||(t+=.25),Math.min(Math.max(t,0),1)}_isAlmostInt(e){return Math.abs(Math.round(e)-e)<.01}}w7.INSTANCE=new w7;class C7 extends r7{constructor(e,t,n){super(),this._onScroll=this._register(new nB),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new nB),e.style.overflow="hidden",this._options=function(e){const t={lazyRender:void 0!==e.lazyRender&&e.lazyRender,className:void 0!==e.className?e.className:"",useShadows:void 0===e.useShadows||e.useShadows,handleMouseWheel:void 0===e.handleMouseWheel||e.handleMouseWheel,flipAxes:void 0!==e.flipAxes&&e.flipAxes,consumeMouseWheelIfScrollbarIsNeeded:void 0!==e.consumeMouseWheelIfScrollbarIsNeeded&&e.consumeMouseWheelIfScrollbarIsNeeded,alwaysConsumeMouseWheel:void 0!==e.alwaysConsumeMouseWheel&&e.alwaysConsumeMouseWheel,scrollYToX:void 0!==e.scrollYToX&&e.scrollYToX,mouseWheelScrollSensitivity:void 0!==e.mouseWheelScrollSensitivity?e.mouseWheelScrollSensitivity:1,fastScrollSensitivity:void 0!==e.fastScrollSensitivity?e.fastScrollSensitivity:5,scrollPredominantAxis:void 0===e.scrollPredominantAxis||e.scrollPredominantAxis,mouseWheelSmoothScroll:void 0===e.mouseWheelSmoothScroll||e.mouseWheelSmoothScroll,arrowSize:void 0!==e.arrowSize?e.arrowSize:11,listenOnDomNode:void 0!==e.listenOnDomNode?e.listenOnDomNode:null,horizontal:void 0!==e.horizontal?e.horizontal:1,horizontalScrollbarSize:void 0!==e.horizontalScrollbarSize?e.horizontalScrollbarSize:10,horizontalSliderSize:void 0!==e.horizontalSliderSize?e.horizontalSliderSize:0,horizontalHasArrows:void 0!==e.horizontalHasArrows&&e.horizontalHasArrows,vertical:void 0!==e.vertical?e.vertical:1,verticalScrollbarSize:void 0!==e.verticalScrollbarSize?e.verticalScrollbarSize:10,verticalHasArrows:void 0!==e.verticalHasArrows&&e.verticalHasArrows,verticalSliderSize:void 0!==e.verticalSliderSize?e.verticalSliderSize:0,scrollByPage:void 0!==e.scrollByPage&&e.scrollByPage};t.horizontalSliderSize=void 0!==e.horizontalSliderSize?e.horizontalSliderSize:t.horizontalScrollbarSize,t.verticalSliderSize=void 0!==e.verticalSliderSize?e.verticalSliderSize:t.verticalScrollbarSize,WR&&(t.className+=" mac");return t}(t),this._scrollable=n,this._register(this._scrollable.onScroll((e=>{this._onWillScroll.fire(e),this._onDidScroll(e),this._onScroll.fire(e)})));const i={onMouseWheel:e=>this._onMouseWheel(e),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new p7(this._scrollable,this._options,i)),this._horizontalScrollbar=this._register(new h7(this._scrollable,this._options,i)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(e),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=QJ(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=QJ(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=QJ(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,(e=>this._onMouseOver(e))),this.onnonbubblingmouseout(this._listenOnDomNode,(e=>this._onMouseOut(e))),this._hideTimeout=this._register(new vV),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=HP(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(e){this._verticalScrollbar.delegateMouseDown(e)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(e){this._scrollable.setScrollDimensions(e,!1)}updateClassName(e){this._options.className=e,WR&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(e){void 0!==e.handleMouseWheel&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),void 0!==e.mouseWheelScrollSensitivity&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),void 0!==e.fastScrollSensitivity&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),void 0!==e.scrollPredominantAxis&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),void 0!==e.horizontal&&(this._options.horizontal=e.horizontal),void 0!==e.vertical&&(this._options.vertical=e.vertical),void 0!==e.horizontalScrollbarSize&&(this._options.horizontalScrollbarSize=e.horizontalScrollbarSize),void 0!==e.verticalScrollbarSize&&(this._options.verticalScrollbarSize=e.verticalScrollbarSize),void 0!==e.scrollByPage&&(this._options.scrollByPage=e.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(e){if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=HP(this._mouseWheelToDispose),e)){const e=e=>{this._onMouseWheel(new cV(e))};this._mouseWheelToDispose.push(AV(this._listenOnDomNode,hW.MOUSE_WHEEL,e,{passive:!1}))}}_onMouseWheel(e){const t=w7.INSTANCE;{const n=window.devicePixelRatio/Bz.INSTANCE.getZoomFactor();VR||HR?t.accept(Date.now(),e.deltaX/n,e.deltaY/n):t.accept(Date.now(),e.deltaX,e.deltaY)}let n=!1;if(e.deltaY||e.deltaX){let i=e.deltaY*this._options.mouseWheelScrollSensitivity,r=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(i)>=Math.abs(r)?r=0:i=0),this._options.flipAxes&&([i,r]=[r,i]);const o=!WR&&e.browserEvent&&e.browserEvent.shiftKey;!this._options.scrollYToX&&!o||r||(r=i,i=0),e.browserEvent&&e.browserEvent.altKey&&(r*=this._options.fastScrollSensitivity,i*=this._options.fastScrollSensitivity);const s=this._scrollable.getFutureScrollPosition();let a={};if(i){const e=50*i,t=s.scrollTop-(e<0?Math.floor(e):Math.ceil(e));this._verticalScrollbar.writeScrollPosition(a,t)}if(r){const e=50*r,t=s.scrollLeft-(e<0?Math.floor(e):Math.ceil(e));this._horizontalScrollbar.writeScrollPosition(a,t)}if(a=this._scrollable.validateScrollPosition(a),s.scrollLeft!==a.scrollLeft||s.scrollTop!==a.scrollTop){this._options.mouseWheelSmoothScroll&&t.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(a):this._scrollable.setScrollPositionNow(a),n=!0}}let i=n;!i&&this._options.alwaysConsumeMouseWheel&&(i=!0),!i&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(i=!0),i&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,n=e.scrollLeft>0,i=n?" left":"",r=t?" top":"",o=n||t?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${i}`),this._topShadowDomNode.setClassName(`shadow${r}`),this._topLeftShadowDomNode.setClassName(`shadow${o}${r}${i}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){this._mouseIsOver||this._isDragging||(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){this._mouseIsOver||this._isDragging||this._hideTimeout.cancelAndSet((()=>this._hide()),500)}}class x7 extends C7{constructor(e,t){(t=t||{}).mouseWheelSmoothScroll=!1;const n=new m7(0,(e=>RV(e)));super(e,t,n),this._register(n)}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class k7 extends C7{constructor(e,t,n){super(e,t,n)}setScrollPosition(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class S7 extends x7{constructor(e,t){super(e,t),this._element=e,this.onScroll((e=>{e.scrollTopChanged&&(this._element.scrollTop=e.scrollTop),e.scrollLeftChanged&&(this._element.scrollLeft=e.scrollLeft)})),this.scanDomNode()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}class D7 extends mQ{constructor(e,t,n,i){super(e);const r=this._context.configuration.options,o=r.get(91),s=r.get(66),a=r.get(34),l=r.get(94),c={listenOnDomNode:n.domNode,className:"editor-scrollable "+pJ(e.theme.type),useShadows:!1,lazyRender:!0,vertical:o.vertical,horizontal:o.horizontal,verticalHasArrows:o.verticalHasArrows,horizontalHasArrows:o.horizontalHasArrows,verticalScrollbarSize:o.verticalScrollbarSize,verticalSliderSize:o.verticalSliderSize,horizontalScrollbarSize:o.horizontalScrollbarSize,horizontalSliderSize:o.horizontalSliderSize,handleMouseWheel:o.handleMouseWheel,alwaysConsumeMouseWheel:o.alwaysConsumeMouseWheel,arrowSize:o.arrowSize,mouseWheelScrollSensitivity:s,fastScrollSensitivity:a,scrollPredominantAxis:l,scrollByPage:o.scrollByPage};this.scrollbar=this._register(new k7(t.domNode,c,this._context.viewLayout.getScrollable())),vQ.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=QJ(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const u=(e,t,n)=>{const i={};if(t){const t=e.scrollTop;t&&(i.scrollTop=this._context.viewLayout.getCurrentScrollTop()+t,e.scrollTop=0)}if(n){const t=e.scrollLeft;t&&(i.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+t,e.scrollLeft=0)}this._context.model.setScrollPosition(i,1)};this._register(AV(n.domNode,"scroll",(e=>u(n.domNode,!0,!0)))),this._register(AV(t.domNode,"scroll",(e=>u(t.domNode,!0,!1)))),this._register(AV(i.domNode,"scroll",(e=>u(i.domNode,!0,!1)))),this._register(AV(this.scrollbarDomNode.domNode,"scroll",(e=>u(this.scrollbarDomNode.domNode,!0,!1))))}dispose(){super.dispose()}_setLayout(){const e=this._context.configuration.options,t=e.get(129);this.scrollbarDomNode.setLeft(t.contentLeft);"right"===e.get(64).side?this.scrollbarDomNode.setWidth(t.contentWidth+t.minimap.minimapWidth):this.scrollbarDomNode.setWidth(t.contentWidth),this.scrollbarDomNode.setHeight(t.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(e){this.scrollbar.delegateVerticalScrollbarMouseDown(e)}onConfigurationChanged(e){if(e.hasChanged(91)||e.hasChanged(66)||e.hasChanged(34)){const e=this._context.configuration.options,t=e.get(91),n=e.get(66),i=e.get(34),r=e.get(94),o={vertical:t.vertical,horizontal:t.horizontal,verticalScrollbarSize:t.verticalScrollbarSize,horizontalScrollbarSize:t.horizontalScrollbarSize,scrollByPage:t.scrollByPage,handleMouseWheel:t.handleMouseWheel,mouseWheelScrollSensitivity:n,fastScrollSensitivity:i,scrollPredominantAxis:r};this.scrollbar.updateOptions(o)}return e.hasChanged(129)&&this._setLayout(),!0}onScrollChanged(e){return!0}onThemeChanged(e){return this.scrollbar.updateClassName("editor-scrollable "+pJ(this._context.theme.type)),!0}prepareRender(e){}render(e){this.scrollbar.renderNow()}}vJ(((e,t)=>{const n=e.getColor(Q2);n&&t.addRule(`\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tbox-shadow: ${n} 0 6px 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tbox-shadow: ${n} 6px 0 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\tbox-shadow: ${n} 6px 6px 6px -6px inset;\n\t\t\t}\n\t\t`);const i=e.getColor(e4);i&&t.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\tbackground: ${i};\n\t\t\t}\n\t\t`);const r=e.getColor(t4);r&&t.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\tbackground: ${r};\n\t\t\t}\n\t\t`);const o=e.getColor(n4);o&&t.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\tbackground: ${o};\n\t\t\t}\n\t\t`)}));class E7{constructor(e,t,n){this._decorationToRenderBrand=void 0,this.startLineNumber=+e,this.endLineNumber=+t,this.className=String(n)}}class L7 extends G6{_render(e,t,n){const i=[];for(let s=e;s<=t;s++){i[s-e]=[]}if(0===n.length)return i;n.sort(((e,t)=>e.className===t.className?e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber:e.className<t.className?-1:1));let r=null,o=0;for(let s=0,a=n.length;s<a;s++){const a=n[s],l=a.className;let c=Math.max(a.startLineNumber,e)-e;const u=Math.min(a.endLineNumber,t)-e;r===l?(c=Math.max(o+1,c),o=Math.max(o,u)):(r=l,o=u);for(let e=c;e<=o;e++)i[e].push(r)}return i}}class T7 extends L7{constructor(e){super(),this._context=e;const t=this._context.configuration.options,n=t.get(129);this._lineHeight=t.get(58),this._glyphMargin=t.get(49),this._glyphMarginLeft=n.glyphMarginLeft,this._glyphMarginWidth=n.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options,n=t.get(129);return this._lineHeight=t.get(58),this._glyphMargin=t.get(49),this._glyphMarginLeft=n.glyphMarginLeft,this._glyphMarginWidth=n.glyphMarginWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport();let n=[],i=0;for(let r=0,o=t.length;r<o;r++){const e=t[r],o=e.options.glyphMarginClassName;o&&(n[i++]=new E7(e.range.startLineNumber,e.range.endLineNumber,o))}return n}prepareRender(e){if(!this._glyphMargin)return void(this._renderResult=null);const t=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,i=this._render(t,n,this._getDecorations(e)),r=this._lineHeight.toString(),o='" style="left:'+this._glyphMarginLeft.toString()+"px;width:"+this._glyphMarginWidth.toString()+"px;height:"+r+'px;"></div>',s=[];for(let a=t;a<=n;a++){const e=a-t,n=i[e];0===n.length?s[e]="":s[e]='<div class="cgmr codicon '+n.join(" ")+o}this._renderResult=s}render(e,t){if(!this._renderResult)return"";const n=t-e;return n<0||n>=this._renderResult.length?"":this._renderResult[n]}}class N7 extends G6{constructor(e){super(),this._context=e,this._primaryPosition=null;const t=this._context.configuration.options,n=t.get(130),i=t.get(43);this._lineHeight=t.get(58),this._spaceWidth=i.spaceWidth,this._maxIndentLeft=-1===n.wrappingColumn?-1:n.wrappingColumn*i.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options,n=t.get(130),i=t.get(43);return this._lineHeight=t.get(58),this._spaceWidth=i.spaceWidth,this._maxIndentLeft=-1===n.wrappingColumn?-1:n.wrappingColumn*i.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(13),!0}onCursorStateChanged(e){var t;const n=e.selections[0].getPosition();return!(null===(t=this._primaryPosition)||void 0===t?void 0:t.equals(n))&&(this._primaryPosition=n,!0)}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onLanguageConfigurationChanged(e){return!0}prepareRender(e){var t,n,i,r;if(!this._bracketPairGuideOptions.indentation&&!1===this._bracketPairGuideOptions.bracketPairs)return void(this._renderResult=null);const o=e.visibleRange.startLineNumber,s=e.visibleRange.endLineNumber,a=e.scrollWidth,l=this._lineHeight,c=this._primaryPosition,u=this.getGuidesByLine(o,s,c),h=[];for(let d=o;d<=s;d++){const s=d-o,c=u[s];let f="";const p=null!==(n=null===(t=e.visibleRangeForPosition(new lj(d,1)))||void 0===t?void 0:t.left)&&void 0!==n?n:0;for(const t of c){const n=p+(t.visibleColumn-1)*this._spaceWidth;if(n>a||this._maxIndentLeft>0&&n>this._maxIndentLeft)break;const o=t.horizontalLine?t.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",s=t.horizontalLine?(null!==(r=null===(i=e.visibleRangeForPosition(new lj(d,t.horizontalLine.endColumn)))||void 0===i?void 0:i.left)&&void 0!==r?r:n+this._spaceWidth)-n:this._spaceWidth;f+=`<div class="core-guide ${t.className} ${o}" style="left:${n}px;height:${l}px;width:${s}px"></div>`}h[s]=f}this._renderResult=h}getGuidesByLine(e,t,n){const i=!1!==this._bracketPairGuideOptions.bracketPairs?this._context.model.getBracketGuidesInRangeByLine(e,t,n,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:!0===this._bracketPairGuideOptions.bracketPairsHorizontal?FU.Enabled:"active"===this._bracketPairGuideOptions.bracketPairsHorizontal?FU.EnabledForActive:FU.Disabled,includeInactive:!0===this._bracketPairGuideOptions.bracketPairs}):null,r=this._bracketPairGuideOptions.indentation?this._context.model.getLinesIndentGuides(e,t):null;let o=0,s=0,a=0;if(this._bracketPairGuideOptions.highlightActiveIndentation&&n){const i=this._context.model.getActiveIndentGuide(n.lineNumber,e,t);o=i.startLineNumber,s=i.endLineNumber,a=i.indent}const{indentSize:l}=this._context.model.getTextModelOptions(),c=[];for(let u=e;u<=t;u++){const t=new Array;c.push(t);const n=i?i[u-e]:[],h=new TY(n),d=r?r[u-e]:[];for(let e=1;e<=d;e++){const i=(e-1)*l+1,r=0===n.length&&o<=u&&u<=s&&e===a;t.push(...h.takeWhile((e=>e.visibleColumn<i))||[]);const c=h.peek();c&&c.visibleColumn===i&&!c.horizontalLine||t.push(new jU(i,r?"core-guide-indent-active":"core-guide-indent",null))}t.push(...h.takeWhile((e=>!0))||[])}return c}render(e,t){if(!this._renderResult)return"";const n=t-e;return n<0||n>=this._renderResult.length?"":this._renderResult[n]}}function M7(e){if(!e||!e.isTransparent())return e}vJ(((e,t)=>{const n=e.getColor(Z3);n&&t.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${n} inset; }`);const i=e.getColor(J3)||n;i&&t.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${i} inset; }`);const r=[{bracketColor:d5,guideColor:b5,guideColorActive:S5},{bracketColor:f5,guideColor:_5,guideColorActive:D5},{bracketColor:p5,guideColor:w5,guideColorActive:E5},{bracketColor:g5,guideColor:C5,guideColorActive:L5},{bracketColor:m5,guideColor:x5,guideColorActive:T5},{bracketColor:v5,guideColor:k5,guideColorActive:N5}],o=new H5;let s=r.map((t=>{var n,i;const r=e.getColor(t.bracketColor),o=e.getColor(t.guideColor),s=e.getColor(t.guideColorActive),a=M7(null!==(n=M7(o))&&void 0!==n?n:null==r?void 0:r.transparent(.3)),l=M7(null!==(i=M7(s))&&void 0!==i?i:r);if(a&&l)return{guideColor:a,guideColorActive:l}})).filter(eU);if(s.length>0){for(let e=0;e<30;e++){const n=s[e%s.length];t.addRule(`.monaco-editor .${o.getInlineClassNameOfLevel(e).replace(/ /g,".")} { --guide-color: ${n.guideColor}; --guide-color-active: ${n.guideColorActive}; }`)}t.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),t.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),t.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),t.addRule(`.monaco-editor .vertical.${o.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),t.addRule(`.monaco-editor .horizontal-top.${o.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),t.addRule(`.monaco-editor .horizontal-bottom.${o.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}}));class A7{constructor(){this._currentVisibleRange=new cj(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(e){this._currentVisibleRange=e}}class I7{constructor(e,t,n,i,r,o){this.lineNumber=e,this.startColumn=t,this.endColumn=n,this.startScrollTop=i,this.stopScrollTop=r,this.scrollType=o,this.type="range",this.minLineNumber=e,this.maxLineNumber=e}}class O7{constructor(e,t,n,i){this.selections=e,this.startScrollTop=t,this.stopScrollTop=n,this.scrollType=i,this.type="selections";let r=e[0].startLineNumber,o=e[0].endLineNumber;for(let s=1,a=e.length;s<a;s++){const t=e[s];r=Math.min(r,t.startLineNumber),o=Math.max(o,t.endLineNumber)}this.minLineNumber=r,this.maxLineNumber=o}}class F7 extends mQ{constructor(e,t){super(e),this._linesContent=t,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new H8(this),this.domNode=this._visibleLines.domNode;const n=this._context.configuration,i=this._context.configuration.options,r=i.get(43),o=i.get(130);this._lineHeight=i.get(58),this._typicalHalfwidthCharacterWidth=r.typicalHalfwidthCharacterWidth,this._isViewportWrapping=o.isViewportWrapping,this._revealHorizontalRightPadding=i.get(88),this._cursorSurroundingLines=i.get(25),this._cursorSurroundingLinesStyle=i.get(26),this._canUseLayerHinting=!i.get(28),this._viewLineOptions=new LQ(n,this._context.theme.type),vQ.write(this.domNode,7),this.domNode.setClassName("view-lines monaco-mouse-cursor-text"),ZJ.applyFontInfo(this.domNode,r),this._maxLineWidth=0,this._asyncUpdateLineWidths=new bV((()=>{this._updateLineWidthsSlow()}),200),this._asyncCheckMonospaceFontAssumptions=new bV((()=>{this._checkMonospaceFontAssumptions()}),2e3),this._lastRenderedData=new A7,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new TQ(this._viewLineOptions)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e),e.hasChanged(130)&&(this._maxLineWidth=0);const t=this._context.configuration.options,n=t.get(43),i=t.get(130);return this._lineHeight=t.get(58),this._typicalHalfwidthCharacterWidth=n.typicalHalfwidthCharacterWidth,this._isViewportWrapping=i.isViewportWrapping,this._revealHorizontalRightPadding=t.get(88),this._cursorSurroundingLines=t.get(25),this._cursorSurroundingLinesStyle=t.get(26),this._canUseLayerHinting=!t.get(28),ZJ.applyFontInfo(this.domNode,n),this._onOptionsMaybeChanged(),e.hasChanged(129)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const e=this._context.configuration,t=new LQ(e,this._context.theme.type);if(!this._viewLineOptions.equals(t)){this._viewLineOptions=t;const e=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let t=e;t<=n;t++){this._visibleLines.getVisibleLine(t).onOptionsChanged(this._viewLineOptions)}return!0}return!1}onCursorStateChanged(e){const t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();let i=!1;for(let r=t;r<=n;r++)i=this._visibleLines.getVisibleLine(r).onSelectionChanged()||i;return i}onDecorationsChanged(e){{const e=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let n=e;n<=t;n++)this._visibleLines.getVisibleLine(n).onDecorationsChanged()}return!0}onFlushed(e){const t=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,t}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onRevealRangeRequest(e){const t=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.source,e.range,e.selections,e.verticalType);if(-1===t)return!1;let n=this._context.viewLayout.validateScrollPosition({scrollTop:t});e.revealHorizontal?e.range&&e.range.startLineNumber!==e.range.endLineNumber?n={scrollTop:n.scrollTop,scrollLeft:0}:e.range?this._horizontalRevealRequest=new I7(e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),n.scrollTop,e.scrollType):e.selections&&e.selections.length>0&&(this._horizontalRevealRequest=new O7(e.selections,this._context.viewLayout.getCurrentScrollTop(),n.scrollTop,e.scrollType)):this._horizontalRevealRequest=null;const i=Math.abs(this._context.viewLayout.getCurrentScrollTop()-n.scrollTop)<=this._lineHeight?1:e.scrollType;return this._context.model.setScrollPosition(n,i),!0}onScrollChanged(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){const t=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),n=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<t||e.scrollTop>n)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._context.model.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(e)}onThemeChanged(e){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(e,t){const n=this._getViewLineDomNode(e);if(null===n)return null;const i=this._getLineNumberFor(n);if(-1===i)return null;if(i<1||i>this._context.model.getLineCount())return null;if(1===this._context.model.getLineMaxColumn(i))return new lj(i,1);const r=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();if(i<r||i>o)return null;let s=this._visibleLines.getVisibleLine(i).getColumnOfNodeOffset(i,e,t);const a=this._context.model.getLineMinColumn(i);return s<a&&(s=a),new lj(i,s)}_getViewLineDomNode(e){for(;e&&1===e.nodeType;){if(e.className===TQ.CLASS_NAME)return e;e=e.parentElement}return null}_getLineNumberFor(e){const t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let i=t;i<=n;i++){if(e===this._visibleLines.getVisibleLine(i).getDomNode())return i}return-1}getLineWidth(e){const t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();return e<t||e>n?-1:this._visibleLines.getVisibleLine(e).getWidth()}linesVisibleRangesForRange(e,t){if(this.shouldRender())return null;const n=e.endLineNumber,i=cj.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!i)return null;let r=[],o=0;const s=new EQ(this.domNode.domNode,this._textRangeRestingSpot);let a=0;t&&(a=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new lj(i.startLineNumber,1)).lineNumber);const l=this._visibleLines.getStartLineNumber(),c=this._visibleLines.getEndLineNumber();for(let u=i.startLineNumber;u<=i.endLineNumber;u++){if(u<l||u>c)continue;const e=u===i.startLineNumber?i.startColumn:1,h=u===i.endLineNumber?i.endColumn:this._context.model.getLineMaxColumn(u),d=this._visibleLines.getVisibleLine(u).getVisibleRangesForRange(u,e,h,s);if(d){if(t&&u<n){const e=a;a=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new lj(u+1,1)).lineNumber,e!==a&&(d.ranges[d.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}r[o++]=new bQ(d.outsideRenderedLine,u,_Q.from(d.ranges))}}return 0===o?null:r}_visibleRangesForLineRange(e,t,n){return this.shouldRender()||e<this._visibleLines.getStartLineNumber()||e>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(e,t,n,new EQ(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(e){const t=this._visibleRangesForLineRange(e.lineNumber,e.column,e.column);return t?new CQ(t.outsideRenderedLine,t.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(e){const t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();let i=1,r=!0;for(let o=t;o<=n;o++){const t=this._visibleLines.getVisibleLine(o);!e||t.getWidthIsFast()?i=Math.max(i,t.getWidth()):r=!1}return r&&1===t&&n===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(i),r}_checkMonospaceFontAssumptions(){let e=-1,t=-1;const n=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let r=n;r<=i;r++){const n=this._visibleLines.getVisibleLine(r);if(n.needsMonospaceFontCheck()){const i=n.getWidth();i>t&&(t=i,e=r)}}if(-1!==e&&!this._visibleLines.getVisibleLine(e).monospaceAssumptionsAreValid())for(let r=n;r<=i;r++){this._visibleLines.getVisibleLine(r).onMonospaceAssumptionsInvalidated()}}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(e){if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const t=this._horizontalRevealRequest;if(e.startLineNumber<=t.minLineNumber&&t.maxLineNumber<=e.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const e=this._computeScrollLeftToReveal(t);e&&(this._isViewportWrapping||this._ensureMaxLineWidth(e.maxHorizontalOffset),this._context.model.setScrollPosition({scrollLeft:e.scrollLeft},t.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),HR&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const e=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let n=e;n<=t;n++){if(this._visibleLines.getVisibleLine(n).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const t=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-t),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(e){const t=Math.ceil(e);this._maxLineWidth<t&&(this._maxLineWidth=t,this._context.model.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(e,t,n,i,r){const o=e.top,s=e.height,a=o+s;let l,c,u;if(i&&i.length>0){let e=i[0].startLineNumber,t=i[0].endLineNumber;for(let n=1,r=i.length;n<r;n++){const r=i[n];e=Math.min(e,r.startLineNumber),t=Math.max(t,r.endLineNumber)}l=!1,c=this._context.viewLayout.getVerticalOffsetForLineNumber(e),u=this._context.viewLayout.getVerticalOffsetForLineNumber(t)+this._lineHeight}else{if(!n)return-1;l=!0,c=this._context.viewLayout.getVerticalOffsetForLineNumber(n.startLineNumber),u=this._context.viewLayout.getVerticalOffsetForLineNumber(n.endLineNumber)+this._lineHeight}if(!("mouse"===t&&"default"===this._cursorSurroundingLinesStyle)){const e=Math.min(s/this._lineHeight/2,this._cursorSurroundingLines);c-=e*this._lineHeight,u+=Math.max(0,e-1)*this._lineHeight}let h;if(0!==r&&4!==r||(u+=this._lineHeight),u-c>s){if(!l)return-1;h=c}else if(5===r||6===r)if(6===r&&o<=c&&u<=a)h=o;else{const e=c-Math.max(5*this._lineHeight,.2*s),t=u-s;h=Math.max(t,e)}else if(1===r||2===r)if(2===r&&o<=c&&u<=a)h=o;else{const e=(c+u)/2;h=Math.max(0,e-s/2)}else h=this._computeMinimumScrolling(o,a,c,u,3===r,4===r);return h}_computeScrollLeftToReveal(e){const t=this._context.viewLayout.getCurrentViewport(),n=t.left,i=n+t.width;let r=1073741824,o=0;if("range"===e.type){const t=this._visibleRangesForLineRange(e.lineNumber,e.startColumn,e.endColumn);if(!t)return null;for(const e of t.ranges)r=Math.min(r,Math.round(e.left)),o=Math.max(o,Math.round(e.left+e.width))}else for(const s of e.selections){if(s.startLineNumber!==s.endLineNumber)return null;const e=this._visibleRangesForLineRange(s.startLineNumber,s.startColumn,s.endColumn);if(!e)return null;for(const t of e.ranges)r=Math.min(r,Math.round(t.left)),o=Math.max(o,Math.round(t.left+t.width))}if(r=Math.max(0,r-F7.HORIZONTAL_EXTRA_PX),o+=this._revealHorizontalRightPadding,"selections"===e.type&&o-r>t.width)return null;return{scrollLeft:this._computeMinimumScrolling(n,i,r,o),maxHorizontalOffset:o}}_computeMinimumScrolling(e,t,n,i,r,o){r=!!r,o=!!o;const s=(t|=0)-(e|=0);return(i|=0)-(n|=0)<s?r?n:o?Math.max(0,i-s):n<e?n:i>t?Math.max(0,i-s):e:n}}F7.HORIZONTAL_EXTRA_PX=30;class R7 extends L7{constructor(e){super(),this._context=e;const t=this._context.configuration.options.get(129);this._decorationsLeft=t.decorationsLeft,this._decorationsWidth=t.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options.get(129);return this._decorationsLeft=t.decorationsLeft,this._decorationsWidth=t.decorationsWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport();let n=[],i=0;for(let r=0,o=t.length;r<o;r++){const e=t[r],o=e.options.linesDecorationsClassName;o&&(n[i++]=new E7(e.range.startLineNumber,e.range.endLineNumber,o));const s=e.options.firstLineDecorationClassName;s&&(n[i++]=new E7(e.range.startLineNumber,e.range.startLineNumber,s))}return n}prepareRender(e){const t=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,i=this._render(t,n,this._getDecorations(e)),r='" style="left:'+this._decorationsLeft.toString()+"px;width:"+this._decorationsWidth.toString()+'px;"></div>',o=[];for(let s=t;s<=n;s++){const e=s-t,n=i[e];let a="";for(let t=0,i=n.length;t<i;t++)a+='<div class="cldr '+n[t]+r;o[e]=a}this._renderResult=o}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}class P7 extends L7{constructor(e){super(),this._context=e,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport();let n=[],i=0;for(let r=0,o=t.length;r<o;r++){const e=t[r],o=e.options.marginClassName;o&&(n[i++]=new E7(e.range.startLineNumber,e.range.endLineNumber,o))}return n}prepareRender(e){const t=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,i=this._render(t,n,this._getDecorations(e)),r=[];for(let o=t;o<=n;o++){const e=o-t,n=i[e];let s="";for(let t=0,i=n.length;t<i;t++)s+='<div class="cmdr '+n[t]+'" style=""></div>';r[e]=s}this._renderResult=r}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}class B7{constructor(e,t,n,i){this._rgba8Brand=void 0,this.r=B7._clamp(e),this.g=B7._clamp(t),this.b=B7._clamp(n),this.a=B7._clamp(i)}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}static _clamp(e){return e<0?0:e>255?255:0|e}}B7.Empty=new B7(0,0,0,0);class j7 extends KP{constructor(){super(),this._onDidChange=new nB,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(rq.onDidChange((e=>{e.changedColorMap&&this._updateColorMap()})))}static getInstance(){return this._INSTANCE||(this._INSTANCE=new j7),this._INSTANCE}_updateColorMap(){const e=rq.getColorMap();if(!e)return this._colors=[B7.Empty],void(this._backgroundIsLight=!0);this._colors=[B7.Empty];for(let n=1;n<e.length;n++){const t=e[n].rgba;this._colors[n]=new B7(t.r,t.g,t.b,Math.round(255*t.a))}let t=e[2].getRelativeLuminance();this._backgroundIsLight=t>=.5,this._onDidChange.fire(void 0)}getColor(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]}backgroundIsLight(){return this._backgroundIsLight}}j7._INSTANCE=null;const z7=(()=>{const e=[];for(let t=32;t<=126;t++)e.push(t);return e.push(65533),e})();class V7{constructor(e,t){this.scale=t,this._minimapCharRendererBrand=void 0,this.charDataNormal=V7.soften(e,.8),this.charDataLight=V7.soften(e,50/60)}static soften(e,t){let n=new Uint8ClampedArray(e.length);for(let i=0,r=e.length;i<r;i++)n[i]=nY(e[i]*t);return n}renderChar(e,t,n,i,r,o,s,a,l,c,u){const h=1*this.scale,d=2*this.scale,f=u?1:d;if(t+h>e.width||n+f>e.height)return void console.warn("bad render request outside image data");const p=c?this.charDataLight:this.charDataNormal,g=((e,t)=>(e-=32)<0||e>96?t<=2?(e+96)%96:95:e)(i,l),m=4*e.width,v=s.r,y=s.g,b=s.b,_=r.r-v,w=r.g-y,C=r.b-b,x=Math.max(o,a),k=e.data;let S=g*h*d,D=n*m+4*t;for(let E=0;E<f;E++){let e=D;for(let t=0;t<h;t++){const t=p[S++]/255*(o/255);k[e++]=v+_*t,k[e++]=y+w*t,k[e++]=b+C*t,k[e++]=x}D+=m}}blockRenderChar(e,t,n,i,r,o,s,a){const l=1*this.scale,c=2*this.scale,u=a?1:c;if(t+l>e.width||n+u>e.height)return void console.warn("bad render request outside image data");const h=4*e.width,d=r/255*.5,f=o.r,p=o.g,g=o.b,m=f+(i.r-f)*d,v=p+(i.g-p)*d,y=g+(i.b-g)*d,b=Math.max(r,s),_=e.data;let w=n*h+4*t;for(let C=0;C<u;C++){let e=w;for(let t=0;t<l;t++)_[e++]=m,_[e++]=v,_[e++]=y,_[e++]=b;w+=h}}}const W7={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},H7=e=>{const t=new Uint8ClampedArray(e.length/2);for(let n=0;n<e.length;n+=2)t[n>>1]=W7[e[n]]<<4|15&W7[e[n+1]];return t},U7={1:zP((()=>H7("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792"))),2:zP((()=>H7("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126")))};class $7{static create(e,t){if(this.lastCreated&&e===this.lastCreated.scale&&t===this.lastFontFamily)return this.lastCreated;let n;return n=U7[e]?new V7(U7[e](),e):$7.createFromSampleData($7.createSampleData(t).data,e),this.lastFontFamily=t,this.lastCreated=n,n}static createSampleData(e){const t=document.createElement("canvas"),n=t.getContext("2d");t.style.height="16px",t.height=16,t.width=960,t.style.width="960px",n.fillStyle="#ffffff",n.font=`bold 16px ${e}`,n.textBaseline="middle";let i=0;for(const r of z7)n.fillText(String.fromCharCode(r),i,8),i+=10;return n.getImageData(0,0,960,16)}static createFromSampleData(e,t){if(61440!==e.length)throw new Error("Unexpected source in MinimapCharRenderer");let n=$7._downsample(e,t);return new V7(n,t)}static _downsampleChar(e,t,n,i,r){const o=1*r,s=2*r;let a=i,l=0;for(let c=0;c<s;c++){const i=c/s*16,r=(c+1)/s*16;for(let s=0;s<o;s++){const c=s/o*10,u=(s+1)/o*10;let h=0,d=0;for(let n=i;n<r;n++){const i=t+3840*Math.floor(n),r=1-(n-Math.floor(n));for(let t=c;t<u;t++){const n=1-(t-Math.floor(t)),o=i+4*Math.floor(t),s=n*r;d+=s,h+=e[o]*e[o+3]/255*s}}const f=h/d;l=Math.max(l,f),n[a++]=nY(f)}}return l}static _downsample(e,t){const n=2*t*1*t,i=96*n,r=new Uint8ClampedArray(i);let o=0,s=0,a=0;for(let l=0;l<96;l++)a=Math.max(a,this._downsampleChar(e,s,r,o,t)),o+=n,s+=40;if(a>0){const e=255/a;for(let t=0;t<i;t++)r[t]*=e}return r}}class q7{constructor(e,t,n){const i=e.options,r=i.get(127),o=i.get(129),s=o.minimap,a=i.get(43),l=i.get(64);this.renderMinimap=s.renderMinimap,this.size=l.size,this.minimapHeightIsEditorHeight=s.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=i.get(93),this.showSlider=l.showSlider,this.pixelRatio=r,this.typicalHalfwidthCharacterWidth=a.typicalHalfwidthCharacterWidth,this.lineHeight=i.get(58),this.minimapLeft=s.minimapLeft,this.minimapWidth=s.minimapWidth,this.minimapHeight=o.height,this.canvasInnerWidth=s.minimapCanvasInnerWidth,this.canvasInnerHeight=s.minimapCanvasInnerHeight,this.canvasOuterWidth=s.minimapCanvasOuterWidth,this.canvasOuterHeight=s.minimapCanvasOuterHeight,this.isSampling=s.minimapIsSampling,this.editorHeight=o.height,this.fontScale=s.minimapScale,this.minimapLineHeight=s.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=zP((()=>$7.create(this.fontScale,a.fontFamily))),this.defaultBackgroundColor=n.getColor(2),this.backgroundColor=q7._getMinimapBackground(t,this.defaultBackgroundColor),this.foregroundAlpha=q7._getMinimapForegroundOpacity(t)}static _getMinimapBackground(e,t){const n=e.getColor(L3);return n?new B7(n.rgba.r,n.rgba.g,n.rgba.b,Math.round(255*n.rgba.a)):t}static _getMinimapForegroundOpacity(e){const t=e.getColor(T3);return t?B7._clamp(Math.round(255*t.rgba.a)):255}equals(e){return this.renderMinimap===e.renderMinimap&&this.size===e.size&&this.minimapHeightIsEditorHeight===e.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.showSlider===e.showSlider&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight&&this.isSampling===e.isSampling&&this.editorHeight===e.editorHeight&&this.fontScale===e.fontScale&&this.minimapLineHeight===e.minimapLineHeight&&this.minimapCharWidth===e.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(e.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(e.backgroundColor)&&this.foregroundAlpha===e.foregroundAlpha}}class K7{constructor(e,t,n,i,r,o,s,a){this.scrollTop=e,this.scrollHeight=t,this.sliderNeeded=n,this._computedSliderRatio=i,this.sliderTop=r,this.sliderHeight=o,this.startLineNumber=s,this.endLineNumber=a}getDesiredScrollTopFromDelta(e){return Math.round(this.scrollTop+e/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(e){return Math.round((e-this.sliderHeight/2)/this._computedSliderRatio)}static create(e,t,n,i,r,o,s,a,l,c,u){const h=e.pixelRatio,d=e.minimapLineHeight,f=Math.floor(e.canvasInnerHeight/d),p=e.lineHeight;if(e.minimapHeightIsEditorHeight){const t=a*e.lineHeight+(e.scrollBeyondLastLine?r-e.lineHeight:0),n=Math.max(1,Math.floor(r*r/t)),i=Math.max(0,e.minimapHeight-n),o=i/(c-r),u=l*o,h=i>0,d=Math.floor(e.canvasInnerHeight/e.minimapLineHeight);return new K7(l,c,h,o,u,n,1,Math.min(s,d))}let g,m;if(o&&n!==s){const e=n-t+1;g=Math.floor(e*d/h)}else{const e=r/p;g=Math.floor(e*d/h)}m=e.scrollBeyondLastLine?(s-1)*d/h:Math.max(0,s*d/h-g),m=Math.min(e.minimapHeight-g,m);const v=m/(c-r),y=l*v;let b=0;if(e.scrollBeyondLastLine){b=r/p-1}if(f>=s+b){return new K7(l,c,m>0,v,y,g,1,s)}{let e=Math.max(1,Math.floor(t-y*h/d));u&&u.scrollHeight===c&&(u.scrollTop>l&&(e=Math.min(e,u.startLineNumber)),u.scrollTop<l&&(e=Math.max(e,u.startLineNumber)));const n=Math.min(s,e+f-1);return new K7(l,c,!0,v,(t-e+(l-i)/p)*d/h,g,e,n)}}}class Y7{constructor(e){this.dy=e}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}Y7.INVALID=new Y7(-1);class G7{constructor(e,t,n){this.renderedLayout=e,this._imageData=t,this._renderedLines=new W8((()=>Y7.INVALID)),this._renderedLines._set(e.startLineNumber,n)}linesEquals(e){if(!this.scrollEquals(e))return!1;const t=this._renderedLines._get().lines;for(let n=0,i=t.length;n<i;n++)if(-1===t[n].dy)return!1;return!0}scrollEquals(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber}_get(){const e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}}onLinesChanged(e,t){return this._renderedLines.onLinesChanged(e,t)}onLinesDeleted(e,t){this._renderedLines.onLinesDeleted(e,t)}onLinesInserted(e,t){this._renderedLines.onLinesInserted(e,t)}onTokensChanged(e){return this._renderedLines.onTokensChanged(e)}}class X7{constructor(e,t,n,i){this._backgroundFillData=X7._createBackgroundFillData(t,n,i),this._buffers=[e.createImageData(t,n),e.createImageData(t,n)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e}static _createBackgroundFillData(e,t,n){const i=n.r,r=n.g,o=n.b,s=n.a,a=new Uint8ClampedArray(e*t*4);let l=0;for(let c=0;c<t;c++)for(let t=0;t<e;t++)a[l]=i,a[l+1]=r,a[l+2]=o,a[l+3]=s,l+=4;return a}}class Z7{constructor(e,t){this.samplingRatio=e,this.minimapLines=t}static compute(e,t,n){if(0===e.renderMinimap||!e.isSampling)return[null,[]];const i=e.pixelRatio,r=e.lineHeight,o=e.scrollBeyondLastLine,{minimapLineCount:s}=xP.computeContainedMinimapLineCount({viewLineCount:t,scrollBeyondLastLine:o,height:e.editorHeight,lineHeight:r,pixelRatio:i}),a=t/s,l=a/2;if(!n||0===n.minimapLines.length){let e=[];if(e[0]=1,s>1){for(let t=0,n=s-1;t<n;t++)e[t]=Math.round(t*a+l);e[s-1]=t}return[new Z7(a,e),[]]}const c=n.minimapLines,u=c.length;let h=[],d=0,f=0,p=1;let g=[],m=null;for(let v=0;v<s;v++){const e=Math.max(p,Math.round(v*a)),n=Math.max(e,Math.round((v+1)*a));for(;d<u&&c[d]<e;){if(g.length<10){const e=d+1+f;m&&"deleted"===m.type&&m._oldIndex===d-1?m.deleteToLineNumber++:(m={type:"deleted",_oldIndex:d,deleteFromLineNumber:e,deleteToLineNumber:e},g.push(m)),f--}d++}let i;if(d<u&&c[d]<=n)i=c[d],d++;else if(i=0===v?1:v+1===s?t:Math.round(v*a+l),g.length<10){const e=d+1+f;m&&"inserted"===m.type&&m._i===v-1?m.insertToLineNumber++:(m={type:"inserted",_i:v,insertFromLineNumber:e,insertToLineNumber:e},g.push(m)),f++}h[v]=i,p=i}if(g.length<10)for(;d<u;){const e=d+1+f;m&&"deleted"===m.type&&m._oldIndex===d-1?m.deleteToLineNumber++:(m={type:"deleted",_oldIndex:d,deleteFromLineNumber:e,deleteToLineNumber:e},g.push(m)),f--,d++}else g=[{type:"flush"}];return[new Z7(a,h),g]}modelLineToMinimapLine(e){return Math.min(this.minimapLines.length,Math.max(1,Math.round(e/this.samplingRatio)))}modelLineRangeToMinimapLineRange(e,t){let n=this.modelLineToMinimapLine(e)-1;for(;n>0&&this.minimapLines[n-1]>=e;)n--;let i=this.modelLineToMinimapLine(t)-1;for(;i+1<this.minimapLines.length&&this.minimapLines[i+1]<=t;)i++;if(n===i){const i=this.minimapLines[n];if(i<e||i>t)return null}return[n+1,i+1]}decorationLineRangeToMinimapLineRange(e,t){let n=this.modelLineToMinimapLine(e),i=this.modelLineToMinimapLine(t);return e!==t&&i===n&&(i===this.minimapLines.length?n>1&&n--:i++),[n,i]}onLinesDeleted(e){const t=e.toLineNumber-e.fromLineNumber+1;let n=this.minimapLines.length,i=0;for(let r=this.minimapLines.length-1;r>=0&&!(this.minimapLines[r]<e.fromLineNumber);r--)this.minimapLines[r]<=e.toLineNumber?(this.minimapLines[r]=Math.max(1,e.fromLineNumber-1),n=Math.min(n,r),i=Math.max(i,r)):this.minimapLines[r]-=t;return[n,i]}onLinesInserted(e){const t=e.toLineNumber-e.fromLineNumber+1;for(let n=this.minimapLines.length-1;n>=0&&!(this.minimapLines[n]<e.fromLineNumber);n--)this.minimapLines[n]+=t}}class J7 extends mQ{constructor(e){super(e),this.tokensColorTracker=j7.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new q7(this._context.configuration,this._context.theme,this.tokensColorTracker);const[t]=Z7.compute(this.options,this._context.model.getLineCount(),null);this._samplingState=t,this._shouldCheckSampling=!1,this._actual=new Q7(e.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const e=new q7(this._context.configuration,this._context.theme,this.tokensColorTracker);return!this.options.equals(e)&&(this.options=e,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(e){return this._onOptionsMaybeChanged()}onCursorStateChanged(e){return this._selections=e.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(e){return!!e.affectsMinimap&&this._actual.onDecorationsChanged()}onFlushed(e){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(e){if(this._samplingState){const t=this._samplingState.modelLineRangeToMinimapLineRange(e.fromLineNumber,e.toLineNumber);return!!t&&this._actual.onLinesChanged(t[0],t[1])}return this._actual.onLinesChanged(e.fromLineNumber,e.toLineNumber)}onLinesDeleted(e){if(this._samplingState){const[t,n]=this._samplingState.onLinesDeleted(e);return t<=n&&this._actual.onLinesChanged(t+1,n+1),this._shouldCheckSampling=!0,!0}return this._actual.onLinesDeleted(e.fromLineNumber,e.toLineNumber)}onLinesInserted(e){return this._samplingState?(this._samplingState.onLinesInserted(e),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(e.fromLineNumber,e.toLineNumber)}onScrollChanged(e){return this._actual.onScrollChanged()}onThemeChanged(e){return this._context.model.invalidateMinimapColorCache(),this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(e){if(this._samplingState){let t=[];for(const n of e.ranges){const e=this._samplingState.modelLineRangeToMinimapLineRange(n.fromLineNumber,n.toLineNumber);e&&t.push({fromLineNumber:e[0],toLineNumber:e[1]})}return!!t.length&&this._actual.onTokensChanged(t)}return this._actual.onTokensChanged(e.ranges)}onTokensColorsChanged(e){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(e){return this._actual.onZonesChanged()}prepareRender(e){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(e){let t=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber;this._samplingState&&(t=this._samplingState.modelLineToMinimapLine(t),n=this._samplingState.modelLineToMinimapLine(n));const i={viewportContainsWhitespaceGaps:e.viewportData.whitespaceViewportData.length>0,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,viewportStartLineNumber:t,viewportEndLineNumber:n,viewportStartLineNumberVerticalOffset:e.getVerticalOffsetForLineNumber(t),scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight};this._actual.render(i)}_recreateLineSampling(){this._minimapSelections=null;const e=Boolean(this._samplingState),[t,n]=Z7.compute(this.options,this._context.model.getLineCount(),this._samplingState);if(this._samplingState=t,e&&this._samplingState)for(const i of n)switch(i.type){case"deleted":this._actual.onLinesDeleted(i.deleteFromLineNumber,i.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(i.insertFromLineNumber,i.insertToLineNumber);break;case"flush":this._actual.onFlushed()}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.model.getLineCount()}getRealLineCount(){return this._context.model.getLineCount()}getLineContent(e){return this._samplingState?this._context.model.getLineContent(this._samplingState.minimapLines[e-1]):this._context.model.getLineContent(e)}getLineMaxColumn(e){return this._samplingState?this._context.model.getLineMaxColumn(this._samplingState.minimapLines[e-1]):this._context.model.getLineMaxColumn(e)}getMinimapLinesRenderingData(e,t,n){if(this._samplingState){let i=[];for(let r=0,o=t-e+1;r<o;r++)n[r]?i[r]=this._context.model.getViewLineData(this._samplingState.minimapLines[e+r-1]):i[r]=null;return i}return this._context.model.getMinimapLinesRenderingData(e,t,n).data}getSelections(){if(null===this._minimapSelections)if(this._samplingState){this._minimapSelections=[];for(const e of this._selections){const[t,n]=this._samplingState.decorationLineRangeToMinimapLineRange(e.startLineNumber,e.endLineNumber);this._minimapSelections.push(new uj(t,e.startColumn,n,e.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(e,t){let n;if(this._samplingState){const i=this._samplingState.minimapLines[e-1],r=this._samplingState.minimapLines[t-1];n=new cj(i,1,r,this._context.model.getLineMaxColumn(r))}else n=new cj(e,1,t,this._context.model.getLineMaxColumn(t));const i=this._context.model.getDecorationsInViewport(n);if(this._samplingState){let e=[];for(const t of i){if(!t.options.minimap)continue;const n=t.range,i=this._samplingState.modelLineToMinimapLine(n.startLineNumber),r=this._samplingState.modelLineToMinimapLine(n.endLineNumber);e.push(new _G(new cj(i,n.startColumn,r,n.endColumn),t.options))}return e}return i}getOptions(){return this._context.model.getTextModelOptions()}revealLineNumber(e){this._samplingState&&(e=this._samplingState.minimapLines[e-1]),this._context.model.revealRange("mouse",!1,new cj(e,1,e,1),1,0)}setScrollTop(e){this._context.model.setScrollPosition({scrollTop:e},1)}}class Q7 extends KP{constructor(e,t){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=e,this._model=t,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(S3),this._domNode=QJ(document.createElement("div")),vQ.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=QJ(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=QJ(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=QJ(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=QJ(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=QJ(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=IV(this._domNode.domNode,"mousedown",(e=>{e.preventDefault();if(0===this._model.options.renderMinimap)return;if(!this._lastRenderData)return;if("proportional"!==this._model.options.size){if(e.leftButton&&this._lastRenderData){const t=qV(this._slider.domNode),n=t.top+t.height/2;this._startSliderDragging(e.buttons,e.posx,n,e.posy,this._lastRenderData.renderedLayout)}return}const t=this._model.options.minimapLineHeight,n=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*e.browserEvent.offsetY;let i=Math.floor(n/t)+this._lastRenderData.renderedLayout.startLineNumber;i=Math.min(i,this._model.getLineCount()),this._model.revealLineNumber(i)})),this._sliderMouseMoveMonitor=new sQ,this._sliderMouseDownListener=IV(this._slider.domNode,"mousedown",(e=>{e.preventDefault(),e.stopPropagation(),e.leftButton&&this._lastRenderData&&this._startSliderDragging(e.buttons,e.posx,e.posy,e.posy,this._lastRenderData.renderedLayout)})),this._gestureDisposable=rQ.addTarget(this._domNode.domNode),this._sliderTouchStartListener=AV(this._domNode.domNode,tQ.Start,(e=>{e.preventDefault(),e.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(e))}),{passive:!1}),this._sliderTouchMoveListener=AV(this._domNode.domNode,tQ.Change,(e=>{e.preventDefault(),e.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(e)}),{passive:!1}),this._sliderTouchEndListener=IV(this._domNode.domNode,tQ.End,(e=>{e.preventDefault(),e.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)}))}_startSliderDragging(e,t,n,i,r){this._slider.toggleClassName("active",!0);const o=(e,i)=>{const o=Math.abs(i-t);if(VR&&o>140)return void this._model.setScrollTop(r.scrollTop);const s=e-n;this._model.setScrollTop(r.getDesiredScrollTopFromDelta(s))};i!==n&&o(i,t),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,e,oQ,(e=>o(e.posy,e.posx)),(()=>{this._slider.toggleClassName("active",!1)}))}scrollDueToTouchEvent(e){const t=this._domNode.domNode.getBoundingClientRect().top,n=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(e.pageY-t);this._model.setScrollTop(n)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return"always"===this._model.options.showSlider?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new X7(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(e,t){return!!this._lastRenderData&&this._lastRenderData.onLinesChanged(e,t)}onLinesDeleted(e,t){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(e,t),!0}onLinesInserted(e,t){return this._lastRenderData&&this._lastRenderData.onLinesInserted(e,t),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(S3),this._renderDecorations=!0,!0}onTokensChanged(e){return!!this._lastRenderData&&this._lastRenderData.onTokensChanged(e)}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(e){if(0===this._model.options.renderMinimap)return this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),void this._sliderHorizontal.setHeight(0);e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const t=K7.create(this._model.options,e.viewportStartLineNumber,e.viewportEndLineNumber,e.viewportStartLineNumberVerticalOffset,e.viewportHeight,e.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(t.sliderNeeded?"block":"none"),this._slider.setTop(t.sliderTop),this._slider.setHeight(t.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(t.sliderHeight),this.renderDecorations(t),this._lastRenderData=this.renderLines(t)}renderDecorations(e){if(this._renderDecorations){this._renderDecorations=!1;const t=this._model.getSelections();t.sort(cj.compareRangesUsingStarts);const n=this._model.getMinimapDecorationsInViewport(e.startLineNumber,e.endLineNumber);n.sort(((e,t)=>(e.options.zIndex||0)-(t.options.zIndex||0)));const{canvasInnerWidth:i,canvasInnerHeight:r}=this._model.options,o=this._model.options.minimapLineHeight,s=this._model.options.minimapCharWidth,a=this._model.getOptions().tabSize,l=this._decorationsCanvas.domNode.getContext("2d");l.clearRect(0,0,i,r);const c=new e9(e.startLineNumber,e.endLineNumber,!1);this._renderSelectionLineHighlights(l,t,c,e,o),this._renderDecorationsLineHighlights(l,n,c,e,o);const u=new e9(e.startLineNumber,e.endLineNumber,null);this._renderSelectionsHighlights(l,t,u,e,o,a,s,i),this._renderDecorationsHighlights(l,n,u,e,o,a,s,i)}}_renderSelectionLineHighlights(e,t,n,i,r){if(!this._selectionColor||this._selectionColor.isTransparent())return;e.fillStyle=this._selectionColor.transparent(.5).toString();let o=0,s=0;for(const a of t){const t=Math.max(i.startLineNumber,a.startLineNumber),l=Math.min(i.endLineNumber,a.endLineNumber);if(t>l)continue;for(let e=t;e<=l;e++)n.set(e,!0);const c=(t-i.startLineNumber)*r,u=(l-i.startLineNumber)*r+r;s>=c||(s>o&&e.fillRect(8,o,e.canvas.width,s-o),o=c),s=u}s>o&&e.fillRect(8,o,e.canvas.width,s-o)}_renderDecorationsLineHighlights(e,t,n,i,r){const o=new Map;for(let s=t.length-1;s>=0;s--){const a=t[s],l=a.options.minimap;if(!l||l.position!==OU.Inline)continue;const c=Math.max(i.startLineNumber,a.range.startLineNumber),u=Math.min(i.endLineNumber,a.range.endLineNumber);if(c>u)continue;const h=l.getColor(this._theme);if(!h||h.isTransparent())continue;let d=o.get(h.toString());d||(d=h.transparent(.5).toString(),o.set(h.toString(),d)),e.fillStyle=d;for(let t=c;t<=u;t++){if(n.has(t))continue;n.set(t,!0);const o=(c-i.startLineNumber)*r;e.fillRect(8,o,e.canvas.width,r)}}}_renderSelectionsHighlights(e,t,n,i,r,o,s,a){if(this._selectionColor&&!this._selectionColor.isTransparent())for(const l of t){const t=Math.max(i.startLineNumber,l.startLineNumber),c=Math.min(i.endLineNumber,l.endLineNumber);if(!(t>c))for(let u=t;u<=c;u++)this.renderDecorationOnLine(e,n,l,this._selectionColor,i,u,r,r,o,s,a)}}_renderDecorationsHighlights(e,t,n,i,r,o,s,a){for(const l of t){const t=l.options.minimap;if(!t)continue;const c=Math.max(i.startLineNumber,l.range.startLineNumber),u=Math.min(i.endLineNumber,l.range.endLineNumber);if(c>u)continue;const h=t.getColor(this._theme);if(h&&!h.isTransparent())for(let d=c;d<=u;d++)switch(t.position){case OU.Inline:this.renderDecorationOnLine(e,n,l.range,h,i,d,r,r,o,s,a);continue;case OU.Gutter:const t=(d-i.startLineNumber)*r,c=2;this.renderDecoration(e,h,c,t,2,r);continue}}}renderDecorationOnLine(e,t,n,i,r,o,s,a,l,c,u){const h=(o-r.startLineNumber)*a;if(h+s<0||h>this._model.options.canvasInnerHeight)return;const{startLineNumber:d,endLineNumber:f}=n,p=d===o?n.startColumn:1,g=f===o?n.endColumn:this._model.getLineMaxColumn(o),m=this.getXOffsetForPosition(t,o,p,l,c,u),v=this.getXOffsetForPosition(t,o,g,l,c,u);this.renderDecoration(e,i,m,h,v-m,s)}getXOffsetForPosition(e,t,n,i,r,o){if(1===n)return 8;if((n-1)*r>=o)return o;let s=e.get(t);if(!s){const n=this._model.getLineContent(t);s=[8];let a=8;for(let e=1;e<n.length+1;e++){const t=n.charCodeAt(e-1),l=a+(9===t?i*r:lH(t)?2*r:r);if(l>=o){s[e]=o;break}s[e]=l,a=l}e.set(t,s)}return n-1<s.length?s[n-1]:o}renderDecoration(e,t,n,i,r,o){e.fillStyle=t&&t.toString()||"",e.fillRect(n,i,r,o)}renderLines(e){const t=e.startLineNumber,n=e.endLineNumber,i=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){const t=this._lastRenderData._get();return new G7(e,t.imageData,t.lines)}const r=this._getBuffer();if(!r)return null;let[o,s,a]=Q7._renderUntouchedLines(r,t,n,i,this._lastRenderData);const l=this._model.getMinimapLinesRenderingData(t,n,a),c=this._model.getOptions().tabSize,u=this._model.options.defaultBackgroundColor,h=this._model.options.backgroundColor,d=this._model.options.foregroundAlpha,f=this._model.tokensColorTracker,p=f.backgroundIsLight(),g=this._model.options.renderMinimap,m=this._model.options.charRenderer(),v=this._model.options.fontScale,y=this._model.options.minimapCharWidth,b=(1===g?2:3)*v,_=i>b?Math.floor((i-b)/2):0,w=h.a/255,C=new B7(Math.round((h.r-u.r)*w+u.r),Math.round((h.g-u.g)*w+u.g),Math.round((h.b-u.b)*w+u.b),255);let x=0;const k=[];for(let E=0,L=n-t+1;E<L;E++)a[E]&&Q7._renderLine(r,C,h.a,p,g,y,f,d,m,x,_,c,l[E],v,i),k[E]=new Y7(x),x+=i;const S=-1===o?0:o,D=(-1===s?r.height:s)-S;return this._canvas.domNode.getContext("2d").putImageData(r,0,0,0,S,r.width,D),new G7(e,r,k)}static _renderUntouchedLines(e,t,n,i,r){const o=[];if(!r){for(let e=0,i=n-t+1;e<i;e++)o[e]=!0;return[-1,-1,o]}const s=r._get(),a=s.imageData.data,l=s.rendLineNumberStart,c=s.lines,u=c.length,h=e.width,d=e.data,f=(n-t+1)*i*h*4;let p=-1,g=-1,m=-1,v=-1,y=-1,b=-1,_=0;for(let w=t;w<=n;w++){const e=w-t,n=w-l,r=n>=0&&n<u?c[n].dy:-1;if(-1===r){o[e]=!0,_+=i;continue}const s=r*h*4,C=(r+i)*h*4,x=_*h*4,k=(_+i)*h*4;v===s&&b===x?(v=C,b=k):(-1!==m&&(d.set(a.subarray(m,v),y),-1===p&&0===m&&m===y&&(p=v),-1===g&&v===f&&m===y&&(g=m)),m=s,v=C,y=x,b=k),o[e]=!1,_+=i}-1!==m&&(d.set(a.subarray(m,v),y),-1===p&&0===m&&m===y&&(p=v),-1===g&&v===f&&m===y&&(g=m));return[-1===p?-1:p/(4*h),-1===g?-1:g/(4*h),o]}static _renderLine(e,t,n,i,r,o,s,a,l,c,u,h,d,f,p){const g=d.content,m=d.tokens,v=e.width-o,y=1===p;let b=8,_=0,w=0;for(let C=0,x=m.getCount();C<x;C++){const d=m.getEndOffset(C),p=m.getForeground(C),x=s.getColor(p);for(;_<d;_++){if(b>v)return;const s=g.charCodeAt(_);if(9===s){const e=h-(_+w)%h;w+=e-1,b+=e*o}else if(32===s)b+=o;else{const h=lH(s)?2:1;for(let d=0;d<h;d++)if(2===r?l.blockRenderChar(e,b,c+u,x,a,t,n,y):l.renderChar(e,b,c+u,s,x,a,t,n,f,i,y),b+=o,b>v)return}}}}}class e9{constructor(e,t,n){this._startLineNumber=e,this._endLineNumber=t,this._defaultValue=n,this._values=[];for(let i=0,r=this._endLineNumber-this._startLineNumber+1;i<r;i++)this._values[i]=n}has(e){return this.get(e)!==this._defaultValue}set(e,t){e<this._startLineNumber||e>this._endLineNumber||(this._values[e-this._startLineNumber]=t)}get(e){return e<this._startLineNumber||e>this._endLineNumber?this._defaultValue:this._values[e-this._startLineNumber]}}vJ(((e,t)=>{const n=e.getColor(N3);n&&t.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${n}; }`);const i=e.getColor(M3);i&&t.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${i}; }`);const r=e.getColor(A3);r&&t.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${r}; }`);const o=e.getColor(Q2);o&&t.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${o} -6px 0 6px -6px inset; }`)}));class t9 extends mQ{constructor(e){super(e);const t=this._context.configuration.options.get(129);this._widgets={},this._verticalScrollbarWidth=t.verticalScrollbarWidth,this._minimapWidth=t.minimap.minimapWidth,this._horizontalScrollbarHeight=t.horizontalScrollbarHeight,this._editorHeight=t.height,this._editorWidth=t.width,this._domNode=QJ(document.createElement("div")),vQ.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(e){const t=this._context.configuration.options.get(129);return this._verticalScrollbarWidth=t.verticalScrollbarWidth,this._minimapWidth=t.minimap.minimapWidth,this._horizontalScrollbarHeight=t.horizontalScrollbarHeight,this._editorHeight=t.height,this._editorWidth=t.width,!0}addWidget(e){const t=QJ(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:t},t.setPosition("absolute"),t.setAttribute("widgetId",e.getId()),this._domNode.appendChild(t),this.setShouldRender()}setWidgetPosition(e,t){const n=this._widgets[e.getId()];return n.preference!==t&&(n.preference=t,this.setShouldRender(),!0)}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const e=this._widgets[t].domNode.domNode;delete this._widgets[t],e.parentNode.removeChild(e),this.setShouldRender()}}_renderWidget(e){const t=e.domNode;if(null!==e.preference)if(0===e.preference)t.setTop(0),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(1===e.preference){const e=t.domNode.clientHeight;t.setTop(this._editorHeight-e-2*this._horizontalScrollbarHeight),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else 2===e.preference&&(t.setTop(0),t.domNode.style.right="50%");else t.unsetTop()}prepareRender(e){}render(e){this._domNode.setWidth(this._editorWidth);const t=Object.keys(this._widgets);for(let n=0,i=t.length;n<i;n++){const e=t[n];this._renderWidget(this._widgets[e])}}}class n9{constructor(e,t){const n=e.options;this.lineHeight=n.get(58),this.pixelRatio=n.get(127),this.overviewRulerLanes=n.get(73),this.renderBorder=n.get(72);const i=t.getColor(i5);this.borderColor=i?i.toString():null,this.hideCursor=n.get(51);const r=t.getColor(Y3);this.cursorColor=r?r.transparent(.7).toString():null,this.themeType=t.type;const o=n.get(64),s=o.enabled,a=o.side,l=s?t.getColor(r5)||rq.getDefaultBackground():null;this.backgroundColor=null===l||"left"===a?null:C1.Format.CSS.formatHex(l);const c=n.get(129).overviewRuler;this.top=c.top,this.right=c.right,this.domWidth=c.width,this.domHeight=c.height,0===this.overviewRulerLanes?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[u,h]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=u,this.w=h}_initLanes(e,t,n){const i=t-e;if(n>=3){const t=Math.floor(i/3),n=Math.floor(i/3),r=i-t-n,o=e+t;return[[0,e,o,e,e+t+r,e,o,e],[0,t,r,t+r,n,t+r+n,r+n,t+r+n]]}if(2===n){const t=Math.floor(i/2),n=i-t;return[[0,e,e,e,e+t,e,e,e],[0,t,t,t,n,t+n,t+n,t+n]]}return[[0,e,e,e,e,e,e,e],[0,i,i,i,i,i,i,i]]}equals(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&this.backgroundColor===e.backgroundColor&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight}}class i9 extends mQ{constructor(e){super(e),this._domNode=QJ(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=rq.onDidChange((e=>{e.changedColorMap&&this._updateSettings(!0)})),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(e){const t=new n9(this._context.configuration,this._context.theme);return(!this._settings||!this._settings.equals(t))&&(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),!0)}onConfigurationChanged(e){return this._updateSettings(!1)}onCursorStateChanged(e){this._cursorPositions=[];for(let t=0,n=e.selections.length;t<n;t++)this._cursorPositions[t]=e.selections[t].getPosition();return this._cursorPositions.sort(lj.compare),!0}onDecorationsChanged(e){return!!e.affectsOverviewRuler}onFlushed(e){return!0}onScrollChanged(e){return e.scrollHeightChanged}onZonesChanged(e){return!0}onThemeChanged(e){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(e){}render(e){this._render()}_render(){if(0===this._settings.overviewRulerLanes)return void this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:"");const e=this._settings.canvasWidth,t=this._settings.canvasHeight,n=this._settings.lineHeight,i=this._context.viewLayout,r=t/this._context.viewLayout.getScrollHeight(),o=this._context.model.getAllOverviewRulerDecorations(this._context.theme),s=6*this._settings.pixelRatio|0,a=s/2|0,l=this._domNode.domNode.getContext("2d");null===this._settings.backgroundColor?l.clearRect(0,0,e,t):(l.fillStyle=this._settings.backgroundColor,l.fillRect(0,0,e,t));const c=this._settings.x,u=this._settings.w;o.sort(wG.cmp);for(const h of o){const e=h.color,o=h.data;l.fillStyle=e;let d=0,f=0,p=0;for(let h=0,g=o.length/3;h<g;h++){const e=o[3*h],g=o[3*h+1],m=o[3*h+2];let v=i.getVerticalOffsetForLineNumber(g)*r|0,y=(i.getVerticalOffsetForLineNumber(m)+n)*r|0;if(y-v<s){let e=(v+y)/2|0;e<a?e=a:e+a>t&&(e=t-a),v=e-a,y=e+a}v>p+1||e!==d?(0!==h&&l.fillRect(c[d],f,u[d],p-f),d=e,f=v,p=y):y>p&&(p=y)}l.fillRect(c[d],f,u[d],p-f)}if(!this._settings.hideCursor&&this._settings.cursorColor){const e=2*this._settings.pixelRatio|0,n=e/2|0,o=this._settings.x[7],s=this._settings.w[7];l.fillStyle=this._settings.cursorColor;let a=-100,c=-100;for(let u=0,h=this._cursorPositions.length;u<h;u++){const h=this._cursorPositions[u];let d=i.getVerticalOffsetForLineNumber(h.lineNumber)*r|0;d<n?d=n:d+n>t&&(d=t-n);const f=d-n,p=f+e;f>c+1?(0!==u&&l.fillRect(o,a,s,c-a),a=f,c=p):p>c&&(c=p)}l.fillRect(o,a,s,c-a)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(l.beginPath(),l.lineWidth=1,l.strokeStyle=this._settings.borderColor,l.moveTo(0,0),l.lineTo(0,t),l.stroke(),l.moveTo(0,0),l.lineTo(e,0),l.stroke())}}class r9{constructor(e,t,n){this._colorZoneBrand=void 0,this.from=0|e,this.to=0|t,this.colorId=0|n}static compare(e,t){return e.colorId===t.colorId?e.from===t.from?e.to-t.to:e.from-t.from:e.colorId-t.colorId}}class o9{constructor(e,t,n){this._overviewRulerZoneBrand=void 0,this.startLineNumber=e,this.endLineNumber=t,this.color=n,this._colorZone=null}static compare(e,t){return e.color===t.color?e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber:e.color<t.color?-1:1}setColorZone(e){this._colorZone=e}getColorZones(){return this._colorZone}}class s9{constructor(e){this._getVerticalOffsetForLine=e,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(e){this._zones=e,this._zones.sort(o9.compare)}setLineHeight(e){return this._lineHeight!==e&&(this._lineHeight=e,this._colorZonesInvalid=!0,!0)}setPixelRatio(e){this._pixelRatio=e,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(e){return this._domWidth!==e&&(this._domWidth=e,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(e){return this._domHeight!==e&&(this._domHeight=e,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(e){return this._outerHeight!==e&&(this._outerHeight=e,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const e=this._colorZonesInvalid,t=Math.floor(this._lineHeight),n=Math.floor(this.getCanvasHeight()),i=n/Math.floor(this._outerHeight),r=Math.floor(4*this._pixelRatio/2);let o=[];for(let s=0,a=this._zones.length;s<a;s++){const a=this._zones[s];if(!e){const e=a.getColorZones();if(e){o.push(e);continue}}const l=Math.floor(i*this._getVerticalOffsetForLine(a.startLineNumber)),c=Math.floor(i*(this._getVerticalOffsetForLine(a.endLineNumber)+t));let u=Math.floor((l+c)/2),h=c-u;h<r&&(h=r),u-h<0&&(u=h),u+h>n&&(u=n-h);const d=a.color;let f=this._color2Id[d];f||(f=++this._lastAssignedId,this._color2Id[d]=f,this._id2Color[f]=d);const p=new r9(u-h,u+h,f);a.setColorZone(p),o.push(p)}return this._colorZonesInvalid=!1,o.sort(r9.compare),o}}class a9 extends gQ{constructor(e,t){super(),this._context=e;const n=this._context.configuration.options;this._domNode=QJ(document.createElement("canvas")),this._domNode.setClassName(t),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new s9((e=>this._context.viewLayout.getVerticalOffsetForLineNumber(e))),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(n.get(58)),this._zoneManager.setPixelRatio(n.get(127)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return e.hasChanged(58)&&(this._zoneManager.setLineHeight(t.get(58)),this._render()),e.hasChanged(127)&&(this._zoneManager.setPixelRatio(t.get(127)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(e){return this._render(),!0}onScrollChanged(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0}onZonesChanged(e){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);let t=!1;t=this._zoneManager.setDOMWidth(e.width)||t,t=this._zoneManager.setDOMHeight(e.height)||t,t&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(e){this._zoneManager.setZones(e),this._render()}_render(){if(0===this._zoneManager.getOuterHeight())return!1;const e=this._zoneManager.getCanvasWidth(),t=this._zoneManager.getCanvasHeight(),n=this._zoneManager.resolveColorZones(),i=this._zoneManager.getId2Color(),r=this._domNode.domNode.getContext("2d");return r.clearRect(0,0,e,t),n.length>0&&this._renderOneLane(r,n,i,e),!0}_renderOneLane(e,t,n,i){let r=0,o=0,s=0;for(const a of t){const t=a.colorId,l=a.from,c=a.to;t!==r?(e.fillRect(0,o,i,s-o),r=t,e.fillStyle=n[r],o=l,s=c):s>=l?s=Math.max(s,c):(e.fillRect(0,o,i,s-o),o=l,s=c)}e.fillRect(0,o,i,s-o)}}class l9 extends mQ{constructor(e){super(e),this.domNode=QJ(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const t=this._context.configuration.options;this._rulers=t.get(90),this._typicalHalfwidthCharacterWidth=t.get(43).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._rulers=t.get(90),this._typicalHalfwidthCharacterWidth=t.get(43).typicalHalfwidthCharacterWidth,!0}onScrollChanged(e){return e.scrollHeightChanged}prepareRender(e){}_ensureRulersCount(){const e=this._renderedRulers.length,t=this._rulers.length;if(e===t)return;if(e<t){const{tabSize:n}=this._context.model.getTextModelOptions(),i=n;let r=t-e;for(;r>0;){const e=QJ(document.createElement("div"));e.setClassName("view-ruler"),e.setWidth(i),this.domNode.appendChild(e),this._renderedRulers.push(e),r--}return}let n=e-t;for(;n>0;){const e=this._renderedRulers.pop();this.domNode.removeChild(e),n--}}render(e){this._ensureRulersCount();for(let t=0,n=this._rulers.length;t<n;t++){const n=this._renderedRulers[t],i=this._rulers[t];n.setBoxShadow(i.color?`1px 0 0 0 ${i.color} inset`:""),n.setHeight(Math.min(e.scrollHeight,1e6)),n.setLeft(i.column*this._typicalHalfwidthCharacterWidth)}}}vJ(((e,t)=>{const n=e.getColor(n5);n&&t.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${n} inset; }`)}));class c9 extends mQ{constructor(e){super(e),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const t=this._context.configuration.options.get(91);this._useShadows=t.useShadows,this._domNode=QJ(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e&&(this._shouldShow=e,!0)}getDomNode(){return this._domNode}_updateWidth(){const e=this._context.configuration.options.get(129);0===e.minimap.renderMinimap||e.minimap.minimapWidth>0&&0===e.minimap.minimapLeft?this._width=e.width:this._width=e.width-e.minimap.minimapWidth-e.verticalScrollbarWidth}onConfigurationChanged(e){const t=this._context.configuration.options.get(91);return this._useShadows=t.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()}prepareRender(e){}render(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}vJ(((e,t)=>{const n=e.getColor(Q2);n&&t.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${n} 0 6px 6px -6px inset; }`)}));class u9{constructor(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}}class h9{constructor(e,t){this.lineNumber=e,this.ranges=t}}function d9(e){return new u9(e)}function f9(e){return new h9(e.lineNumber,e.ranges.map(d9))}class p9 extends G6{constructor(e){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=e;const t=this._context.configuration.options;this._lineHeight=t.get(58),this._roundedSelection=t.get(89),this._typicalHalfwidthCharacterWidth=t.get(43).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._lineHeight=t.get(58),this._roundedSelection=t.get(89),this._typicalHalfwidthCharacterWidth=t.get(43).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_visibleRangesHaveGaps(e){for(let t=0,n=e.length;t<n;t++){if(e[t].ranges.length>1)return!0}return!1}_enrichVisibleRangesWithStyle(e,t,n){const i=this._typicalHalfwidthCharacterWidth/4;let r=null,o=null;if(n&&n.length>0&&t.length>0){const i=t[0].lineNumber;if(i===e.startLineNumber)for(let e=0;!r&&e<n.length;e++)n[e].lineNumber===i&&(r=n[e].ranges[0]);const s=t[t.length-1].lineNumber;if(s===e.endLineNumber)for(let e=n.length-1;!o&&e>=0;e--)n[e].lineNumber===s&&(o=n[e].ranges[0]);r&&!r.startStyle&&(r=null),o&&!o.startStyle&&(o=null)}for(let s=0,a=t.length;s<a;s++){const e=t[s].ranges[0],n=e.left,l=e.left+e.width,c={top:0,bottom:0},u={top:0,bottom:0};if(s>0){const e=t[s-1].ranges[0].left,r=t[s-1].ranges[0].left+t[s-1].ranges[0].width;g9(n-e)<i?c.top=2:n>e&&(c.top=1),g9(l-r)<i?u.top=2:e<l&&l<r&&(u.top=1)}else r&&(c.top=r.startStyle.top,u.top=r.endStyle.top);if(s+1<a){const e=t[s+1].ranges[0].left,r=t[s+1].ranges[0].left+t[s+1].ranges[0].width;g9(n-e)<i?c.bottom=2:e<n&&n<r&&(c.bottom=1),g9(l-r)<i?u.bottom=2:l<r&&(u.bottom=1)}else o&&(c.bottom=o.startStyle.bottom,u.bottom=o.endStyle.bottom);e.startStyle=c,e.endStyle=u}}_getVisibleRangesWithStyle(e,t,n){const i=(t.linesVisibleRangesForRange(e,!0)||[]).map(f9);return!this._visibleRangesHaveGaps(i)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(t.visibleRange,i,n),i}_createSelectionPiece(e,t,n,i,r){return'<div class="cslr '+n+'" style="top:'+e.toString()+"px;left:"+i.toString()+"px;width:"+r.toString()+"px;height:"+t+'px;"></div>'}_actualRenderOneSelection(e,t,n,i){if(0===i.length)return;const r=!!i[0].ranges[0].startStyle,o=this._lineHeight.toString(),s=(this._lineHeight-1).toString(),a=i[0].lineNumber,l=i[i.length-1].lineNumber;for(let c=0,u=i.length;c<u;c++){const u=i[c],h=u.lineNumber,d=h-t,f=n&&(h===l||h===a)?s:o,p=n&&h===a?1:0;let g="",m="";for(let e=0,t=u.ranges.length;e<t;e++){const t=u.ranges[e];if(r){const e=t.startStyle,n=t.endStyle;if(1===e.top||1===e.bottom){g+=this._createSelectionPiece(p,f,p9.SELECTION_CLASS_NAME,t.left-p9.ROUNDED_PIECE_WIDTH,p9.ROUNDED_PIECE_WIDTH);let n=p9.EDITOR_BACKGROUND_CLASS_NAME;1===e.top&&(n+=" "+p9.SELECTION_TOP_RIGHT),1===e.bottom&&(n+=" "+p9.SELECTION_BOTTOM_RIGHT),g+=this._createSelectionPiece(p,f,n,t.left-p9.ROUNDED_PIECE_WIDTH,p9.ROUNDED_PIECE_WIDTH)}if(1===n.top||1===n.bottom){g+=this._createSelectionPiece(p,f,p9.SELECTION_CLASS_NAME,t.left+t.width,p9.ROUNDED_PIECE_WIDTH);let e=p9.EDITOR_BACKGROUND_CLASS_NAME;1===n.top&&(e+=" "+p9.SELECTION_TOP_LEFT),1===n.bottom&&(e+=" "+p9.SELECTION_BOTTOM_LEFT),g+=this._createSelectionPiece(p,f,e,t.left+t.width,p9.ROUNDED_PIECE_WIDTH)}}let n=p9.SELECTION_CLASS_NAME;if(r){const e=t.startStyle,i=t.endStyle;0===e.top&&(n+=" "+p9.SELECTION_TOP_LEFT),0===e.bottom&&(n+=" "+p9.SELECTION_BOTTOM_LEFT),0===i.top&&(n+=" "+p9.SELECTION_TOP_RIGHT),0===i.bottom&&(n+=" "+p9.SELECTION_BOTTOM_RIGHT)}m+=this._createSelectionPiece(p,f,n,t.left,t.width)}e[d][0]+=g,e[d][1]+=m}}prepareRender(e){const t=[],n=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber;for(let o=n;o<=i;o++){t[o-n]=["",""]}const r=[];for(let o=0,s=this._selections.length;o<s;o++){const i=this._selections[o];if(i.isEmpty()){r[o]=null;continue}const s=this._getVisibleRangesWithStyle(i,e,this._previousFrameVisibleRangesWithStyle[o]);r[o]=s,this._actualRenderOneSelection(t,n,this._selections.length>1,s)}this._previousFrameVisibleRangesWithStyle=r,this._renderResult=t.map((([e,t])=>e+t))}render(e,t){if(!this._renderResult)return"";const n=t-e;return n<0||n>=this._renderResult.length?"":this._renderResult[n]}}function g9(e){return e<0?-e:e}p9.SELECTION_CLASS_NAME="selected-text",p9.SELECTION_TOP_LEFT="top-left-radius",p9.SELECTION_BOTTOM_LEFT="bottom-left-radius",p9.SELECTION_TOP_RIGHT="top-right-radius",p9.SELECTION_BOTTOM_RIGHT="bottom-right-radius",p9.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",p9.ROUNDED_PIECE_WIDTH=10,vJ(((e,t)=>{const n=e.getColor(T4);n&&t.addRule(`.monaco-editor .focused .selected-text { background-color: ${n}; }`);const i=e.getColor(M4);i&&t.addRule(`.monaco-editor .selected-text { background-color: ${i}; }`);const r=e.getColor(N4);r&&!r.isTransparent()&&t.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${r}; }`)}));class m9{constructor(e,t,n,i,r,o){this.top=e,this.left=t,this.width=n,this.height=i,this.textContent=r,this.textContentClassName=o}}class v9{constructor(e){this._context=e;const t=this._context.configuration.options,n=t.get(43);this._cursorStyle=t.get(24),this._lineHeight=t.get(58),this._typicalHalfwidthCharacterWidth=n.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=QJ(document.createElement("div")),this._domNode.setClassName("cursor monaco-mouse-cursor-text"),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),ZJ.applyFontInfo(this._domNode,n),this._domNode.setDisplay("none"),this._position=new lj(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(e){const t=this._context.configuration.options,n=t.get(43);return this._cursorStyle=t.get(24),this._lineHeight=t.get(58),this._typicalHalfwidthCharacterWidth=n.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(27),this._typicalHalfwidthCharacterWidth),ZJ.applyFontInfo(this._domNode,n),!0}onCursorPositionChanged(e){return this._position=e,!0}_prepareRender(e){let t="";if(this._cursorStyle===bP.Line||this._cursorStyle===bP.LineThin){const n=e.visibleRangeForPosition(this._position);if(!n||n.outsideRenderedLine)return null;let i;if(this._cursorStyle===bP.Line){if(i=kW(this._lineCursorWidth>0?this._lineCursorWidth:2),i>2){const e=this._context.model.getLineContent(this._position.lineNumber),n=eH(e,this._position.column-1);t=e.substr(this._position.column-1,n)}}else i=kW(1);let r=n.left;i>=2&&r>=1&&(r-=1);const o=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta;return new m9(o,r,i,this._lineHeight,t,"")}const n=this._context.model.getLineContent(this._position.lineNumber),i=eH(n,this._position.column-1),r=e.linesVisibleRangesForRange(new cj(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+i),!1);if(!r||0===r.length)return null;const o=r[0];if(o.outsideRenderedLine||0===o.ranges.length)return null;const s=o.ranges[0],a=s.width<1?this._typicalHalfwidthCharacterWidth:s.width;let l="";if(this._cursorStyle===bP.Block){const e=this._context.model.getViewLineData(this._position.lineNumber);t=n.substr(this._position.column-1,i);const r=e.tokens.findTokenIndexAtOffset(this._position.column-1);l=e.tokens.getClassName(r)}let c=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta,u=this._lineHeight;return this._cursorStyle!==bP.Underline&&this._cursorStyle!==bP.UnderlineThin||(c+=this._lineHeight-2,u=2),new m9(c,s.left,a,u,t,l)}prepareRender(e){this._renderData=this._prepareRender(e)}render(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor monaco-mouse-cursor-text ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}class y9 extends mQ{constructor(e){super(e);const t=this._context.configuration.options;this._readOnly=t.get(80),this._cursorBlinking=t.get(22),this._cursorStyle=t.get(24),this._cursorSmoothCaretAnimation=t.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new v9(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=QJ(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new vV,this._cursorFlatBlinkInterval=new yV,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(e){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(e){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(e){const t=this._context.configuration.options;this._readOnly=t.get(80),this._cursorBlinking=t.get(22),this._cursorStyle=t.get(24),this._cursorSmoothCaretAnimation=t.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(let n=0,i=this._secondaryCursors.length;n<i;n++)this._secondaryCursors[n].onConfigurationChanged(e);return!0}_onCursorPositionChanged(e,t){if(this._primaryCursor.onCursorPositionChanged(e),this._updateBlinking(),this._secondaryCursors.length<t.length){const e=t.length-this._secondaryCursors.length;for(let t=0;t<e;t++){const e=new v9(this._context);this._domNode.domNode.insertBefore(e.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(e)}}else if(this._secondaryCursors.length>t.length){const e=this._secondaryCursors.length-t.length;for(let t=0;t<e;t++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let n=0;n<t.length;n++)this._secondaryCursors[n].onCursorPositionChanged(t[n])}onCursorStateChanged(e){const t=[];for(let i=0,r=e.selections.length;i<r;i++)t[i]=e.selections[i].getPosition();this._onCursorPositionChanged(t[0],t.slice(1));const n=e.selections[0].isEmpty();return this._selectionIsEmpty!==n&&(this._selectionIsEmpty=n,this._updateDomClassName()),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onFocusChanged(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onTokensChanged(e){const t=t=>{for(let n=0,i=e.ranges.length;n<i;n++)if(e.ranges[n].fromLineNumber<=t.lineNumber&&t.lineNumber<=e.ranges[n].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(const n of this._secondaryCursors)if(t(n.getPosition()))return!0;return!1}onZonesChanged(e){return!0}_getCursorBlinking(){return this._isComposingInput?0:this._editorHasFocus?this._readOnly?5:this._cursorBlinking:0}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const e=this._getCursorBlinking(),t=0===e,n=5===e;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),t||n||(1===e?this._cursorFlatBlinkInterval.cancelAndSet((()=>{this._isVisible?this._hide():this._show()}),y9.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet((()=>{this._blinkingEnabled=!0,this._updateDomClassName()}),y9.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case bP.Line:e+=" cursor-line-style";break;case bP.Block:e+=" cursor-block-style";break;case bP.Underline:e+=" cursor-underline-style";break;case bP.LineThin:e+=" cursor-line-thin-style";break;case bP.BlockOutline:e+=" cursor-block-outline-style";break;case bP.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:e+=" cursor-blink";break;case 2:e+=" cursor-smooth";break;case 3:e+=" cursor-phase";break;case 4:e+=" cursor-expand";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(e+=" cursor-smooth-caret-animation"),e}_show(){this._primaryCursor.show();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].hide();this._isVisible=!1}prepareRender(e){this._primaryCursor.prepareRender(e);for(let t=0,n=this._secondaryCursors.length;t<n;t++)this._secondaryCursors[t].prepareRender(e)}render(e){let t=[],n=0;const i=this._primaryCursor.render(e);i&&(t[n++]=i);for(let r=0,o=this._secondaryCursors.length;r<o;r++){const i=this._secondaryCursors[r].render(e);i&&(t[n++]=i)}this._renderData=t}getLastRenderData(){return this._renderData}}y9.BLINK_INTERVAL=500,vJ(((e,t)=>{const n=e.getColor(Y3);if(n){let i=e.getColor(G3);i||(i=n.opposite()),t.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${n}; border-color: ${n}; color: ${i}; }`),"hc"===e.type&&t.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${i}; border-right: 1px solid ${i}; }`)}}));const b9=()=>{throw new Error("Invalid change accessor")};class _9 extends mQ{constructor(e){super(e);const t=this._context.configuration.options,n=t.get(129);this._lineHeight=t.get(58),this._contentWidth=n.contentWidth,this._contentLeft=n.contentLeft,this.domNode=QJ(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=QJ(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const e=this._context.viewLayout.getWhitespaces(),t=new Map;for(const i of e)t.set(i.id,i);let n=!1;return this._context.model.changeWhitespace((e=>{const i=Object.keys(this._zones);for(let r=0,o=i.length;r<o;r++){const o=i[r],s=this._zones[o],a=this._computeWhitespaceProps(s.delegate);s.isInHiddenArea=a.isInHiddenArea;const l=t.get(o);!l||l.afterLineNumber===a.afterViewLineNumber&&l.height===a.heightInPx||(e.changeOneWhitespace(o,a.afterViewLineNumber,a.heightInPx),this._safeCallOnComputedHeight(s.delegate,a.heightInPx),n=!0)}})),n}onConfigurationChanged(e){const t=this._context.configuration.options,n=t.get(129);return this._lineHeight=t.get(58),this._contentWidth=n.contentWidth,this._contentLeft=n.contentLeft,e.hasChanged(58)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(e){return this._recomputeWhitespacesProps()}onLinesDeleted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}onLinesInserted(e){return!0}_getZoneOrdinal(e){return void 0!==e.afterColumn?e.afterColumn:1e4}_computeWhitespaceProps(e){if(0===e.afterLineNumber)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};let t,n;if(void 0!==e.afterColumn)t=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{const n=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;t=new lj(n,this._context.model.getModelLineMaxColumn(n))}n=t.column===this._context.model.getModelLineMaxColumn(t.lineNumber)?this._context.model.validateModelPosition({lineNumber:t.lineNumber+1,column:1}):this._context.model.validateModelPosition({lineNumber:t.lineNumber,column:t.column+1});const i=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(t),r=this._context.model.coordinatesConverter.modelPositionIsVisible(n);return{isInHiddenArea:!r,afterViewLineNumber:i.lineNumber,heightInPx:r?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}}changeViewZones(e){let t=!1;return this._context.model.changeWhitespace((n=>{const i={addZone:e=>(t=!0,this._addZone(n,e)),removeZone:e=>{e&&(t=this._removeZone(n,e)||t)},layoutZone:e=>{e&&(t=this._layoutZone(n,e)||t)}};!function(e,t){try{e(t)}catch(nR){IP(nR)}}(e,i),i.addZone=b9,i.removeZone=b9,i.layoutZone=b9})),t}_addZone(e,t){const n=this._computeWhitespaceProps(t),i={whitespaceId:e.insertWhitespace(n.afterViewLineNumber,this._getZoneOrdinal(t),n.heightInPx,n.minWidthInPx),delegate:t,isInHiddenArea:n.isInHiddenArea,isVisible:!1,domNode:QJ(t.domNode),marginDomNode:t.marginDomNode?QJ(t.marginDomNode):null};return this._safeCallOnComputedHeight(i.delegate,n.heightInPx),i.domNode.setPosition("absolute"),i.domNode.domNode.style.width="100%",i.domNode.setDisplay("none"),i.domNode.setAttribute("monaco-view-zone",i.whitespaceId),this.domNode.appendChild(i.domNode),i.marginDomNode&&(i.marginDomNode.setPosition("absolute"),i.marginDomNode.domNode.style.width="100%",i.marginDomNode.setDisplay("none"),i.marginDomNode.setAttribute("monaco-view-zone",i.whitespaceId),this.marginDomNode.appendChild(i.marginDomNode)),this._zones[i.whitespaceId]=i,this.setShouldRender(),i.whitespaceId}_removeZone(e,t){if(this._zones.hasOwnProperty(t)){const n=this._zones[t];return delete this._zones[t],e.removeWhitespace(n.whitespaceId),n.domNode.removeAttribute("monaco-visible-view-zone"),n.domNode.removeAttribute("monaco-view-zone"),n.domNode.domNode.parentNode.removeChild(n.domNode.domNode),n.marginDomNode&&(n.marginDomNode.removeAttribute("monaco-visible-view-zone"),n.marginDomNode.removeAttribute("monaco-view-zone"),n.marginDomNode.domNode.parentNode.removeChild(n.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(e,t){if(this._zones.hasOwnProperty(t)){const n=this._zones[t],i=this._computeWhitespaceProps(n.delegate);return n.isInHiddenArea=i.isInHiddenArea,e.changeOneWhitespace(n.whitespaceId,i.afterViewLineNumber,i.heightInPx),this._safeCallOnComputedHeight(n.delegate,i.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(e){if(this._zones.hasOwnProperty(e)){const t=this._zones[e];return Boolean(t.delegate.suppressMouseDown)}return!1}_heightInPixels(e){return"number"==typeof e.heightInPx?e.heightInPx:"number"==typeof e.heightInLines?this._lineHeight*e.heightInLines:this._lineHeight}_minWidthInPixels(e){return"number"==typeof e.minWidthInPx?e.minWidthInPx:0}_safeCallOnComputedHeight(e,t){if("function"==typeof e.onComputedHeight)try{e.onComputedHeight(t)}catch(nR){IP(nR)}}_safeCallOnDomNodeTop(e,t){if("function"==typeof e.onDomNodeTop)try{e.onDomNodeTop(t)}catch(nR){IP(nR)}}prepareRender(e){}render(e){const t=e.viewportData.whitespaceViewportData,n={};let i=!1;for(const o of t)this._zones[o.id].isInHiddenArea||(n[o.id]=o,i=!0);const r=Object.keys(this._zones);for(let o=0,s=r.length;o<s;o++){const t=r[o],i=this._zones[t];let s=0,a=0,l="none";n.hasOwnProperty(t)?(s=n[t].verticalOffset-e.bigNumbersDelta,a=n[t].height,l="block",i.isVisible||(i.domNode.setAttribute("monaco-visible-view-zone","true"),i.isVisible=!0),this._safeCallOnDomNodeTop(i.delegate,e.getScrolledTopFromAbsoluteTop(n[t].verticalOffset))):(i.isVisible&&(i.domNode.removeAttribute("monaco-visible-view-zone"),i.isVisible=!1),this._safeCallOnDomNodeTop(i.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),i.domNode.setTop(s),i.domNode.setHeight(a),i.domNode.setDisplay(l),i.marginDomNode&&(i.marginDomNode.setTop(s),i.marginDomNode.setHeight(a),i.marginDomNode.setDisplay(l))}i&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}class w9{constructor(e){this._theme=e}get type(){return this._theme.type}update(e){this._theme=e}getColor(e){return this._theme.getColor(e)}}class C9{constructor(e,t,n){this.configuration=e,this.theme=new w9(t),this.model=n,this.viewLayout=n.viewLayout}addEventHandler(e){this.model.addViewEventHandler(e)}removeEventHandler(e){this.model.removeViewEventHandler(e)}}class x9{constructor(e,t,n,i){this.selections=e,this.startLineNumber=0|t.startLineNumber,this.endLineNumber=0|t.endLineNumber,this.relativeVerticalOffset=t.relativeVerticalOffset,this.bigNumbersDelta=0|t.bigNumbersDelta,this.whitespaceViewportData=n,this._model=i,this.visibleRange=new cj(t.startLineNumber,this._model.getLineMinColumn(t.startLineNumber),t.endLineNumber,this._model.getLineMaxColumn(t.endLineNumber))}getViewLineRenderingData(e){return this._model.getViewLineRenderingData(this.visibleRange,e)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class k9 extends gQ{constructor(e,t,n,i,r,o){super(),this._selections=[new uj(1,1,1,1)],this._renderAnimationFrame=null;const s=new j8(t,i,r,e);this._context=new C9(t,n.getColorTheme(),i),this._configPixelRatio=this._context.configuration.options.get(127),this._context.addEventHandler(this),this._register(n.onDidColorThemeChange((e=>{this._context.theme.update(e),this._context.model.onDidColorThemeChange(),this.render(!0,!1)}))),this._viewParts=[],this._textAreaHandler=new e8(this._context,s,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=QJ(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=QJ(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=QJ(document.createElement("div")),vQ.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new D7(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new F7(this._context,this._linesContent),this._viewZones=new _9(this._context),this._viewParts.push(this._viewZones);const a=new i9(this._context);this._viewParts.push(a);const l=new c9(this._context);this._viewParts.push(l);const c=new K8(this._context);this._viewParts.push(c),c.addDynamicOverlay(new t7(this._context)),c.addDynamicOverlay(new p9(this._context)),c.addDynamicOverlay(new N7(this._context)),c.addDynamicOverlay(new i7(this._context));const u=new Y8(this._context);this._viewParts.push(u),u.addDynamicOverlay(new n7(this._context)),u.addDynamicOverlay(new T7(this._context)),u.addDynamicOverlay(new P7(this._context)),u.addDynamicOverlay(new R7(this._context)),u.addDynamicOverlay(new X6(this._context));const h=new Z6(this._context);h.getDomNode().appendChild(this._viewZones.marginDomNode),h.getDomNode().appendChild(u.getDomNode()),this._viewParts.push(h),this._contentWidgets=new X8(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new y9(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new t9(this._context),this._viewParts.push(this._overlayWidgets);const d=new l9(this._context);this._viewParts.push(d);const f=new J7(this._context);if(this._viewParts.push(f),a){const e=this._scrollbar.getOverviewRulerLayoutInfo();e.parent.insertBefore(a.getDomNode(),e.insertBefore)}this._linesContent.appendChild(c.getDomNode()),this._linesContent.appendChild(d.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(h.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(l.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(f.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),o?o.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new Y6(this._context,s,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:e=>{this._textAreaHandler.textArea.domNode.dispatchEvent(e)},getLastRenderData:()=>{const e=this._viewCursors.getLastRenderData()||[],t=this._textAreaHandler.getLastRenderData();return new y6(e,t)},shouldSuppressMouseDownOnViewZone:e=>this._viewZones.shouldSuppressMouseDownOnViewZone(e),shouldSuppressMouseDownOnWidget:e=>this._contentWidgets.shouldSuppressMouseDownOnWidget(e),getPositionFromDOMInfo:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(e,t)),visibleRangeForPosition:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new lj(e,t))),getLineWidth:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(e))}}_createTextAreaHandlerHelper(){return{visibleRangeForPositionRelativeToEditor:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new lj(e,t)))}}_applyLayout(){const e=this._context.configuration.options.get(129);this.domNode.setWidth(e.width),this.domNode.setHeight(e.height),this._overflowGuardContainer.setWidth(e.width),this._overflowGuardContainer.setHeight(e.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(126)+" "+pJ(this._context.theme.type)+e}handleEvents(e){super.handleEvents(e),this._scheduleRender()}onConfigurationChanged(e){return this._configPixelRatio=this._context.configuration.options.get(127),this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(e){return this._selections=e.selections,!1}onFocusChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const e of this._viewParts)e.dispose();super.dispose()}_scheduleRender(){null===this._renderAnimationFrame&&(this._renderAnimationFrame=FV(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){!function(e){try{e()}catch(nR){IP(nR)}}((()=>this._actualRender()))}_getViewPartsToRender(){let e=[],t=0;for(const n of this._viewParts)n.shouldRender()&&(e[t++]=n);return e}_actualRender(){if(!NV(this.domNode.domNode))return;let e=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&0===e.length)return;const t=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(t.startLineNumber,t.endLineNumber,t.centeredLineNumber);const n=new x9(this._selections,t,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(n),this._viewLines.shouldRender()&&(this._viewLines.renderText(n),this._viewLines.onDidRender(),e=this._getViewPartsToRender());const i=new yQ(this._context.viewLayout,n,this._viewLines);for(const r of e)r.prepareRender(i);for(const r of e)r.render(i),r.onDidRender();Math.abs(zz()-this._configPixelRatio)>.001&&this._context.configuration.updatePixelRatio()}delegateVerticalScrollbarMouseDown(e){this._scrollbar.delegateVerticalScrollbarMouseDown(e)}restoreState(e){this._context.model.setScrollPosition({scrollTop:e.scrollTop},1),this._context.model.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.model.setScrollPosition({scrollLeft:e.scrollLeft},1)}getOffsetForColumn(e,t){const n=this._context.model.validateModelPosition({lineNumber:e,column:t}),i=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(n);this._flushAccumulatedAndRenderNow();const r=this._viewLines.visibleRangeForPosition(new lj(i.lineNumber,i.column));return r?r.left:-1}getTargetAtClientPoint(e,t){const n=this._pointerHandler.getTargetAtClientPoint(e,t);return n?z8.convertViewToModelMouseTarget(n,this._context.model.coordinatesConverter):null}createOverviewRuler(e){return new a9(this._context,e)}change(e){this._viewZones.changeViewZones(e),this._scheduleRender()}render(e,t){if(t){this._viewLines.forceShouldRender();for(const e of this._viewParts)e.forceShouldRender()}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(e){this._textAreaHandler.setAriaOptions(e)}addContentWidget(e){this._contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()}layoutContentWidget(e){let t=e.position&&e.position.range||null;if(null===t){const n=e.position?e.position.position:null;null!==n&&(t=new cj(n.lineNumber,n.column,n.lineNumber,n.column))}const n=e.position?e.position.preference:null;this._contentWidgets.setWidgetPosition(e.widget,t,n),this._scheduleRender()}removeContentWidget(e){this._contentWidgets.removeWidget(e.widget),this._scheduleRender()}addOverlayWidget(e){this._overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()}layoutOverlayWidget(e){const t=e.position?e.position.preference:null;this._overlayWidgets.setWidgetPosition(e.widget,t)&&this._scheduleRender()}removeOverlayWidget(e){this._overlayWidgets.removeWidget(e.widget),this._scheduleRender()}}class S9{constructor(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new a6(new cj(1,1,1,1),0,new lj(1,1),0),new a6(new cj(1,1,1,1),0,new lj(1,1),0))}dispose(e){this._removeTrackedRange(e)}startTrackingSelection(e){this._trackSelection=!0,this._updateTrackedRange(e)}stopTrackingSelection(e){this._trackSelection=!1,this._removeTrackedRange(e)}_updateTrackedRange(e){this._trackSelection&&(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new h6(this.modelState,this.viewState)}readSelectionFromMarkers(e){const t=e.model._getTrackedRange(this._selTrackedRange);return 0===this.modelState.selection.getDirection()?new uj(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):new uj(t.endLineNumber,t.endColumn,t.startLineNumber,t.startColumn)}ensureValidState(e){this._setState(e,this.modelState,this.viewState)}setState(e,t,n){this._setState(e,t,n)}static _validatePositionWithCache(e,t,n,i){return t.equals(n)?i:e.normalizePosition(t,2)}static _validateViewState(e,t){const n=t.position,i=t.selectionStart.getStartPosition(),r=t.selectionStart.getEndPosition(),o=e.normalizePosition(n,2),s=this._validatePositionWithCache(e,i,n,o),a=this._validatePositionWithCache(e,r,i,s);return n.equals(o)&&i.equals(s)&&r.equals(a)?t:new a6(cj.fromPositions(s,a),t.selectionStartLeftoverVisibleColumns+i.column-s.column,o,t.leftoverVisibleColumns+n.column-o.column)}_setState(e,t,n){if(n&&(n=S9._validateViewState(e.viewModel,n)),t){const n=e.model.validateRange(t.selectionStart),i=t.selectionStart.equalsRange(n)?t.selectionStartLeftoverVisibleColumns:0,r=e.model.validatePosition(t.position),o=t.position.equals(r)?t.leftoverVisibleColumns:0;t=new a6(n,i,r,o)}else{if(!n)return;const i=e.model.validateRange(e.coordinatesConverter.convertViewRangeToModelRange(n.selectionStart)),r=e.model.validatePosition(e.coordinatesConverter.convertViewPositionToModelPosition(n.position));t=new a6(i,n.selectionStartLeftoverVisibleColumns,r,n.leftoverVisibleColumns)}if(n){const i=e.coordinatesConverter.validateViewRange(n.selectionStart,t.selectionStart),r=e.coordinatesConverter.validateViewPosition(n.position,t.position);n=new a6(i,t.selectionStartLeftoverVisibleColumns,r,t.leftoverVisibleColumns)}else{const i=e.coordinatesConverter.convertModelPositionToViewPosition(new lj(t.selectionStart.startLineNumber,t.selectionStart.startColumn)),r=e.coordinatesConverter.convertModelPositionToViewPosition(new lj(t.selectionStart.endLineNumber,t.selectionStart.endColumn)),o=new cj(i.lineNumber,i.column,r.lineNumber,r.column),s=e.coordinatesConverter.convertModelPositionToViewPosition(t.position);n=new a6(o,t.selectionStartLeftoverVisibleColumns,s,t.leftoverVisibleColumns)}this.modelState=t,this.viewState=n,this._updateTrackedRange(e)}}class D9{constructor(e){this.context=e,this.primaryCursor=new S9(e),this.secondaryCursors=[],this.lastAddedCursorIndex=0}dispose(){this.primaryCursor.dispose(this.context),this.killSecondaryCursors()}startTrackingSelections(){this.primaryCursor.startTrackingSelection(this.context);for(let e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].startTrackingSelection(this.context)}stopTrackingSelections(){this.primaryCursor.stopTrackingSelection(this.context);for(let e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].stopTrackingSelection(this.context)}updateContext(e){this.context=e}ensureValidState(){this.primaryCursor.ensureValidState(this.context);for(let e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].ensureValidState(this.context)}readSelectionFromMarkers(){let e=[];e[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(let t=0,n=this.secondaryCursors.length;t<n;t++)e[t+1]=this.secondaryCursors[t].readSelectionFromMarkers(this.context);return e}getAll(){let e=[];e[0]=this.primaryCursor.asCursorState();for(let t=0,n=this.secondaryCursors.length;t<n;t++)e[t+1]=this.secondaryCursors[t].asCursorState();return e}getViewPositions(){let e=[];e[0]=this.primaryCursor.viewState.position;for(let t=0,n=this.secondaryCursors.length;t<n;t++)e[t+1]=this.secondaryCursors[t].viewState.position;return e}getTopMostViewPosition(){let e=this.primaryCursor.viewState.position;for(let t=0,n=this.secondaryCursors.length;t<n;t++){const n=this.secondaryCursors[t].viewState.position;n.isBefore(e)&&(e=n)}return e}getBottomMostViewPosition(){let e=this.primaryCursor.viewState.position;for(let t=0,n=this.secondaryCursors.length;t<n;t++){const n=this.secondaryCursors[t].viewState.position;e.isBeforeOrEqual(n)&&(e=n)}return e}getSelections(){let e=[];e[0]=this.primaryCursor.modelState.selection;for(let t=0,n=this.secondaryCursors.length;t<n;t++)e[t+1]=this.secondaryCursors[t].modelState.selection;return e}getViewSelections(){let e=[];e[0]=this.primaryCursor.viewState.selection;for(let t=0,n=this.secondaryCursors.length;t<n;t++)e[t+1]=this.secondaryCursors[t].viewState.selection;return e}setSelections(e){this.setStates(h6.fromModelSelections(e))}getPrimaryCursor(){return this.primaryCursor.asCursorState()}setStates(e){null!==e&&(this.primaryCursor.setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))}_setSecondaryStates(e){const t=this.secondaryCursors.length,n=e.length;if(t<n){let e=n-t;for(let t=0;t<e;t++)this._addSecondaryCursor()}else if(t>n){let e=t-n;for(let t=0;t<e;t++)this._removeSecondaryCursor(this.secondaryCursors.length-1)}for(let i=0;i<n;i++)this.secondaryCursors[i].setState(this.context,e[i].modelState,e[i].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.secondaryCursors.push(new S9(this.context)),this.lastAddedCursorIndex=this.secondaryCursors.length}getLastAddedCursorIndex(){return 0===this.secondaryCursors.length||0===this.lastAddedCursorIndex?0:this.lastAddedCursorIndex}_removeSecondaryCursor(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.secondaryCursors[e].dispose(this.context),this.secondaryCursors.splice(e,1)}_getAll(){let e=[];e[0]=this.primaryCursor;for(let t=0,n=this.secondaryCursors.length;t<n;t++)e[t+1]=this.secondaryCursors[t];return e}normalize(){if(0===this.secondaryCursors.length)return;let e=this._getAll(),t=[];for(let n=0,i=e.length;n<i;n++)t.push({index:n,selection:e[n].modelState.selection});t.sort(((e,t)=>e.selection.startLineNumber===t.selection.startLineNumber?e.selection.startColumn-t.selection.startColumn:e.selection.startLineNumber-t.selection.startLineNumber));for(let n=0;n<t.length-1;n++){const i=t[n],r=t[n+1],o=i.selection,s=r.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let a;if(a=s.isEmpty()||o.isEmpty()?s.getStartPosition().isBeforeOrEqual(o.getEndPosition()):s.getStartPosition().isBefore(o.getEndPosition()),a){const o=i.index<r.index?n:n+1,s=i.index<r.index?n+1:n,a=t[s].index,l=t[o].index,c=t[s].selection,u=t[o].selection;if(!c.equalsSelection(u)){const n=c.plusRange(u),i=c.selectionStartLineNumber===c.startLineNumber&&c.selectionStartColumn===c.startColumn,r=u.selectionStartLineNumber===u.startLineNumber&&u.selectionStartColumn===u.startColumn;let s,h;a===this.lastAddedCursorIndex?(s=i,this.lastAddedCursorIndex=l):s=r,h=s?new uj(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn):new uj(n.endLineNumber,n.endColumn,n.startLineNumber,n.startColumn),t[o].selection=h;const d=h6.fromModelSelection(h);e[l].setState(this.context,d.modelState,d.viewState)}for(const e of t)e.index>a&&e.index--;e.splice(a,1),t.splice(s,1),this._removeSecondaryCursor(a-1),n--}}}}class E9{constructor(){this.type=0}}class L9{constructor(){this.type=1}}class T9{constructor(e){this.type=2,this._source=e}hasChanged(e){return this._source.hasChanged(e)}}class N9{constructor(e,t){this.type=3,this.selections=e,this.modelSelections=t}}class M9{constructor(e){this.type=4,e?(this.affectsMinimap=e.affectsMinimap,this.affectsOverviewRuler=e.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}class A9{constructor(){this.type=5}}class I9{constructor(e){this.type=6,this.isFocused=e}}class O9{constructor(){this.type=7}}class F9{constructor(){this.type=8}}class R9{constructor(e,t){this.type=9,this.fromLineNumber=e,this.toLineNumber=t}}class P9{constructor(e,t){this.type=10,this.fromLineNumber=e,this.toLineNumber=t}}class B9{constructor(e,t){this.type=11,this.fromLineNumber=e,this.toLineNumber=t}}class j9{constructor(e,t,n,i,r,o){this.type=12,this.source=e,this.range=t,this.selections=n,this.verticalType=i,this.revealHorizontal=r,this.scrollType=o}}class z9{constructor(e){this.type=13,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}}class V9{constructor(){this.type=14}}class W9{constructor(e){this.type=15,this.ranges=e}}class H9{constructor(){this.type=16}}class U9{constructor(){this.type=17}}class $9 extends KP{constructor(){super(),this._onEvent=this._register(new nB),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(e){this._addOutgoingEvent(e),this._emitOutgoingEvents()}_addOutgoingEvent(e){for(let t=0,n=this._outgoingEvents.length;t<n;t++)if(this._outgoingEvents[t].kind===e.kind)return void(this._outgoingEvents[t]=this._outgoingEvents[t].merge(e));this._outgoingEvents.push(e)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const e=this._outgoingEvents.shift();e.isNoOp()||this._onEvent.fire(e)}}addViewEventHandler(e){for(let t=0,n=this._eventHandlers.length;t<n;t++)this._eventHandlers[t]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)}removeViewEventHandler(e){for(let t=0;t<this._eventHandlers.length;t++)if(this._eventHandlers[t]===e){this._eventHandlers.splice(t,1);break}}beginEmitViewEvents(){return this._collectorCnt++,1===this._collectorCnt&&(this._collector=new q9),this._collector}endEmitViewEvents(){if(this._collectorCnt--,0===this._collectorCnt){const e=this._collector.outgoingEvents,t=this._collector.viewEvents;this._collector=null;for(const n of e)this._addOutgoingEvent(n);t.length>0&&this._emitMany(t)}this._emitOutgoingEvents()}emitSingleViewEvent(e){try{this.beginEmitViewEvents().emitViewEvent(e)}finally{this.endEmitViewEvents()}}_emitMany(e){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(e):this._viewEventQueue=e,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const e=this._viewEventQueue;this._viewEventQueue=null;const t=this._eventHandlers.slice(0);for(const n of t)n.handleEvents(e)}}}class q9{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(e){this.viewEvents.push(e)}emitOutgoingEvent(e){this.outgoingEvents.push(e)}}class K9{constructor(e,t,n,i){this.kind=0,this._oldContentWidth=e,this._oldContentHeight=t,this.contentWidth=n,this.contentHeight=i,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(e){return 0!==e.kind?this:new K9(this._oldContentWidth,this._oldContentHeight,e.contentWidth,e.contentHeight)}}class Y9{constructor(e,t){this.kind=1,this.oldHasFocus=e,this.hasFocus=t}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(e){return 1!==e.kind?this:new Y9(this.oldHasFocus,e.hasFocus)}}class G9{constructor(e,t,n,i,r,o,s,a){this.kind=2,this._oldScrollWidth=e,this._oldScrollLeft=t,this._oldScrollHeight=n,this._oldScrollTop=i,this.scrollWidth=r,this.scrollLeft=o,this.scrollHeight=s,this.scrollTop=a,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!(this.scrollWidthChanged||this.scrollLeftChanged||this.scrollHeightChanged||this.scrollTopChanged)}merge(e){return 2!==e.kind?this:new G9(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop)}}class X9{constructor(){this.kind=3}isNoOp(){return!1}merge(e){return this}}class Z9{constructor(e,t,n,i,r,o,s){this.kind=6,this.oldSelections=e,this.selections=t,this.oldModelVersionId=n,this.modelVersionId=i,this.source=r,this.reason=o,this.reachedMaxCursorCount=s}static _selectionsAreEqual(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(!e[i].equalsSelection(t[i]))return!1;return!0}isNoOp(){return Z9._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(e){return 6!==e.kind?this:new Z9(this.oldSelections,e.selections,this.oldModelVersionId,e.modelVersionId,e.source,e.reason,this.reachedMaxCursorCount||e.reachedMaxCursorCount)}}class J9{constructor(){this.kind=5}isNoOp(){return!1}merge(e){return this}}class Q9{constructor(e,t){this.modelVersionId=e.getVersionId(),this.cursorState=t.getCursorStates()}equals(e){if(!e)return!1;if(this.modelVersionId!==e.modelVersionId)return!1;if(this.cursorState.length!==e.cursorState.length)return!1;for(let t=0,n=this.cursorState.length;t<n;t++)if(!this.cursorState[t].equals(e.cursorState[t]))return!1;return!0}}class eee{constructor(e,t,n){this._model=e,this._autoClosedCharactersDecorations=t,this._autoClosedEnclosingDecorations=n}static getAllAutoClosedCharacters(e){let t=[];for(const n of e)t=t.concat(n.getAutoClosedCharactersRanges());return t}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){let e=[];for(let t=0;t<this._autoClosedCharactersDecorations.length;t++){const n=this._model.getDecorationRange(this._autoClosedCharactersDecorations[t]);n&&e.push(n)}return e}isValid(e){let t=[];for(let n=0;n<this._autoClosedEnclosingDecorations.length;n++){const e=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[n]);if(e&&(t.push(e),e.startLineNumber!==e.endLineNumber))return!1}t.sort(cj.compareRangesUsingStarts),e.sort(cj.compareRangesUsingStarts);for(let n=0;n<e.length;n++){if(n>=t.length)return!1;if(!t[n].strictContainsRange(e[n]))return!1}return!0}}class tee extends KP{constructor(e,t,n,i){super(),this._model=e,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=t,this._coordinatesConverter=n,this.context=new l6(this._model,this._viewModel,this._coordinatesConverter,i),this._cursors=new D9(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=HP(this._autoClosedActions),super.dispose()}updateConfiguration(e){this.context=new l6(this._model,this._viewModel,this._coordinatesConverter,e),this._cursors.updateContext(this.context)}onLineMappingChanged(e){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(e,"viewModel",0,this.getCursorStates())}setHasFocus(e){this._hasFocus=e}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){let e=this._cursors.getSelections();for(let t=0;t<this._autoClosedActions.length;t++){const n=this._autoClosedActions[t];n.isValid(e)||(n.dispose(),this._autoClosedActions.splice(t,1),t--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(e,t,n,i){let r=!1;null!==i&&i.length>tee.MAX_CURSOR_COUNT&&(i=i.slice(0,tee.MAX_CURSOR_COUNT),r=!0);const o=new Q9(this._model,this);return this._cursors.setStates(i),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,t,n,o,r)}setCursorColumnSelectData(e){this._columnSelectData=e}revealPrimary(e,t,n,i){const r=this._cursors.getViewPositions();if(r.length>1)this._emitCursorRevealRange(e,t,null,this._cursors.getViewSelections(),0,n,i);else{const o=r[0],s=new cj(o.lineNumber,o.column,o.lineNumber,o.column);this._emitCursorRevealRange(e,t,s,null,0,n,i)}}_revealPrimaryCursor(e,t,n,i,r){const o=this._cursors.getViewPositions();if(o.length>1)this._emitCursorRevealRange(e,t,null,this._cursors.getViewSelections(),n,i,r);else{const s=o[0],a=new cj(s.lineNumber,s.column,s.lineNumber,s.column);this._emitCursorRevealRange(e,t,a,null,n,i,r)}}_emitCursorRevealRange(e,t,n,i,r,o,s){e.emitViewEvent(new j9(t,n,i,r,o,s))}saveState(){let e=[];const t=this._cursors.getSelections();for(let n=0,i=t.length;n<i;n++){const i=t[n];e.push({inSelectionMode:!i.isEmpty(),selectionStart:{lineNumber:i.selectionStartLineNumber,column:i.selectionStartColumn},position:{lineNumber:i.positionLineNumber,column:i.positionColumn}})}return e}restoreState(e,t){let n=[];for(let i=0,r=t.length;i<r;i++){const e=t[i];let r=1,o=1;e.position&&e.position.lineNumber&&(r=e.position.lineNumber),e.position&&e.position.column&&(o=e.position.column);let s=r,a=o;e.selectionStart&&e.selectionStart.lineNumber&&(s=e.selectionStart.lineNumber),e.selectionStart&&e.selectionStart.column&&(a=e.selectionStart.column),n.push({selectionStartLineNumber:s,selectionStartColumn:a,positionLineNumber:r,positionColumn:o})}this.setStates(e,"restoreState",0,h6.fromModelSelections(n)),this.revealPrimary(e,"restoreState",!0,1)}onModelContentChanged(e,t){if(t instanceof f1){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(e,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{if(this._knownModelVersionId=t.versionId,this._isHandling)return;const n=t.containsEvent(1);if(this._prevEditOperationType=0,n)this._cursors.dispose(),this._cursors=new D9(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,"model",1,null,!1);else if(this._hasFocus&&t.resultingSelection&&t.resultingSelection.length>0){const n=h6.fromModelSelections(t.resultingSelection);this.setStates(e,"modelChange",t.isUndoing?5:t.isRedoing?6:2,n)&&this._revealPrimaryCursor(e,"modelChange",0,!0,0)}else{const t=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,h6.fromModelSelections(t))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const e=this._cursors.getPrimaryCursor(),t=e.viewState.selectionStart.getStartPosition(),n=e.viewState.position;return{isReal:!1,fromViewLineNumber:t.lineNumber,fromViewVisualColumn:U1.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,t),toViewLineNumber:n.lineNumber,toViewVisualColumn:U1.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,n)}}getSelections(){return this._cursors.getSelections()}setSelections(e,t,n,i){this.setStates(e,t,i,h6.fromModelSelections(n))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(e){this._prevEditOperationType=e}_pushAutoClosedAction(e,t){let n=[],i=[];for(let s=0,a=e.length;s<a;s++)n.push({range:e[s],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),i.push({range:t[s],options:{description:"auto-closed-enclosing",stickiness:1}});const r=this._model.deltaDecorations([],n),o=this._model.deltaDecorations([],i);this._autoClosedActions.push(new eee(this._model,r,o))}_executeEditOperation(e){if(!e)return;e.shouldPushStackElementBefore&&this._model.pushStackElement();const t=class{static executeCommands(e,t,n){const i={model:e,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]},r=this._innerExecuteCommands(i,n);for(let o=0,s=i.trackedRanges.length;o<s;o++)i.model._setTrackedRange(i.trackedRanges[o],null,0);return r}static _innerExecuteCommands(e,t){if(this._arrayIsEmpty(t))return null;const n=this._getEditOperations(e,t);if(0===n.operations.length)return null;const i=n.operations,r=this._getLoserCursorMap(i);if(r.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;let o=[];for(let l=0,c=i.length;l<c;l++)r.hasOwnProperty(i[l].identifier.major.toString())||o.push(i[l]);n.hadTrackedEditOperation&&o.length>0&&(o[0]._isTracked=!0);let s=e.model.pushEditOperations(e.selectionsBefore,o,(n=>{let i=[];for(let t=0;t<e.selectionsBefore.length;t++)i[t]=[];for(const e of n)e.identifier&&i[e.identifier.major].push(e);const r=(e,t)=>e.identifier.minor-t.identifier.minor;let o=[];for(let s=0;s<e.selectionsBefore.length;s++)i[s].length>0?(i[s].sort(r),o[s]=t[s].computeCursorState(e.model,{getInverseEditOperations:()=>i[s],getTrackedSelection:t=>{const n=parseInt(t,10),i=e.model._getTrackedRange(e.trackedRanges[n]);return 0===e.trackedRangesDirection[n]?new uj(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn):new uj(i.endLineNumber,i.endColumn,i.startLineNumber,i.startColumn)}})):o[s]=e.selectionsBefore[s];return o}));s||(s=e.selectionsBefore);let a=[];for(let l in r)r.hasOwnProperty(l)&&a.push(parseInt(l,10));a.sort(((e,t)=>t-e));for(const l of a)s.splice(l,1);return s}static _arrayIsEmpty(e){for(let t=0,n=e.length;t<n;t++)if(e[t])return!1;return!0}static _getEditOperations(e,t){let n=[],i=!1;for(let r=0,o=t.length;r<o;r++){const o=t[r];if(o){const t=this._getEditOperationsFromCommand(e,r,o);n=n.concat(t.operations),i=i||t.hadTrackedEditOperation}}return{operations:n,hadTrackedEditOperation:i}}static _getEditOperationsFromCommand(e,t,n){let i=[],r=0;const o=(e,o,s=!1)=>{cj.isEmpty(e)&&""===o||i.push({identifier:{major:t,minor:r++},range:e,text:o,forceMoveMarkers:s,isAutoWhitespaceEdit:n.insertsAutoWhitespace})};let s=!1;const a=(e,t,n)=>{s=!0,o(e,t,n)},l={addEditOperation:o,addTrackedEditOperation:a,trackSelection:(t,n)=>{const i=uj.liftSelection(t);let r;if(i.isEmpty())if("boolean"==typeof n)r=n?2:3;else{const t=e.model.getLineMaxColumn(i.startLineNumber);r=i.startColumn===t?2:3}else r=1;const o=e.trackedRanges.length,s=e.model._setTrackedRange(null,i,r);return e.trackedRanges[o]=s,e.trackedRangesDirection[o]=i.getDirection(),o.toString()}};try{n.getEditOperations(e.model,l)}catch(nR){return IP(nR),{operations:[],hadTrackedEditOperation:!1}}return{operations:i,hadTrackedEditOperation:s}}static _getLoserCursorMap(e){(e=e.slice(0)).sort(((e,t)=>-cj.compareRangesUsingEnds(e.range,t.range)));let t={};for(let n=1;n<e.length;n++){const i=e[n-1],r=e[n];if(cj.getStartPosition(i.range).isBefore(cj.getEndPosition(r.range))){let o;o=i.identifier.major>r.identifier.major?i.identifier.major:r.identifier.major,t[o.toString()]=!0;for(let t=0;t<e.length;t++)e[t].identifier.major===o&&(e.splice(t,1),t<n&&n--,t--);n>0&&n--}}return t}}.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(t){this._interpretCommandResult(t);let n=[],i=[];for(let t=0;t<e.commands.length;t++){const r=e.commands[t];r instanceof y8&&r.enclosingRange&&r.closeCharacterRange&&(n.push(r.closeCharacterRange),i.push(r.enclosingRange))}n.length>0&&this._pushAutoClosedAction(n,i),this._prevEditOperationType=e.type}e.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(e){e&&0!==e.length||(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()}_emitStateChangedIfNecessary(e,t,n,i,r){const o=new Q9(this._model,this);if(o.equals(i))return!1;const s=this._cursors.getSelections(),a=this._cursors.getViewSelections();if(e.emitViewEvent(new N9(a,s)),!i||i.cursorState.length!==o.cursorState.length||o.cursorState.some(((e,t)=>!e.modelState.equals(i.cursorState[t].modelState)))){const a=i?i.cursorState.map((e=>e.modelState.selection)):null,l=i?i.modelVersionId:0;e.emitOutgoingEvent(new Z9(a,s,l,o.modelVersionId,t||"keyboard",n,r))}return!0}_findAutoClosingPairs(e){if(!e.length)return null;let t=[];for(let n=0,i=e.length;n<i;n++){const i=e[n];if(!i.text||i.text.indexOf("\n")>=0)return null;const r=i.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!r)return null;const o=r[1],s=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(o);if(!s||1!==s.length)return null;const a=s[0].open,l=i.text.length-r[2].length-1,c=i.text.lastIndexOf(a,l-1);if(-1===c)return null;t.push([c,l])}return t}executeEdits(e,t,n,i){let r=null;"snippet"===t&&(r=this._findAutoClosingPairs(n)),r&&(n[0]._isTracked=!0);let o=[],s=[];const a=this._model.pushEditOperations(this.getSelections(),n,(e=>{if(r)for(let n=0,i=r.length;n<i;n++){const[t,i]=r[n],a=e[n],l=a.range.startLineNumber,c=a.range.startColumn-1+t,u=a.range.startColumn-1+i;o.push(new cj(l,u+1,l,u+2)),s.push(new cj(l,c+1,l,u+2))}const t=i(e);return t&&(this._isHandling=!0),t}));a&&(this._isHandling=!1,this.setSelections(e,t,a,0)),o.length>0&&this._pushAutoClosedAction(o,s)}_executeEdit(e,t,n,i=0){if(this.context.cursorConfig.readOnly)return;const r=new Q9(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),e()}catch(o){IP(o)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,n,i,r,!1)&&this._revealPrimaryCursor(t,n,0,!0,0)}setIsDoingComposition(e){this._isDoingComposition=e}getAutoClosedCharacters(){return eee.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(e){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(e,t){this._executeEdit((()=>{"keyboard"===t&&(this._executeEditOperation(v8.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),this.getAutoClosedCharacters())),this._selectionsWhenCompositionStarted=null)}),e,t)}type(e,t,n){this._executeEdit((()=>{if("keyboard"===n){const e=t.length;let n=0;for(;n<e;){const e=eH(t,n),i=t.substr(n,e);this._executeEditOperation(v8.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),i)),n+=e}}else this._executeEditOperation(v8.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t))}),e,n)}compositionType(e,t,n,i,r,o){if(0!==t.length||0!==n||0!==i)this._executeEdit((()=>{this._executeEditOperation(v8.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t,n,i,r))}),e,o);else if(0!==r){const t=this.getSelections().map((e=>{const t=e.getPosition();return new uj(t.lineNumber,t.column+r,t.lineNumber,t.column+r)}));this.setSelections(e,o,t,0)}}paste(e,t,n,i,r){this._executeEdit((()=>{this._executeEditOperation(v8.paste(this.context.cursorConfig,this._model,this.getSelections(),t,n,i||[]))}),e,r,4)}cut(e,t){this._executeEdit((()=>{this._executeEditOperation(l8.cut(this.context.cursorConfig,this._model,this.getSelections()))}),e,t)}executeCommand(e,t,n){this._executeEdit((()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new d6(0,[t],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))}),e,n)}executeCommands(e,t,n){this._executeEdit((()=>{this._executeEditOperation(new d6(0,t,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))}),e,n)}}tee.MAX_CURSOR_COUNT=1e4;class nee{constructor(e,t,n,i,r,o){this.id=e,this.label=t,this.alias=n,this._precondition=i,this._run=r,this._contextKeyService=o}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}function iee(e,t,n,i,r,o,s){let a="<div>",l=i,c=0,u=!0;for(let h=0,d=t.getCount();h<d;h++){const d=t.getEndOffset(h);if(d<=i)continue;let f="";for(;l<d&&l<r;l++){const t=e.charCodeAt(l);switch(t){case 9:let e=o-(l+c)%o;for(c+=e-1;e>0;)s&&u?(f+="&#160;",u=!1):(f+=" ",u=!0),e--;break;case 60:f+="&lt;",u=!1;break;case 62:f+="&gt;",u=!1;break;case 38:f+="&amp;",u=!1;break;case 0:f+="&#00;",u=!1;break;case 65279:case 8232:case 8233:case 133:f+="",u=!1;break;case 13:f+="&#8203",u=!1;break;case 32:s&&u?(f+="&#160;",u=!1):(f+=" ",u=!0);break;default:f+=String.fromCharCode(t),u=!1}}if(a+=`<span style="${t.getInlineStyle(h,n)}">${f}</span>`,d>r||l>=r)break}return a+="</div>",a}class ree{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(e){this._hasPending=!0,this._inserts.push(e)}change(e){this._hasPending=!0,this._changes.push(e)}remove(e){this._hasPending=!0,this._removes.push(e)}mustCommit(){return this._hasPending}commit(e){if(!this._hasPending)return;const t=this._inserts,n=this._changes,i=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(t,n,i)}}class oee{constructor(e,t,n,i,r){this.id=e,this.afterLineNumber=t,this.ordinal=n,this.height=i,this.minWidth=r,this.prefixSum=0}}class see{constructor(e,t,n,i){this._instanceId=dH(++see.INSTANCE_COUNT),this._pendingChanges=new ree,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=e,this._lineHeight=t,this._paddingTop=n,this._paddingBottom=i}static findInsertionIndex(e,t,n){let i=0,r=e.length;for(;i<r;){const o=i+r>>>1;t===e[o].afterLineNumber?n<e[o].ordinal?r=o:i=o+1:t<e[o].afterLineNumber?r=o:i=o+1}return i}setLineHeight(e){this._checkPendingChanges(),this._lineHeight=e}setPadding(e,t){this._paddingTop=e,this._paddingBottom=t}onFlushed(e){this._checkPendingChanges(),this._lineCount=e}changeWhitespace(e){let t=!1;try{e({insertWhitespace:(e,n,i,r)=>{t=!0,e|=0,n|=0,i|=0,r|=0;const o=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new oee(o,e,n,i,r)),o},changeOneWhitespace:(e,n,i)=>{t=!0,n|=0,i|=0,this._pendingChanges.change({id:e,newAfterLineNumber:n,newHeight:i})},removeWhitespace:e=>{t=!0,this._pendingChanges.remove({id:e})}})}finally{this._pendingChanges.commit(this)}return t}_commitPendingChanges(e,t,n){if((e.length>0||n.length>0)&&(this._minWidth=-1),e.length+t.length+n.length<=1){for(const t of e)this._insertWhitespace(t);for(const e of t)this._changeOneWhitespace(e.id,e.newAfterLineNumber,e.newHeight);for(const e of n){const t=this._findWhitespaceIndex(e.id);-1!==t&&this._removeWhitespace(t)}return}const i=new Set;for(const a of n)i.add(a.id);const r=new Map;for(const a of t)r.set(a.id,a);const o=e=>{let t=[];for(const n of e)if(!i.has(n.id)){if(r.has(n.id)){const e=r.get(n.id);n.afterLineNumber=e.newAfterLineNumber,n.height=e.newHeight}t.push(n)}return t},s=o(this._arr).concat(o(e));s.sort(((e,t)=>e.afterLineNumber===t.afterLineNumber?e.ordinal-t.ordinal:e.afterLineNumber-t.afterLineNumber)),this._arr=s,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(e){const t=see.findInsertionIndex(this._arr,e.afterLineNumber,e.ordinal);this._arr.splice(t,0,e),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)}_findWhitespaceIndex(e){const t=this._arr;for(let n=0,i=t.length;n<i;n++)if(t[n].id===e)return n;return-1}_changeOneWhitespace(e,t,n){const i=this._findWhitespaceIndex(e);if(-1!==i&&(this._arr[i].height!==n&&(this._arr[i].height=n,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,i-1)),this._arr[i].afterLineNumber!==t)){const e=this._arr[i];this._removeWhitespace(i),e.afterLineNumber=t,this._insertWhitespace(e)}}_removeWhitespace(e){this._arr.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)}onLinesDeleted(e,t){this._checkPendingChanges(),e|=0,t|=0,this._lineCount-=t-e+1;for(let n=0,i=this._arr.length;n<i;n++){const i=this._arr[n].afterLineNumber;e<=i&&i<=t?this._arr[n].afterLineNumber=e-1:i>t&&(this._arr[n].afterLineNumber-=t-e+1)}}onLinesInserted(e,t){this._checkPendingChanges(),e|=0,t|=0,this._lineCount+=t-e+1;for(let n=0,i=this._arr.length;n<i;n++){e<=this._arr[n].afterLineNumber&&(this._arr[n].afterLineNumber+=t-e+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),0===this._arr.length?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(e){this._checkPendingChanges(),e|=0;let t=Math.max(0,this._prefixSumValidIndex+1);0===t&&(this._arr[0].prefixSum=this._arr[0].height,t++);for(let n=t;n<=e;n++)this._arr[n].prefixSum=this._arr[n-1].prefixSum+this._arr[n].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._arr[e].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();return this._lineHeight*this._lineCount+this.getWhitespacesTotalHeight()+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(e){this._checkPendingChanges(),e|=0;const t=this._findLastWhitespaceBeforeLineNumber(e);return-1===t?0:this.getWhitespacesAccumulatedHeight(t)}_findLastWhitespaceBeforeLineNumber(e){e|=0;const t=this._arr;let n=0,i=t.length-1;for(;n<=i;){const r=n+((i-n|0)/2|0)|0;if(t[r].afterLineNumber<e){if(r+1>=t.length||t[r+1].afterLineNumber>=e)return r;n=r+1|0}else i=r-1|0}return-1}_findFirstWhitespaceAfterLineNumber(e){e|=0;const t=this._findLastWhitespaceBeforeLineNumber(e)+1;return t<this._arr.length?t:-1}getFirstWhitespaceIndexAfterLineNumber(e){return this._checkPendingChanges(),e|=0,this._findFirstWhitespaceAfterLineNumber(e)}getVerticalOffsetForLineNumber(e){let t;this._checkPendingChanges(),t=(e|=0)>1?this._lineHeight*(e-1):0;return t+this.getWhitespaceAccumulatedHeightBeforeLineNumber(e)+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),-1===this._minWidth){let e=0;for(let t=0,n=this._arr.length;t<n;t++)e=Math.max(e,this._arr[t].minWidth);this._minWidth=e}return this._minWidth}isAfterLines(e){this._checkPendingChanges();return e>this.getLinesTotalHeight()}isInTopPadding(e){return 0!==this._paddingTop&&(this._checkPendingChanges(),e<this._paddingTop)}isInBottomPadding(e){if(0===this._paddingBottom)return!1;this._checkPendingChanges();return e>=this.getLinesTotalHeight()-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(e){if(this._checkPendingChanges(),(e|=0)<0)return 1;const t=0|this._lineCount,n=this._lineHeight;let i=1,r=t;for(;i<r;){const t=(i+r)/2|0,o=0|this.getVerticalOffsetForLineNumber(t);if(e>=o+n)i=t+1;else{if(e>=o)return t;r=t}}return i>t?t:i}getLinesViewportData(e,t){this._checkPendingChanges(),e|=0,t|=0;const n=this._lineHeight,i=0|this.getLineNumberAtOrAfterVerticalOffset(e),r=0|this.getVerticalOffsetForLineNumber(i);let o=0|this._lineCount,s=0|this.getFirstWhitespaceIndexAfterLineNumber(i);const a=0|this.getWhitespacesCount();let l,c;-1===s?(s=a,c=o+1,l=0):(c=0|this.getAfterLineNumberForWhitespaceIndex(s),l=0|this.getHeightForWhitespaceIndex(s));let u=r,h=u;const d=5e5;let f=0;r>=d&&(f=Math.floor(r/d)*d,f=Math.floor(f/n)*n,h-=f);const p=[],g=e+(t-e)/2;let m=-1;for(let _=i;_<=o;_++){if(-1===m){const e=u,t=u+n;(e<=g&&g<t||e>g)&&(m=_)}for(u+=n,p[_-i]=h,h+=n;c===_;)h+=l,u+=l,s++,s>=a?c=o+1:(c=0|this.getAfterLineNumberForWhitespaceIndex(s),l=0|this.getHeightForWhitespaceIndex(s));if(u>=t){o=_;break}}-1===m&&(m=o);const v=0|this.getVerticalOffsetForLineNumber(o);let y=i,b=o;return y<b&&r<e&&y++,y<b&&v+n>t&&b--,{bigNumbersDelta:f,startLineNumber:i,endLineNumber:o,relativeVerticalOffset:p,centeredLineNumber:m,completelyVisibleStartLineNumber:y,completelyVisibleEndLineNumber:b}}getVerticalOffsetForWhitespaceIndex(e){this._checkPendingChanges(),e|=0;const t=this.getAfterLineNumberForWhitespaceIndex(e);let n,i;return n=t>=1?this._lineHeight*t:0,i=e>0?this.getWhitespacesAccumulatedHeight(e-1):0,n+i+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(e){this._checkPendingChanges(),e|=0;let t=0,n=this.getWhitespacesCount()-1;if(n<0)return-1;if(e>=this.getVerticalOffsetForWhitespaceIndex(n)+this.getHeightForWhitespaceIndex(n))return-1;for(;t<n;){const i=Math.floor((t+n)/2),r=this.getVerticalOffsetForWhitespaceIndex(i);if(e>=r+this.getHeightForWhitespaceIndex(i))t=i+1;else{if(e>=r)return i;n=i}}return t}getWhitespaceAtVerticalOffset(e){this._checkPendingChanges(),e|=0;const t=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(t<0)return null;if(t>=this.getWhitespacesCount())return null;const n=this.getVerticalOffsetForWhitespaceIndex(t);if(n>e)return null;const i=this.getHeightForWhitespaceIndex(t);return{id:this.getIdForWhitespaceIndex(t),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(t),verticalOffset:n,height:i}}getWhitespaceViewportData(e,t){this._checkPendingChanges(),e|=0,t|=0;const n=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),i=this.getWhitespacesCount()-1;if(n<0)return[];let r=[];for(let o=n;o<=i;o++){const e=this.getVerticalOffsetForWhitespaceIndex(o),n=this.getHeightForWhitespaceIndex(o);if(e>=t)break;r.push({id:this.getIdForWhitespaceIndex(o),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(o),verticalOffset:e,height:n})}return r}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].id}getAfterLineNumberForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].afterLineNumber}getHeightForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].height}}see.INSTANCE_COUNT=0;class aee{constructor(e,t,n,i){(e|=0)<0&&(e=0),(t|=0)<0&&(t=0),(n|=0)<0&&(n=0),(i|=0)<0&&(i=0),this.width=e,this.contentWidth=t,this.scrollWidth=Math.max(e,t),this.height=n,this.contentHeight=i,this.scrollHeight=Math.max(n,i)}equals(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight}}class lee extends KP{constructor(e,t){super(),this._onDidContentSizeChange=this._register(new nB),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new aee(0,0,0,0),this._scrollable=this._register(new m7(e,t)),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(e){this._scrollable.setSmoothScrollDuration(e)}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}getScrollDimensions(){return this._dimensions}setScrollDimensions(e){if(this._dimensions.equals(e))return;const t=this._dimensions;this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight},!0);const n=t.contentWidth!==e.contentWidth,i=t.contentHeight!==e.contentHeight;(n||i)&&this._onDidContentSizeChange.fire(new K9(t.contentWidth,t.contentHeight,e.contentWidth,e.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(e){this._scrollable.setScrollPositionNow(e)}setScrollPositionSmooth(e){this._scrollable.setScrollPositionSmooth(e)}}class cee extends KP{constructor(e,t,n){super(),this._configuration=e;const i=this._configuration.options,r=i.get(129),o=i.get(74);this._linesLayout=new see(t,i.get(58),o.top,o.bottom),this._scrollable=this._register(new lee(0,n)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new aee(r.contentWidth,0,r.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(102)?125:0)}onConfigurationChanged(e){const t=this._configuration.options;if(e.hasChanged(58)&&this._linesLayout.setLineHeight(t.get(58)),e.hasChanged(74)){const e=t.get(74);this._linesLayout.setPadding(e.top,e.bottom)}if(e.hasChanged(129)){const e=t.get(129),n=e.contentWidth,i=e.height,r=this._scrollable.getScrollDimensions(),o=r.contentWidth;this._scrollable.setScrollDimensions(new aee(n,r.contentWidth,i,this._getContentHeight(n,i,o)))}else this._updateHeight();e.hasChanged(102)&&this._configureSmoothScrollDuration()}onFlushed(e){this._linesLayout.onFlushed(e)}onLinesDeleted(e,t){this._linesLayout.onLinesDeleted(e,t)}onLinesInserted(e,t){this._linesLayout.onLinesInserted(e,t)}_getHorizontalScrollbarHeight(e,t){const n=this._configuration.options.get(91);return 2===n.horizontal||e>=t?0:n.horizontalScrollbarSize}_getContentHeight(e,t,n){const i=this._configuration.options;let r=this._linesLayout.getLinesTotalHeight();return i.get(93)?r+=Math.max(0,t-i.get(58)-i.get(74).bottom):r+=this._getHorizontalScrollbarHeight(e,n),r}_updateHeight(){const e=this._scrollable.getScrollDimensions(),t=e.width,n=e.height,i=e.contentWidth;this._scrollable.setScrollDimensions(new aee(t,e.contentWidth,n,this._getContentHeight(t,n,i)))}getCurrentViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getCurrentScrollPosition();return new dG(t.scrollTop,t.scrollLeft,e.width,e.height)}getFutureViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getFutureScrollPosition();return new dG(t.scrollTop,t.scrollLeft,e.width,e.height)}_computeContentWidth(e){const t=this._configuration.options,n=t.get(130),i=t.get(43);if(n.isViewportWrapping){const n=t.get(129),r=t.get(64);return e>n.contentWidth+i.typicalHalfwidthCharacterWidth&&r.enabled&&"right"===r.side?e+n.verticalScrollbarWidth:e}{const n=t.get(92)*i.typicalHalfwidthCharacterWidth,r=this._linesLayout.getWhitespaceMinWidth();return Math.max(e+n,r)}}setMaxLineWidth(e){const t=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new aee(t.width,this._computeContentWidth(e),t.height,t.contentHeight)),this._updateHeight()}saveState(){const e=this._scrollable.getFutureScrollPosition();let t=e.scrollTop,n=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t);return{scrollTop:t,scrollTopWithoutViewZones:t-this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(n),scrollLeft:e.scrollLeft}}changeWhitespace(e){const t=this._linesLayout.changeWhitespace(e);return t&&this.onHeightMaybeChanged(),t}getVerticalOffsetForLineNumber(e){return this._linesLayout.getVerticalOffsetForLineNumber(e)}isAfterLines(e){return this._linesLayout.isAfterLines(e)}isInTopPadding(e){return this._linesLayout.isInTopPadding(e)}isInBottomPadding(e){return this._linesLayout.isInBottomPadding(e)}getLineNumberAtVerticalOffset(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)}getWhitespaceAtVerticalOffset(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)}getLinesViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)}getLinesViewportDataAtScrollTop(e){const t=this._scrollable.getScrollDimensions();return e+t.height>t.scrollHeight&&(e=t.scrollHeight-t.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+t.height)}getWhitespaceViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}setScrollPosition(e,t){1===t?this._scrollable.setScrollPositionNow(e):this._scrollable.setScrollPositionSmooth(e)}deltaScrollNow(e,t){const n=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:n.scrollLeft+e,scrollTop:n.scrollTop+t})}}class uee{constructor(e){this._lines=e}convertViewPositionToModelPosition(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)}convertViewRangeToModelRange(e){return this._lines.convertViewRangeToModelRange(e)}validateViewPosition(e,t){return this._lines.validateViewPosition(e.lineNumber,e.column,t)}validateViewRange(e,t){return this._lines.validateViewRange(e,t)}convertModelPositionToViewPosition(e,t){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column,t)}convertModelRangeToViewRange(e,t){return this._lines.convertModelRangeToViewRange(e,t)}modelPositionIsVisible(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)}getModelLineViewLineCount(e){return this._lines.getModelLineViewLineCount(e)}getViewLineNumberOfModelPosition(e,t){return this._lines.getViewLineNumberOfModelPosition(e,t)}}class hee{constructor(e){this._counts=e,this._isValid=!1,this._validEndIndex=-1,this._modelToView=[],this._viewToModel=[]}_invalidate(e){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,e-1)}_ensureValid(){if(!this._isValid){for(let e=this._validEndIndex+1,t=this._counts.length;e<t;e++){const t=this._counts[e],n=e>0?this._modelToView[e-1]:0;this._modelToView[e]=n+t;for(let i=0;i<t;i++)this._viewToModel[n+i]=e}this._modelToView.length=this._counts.length,this._viewToModel.length=this._modelToView[this._modelToView.length-1],this._isValid=!0,this._validEndIndex=this._counts.length-1}}changeValue(e,t){this._counts[e]!==t&&(this._counts[e]=t,this._invalidate(e))}removeValues(e,t){this._counts.splice(e,t),this._invalidate(e)}insertValues(e,t){this._counts=kY(this._counts,e,t),this._invalidate(e)}getTotalValue(){return this._ensureValid(),this._viewToModel.length}getAccumulatedValue(e){return this._ensureValid(),this._modelToView[e]}getIndexOf(e){this._ensureValid();const t=this._viewToModel[e],n=t>0?this._modelToView[t-1]:0;return new rY(t,e-n)}}class dee{constructor(e,t,n,i,r,o,s,a,l){this._editorId=e,this.model=t,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=n,this._monospaceLineBreaksComputerFactory=i,this.fontInfo=r,this.tabSize=o,this.wrappingStrategy=s,this.wrappingColumn=a,this.wrappingIndent=l,this._constructLines(!0,null)}dispose(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])}createCoordinatesConverter(){return new uee(this)}_constructLines(e,t){this.lines=[],e&&(this.hiddenAreasIds=[]);const n=this.model.getLinesContent(),i=this.model.getInjectedTextDecorations(this._editorId),r=n.length,o=this.createLineBreaksComputer(),s=new TY(a1.fromDecorations(i));for(let p=0;p<r;p++){const e=s.takeWhile((e=>e.lineNumber===p+1));o.addRequest(n[p],e,t?t[p]:null)}const a=o.finalize();let l=[],c=this.hiddenAreasIds.map((e=>this.model.getDecorationRange(e))).sort(cj.compareRangesUsingStarts),u=1,h=0,d=-1,f=d+1<c.length?h+1:r+2;for(let p=0;p<r;p++){let e=p+1;e===f&&(d++,u=c[d].startLineNumber,h=c[d].endLineNumber,f=d+1<c.length?h+1:r+2);let t=e>=u&&e<=h,n=wee(a[p],!t);l[p]=n.getViewLineCount(),this.lines[p]=n}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new hee(l)}getHiddenAreas(){return this.hiddenAreasIds.map((e=>this.model.getDecorationRange(e)))}_reduceRanges(e){if(0===e.length)return[];let t=e.map((e=>this.model.validateRange(e))).sort(cj.compareRangesUsingStarts),n=[],i=t[0].startLineNumber,r=t[0].endLineNumber;for(let o=1,s=t.length;o<s;o++){let e=t[o];e.startLineNumber>r+1?(n.push(new cj(i,1,r,1)),i=e.startLineNumber,r=e.endLineNumber):e.endLineNumber>r&&(r=e.endLineNumber)}return n.push(new cj(i,1,r,1)),n}setHiddenAreas(e){let t=this._reduceRanges(e),n=this.hiddenAreasIds.map((e=>this.model.getDecorationRange(e))).sort(cj.compareRangesUsingStarts);if(t.length===n.length){let e=!1;for(let i=0;i<t.length;i++)if(!t[i].equalsRange(n[i])){e=!0;break}if(!e)return!1}let i=[];for(const u of t)i.push({range:u,options:J5.EMPTY});this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,i);let r=t,o=1,s=0,a=-1,l=a+1<r.length?s+1:this.lines.length+2,c=!1;for(let u=0;u<this.lines.length;u++){let e=u+1;e===l&&(a++,o=r[a].startLineNumber,s=r[a].endLineNumber,l=a+1<r.length?s+1:this.lines.length+2);let t=!1;if(e>=o&&e<=s?this.lines[u].isVisible()&&(this.lines[u]=this.lines[u].setVisible(!1),t=!0):(c=!0,this.lines[u].isVisible()||(this.lines[u]=this.lines[u].setVisible(!0),t=!0)),t){let e=this.lines[u].getViewLineCount();this.prefixSumComputer.changeValue(u,e)}}return c||this.setHiddenAreas([]),!0}modelPositionIsVisible(e,t){return!(e<1||e>this.lines.length)&&this.lines[e-1].isVisible()}getModelLineViewLineCount(e){return e<1||e>this.lines.length?1:this.lines[e-1].getViewLineCount()}setTabSize(e){return this.tabSize!==e&&(this.tabSize=e,this._constructLines(!1,null),!0)}setWrappingSettings(e,t,n,i){const r=this.fontInfo.equals(e),o=this.wrappingStrategy===t,s=this.wrappingColumn===n,a=this.wrappingIndent===i;if(r&&o&&s&&a)return!1;const l=r&&o&&!s&&a;this.fontInfo=e,this.wrappingStrategy=t,this.wrappingColumn=n,this.wrappingIndent=i;let c=null;if(l){c=[];for(let e=0,t=this.lines.length;e<t;e++)c[e]=this.lines[e].getLineBreakData()}return this._constructLines(!1,c),!0}createLineBreaksComputer(){return("advanced"===this.wrappingStrategy?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(e,t,n){if(!e||e<=this._validModelVersionId)return null;let i=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,r=this.prefixSumComputer.getAccumulatedValue(n-1);return this.lines.splice(t-1,n-t+1),this.prefixSumComputer.removeValues(t-1,n-t+1),new P9(i,r)}onModelLinesInserted(e,t,n,i){if(!e||e<=this._validModelVersionId)return null;const r=t>2&&!this.lines[t-2].isVisible();let o=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,s=0,a=[],l=[];for(let c=0,u=i.length;c<u;c++){let e=wee(i[c],!r);a.push(e);let t=e.getViewLineCount();s+=t,l[c]=t}return this.lines=this.lines.slice(0,t-1).concat(a).concat(this.lines.slice(t-1)),this.prefixSumComputer.insertValues(t-1,l),new B9(o,o+s-1)}onModelLineChanged(e,t,n){if(null!==e&&e<=this._validModelVersionId)return[!1,null,null,null];let i=t-1,r=this.lines[i].getViewLineCount(),o=wee(n,this.lines[i].isVisible());this.lines[i]=o;let s=this.lines[i].getViewLineCount(),a=!1,l=0,c=-1,u=0,h=-1,d=0,f=-1;r>s?(l=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,c=l+s-1,d=c+1,f=d+(r-s)-1,a=!0):r<s?(l=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,c=l+r-1,u=c+1,h=u+(s-r)-1,a=!0):(l=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,c=l+s-1),this.prefixSumComputer.changeValue(i,s);return[a,l<=c?new R9(l,c):null,u<=h?new B9(u,h):null,d<=f?new P9(d,f):null]}acceptVersionId(e){this._validModelVersionId=e,1!==this.lines.length||this.lines[0].isVisible()||this.setHiddenAreas([])}getViewLineCount(){return this.prefixSumComputer.getTotalValue()}_toValidViewLineNumber(e){if(e<1)return 1;const t=this.getViewLineCount();return e>t?t:0|e}getActiveIndentGuide(e,t,n){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t),n=this._toValidViewLineNumber(n);const i=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),r=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),o=this.convertViewPositionToModelPosition(n,this.getViewLineMinColumn(n)),s=this.model.getActiveIndentGuide(i.lineNumber,r.lineNumber,o.lineNumber),a=this.convertModelPositionToViewPosition(s.startLineNumber,1),l=this.convertModelPositionToViewPosition(s.endLineNumber,this.model.getLineMaxColumn(s.endLineNumber));return{startLineNumber:a.lineNumber,endLineNumber:l.lineNumber,indent:s.indent}}getViewLineInfo(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return new fee(n+1,i)}getMinColumnOfViewLine(e){return this.lines[e.modelLineNumber-1].getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(e){const t=this.lines[e.modelLineNumber-1],n=t.getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),i=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,n);return new lj(e.modelLineNumber,i)}getModelEndPositionOfViewLine(e){const t=this.lines[e.modelLineNumber-1],n=t.getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),i=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,n);return new lj(e.modelLineNumber,i)}getViewLineInfosGroupedByModelRanges(e,t){const n=this.getViewLineInfo(e),i=this.getViewLineInfo(t),r=new Array;let o=this.getModelStartPositionOfViewLine(n),s=new Array;for(let a=n.modelLineNumber;a<=i.modelLineNumber;a++){const e=this.lines[a-1];if(e.isVisible()){let t=a===n.modelLineNumber?n.modelLineWrappedLineIdx:0,r=a===i.modelLineNumber?i.modelLineWrappedLineIdx+1:e.getViewLineCount();for(let e=t;e<r;e++)s.push(new fee(a,e))}if(!e.isVisible()&&o){const e=new lj(a-1,this.model.getLineMaxColumn(a-1)+1),t=cj.fromPositions(o,e);r.push(new pee(t,s)),s=[],o=null}else e.isVisible()&&!o&&(o=new lj(a,1))}if(o){const e=cj.fromPositions(o,this.getModelEndPositionOfViewLine(i));r.push(new pee(e,s))}return r}getViewLinesBracketGuides(e,t,n,i){const r=n?this.convertViewPositionToModelPosition(n.lineNumber,n.column):null,o=[];for(const s of this.getViewLineInfosGroupedByModelRanges(e,t)){const e=s.modelRange.startLineNumber,t=this.model.getLinesBracketGuides(e,s.modelRange.endLineNumber,r,i);for(const n of s.viewLines)if(n.isWrappedLineContinuation&&1===this.getMinColumnOfViewLine(n))o.push([]);else{let i=t[n.modelLineNumber-e];i=i.map((e=>e.horizontalLine?new jU(e.visibleColumn,e.className,new zU(e.horizontalLine.top,this.convertModelPositionToViewPosition(n.modelLineNumber,e.horizontalLine.endColumn).column)):e)),o.push(i)}}return o}getViewLinesIndentGuides(e,t){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);const n=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),i=this.convertViewPositionToModelPosition(t,this.getViewLineMaxColumn(t));let r=[],o=[],s=[];const a=n.lineNumber-1,l=i.lineNumber-1;let c=null;for(let f=a;f<=l;f++){const e=this.lines[f];if(e.isVisible()){let t=e.getViewLineNumberOfModelPosition(0,f===a?n.column:1),i=e.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(f+1)),r=i-t+1,l=0;r>1&&1===e.getViewLineMinColumn(this.model,f+1,i)&&(l=0===t?1:2),o.push(r),s.push(l),null===c&&(c=new lj(f+1,0))}else null!==c&&(r=r.concat(this.model.getLinesIndentGuides(c.lineNumber,f)),c=null)}null!==c&&(r=r.concat(this.model.getLinesIndentGuides(c.lineNumber,i.lineNumber)),c=null);const u=t-e+1;let h=new Array(u),d=0;for(let f=0,p=r.length;f<p;f++){let e,t=r[f],n=Math.min(u-d,o[f]),i=s[f];e=2===i?0:1===i?1:n;for(let r=0;r<n;r++)r===e&&(t=0),h[d++]=t}return h}getViewLineContent(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return this.lines[n].getViewLineContent(this.model,n+1,i)}getViewLineLength(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return this.lines[n].getViewLineLength(this.model,n+1,i)}getViewLineMinColumn(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return this.lines[n].getViewLineMinColumn(this.model,n+1,i)}getViewLineMaxColumn(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return this.lines[n].getViewLineMaxColumn(this.model,n+1,i)}getViewLineData(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return this.lines[n].getViewLineData(this.model,n+1,i)}getViewLinesData(e,t,n){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);let i=this.prefixSumComputer.getIndexOf(e-1),r=e,o=i.index,s=i.remainder,a=[];for(let l=o,c=this.model.getLineCount();l<c;l++){let i=this.lines[l];if(!i.isVisible())continue;let c=l===o?s:0,u=i.getViewLineCount()-c,h=!1;r+u>t&&(h=!0,u=t-r+1);let d=c+u;if(i.getViewLinesData(this.model,l+1,c,d,r-e,n,a),r+=u,h)break}return a}validateViewPosition(e,t,n){e=this._toValidViewLineNumber(e);let i=this.prefixSumComputer.getIndexOf(e-1),r=i.index,o=i.remainder,s=this.lines[r],a=s.getViewLineMinColumn(this.model,r+1,o),l=s.getViewLineMaxColumn(this.model,r+1,o);t<a&&(t=a),t>l&&(t=l);let c=s.getModelColumnOfViewPosition(o,t);return this.model.validatePosition(new lj(r+1,c)).equals(n)?new lj(e,t):this.convertModelPositionToViewPosition(n.lineNumber,n.column)}validateViewRange(e,t){const n=this.validateViewPosition(e.startLineNumber,e.startColumn,t.getStartPosition()),i=this.validateViewPosition(e.endLineNumber,e.endColumn,t.getEndPosition());return new cj(n.lineNumber,n.column,i.lineNumber,i.column)}convertViewPositionToModelPosition(e,t){e=this._toValidViewLineNumber(e);let n=this.prefixSumComputer.getIndexOf(e-1),i=n.index,r=n.remainder,o=this.lines[i].getModelColumnOfViewPosition(r,t);return this.model.validatePosition(new lj(i+1,o))}convertViewRangeToModelRange(e){const t=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),n=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new cj(t.lineNumber,t.column,n.lineNumber,n.column)}convertModelPositionToViewPosition(e,t,n=2){const i=this.model.validatePosition(new lj(e,t)),r=i.lineNumber,o=i.column;let s=r-1,a=!1;for(;s>0&&!this.lines[s].isVisible();)s--,a=!0;if(0===s&&!this.lines[s].isVisible())return new lj(1,1);const l=1+(0===s?0:this.prefixSumComputer.getAccumulatedValue(s-1));let c;return c=a?this.lines[s].getViewPositionOfModelPosition(l,this.model.getLineMaxColumn(s+1),n):this.lines[r-1].getViewPositionOfModelPosition(l,o,n),c}convertModelRangeToViewRange(e,t=0){if(e.isEmpty()){const n=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,t);return cj.fromPositions(n)}{const t=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,1),n=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn,0);return new cj(t.lineNumber,t.column,n.lineNumber,n.column)}}getViewLineNumberOfModelPosition(e,t){let n=e-1;if(this.lines[n].isVisible()){const e=1+(0===n?0:this.prefixSumComputer.getAccumulatedValue(n-1));return this.lines[n].getViewLineNumberOfModelPosition(e,t)}for(;n>0&&!this.lines[n].isVisible();)n--;if(0===n&&!this.lines[n].isVisible())return 1;const i=1+(0===n?0:this.prefixSumComputer.getAccumulatedValue(n-1));return this.lines[n].getViewLineNumberOfModelPosition(i,this.model.getLineMaxColumn(n+1))}getDecorationsInRange(e,t,n){const i=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),r=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(r.lineNumber-i.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new cj(i.lineNumber,1,r.lineNumber,r.column),t,n);let o=[];const s=i.lineNumber-1,a=r.lineNumber-1;let l=null;for(let d=s;d<=a;d++){if(this.lines[d].isVisible())null===l&&(l=new lj(d+1,d===s?i.column:1));else if(null!==l){const e=this.model.getLineMaxColumn(d);o=o.concat(this.model.getDecorationsInRange(new cj(l.lineNumber,l.column,d,e),t,n)),l=null}}null!==l&&(o=o.concat(this.model.getDecorationsInRange(new cj(l.lineNumber,l.column,r.lineNumber,r.column),t,n)),l=null),o.sort(((e,t)=>{const n=cj.compareRangesUsingStarts(e.range,t.range);return 0===n?e.id<t.id?-1:e.id>t.id?1:0:n}));let c=[],u=0,h=null;for(const d of o){const e=d.id;h!==e&&(h=e,c[u++]=d)}return c}getInjectedTextAt(e){const t=this._toValidViewLineNumber(e.lineNumber),n=this.prefixSumComputer.getIndexOf(t-1),i=n.index,r=n.remainder;return this.lines[i].getInjectedTextAt(r,e.column)}normalizePosition(e,t){const n=this._toValidViewLineNumber(e.lineNumber),i=this.prefixSumComputer.getIndexOf(n-1),r=i.index,o=i.remainder;return this.lines[r].normalizePosition(this.model,r+1,o,e,t)}getLineIndentColumn(e){const t=this._toValidViewLineNumber(e),n=this.prefixSumComputer.getIndexOf(t-1),i=n.index;return 0===n.remainder?this.model.getLineIndentColumn(i+1):0}}class fee{constructor(e,t){this.modelLineNumber=e,this.modelLineWrappedLineIdx=t}get isWrappedLineContinuation(){return this.modelLineWrappedLineIdx>0}}class pee{constructor(e,t){this.modelRange=e,this.viewLines=t}}class gee{constructor(){}isVisible(){return!0}setVisible(e){return e?this:mee.INSTANCE}getLineBreakData(){return null}getViewLineCount(){return 1}getViewLineContent(e,t,n){return e.getLineContent(t)}getViewLineLength(e,t,n){return e.getLineLength(t)}getViewLineMinColumn(e,t,n){return e.getLineMinColumn(t)}getViewLineMaxColumn(e,t,n){return e.getLineMaxColumn(t)}getViewLineData(e,t,n){let i=e.getLineTokens(t),r=i.getLineContent();return new mG(r,!1,1,r.length+1,0,i.inflate(),null)}getViewLinesData(e,t,n,i,r,o,s){o[r]?s[r]=this.getViewLineData(e,t,0):s[r]=null}getModelColumnOfViewPosition(e,t){return t}getViewPositionOfModelPosition(e,t){return new lj(e,t)}getViewLineNumberOfModelPosition(e,t){return e}normalizePosition(e,t,n,i,r){return i}getInjectedTextAt(e,t){return null}}gee.INSTANCE=new gee;class mee{constructor(){}isVisible(){return!1}setVisible(e){return e?gee.INSTANCE:this}getLineBreakData(){return null}getViewLineCount(){return 0}getViewLineContent(e,t,n){throw new Error("Not supported")}getViewLineLength(e,t,n){throw new Error("Not supported")}getViewLineMinColumn(e,t,n){throw new Error("Not supported")}getViewLineMaxColumn(e,t,n){throw new Error("Not supported")}getViewLineData(e,t,n){throw new Error("Not supported")}getViewLinesData(e,t,n,i,r,o,s){throw new Error("Not supported")}getModelColumnOfViewPosition(e,t){throw new Error("Not supported")}getViewPositionOfModelPosition(e,t){throw new Error("Not supported")}getViewLineNumberOfModelPosition(e,t){throw new Error("Not supported")}normalizePosition(e,t,n,i,r){throw new Error("Not supported")}getInjectedTextAt(e,t){throw new Error("Not supported")}}mee.INSTANCE=new mee;class vee{constructor(e,t){this._lineBreakData=e,this._isVisible=t}isVisible(){return this._isVisible}setVisible(e){return this._isVisible=e,this}getLineBreakData(){return this._lineBreakData}getViewLineCount(){return this._isVisible?this._lineBreakData.breakOffsets.length:0}getInputStartOffsetOfOutputLineIndex(e){return this._lineBreakData.getInputOffsetOfOutputPosition(e,0)}getInputEndOffsetOfOutputLineIndex(e,t,n){return n+1===this._lineBreakData.breakOffsets.length?e.getLineMaxColumn(t)-1:this._lineBreakData.getInputOffsetOfOutputPosition(n+1,0)}getViewLineContent(e,t,n){if(!this._isVisible)throw new Error("Not supported");const i=n>0?this._lineBreakData.breakOffsets[n-1]:0,r=n<this._lineBreakData.breakOffsets.length?this._lineBreakData.breakOffsets[n]:this._lineBreakData.breakOffsets[this._lineBreakData.breakOffsets.length-1];let o;if(null!==this._lineBreakData.injectionOffsets){const n=this._lineBreakData.injectionOffsets.map(((e,t)=>new a1(0,0,e+1,this._lineBreakData.injectionOptions[t],0)));o=a1.applyInjectedText(e.getLineContent(t),n).substring(i,r)}else o=e.getValueInRange({startLineNumber:t,startColumn:i+1,endLineNumber:t,endColumn:r+1});return n>0&&(o=bee(this._lineBreakData.wrappedTextIndentLength)+o),o}getViewLineLength(e,t,n){if(!this._isVisible)throw new Error("Not supported");const i=n>0?this._lineBreakData.breakOffsets[n-1]:0;let r=(n<this._lineBreakData.breakOffsets.length?this._lineBreakData.breakOffsets[n]:this._lineBreakData.breakOffsets[this._lineBreakData.breakOffsets.length-1])-i;return n>0&&(r=this._lineBreakData.wrappedTextIndentLength+r),r}getViewLineMinColumn(e,t,n){if(!this._isVisible)throw new Error("Not supported");return this._getViewLineMinColumn(n)}_getViewLineMinColumn(e){return e>0?this._lineBreakData.wrappedTextIndentLength+1:1}getViewLineMaxColumn(e,t,n){if(!this._isVisible)throw new Error("Not supported");return this.getViewLineLength(e,t,n)+1}getViewLineData(e,t,n){if(!this._isVisible)throw new Error("Not supported");const i=this._lineBreakData,r=n>0?i.wrappedTextIndentLength:0,o=i.injectionOffsets,s=i.injectionOptions;let a,l,c;if(o){const u=e.getLineTokens(t).withInserted(o.map(((e,t)=>({offset:e,text:s[t].content,tokenMetadata:GY.defaultTokenMetadata})))),h=n>0?i.breakOffsets[n-1]:0,d=i.breakOffsets[n];a=u.getLineContent().substring(h,d),l=u.sliceAndInflate(h,d,r),c=new Array;let f=0;for(let e=0;e<o.length;e++){const t=s[e].content.length,r=o[e]+f,a=o[e]+f+t;if(r>d)break;if(h<a){const t=s[e];if(t.inlineClassName){const e=n>0?i.wrappedTextIndentLength:0,o=e+Math.max(r-h,0),s=e+Math.min(a-h,d);o!==s&&c.push(new bG(o,s,t.inlineClassName,t.inlineClassNameAffectsLetterSpacing))}}f+=t}}else{const i=this.getInputStartOffsetOfOutputLineIndex(n),o=this.getInputEndOffsetOfOutputLineIndex(e,t,n),s=e.getLineTokens(t);a=e.getValueInRange({startLineNumber:t,startColumn:i+1,endLineNumber:t,endColumn:o+1}),l=s.sliceAndInflate(i,o,r),c=null}n>0&&(a=bee(i.wrappedTextIndentLength)+a);const u=n>0?i.wrappedTextIndentLength+1:1,h=a.length+1,d=n+1<this.getViewLineCount(),f=0===n?0:i.breakOffsetsVisibleColumn[n-1];return new mG(a,d,u,h,f,l,c)}getViewLinesData(e,t,n,i,r,o,s){if(!this._isVisible)throw new Error("Not supported");for(let a=n;a<i;a++){let i=r+a-n;o[i]?s[i]=this.getViewLineData(e,t,a):s[i]=null}}getModelColumnOfViewPosition(e,t){if(!this._isVisible)throw new Error("Not supported");let n=t-1;return e>0&&(n<this._lineBreakData.wrappedTextIndentLength?n=0:n-=this._lineBreakData.wrappedTextIndentLength),this._lineBreakData.getInputOffsetOfOutputPosition(e,n)+1}getViewPositionOfModelPosition(e,t,n=2){if(!this._isVisible)throw new Error("Not supported");let i=this._lineBreakData.getOutputPositionOfInputOffset(t-1,n),r=i.outputLineIndex,o=i.outputOffset+1;return r>0&&(o+=this._lineBreakData.wrappedTextIndentLength),new lj(e+r,o)}getViewLineNumberOfModelPosition(e,t){if(!this._isVisible)throw new Error("Not supported");return e+this._lineBreakData.getOutputPositionOfInputOffset(t-1).outputLineIndex}normalizePosition(e,t,n,i,r){if(null!==this._lineBreakData.injectionOffsets){const e=i.lineNumber-n,t=this._lineBreakData.outputPositionToOffsetInUnwrappedLine(n,i.column-1),o=this._lineBreakData.normalizeOffsetAroundInjections(t,r);if(o!==t)return this._lineBreakData.getOutputPositionOfOffsetInUnwrappedLine(o,r).toPosition(e,this._lineBreakData.wrappedTextIndentLength)}if(0===r){if(n>0&&i.column===this._getViewLineMinColumn(n))return new lj(i.lineNumber-1,this.getViewLineMaxColumn(e,t,n-1))}else if(1===r){if(n<this.getViewLineCount()-1&&i.column===this.getViewLineMaxColumn(e,t,n))return new lj(i.lineNumber+1,this._getViewLineMinColumn(n+1))}return i}getInjectedTextAt(e,t){return this._lineBreakData.getInjectedText(e,t-1)}}let yee=[""];function bee(e){if(e>=yee.length)for(let t=1;t<=e;t++)yee[t]=_ee(t);return yee[e]}function _ee(e){return new Array(e+1).join(" ")}function wee(e,t){return null===e?t?gee.INSTANCE:mee.INSTANCE:new vee(e,t)}class Cee{constructor(e){this._lines=e}_validPosition(e){return this._lines.model.validatePosition(e)}_validRange(e){return this._lines.model.validateRange(e)}convertViewPositionToModelPosition(e){return this._validPosition(e)}convertViewRangeToModelRange(e){return this._validRange(e)}validateViewPosition(e,t){return this._validPosition(t)}validateViewRange(e,t){return this._validRange(t)}convertModelPositionToViewPosition(e){return this._validPosition(e)}convertModelRangeToViewRange(e){return this._validRange(e)}modelPositionIsVisible(e){const t=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>t)}getModelLineViewLineCount(e){return 1}getViewLineNumberOfModelPosition(e,t){return e}}class xee{constructor(e){this.model=e}dispose(){}createCoordinatesConverter(){return new Cee(this)}getHiddenAreas(){return[]}setHiddenAreas(e){return!1}setTabSize(e){return!1}setWrappingSettings(e,t,n,i){return!1}createLineBreaksComputer(){let e=[];return{addRequest:(t,n,i)=>{e.push(null)},finalize:()=>e}}onModelFlushed(){}onModelLinesDeleted(e,t,n){return new P9(t,n)}onModelLinesInserted(e,t,n,i){return new B9(t,n)}onModelLineChanged(e,t,n){return[!1,new R9(t,t),null,null]}acceptVersionId(e){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(e,t,n){return{startLineNumber:e,endLineNumber:e,indent:0}}getViewLinesBracketGuides(e,t,n){return new Array(t-e+1).fill([])}getViewLinesIndentGuides(e,t){const n=t-e+1;let i=new Array(n);for(let r=0;r<n;r++)i[r]=0;return i}getViewLineContent(e){return this.model.getLineContent(e)}getViewLineLength(e){return this.model.getLineLength(e)}getViewLineMinColumn(e){return this.model.getLineMinColumn(e)}getViewLineMaxColumn(e){return this.model.getLineMaxColumn(e)}getViewLineData(e){let t=this.model.getLineTokens(e),n=t.getLineContent();return new mG(n,!1,1,n.length+1,0,t.inflate(),null)}getViewLinesData(e,t,n){const i=this.model.getLineCount();e=Math.min(Math.max(1,e),i),t=Math.min(Math.max(1,t),i);let r=[];for(let o=e;o<=t;o++){let t=o-e;n[t]||(r[t]=null),r[t]=this.getViewLineData(o)}return r}getDecorationsInRange(e,t,n){return this.model.getDecorationsInRange(e,t,n)}normalizePosition(e,t){return this.model.normalizePosition(e,t)}getLineIndentColumn(e){return this.model.getLineIndentColumn(e)}getInjectedTextAt(e){return null}}class kee{constructor(e,t,n,i,r){this.editorId=e,this.model=t,this.configuration=n,this._linesCollection=i,this._coordinatesConverter=r,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(e){const t=e.id;let n=this._decorationsCache[t];if(!n){const i=e.range,r=e.options;let o;if(r.isWholeLine){const e=this._coordinatesConverter.convertModelPositionToViewPosition(new lj(i.startLineNumber,1),0),t=this._coordinatesConverter.convertModelPositionToViewPosition(new lj(i.endLineNumber,this.model.getLineMaxColumn(i.endLineNumber)),1);o=new cj(e.lineNumber,e.column,t.lineNumber,t.column)}else o=this._coordinatesConverter.convertModelRangeToViewRange(i,1);n=new _G(o,r),this._decorationsCache[t]=n}return n}getDecorationsViewportData(e){let t=null!==this._cachedModelDecorationsResolver;return t=t&&e.equalsRange(this._cachedModelDecorationsResolverViewRange),t||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(e),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver}_getDecorationsViewportData(e){const t=this._linesCollection.getDecorationsInRange(e,this.editorId,kP(this.configuration.options)),n=e.startLineNumber,i=e.endLineNumber;let r=[],o=0,s=[];for(let a=n;a<=i;a++)s[a-n]=[];for(let a=0,l=t.length;a<l;a++){let e=t[a],l=e.options,c=this._getOrCreateViewModelDecoration(e),u=c.range;if(r[o++]=c,l.inlineClassName){let e=new yG(u,l.inlineClassName,l.inlineClassNameAffectsLetterSpacing?3:0),t=Math.max(n,u.startLineNumber),r=Math.min(i,u.endLineNumber);for(let i=t;i<=r;i++)s[i-n].push(e)}if(l.beforeContentClassName&&n<=u.startLineNumber&&u.startLineNumber<=i){let e=new yG(new cj(u.startLineNumber,u.startColumn,u.startLineNumber,u.startColumn),l.beforeContentClassName,1);s[u.startLineNumber-n].push(e)}if(l.afterContentClassName&&n<=u.endLineNumber&&u.endLineNumber<=i){let e=new yG(new cj(u.endLineNumber,u.endColumn,u.endLineNumber,u.endColumn),l.afterContentClassName,2);s[u.endLineNumber-n].push(e)}}return{decorations:r,inlineDecorations:s}}}const See=new class{constructor(){this._onDidChangeLanguages=new nB,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[],this._dynamicLanguages=[]}registerLanguage(e){return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let t=0,n=this._languages.length;t<n;t++)if(this._languages[t]===e)return void this._languages.splice(t,1)}}}getLanguages(){return[].concat(this._languages).concat(this._dynamicLanguages)}};rK.add("editor.modesRegistry",See);See.registerLanguage({id:"plaintext",extensions:[".txt"],aliases:[DR(0,"Plain Text"),"text"],mimetypes:[M6.text]}),FK.register("plaintext",{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0);class Dee extends KP{constructor(e,t,n,i,r,o){if(super(),this._editorId=e,this._configuration=t,this.model=n,this._eventDispatcher=new $9,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new s6(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._tokenizeViewportSoon=this._register(new bV((()=>this.tokenizeViewport()),50)),this._updateConfigurationViewLineCount=this._register(new bV((()=>this._updateConfigurationViewLineCountNow()),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,this.model.isTooLargeForTokenization())this._lines=new xee(this.model);else{const e=this._configuration.options,t=e.get(43),n=e.get(123),o=e.get(130),s=e.get(122);this._lines=new dee(this._editorId,this.model,i,r,t,this.model.getOptions().tabSize,n,o.wrappingColumn,s)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new tee(n,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new cee(this._configuration,this.getLineCount(),o)),this._register(this.viewLayout.onDidScroll((e=>{e.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new z9(e)),this._eventDispatcher.emitOutgoingEvent(new G9(e.oldScrollWidth,e.oldScrollLeft,e.oldScrollHeight,e.oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop))}))),this._register(this.viewLayout.onDidContentSizeChange((e=>{this._eventDispatcher.emitOutgoingEvent(e)}))),this._decorations=new kee(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast((e=>{try{const t=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(t,e)}finally{this._eventDispatcher.endEmitViewEvents()}}))),this._register(j7.getInstance().onDidChange((()=>{this._eventDispatcher.emitSingleViewEvent(new H9)}))),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this.invalidateMinimapColorCache(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(e){this._eventDispatcher.addViewEventHandler(e)}removeViewEventHandler(e){this._eventDispatcher.removeViewEventHandler(e)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const e=this.viewLayout.getLinesViewportData(),t=new cj(e.startLineNumber,this.getLineMinColumn(e.startLineNumber),e.endLineNumber,this.getLineMaxColumn(e.endLineNumber)),n=this._toModelVisibleRanges(t);for(const i of n)this.model.tokenizeViewport(i.startLineNumber,i.endLineNumber)}setHasFocus(e){this._hasFocus=e,this._cursor.setHasFocus(e),this._eventDispatcher.emitSingleViewEvent(new I9(e)),this._eventDispatcher.emitOutgoingEvent(new Y9(!e,e))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new E9)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new L9)}onDidColorThemeChange(){this._eventDispatcher.emitSingleViewEvent(new V9)}_onConfigurationChanged(e,t){let n=null;if(-1!==this._viewportStartLine){let e=new lj(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));n=this.coordinatesConverter.convertViewPositionToModelPosition(e)}let i=!1;const r=this._configuration.options,o=r.get(43),s=r.get(123),a=r.get(130),l=r.get(122);if(this._lines.setWrappingSettings(o,s,a.wrappingColumn,l)&&(e.emitViewEvent(new A9),e.emitViewEvent(new F9),e.emitViewEvent(new M9(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),0!==this.viewLayout.getCurrentScrollTop()&&(i=!0),this._updateConfigurationViewLineCount.schedule()),t.hasChanged(80)&&(this._decorations.reset(),e.emitViewEvent(new M9(null))),e.emitViewEvent(new T9(t)),this.viewLayout.onConfigurationChanged(t),i&&n){const e=this.coordinatesConverter.convertModelPositionToViewPosition(n),t=this.viewLayout.getVerticalOffsetForLineNumber(e.lineNumber);this.viewLayout.setScrollPosition({scrollTop:t+this._viewportStartLineDelta},1)}s6.shouldRecreate(t)&&(this.cursorConfig=new s6(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText((e=>{try{const t=this._eventDispatcher.beginEmitViewEvents();let n=!1,i=!1;const r=e.changes,o=e instanceof d1?e.versionId:null,s=this._lines.createLineBreaksComputer();for(const e of r)switch(e.changeType){case 4:for(let t=0;t<e.detail.length;t++){const n=e.detail[t];let i=e.injectedTexts[t];i&&(i=i.filter((e=>!e.ownerId||e.ownerId===this._editorId))),s.addRequest(n,i,null)}break;case 2:{let t=null;e.injectedText&&(t=e.injectedText.filter((e=>!e.ownerId||e.ownerId===this._editorId))),s.addRequest(e.detail,t,null);break}}const a=s.finalize();let l=0;for(const e of r)switch(e.changeType){case 1:this._lines.onModelFlushed(),t.emitViewEvent(new A9),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),n=!0;break;case 3:{const i=this._lines.onModelLinesDeleted(o,e.fromLineNumber,e.toLineNumber);null!==i&&(t.emitViewEvent(i),this.viewLayout.onLinesDeleted(i.fromLineNumber,i.toLineNumber)),n=!0;break}case 4:{const i=a.slice(l,l+e.detail.length);l+=e.detail.length;const r=this._lines.onModelLinesInserted(o,e.fromLineNumber,e.toLineNumber,i);null!==r&&(t.emitViewEvent(r),this.viewLayout.onLinesInserted(r.fromLineNumber,r.toLineNumber)),n=!0;break}case 2:{const n=a[l];l++;const[r,s,c,u]=this._lines.onModelLineChanged(o,e.lineNumber,n);i=r,s&&t.emitViewEvent(s),c&&(t.emitViewEvent(c),this.viewLayout.onLinesInserted(c.fromLineNumber,c.toLineNumber)),u&&(t.emitViewEvent(u),this.viewLayout.onLinesDeleted(u.fromLineNumber,u.toLineNumber));break}}null!==o&&this._lines.acceptVersionId(o),this.viewLayout.onHeightMaybeChanged(),!n&&i&&(t.emitViewEvent(new F9),t.emitViewEvent(new M9(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setMaxLineNumber(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const e=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(e){const t=this.coordinatesConverter.convertModelPositionToViewPosition(e.getStartPosition()),n=this.viewLayout.getVerticalOffsetForLineNumber(t.lineNumber);this.viewLayout.setScrollPosition({scrollTop:n+this._viewportStartLineDelta},1)}}try{const t=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(t,e)}finally{this._eventDispatcher.endEmitViewEvents()}}))),this._register(this.model.onDidChangeTokens((e=>{let t=[];for(let n=0,i=e.ranges.length;n<i;n++){const i=e.ranges[n],r=this.coordinatesConverter.convertModelPositionToViewPosition(new lj(i.fromLineNumber,1)).lineNumber,o=this.coordinatesConverter.convertModelPositionToViewPosition(new lj(i.toLineNumber,this.model.getLineMaxColumn(i.toLineNumber))).lineNumber;t[n]={fromLineNumber:r,toLineNumber:o}}this._eventDispatcher.emitSingleViewEvent(new W9(t)),e.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()}))),this._register(this.model.onDidChangeLanguageConfiguration((e=>{this._eventDispatcher.emitSingleViewEvent(new O9),this.cursorConfig=new s6(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)}))),this._register(this.model.onDidChangeLanguage((e=>{this.cursorConfig=new s6(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)}))),this._register(this.model.onDidChangeOptions((e=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const e=this._eventDispatcher.beginEmitViewEvents();e.emitViewEvent(new A9),e.emitViewEvent(new F9),e.emitViewEvent(new M9(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new s6(this.model.getLanguageId(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)}))),this._register(this.model.onDidChangeDecorations((e=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new M9(e))})))}setHiddenAreas(e){let t=!1;try{const n=this._eventDispatcher.beginEmitViewEvents();t=this._lines.setHiddenAreas(e),t&&(n.emitViewEvent(new A9),n.emitViewEvent(new F9),n.emitViewEvent(new M9(null)),this._cursor.onLineMappingChanged(n),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),t&&this._eventDispatcher.emitOutgoingEvent(new X9)}getVisibleRangesPlusViewportAboveBelow(){const e=this._configuration.options.get(129),t=this._configuration.options.get(58),n=Math.max(20,Math.round(e.height/t)),i=this.viewLayout.getLinesViewportData(),r=Math.max(1,i.completelyVisibleStartLineNumber-n),o=Math.min(this.getLineCount(),i.completelyVisibleEndLineNumber+n);return this._toModelVisibleRanges(new cj(r,this.getLineMinColumn(r),o,this.getLineMaxColumn(o)))}getVisibleRanges(){const e=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(e)}_toModelVisibleRanges(e){const t=this.coordinatesConverter.convertViewRangeToModelRange(e),n=this._lines.getHiddenAreas();if(0===n.length)return[t];let i=[],r=0,o=t.startLineNumber,s=t.startColumn,a=t.endLineNumber,l=t.endColumn;for(let c=0,u=n.length;c<u;c++){const e=n[c].startLineNumber,t=n[c].endLineNumber;t<o||(e>a||(o<e&&(i[r++]=new cj(o,s,e-1,this.model.getLineMaxColumn(e-1))),o=t+1,s=1))}return(o<a||o===a&&s<l)&&(i[r++]=new cj(o,s,a,l)),i}getCompletelyVisibleViewRange(){const e=this.viewLayout.getLinesViewportData(),t=e.completelyVisibleStartLineNumber,n=e.completelyVisibleEndLineNumber;return new cj(t,this.getLineMinColumn(t),n,this.getLineMaxColumn(n))}getCompletelyVisibleViewRangeAtScrollTop(e){const t=this.viewLayout.getLinesViewportDataAtScrollTop(e),n=t.completelyVisibleStartLineNumber,i=t.completelyVisibleEndLineNumber;return new cj(n,this.getLineMinColumn(n),i,this.getLineMaxColumn(i))}saveState(){const e=this.viewLayout.saveState(),t=e.scrollTop,n=this.viewLayout.getLineNumberAtVerticalOffset(t),i=this.coordinatesConverter.convertViewPositionToModelPosition(new lj(n,this.getLineMinColumn(n))),r=this.viewLayout.getVerticalOffsetForLineNumber(n)-t;return{scrollLeft:e.scrollLeft,firstPosition:i,firstPositionDeltaTop:r}}reduceRestoreState(e){if(void 0===e.firstPosition)return this._reduceRestoreStateCompatibility(e);const t=this.model.validatePosition(e.firstPosition),n=this.coordinatesConverter.convertModelPositionToViewPosition(t),i=this.viewLayout.getVerticalOffsetForLineNumber(n.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:i}}_reduceRestoreStateCompatibility(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getTextModelOptions(){return this.model.getOptions()}getLineCount(){return this._lines.getViewLineCount()}setViewport(e,t,n){this._viewportStartLine=e;let i=this.coordinatesConverter.convertViewPositionToModelPosition(new lj(e,this.getLineMinColumn(e)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new cj(i.lineNumber,i.column,i.lineNumber,i.column),1);const r=this.viewLayout.getVerticalOffsetForLineNumber(e),o=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=o-r}getActiveIndentGuide(e,t,n){return this._lines.getActiveIndentGuide(e,t,n)}getLinesIndentGuides(e,t){return this._lines.getViewLinesIndentGuides(e,t)}getBracketGuidesInRangeByLine(e,t,n,i){return this._lines.getViewLinesBracketGuides(e,t,n,i)}getLineContent(e){return this._lines.getViewLineContent(e)}getLineLength(e){return this._lines.getViewLineLength(e)}getLineMinColumn(e){return this._lines.getViewLineMinColumn(e)}getLineMaxColumn(e){return this._lines.getViewLineMaxColumn(e)}getLineFirstNonWhitespaceColumn(e){const t=RW(this.getLineContent(e));return-1===t?0:t+1}getLineLastNonWhitespaceColumn(e){const t=BW(this.getLineContent(e));return-1===t?0:t+2}getDecorationsInViewport(e){return this._decorations.getDecorationsViewportData(e).decorations}getInjectedTextAt(e){return this._lines.getInjectedTextAt(e)}getViewLineRenderingData(e,t){let n=this.model.mightContainRTL(),i=this.model.mightContainNonBasicASCII(),r=this.getTabSize(),o=this._lines.getViewLineData(t),s=this._decorations.getDecorationsViewportData(e).inlineDecorations[t-e.startLineNumber];return o.inlineDecorations&&(s=[...s,...o.inlineDecorations.map((e=>e.toInlineDecoration(t)))]),new vG(o.minColumn,o.maxColumn,o.content,o.continuesWithWrappedLine,n,i,o.tokens,s,r,o.startVisibleColumn)}getViewLineData(e){return this._lines.getViewLineData(e)}getMinimapLinesRenderingData(e,t,n){let i=this._lines.getViewLinesData(e,t,n);return new gG(this.getTabSize(),i)}getAllOverviewRulerDecorations(e){const t=this.model.getOverviewRulerDecorations(this._editorId,kP(this._configuration.options)),n=new Eee;for(const i of t){const t=i.options,r=t.overviewRuler;if(!r)continue;const o=r.position;if(0===o)continue;const s=r.getColor(e),a=this.coordinatesConverter.getViewLineNumberOfModelPosition(i.range.startLineNumber,i.range.startColumn),l=this.coordinatesConverter.getViewLineNumberOfModelPosition(i.range.endLineNumber,i.range.endColumn);n.accept(s,t.zIndex,a,l,o)}return n.asArray}invalidateOverviewRulerColorCache(){const e=this.model.getOverviewRulerDecorations();for(const t of e){const e=t.options.overviewRuler;e&&e.invalidateCachedColor()}}invalidateMinimapColorCache(){const e=this.model.getAllDecorations();for(const t of e){const e=t.options.minimap;e&&e.invalidateCachedColor()}}getValueInRange(e,t){const n=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(n,t)}getModelLineMaxColumn(e){return this.model.getLineMaxColumn(e)}validateModelPosition(e){return this.model.validatePosition(e)}validateModelRange(e){return this.model.validateRange(e)}deduceModelPositionRelativeToViewPosition(e,t,n){const i=this.coordinatesConverter.convertViewPositionToModelPosition(e);2===this.model.getEOL().length&&(t<0?t-=n:t+=n);const r=this.model.getOffsetAt(i)+t;return this.model.getPositionAt(r)}getEOL(){return this.model.getEOL()}getPlainTextToCopy(e,t,n){const i=n?"\r\n":this.model.getEOL();(e=e.slice(0)).sort(cj.compareRangesUsingStarts);let r=!1,o=!1;for(const a of e)a.isEmpty()?r=!0:o=!0;if(!o){if(!t)return"";const n=e.map((e=>e.startLineNumber));let r="";for(let e=0;e<n.length;e++)e>0&&n[e-1]===n[e]||(r+=this.model.getLineContent(n[e])+i);return r}if(r&&t){let t=[],i=0;for(const r of e){const e=r.startLineNumber;r.isEmpty()?e!==i&&t.push(this.model.getLineContent(e)):t.push(this.model.getValueInRange(r,n?2:0)),i=e}return 1===t.length?t[0]:t}let s=[];for(const a of e)a.isEmpty()||s.push(this.model.getValueInRange(a,n?2:0));return 1===s.length?s[0]:s}getRichTextToCopy(e,t){const n=this.model.getLanguageId();if("plaintext"===n)return null;if(1!==e.length)return null;let i=e[0];if(i.isEmpty()){if(!t)return null;const e=i.startLineNumber;i=new cj(e,this.model.getLineMinColumn(e),e,this.model.getLineMaxColumn(e))}const r=this._configuration.options.get(43),o=this._getColorMap();let s;if(/[:;\\\/<>]/.test(r.fontFamily)||r.fontFamily===EP.fontFamily)s=EP.fontFamily;else{s=r.fontFamily,s=s.replace(/"/g,"'");if(!/[,']/.test(s)){/[+ ]/.test(s)&&(s=`'${s}'`)}s=`${s}, ${EP.fontFamily}`}return{mode:n,html:`<div style="color: ${o[1]};background-color: ${o[2]};font-family: ${s};font-weight: ${r.fontWeight};font-size: ${r.fontSize}px;line-height: ${r.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(i,o)+"</div>"}}_getHTMLToCopy(e,t){const n=e.startLineNumber,i=e.startColumn,r=e.endLineNumber,o=e.endColumn,s=this.getTabSize();let a="";for(let l=n;l<=r;l++){const e=this.model.getLineTokens(l),c=e.getLineContent(),u=l===n?i-1:0,h=l===r?o-1:c.length;a+=""===c?"<br>":iee(c,e.inflate(),t,u,h,s,VR)}return a}_getColorMap(){let e=rq.getColorMap(),t=["#000000"];if(e)for(let n=1,i=e.length;n<i;n++)t[n]=C1.Format.CSS.formatHex(e[n]);return t}pushStackElement(){this.model.pushStackElement()}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(e,t,n){this._withViewEventsCollector((i=>this._cursor.setStates(i,e,t,n)))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(e){this._cursor.setCursorColumnSelectData(e)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(e){this._cursor.setPrevEditOperationType(e)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(e,t,n=0){this._withViewEventsCollector((i=>this._cursor.setSelections(i,e,t,n)))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(e){this._withViewEventsCollector((t=>this._cursor.restoreState(t,e)))}_executeCursorEdit(e){this._cursor.context.cursorConfig.readOnly?this._eventDispatcher.emitOutgoingEvent(new J9):this._withViewEventsCollector(e)}executeEdits(e,t,n){this._executeCursorEdit((i=>this._cursor.executeEdits(i,e,t,n)))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit((e=>this._cursor.startComposition(e)))}endComposition(e){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit((t=>this._cursor.endComposition(t,e)))}type(e,t){this._executeCursorEdit((n=>this._cursor.type(n,e,t)))}compositionType(e,t,n,i,r){this._executeCursorEdit((o=>this._cursor.compositionType(o,e,t,n,i,r)))}paste(e,t,n,i){this._executeCursorEdit((r=>this._cursor.paste(r,e,t,n,i)))}cut(e){this._executeCursorEdit((t=>this._cursor.cut(t,e)))}executeCommand(e,t){this._executeCursorEdit((n=>this._cursor.executeCommand(n,e,t)))}executeCommands(e,t){this._executeCursorEdit((n=>this._cursor.executeCommands(n,e,t)))}revealPrimaryCursor(e,t){this._withViewEventsCollector((n=>this._cursor.revealPrimary(n,e,t,0)))}revealTopMostCursor(e){const t=this._cursor.getTopMostViewPosition(),n=new cj(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector((t=>t.emitViewEvent(new j9(e,n,null,0,!0,0))))}revealBottomMostCursor(e){const t=this._cursor.getBottomMostViewPosition(),n=new cj(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector((t=>t.emitViewEvent(new j9(e,n,null,0,!0,0))))}revealRange(e,t,n,i,r){this._withViewEventsCollector((o=>o.emitViewEvent(new j9(e,n,null,i,t,r))))}getVerticalOffsetForLineNumber(e){return this.viewLayout.getVerticalOffsetForLineNumber(e)}getScrollTop(){return this.viewLayout.getCurrentScrollTop()}setScrollTop(e,t){this.viewLayout.setScrollPosition({scrollTop:e},t)}setScrollPosition(e,t){this.viewLayout.setScrollPosition(e,t)}deltaScrollNow(e,t){this.viewLayout.deltaScrollNow(e,t)}changeWhitespace(e){this.viewLayout.changeWhitespace(e)&&(this._eventDispatcher.emitSingleViewEvent(new U9),this._eventDispatcher.emitOutgoingEvent(new X9))}setMaxLineWidth(e){this.viewLayout.setMaxLineWidth(e)}_withViewEventsCollector(e){try{e(this._eventDispatcher.beginEmitViewEvents())}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(e,t){return this._lines.normalizePosition(e,t)}getLineIndentColumn(e){return this._lines.getLineIndentColumn(e)}}class Eee{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(e,t,n,i,r){const o=this._asMap[e];if(o){const e=o.data,t=e[e.length-3],s=e[e.length-1];if(t===r&&s+1>=n)return void(i>s&&(e[e.length-1]=i));e.push(r,n,i)}else{const o=new wG(e,t,[r,n,i]);this._asMap[e]=o,this.asArray.push(o)}}}class Lee{constructor(...e){this._entries=new Map;for(let[t,n]of e)this.set(t,n)}set(e,t){const n=this._entries.get(e);return this._entries.set(e,t),n}has(e){return this._entries.has(e)}get(e){return this._entries.get(e)}}const Tee=Fz("accessibilityService"),Nee=new $X("accessibilityModeEnabled",!1);class Mee extends sY{constructor(e,t){super(0);for(let n=0;n<e.length;n++)this.set(e.charCodeAt(n),1);for(let n=0;n<t.length;n++)this.set(t.charCodeAt(n),2)}get(e){return e>=0&&e<256?this._asciiMap[e]:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?3:this._map.get(e)||this._defaultValue}}let Aee=[],Iee=[];class Oee{constructor(e,t){this.classifier=new Mee(e,t)}static create(e){return new Oee(e.get(118),e.get(117))}createLineBreaksComputer(e,t,n,i){t|=0,n=+n;const r=[],o=[],s=[];return{addRequest:(e,t,n)=>{r.push(e),o.push(t),s.push(n)},finalize:()=>{const a=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth;let l=[];for(let e=0,c=r.length;e<c;e++){const c=o[e],u=s[e];!u||u.injectionOptions||c?l[e]=Ree(this.classifier,r[e],c,t,n,a,i):l[e]=Fee(this.classifier,u,r[e],t,n,a,i)}return Aee.length=0,Iee.length=0,l}}}}function Fee(e,t,n,i,r,o,s){if(-1===r)return null;const a=n.length;if(a<=1)return null;const l=t.breakOffsets,c=t.breakOffsetsVisibleColumn,u=zee(n,i,r,o,s),h=r-u;let d=Aee,f=Iee,p=0,g=0,m=0,v=r;const y=l.length;let b=0;if(b>=0){let e=Math.abs(c[b]-v);for(;b+1<y;){const t=Math.abs(c[b+1]-v);if(t>=e)break;e=t,b++}}for(;b<y;){let t=b<0?0:l[b],r=b<0?0:c[b];g>t&&(t=g,r=m);let s=0,u=0,_=0,w=0;if(r<=v){let m=r,y=0===t?0:n.charCodeAt(t-1),b=0===t?0:e.get(y),C=!0;for(let r=t;r<a;r++){const t=r,a=n.charCodeAt(r);let l,c;if(GW(a)?(r++,l=0,c=2):(l=e.get(a),c=Pee(a,m,i,o)),t>g&&jee(y,b,a,l)&&(s=t,u=m),m+=c,m>v){t>g?(_=t,w=m-c):(_=r+1,w=m),m-u>h&&(s=0),C=!1;break}y=a,b=l}if(C){p>0&&(d[p]=l[l.length-1],f[p]=c[l.length-1],p++);break}}if(0===s){let a=r,l=n.charCodeAt(t),c=e.get(l),d=!1;for(let i=t-1;i>=g;i--){const t=i+1,r=n.charCodeAt(i);if(9===r){d=!0;break}let f,p;if(XW(r)?(i--,f=0,p=2):(f=e.get(r),p=lH(r)?o:1),a<=v){if(0===_&&(_=t,w=a),a<=v-h)break;if(jee(r,f,l,c)){s=t,u=a;break}}a-=p,l=r,c=f}if(0!==s){const e=h-(w-u);if(e<=i){const t=n.charCodeAt(_);let r;r=GW(t)?2:Pee(t,w,i,o),e-r<0&&(s=0)}}if(d){b--;continue}}if(0===s&&(s=_,u=w),s<=g){const e=n.charCodeAt(g);GW(e)?(s=g+2,u=m+2):(s=g+1,u=m+Pee(e,m,i,o))}for(g=s,d[p]=s,m=u,f[p]=u,p++,v=u+h;b<0||b<y&&c[b]<u;)b++;let C=Math.abs(c[b]-v);for(;b+1<y;){const e=Math.abs(c[b+1]-v);if(e>=C)break;C=e,b++}}return 0===p?null:(d.length=p,f.length=p,Aee=t.breakOffsets,Iee=t.breakOffsetsVisibleColumn,t.breakOffsets=d,t.breakOffsetsVisibleColumn=f,t.wrappedTextIndentLength=u,t)}function Ree(e,t,n,i,r,o,s){const a=a1.applyInjectedText(t,n);let l,c;if(n&&n.length>0?(l=n.map((e=>e.options)),c=n.map((e=>e.column-1))):(l=null,c=null),-1===r)return l?new pG([a.length],[],0,c,l):null;const u=a.length;if(u<=1)return l?new pG([a.length],[],0,c,l):null;const h=zee(a,i,r,o,s),d=r-h;let f=[],p=[],g=0,m=0,v=0,y=r,b=a.charCodeAt(0),_=e.get(b),w=Pee(b,0,i,o),C=1;GW(b)&&(w+=1,b=a.charCodeAt(1),_=e.get(b),C++);for(let x=C;x<u;x++){const t=x,n=a.charCodeAt(x);let r,s;GW(n)?(x++,r=0,s=2):(r=e.get(n),s=Pee(n,w,i,o)),jee(b,_,n,r)&&(m=t,v=w),w+=s,w>y&&((0===m||w-v>d)&&(m=t,v=w-s),f[g]=m,p[g]=v,g++,y=v+d,m=0),b=n,_=r}return 0!==g||n&&0!==n.length?(f[g]=u,p[g]=w,new pG(f,p,h,c,l)):null}function Pee(e,t,n,i){return 9===e?n-t%n:lH(e)||e<32?i:1}function Bee(e,t){return t-e%t}function jee(e,t,n,i){return 32!==n&&(2===t||3===t&&2!==i||1===i||3===i&&1!==t)}function zee(e,t,n,i,r){let o=0;if(0!==r){const s=RW(e);if(-1!==s){for(let n=0;n<s;n++){o+=9===e.charCodeAt(n)?Bee(o,t):1}const a=3===r?2:2===r?1:0;for(let e=0;e<a;e++){o+=Bee(o,t)}o+i>n&&(o=0)}}return o}var Vee;const Wee=null===(Vee=window.trustedTypes)||void 0===Vee?void 0:Vee.createPolicy("domLineBreaksComputer",{createHTML:e=>e});class Hee{static create(){return new Hee}constructor(){}createLineBreaksComputer(e,t,n,i){t|=0,n=+n;let r=[],o=[];return{addRequest:(e,t,n)=>{r.push(e),o.push(t)},finalize:()=>function(e,t,n,i,r,o){var s;function a(t){const n=o[t];if(n){const i=a1.applyInjectedText(e[t],n),r=n.map((e=>e.options)),o=n.map((e=>e.column-1));return new pG([i.length],[],0,o,r)}return null}if(-1===i){const t=[];for(let n=0,i=e.length;n<i;n++)t[n]=a(n);return t}const l=Math.round(i*t.typicalHalfwidthCharacterWidth),c=3===r?2:2===r?1:0,u=Math.round(n*c),h=Math.ceil(t.spaceWidth*u),d=document.createElement("div");ZJ.applyFontInfoSlow(d,t);const f=zq(1e4),p=[],g=[],m=[],v=[],y=[];for(let k=0;k<e.length;k++){const i=a1.applyInjectedText(e[k],o[k]);let s=0,a=0,c=l;if(0!==r)if(s=RW(i),-1===s)s=0;else{for(let t=0;t<s;t++){a+=9===i.charCodeAt(t)?n-a%n:1}const e=Math.ceil(t.spaceWidth*a);e+t.typicalFullwidthCharacterWidth>l?(s=0,a=0):c=l-e}const u=i.substr(s),d=Uee(u,a,n,c,f,h);p[k]=s,g[k]=a,m[k]=u,v[k]=d[0],y[k]=d[1]}const b=f.build(),_=null!==(s=null==Wee?void 0:Wee.createHTML(b))&&void 0!==s?s:b;d.innerHTML=_,d.style.position="absolute",d.style.top="10000",d.style.wordWrap="break-word",document.body.appendChild(d);let w=document.createRange();const C=Array.prototype.slice.call(d.children,0);let x=[];for(let k=0;k<e.length;k++){const e=$ee(w,C[k],m[k],v[k]);if(null===e){x[k]=a(k);continue}const t=p[k],n=g[k]+u,i=y[k],r=[];for(let o=0,a=e.length;o<a;o++)r[o]=i[e[o]];if(0!==t)for(let o=0,a=e.length;o<a;o++)e[o]+=t;let s,l;const c=o[k];c?(s=c.map((e=>e.options)),l=c.map((e=>e.column-1))):(s=null,l=null),x[k]=new pG(e,r,n,l,s)}return document.body.removeChild(d),x}(r,e,t,n,i,o)}}}function Uee(e,t,n,i,r,o){if(0!==o){let e=String(o);r.appendASCIIString('<div style="text-indent: -'),r.appendASCIIString(e),r.appendASCIIString("px; padding-left: "),r.appendASCIIString(e),r.appendASCIIString("px; box-sizing: border-box; width:")}else r.appendASCIIString('<div style="width:');r.appendASCIIString(String(i)),r.appendASCIIString('px;">');const s=e.length;let a=t,l=0,c=[],u=[],h=0<s?e.charCodeAt(0):0;r.appendASCIIString("<span>");for(let d=0;d<s;d++){0!==d&&d%16384==0&&r.appendASCIIString("</span><span>"),c[d]=l,u[d]=a;const t=h;h=d+1<s?e.charCodeAt(d+1):0;let i=1,o=1;switch(t){case 9:i=n-a%n,o=i;for(let e=1;e<=i;e++)e<i?r.write1(160):r.appendASCII(32);break;case 32:32===h?r.write1(160):r.appendASCII(32);break;case 60:r.appendASCIIString("&lt;");break;case 62:r.appendASCIIString("&gt;");break;case 38:r.appendASCIIString("&amp;");break;case 0:r.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:r.write1(65533);break;default:lH(t)&&o++,t<32?r.write1(9216+t):r.write1(t)}l+=i,a+=o}return r.appendASCIIString("</span>"),c[e.length]=l,u[e.length]=a,r.appendASCIIString("</div>"),[c,u]}function $ee(e,t,n,i){if(n.length<=1)return null;const r=Array.prototype.slice.call(t.children,0),o=[];try{qee(e,r,i,0,null,n.length-1,null,o)}catch(s){return console.log(s),null}return 0===o.length?null:(o.push(n.length),o)}function qee(e,t,n,i,r,o,s,a){if(i===o)return;if(r=r||Kee(e,t,n[i],n[i+1]),s=s||Kee(e,t,n[o],n[o+1]),Math.abs(r[0].top-s[0].top)<=.1)return;if(i+1===o)return void a.push(o);const l=i+(o-i)/2|0,c=Kee(e,t,n[l],n[l+1]);qee(e,t,n,i,r,l,c,a),qee(e,t,n,l,c,o,s,a)}function Kee(e,t,n,i){return e.setStart(t[n/16384|0].firstChild,n%16384),e.setEnd(t[i/16384|0].firstChild,i%16384),e.getClientRects()}var Yee=globalThis&&globalThis.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Gee=globalThis&&globalThis.__param||function(e,t){return function(n,i){t(n,i,e)}};let Xee=0;class Zee{constructor(e,t,n,i,r){this.model=e,this.viewModel=t,this.view=n,this.hasRealView=i,this.listenersToRemove=r}dispose(){HP(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let Jee=class e extends KP{constructor(e,t,n,i,r,o,s,a,l,c){super(),this._onDidDispose=this._register(new nB),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new nB),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new nB),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new nB),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new nB),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new nB),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new nB),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new nB),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new nB),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new nB),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new nB),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new nB),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new Qee),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new Qee),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new nB),this.onWillType=this._onWillType.event,this._onDidType=this._register(new nB),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new nB),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new nB),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new nB),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new nB),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new nB),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new nB),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new nB),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new nB),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onContextMenu=this._register(new nB),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new nB),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new nB),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new nB),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new nB),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new nB),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new nB),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new nB),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new nB),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new nB),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event;const u=Object.assign({},t);let h;this._domElement=e,this._overflowWidgetsDomNode=u.overflowWidgetsDomNode,delete u.overflowWidgetsDomNode,this._id=++Xee,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this.isSimpleWidget=n.isSimpleWidget||!1,this._telemetryData=n.telemetryData,this._configuration=this._register(this._createConfiguration(u,c)),this._register(this._configuration.onDidChange((e=>{this._onDidChangeConfiguration.fire(e);const t=this._configuration.options;if(e.hasChanged(129)){const e=t.get(129);this._onDidLayoutChange.fire(e)}}))),this._contextKeyService=this._register(s.createScoped(this._domElement)),this._notificationService=l,this._codeEditorService=r,this._commandService=o,this._themeService=a,this._register(new ete(this,this._contextKeyService)),this._register(new tte(this,this._contextKeyService)),this._instantiationService=i.createChild(new Lee([qX,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new nte(e),this._register(this._focusTracker.onChange((()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())}))),this._contentWidgets={},this._overlayWidgets={},h=Array.isArray(n.contributions)?n.contributions:RJ.getEditorContributions();for(const f of h)if(this._contributions[f.id])IP(new Error(`Cannot have two contributions with the same id ${f.id}`));else try{const e=this._instantiationService.createInstance(f.ctor,this);this._contributions[f.id]=e}catch(d){IP(d)}RJ.getEditorActions().forEach((e=>{if(this._actions[e.id])return void IP(new Error(`Cannot have two actions with the same id ${e.id}`));const t=new nee(e.id,e.label,e.alias,sU(e.precondition),(()=>this._instantiationService.invokeFunction((t=>Promise.resolve(e.runEditorCommand(t,this,null))))),this._contextKeyService);this._actions[t.id]=t})),this._codeEditorService.addCodeEditor(this)}_createConfiguration(e,t){return new ZJ(this.isSimpleWidget,e,this._domElement,t)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return AU.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const e=Object.keys(this._contributions);for(let t=0,n=e.length;t<n;t++){const n=e[t];this._contributions[n].dispose()}this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(e){return this._instantiationService.invokeFunction(e)}updateOptions(e){this._configuration.updateOptions(e)}getOptions(){return this._configuration.options}getOption(e){return this._configuration.options.get(e)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(e){return this._modelData?c8.getWordAtPosition(this._modelData.model,this._configuration.options.get(115),e):null}getValue(e=null){if(!this._modelData)return"";const t=!(!e||!e.preserveBOM);let n=0;return e&&e.lineEnding&&"\n"===e.lineEnding?n=1:e&&e.lineEnding&&"\r\n"===e.lineEnding&&(n=2),this._modelData.model.getValue(n,t)}setValue(e){this._modelData&&this._modelData.model.setValue(e)}getModel(){return this._modelData?this._modelData.model:null}setModel(e=null){const t=e;if(null===this._modelData&&null===t)return;if(this._modelData&&this._modelData.model===t)return;const n=this.hasTextFocus(),i=this._detachModel();this._attachModel(t),n&&this.hasModel()&&this.focus();const r={oldModelUrl:i?i.uri:null,newModelUrl:t?t.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(r),this._postDetachModelCleanup(i)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let e in this._decorationTypeSubtypes){const t=this._decorationTypeSubtypes[e];for(let n in t)this._removeDecorationType(e+"-"+n)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(e,t,n){const i=e.model.validatePosition({lineNumber:t,column:n}),r=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(i);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(r.lineNumber)}getTopForLineNumber(t){return this._modelData?e._getVerticalOffsetForPosition(this._modelData,t,1):-1}getTopForPosition(t,n){return this._modelData?e._getVerticalOffsetForPosition(this._modelData,t,n):-1}setHiddenAreas(e){this._modelData&&this._modelData.viewModel.setHiddenAreas(e.map((e=>cj.lift(e))))}getVisibleColumnFromPosition(e){if(!this._modelData)return e.column;const t=this._modelData.model.validatePosition(e),n=this._modelData.model.getOptions().tabSize;return U1.visibleColumnFromColumn(this._modelData.model.getLineContent(t.lineNumber),t.column,n)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(e){if(this._modelData){if(!lj.isIPosition(e))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections("api",[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}}_sendRevealRange(e,t,n,i){if(!this._modelData)return;if(!cj.isIRange(e))throw new Error("Invalid arguments");const r=this._modelData.model.validateRange(e),o=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(r);this._modelData.viewModel.revealRange("api",n,o,t,i)}revealLine(e,t=0){this._revealLine(e,0,t)}revealLineInCenter(e,t=0){this._revealLine(e,1,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._revealLine(e,2,t)}revealLineNearTop(e,t=0){this._revealLine(e,5,t)}_revealLine(e,t,n){if("number"!=typeof e)throw new Error("Invalid arguments");this._sendRevealRange(new cj(e,1,e,1),t,!1,n)}revealPosition(e,t=0){this._revealPosition(e,0,!0,t)}revealPositionInCenter(e,t=0){this._revealPosition(e,1,!0,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._revealPosition(e,2,!0,t)}revealPositionNearTop(e,t=0){this._revealPosition(e,5,!0,t)}_revealPosition(e,t,n,i){if(!lj.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new cj(e.lineNumber,e.column,e.lineNumber,e.column),t,n,i)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(e){const t=uj.isISelection(e),n=cj.isIRange(e);if(!t&&!n)throw new Error("Invalid arguments");if(t)this._setSelectionImpl(e);else if(n){const t={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(t)}}_setSelectionImpl(e){if(!this._modelData)return;const t=new uj(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.viewModel.setSelections("api",[t])}revealLines(e,t,n=0){this._revealLines(e,t,0,n)}revealLinesInCenter(e,t,n=0){this._revealLines(e,t,1,n)}revealLinesInCenterIfOutsideViewport(e,t,n=0){this._revealLines(e,t,2,n)}revealLinesNearTop(e,t,n=0){this._revealLines(e,t,5,n)}_revealLines(e,t,n,i){if("number"!=typeof e||"number"!=typeof t)throw new Error("Invalid arguments");this._sendRevealRange(new cj(e,1,t,1),n,!1,i)}revealRange(e,t=0,n=!1,i=!0){this._revealRange(e,n?1:0,i,t)}revealRangeInCenter(e,t=0){this._revealRange(e,1,!0,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._revealRange(e,2,!0,t)}revealRangeNearTop(e,t=0){this._revealRange(e,5,!0,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._revealRange(e,6,!0,t)}revealRangeAtTop(e,t=0){this._revealRange(e,3,!0,t)}_revealRange(e,t,n,i){if(!cj.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(cj.lift(e),t,n,i)}setSelections(e,t="api",n=0){if(this._modelData){if(!e||0===e.length)throw new Error("Invalid arguments");for(let t=0,n=e.length;t<n;t++)if(!uj.isISelection(e[t]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(t,e,n)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(e,t=1){if(this._modelData){if("number"!=typeof e)throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollLeft:e},t)}}setScrollTop(e,t=1){if(this._modelData){if("number"!=typeof e)throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollTop:e},t)}}setScrollPosition(e,t=1){this._modelData&&this._modelData.viewModel.setScrollPosition(e,t)}saveViewState(){if(!this._modelData)return null;const e={},t=Object.keys(this._contributions);for(const n of t){const t=this._contributions[n];"function"==typeof t.saveViewState&&(e[n]=t.saveViewState())}return{cursorState:this._modelData.viewModel.saveCursorState(),viewState:this._modelData.viewModel.saveState(),contributionsState:e}}restoreViewState(e){if(!this._modelData||!this._modelData.hasRealView)return;const t=e;if(t&&t.cursorState&&t.viewState){const e=t.cursorState;Array.isArray(e)?this._modelData.viewModel.restoreCursorState(e):this._modelData.viewModel.restoreCursorState([e]);const n=t.contributionsState||{},i=Object.keys(this._contributions);for(let t=0,o=i.length;t<o;t++){const e=i[t],r=this._contributions[e];"function"==typeof r.restoreViewState&&r.restoreViewState(n[e])}const r=this._modelData.viewModel.reduceRestoreState(t.viewState);this._modelData.view.restoreState(r)}}getContribution(e){return this._contributions[e]||null}getActions(){const e=[],t=Object.keys(this._actions);for(let n=0,i=t.length;n<i;n++){const i=t[n];e.push(this._actions[i])}return e}getSupportedActions(){let e=this.getActions();return e=e.filter((e=>e.isSupported())),e}getAction(e){return this._actions[e]||null}trigger(e,t,n){switch(n=n||{},t){case"compositionStart":return void this._startComposition();case"compositionEnd":return void this._endComposition(e);case"type":{const t=n;return void this._type(e,t.text||"")}case"replacePreviousChar":{const t=n;return void this._compositionType(e,t.text||"",t.replaceCharCnt||0,0,0)}case"compositionType":{const t=n;return void this._compositionType(e,t.text||"",t.replacePrevCharCnt||0,t.replaceNextCharCnt||0,t.positionDelta||0)}case"paste":{const t=n;return void this._paste(e,t.text||"",t.pasteOnNewLine||!1,t.multicursorText||null,t.mode||null)}case"cut":return void this._cut(e)}const i=this.getAction(t);i?Promise.resolve(i.run()).then(void 0,IP):this._modelData&&(this._triggerEditorCommand(e,t,n)||this._triggerCommand(t,n))}_triggerCommand(e,t){this._commandService.executeCommand(e,t)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(e){this._modelData&&(this._modelData.viewModel.endComposition(e),this._onDidCompositionEnd.fire())}_type(e,t){this._modelData&&0!==t.length&&("keyboard"===e&&this._onWillType.fire(t),this._modelData.viewModel.type(t,e),"keyboard"===e&&this._onDidType.fire(t))}_compositionType(e,t,n,i,r){this._modelData&&this._modelData.viewModel.compositionType(t,n,i,r,e)}_paste(e,t,n,i,r){if(!this._modelData||0===t.length)return;const o=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(t,n,i,e);const s=this._modelData.viewModel.getSelection().getStartPosition();"keyboard"===e&&this._onDidPaste.fire({range:new cj(o.lineNumber,o.column,s.lineNumber,s.column),languageId:r})}_cut(e){this._modelData&&this._modelData.viewModel.cut(e)}_triggerEditorCommand(e,t,n){const i=RJ.getEditorCommand(t);return!!i&&((n=n||{}).source=e,this._instantiationService.invokeFunction((e=>{Promise.resolve(i.runEditorCommand(e,this,n)).then(void 0,IP)})),!0)}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!!this._modelData&&(!this._configuration.options.get(80)&&(this._modelData.model.pushStackElement(),!0))}popUndoStop(){return!!this._modelData&&(!this._configuration.options.get(80)&&(this._modelData.model.popStackElement(),!0))}executeEdits(e,t,n){if(!this._modelData)return!1;if(this._configuration.options.get(80))return!1;let i;return i=n?Array.isArray(n)?()=>n:n:()=>null,this._modelData.viewModel.executeEdits(e,t,i),!0}executeCommand(e,t){this._modelData&&this._modelData.viewModel.executeCommand(t,e)}executeCommands(e,t){this._modelData&&this._modelData.viewModel.executeCommands(t,e)}changeDecorations(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null}getLineDecorations(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,kP(this._configuration.options)):null}deltaDecorations(e,t){return this._modelData?0===e.length&&0===t.length?e:this._modelData.model.deltaDecorations(e,t,this._id):[]}removeDecorations(e){const t=this._decorationTypeKeysToIds[e];t&&this.deltaDecorations(t,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]}getLayoutInfo(){return this._configuration.options.get(129)}createOverviewRuler(e){return this._modelData&&this._modelData.hasRealView?this._modelData.view.createOverviewRuler(e):null}getContainerDomNode(){return this._domElement}getDomNode(){return this._modelData&&this._modelData.hasRealView?this._modelData.view.domNode.domNode:null}delegateVerticalScrollbarMouseDown(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.delegateVerticalScrollbarMouseDown(e)}layout(e){this._configuration.observeReferenceElement(e),this.render()}focus(){this._modelData&&this._modelData.hasRealView&&this._modelData.view.focus()}hasTextFocus(){return!(!this._modelData||!this._modelData.hasRealView)&&this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(e){const t={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(t)}layoutContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const n=this._contentWidgets[t];n.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(n)}}removeContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const e=this._contentWidgets[t];delete this._contentWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(e)}}addOverlayWidget(e){const t={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(t)}layoutOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const n=this._overlayWidgets[t];n.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(n)}}removeOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const e=this._overlayWidgets[t];delete this._overlayWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(e)}}changeViewZones(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.change(e)}getTargetAtClientPoint(e,t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getTargetAtClientPoint(e,t):null}getScrolledVisiblePosition(t){if(!this._modelData||!this._modelData.hasRealView)return null;const n=this._modelData.model.validatePosition(t),i=this._configuration.options,r=i.get(129);return{top:e._getVerticalOffsetForPosition(this._modelData,n.lineNumber,n.column)-this.getScrollTop(),left:this._modelData.view.getOffsetForColumn(n.lineNumber,n.column)+r.glyphMarginWidth+r.lineNumbersWidth+r.decorationsWidth-this.getScrollLeft(),height:i.get(58)}}getOffsetForColumn(e,t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getOffsetForColumn(e,t):-1}render(e=!1){this._modelData&&this._modelData.hasRealView&&this._modelData.view.render(!0,e)}setAriaOptions(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.setAriaOptions(e)}applyFontInfo(e){ZJ.applyFontInfoSlow(e,this._configuration.options.get(43))}_attachModel(e){if(!e)return void(this._modelData=null);const t=[];this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setMaxLineNumber(e.getLineCount()),e.onBeforeAttached();const n=new Dee(this._id,this._configuration,e,Hee.create(),Oee.create(this._configuration.options),(e=>RV(e)));t.push(e.onDidChangeDecorations((e=>this._onDidChangeModelDecorations.fire(e)))),t.push(e.onDidChangeLanguage((t=>{this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._onDidChangeModelLanguage.fire(t)}))),t.push(e.onDidChangeLanguageConfiguration((e=>this._onDidChangeModelLanguageConfiguration.fire(e)))),t.push(e.onDidChangeContent((e=>this._onDidChangeModelContent.fire(e)))),t.push(e.onDidChangeOptions((e=>this._onDidChangeModelOptions.fire(e)))),t.push(e.onWillDispose((()=>this.setModel(null)))),t.push(n.onEvent((e=>{switch(e.kind){case 0:this._onDidContentSizeChange.fire(e);break;case 1:this._editorTextFocus.setValue(e.hasFocus);break;case 2:this._onDidScrollChange.fire(e);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{e.reachedMaxCursorCount&&this._notificationService.warn(DR(0,"The number of cursors has been limited to {0}.",tee.MAX_CURSOR_COUNT));const t=[];for(let r=0,o=e.selections.length;r<o;r++)t[r]=e.selections[r].getPosition();const n={position:t[0],secondaryPositions:t.slice(1),reason:e.reason,source:e.source};this._onDidChangeCursorPosition.fire(n);const i={selection:e.selections[0],secondarySelections:e.selections.slice(1),modelVersionId:e.modelVersionId,oldSelections:e.oldSelections,oldModelVersionId:e.oldModelVersionId,source:e.source,reason:e.reason};this._onDidChangeCursorSelection.fire(i);break}}})));const[i,r]=this._createView(n);if(r){this._domElement.appendChild(i.domNode.domNode);let t=Object.keys(this._contentWidgets);for(let e=0,n=t.length;e<n;e++){const n=t[e];i.addContentWidget(this._contentWidgets[n])}t=Object.keys(this._overlayWidgets);for(let e=0,n=t.length;e<n;e++){const n=t[e];i.addOverlayWidget(this._overlayWidgets[n])}i.render(!1,!0),i.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new Zee(e,n,i,r,t)}_createView(e){let t;t=this.isSimpleWidget?{paste:(e,t,n,i)=>{this._paste("keyboard",e,t,n,i)},type:e=>{this._type("keyboard",e)},compositionType:(e,t,n,i)=>{this._compositionType("keyboard",e,t,n,i)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:{paste:(e,t,n,i)=>{const r={text:e,pasteOnNewLine:t,multicursorText:n,mode:i};this._commandService.executeCommand("paste",r)},type:e=>{const t={text:e};this._commandService.executeCommand("type",t)},compositionType:(e,t,n,i)=>{if(n||i){const r={text:e,replacePrevCharCnt:t,replaceNextCharCnt:n,positionDelta:i};this._commandService.executeCommand("compositionType",r)}else{const n={text:e,replaceCharCnt:t};this._commandService.executeCommand("replacePreviousChar",n)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const n=new z8(e.coordinatesConverter);n.onKeyDown=e=>this._onKeyDown.fire(e),n.onKeyUp=e=>this._onKeyUp.fire(e),n.onContextMenu=e=>this._onContextMenu.fire(e),n.onMouseMove=e=>this._onMouseMove.fire(e),n.onMouseLeave=e=>this._onMouseLeave.fire(e),n.onMouseDown=e=>this._onMouseDown.fire(e),n.onMouseUp=e=>this._onMouseUp.fire(e),n.onMouseDrag=e=>this._onMouseDrag.fire(e),n.onMouseDrop=e=>this._onMouseDrop.fire(e),n.onMouseDropCanceled=e=>this._onMouseDropCanceled.fire(e),n.onMouseWheel=e=>this._onMouseWheel.fire(e);return[new k9(t,this._configuration,this._themeService,e,n,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(e){e&&e.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const e=this._modelData.model,t=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),t&&this._domElement.contains(t)&&this._domElement.removeChild(t),e}_removeDecorationType(e){this._codeEditorService.removeDecorationType(e)}hasModel(){return null!==this._modelData}};Jee=Yee([Gee(3,Iz),Gee(4,Pz),Gee(5,aU),Gee(6,qX),Gee(7,uJ),Gee(8,hZ),Gee(9,Tee)],Jee);class Qee extends KP{constructor(){super(),this._onDidChangeToTrue=this._register(new nB),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new nB),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(e){const t=e?2:1;this._value!==t&&(this._value=t,2===this._value?this._onDidChangeToTrue.fire():1===this._value&&this._onDidChangeToFalse.fire())}}class ete extends KP{constructor(e,t){super(),this._editor=e,t.createKey("editorId",e.getId()),this._editorSimpleInput=x8.editorSimpleInput.bindTo(t),this._editorFocus=x8.focus.bindTo(t),this._textInputFocus=x8.textInputFocus.bindTo(t),this._editorTextFocus=x8.editorTextFocus.bindTo(t),this._editorTabMovesFocus=x8.tabMovesFocus.bindTo(t),this._editorReadonly=x8.readOnly.bindTo(t),this._inDiffEditor=x8.inDiffEditor.bindTo(t),this._editorColumnSelection=x8.columnSelection.bindTo(t),this._hasMultipleSelections=x8.hasMultipleSelections.bindTo(t),this._hasNonEmptySelection=x8.hasNonEmptySelection.bindTo(t),this._canUndo=x8.canUndo.bindTo(t),this._canRedo=x8.canRedo.bindTo(t),this._register(this._editor.onDidChangeConfiguration((()=>this._updateFromConfig()))),this._register(this._editor.onDidChangeCursorSelection((()=>this._updateFromSelection()))),this._register(this._editor.onDidFocusEditorWidget((()=>this._updateFromFocus()))),this._register(this._editor.onDidBlurEditorWidget((()=>this._updateFromFocus()))),this._register(this._editor.onDidFocusEditorText((()=>this._updateFromFocus()))),this._register(this._editor.onDidBlurEditorText((()=>this._updateFromFocus()))),this._register(this._editor.onDidChangeModel((()=>this._updateFromModel()))),this._register(this._editor.onDidChangeConfiguration((()=>this._updateFromModel()))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const e=this._editor.getOptions();this._editorTabMovesFocus.set(e.get(128)),this._editorReadonly.set(e.get(80)),this._inDiffEditor.set(e.get(53)),this._editorColumnSelection.set(e.get(18))}_updateFromSelection(){const e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some((e=>!e.isEmpty())))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const e=this._editor.getModel();this._canUndo.set(Boolean(e&&e.canUndo())),this._canRedo.set(Boolean(e&&e.canRedo()))}}class tte extends KP{constructor(e,t){super(),this._editor=e,this._contextKeyService=t,this._langId=x8.languageId.bindTo(t),this._hasCompletionItemProvider=x8.hasCompletionItemProvider.bindTo(t),this._hasCodeActionsProvider=x8.hasCodeActionsProvider.bindTo(t),this._hasCodeLensProvider=x8.hasCodeLensProvider.bindTo(t),this._hasDefinitionProvider=x8.hasDefinitionProvider.bindTo(t),this._hasDeclarationProvider=x8.hasDeclarationProvider.bindTo(t),this._hasImplementationProvider=x8.hasImplementationProvider.bindTo(t),this._hasTypeDefinitionProvider=x8.hasTypeDefinitionProvider.bindTo(t),this._hasHoverProvider=x8.hasHoverProvider.bindTo(t),this._hasDocumentHighlightProvider=x8.hasDocumentHighlightProvider.bindTo(t),this._hasDocumentSymbolProvider=x8.hasDocumentSymbolProvider.bindTo(t),this._hasReferenceProvider=x8.hasReferenceProvider.bindTo(t),this._hasRenameProvider=x8.hasRenameProvider.bindTo(t),this._hasSignatureHelpProvider=x8.hasSignatureHelpProvider.bindTo(t),this._hasInlayHintsProvider=x8.hasInlayHintsProvider.bindTo(t),this._hasDocumentFormattingProvider=x8.hasDocumentFormattingProvider.bindTo(t),this._hasDocumentSelectionFormattingProvider=x8.hasDocumentSelectionFormattingProvider.bindTo(t),this._hasMultipleDocumentFormattingProvider=x8.hasMultipleDocumentFormattingProvider.bindTo(t),this._hasMultipleDocumentSelectionFormattingProvider=x8.hasMultipleDocumentSelectionFormattingProvider.bindTo(t),this._isInWalkThrough=x8.isInWalkThroughSnippet.bindTo(t);const n=()=>this._update();this._register(e.onDidChangeModel(n)),this._register(e.onDidChangeModelLanguage(n)),this._register(F$.onDidChange(n)),this._register(Y$.onDidChange(n)),this._register(q$.onDidChange(n)),this._register(W$.onDidChange(n)),this._register(H$.onDidChange(n)),this._register(U$.onDidChange(n)),this._register($$.onDidChange(n)),this._register(B$.onDidChange(n)),this._register(z$.onDidChange(n)),this._register(j$.onDidChange(n)),this._register(I$.onDidChange(n)),this._register(O$.onDidChange(n)),this._register(G$.onDidChange(n)),this._register(X$.onDidChange(n)),this._register(P$.onDidChange(n)),this._register(K$.onDidChange(n)),n()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents((()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()}))}_update(){const e=this._editor.getModel();e?this._contextKeyService.bufferChangeEvents((()=>{this._langId.set(e.getLanguageId()),this._hasCompletionItemProvider.set(F$.has(e)),this._hasCodeActionsProvider.set(Y$.has(e)),this._hasCodeLensProvider.set(q$.has(e)),this._hasDefinitionProvider.set(W$.has(e)),this._hasDeclarationProvider.set(H$.has(e)),this._hasImplementationProvider.set(U$.has(e)),this._hasTypeDefinitionProvider.set($$.has(e)),this._hasHoverProvider.set(B$.has(e)),this._hasDocumentHighlightProvider.set(z$.has(e)),this._hasDocumentSymbolProvider.set(j$.has(e)),this._hasReferenceProvider.set(I$.has(e)),this._hasRenameProvider.set(O$.has(e)),this._hasSignatureHelpProvider.set(P$.has(e)),this._hasInlayHintsProvider.set(K$.has(e)),this._hasDocumentFormattingProvider.set(G$.has(e)||X$.has(e)),this._hasDocumentSelectionFormattingProvider.set(X$.has(e)),this._hasMultipleDocumentFormattingProvider.set(G$.all(e).length+X$.all(e).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(X$.all(e).length>1),this._isInWalkThrough.set(e.uri.scheme===kV.walkThroughSnippet)})):this.reset()}}class nte extends KP{constructor(e){super(),this._onChange=this._register(new nB),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(pW(e)),this._register(this._domFocusTracker.onDidFocus((()=>{this._hasFocus=!0,this._onChange.fire(void 0)}))),this._register(this._domFocusTracker.onDidBlur((()=>{this._hasFocus=!1,this._onChange.fire(void 0)})))}hasFocus(){return this._hasFocus}}const ite=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),rte=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function ote(e){return ite+encodeURIComponent(e.toString())+rte}const ste=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),ate=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');vJ(((e,t)=>{const n=e.getColor(s4);n&&t.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${n}; }`);const i=e.getColor(o4);i&&t.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${ote(i)}") repeat-x bottom left; }`);const r=e.getColor(r4);r&&t.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${r}; }`);const o=e.getColor(c4);o&&t.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${o}; }`);const s=e.getColor(l4);s&&t.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${ote(s)}") repeat-x bottom left; }`);const a=e.getColor(a4);a&&t.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${a}; }`);const l=e.getColor(d4);l&&t.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${l}; }`);const c=e.getColor(h4);c&&t.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${ote(c)}") repeat-x bottom left; }`);const u=e.getColor(u4);u&&t.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${u}; }`);const h=e.getColor(p4);h&&t.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${h}; }`);const d=e.getColor(f4);var f;d&&t.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${f=d,ste+encodeURIComponent(f.toString())+ate}") no-repeat bottom left; }`);const p=e.getColor(a5);p&&t.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${p.rgba.a}; }`);const g=e.getColor(s5);g&&t.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${g}; }`);const m=e.getColor(m4)||"inherit";t.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${m}}`)}));class lte{constructor(e,t,n){const i=e=>this.emitter.fire(e);this.emitter=new nB({onFirstListenerAdd:()=>e.addEventListener(t,i,n),onLastListenerRemove:()=>e.removeEventListener(t,i,n)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}function cte(e){return e.preventDefault(),e.stopPropagation(),e}var ute=globalThis&&globalThis.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};var hte,dte;(dte=hte||(hte={})).North="north",dte.South="south",dte.East="east",dte.West="west";const fte=new nB;const pte=new nB;class gte{constructor(){this.disposables=new qP}get onPointerMove(){return this.disposables.add(new lte(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new lte(window,"mouseup")).event}dispose(){this.disposables.dispose()}}ute([eQ],gte.prototype,"onPointerMove",null),ute([eQ],gte.prototype,"onPointerUp",null);class mte{constructor(e){this.el=e,this.disposables=new qP}get onPointerMove(){return this.disposables.add(new lte(this.el,tQ.Change)).event}get onPointerUp(){return this.disposables.add(new lte(this.el,tQ.End)).event}dispose(){this.disposables.dispose()}}ute([eQ],mte.prototype,"onPointerMove",null),ute([eQ],mte.prototype,"onPointerUp",null);class vte{constructor(e){this.factory=e}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}ute([eQ],vte.prototype,"onPointerMove",null),ute([eQ],vte.prototype,"onPointerUp",null);class yte extends KP{constructor(e,t,n){super(),this.hoverDelay=300,this.hoverDelayer=this._register(new fV(this.hoverDelay)),this._state=3,this._onDidEnablementChange=this._register(new nB),this.onDidEnablementChange=this._onDidEnablementChange.event,this._onDidStart=this._register(new nB),this.onDidStart=this._onDidStart.event,this._onDidChange=this._register(new nB),this.onDidChange=this._onDidChange.event,this._onDidReset=this._register(new nB),this.onDidReset=this._onDidReset.event,this._onDidEnd=this._register(new nB),this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.orthogonalStartSashDisposables=this._register(new qP),this.orthogonalStartDragHandleDisposables=this._register(new qP),this.orthogonalEndSashDisposables=this._register(new qP),this.orthogonalEndDragHandleDisposables=this._register(new qP),this.el=gW(e,wW(".monaco-sash")),n.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${n.orthogonalEdge}`),WR&&this.el.classList.add("mac");const i=this._register(new lte(this.el,"mousedown")).event;this._register(i((e=>this.onPointerStart(e,new gte)),this));const r=this._register(new lte(this.el,"dblclick")).event;this._register(r(this.onPointerDoublePress,this));const o=this._register(new lte(this.el,"mouseenter")).event;this._register(o((()=>yte.onMouseEnter(this))));const s=this._register(new lte(this.el,"mouseleave")).event;this._register(s((()=>yte.onMouseLeave(this)))),this._register(rQ.addTarget(this.el));const a=eB.map(this._register(new lte(this.el,tQ.Start)).event,(e=>{var t;return Object.assign(Object.assign({},e),{target:null!==(t=e.initialTarget)&&void 0!==t?t:null})}));this._register(a((e=>this.onPointerStart(e,new mte(this.el))),this));const l=this._register(new lte(this.el,tQ.Tap)).event,c=eB.map(eB.filter(eB.debounce(l,((e,t)=>{var n;return{event:t,count:(null!==(n=null==e?void 0:e.count)&&void 0!==n?n:0)+1}}),250),(({count:e})=>2===e)),(({event:e})=>{var t;return Object.assign(Object.assign({},e),{target:null!==(t=e.initialTarget)&&void 0!==t?t:null})}));this._register(c(this.onPointerDoublePress,this)),"number"==typeof n.size?(this.size=n.size,0===n.orientation?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=4,this._register(fte.event((e=>{this.size=e,this.layout()})))),this._register(pte.event((e=>this.hoverDelay=e))),this.hidden=!1,this.layoutProvider=t,this.orthogonalStartSash=n.orthogonalStartSash,this.orthogonalEndSash=n.orthogonalEndSash,this.orientation=n.orientation||0,1===this.orientation?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",false),this.layout()}get state(){return this._state}set state(e){this._state!==e&&(this.el.classList.toggle("disabled",0===e),this.el.classList.toggle("minimum",1===e),this.el.classList.toggle("maximum",2===e),this._state=e,this._onDidEnablementChange.fire(e))}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(e){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),e){const t=t=>{this.orthogonalStartDragHandleDisposables.clear(),0!==t&&(this._orthogonalStartDragHandle=gW(this.el,wW(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add($P((()=>this._orthogonalStartDragHandle.remove()))),this.orthogonalStartDragHandleDisposables.add(new lte(this._orthogonalStartDragHandle,"mouseenter")).event((()=>yte.onMouseEnter(e)),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new lte(this._orthogonalStartDragHandle,"mouseleave")).event((()=>yte.onMouseLeave(e)),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(e.onDidEnablementChange(t,this)),t(e.state)}this._orthogonalStartSash=e}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(e){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),e){const t=t=>{this.orthogonalEndDragHandleDisposables.clear(),0!==t&&(this._orthogonalEndDragHandle=gW(this.el,wW(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add($P((()=>this._orthogonalEndDragHandle.remove()))),this.orthogonalEndDragHandleDisposables.add(new lte(this._orthogonalEndDragHandle,"mouseenter")).event((()=>yte.onMouseEnter(e)),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new lte(this._orthogonalEndDragHandle,"mouseleave")).event((()=>yte.onMouseLeave(e)),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(e.onDidEnablementChange(t,this)),t(e.state)}this._orthogonalEndSash=e}onPointerStart(e,t){dW(e);let n=!1;if(!e.__orthogonalSashEvent){const i=this.getOrthogonalSash(e);i&&(n=!0,e.__orthogonalSashEvent=!0,i.onPointerStart(e,new vte(t)))}if(this.linkedSash&&!e.__linkedSashEvent&&(e.__linkedSashEvent=!0,this.linkedSash.onPointerStart(e,new vte(t))),!this.state)return;const i=(r="iframe",Array.prototype.slice.call(document.getElementsByTagName(r),0));var r;for(const d of i)d.style.pointerEvents="none";const o=e.pageX,s=e.pageY,a=e.altKey,l={startX:o,currentX:o,startY:s,currentY:s,altKey:a};this.el.classList.add("active"),this._onDidStart.fire(l);const c=oW(this.el),u=()=>{let e="";e=n?"all-scroll":1===this.orientation?1===this.state?"s-resize":2===this.state?"n-resize":WR?"row-resize":"ns-resize":1===this.state?"e-resize":2===this.state?"w-resize":WR?"col-resize":"ew-resize",c.textContent=`* { cursor: ${e} !important; }`},h=new qP;u(),n||this.onDidEnablementChange(u,null,h);t.onPointerMove((e=>{dW(e,!1);const t={startX:o,currentX:e.pageX,startY:s,currentY:e.pageY,altKey:a};this._onDidChange.fire(t)}),null,h),t.onPointerUp((e=>{dW(e,!1),this.el.removeChild(c),this.el.classList.remove("active"),this._onDidEnd.fire(),h.dispose();for(const t of i)t.style.pointerEvents="auto"}),null,h),h.add(t)}onPointerDoublePress(e){const t=this.getOrthogonalSash(e);t&&t._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(e,t=!1){e.el.classList.contains("active")?(e.hoverDelayer.cancel(),e.el.classList.add("hover")):e.hoverDelayer.trigger((()=>e.el.classList.add("hover")),e.hoverDelay).then(void 0,(()=>{})),!t&&e.linkedSash&&yte.onMouseEnter(e.linkedSash,!0)}static onMouseLeave(e,t=!1){e.hoverDelayer.cancel(),e.el.classList.remove("hover"),!t&&e.linkedSash&&yte.onMouseLeave(e.linkedSash,!0)}clearSashHoverState(){yte.onMouseLeave(this)}layout(){if(0===this.orientation){const e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{const e=this.layoutProvider;this.el.style.top=e.getHorizontalSashTop(this)-this.size/2+"px",e.getHorizontalSashLeft&&(this.el.style.left=e.getHorizontalSashLeft(this)+"px"),e.getHorizontalSashWidth&&(this.el.style.width=e.getHorizontalSashWidth(this)+"px")}}hide(){this.hidden=!0,this.el.style.display="none",this.el.setAttribute("aria-hidden","true")}getOrthogonalSash(e){if(e.target&&e.target instanceof HTMLElement)return e.target.classList.contains("orthogonal-drag-handle")?e.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash:void 0}dispose(){super.dispose(),this.el.remove()}}const bte=Fz("IEditorCancelService"),_te=new $X("cancellableOperation",!1,DR(0,"Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));DK(bte,class{constructor(){this._tokens=new WeakMap}add(e,t){let n,i=this._tokens.get(e);return i||(i=e.invokeWithinContext((e=>({key:_te.bindTo(e.get(qX)),tokens:new ZP}))),this._tokens.set(e,i)),i.key.set(!0),n=i.tokens.push(t),()=>{n&&(n(),i.key.set(!i.tokens.isEmpty()),n=void 0)}}cancel(e){const t=this._tokens.get(e);if(!t)return;const n=t.tokens.pop();n&&(n.cancel(),t.key.set(!t.tokens.isEmpty()))}},!0),IJ(new class extends MJ{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:_te})}runEditorCommand(e,t){e.get(bte).cancel(t)}});class wte{constructor(e,t,n){this._visiblePosition=e,this._visiblePositionScrollDelta=t,this._cursorPosition=n}static capture(e){let t=null,n=0;if(0!==e.getScrollTop()){const i=e.getVisibleRanges();if(i.length>0){t=i[0].getStartPosition();const r=e.getTopForPosition(t.lineNumber,t.column);n=e.getScrollTop()-r}}return new wte(t,n,e.getPosition())}restore(e){if(this._visiblePosition){const t=e.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);e.setScrollTop(t+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(e){const t=e.getPosition();if(!this._cursorPosition||!t)return;const n=e.getTopForLineNumber(t.lineNumber)-e.getTopForLineNumber(this._cursorPosition.lineNumber);e.setScrollTop(e.getScrollTop()+n)}}const Cte={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:M6.text,TERMINALS:"Terminals"};class xte{constructor(e){this.data=e}update(){}getData(){return this.data}}const kte={CurrentDragAndDropData:void 0};class Ste extends KP{constructor(e,t,n={}){super(),this.options=n,this._context=e||this,this._action=t,t instanceof oJ&&this._register(t.onDidChange((e=>{this.element&&this.handleActionChangeEvent(e)})))}handleActionChangeEvent(e){void 0!==e.enabled&&this.updateEnabled(),void 0!==e.checked&&this.updateChecked(),void 0!==e.class&&this.updateClass(),void 0!==e.label&&(this.updateLabel(),this.updateTooltip()),void 0!==e.tooltip&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new sJ)),this._actionRunner}set actionRunner(e){this._actionRunner=e}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(e){this._context=e}render(e){const t=this.element=e;this._register(rQ.addTarget(e));const n=this.options&&this.options.draggable;n&&(e.draggable=!0,Wz&&this._register(AV(e,hW.DRAG_START,(e=>{var t;return null===(t=e.dataTransfer)||void 0===t?void 0:t.setData(Cte.TEXT,this._action.label)})))),this._register(AV(t,tQ.Tap,(e=>this.onClick(e,!0)))),this._register(AV(t,hW.MOUSE_DOWN,(e=>{n||dW(e,!0),this._action.enabled&&0===e.button&&t.classList.add("active")}))),WR&&this._register(AV(t,hW.CONTEXT_MENU,(e=>{0===e.button&&!0===e.ctrlKey&&this.onClick(e)}))),this._register(AV(t,hW.CLICK,(e=>{dW(e,!0),this.options&&this.options.isMenu||this.onClick(e)}))),this._register(AV(t,hW.DBLCLICK,(e=>{dW(e,!0)}))),[hW.MOUSE_UP,hW.MOUSE_OUT].forEach((e=>{this._register(AV(t,e,(e=>{dW(e),t.classList.remove("active")})))}))}onClick(e,t=!1){var n;dW(e,!0);const i=tU(this._context)?(null===(n=this.options)||void 0===n?void 0:n.useEventAsContext)?e:{preserveFocus:t}:this._context;this.actionRunner.run(this._action,i)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(e){this.element&&(this.element.tabIndex=e?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}class Dte extends Ste{constructor(e,t,n={}){super(e,t,n),this.options=n,this.options.icon=void 0!==n.icon&&n.icon,this.options.label=void 0===n.label||n.label,this.cssClass=""}render(e){super.render(e),this.element&&(this.label=gW(this.element,wW("a.action-label"))),this.label&&(this._action.id===aJ.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&(gW(this.element,wW("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(e){this.label&&(this.label.tabIndex=e?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let e=null;this.getAction().tooltip?e=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(e=this.getAction().label,this.options.keybinding&&(e=DR(0,"{0} ({1})",e,this.options.keybinding))),e&&this.label&&(this.label.title=e)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}var Ete=globalThis&&globalThis.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(nR){o(nR)}}function a(e){try{l(i.throw(e))}catch(nR){o(nR)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class Lte extends KP{constructor(e,t={}){var n,i,r,o,s,a;let l,c;switch(super(),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new nB),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new nB({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new nB),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new nB),this.onBeforeRun=this._onBeforeRun.event,this.options=t,this._context=null!==(n=t.context)&&void 0!==n?n:null,this._orientation=null!==(i=this.options.orientation)&&void 0!==i?i:0,this._triggerKeys={keyDown:null!==(o=null===(r=this.options.triggerKeys)||void 0===r?void 0:r.keyDown)&&void 0!==o&&o,keys:null!==(a=null===(s=this.options.triggerKeys)||void 0===s?void 0:s.keys)&&void 0!==a?a:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new sJ,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun((e=>this._onDidRun.fire(e)))),this._register(this._actionRunner.onBeforeRun((e=>this._onBeforeRun.fire(e)))),this._actionIds=[],this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",!1!==t.animated&&this.domNode.classList.add("animated"),this._orientation){case 0:l=[15],c=[17];break;case 1:l=[16],c=[18],this.domNode.className+=" vertical"}this._register(AV(this.domNode,hW.KEY_DOWN,(e=>{const t=new iV(e);let n=!0;const i="number"==typeof this.focusedItem?this.viewItems[this.focusedItem]:void 0;l&&(t.equals(l[0])||t.equals(l[1]))?n=this.focusPrevious():c&&(t.equals(c[0])||t.equals(c[1]))?n=this.focusNext():t.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():t.equals(14)?n=this.focusFirst():t.equals(13)?n=this.focusLast():t.equals(2)&&i instanceof Ste&&i.trapsArrowNavigation?n=this.focusNext():this.isTriggerKeyEvent(t)?this._triggerKeys.keyDown?this.doTrigger(t):this.triggerKeyDown=!0:n=!1,n&&(t.preventDefault(),t.stopPropagation())}))),this._register(AV(this.domNode,hW.KEY_UP,(e=>{const t=new iV(e);this.isTriggerKeyEvent(t)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(t)),t.preventDefault(),t.stopPropagation()):(t.equals(2)||t.equals(1026))&&this.updateFocusedItem()}))),this.focusTracker=this._register(pW(this.domNode)),this._register(this.focusTracker.onDidBlur((()=>{rW()!==this.domNode&&JV(rW(),this.domNode)||(this._onDidBlur.fire(),this.focusedItem=void 0,this.triggerKeyDown=!1)}))),this._register(this.focusTracker.onDidFocus((()=>this.updateFocusedItem()))),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),e.appendChild(this.domNode)}isTriggerKeyEvent(e){let t=!1;return this._triggerKeys.keys.forEach((n=>{t=t||e.equals(n)})),t}updateFocusedItem(){for(let e=0;e<this.actionsList.children.length;e++){const t=this.actionsList.children[e];if(JV(rW(),t)){this.focusedItem=e;break}}}get context(){return this._context}set context(e){this._context=e,this.viewItems.forEach((t=>t.setActionContext(e)))}get actionRunner(){return this._actionRunner}set actionRunner(e){e&&(this._actionRunner=e,this.viewItems.forEach((t=>t.actionRunner=e)))}getContainer(){return this.domNode}push(e,t={}){const n=Array.isArray(e)?e:[e];let i=ZH(t.index)?t.index:null;n.forEach((e=>{const n=document.createElement("li");let r;n.className="action-item",n.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(AV(n,hW.CONTEXT_MENU,(e=>{dW(e,!0)}))),this.options.actionViewItemProvider&&(r=this.options.actionViewItemProvider(e)),r||(r=new Dte(this.context,e,t)),r.actionRunner=this._actionRunner,r.setActionContext(this.context),r.render(n),this.focusable&&r instanceof Ste&&0===this.viewItems.length&&r.setFocusable(!0),null===i||i<0||i>=this.actionsList.children.length?(this.actionsList.appendChild(n),this.viewItems.push(r),this._actionIds.push(e.id)):(this.actionsList.insertBefore(n,this.actionsList.children[i]),this.viewItems.splice(i,0,r),this._actionIds.splice(i,0,e.id),i++)})),"number"==typeof this.focusedItem&&this.focus(this.focusedItem)}clear(){HP(this.viewItems),this.viewItems=[],this._actionIds=[],TV(this.actionsList)}length(){return this.viewItems.length}focus(e){let t,n=!1;if(void 0===e?n=!0:"number"==typeof e?t=e:"boolean"==typeof e&&(n=e),n&&void 0===this.focusedItem){const e=this.viewItems.findIndex((e=>e.isEnabled()));this.focusedItem=-1===e?void 0:e,this.updateFocus()}else void 0!==t&&(this.focusedItem=t),this.updateFocus()}focusFirst(){return this.focusedItem=this.length()>1?1:0,this.focusPrevious()}focusLast(){return this.focusedItem=this.length()<2?0:this.length()-2,this.focusNext()}focusNext(){if(void 0===this.focusedItem)this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const e=this.focusedItem;let t;do{if(this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=e,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,t=this.viewItems[this.focusedItem]}while(this.focusedItem!==e&&this.options.focusOnlyEnabledItems&&!t.isEnabled());return this.updateFocus(),!0}focusPrevious(){if(void 0===this.focusedItem)this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const e=this.focusedItem;let t;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(this.options.preventLoopNavigation)return this.focusedItem=e,!1;this.focusedItem=this.viewItems.length-1}t=this.viewItems[this.focusedItem]}while(this.focusedItem!==e&&this.options.focusOnlyEnabledItems&&!t.isEnabled());return this.updateFocus(!0),!0}updateFocus(e,t){void 0===this.focusedItem&&this.actionsList.focus({preventScroll:t});for(let n=0;n<this.viewItems.length;n++){const i=this.viewItems[n],r=i;if(n===this.focusedItem){let n=!0;iU(r.focus)||(n=!1),this.options.focusOnlyEnabledItems&&iU(i.isEnabled)&&!i.isEnabled()&&(n=!1),n?r.focus(e):this.actionsList.focus({preventScroll:t})}else iU(r.blur)&&r.blur()}}doTrigger(e){if(void 0===this.focusedItem)return;const t=this.viewItems[this.focusedItem];if(t instanceof Ste){const n=null===t._context||void 0===t._context?e:t._context;this.run(t._action,n)}}run(e,t){return Ete(this,void 0,void 0,(function*(){yield this._actionRunner.run(e,t)}))}dispose(){HP(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}const Tte=new class{constructor(){this._onDidChange=new nB,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:DR(0,"The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:DR(0,"The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${k$.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(e,t,n,i){const r=this.iconsById[e];if(r){if(n&&!r.description){r.description=n,this.iconSchema.properties[e].markdownDescription=`${n} $(${e})`;const t=this.iconReferenceSchema.enum.indexOf(e);-1!==t&&(this.iconReferenceSchema.enumDescriptions[t]=n),this._onDidChange.fire()}return r}let o={id:e,description:n,defaults:t,deprecationMessage:i};this.iconsById[e]=o;let s={$ref:"#/definitions/icons"};return i&&(s.deprecationMessage=i),n&&(s.markdownDescription=`${n}: $(${e})`),this.iconSchema.properties[e]=s,this.iconReferenceSchema.enum.push(e),this.iconReferenceSchema.enumDescriptions.push(n||""),this._onDidChange.fire(),{id:e}}getIcons(){return Object.keys(this.iconsById).map((e=>this.iconsById[e]))}getIcon(e){return this.iconsById[e]}getIconSchema(){return this.iconSchema}getIconFont(e){return this.iconFontsById[e]}toString(){const e=(e,t)=>e.id.localeCompare(t.id),t=e=>{for(;dJ.isThemeIcon(e.defaults);)e=this.iconsById[e.defaults.id];return`codicon codicon-${e?e.id:""}`};let n=[];n.push("| preview     | identifier                        | default codicon ID                | description"),n.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const i=Object.keys(this.iconsById).map((e=>this.iconsById[e]));for(const r of i.filter((e=>!!e.description)).sort(e))n.push(`|<i class="${t(r)}"></i>|${r.id}|${dJ.isThemeIcon(r.defaults)?r.defaults.id:r.id}|${r.description||""}|`);n.push("| preview     | identifier                        "),n.push("| ----------- | --------------------------------- |");for(const r of i.filter((e=>!dJ.isThemeIcon(e.defaults))).sort(e))n.push(`|<i class="${t(r)}"></i>|${r.id}|`);return n.join("\n")}};function Nte(e,t,n,i){return Tte.registerIcon(e,t,n,i)}rK.add("base.contributions.icons",Tte),function(){for(const e of w$.all)Tte.registerIcon(e.id,e.definition,e.description);w$.onDidRegister((e=>Tte.registerIcon(e.id,e.definition,e.description)))}();let Mte=rK.as(oK);Mte.registerSchema("vscode://schemas/icons",Tte.getIconSchema());const Ate=new bV((()=>Mte.notifySchemaChanged("vscode://schemas/icons")),200);Tte.onDidChange((()=>{Ate.isScheduled()||Ate.schedule()})),Nte("widget-close",x$.close,DR(0,"Icon for the close action in widgets."));var Ite,Ote=globalThis&&globalThis.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Fte=globalThis&&globalThis.__param||function(e,t){return function(n,i){t(n,i,e)}},Rte=globalThis&&globalThis.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(nR){o(nR)}}function a(e){try{l(i.throw(e))}catch(nR){o(nR)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class Pte{constructor(e,t,n,i){this.originalLineStart=e,this.originalLineEnd=t,this.modifiedLineStart=n,this.modifiedLineEnd=i}getType(){return 0===this.originalLineStart?1:0===this.modifiedLineStart?2:0}}class Bte{constructor(e){this.entries=e}}const jte=Nte("diff-review-insert",x$.add,DR(0,"Icon for 'Insert' in diff review.")),zte=Nte("diff-review-remove",x$.remove,DR(0,"Icon for 'Remove' in diff review.")),Vte=Nte("diff-review-close",x$.close,DR(0,"Icon for 'Close' in diff review."));let Wte=class e extends KP{constructor(e,t){super(),this._modeService=t,this._width=0,this._diffEditor=e,this._isVisible=!1,this.shadow=QJ(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=QJ(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new Lte(this.actionBarContainer.domNode)),this._actionBar.push(new oJ("diffreview.close",DR(0,"Close"),"close-diff-review "+dJ.asClassName(Vte),!0,(()=>Rte(this,void 0,void 0,(function*(){return this.hide()})))),{label:!1,icon:!0}),this.domNode=QJ(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=QJ(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new S7(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(e.onDidUpdateDiff((()=>{this._isVisible&&(this._diffs=this._compute(),this._render())}))),this._register(e.getModifiedEditor().onDidChangeCursorPosition((()=>{this._isVisible&&this._render()}))),this._register(IV(this.domNode.domNode,"click",(e=>{e.preventDefault();let t=QV(e.target,"diff-review-row");t&&this._goToRow(t)}))),this._register(IV(this.domNode.domNode,"keydown",(e=>{(e.equals(18)||e.equals(2066)||e.equals(530))&&(e.preventDefault(),this._goToRow(this._getNextRow())),(e.equals(16)||e.equals(2064)||e.equals(528))&&(e.preventDefault(),this._goToRow(this._getPrevRow())),(e.equals(9)||e.equals(2057)||e.equals(521)||e.equals(1033))&&(e.preventDefault(),this.hide()),(e.equals(10)||e.equals(3))&&(e.preventDefault(),this.accept())}))),this._diffs=[],this._currentDiff=null}prev(){let e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let t=-1;for(let e=0,n=this._diffs.length;e<n;e++)if(this._diffs[e]===this._currentDiff){t=e;break}e=this._diffs.length+t-1}else e=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;e%=this._diffs.length;const t=this._diffs[e].entries;this._diffEditor.setPosition(new lj(t[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:t[0].modifiedLineStart,endColumn:1073741824,endLineNumber:t[t.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let t=-1;for(let e=0,n=this._diffs.length;e<n;e++)if(this._diffs[e]===this._currentDiff){t=e;break}e=t+1}else e=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;e%=this._diffs.length;const t=this._diffs[e].entries;this._diffEditor.setPosition(new lj(t[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:t[0].modifiedLineStart,endColumn:1073741824,endLineNumber:t[t.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let e=-1,t=this._getCurrentFocusedRow();if(t){let n=parseInt(t.getAttribute("data-line"),10);isNaN(n)||(e=n)}this.hide(),-1!==e&&(this._diffEditor.setPosition(new lj(e,1)),this._diffEditor.revealPosition(new lj(e,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){let e=this._getCurrentFocusedRow();return e?e.previousElementSibling?e.previousElementSibling:e:this._getFirstRow()}_getNextRow(){let e=this._getCurrentFocusedRow();return e?e.nextElementSibling?e.nextElementSibling:e:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){let e=document.activeElement;return e&&/diff-review-row/.test(e.className)?e:null}_goToRow(e){let t=this._getCurrentFocusedRow();e.tabIndex=0,e.focus(),t&&t!==e&&(t.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(e,t,n){this._width=t,this.shadow.setTop(e-6),this.shadow.setWidth(t),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(e),this.domNode.setWidth(t),this.domNode.setHeight(n),this._content.setHeight(n),this._content.setWidth(t),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const t=this._diffEditor.getLineChanges();if(!t||0===t.length)return[];const n=this._diffEditor.getOriginalEditor().getModel(),i=this._diffEditor.getModifiedEditor().getModel();return n&&i?e._mergeAdjacent(t,n.getLineCount(),i.getLineCount()):[]}static _mergeAdjacent(e,t,n){if(!e||0===e.length)return[];let i=[],r=0;for(let l=0,c=e.length;l<c;l++){const o=e[l],s=o.originalStartLineNumber,a=o.originalEndLineNumber,u=o.modifiedStartLineNumber,h=o.modifiedEndLineNumber;let d=[],f=0;{const t=0===a?s:s-1,n=0===h?u:u-1;let i=1,r=1;if(l>0){const t=e[l-1];i=0===t.originalEndLineNumber?t.originalStartLineNumber+1:t.originalEndLineNumber+1,r=0===t.modifiedEndLineNumber?t.modifiedStartLineNumber+1:t.modifiedEndLineNumber+1}let o=t-3+1,c=n-3+1;if(o<i){const e=i-o;o+=e,c+=e}if(c<r){const e=r-c;o+=e,c+=e}d[f++]=new Pte(o,t,c,n)}0!==a&&(d[f++]=new Pte(s,a,0,0)),0!==h&&(d[f++]=new Pte(0,0,u,h));{const i=0===a?s+1:a+1,r=0===h?u+1:h+1;let o=t,p=n;if(l+1<c){const t=e[l+1];o=0===t.originalEndLineNumber?t.originalStartLineNumber:t.originalStartLineNumber-1,p=0===t.modifiedEndLineNumber?t.modifiedStartLineNumber:t.modifiedStartLineNumber-1}let g=i+3-1,m=r+3-1;if(g>o){const e=o-g;g+=e,m+=e}if(m>p){const e=p-m;g+=e,m+=e}d[f++]=new Pte(i,g,r,m)}i[r++]=new Bte(d)}let o=i[0].entries,s=[],a=0;for(let l=1,c=i.length;l<c;l++){const e=i[l].entries,t=o[o.length-1],n=e[0];0===t.getType()&&0===n.getType()&&n.originalLineStart<=t.originalLineEnd?(o[o.length-1]=new Pte(t.originalLineStart,n.originalLineEnd,t.modifiedLineStart,n.modifiedLineEnd),o=o.concat(e.slice(1))):(s[a++]=new Bte(o),o=e)}return s[a++]=new Bte(o),s}_findDiffIndex(e){const t=e.lineNumber;for(let n=0,i=this._diffs.length;n<i;n++){const e=this._diffs[n].entries;if(t<=e[e.length-1].modifiedLineEnd)return n}return 0}_render(){const t=this._diffEditor.getOriginalEditor().getOptions(),n=this._diffEditor.getModifiedEditor().getOptions(),i=this._diffEditor.getOriginalEditor().getModel(),r=this._diffEditor.getModifiedEditor().getModel(),o=i.getOptions(),s=r.getOptions();if(!this._isVisible||!i||!r)return TV(this._content.domNode),this._currentDiff=null,void this.scrollbar.scanDomNode();this._diffEditor.updateOptions({readOnly:!0});const a=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[a]===this._currentDiff)return;this._currentDiff=this._diffs[a];const l=this._diffs[a].entries;let c=document.createElement("div");c.className="diff-review-table",c.setAttribute("role","list"),c.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),ZJ.applyFontInfoSlow(c,n.get(43));let u=0,h=0,d=0,f=0;for(let e=0,x=l.length;e<x;e++){const t=l[e],n=t.originalLineStart,i=t.originalLineEnd,r=t.modifiedLineStart,o=t.modifiedLineEnd;0!==n&&(0===u||n<u)&&(u=n),0!==i&&(0===h||i>h)&&(h=i),0!==r&&(0===d||r<d)&&(d=r),0!==o&&(0===f||o>f)&&(f=o)}let p=document.createElement("div");p.className="diff-review-row";let g=document.createElement("div");g.className="diff-review-cell diff-review-summary";const m=h-u+1,v=f-d+1;g.appendChild(document.createTextNode(`${a+1}/${this._diffs.length}: @@ -${u},${m} +${d},${v} @@`)),p.setAttribute("data-line",String(d));const y=e=>0===e?DR(0,"no lines changed"):1===e?DR(0,"1 line changed"):DR(0,"{0} lines changed",e),b=y(m),_=y(v);p.setAttribute("aria-label",DR(0,"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",a+1,this._diffs.length,u,b,d,_)),p.appendChild(g),p.setAttribute("role","listitem"),c.appendChild(p);const w=n.get(58);let C=d;for(let x=0,k=l.length;x<k;x++){const a=l[x];e._renderSection(c,a,C,w,this._width,t,i,o,n,r,s,this._modeService.languageIdCodec),0!==a.modifiedLineStart&&(C=a.modifiedLineEnd)}TV(this._content.domNode),this._content.domNode.appendChild(c),this.scrollbar.scanDomNode()}static _renderSection(t,n,i,r,o,s,a,l,c,u,h,d){const f=n.getType();let p="diff-review-row",g="";let m=null;switch(f){case 1:p="diff-review-row line-insert",g=" char-insert",m=jte;break;case 2:p="diff-review-row line-delete",g=" char-delete",m=zte}const v=n.originalLineStart,y=n.originalLineEnd,b=n.modifiedLineStart,_=n.modifiedLineEnd,w=Math.max(_-b,y-v),C=s.get(129),x=C.glyphMarginWidth+C.lineNumbersWidth,k=c.get(129),S=10+k.glyphMarginWidth+k.lineNumbersWidth;for(let D=0;D<=w;D++){const n=0===v?0:v+D,y=0===b?0:b+D,_=document.createElement("div");_.style.minWidth=o+"px",_.className=p,_.setAttribute("role","listitem"),0!==y&&(i=y),_.setAttribute("data-line",String(i));let w=document.createElement("div");w.className="diff-review-cell",w.style.height=`${r}px`,_.appendChild(w);const C=document.createElement("span");C.style.width=x+"px",C.style.minWidth=x+"px",C.className="diff-review-line-number"+g,0!==n?C.appendChild(document.createTextNode(String(n))):C.innerText="",w.appendChild(C);const k=document.createElement("span");k.style.width=S+"px",k.style.minWidth=S+"px",k.style.paddingRight="10px",k.className="diff-review-line-number"+g,0!==y?k.appendChild(document.createTextNode(String(y))):k.innerText="",w.appendChild(k);const E=document.createElement("span");if(E.className="diff-review-spacer",m){const e=document.createElement("span");e.className=dJ.asClassName(m),e.innerText="",E.appendChild(e)}else E.innerText="";let L;if(w.appendChild(E),0!==y){let t=this._renderLine(u,c,h.tabSize,y,d);e._ttPolicy&&(t=e._ttPolicy.createHTML(t)),w.insertAdjacentHTML("beforeend",t),L=u.getLineContent(y)}else{let t=this._renderLine(a,s,l.tabSize,n,d);e._ttPolicy&&(t=e._ttPolicy.createHTML(t)),w.insertAdjacentHTML("beforeend",t),L=a.getLineContent(n)}0===L.length&&(L=DR(0,"blank"));let T="";switch(f){case 0:T=n===y?DR(0,"{0} unchanged line {1}",L,n):DR(0,"{0} original line {1} modified line {2}",L,n,y);break;case 1:T=DR(0,"+ {0} modified line {1}",L,y);break;case 2:T=DR(0,"- {0} original line {1}",L,n)}_.setAttribute("aria-label",T),t.appendChild(_)}}static _renderLine(e,t,n,i,r){const o=e.getLineContent(i),s=t.get(43),a=GY.createEmpty(o,r),l=vG.isBasicASCII(o,e.mightContainNonBasicASCII()),c=vG.containsRTL(o,l,e.mightContainRTL());return lG(new nG(s.isMonospace&&!t.get(29),s.canUseHalfwidthRightwardsArrow,o,!1,l,c,0,a,[],n,0,s.spaceWidth,s.middotWidth,s.wsmiddotWidth,t.get(104),t.get(87),t.get(82),t.get(44)!==wP.OFF,null)).html}};Wte._ttPolicy=null===(Ite=window.trustedTypes)||void 0===Ite?void 0:Ite.createPolicy("diffReview",{createHTML:e=>e}),Wte=Ote([Fte(1,lq)],Wte),vJ(((e,t)=>{const n=e.getColor(Q3);n&&t.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${n}; }`);const i=e.getColor(Q2);i&&t.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${i} 0 -6px 6px -6px inset; }`)}));function Hte(e){const t=e.get(Pz),n=t.listDiffEditors(),i=t.getActiveCodeEditor();if(!i)return null;for(let r=0,o=n.length;r<o;r++){const e=n[r];if(e.getModifiedEditor().getId()===i.getId()||e.getOriginalEditor().getId()===i.getId())return e}return null}OJ(class extends AJ{constructor(){super({id:"editor.action.diffReview.next",label:DR(0,"Go to Next Difference"),alias:"Go to Next Difference",precondition:SX.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(e,t){const n=Hte(e);n&&n.diffReviewNext()}}),OJ(class extends AJ{constructor(){super({id:"editor.action.diffReview.prev",label:DR(0,"Go to Previous Difference"),alias:"Go to Previous Difference",precondition:SX.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(e,t){const n=Hte(e);n&&n.diffReviewPrev()}});const Ute=Fz("contextViewService"),$te=Fz("contextMenuService");var qte=globalThis&&globalThis.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(nR){o(nR)}}function a(e){try{l(i.throw(e))}catch(nR){o(nR)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class Kte extends KP{constructor(e,t,n,i,r,o){super(),this._viewZoneId=e,this._marginDomNode=t,this.editor=n,this.diff=i,this._contextMenuService=r,this._clipboardService=o,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=x$.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const s=n.getOption(58),a=n.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${s}px`,this._diffActions.style.lineHeight=`${s}px`,this._marginDomNode.appendChild(this._diffActions);const l=[],c=0===i.modifiedEndLineNumber;l.push(new oJ("diff.clipboard.copyDeletedContent",c?i.originalEndLineNumber>i.modifiedStartLineNumber?DR(0,"Copy deleted lines"):DR(0,"Copy deleted line"):i.originalEndLineNumber>i.modifiedStartLineNumber?DR(0,"Copy changed lines"):DR(0,"Copy changed line"),void 0,!0,(()=>qte(this,void 0,void 0,(function*(){const e=new cj(i.originalStartLineNumber,1,i.originalEndLineNumber+1,1),t=i.originalModel.getValueInRange(e);yield this._clipboardService.writeText(t)})))));let u,h=0;i.originalEndLineNumber>i.modifiedStartLineNumber&&(u=new oJ("diff.clipboard.copyDeletedLineContent",DR(0,c?"Copy deleted line ({0})":"Copy changed line ({0})",i.originalStartLineNumber),void 0,!0,(()=>qte(this,void 0,void 0,(function*(){const e=i.originalModel.getLineContent(i.originalStartLineNumber+h);if(""===e){const e=i.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(0===e?"\n":"\r\n")}else yield this._clipboardService.writeText(e)})))),l.push(u));n.getOption(80)||l.push(new oJ("diff.inline.revertChange",DR(0,"Revert this change"),void 0,!0,(()=>qte(this,void 0,void 0,(function*(){const e=new cj(i.originalStartLineNumber,1,i.originalEndLineNumber,i.originalModel.getLineMaxColumn(i.originalEndLineNumber)),t=i.originalModel.getValueInRange(e);if(0===i.modifiedEndLineNumber){const e=n.getModel().getLineMaxColumn(i.modifiedStartLineNumber);n.executeEdits("diffEditor",[{range:new cj(i.modifiedStartLineNumber,e,i.modifiedStartLineNumber,e),text:a+t}])}else{const e=n.getModel().getLineMaxColumn(i.modifiedEndLineNumber);n.executeEdits("diffEditor",[{range:new cj(i.modifiedStartLineNumber,1,i.modifiedEndLineNumber,e),text:t}])}})))));const d=(e,t)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:e,y:t}),getActions:()=>(u&&(u.label=DR(0,c?"Copy deleted line ({0})":"Copy changed line ({0})",i.originalStartLineNumber+h)),l),autoSelectFirstItem:!0})};this._register(IV(this._diffActions,"mousedown",(e=>{const{top:t,height:n}=qV(this._diffActions);let i=Math.floor(s/3);e.preventDefault(),d(e.posx,t+n+i)}))),this._register(n.onMouseMove((e=>{if(8===e.target.type||5===e.target.type){e.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,h=this._updateLightBulbPosition(this._marginDomNode,e.event.browserEvent.y,s)):this.visibility=!1}else this.visibility=!1}))),this._register(n.onMouseDown((e=>{if(e.event.rightButton&&(8===e.target.type||5===e.target.type)){e.target.detail.viewZoneId===this._viewZoneId&&(e.event.preventDefault(),h=this._updateLightBulbPosition(this._marginDomNode,e.event.browserEvent.y,s),d(e.event.posx,e.event.posy+s))}})))}get visibility(){return this._visibility}set visibility(e){this._visibility!==e&&(this._visibility=e,this._diffActions.style.visibility=e?"visible":"hidden")}_updateLightBulbPosition(e,t,n){const{top:i}=qV(e),r=t-i,o=Math.floor(r/n),s=o*n;if(this._diffActions.style.top=`${s}px`,this.diff.viewLineCounts){let e=0;for(let t=0;t<this.diff.viewLineCounts.length;t++)if(e+=this.diff.viewLineCounts[t],o<e)return t}return o}}const Yte=Fz("clipboardService");Object.freeze({report(){}});const Gte=Fz("editorProgressService");var Xte,Zte=globalThis&&globalThis.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Jte=globalThis&&globalThis.__param||function(e,t){return function(n,i){t(n,i,e)}};class Qte{constructor(e,t){this._contextMenuService=e,this._clipboardService=t,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(e){return e.filter((e=>!this._zonesMap[String(e.id)]))}clean(e){this._zones.length>0&&e.changeViewZones((e=>{for(const t of this._zones)e.removeZone(t)})),this._zones=[],this._zonesMap={},this._decorations=e.deltaDecorations(this._decorations,[])}apply(e,t,n,i){const r=i?wte.capture(e):null;e.changeViewZones((t=>{var i;for(const e of this._zones)t.removeZone(e);for(const e of this._inlineDiffMargins)e.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let r=0,o=n.zones.length;r<o;r++){const o=n.zones[r];o.suppressMouseDown=!0;const s=t.addZone(o);this._zones.push(s),this._zonesMap[String(s)]=!0,n.zones[r].diff&&o.marginDomNode&&(o.suppressMouseDown=!1,0!==(null===(i=n.zones[r].diff)||void 0===i?void 0:i.originalModel.getValueLength())&&this._inlineDiffMargins.push(new Kte(s,o.marginDomNode,e,n.zones[r].diff,this._contextMenuService,this._clipboardService)))}})),r&&r.restore(e),this._decorations=e.deltaDecorations(this._decorations,n.decorations),t&&t.setZones(n.overviewZones)}}let ene=0;const tne=Nte("diff-insert",x$.add,DR(0,"Line decoration for inserts in the diff editor.")),nne=Nte("diff-remove",x$.remove,DR(0,"Line decoration for removals in the diff editor.")),ine=null===(Xte=window.trustedTypes)||void 0===Xte?void 0:Xte.createPolicy("diffEditorWidget",{createHTML:e=>e});let rne=class e extends KP{constructor(t,n,i,r,o,s,a,l,c,u,h,d){super(),this._editorProgressService=d,this._onDidDispose=this._register(new nB),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new nB),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new nB),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=o,this._codeEditorService=l,this._contextKeyService=this._register(s.createScoped(t)),this._instantiationService=a.createChild(new Lee([qX,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=c,this._notificationService=u,this._id=++ene,this._state=0,this._updatingDiffProgress=null,this._domElement=t,n=n||{},this._options=yne(n,{enableSplitViewResizing:!0,renderSideBySide:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),void 0!==n.isInEmbeddedEditor?this._contextKeyService.createKey("isInEmbeddedDiffEditor",n.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._updateDecorationsRunner=this._register(new bV((()=>this._updateDecorations()),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=e._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=QJ(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(IV(this._overviewDomElement,"mousedown",(e=>{this._modifiedEditor.delegateVerticalScrollbarMouseDown(e)}))),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new Qte(h,r),this._modifiedEditorState=new Qte(h,r),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new YJ(this._containerDomElement,n.dimension,(()=>this._onDidContainerSizeChanged()))),n.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(n,i.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(n,i.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=a.createInstance(Wte,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new une(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new dne(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(c.onDidColorThemeChange((t=>{this._strategy&&this._strategy.applyColors(t)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=e._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)})));const f=RJ.getDiffEditorContributions();for(const e of f)try{this._register(a.createInstance(e.ctor,this))}catch(p){IP(p)}this._codeEditorService.addDiffEditor(this)}_setState(e){this._state!==e&&(this._state=e,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),1===this._state&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(e,t){let n="monaco-diff-editor monaco-editor-background ";return t&&(n+="side-by-side "),n+=pJ(e.type),n}_recreateOverviewRulers(){this._options.renderOverviewRuler&&(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(t,n){const i=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(t),n);this._register(i.onDidScrollChange((e=>{this._isHandlingScrollEvent||(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())}))),this._register(i.onDidChangeViewZones((()=>{this._onViewZonesChanged()}))),this._register(i.onDidChangeConfiguration((e=>{i.getModel()&&(e.hasChanged(43)&&this._updateDecorationsRunner.schedule(),e.hasChanged(130)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))}))),this._register(i.onDidChangeHiddenAreas((()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()}))),this._register(i.onDidChangeModelContent((()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})));const r=this._contextKeyService.createKey("isInDiffLeftEditor",i.hasWidgetFocus());return this._register(i.onDidFocusEditorWidget((()=>r.set(!0)))),this._register(i.onDidBlurEditorWidget((()=>r.set(!1)))),this._register(i.onDidContentSizeChange((t=>{const n=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+e.ONE_OVERVIEW_WIDTH,i=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:i,contentWidth:n,contentHeightChanged:t.contentHeightChanged,contentWidthChanged:t.contentWidthChanged})}))),i}_createRightHandSideEditor(t,n){const i=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(t),n);this._register(i.onDidScrollChange((e=>{this._isHandlingScrollEvent||(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())}))),this._register(i.onDidChangeViewZones((()=>{this._onViewZonesChanged()}))),this._register(i.onDidChangeConfiguration((e=>{i.getModel()&&(e.hasChanged(43)&&this._updateDecorationsRunner.schedule(),e.hasChanged(130)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))}))),this._register(i.onDidChangeHiddenAreas((()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()}))),this._register(i.onDidChangeModelContent((()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}))),this._register(i.onDidChangeModelOptions((e=>{e.tabSize&&this._updateDecorationsRunner.schedule()})));const r=this._contextKeyService.createKey("isInDiffRightEditor",i.hasWidgetFocus());return this._register(i.onDidFocusEditorWidget((()=>r.set(!0)))),this._register(i.onDidBlurEditorWidget((()=>r.set(!1)))),this._register(i.onDidContentSizeChange((t=>{const n=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+e.ONE_OVERVIEW_WIDTH,i=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:i,contentWidth:n,contentHeightChanged:t.contentHeightChanged,contentWidthChanged:t.contentWidthChanged})}))),i}_createInnerEditor(e,t,n,i){return e.createInstance(Jee,t,n,i)}dispose(){this._codeEditorService.removeDiffEditor(this),-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return AU.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(t){const n=yne(t,this._options),i=(r=this._options,o=n,{enableSplitViewResizing:r.enableSplitViewResizing!==o.enableSplitViewResizing,renderSideBySide:r.renderSideBySide!==o.renderSideBySide,maxComputationTime:r.maxComputationTime!==o.maxComputationTime,maxFileSize:r.maxFileSize!==o.maxFileSize,ignoreTrimWhitespace:r.ignoreTrimWhitespace!==o.ignoreTrimWhitespace,renderIndicators:r.renderIndicators!==o.renderIndicators,originalEditable:r.originalEditable!==o.originalEditable,diffCodeLens:r.diffCodeLens!==o.diffCodeLens,renderOverviewRuler:r.renderOverviewRuler!==o.renderOverviewRuler,diffWordWrap:r.diffWordWrap!==o.diffWordWrap});var r,o;this._options=n;const s=i.ignoreTrimWhitespace||i.renderIndicators,a=this._isVisible&&(i.maxComputationTime||i.maxFileSize);s?this._beginUpdateDecorations():a&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(t)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(t)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),i.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new une(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new dne(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=e._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),i.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(e){if(e&&(!e.original||!e.modified))throw new Error(e.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(e?e.original:null),this._modifiedEditor.setModel(e?e.modified:null),this._updateDecorationsRunner.cancel(),e&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),e&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getDomNode(){return this._domElement}getVisibleColumnFromPosition(e){return this._modifiedEditor.getVisibleColumnFromPosition(e)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(e){this._modifiedEditor.setPosition(e)}revealLine(e,t=0){this._modifiedEditor.revealLine(e,t)}revealLineInCenter(e,t=0){this._modifiedEditor.revealLineInCenter(e,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(e,t)}revealLineNearTop(e,t=0){this._modifiedEditor.revealLineNearTop(e,t)}revealPosition(e,t=0){this._modifiedEditor.revealPosition(e,t)}revealPositionInCenter(e,t=0){this._modifiedEditor.revealPositionInCenter(e,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(e,t)}revealPositionNearTop(e,t=0){this._modifiedEditor.revealPositionNearTop(e,t)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(e){this._modifiedEditor.setSelection(e)}setSelections(e){this._modifiedEditor.setSelections(e)}revealLines(e,t,n=0){this._modifiedEditor.revealLines(e,t,n)}revealLinesInCenter(e,t,n=0){this._modifiedEditor.revealLinesInCenter(e,t,n)}revealLinesInCenterIfOutsideViewport(e,t,n=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(e,t,n)}revealLinesNearTop(e,t,n=0){this._modifiedEditor.revealLinesNearTop(e,t,n)}revealRange(e,t=0,n=!1,i=!0){this._modifiedEditor.revealRange(e,t,n,i)}revealRangeInCenter(e,t=0){this._modifiedEditor.revealRangeInCenter(e,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(e,t)}revealRangeNearTop(e,t=0){this._modifiedEditor.revealRangeNearTop(e,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(e,t)}revealRangeAtTop(e,t=0){this._modifiedEditor.revealRangeAtTop(e,t)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){return{original:this._originalEditor.saveViewState(),modified:this._modifiedEditor.saveViewState()}}restoreViewState(e){if(e&&e.original&&e.modified){const t=e;this._originalEditor.restoreViewState(t.original),this._modifiedEditor.restoreViewState(t.modified)}}layout(e){this._elementSizeObserver.observe(e)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(e,t,n){this._modifiedEditor.trigger(e,t,n)}changeDecorations(e){return this._modifiedEditor.changeDecorations(e)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler)return;if(!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const t=this._elementSizeObserver.getHeight(),n=this._getReviewHeight(),i=e.ENTIRE_DIFF_OVERVIEW_WIDTH-2*e.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:e.ONE_OVERVIEW_WIDTH,right:i+e.ONE_OVERVIEW_WIDTH,height:t-n}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:e.ONE_OVERVIEW_WIDTH,height:t-n}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout((()=>this._beginUpdateDecorations()),e.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(e,t){return!e&&!t||!(!e||!t)&&e.toString()===t.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const t=this._originalEditor.getModel(),n=this._modifiedEditor.getModel();if(!t||!n)return;this._diffComputationToken++;const i=this._diffComputationToken,r=1024*this._options.maxFileSize*1024,o=e=>{const t=e.getValueLength();return 0===r||t<=r};o(t)&&o(n)?(this._setState(1),this._editorWorkerService.computeDiff(t.uri,n.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then((e=>{i===this._diffComputationToken&&t===this._originalEditor.getModel()&&n===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=e,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())}),(e=>{i===this._diffComputationToken&&t===this._originalEditor.getModel()&&n===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())}))):e._equals(t.uri,this._lastOriginalWarning)&&e._equals(n.uri,this._lastModifiedWarning)||(this._lastOriginalWarning=t.uri,this._lastModifiedWarning=n.uri,this._notificationService.warn(DR(0,"Cannot compare files because one file is too large.")))}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const e=this._diffComputationResult?this._diffComputationResult.changes:[],t=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),n=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),i=this._strategy.getEditorsDiffDecorations(e,this._options.ignoreTrimWhitespace,this._options.renderIndicators,t,n);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,i.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,i.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(e){const t=Object.assign({},e);return t.inDiffEditor=!0,t.automaticLayout=!1,t.scrollbar=Object.assign({},t.scrollbar||{}),t.scrollbar.vertical="visible",t.folding=!1,t.codeLens=this._options.diffCodeLens,t.fixedOverflowWidgets=!0,t.minimap=Object.assign({},t.minimap||{}),t.minimap.enabled=!1,t}_adjustOptionsForLeftHandSide(e){const t=this._adjustOptionsForSubEditor(e);return this._options.renderSideBySide?t.wordWrapOverride1=this._options.diffWordWrap:t.wordWrapOverride1="off",e.originalAriaLabel&&(t.ariaLabel=e.originalAriaLabel),t.readOnly=!this._options.originalEditable,t.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},t),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(t){const n=this._adjustOptionsForSubEditor(t);return t.modifiedAriaLabel&&(n.ariaLabel=t.modifiedAriaLabel),n.wordWrapOverride1=this._options.diffWordWrap,n.revealHorizontalRightPadding=MP.revealHorizontalRightPadding.defaultValue+e.ENTIRE_DIFF_OVERVIEW_WIDTH,n.scrollbar.verticalHasArrows=!1,n.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},n),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const t=this._elementSizeObserver.getWidth(),n=this._elementSizeObserver.getHeight(),i=this._getReviewHeight(),r=this._strategy.layout();this._originalDomNode.style.width=r+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=t-r+"px",this._modifiedDomNode.style.left=r+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=n-i+"px",this._overviewDomElement.style.width=e.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=t-e.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(e.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:r,height:n-i}),this._modifiedEditor.layout({width:t-r-(this._options.renderOverviewRuler?e.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:n-i}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(n-i,t,i),this._layoutOverviewViewport()}_layoutOverviewViewport(){const e=this._computeOverviewViewport();e?(this._overviewViewportDomElement.setTop(e.top),this._overviewViewportDomElement.setHeight(e.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const e=this._modifiedEditor.getLayoutInfo();if(!e)return null;const t=this._modifiedEditor.getScrollTop(),n=this._modifiedEditor.getScrollHeight(),i=Math.max(0,e.height),r=Math.max(0,i-0),o=n>0?r/n:0;return{height:Math.max(0,Math.floor(e.height*o)),top:Math.floor(t*o)}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(e){this._strategy&&this._strategy.dispose(),this._strategy=e,e.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(e,t){const n=this._diffComputationResult?this._diffComputationResult.changes:[];if(0===n.length||e<t(n[0]))return null;let i=0,r=n.length-1;for(;i<r;){const o=Math.floor((i+r)/2),s=t(n[o]),a=o+1<=r?t(n[o+1]):1073741824;e<s?r=o-1:e>=a?i=o+1:(i=o,r=o)}return n[i]}_getEquivalentLineForOriginalLineNumber(e){const t=this._getLineChangeAtOrBeforeLineNumber(e,(e=>e.originalStartLineNumber));if(!t)return e;const n=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),i=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),r=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,o=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,s=e-n;return s<=r?i+Math.min(s,o):i+o-r+s}_getEquivalentLineForModifiedLineNumber(e){const t=this._getLineChangeAtOrBeforeLineNumber(e,(e=>e.modifiedStartLineNumber));if(!t)return e;const n=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),i=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),r=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,o=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,s=e-i;return s<=o?n+Math.min(s,r):n+r-o+s}getDiffLineInformationForOriginal(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(e)}:null}getDiffLineInformationForModified(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(e)}:null}};rne.ONE_OVERVIEW_WIDTH=15,rne.ENTIRE_DIFF_OVERVIEW_WIDTH=30,rne.UPDATE_DIFF_DECORATIONS_DELAY=200,rne=Zte([Jte(3,Yte),Jte(4,aq),Jte(5,qX),Jte(6,Iz),Jte(7,Pz),Jte(8,uJ),Jte(9,hZ),Jte(10,$te),Jte(11,Gte)],rne);class one extends KP{constructor(e){super(),this._dataSource=e,this._insertColor=null,this._removeColor=null}applyColors(e){const t=(e.getColor(j4)||P4).transparent(2),n=(e.getColor(z4)||B4).transparent(2),i=!t.equals(this._insertColor)||!n.equals(this._removeColor);return this._insertColor=t,this._removeColor=n,i}getEditorsDiffDecorations(e,t,n,i,r){r=r.sort(((e,t)=>e.afterLineNumber-t.afterLineNumber)),i=i.sort(((e,t)=>e.afterLineNumber-t.afterLineNumber));const o=this._getViewZones(e,i,r,n),s=this._getOriginalEditorDecorations(e,t,n),a=this._getModifiedEditorDecorations(e,t,n);return{original:{decorations:s.decorations,overviewZones:s.overviewZones,zones:o.original},modified:{decorations:a.decorations,overviewZones:a.overviewZones,zones:o.modified}}}}class sne{constructor(e){this._source=e,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class ane{constructor(e,t,n,i,r){this._lineChanges=e,this._originalForeignVZ=t,this._modifiedForeignVZ=n,this._originalEditor=i,this._modifiedEditor=r}static _getViewLineCount(e,t,n){const i=e.getModel(),r=e._getViewModel();if(i&&r){const e=vne(i,r,t,n);return e.endLineNumber-e.startLineNumber+1}return n-t+1}getViewZones(){const e=this._originalEditor.getOption(58),t=this._modifiedEditor.getOption(58),n=-1!==this._originalEditor.getOption(130).wrappingColumn,i=-1!==this._modifiedEditor.getOption(130).wrappingColumn,r=n||i,o=this._originalEditor.getModel(),s=this._originalEditor._getViewModel().coordinatesConverter,a=this._modifiedEditor._getViewModel().coordinatesConverter,l=[],c=[];let u=0,h=0,d=0,f=0,p=0,g=0;const m=(e,t)=>e.afterLineNumber-t.afterLineNumber,v=(e,t)=>{if(null===t.domNode&&e.length>0){const n=e[e.length-1];if(n.afterLineNumber===t.afterLineNumber&&null===n.domNode)return void(n.heightInLines+=t.heightInLines)}e.push(t)},y=new sne(this._modifiedForeignVZ),b=new sne(this._originalForeignVZ);let _=1,w=1;for(let C=0,x=this._lineChanges.length;C<=x;C++){const n=C<x?this._lineChanges[C]:null;null!==n?(d=n.originalStartLineNumber+(n.originalEndLineNumber>0?-1:0),f=n.modifiedStartLineNumber+(n.modifiedEndLineNumber>0?-1:0),h=n.originalEndLineNumber>0?ane._getViewLineCount(this._originalEditor,n.originalStartLineNumber,n.originalEndLineNumber):0,u=n.modifiedEndLineNumber>0?ane._getViewLineCount(this._modifiedEditor,n.modifiedStartLineNumber,n.modifiedEndLineNumber):0,p=Math.max(n.originalStartLineNumber,n.originalEndLineNumber),g=Math.max(n.modifiedStartLineNumber,n.modifiedEndLineNumber)):(d+=1e7+h,f+=1e7+u,p=d,g=f);let i=[],k=[];if(r){let e;e=n?n.originalEndLineNumber>0?n.originalStartLineNumber-_:n.modifiedStartLineNumber-w:o.getLineCount()-_;for(let t=0;t<e;t++){const e=_+t,n=w+t,r=s.getModelLineViewLineCount(e),o=a.getModelLineViewLineCount(n);r<o?i.push({afterLineNumber:e,heightInLines:o-r,domNode:null,marginDomNode:null}):r>o&&k.push({afterLineNumber:n,heightInLines:r-o,domNode:null,marginDomNode:null})}n&&(_=(n.originalEndLineNumber>0?n.originalEndLineNumber:n.originalStartLineNumber)+1,w=(n.modifiedEndLineNumber>0?n.modifiedEndLineNumber:n.modifiedStartLineNumber)+1)}for(;y.current&&y.current.afterLineNumber<=g;){let e;e=y.current.afterLineNumber<=f?d-f+y.current.afterLineNumber:p;let r=null;n&&n.modifiedStartLineNumber<=y.current.afterLineNumber&&y.current.afterLineNumber<=n.modifiedEndLineNumber&&(r=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),i.push({afterLineNumber:e,heightInLines:y.current.height/t,domNode:null,marginDomNode:r}),y.advance()}for(;b.current&&b.current.afterLineNumber<=p;){let t;t=b.current.afterLineNumber<=d?f-d+b.current.afterLineNumber:g,k.push({afterLineNumber:t,heightInLines:b.current.height/e,domNode:null}),b.advance()}if(null!==n&&pne(n)){const e=this._produceOriginalFromDiff(n,h,u);e&&i.push(e)}if(null!==n&&gne(n)){const e=this._produceModifiedFromDiff(n,h,u);e&&k.push(e)}let S=0,D=0;for(i=i.sort(m),k=k.sort(m);S<i.length&&D<k.length;){const e=i[S],t=k[D],n=e.afterLineNumber-d,r=t.afterLineNumber-f;n<r?(v(l,e),S++):r<n?(v(c,t),D++):e.shouldNotShrink?(v(l,e),S++):t.shouldNotShrink?(v(c,t),D++):e.heightInLines>=t.heightInLines?(e.heightInLines-=t.heightInLines,D++):(t.heightInLines-=e.heightInLines,S++)}for(;S<i.length;)v(l,i[S]),S++;for(;D<k.length;)v(c,k[D]),D++}return{original:ane._ensureDomNodes(l),modified:ane._ensureDomNodes(c)}}static _ensureDomNodes(e){return e.map((e=>(e.domNode||(e.domNode=mne()),e)))}}function lne(e,t,n,i,r){return{range:new cj(e,t,n,i),options:r}}const cne={charDelete:J5.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:J5.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:J5.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:J5.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:J5.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:J5.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+dJ.asClassName(tne),marginClassName:"line-insert",isWholeLine:!0}),lineDelete:J5.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:J5.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+dJ.asClassName(nne),marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:J5.register({description:"diff-editor-line-delete-margin",marginClassName:"line-delete"})};class une extends one{constructor(e,t){super(e),this._disableSash=!1===t,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new yte(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart((()=>this._onSashDragStart())),this._sash.onDidChange((e=>this._onSashDrag(e))),this._sash.onDidEnd((()=>this._onSashDragEnd())),this._sash.onDidReset((()=>this._onSashReset()))}setEnableSplitViewResizing(e){const t=!1===e;this._disableSash!==t&&(this._disableSash=t,this._sash.state=this._disableSash?0:3)}layout(e=this._sashRatio){const t=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?rne.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let n=Math.floor((e||.5)*t);const i=Math.floor(.5*t);return n=this._disableSash?i:n||i,t>2*une.MINIMUM_EDITOR_WIDTH?(n<une.MINIMUM_EDITOR_WIDTH&&(n=une.MINIMUM_EDITOR_WIDTH),n>t-une.MINIMUM_EDITOR_WIDTH&&(n=t-une.MINIMUM_EDITOR_WIDTH)):n=i,this._sashPosition!==n&&(this._sashPosition=n,this._sash.layout()),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(e){const t=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?rne.ENTIRE_DIFF_OVERVIEW_WIDTH:0),n=this.layout((this._startSashPosition+(e.currentX-e.startX))/t);this._sashRatio=n/t,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(e){return 0}getVerticalSashLeft(e){return this._sashPosition}getVerticalSashHeight(e){return this._dataSource.getHeight()}_getViewZones(e,t,n){const i=this._dataSource.getOriginalEditor(),r=this._dataSource.getModifiedEditor();return new hne(e,t,n,i,r).getViewZones()}_getOriginalEditorDecorations(e,t,n){const i=this._dataSource.getOriginalEditor(),r=String(this._removeColor),o={decorations:[],overviewZones:[]},s=i.getModel(),a=i._getViewModel();for(const l of e)if(gne(l)){o.decorations.push({range:new cj(l.originalStartLineNumber,1,l.originalEndLineNumber,1073741824),options:n?cne.lineDeleteWithSign:cne.lineDelete}),pne(l)&&l.charChanges||o.decorations.push(lne(l.originalStartLineNumber,1,l.originalEndLineNumber,1073741824,cne.charDeleteWholeLine));const e=vne(s,a,l.originalStartLineNumber,l.originalEndLineNumber);if(o.overviewZones.push(new o9(e.startLineNumber,e.endLineNumber,r)),l.charChanges)for(const n of l.charChanges)if(gne(n))if(t)for(let e=n.originalStartLineNumber;e<=n.originalEndLineNumber;e++){let t,i;t=e===n.originalStartLineNumber?n.originalStartColumn:s.getLineFirstNonWhitespaceColumn(e),i=e===n.originalEndLineNumber?n.originalEndColumn:s.getLineLastNonWhitespaceColumn(e),o.decorations.push(lne(e,t,e,i,cne.charDelete))}else o.decorations.push(lne(n.originalStartLineNumber,n.originalStartColumn,n.originalEndLineNumber,n.originalEndColumn,cne.charDelete))}return o}_getModifiedEditorDecorations(e,t,n){const i=this._dataSource.getModifiedEditor(),r=String(this._insertColor),o={decorations:[],overviewZones:[]},s=i.getModel(),a=i._getViewModel();for(const l of e)if(pne(l)){o.decorations.push({range:new cj(l.modifiedStartLineNumber,1,l.modifiedEndLineNumber,1073741824),options:n?cne.lineInsertWithSign:cne.lineInsert}),gne(l)&&l.charChanges||o.decorations.push(lne(l.modifiedStartLineNumber,1,l.modifiedEndLineNumber,1073741824,cne.charInsertWholeLine));const e=vne(s,a,l.modifiedStartLineNumber,l.modifiedEndLineNumber);if(o.overviewZones.push(new o9(e.startLineNumber,e.endLineNumber,r)),l.charChanges)for(const n of l.charChanges)if(pne(n))if(t)for(let e=n.modifiedStartLineNumber;e<=n.modifiedEndLineNumber;e++){let t,i;t=e===n.modifiedStartLineNumber?n.modifiedStartColumn:s.getLineFirstNonWhitespaceColumn(e),i=e===n.modifiedEndLineNumber?n.modifiedEndColumn:s.getLineLastNonWhitespaceColumn(e),o.decorations.push(lne(e,t,e,i,cne.charInsert))}else o.decorations.push(lne(n.modifiedStartLineNumber,n.modifiedStartColumn,n.modifiedEndLineNumber,n.modifiedEndColumn,cne.charInsert))}return o}}une.MINIMUM_EDITOR_WIDTH=100;class hne extends ane{constructor(e,t,n,i,r){super(e,t,n,i,r)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(e,t,n){return n>t?{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:n-t,domNode:null}:null}_produceModifiedFromDiff(e,t,n){return t>n?{afterLineNumber:Math.max(e.modifiedStartLineNumber,e.modifiedEndLineNumber),heightInLines:t-n,domNode:null}:null}}class dne extends one{constructor(e,t){super(e),this._decorationsLeft=e.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(e.getOriginalEditor().onDidLayoutChange((t=>{this._decorationsLeft!==t.decorationsLeft&&(this._decorationsLeft=t.decorationsLeft,e.relayoutEditors())})))}setEnableSplitViewResizing(e){}_getViewZones(e,t,n,i){const r=this._dataSource.getOriginalEditor(),o=this._dataSource.getModifiedEditor();return new fne(e,t,n,r,o,i).getViewZones()}_getOriginalEditorDecorations(e,t,n){const i=String(this._removeColor),r={decorations:[],overviewZones:[]},o=this._dataSource.getOriginalEditor(),s=o.getModel(),a=o._getViewModel();for(const l of e)if(gne(l)){r.decorations.push({range:new cj(l.originalStartLineNumber,1,l.originalEndLineNumber,1073741824),options:cne.lineDeleteMargin});const e=vne(s,a,l.originalStartLineNumber,l.originalEndLineNumber);r.overviewZones.push(new o9(e.startLineNumber,e.endLineNumber,i))}return r}_getModifiedEditorDecorations(e,t,n){const i=this._dataSource.getModifiedEditor(),r=String(this._insertColor),o={decorations:[],overviewZones:[]},s=i.getModel(),a=i._getViewModel();for(const l of e)if(pne(l)){o.decorations.push({range:new cj(l.modifiedStartLineNumber,1,l.modifiedEndLineNumber,1073741824),options:n?cne.lineInsertWithSign:cne.lineInsert});const e=vne(s,a,l.modifiedStartLineNumber,l.modifiedEndLineNumber);if(o.overviewZones.push(new o9(e.startLineNumber,e.endLineNumber,r)),l.charChanges){for(const n of l.charChanges)if(pne(n))if(t)for(let e=n.modifiedStartLineNumber;e<=n.modifiedEndLineNumber;e++){let t,i;t=e===n.modifiedStartLineNumber?n.modifiedStartColumn:s.getLineFirstNonWhitespaceColumn(e),i=e===n.modifiedEndLineNumber?n.modifiedEndColumn:s.getLineLastNonWhitespaceColumn(e),o.decorations.push(lne(e,t,e,i,cne.charInsert))}else o.decorations.push(lne(n.modifiedStartLineNumber,n.modifiedStartColumn,n.modifiedEndLineNumber,n.modifiedEndColumn,cne.charInsert))}else o.decorations.push(lne(l.modifiedStartLineNumber,1,l.modifiedEndLineNumber,1073741824,cne.charInsertWholeLine))}return o}layout(){return Math.max(5,this._decorationsLeft)}}class fne extends ane{constructor(e,t,n,i,r,o){super(e,t,n,i,r),this._originalModel=i.getModel(),this._renderIndicators=o,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const e=super.getViewZones();return this._finalize(e),e}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const e=document.createElement("div");return e.className="inline-added-margin-view-zone",e}_produceOriginalFromDiff(e,t,n){const i=document.createElement("div");return i.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:n,domNode:document.createElement("div"),marginDomNode:i}}_produceModifiedFromDiff(e,t,n){const i=document.createElement("div");i.className="view-lines line-delete monaco-mouse-cursor-text";const r=document.createElement("div");r.className="inline-deleted-margin-view-zone";const o={shouldNotShrink:!0,afterLineNumber:0===e.modifiedEndLineNumber?e.modifiedStartLineNumber:e.modifiedStartLineNumber-1,heightInLines:t,minWidthInPx:0,domNode:i,marginDomNode:r,diff:{originalStartLineNumber:e.originalStartLineNumber,originalEndLineNumber:e.originalEndLineNumber,modifiedStartLineNumber:e.modifiedStartLineNumber,modifiedEndLineNumber:e.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let s=e.originalStartLineNumber;s<=e.originalEndLineNumber;s++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(s),null,null);return this._pendingLineChange.push(e),this._pendingViewZones.push(o),o}_finalize(e){const t=this._modifiedEditor.getOptions(),n=this._modifiedEditor.getModel().getOptions().tabSize,i=t.get(43),r=t.get(29),o=i.typicalHalfwidthCharacterWidth,s=t.get(92),a=this._originalModel.mightContainNonBasicASCII(),l=this._originalModel.mightContainRTL(),c=t.get(58),u=t.get(129).decorationsWidth,h=t.get(104),d=t.get(87),f=t.get(82),p=t.get(44),g=this._lineBreaksComputer.finalize();let m=0;for(let v=0;v<this._pendingLineChange.length;v++){const t=this._pendingLineChange[v],y=this._pendingViewZones[v],b=y.domNode;ZJ.applyFontInfoSlow(b,i);const _=y.marginDomNode;ZJ.applyFontInfoSlow(_,i);const w=[];if(t.charChanges)for(const e of t.charChanges)gne(e)&&w.push(new yG(new cj(e.originalStartLineNumber,e.originalStartColumn,e.originalEndLineNumber,e.originalEndColumn),"char-delete",0));const C=w.length>0,x=zq(1e4);let k=0,S=0,D=null;for(let o=t.originalStartLineNumber;o<=t.originalEndLineNumber;o++){const s=o-t.originalStartLineNumber,v=this._originalModel.getLineTokens(o),b=v.getLineContent(),E=g[m++],L=ZY.filter(w,o,1,b.length+1);if(E){let t=0;for(const e of E.breakOffsets){const o=v.sliceAndInflate(t,e,0),s=b.substring(t,e);k=Math.max(k,this._renderOriginalLine(S++,s,o,ZY.extractWrapped(L,t,e),C,a,l,i,r,c,u,h,d,f,p,n,x,_)),t=e}for(D||(D=[]);D.length<s;)D[D.length]=1;D[s]=E.breakOffsets.length,y.heightInLines+=E.breakOffsets.length-1;const g=document.createElement("div");g.className="line-delete",e.original.push({afterLineNumber:o,afterColumn:0,heightInLines:E.breakOffsets.length-1,domNode:mne(),marginDomNode:g})}else k=Math.max(k,this._renderOriginalLine(S++,b,v,L,C,a,l,i,r,c,u,h,d,f,p,n,x,_))}k+=s;const E=x.build(),L=ine?ine.createHTML(E):E;if(b.innerHTML=L,y.minWidthInPx=k*o,D){const e=t.originalEndLineNumber-t.originalStartLineNumber;for(;D.length<=e;)D[D.length]=1}y.diff.viewLineCounts=D}e.original.sort(((e,t)=>e.afterLineNumber-t.afterLineNumber))}_renderOriginalLine(e,t,n,i,r,o,s,a,l,c,u,h,d,f,p,g,m,v){m.appendASCIIString('<div class="view-line'),r||m.appendASCIIString(" char-delete"),m.appendASCIIString('" style="top:'),m.appendASCIIString(String(e*c)),m.appendASCIIString('px;width:1000000px;">');const y=vG.isBasicASCII(t,o),b=vG.containsRTL(t,y,s),_=sG(new nG(a.isMonospace&&!l,a.canUseHalfwidthRightwardsArrow,t,!1,y,b,0,n,i,g,0,a.spaceWidth,a.middotWidth,a.wsmiddotWidth,h,d,f,p!==wP.OFF,null),m);if(m.appendASCIIString("</div>"),this._renderIndicators){const t=document.createElement("div");t.className=`delete-sign ${dJ.asClassName(nne)}`,t.setAttribute("style",`position:absolute;top:${e*c}px;width:${u}px;height:${c}px;right:0;`),v.appendChild(t)}return _.characterMapping.getAbsoluteOffset(_.characterMapping.length)}}function pne(e){return e.modifiedEndLineNumber>0}function gne(e){return e.originalEndLineNumber>0}function mne(){const e=document.createElement("div");return e.className="diagonal-fill",e}function vne(e,t,n,i){const r=e.getLineCount();return n=Math.min(r,Math.max(1,n)),i=Math.min(r,Math.max(1,i)),t.coordinatesConverter.convertModelRangeToViewRange(new cj(n,e.getLineMinColumn(n),i,e.getLineMaxColumn(i)))}function yne(e,t){return{enableSplitViewResizing:uP(e.enableSplitViewResizing,t.enableSplitViewResizing),renderSideBySide:uP(e.renderSideBySide,t.renderSideBySide),maxComputationTime:dP(e.maxComputationTime,t.maxComputationTime,0,1073741824),maxFileSize:dP(e.maxFileSize,t.maxFileSize,0,1073741824),ignoreTrimWhitespace:uP(e.ignoreTrimWhitespace,t.ignoreTrimWhitespace),renderIndicators:uP(e.renderIndicators,t.renderIndicators),originalEditable:uP(e.originalEditable,t.originalEditable),diffCodeLens:uP(e.diffCodeLens,t.diffCodeLens),renderOverviewRuler:uP(e.renderOverviewRuler,t.renderOverviewRuler),diffWordWrap:(n=e.diffWordWrap,i=t.diffWordWrap,mP(n,i,["off","on","inherit"]))};var n,i}vJ(((e,t)=>{const n=e.getColor(j4);n&&(t.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { background-color: ${n}; }`),t.addRule(`.monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: ${n}; }`),t.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${n}; }`));const i=e.getColor(z4);i&&(t.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { background-color: ${i}; }`),t.addRule(`.monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: ${i}; }`),t.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${i}; }`));const r=e.getColor(V4);r&&t.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${"hc"===e.type?"dashed":"solid"} ${r}; }`);const o=e.getColor(W4);o&&t.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${"hc"===e.type?"dashed":"solid"} ${o}; }`);const s=e.getColor(Q2);s&&t.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${s}; }`);const a=e.getColor(H4);a&&t.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${a}; }`);const l=e.getColor(e4);l&&t.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport {\n\t\t\t\tbackground: ${l};\n\t\t\t}\n\t\t`);const c=e.getColor(t4);c&&t.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:hover {\n\t\t\t\tbackground: ${c};\n\t\t\t}\n\t\t`);const u=e.getColor(n4);u&&t.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:active {\n\t\t\t\tbackground: ${u};\n\t\t\t}\n\t\t`);const h=e.getColor(U4);t.addRule(`\n\t.monaco-editor .diagonal-fill {\n\t\tbackground-image: linear-gradient(\n\t\t\t-45deg,\n\t\t\t${h} 12.5%,\n\t\t\t#0000 12.5%, #0000 50%,\n\t\t\t${h} 50%, ${h} 62.5%,\n\t\t\t#0000 62.5%, #0000 100%\n\t\t);\n\t\tbackground-size: 8px 8px;\n\t}\n\t`)}));const bne=Fz("themeService"),_ne=Fz("keybindingService");class wne extends KP{constructor(){super(),this._onCodeEditorAdd=this._register(new nB),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new nB),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new nB),this._onDiffEditorRemove=this._register(new nB),this._onDecorationTypeRegistered=this._register(new nB),this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null)}addCodeEditor(e){this._codeEditors[e.getId()]=e,this._onCodeEditorAdd.fire(e)}removeCodeEditor(e){delete this._codeEditors[e.getId()]&&this._onCodeEditorRemove.fire(e)}listCodeEditors(){return Object.keys(this._codeEditors).map((e=>this._codeEditors[e]))}addDiffEditor(e){this._diffEditors[e.getId()]=e,this._onDiffEditorAdd.fire(e)}removeDiffEditor(e){delete this._diffEditors[e.getId()]&&this._onDiffEditorRemove.fire(e)}listDiffEditors(){return Object.keys(this._diffEditors).map((e=>this._diffEditors[e]))}getFocusedCodeEditor(){let e=null;const t=this.listCodeEditors();for(const n of t){if(n.hasTextFocus())return n;n.hasWidgetFocus()&&(e=n)}return e}setModelProperty(e,t,n){const i=e.toString();let r;this._modelProperties.has(i)?r=this._modelProperties.get(i):(r=new Map,this._modelProperties.set(i,r)),r.set(t,n)}getModelProperty(e,t){const n=e.toString();if(this._modelProperties.has(n)){return this._modelProperties.get(n).get(t)}}}var Cne=globalThis&&globalThis.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},xne=globalThis&&globalThis.__param||function(e,t){return function(n,i){t(n,i,e)}};class kne{constructor(e,t,n){this._parent=e,this._editorId=t,this._styleSheet=n,this._refCount=0}ref(){this._refCount++}unref(){var e;this._refCount--,0===this._refCount&&(null===(e=this._styleSheet.parentNode)||void 0===e||e.removeChild(this._styleSheet),this._parent._removeEditorStyleSheets(this._editorId))}insertRule(e,t){this._styleSheet.sheet.insertRule(e,t)}removeRulesContainingSelector(e){cW(e,this._styleSheet)}}class Sne{constructor(e){this._styleSheet=e}ref(){}unref(){}insertRule(e,t){this._styleSheet.sheet.insertRule(e,t)}removeRulesContainingSelector(e){cW(e,this._styleSheet)}}let Dne=class extends wne{constructor(e,t){super(),this._decorationOptionProviders=new Map,this._editorStyleSheets=new Map,this._globalStyleSheet=e||null,this._themeService=t}_getOrCreateGlobalStyleSheet(){return this._globalStyleSheet||(this._globalStyleSheet=new Sne(oW())),this._globalStyleSheet}_getOrCreateStyleSheet(e){if(!e)return this._getOrCreateGlobalStyleSheet();const t=e.getContainerDomNode();if(!nW(t))return this._getOrCreateGlobalStyleSheet();const n=e.getId();if(!this._editorStyleSheets.has(n)){const e=new kne(this,n,oW(t));this._editorStyleSheets.set(n,e)}return this._editorStyleSheets.get(n)}_removeEditorStyleSheets(e){this._editorStyleSheets.delete(e)}registerDecorationType(e,t,n,i,r){let o=this._decorationOptionProviders.get(t);if(!o){const s=this._getOrCreateStyleSheet(r),a={styleSheet:s,key:t,parentTypeKey:i,options:n||Object.create(null)};o=i?new Ene(this._themeService,s,a):new Lne(e,this._themeService,s,a),this._decorationOptionProviders.set(t,o),this._onDecorationTypeRegistered.fire(t)}o.refCount++}removeDecorationType(e){const t=this._decorationOptionProviders.get(e);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(e),t.dispose(),this.listCodeEditors().forEach((t=>t.removeDecorations(e)))))}resolveDecorationOptions(e,t){const n=this._decorationOptionProviders.get(e);if(!n)throw new Error("Unknown decoration type key: "+e);return n.getOptions(this,t)}};Dne=Cne([xne(1,uJ)],Dne);class Ene{constructor(e,t,n){this._styleSheet=t,this._styleSheet.ref(),this._parentTypeKey=n.parentTypeKey,this.refCount=0,this._beforeContentRules=new Nne(3,n,e),this._afterContentRules=new Nne(4,n,e)}getOptions(e,t){const n=e.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentRules&&(n.beforeContentClassName=this._beforeContentRules.className),this._afterContentRules&&(n.afterContentClassName=this._afterContentRules.className),n}dispose(){this._beforeContentRules&&(this._beforeContentRules.dispose(),this._beforeContentRules=null),this._afterContentRules&&(this._afterContentRules.dispose(),this._afterContentRules=null),this._styleSheet.unref()}}class Lne{constructor(e,t,n,i){this._disposables=new qP,this.description=e,this._styleSheet=n,this._styleSheet.ref(),this.refCount=0;const r=e=>{const n=new Nne(e,i,t);if(this._disposables.add(n),n.hasContent)return n.className},o=e=>{const n=new Nne(e,i,t);return this._disposables.add(n),n.hasContent?{className:n.className,hasLetterSpacing:n.hasLetterSpacing}:null};this.className=r(0);const s=o(1);if(s&&(this.inlineClassName=s.className,this.inlineClassNameAffectsLetterSpacing=s.hasLetterSpacing),this.beforeContentClassName=r(3),this.afterContentClassName=r(4),i.options.beforeInjectedText&&i.options.beforeInjectedText.contentText){const e=o(5);this.beforeInjectedText={content:i.options.beforeInjectedText.contentText,inlineClassName:null==e?void 0:e.className,inlineClassNameAffectsLetterSpacing:(null==e?void 0:e.hasLetterSpacing)||i.options.beforeInjectedText.affectsLetterSpacing}}if(i.options.afterInjectedText&&i.options.afterInjectedText.contentText){const e=o(6);this.afterInjectedText={content:i.options.afterInjectedText.contentText,inlineClassName:null==e?void 0:e.className,inlineClassNameAffectsLetterSpacing:(null==e?void 0:e.hasLetterSpacing)||i.options.afterInjectedText.affectsLetterSpacing}}this.glyphMarginClassName=r(2);const a=i.options;this.isWholeLine=Boolean(a.isWholeLine),this.stickiness=a.rangeBehavior;const l=a.light&&a.light.overviewRulerColor||a.overviewRulerColor,c=a.dark&&a.dark.overviewRulerColor||a.overviewRulerColor;void 0===l&&void 0===c||(this.overviewRuler={color:l||c,darkColor:c||l,position:a.overviewRulerLane||IU.Center})}getOptions(e,t){return t?{description:this.description,inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness,before:this.beforeInjectedText,after:this.afterInjectedText}:this}dispose(){this._disposables.dispose(),this._styleSheet.unref()}}const Tne={color:"color:{0} !important;",opacity:"opacity:{0};",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",fontStyle:"font-style:{0};",fontWeight:"font-weight:{0};",fontSize:"font-size:{0};",fontFamily:"font-family:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:{0} center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:{0};",margin:"margin:{0};",padding:"padding:{0};",width:"width:{0};",height:"height:{0};",verticalAlign:"vertical-align:{0};"};class Nne{constructor(e,t,n){this._theme=n.getColorTheme(),this._ruleType=e,this._providerArgs=t,this._usesThemeColors=!1,this._hasContent=!1,this._hasLetterSpacing=!1;let i=Mne.getClassName(this._providerArgs.key,e);this._providerArgs.parentTypeKey&&(i=i+" "+Mne.getClassName(this._providerArgs.parentTypeKey,e)),this._className=i,this._unThemedSelector=Mne.getSelector(this._providerArgs.key,this._providerArgs.parentTypeKey,e),this._buildCSS(),this._usesThemeColors?this._themeListener=n.onDidColorThemeChange((e=>{this._theme=n.getColorTheme(),this._removeCSS(),this._buildCSS()})):this._themeListener=null}dispose(){this._hasContent&&(this._removeCSS(),this._hasContent=!1),this._themeListener&&(this._themeListener.dispose(),this._themeListener=null)}get hasContent(){return this._hasContent}get hasLetterSpacing(){return this._hasLetterSpacing}get className(){return this._className}_buildCSS(){const e=this._providerArgs.options;let t,n,i;switch(this._ruleType){case 0:t=this.getCSSTextForModelDecorationClassName(e),n=this.getCSSTextForModelDecorationClassName(e.light),i=this.getCSSTextForModelDecorationClassName(e.dark);break;case 1:t=this.getCSSTextForModelDecorationInlineClassName(e),n=this.getCSSTextForModelDecorationInlineClassName(e.light),i=this.getCSSTextForModelDecorationInlineClassName(e.dark);break;case 2:t=this.getCSSTextForModelDecorationGlyphMarginClassName(e),n=this.getCSSTextForModelDecorationGlyphMarginClassName(e.light),i=this.getCSSTextForModelDecorationGlyphMarginClassName(e.dark);break;case 3:t=this.getCSSTextForModelDecorationContentClassName(e.before),n=this.getCSSTextForModelDecorationContentClassName(e.light&&e.light.before),i=this.getCSSTextForModelDecorationContentClassName(e.dark&&e.dark.before);break;case 4:t=this.getCSSTextForModelDecorationContentClassName(e.after),n=this.getCSSTextForModelDecorationContentClassName(e.light&&e.light.after),i=this.getCSSTextForModelDecorationContentClassName(e.dark&&e.dark.after);break;case 5:t=this.getCSSTextForModelDecorationContentClassName(e.beforeInjectedText),n=this.getCSSTextForModelDecorationContentClassName(e.light&&e.light.beforeInjectedText),i=this.getCSSTextForModelDecorationContentClassName(e.dark&&e.dark.beforeInjectedText);break;case 6:t=this.getCSSTextForModelDecorationContentClassName(e.afterInjectedText),n=this.getCSSTextForModelDecorationContentClassName(e.light&&e.light.afterInjectedText),i=this.getCSSTextForModelDecorationContentClassName(e.dark&&e.dark.afterInjectedText);break;default:throw new Error("Unknown rule type: "+this._ruleType)}const r=this._providerArgs.styleSheet;let o=!1;t.length>0&&(r.insertRule(`${this._unThemedSelector} {${t}}`,0),o=!0),n.length>0&&(r.insertRule(`.vs${this._unThemedSelector} {${n}}`,0),o=!0),i.length>0&&(r.insertRule(`.vs-dark${this._unThemedSelector}, .hc-black${this._unThemedSelector} {${i}}`,0),o=!0),this._hasContent=o}_removeCSS(){this._providerArgs.styleSheet.removeRulesContainingSelector(this._unThemedSelector)}getCSSTextForModelDecorationClassName(e){if(!e)return"";const t=[];return this.collectCSSText(e,["backgroundColor"],t),this.collectCSSText(e,["outline","outlineColor","outlineStyle","outlineWidth"],t),this.collectBorderSettingsCSSText(e,t),t.join("")}getCSSTextForModelDecorationInlineClassName(e){if(!e)return"";const t=[];return this.collectCSSText(e,["fontStyle","fontWeight","textDecoration","cursor","color","opacity","letterSpacing"],t),e.letterSpacing&&(this._hasLetterSpacing=!0),t.join("")}getCSSTextForModelDecorationContentClassName(e){if(!e)return"";const t=[];if(void 0!==e){if(this.collectBorderSettingsCSSText(e,t),void 0!==e.contentIconPath&&t.push(NW(Tne.contentIconPath,DW(ZB.revive(e.contentIconPath)))),"string"==typeof e.contentText){const n=e.contentText.match(/^.*$/m)[0].replace(/['\\]/g,"\\$&");t.push(NW(Tne.contentText,n))}this.collectCSSText(e,["verticalAlign","fontStyle","fontWeight","fontSize","fontFamily","textDecoration","color","opacity","backgroundColor","margin","padding"],t),this.collectCSSText(e,["width","height"],t)&&t.push("display:inline-block;")}return t.join("")}getCSSTextForModelDecorationGlyphMarginClassName(e){if(!e)return"";const t=[];return void 0!==e.gutterIconPath&&(t.push(NW(Tne.gutterIconPath,DW(ZB.revive(e.gutterIconPath)))),void 0!==e.gutterIconSize&&t.push(NW(Tne.gutterIconSize,e.gutterIconSize))),t.join("")}collectBorderSettingsCSSText(e,t){return!!this.collectCSSText(e,["border","borderColor","borderRadius","borderSpacing","borderStyle","borderWidth"],t)&&(t.push(NW("box-sizing: border-box;")),!0)}collectCSSText(e,t,n){const i=n.length;for(let r of t){const t=this.resolveValue(e[r]);"string"==typeof t&&n.push(NW(Tne[r],t))}return n.length!==i}resolveValue(e){if(function(e){return e&&"string"==typeof e.id}(e)){this._usesThemeColors=!0;const t=this._theme.getColor(e.id);return t?t.toString():"transparent"}return e}}class Mne{static getClassName(e,t){return"ced-"+e+"-"+t}static getSelector(e,t,n){let i=".monaco-editor ."+this.getClassName(e,n);return t&&(i=i+"."+this.getClassName(t,n)),3===n?i+="::before":4===n&&(i+="::after"),i}}var Ane=globalThis&&globalThis.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Ine=globalThis&&globalThis.__param||function(e,t){return function(n,i){t(n,i,e)}};let One=class extends Dne{constructor(e,t,n){super(e,n),this.onCodeEditorAdd((()=>this._checkContextKey())),this.onCodeEditorRemove((()=>this._checkContextKey())),this._editorIsOpen=t.createKey("editorIsOpen",!1),this._activeCodeEditor=null}_checkContextKey(){let e=!1;for(const t of this.listCodeEditors())if(!t.isSimpleWidget){e=!0;break}this._editorIsOpen.set(e)}setActiveCodeEditor(e){this._activeCodeEditor=e}getActiveCodeEditor(){return this._activeCodeEditor}openCodeEditor(e,t,n){return t?Promise.resolve(this.doOpenEditor(t,e)):Promise.resolve(null)}doOpenEditor(e,t){if(!this.findModel(e,t.resource)){if(t.resource){const n=t.resource.scheme;if(n===kV.http||n===kV.https)return SW(t.resource.toString()),e}return null}const n=t.options?t.options.selection:null;if(n)if("number"==typeof n.endLineNumber&&"number"==typeof n.endColumn)e.setSelection(n),e.revealRangeInCenter(n,1);else{const t={lineNumber:n.startLineNumber,column:n.startColumn};e.setPosition(t),e.revealPositionInCenter(t,1)}return e}findModel(e,t){const n=e.getModel();return n&&n.uri.toString()!==t.toString()?null:n}};One=Ane([Ine(1,qX),Ine(2,uJ)],One);var Fne=globalThis&&globalThis.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Rne=globalThis&&globalThis.__param||function(e,t){return function(n,i){t(n,i,e)}};let Pne=0,Bne=!1;function jne(e){if(!e){if(Bne)return;Bne=!0}!function(e){YZ=document.createElement("div"),YZ.className="monaco-aria-container";const t=()=>{const e=document.createElement("div");return e.className="monaco-alert",e.setAttribute("role","alert"),e.setAttribute("aria-atomic","true"),YZ.appendChild(e),e};GZ=t(),XZ=t();const n=()=>{const e=document.createElement("div");return e.className="monaco-status",e.setAttribute("role","complementary"),e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),YZ.appendChild(e),e};ZZ=n(),JZ=n(),e.appendChild(YZ)}(e||document.body)}let zne=class extends Jee{constructor(e,t,n,i,r,o,s,a,l,c){const u=Object.assign({},t);u.ariaLabel=u.ariaLabel||xZ.editorViewAccessibleLabel,u.ariaLabel=u.ariaLabel+";"+xZ.accessibilityHelpMessage,super(e,u,{},n,i,r,o,a,l,c),this._standaloneKeybindingService=s instanceof PZ?s:null,jne(u.ariaContainerElement)}addCommand(e,t,n){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;let i="DYNAMIC_"+ ++Pne,r=SX.deserialize(n);return this._standaloneKeybindingService.addDynamicKeybinding(i,e,t,r),i}createContextKey(e,t){return this._contextKeyService.createKey(e,t)}addAction(e){if("string"!=typeof e.id||"string"!=typeof e.label||"function"!=typeof e.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),KP.None;const t=e.id,n=e.label,i=SX.and(SX.equals("editorId",this.getId()),SX.deserialize(e.precondition)),r=e.keybindings,o=SX.and(i,SX.deserialize(e.keybindingContext)),s=e.contextMenuGroupId||null,a=e.contextMenuOrder||0,l=(t,...n)=>Promise.resolve(e.run(this,...n)),c=new qP,u=this.getId()+":"+t;if(c.add(lU.registerCommand(u,l)),s){let e={command:{id:u,title:n},when:i,group:s,order:a};c.add(kJ.appendMenuItem(CJ.EditorContext,e))}if(Array.isArray(r))for(const d of r)c.add(this._standaloneKeybindingService.addDynamicKeybinding(u,d,l,o));let h=new nee(u,n,n,i,l,this._contextKeyService);return this._actions[t]=h,c.add($P((()=>{delete this._actions[t]}))),c}_triggerCommand(e,t){if(this._codeEditorService instanceof One)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(e,t)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(e,t)}};zne=Fne([Rne(2,Iz),Rne(3,Pz),Rne(4,aU),Rne(5,qX),Rne(6,_ne),Rne(7,uJ),Rne(8,hZ),Rne(9,Tee)],zne);let Vne=class extends zne{constructor(e,t,n,i,r,o,s,a,l,c,u,h,d,f,p){const g=Object.assign({},t);UZ(h,g,!1);const m=c.registerEditorContainer(e);"string"==typeof g.theme&&c.setTheme(g.theme),void 0!==g.autoDetectHighContrast&&c.setAutoDetectHighContrast(Boolean(g.autoDetectHighContrast));let v,y=g.model;if(delete g.model,super(e,g,i,r,o,s,a,c,u,d),this._contextViewService=l,this._configurationService=h,this._standaloneThemeService=c,this._register(n),this._register(m),void 0===y?(v=Hne(f,p,g.value||"",g.language||M6.text,void 0),this._ownsModel=!0):(v=y,this._ownsModel=!1),this._attachModel(v),v){let e={oldModelUrl:null,newModelUrl:v.uri};this._onDidChangeModel.fire(e)}}dispose(){super.dispose()}updateOptions(e){UZ(this._configurationService,e,!1),"string"==typeof e.theme&&this._standaloneThemeService.setTheme(e.theme),void 0!==e.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(e.autoDetectHighContrast)),super.updateOptions(e)}_attachModel(e){super._attachModel(e),this._modelData&&this._contextViewService.setContainer(this._modelData.view.domNode.domNode)}_postDetachModelCleanup(e){super._postDetachModelCleanup(e),e&&this._ownsModel&&(e.dispose(),this._ownsModel=!1)}};Vne=Fne([Rne(3,Iz),Rne(4,Pz),Rne(5,aU),Rne(6,qX),Rne(7,_ne),Rne(8,Ute),Rne(9,bne),Rne(10,hZ),Rne(11,bK),Rne(12,Tee),Rne(13,m$),Rne(14,lq)],Vne);let Wne=class extends rne{constructor(e,t,n,i,r,o,s,a,l,c,u,h,d,f,p){const g=Object.assign({},t);UZ(h,g,!0);const m=c.registerEditorContainer(e);"string"==typeof g.theme&&c.setTheme(g.theme),void 0!==g.autoDetectHighContrast&&c.setAutoDetectHighContrast(Boolean(g.autoDetectHighContrast)),super(e,g,{},p,a,r,i,l,c,u,d,f),this._contextViewService=s,this._configurationService=h,this._standaloneThemeService=c,this._register(n),this._register(m),this._contextViewService.setContainer(this._containerDomElement)}dispose(){super.dispose()}updateOptions(e){UZ(this._configurationService,e,!0),"string"==typeof e.theme&&this._standaloneThemeService.setTheme(e.theme),void 0!==e.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(e.autoDetectHighContrast)),super.updateOptions(e)}_createInnerEditor(e,t,n){return e.createInstance(zne,t,n)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(e,t,n){return this.getModifiedEditor().addCommand(e,t,n)}createContextKey(e,t){return this.getModifiedEditor().createContextKey(e,t)}addAction(e){return this.getModifiedEditor().addAction(e)}};function Hne(e,t,n,i,r){if(n=n||"",!i){const i=n.indexOf("\n");let o=n;return-1!==i&&(o=n.substring(0,i)),Une(e,n,t.createByFilepathOrFirstLine(r||null,o),r)}return Une(e,n,t.create(i),r)}function Une(e,t,n,i){return e.createModel(t,n,i)}Wne=Fne([Rne(3,Iz),Rne(4,qX),Rne(5,_ne),Rne(6,Ute),Rne(7,aq),Rne(8,Pz),Rne(9,bne),Rne(10,hZ),Rne(11,bK),Rne(12,$te),Rne(13,Gte),Rne(14,Yte)],Wne);const $ne=Object.prototype.hasOwnProperty;class qne{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(sq,0),this._register("plaintext",1),this._nextLanguageId=2}_register(e,t){this._languageIdToLanguage[t]=e,this._languageToLanguageId.set(e,t)}register(e){if(this._languageToLanguageId.has(e))return;const t=this._nextLanguageId++;this._register(e,t)}encodeLanguageId(e){return this._languageToLanguageId.get(e)||0}decodeLanguageId(e){return this._languageIdToLanguage[e]||sq}}class Kne extends KP{constructor(e=!0,t=!1){super(),this._onDidChange=this._register(new nB),this.onDidChange=this._onDidChange.event,Kne.instanceCount++,this._warnOnOverwrite=t,this.languageIdCodec=new qne,this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e&&(this._initializeFromRegistry(),this._register(See.onDidChangeLanguages((e=>{this._initializeFromRegistry()}))))}dispose(){Kne.instanceCount--,super.dispose()}_initializeFromRegistry(){var e;this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e?(I6=I6.filter((e=>!e.userConfigured)),F6=[]):(I6=[],O6=[],F6=[]);const t=See.getLanguages();this._registerLanguages(t)}_registerLanguages(e){for(const t of e)this._registerLanguage(t);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach((e=>{let t=this._languages[e];t.name&&(this._nameMap[t.name]=t.identifier),t.aliases.forEach((e=>{this._lowercaseNameMap[e.toLowerCase()]=t.identifier})),t.mimetypes.forEach((e=>{this._mimeTypesMap[e]=t.identifier}))})),rK.as(aK).registerOverrideIdentifiers(See.getLanguages().map((e=>e.id))),this._onDidChange.fire()}_registerLanguage(e){const t=e.id;let n;$ne.call(this._languages,t)?n=this._languages[t]:(this.languageIdCodec.register(t),n={identifier:t,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[t]=n),this._mergeLanguage(n,e)}_mergeLanguage(e,t){const n=t.id;let i=null;if(Array.isArray(t.mimetypes)&&t.mimetypes.length>0&&(e.mimetypes.push(...t.mimetypes),i=t.mimetypes[0]),i||(i=`text/x-${n}`,e.mimetypes.push(i)),Array.isArray(t.extensions)){t.configuration?e.extensions=t.extensions.concat(e.extensions):e.extensions=e.extensions.concat(t.extensions);for(let e of t.extensions)R6({id:n,mime:i,extension:e},this._warnOnOverwrite)}if(Array.isArray(t.filenames))for(let l of t.filenames)R6({id:n,mime:i,filename:l},this._warnOnOverwrite),e.filenames.push(l);if(Array.isArray(t.filenamePatterns))for(let l of t.filenamePatterns)R6({id:n,mime:i,filepattern:l},this._warnOnOverwrite);if("string"==typeof t.firstLine&&t.firstLine.length>0){let e=t.firstLine;"^"!==e.charAt(0)&&(e="^"+e);try{let t=new RegExp(e);"^"!==(r=t).source&&"^$"!==r.source&&"$"!==r.source&&"^\\s*$"!==r.source&&r.exec("")&&0===r.lastIndex||R6({id:n,mime:i,firstline:t},this._warnOnOverwrite)}catch(a){IP(a)}}var r;e.aliases.push(n);let o=null;if(void 0!==t.aliases&&Array.isArray(t.aliases)&&(o=0===t.aliases.length?[null]:t.aliases),null!==o)for(const l of o)l&&0!==l.length&&e.aliases.push(l);let s=null!==o&&o.length>0;if(s&&null===o[0]);else{let t=(s?o[0]:null)||n;!s&&e.name||(e.name=t)}t.configuration&&e.configurationFiles.push(t.configuration)}isRegisteredMode(e){return!!$ne.call(this._mimeTypesMap,e)||$ne.call(this._languages,e)}getModeIdForLanguageNameLowercase(e){return $ne.call(this._lowercaseNameMap,e)?this._lowercaseNameMap[e]:null}extractModeIds(e){return e?e.split(",").map((e=>e.trim())).map((e=>$ne.call(this._mimeTypesMap,e)?this._mimeTypesMap[e]:e)).filter((e=>$ne.call(this._languages,e))):[]}validateLanguageId(e){return e&&e!==sq?$ne.call(this._languages,e)?e:null:sq}getModeIdsFromFilepathOrFirstLine(e,t){if(!e&&!t)return[];let n=P6(e,t);return this.extractModeIds(n.join(","))}}Kne.instanceCount=0;class Yne{constructor(e,t){let n;this._selector=t,this.languageId=this._selector(),this._onDidChange=new nB({onFirstListenerAdd:()=>{n=e((()=>this._evaluate()))},onLastListenerRemove:()=>{n.dispose()}}),this.onDidChange=this._onDidChange.event}_evaluate(){const e=this._selector();e!==this.languageId&&(this.languageId=e,this._onDidChange.fire(this.languageId))}}class Gne extends KP{constructor(e=!1){super(),this._onDidEncounterLanguage=this._register(new nB),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onLanguagesMaybeChanged=this._register(new nB({leakWarningThreshold:200})),this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,Gne.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new Kne(!0,e)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange((()=>this._onLanguagesMaybeChanged.fire())))}dispose(){Gne.instanceCount--,super.dispose()}isRegisteredMode(e){return this._registry.isRegisteredMode(e)}getModeIdForLanguageName(e){return this._registry.getModeIdForLanguageNameLowercase(e)}getModeIdByFilepathOrFirstLine(e,t){return CY(this._registry.getModeIdsFromFilepathOrFirstLine(e,t),null)}getModeId(e){return CY(this._registry.extractModeIds(e),null)}validateLanguageId(e){return this._registry.validateLanguageId(e)}create(e){return new Yne(this.onLanguagesMaybeChanged,(()=>{const t=this.getModeId(e);return this._createModeAndGetLanguageIdentifier(t)}))}createByFilepathOrFirstLine(e,t){return new Yne(this.onLanguagesMaybeChanged,(()=>{const n=this.getModeIdByFilepathOrFirstLine(e,t);return this._createModeAndGetLanguageIdentifier(n)}))}_createModeAndGetLanguageIdentifier(e){const t=this.validateLanguageId(e||"plaintext")||sq;return this._getOrCreateMode(t),t}triggerMode(e){const t=this.getModeId(e);this._getOrCreateMode(t||"plaintext")}_getOrCreateMode(e){if(!this._encounteredLanguages.has(e)){this._encounteredLanguages.add(e);const t=this.validateLanguageId(e)||sq;this._onDidEncounterLanguage.fire(t)}}}Gne.instanceCount=0;var Xne=globalThis&&globalThis.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Zne=globalThis&&globalThis.__param||function(e,t){return function(n,i){t(n,i,e)}};let Jne=class{constructor(e,t,n,i){this._legend=e,this._themeService=t,this._modeService=n,this._logService=i,this._hashTable=new eie,this._hasWarnedOverlappingTokens=!1}getMetadata(e,t,n){const i=this._modeService.languageIdCodec.encodeLanguageId(n),r=this._hashTable.get(e,t,i);let o;if(r)o=r.metadata,this._logService.getLevel()===MY.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${e} / ${t}: foreground ${M$.getForeground(o)}, fontStyle ${M$.getFontStyle(o).toString(2)}`);else{let r=this._legend.tokenTypes[e];const s=[];if(r){let e=t;for(let t=0;e>0&&t<this._legend.tokenModifiers.length;t++)1&e&&s.push(this._legend.tokenModifiers[t]),e>>=1;e>0&&this._logService.getLevel()===MY.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${t.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),s.push("not-in-legend"));const i=this._themeService.getColorTheme().getTokenStyleMetadata(r,s,n);if(void 0===i)o=2147483647;else{if(o=0,void 0!==i.italic){o|=1|(i.italic?1:0)<<11}if(void 0!==i.bold){o|=2|(i.bold?2:0)<<11}if(void 0!==i.underline){o|=4|(i.underline?4:0)<<11}if(i.foreground){o|=8|i.foreground<<14}0===o&&(o=2147483647)}}else this._logService.getLevel()===MY.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${e} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),o=2147483647,r="not-in-legend";this._hashTable.add(e,t,i,o),this._logService.getLevel()===MY.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${e} (${r}) / ${t} (${s.join(" ")}): foreground ${M$.getForeground(o)}, fontStyle ${M$.getFontStyle(o).toString(2)}`)}return o}warnOverlappingSemanticTokens(e,t){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${e}, column ${t}`))}};Jne=Xne([Zne(1,uJ),Zne(2,lq),Zne(3,NY)],Jne);class Qne{constructor(e,t,n,i){this.tokenTypeIndex=e,this.tokenModifierSet=t,this.languageId=n,this.metadata=i,this.next=null}}class eie{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=eie._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<eie._SIZES.length?2/3*this._currentLength:0),this._elements=[],eie._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(e,t){for(let n=0;n<t;n++)e[n]=null}_hash2(e,t){return(e<<5)-e+t|0}_hashFunc(e,t,n){return this._hash2(this._hash2(e,t),n)%this._currentLength}get(e,t,n){const i=this._hashFunc(e,t,n);let r=this._elements[i];for(;r;){if(r.tokenTypeIndex===e&&r.tokenModifierSet===t&&r.languageId===n)return r;r=r.next}return null}add(e,t,n,i){if(this._elementsCount++,0!==this._growCount&&this._elementsCount>=this._growCount){const e=this._elements;this._currentLengthIndex++,this._currentLength=eie._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<eie._SIZES.length?2/3*this._currentLength:0),this._elements=[],eie._nullOutEntries(this._elements,this._currentLength);for(const t of e){let e=t;for(;e;){const t=e.next;e.next=null,this._add(e),e=t}}}this._add(new Qne(e,t,n,i))}_add(e){const t=this._hashFunc(e.tokenTypeIndex,e.tokenModifierSet,e.languageId);e.next=this._elements[t],this._elements[t]=e}}function tie(e){const t=new Uint32Array(function(e){let t=0;if(t+=2,"full"===e.type)t+=1+e.data.length;else{t+=1,t+=3*e.deltas.length;for(const n of e.deltas)n.data&&(t+=n.data.length)}return t}(e));let n=0;if(t[n++]=e.id,"full"===e.type)t[n++]=1,t[n++]=e.data.length,t.set(e.data,n),n+=e.data.length;else{t[n++]=2,t[n++]=e.deltas.length;for(const i of e.deltas)t[n++]=i.start,t[n++]=i.deleteCount,i.data?(t[n++]=i.data.length,t.set(i.data,n),n+=i.data.length):t[n++]=0}return function(e){const t=new Uint8Array(e.buffer,e.byteOffset,4*e.length);return JR()||function(e){for(let t=0,n=e.length;t<n;t+=4){const n=e[t+0],i=e[t+1],r=e[t+2],o=e[t+3];e[t+0]=o,e[t+1]=r,e[t+2]=i,e[t+3]=n}}(t),IH.wrap(t)}(t)}eie._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143];var nie=globalThis&&globalThis.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(nR){o(nR)}}function a(e){try{l(i.throw(e))}catch(nR){o(nR)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function iie(e){return e&&!!e.data}function rie(e){return e&&Array.isArray(e.edits)}class oie{constructor(e,t){this.provider=e,this.tokens=t}}function sie(e){return nq.has(e)}function aie(e,t,n,i){return nie(this,void 0,void 0,(function*(){const r=function(e){const t=nq.orderedGroups(e);return t.length>0?t[0]:[]}(e),o=yield Promise.all(r.map((r=>nie(this,void 0,void 0,(function*(){let o;try{o=yield r.provideDocumentSemanticTokens(e,r===t?n:null,i)}catch(s){OP(s),o=null}return o&&(iie(o)||rie(o))||(o=null),new oie(r,o)})))));for(const e of o)if(e.tokens)return e;return o.length>0?o[0]:null}))}class lie{constructor(e,t){this.provider=e,this.tokens=t}}function cie(e){const t=iq.orderedGroups(e);return t.length>0?t[0]:[]}function uie(e,t,n){return nie(this,void 0,void 0,(function*(){const i=cie(e),r=yield Promise.all(i.map((i=>nie(this,void 0,void 0,(function*(){let r;try{r=yield i.provideDocumentRangeSemanticTokens(e,t,n)}catch(o){OP(o),r=null}return r&&iie(r)||(r=null),new lie(i,r)})))));for(const e of r)if(e.tokens)return e;return r.length>0?r[0]:null}))}lU.registerCommand("_provideDocumentSemanticTokensLegend",((e,...t)=>nie(void 0,void 0,void 0,(function*(){const[n]=t;nU(n instanceof ZB);const i=e.get(m$).getModel(n);if(!i)return;const r=function(e){const t=nq.orderedGroups(e);return t.length>0?t[0]:null}(i);return r?r[0].getLegend():e.get(aU).executeCommand("_provideDocumentRangeSemanticTokensLegend",n)})))),lU.registerCommand("_provideDocumentSemanticTokens",((e,...t)=>nie(void 0,void 0,void 0,(function*(){const[n]=t;nU(n instanceof ZB);const i=e.get(m$).getModel(n);if(!i)return;if(!sie(i))return e.get(aU).executeCommand("_provideDocumentRangeSemanticTokens",n,i.getFullModelRange());const r=yield aie(i,null,null,lB.None);if(!r)return;const{provider:o,tokens:s}=r;if(!s||!iie(s))return;const a=tie({id:0,type:"full",data:s.data});return s.resultId&&o.releaseDocumentSemanticTokens(s.resultId),a})))),lU.registerCommand("_provideDocumentRangeSemanticTokensLegend",((e,...t)=>nie(void 0,void 0,void 0,(function*(){const[n,i]=t;nU(n instanceof ZB);const r=e.get(m$).getModel(n);if(!r)return;const o=cie(r);if(0===o.length)return;if(1===o.length)return o[0].getLegend();if(!i||!cj.isIRange(i))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),o[0].getLegend();const s=yield uie(r,cj.lift(i),lB.None);return s?s.provider.getLegend():void 0})))),lU.registerCommand("_provideDocumentRangeSemanticTokens",((e,...t)=>nie(void 0,void 0,void 0,(function*(){const[n,i]=t;nU(n instanceof ZB),nU(cj.isIRange(i));const r=e.get(m$).getModel(n);if(!r)return;const o=yield uie(r,cj.lift(i),lB.None);return o&&o.tokens?tie({id:0,type:"full",data:o.tokens.data}):void 0}))));var hie=globalThis&&globalThis.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},die=globalThis&&globalThis.__param||function(e,t){return function(n,i){t(n,i,e)}};function fie(e){return e.toString()}function pie(e){const t=new YU,n=e.createSnapshot();let i;for(;i=n.read();)t.update(i);return t.digest()}class gie{constructor(e,t,n){this._modelEventListeners=new qP,this.model=e,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(e.onWillDispose((()=>t(e)))),this._modelEventListeners.add(e.onDidChangeLanguage((t=>n(e,t))))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(e){this._disposeLanguageSelection(),this._languageSelection=e,this._languageSelectionListener=this._languageSelection.onDidChange((()=>this.model.setMode(e.languageId))),this.model.setMode(e.languageId)}}const mie=HR||WR?1:2;class vie{constructor(e,t,n,i,r,o,s,a){this.uri=e,this.initialUndoRedoSnapshot=t,this.time=n,this.sharesUndoRedoStack=i,this.heapSize=r,this.sha1=o,this.versionId=s,this.alternativeVersionId=a}}let yie=class e extends KP{constructor(e,t,n,i,r,o,s){super(),this._configurationService=e,this._resourcePropertiesService=t,this._themeService=n,this._logService=i,this._undoRedoService=r,this._modeService=o,this._languageConfigurationService=s,this._onModelAdded=this._register(new nB),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new nB),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new nB),this.onModelModeChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new wie(this._themeService,this._modeService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration((()=>this._updateModelOptions()))),this._updateModelOptions(),this._register(new _ie(this,this._themeService,this._configurationService,this._semanticStyling))}static _readModelOptions(e,t){var n;let i=LP.tabSize;if(e.editor&&void 0!==e.editor.tabSize){const t=parseInt(e.editor.tabSize,10);isNaN(t)||(i=t),i<1&&(i=1)}let r=i;if(e.editor&&void 0!==e.editor.indentSize&&"tabSize"!==e.editor.indentSize){const t=parseInt(e.editor.indentSize,10);isNaN(t)||(r=t),r<1&&(r=1)}let o=LP.insertSpaces;e.editor&&void 0!==e.editor.insertSpaces&&(o="false"!==e.editor.insertSpaces&&Boolean(e.editor.insertSpaces));let s=mie;const a=e.eol;"\r\n"===a?s=2:"\n"===a&&(s=1);let l=LP.trimAutoWhitespace;e.editor&&void 0!==e.editor.trimAutoWhitespace&&(l="false"!==e.editor.trimAutoWhitespace&&Boolean(e.editor.trimAutoWhitespace));let c=LP.detectIndentation;e.editor&&void 0!==e.editor.detectIndentation&&(c="false"!==e.editor.detectIndentation&&Boolean(e.editor.detectIndentation));let u=LP.largeFileOptimizations;e.editor&&void 0!==e.editor.largeFileOptimizations&&(u="false"!==e.editor.largeFileOptimizations&&Boolean(e.editor.largeFileOptimizations));let h=LP.bracketPairColorizationOptions;return(null===(n=e.editor)||void 0===n?void 0:n.bracketPairColorization)&&"object"==typeof e.editor.bracketPairColorization&&(h={enabled:!!e.editor.bracketPairColorization.enabled}),{isForSimpleWidget:t,tabSize:i,indentSize:r,insertSpaces:o,detectIndentation:c,defaultEOL:s,trimAutoWhitespace:l,largeFileOptimizations:u,bracketPairColorizationOptions:h}}_getEOL(e,t){if(e)return this._resourcePropertiesService.getEOL(e,t);const n=this._configurationService.getValue("files.eol",{overrideIdentifier:t});return n&&"string"==typeof n&&"auto"!==n?n:3===GR||2===GR?"\n":"\r\n"}_shouldRestoreUndoStack(){const e=this._configurationService.getValue("files.restoreUndoStack");return"boolean"!=typeof e||e}getCreationOptions(t,n,i){let r=this._modelCreationOptionsByLanguageAndResource[t+n];if(!r){const o=this._configurationService.getValue("editor",{overrideIdentifier:t,resource:n}),s=this._getEOL(n,t);r=e._readModelOptions({editor:o,eol:s},i),this._modelCreationOptionsByLanguageAndResource[t+n]=r}return r}_updateModelOptions(){const t=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const n=Object.keys(this._models);for(let i=0,r=n.length;i<r;i++){const r=n[i],o=this._models[r],s=o.model.getLanguageId(),a=o.model.uri,l=t[s+a],c=this.getCreationOptions(s,a,o.model.isForSimpleWidget);e._setModelOptionsForModel(o.model,c,l)}}static _setModelOptionsForModel(e,t,n){n&&n.defaultEOL!==t.defaultEOL&&1===e.getLineCount()&&e.setEOL(1===t.defaultEOL?0:1),n&&n.detectIndentation===t.detectIndentation&&n.insertSpaces===t.insertSpaces&&n.tabSize===t.tabSize&&n.indentSize===t.indentSize&&n.trimAutoWhitespace===t.trimAutoWhitespace&&kU(n.bracketPairColorizationOptions,t.bracketPairColorizationOptions)||(t.detectIndentation?(e.detectIndentation(t.insertSpaces,t.tabSize),e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions})):e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,indentSize:t.indentSize,trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions}))}_insertDisposedModel(e){this._disposedModels.set(fie(e.uri),e),this._disposedModelsHeapSize+=e.heapSize}_removeDisposedModel(e){const t=this._disposedModels.get(fie(e));return t&&(this._disposedModelsHeapSize-=t.heapSize),this._disposedModels.delete(fie(e)),t}_ensureDisposedModelsHeapSize(e){if(this._disposedModelsHeapSize>e){const t=[];for(this._disposedModels.forEach((e=>{e.sharesUndoRedoStack||t.push(e)})),t.sort(((e,t)=>e.time-t.time));t.length>0&&this._disposedModelsHeapSize>e;){const e=t.shift();this._removeDisposedModel(e.uri),null!==e.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(e.initialUndoRedoSnapshot)}}}_createModelData(e,t,n,i){const r=this.getCreationOptions(t,n,i),o=new W5(e,r,t,n,this._undoRedoService,this._modeService,this._languageConfigurationService);if(n&&this._disposedModels.has(fie(n))){const e=this._removeDisposedModel(n),t=this._undoRedoService.getElements(n),i=pie(o)===e.sha1;if(i||e.sharesUndoRedoStack){for(const e of t.past)HQ(e)&&e.matchesResource(n)&&e.setModel(o);for(const e of t.future)HQ(e)&&e.matchesResource(n)&&e.setModel(o);this._undoRedoService.setElementsValidFlag(n,!0,(e=>HQ(e)&&e.matchesResource(n))),i&&(o._overwriteVersionId(e.versionId),o._overwriteAlternativeVersionId(e.alternativeVersionId),o._overwriteInitialUndoRedoSnapshot(e.initialUndoRedoSnapshot))}else null!==e.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(e.initialUndoRedoSnapshot)}const s=fie(o.uri);if(this._models[s])throw new Error("ModelService: Cannot add model because it already exists!");const a=new gie(o,(e=>this._onWillDispose(e)),((e,t)=>this._onDidChangeLanguage(e,t)));return this._models[s]=a,a}createModel(e,t,n,i=!1){let r;return t?(r=this._createModelData(e,t.languageId,n,i),this.setMode(r.model,t)):r=this._createModelData(e,"plaintext",n,i),this._onModelAdded.fire(r.model),r.model}setMode(e,t){if(!t)return;const n=this._models[fie(e.uri)];n&&n.setLanguage(t)}getModels(){const e=[],t=Object.keys(this._models);for(let n=0,i=t.length;n<i;n++){const i=t[n];e.push(this._models[i].model)}return e}getModel(e){const t=fie(e),n=this._models[t];return n?n.model:null}getSemanticTokensProviderStyling(e){return this._semanticStyling.get(e)}_schemaShouldMaintainUndoRedoElements(e){return e.scheme===kV.file||e.scheme===kV.vscodeRemote||e.scheme===kV.userData||e.scheme===kV.vscodeNotebookCell||"fake-fs"===e.scheme}_onWillDispose(t){const n=fie(t.uri),i=this._models[n],r=this._undoRedoService.getUriComparisonKey(t.uri)!==t.uri.toString();let o=!1,s=0;if(r||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(t.uri)){const e=this._undoRedoService.getElements(t.uri);if(e.past.length>0||e.future.length>0){for(const n of e.past)HQ(n)&&n.matchesResource(t.uri)&&(o=!0,s+=n.heapSize(t.uri),n.setModel(t.uri));for(const n of e.future)HQ(n)&&n.matchesResource(t.uri)&&(o=!0,s+=n.heapSize(t.uri),n.setModel(t.uri))}}const a=e.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(o)if(!r&&s>a){const e=i.model.getInitialUndoRedoSnapshot();null!==e&&this._undoRedoService.restoreSnapshot(e)}else this._ensureDisposedModelsHeapSize(a-s),this._undoRedoService.setElementsValidFlag(t.uri,!1,(e=>HQ(e)&&e.matchesResource(t.uri))),this._insertDisposedModel(new vie(t.uri,i.model.getInitialUndoRedoSnapshot(),Date.now(),r,s,pie(t),t.getVersionId(),t.getAlternativeVersionId()));else if(!r){const e=i.model.getInitialUndoRedoSnapshot();null!==e&&this._undoRedoService.restoreSnapshot(e)}delete this._models[n],i.dispose(),delete this._modelCreationOptionsByLanguageAndResource[t.getLanguageId()+t.uri],this._onModelRemoved.fire(t)}_onDidChangeLanguage(t,n){const i=n.oldLanguage,r=t.getLanguageId(),o=this.getCreationOptions(i,t.uri,t.isForSimpleWidget),s=this.getCreationOptions(r,t.uri,t.isForSimpleWidget);e._setModelOptionsForModel(t,s,o),this._onModelModeChanged.fire({model:t,oldModeId:i})}};yie.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20971520,yie=hie([die(0,bK),die(1,vY),die(2,uJ),die(3,NY),die(4,S1),die(5,lq),die(6,NK)],yie);function bie(e,t,n){var i;const r=null===(i=n.getValue("editor.semanticHighlighting",{overrideIdentifier:e.getLanguageId(),resource:e.uri}))||void 0===i?void 0:i.enabled;return"boolean"==typeof r?r:t.getColorTheme().semanticHighlighting}class _ie extends KP{constructor(e,t,n,i){super(),this._watchers=Object.create(null),this._semanticStyling=i;const r=e=>{this._watchers[e.uri.toString()]=new xie(e,t,this._semanticStyling)},o=(e,t)=>{t.dispose(),delete this._watchers[e.uri.toString()]},s=()=>{for(let i of e.getModels()){const e=this._watchers[i.uri.toString()];bie(i,t,n)?e||r(i):e&&o(i,e)}};this._register(e.onModelAdded((e=>{bie(e,t,n)&&r(e)}))),this._register(e.onModelRemoved((e=>{const t=this._watchers[e.uri.toString()];t&&o(e,t)}))),this._register(n.onDidChangeConfiguration((e=>{e.affectsConfiguration("editor.semanticHighlighting")&&s()}))),this._register(t.onDidColorThemeChange(s))}}class wie extends KP{constructor(e,t,n){super(),this._themeService=e,this._modeService=t,this._logService=n,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange((()=>{this._caches=new WeakMap})))}get(e){return this._caches.has(e)||this._caches.set(e,new Jne(e.getLegend(),this._themeService,this._modeService,this._logService)),this._caches.get(e)}}class Cie{constructor(e,t,n){this.provider=e,this.resultId=t,this.data=n}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}class xie extends KP{constructor(e,t,n){super(),this._isDisposed=!1,this._model=e,this._semanticStyling=n,this._fetchDocumentSemanticTokens=this._register(new bV((()=>this._fetchDocumentSemanticTokensNow()),xie.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent((()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule()}))),this._register(this._model.onDidChangeLanguage((()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)})));const i=()=>{HP(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const t of nq.all(e))"function"==typeof t.onDidChange&&this._documentProvidersChangeListeners.push(t.onDidChange((()=>this._fetchDocumentSemanticTokens.schedule(0))))};i(),this._register(nq.onDidChange((()=>{i(),this._fetchDocumentSemanticTokens.schedule()}))),this._register(t.onDidColorThemeChange((e=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule()}))),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!sie(this._model))return void(this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1));const e=new hB,t=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,n=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,i=aie(this._model,t,n,e.token);this._currentDocumentRequestCancellationTokenSource=e;const r=[],o=this._model.onDidChangeContent((e=>{r.push(e)}));i.then((e=>{if(this._currentDocumentRequestCancellationTokenSource=null,o.dispose(),e){const{provider:t,tokens:n}=e,i=this._semanticStyling.get(t);this._setDocumentSemanticTokens(t,n||null,i,r)}else this._setDocumentSemanticTokens(null,null,null,r)}),(e=>{e&&(RP(e)||"string"==typeof e.message&&-1!==e.message.indexOf("busy"))||IP(e),this._currentDocumentRequestCancellationTokenSource=null,o.dispose(),r.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule())}))}static _copy(e,t,n,i,r){for(let o=0;o<r;o++)n[i+o]=e[t+o]}_setDocumentSemanticTokens(e,t,n,i){const r=this._currentDocumentResponse,o=()=>{i.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule()};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed)e&&t&&e.releaseDocumentSemanticTokens(t.resultId);else if(e&&n){if(!t)return this._model.setSemanticTokens(null,!0),void o();if(rie(t)){if(!r)return void this._model.setSemanticTokens(null,!0);if(0===t.edits.length)t={resultId:t.resultId,data:r.data};else{let e=0;for(const r of t.edits)e+=(r.data?r.data.length:0)-r.deleteCount;const n=r.data,i=new Uint32Array(n.length+e);let o=n.length,s=i.length;for(let r=t.edits.length-1;r>=0;r--){const e=t.edits[r],a=o-(e.start+e.deleteCount);a>0&&(xie._copy(n,o-a,i,s-a,a),s-=a),e.data&&(xie._copy(e.data,0,i,s-e.data.length,e.data.length),s-=e.data.length),o=e.start}o>0&&xie._copy(n,0,i,0,o),t={resultId:t.resultId,data:i}}}if(iie(t)){this._currentDocumentResponse=new Cie(e,t.resultId,t.data);const r=function(e,t,n){const i=e.data,r=e.data.length/5|0,o=Math.max(Math.ceil(r/1024),400),s=[];let a=0,l=1,c=0;for(;a<r;){const e=a;let u=Math.min(e+o,r);if(u<r){let t=u;for(;t-1>e&&0===i[5*t];)t--;if(t-1===e){let e=u;for(;e+1<r&&0===i[5*e];)e++;u=e}else u=t}let h=new Uint32Array(4*(u-e)),d=0,f=0,p=0,g=0,m=0;for(;a<u;){const e=5*a,r=i[e],o=i[e+1],s=l+r|0,u=0===r?c+o|0:o,v=i[e+2],y=i[e+3],b=i[e+4],_=t.getMetadata(y,b,n);2147483647!==_&&(0===f&&(f=s),p===s&&m>u&&(t.warnOverlappingSemanticTokens(s,u+1),g<u?h[d-4+2]=u:d-=4),h[d]=s-f,h[d+1]=u,h[d+2]=u+v,h[d+3]=_,d+=4,p=s,g=u,m=u+v),l=s,c=u,a++}d!==h.length&&(h=h.subarray(0,d));const v=new J0(f,new X0(h));s.push(v)}return s}(t,n,this._model.getLanguageId());if(i.length>0)for(const e of i)for(const t of r)for(const n of e.changes)t.applyEdit(n.range,n.text);this._model.setSemanticTokens(r,!0)}else this._model.setSemanticTokens(null,!0);o()}else this._model.setSemanticTokens(null,!1)}}xie.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY=300;class kie{constructor(e,t,n,i,r){this._parsedThemeRuleBrand=void 0,this.token=e,this.index=t,this.fontStyle=n,this.foreground=i,this.background=r}}const Sie=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class Die{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(e){if(null===e)return 0;const t=e.match(Sie);if(!t)throw new Error("Illegal value for token color: "+e);e=t[1].toUpperCase();let n=this._color2id.get(e);return n||(n=++this._lastColorId,this._color2id.set(e,n),this._id2color[n]=C1.fromHex("#"+e),n)}getColorMap(){return this._id2color.slice(0)}}class Eie{constructor(e,t){this._colorMap=e,this._root=t,this._cache=new Map}static createFromRawTokenTheme(e,t){return this.createFromParsedTokenTheme(function(e){if(!e||!Array.isArray(e))return[];let t=[],n=0;for(let i=0,r=e.length;i<r;i++){let r=e[i],o=-1;if("string"==typeof r.fontStyle){o=0;let e=r.fontStyle.split(" ");for(let t=0,n=e.length;t<n;t++)switch(e[t]){case"italic":o|=1;break;case"bold":o|=2;break;case"underline":o|=4}}let s=null;"string"==typeof r.foreground&&(s=r.foreground);let a=null;"string"==typeof r.background&&(a=r.background),t[n++]=new kie(r.token||"",i,o,s,a)}return t}(e),t)}static createFromParsedTokenTheme(e,t){return function(e,t){e.sort(((e,t)=>{let n=function(e,t){return e<t?-1:e>t?1:0}(e.token,t.token);return 0!==n?n:e.index-t.index}));let n=0,i="000000",r="ffffff";for(;e.length>=1&&""===e[0].token;){let t=e.shift();-1!==t.fontStyle&&(n=t.fontStyle),null!==t.foreground&&(i=t.foreground),null!==t.background&&(r=t.background)}let o=new Die;for(let u of t)o.getId(u);let s=o.getId(i),a=o.getId(r),l=new Tie(n,s,a),c=new Nie(l);for(let u=0,h=e.length;u<h;u++){let t=e[u];c.insert(t.token,t.fontStyle,o.getId(t.foreground),o.getId(t.background))}return new Eie(o,c)}(e,t)}getColorMap(){return this._colorMap.getColorMap()}_match(e){return this._root.match(e)}match(e,t){let n=this._cache.get(t);if(void 0===n){let e=this._match(t),i=function(e){let t=e.match(Lie);if(!t)return 0;switch(t[1]){case"comment":return 1;case"string":return 2;case"regex":case"regexp":return 4}throw new Error("Unexpected match for standard token type!")}(t);n=(e.metadata|i<<8)>>>0,this._cache.set(t,n)}return(n|e<<0)>>>0}}const Lie=/\b(comment|string|regex|regexp)\b/;class Tie{constructor(e,t,n){this._themeTrieElementRuleBrand=void 0,this._fontStyle=e,this._foreground=t,this._background=n,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}clone(){return new Tie(this._fontStyle,this._foreground,this._background)}acceptOverwrite(e,t,n){-1!==e&&(this._fontStyle=e),0!==t&&(this._foreground=t),0!==n&&(this._background=n),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}}class Nie{constructor(e){this._themeTrieElementBrand=void 0,this._mainRule=e,this._children=new Map}match(e){if(""===e)return this._mainRule;let t,n,i=e.indexOf(".");-1===i?(t=e,n=""):(t=e.substring(0,i),n=e.substring(i+1));let r=this._children.get(t);return void 0!==r?r.match(n):this._mainRule}insert(e,t,n,i){if(""===e)return void this._mainRule.acceptOverwrite(t,n,i);let r,o,s=e.indexOf(".");-1===s?(r=e,o=""):(r=e.substring(0,s),o=e.substring(s+1));let a=this._children.get(r);void 0===a&&(a=new Nie(this._mainRule.clone()),this._children.set(r,a)),a.insert(o,t,n,i)}}const Mie={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[g4]:"#FFFFFE",[m4]:"#000000",[M4]:"#E5EBF1",[Z3]:"#D3D3D3",[J3]:"#939393",[A4]:"#ADD6FF4D"}},Aie={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[g4]:"#1E1E1E",[m4]:"#D4D4D4",[M4]:"#3A3D41",[Z3]:"#404040",[J3]:"#707070",[A4]:"#ADD6FF26"}},Iie={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[g4]:"#000000",[m4]:"#FFFFFF",[Z3]:"#FFFFFF",[J3]:"#FFFFFF"}};function Oie(){const e=new nB,t=Tte;return t.onDidChange((()=>e.fire())),{onDidChange:e.event,getCSS(){const e={},n=n=>{let i=n.defaults;for(;dJ.isThemeIcon(i);){const e=t.getIcon(i.id);if(!e)return;i=e.defaults}const r=i.fontId;if(r){const o=t.getIconFont(r);if(o)return e[r]=o,`.codicon-${n.id}:before { content: '${i.fontCharacter}'; font-family: ${EW(r)}; }`}return`.codicon-${n.id}:before { content: '${i.fontCharacter}'; }`},i=[];for(let r of t.getIcons()){const e=n(r);e&&i.push(e)}for(let t in e){const n=e[t].definition.src.map((e=>`${DW(e.location)} format('${e.format}')`)).join(", ");i.push(`@font-face { src: ${n}; font-family: ${EW(t)}; font-display: block; }`)}return i.join("\n")}}}const Fie=rK.as(D2),Rie=rK.as(gJ);class Pie{constructor(e,t){this.semanticHighlighting=!1,this.themeData=t;let n=t.base;e.length>0?(Bie(e)?this.id=e:this.id=n+" "+e,this.themeName=e):(this.id=n,this.themeName=n),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const e=new Map;for(let t in this.themeData.colors)e.set(t,C1.fromHex(this.themeData.colors[t]));if(this.themeData.inherit){let t=jie(this.themeData.base);for(let n in t.colors)e.has(n)||e.set(n,C1.fromHex(t.colors[n]))}this.colors=e}return this.colors}getColor(e,t){const n=this.getColors().get(e);return n||(!1!==t?this.getDefault(e):void 0)}getDefault(e){let t=this.defaultColors[e];return t||(t=Fie.resolveDefaultColor(e,this),this.defaultColors[e]=t,t)}defines(e){return Object.prototype.hasOwnProperty.call(this.getColors(),e)}get type(){switch(this.base){case"vs":return nJ.LIGHT;case"hc-black":return nJ.HIGH_CONTRAST;default:return nJ.DARK}}get tokenTheme(){if(!this._tokenTheme){let e=[],t=[];if(this.themeData.inherit){let n=jie(this.themeData.base);e=n.rules,n.encodedTokensColors&&(t=n.encodedTokensColors)}const n=this.themeData.colors["editor.foreground"],i=this.themeData.colors["editor.background"];if(n||i){const t={token:""};n&&(t.foreground=n),i&&(t.background=i),e.push(t)}e=e.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(t=this.themeData.encodedTokensColors),this._tokenTheme=Eie.createFromRawTokenTheme(e,t)}return this._tokenTheme}getTokenStyleMetadata(e,t,n){const i=this.tokenTheme._match([e].concat(t).join(".")).metadata,r=M$.getForeground(i),o=M$.getFontStyle(i);return{foreground:r,italic:Boolean(1&o),bold:Boolean(2&o),underline:Boolean(4&o)}}}function Bie(e){return"vs"===e||"vs-dark"===e||"hc-black"===e}function jie(e){switch(e){case"vs":return Mie;case"vs-dark":return Aie;case"hc-black":return Iie}}function zie(e){let t=jie(e);return new Pie(e,t)}class Vie extends KP{constructor(){super(),this._onColorThemeChange=this._register(new nB),this.onDidColorThemeChange=this._onColorThemeChange.event,this._environment=Object.create(null),this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set("vs",zie("vs")),this._knownThemes.set("vs-dark",zie("vs-dark")),this._knownThemes.set("hc-black",zie("hc-black"));const e=Oie();this._codiconCSS=e.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme("vs"),e.onDidChange((()=>{this._codiconCSS=e.getCSS(),this._updateCSS()})),function(e,t){const n=window.matchMedia(e);"function"==typeof n.addEventListener?n.addEventListener("change",t):n.addListener(t)}("(forced-colors: active)",(()=>{this._updateActualTheme()}))}registerEditorContainer(e){return nW(e)?this._registerShadowDomContainer(e):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=oW(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),KP.None}_registerShadowDomContainer(e){const t=oW(e);return t.className="monaco-colors",t.textContent=this._allCSS,this._styleElements.push(t),{dispose:()=>{for(let e=0;e<this._styleElements.length;e++)if(this._styleElements[e]===t)return void this._styleElements.splice(e,1)}}}defineTheme(e,t){if(!/^[a-z0-9\-]+$/i.test(e))throw new Error("Illegal theme name!");if(!Bie(t.base)&&!Bie(e))throw new Error("Illegal theme base!");this._knownThemes.set(e,new Pie(e,t)),Bie(e)&&this._knownThemes.forEach((t=>{t.base===e&&t.notifyBaseUpdated()})),this._theme.themeName===e&&this.setTheme(e)}getColorTheme(){return this._theme}setColorMapOverride(e){this._colorMapOverride=e,this._updateThemeOrColorMap()}setTheme(e){let t;t=this._knownThemes.has(e)?this._knownThemes.get(e):this._knownThemes.get("vs"),this._desiredTheme=t,this._updateActualTheme()}_updateActualTheme(){const e=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get("hc-black"):this._desiredTheme;this._theme!==e&&(this._theme=e,this._updateThemeOrColorMap())}setAutoDetectHighContrast(e){this._autoDetectHighContrast=e,this._updateActualTheme()}_updateThemeOrColorMap(){let e=[],t={},n={addRule:n=>{t[n]||(e.push(n),t[n]=!0)}};Rie.getThemingParticipants().forEach((e=>e(this._theme,n,this._environment)));const i=this._colorMapOverride||this._theme.tokenTheme.getColorMap();n.addRule(function(e){let t=[];for(let n=1,i=e.length;n<i;n++){let i=e[n];t[n]=`.mtk${n} { color: ${i}; }`}return t.push(".mtki { font-style: italic; }"),t.push(".mtkb { font-weight: bold; }"),t.push(".mtku { text-decoration: underline; text-underline-position: under; }"),t.join("\n")}(i)),this._themeCSS=e.join("\n"),this._updateCSS(),rq.setColorMap(i),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._styleElements.forEach((e=>e.textContent=this._allCSS))}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}}var Wie=globalThis&&globalThis.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Hie=globalThis&&globalThis.__param||function(e,t){return function(n,i){t(n,i,e)}};class Uie{constructor(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}setValue(e,t){return this._value[e]!==t&&(this._value[e]=t,!0)}removeValue(e){return e in this._value&&(delete this._value[e],!0)}getValue(e){const t=this._value[e];return void 0===t&&this._parent?this._parent.getValue(e):t}}class $ie extends Uie{constructor(){super(-1,null)}setValue(e,t){return!1}removeValue(e){return!1}getValue(e){}}$ie.INSTANCE=new $ie;class qie extends Uie{constructor(e,t,n){super(e,null),this._configurationService=t,this._values=DH.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration((e=>{if(6===e.source){const e=Array.from(VP.map(this._values,(([e])=>e)));this._values.clear(),n.fire(new Gie(e))}else{const t=[];for(const n of e.affectedKeys){const e=`config.${n}`,i=this._values.findSuperstr(e);void 0!==i&&(t.push(...VP.map(i,(([e])=>e))),this._values.deleteSuperstr(e)),this._values.has(e)&&(t.push(e),this._values.delete(e))}n.fire(new Gie(t))}}))}dispose(){this._listener.dispose()}getValue(e){if(0!==e.indexOf(qie._keyPrefix))return super.getValue(e);if(this._values.has(e))return this._values.get(e);const t=e.substr(qie._keyPrefix.length),n=this._configurationService.getValue(t);let i;switch(typeof n){case"number":case"boolean":case"string":i=n;break;default:i=Array.isArray(n)?JSON.stringify(n):n}return this._values.set(e,i),i}setValue(e,t){return super.setValue(e,t)}removeValue(e){return super.removeValue(e)}}qie._keyPrefix="config.";class Kie{constructor(e,t,n){this._service=e,this._key=t,this._defaultValue=n,this.reset()}set(e){this._service.setContext(this._key,e)}reset(){void 0===this._defaultValue?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class Yie{constructor(e){this.key=e}affectsSome(e){return e.has(this.key)}}class Gie{constructor(e){this.keys=e}affectsSome(e){for(const t of this.keys)if(e.has(t))return!0;return!1}}class Xie{constructor(e){this.events=e}affectsSome(e){for(const t of this.events)if(t.affectsSome(e))return!0;return!1}}class Zie{constructor(e){this._onDidChangeContext=new iB({merge:e=>new Xie(e)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=e}createKey(e,t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Kie(this,e,t)}bufferChangeEvents(e){this._onDidChangeContext.pause();try{e()}finally{this._onDidChangeContext.resume()}}createScoped(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Qie(this,e)}contextMatchesRules(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const t=this.getContextValuesContainer(this._myContextId);return ZX.contextMatchesRules(t,e)}getContextKeyValue(e){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(e)}setContext(e,t){if(this._isDisposed)return;const n=this.getContextValuesContainer(this._myContextId);n&&n.setValue(e,t)&&this._onDidChangeContext.fire(new Yie(e))}removeContext(e){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContext.fire(new Yie(e))}getContext(e){return this._isDisposed?$ie.INSTANCE:this.getContextValuesContainer(function(e){for(;e;){if(e.hasAttribute("data-keybinding-context")){const t=e.getAttribute("data-keybinding-context");return t?parseInt(t,10):NaN}e=e.parentElement}return 0}(e))}}let Jie=class extends Zie{constructor(e){super(0),this._contexts=new Map,this._toDispose=new qP,this._lastContextId=0;const t=new qie(this._myContextId,e,this._onDidChangeContext);this._contexts.set(this._myContextId,t),this._toDispose.add(t)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(e){return this._isDisposed?$ie.INSTANCE:this._contexts.get(e)||$ie.INSTANCE}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let t=++this._lastContextId;return this._contexts.set(t,new Uie(t,this.getContextValuesContainer(e))),t}disposeContext(e){this._isDisposed||this._contexts.delete(e)}};Jie=Wie([Hie(0,bK)],Jie);class Qie extends Zie{constructor(e,t){if(super(e.createChildContext()),this._parentChangeListener=new YP,this._parent=e,this._updateParentChangeListener(),this._domNode=t,this._domNode.hasAttribute("data-keybinding-context")){let e="";this._domNode.classList&&(e=Array.from(this._domNode.classList.values()).join(", ")),console.error("Element already has context attribute"+(e?": "+e:""))}this._domNode.setAttribute("data-keybinding-context",String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute("data-keybinding-context"),this._isDisposed=!0)}getContextValuesContainer(e){return this._isDisposed?$ie.INSTANCE:this._parent.getContextValuesContainer(e)}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(e)}disposeContext(e){this._isDisposed||this._parent.disposeContext(e)}}lU.registerCommand("setContext",(function(e,t,n){e.get(qX).createKey(String(t),n)})),lU.registerCommand({id:"getContextKeyInfo",handler:()=>[...$X.all()].sort(((e,t)=>e.key.localeCompare(t.key))),description:{description:DR(0,"A command that returns information about context keys"),args:[]}}),lU.registerCommand("_generateContextKeyInfo",(function(){const e=[],t=new Set;for(let n of $X.all())t.has(n.key)||(t.add(n.key),e.push(n));e.sort(((e,t)=>e.key.localeCompare(t.key))),console.log(JSON.stringify(e,void 0,2))}));var ere;function tre(e){let t=e.definition;for(;t instanceof x$;)t=t.definition;return`.codicon-${e.id}:before { content: '${t.fontCharacter}'; }`}!function(e){function t(e,t){if(e.start>=t.end||t.start>=e.end)return{start:0,end:0};const n=Math.max(e.start,t.start),i=Math.min(e.end,t.end);return i-n<=0?{start:0,end:0}:{start:n,end:i}}function n(e){return e.end-e.start<=0}e.intersect=t,e.isEmpty=n,e.intersects=function(e,i){return!n(t(e,i))},e.relativeComplement=function(e,t){const i=[],r={start:e.start,end:Math.min(t.start,e.end)},o={start:Math.max(t.end,e.start),end:e.end};return n(r)||i.push(r),n(o)||i.push(o),i}}(ere||(ere={}));var nre,ire;function rre(e,t,n){const i=n.mode===nre.ALIGN?n.offset:n.offset+n.size,r=n.mode===nre.ALIGN?n.offset+n.size:n.offset;return 0===n.position?t<=e-i?i:t<=r?r-t:Math.max(e-t,0):t<=r?r-t:t<=e-i?i:0}(ire=nre||(nre={}))[ire.AVOID=0]="AVOID",ire[ire.ALIGN=1]="ALIGN";class ore extends KP{constructor(e,t){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=KP.None,this.toDisposeOnSetContainer=KP.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=wW(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,xW(this.view),this.setContainer(e,t),this._register($P((()=>this.setContainer(null,1))))}setContainer(e,t){var n;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,null===(n=this.shadowRootHostElement)||void 0===n||n.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),e){if(this.container=e,this.useFixedPosition=1!==t,this.useShadowDOM=3===t,this.useShadowDOM){this.shadowRootHostElement=wW(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const e=document.createElement("style");e.textContent=sre,this.shadowRoot.appendChild(e),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(wW("slot"))}else this.container.appendChild(this.view);const n=new qP;ore.BUBBLE_UP_EVENTS.forEach((e=>{n.add(IV(this.container,e,(e=>{this.onDOMEvent(e,!1)})))})),ore.BUBBLE_DOWN_EVENTS.forEach((e=>{n.add(IV(this.container,e,(e=>{this.onDOMEvent(e,!0)}),!0))})),this.toDisposeOnSetContainer=n}}show(e){this.isVisible()&&this.hide(),TV(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",CW(this.view),this.toDisposeOnClean=e.render(this.view)||KP.None,this.delegate=e,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){this.isVisible()&&(!1!==this.delegate.canRelayout||qR&&Gz?(this.delegate.layout&&this.delegate.layout(),this.doLayout()):this.hide())}doLayout(){if(!this.isVisible())return;let e,t=this.delegate.getAnchor();if(uW(t)){let n=qV(t);e={top:n.top,left:n.left,width:n.width,height:n.height}}else e={top:t.y,left:t.x,width:t.width||1,height:t.height||2};const n=YV(this.view),i=ZV(this.view),r=this.delegate.anchorPosition||0,o=this.delegate.anchorAlignment||0;let s,a;if(0===(this.delegate.anchorAxisAlignment||0)){const t={offset:e.top-window.pageYOffset,size:e.height,position:0===r?0:1},l={offset:e.left,size:e.width,position:0===o?0:1,mode:nre.ALIGN};s=rre(window.innerHeight,i,t)+window.pageYOffset,ere.intersects({start:s,end:s+i},{start:t.offset,end:t.offset+t.size})&&(l.mode=nre.AVOID),a=rre(window.innerWidth,n,l)}else{const t={offset:e.left,size:e.width,position:0===o?0:1},l={offset:e.top,size:e.height,position:0===r?0:1,mode:nre.ALIGN};a=rre(window.innerWidth,n,t),ere.intersects({start:a,end:a+n},{start:t.offset,end:t.offset+t.size})&&(l.mode=nre.AVOID),s=rre(window.innerHeight,i,l)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(0===r?"bottom":"top"),this.view.classList.add(0===o?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const l=qV(this.container);this.view.style.top=s-(this.useFixedPosition?qV(this.view).top:l.top)+"px",this.view.style.left=a-(this.useFixedPosition?qV(this.view).left:l.left)+"px",this.view.style.width="initial"}hide(e){const t=this.delegate;this.delegate=null,(null==t?void 0:t.onHide)&&t.onHide(e),this.toDisposeOnClean.dispose(),xW(this.view)}isVisible(){return!!this.delegate}onDOMEvent(e,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(e,document.activeElement):t&&!JV(e.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}ore.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],ore.BUBBLE_DOWN_EVENTS=["click"];let sre='\n\t:host {\n\t\tall: initial; /* 1st rule so subsequent properties are reset. */\n\t}\n\n\t@font-face {\n\t\tfont-family: "codicon";\n\t\tfont-display: block;\n\t\tsrc: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");\n\t}\n\n\t.codicon[class*=\'codicon-\'] {\n\t\tfont: normal normal normal 16px/1 codicon;\n\t\tdisplay: inline-block;\n\t\ttext-decoration: none;\n\t\ttext-rendering: auto;\n\t\ttext-align: center;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-ms-user-select: none;\n\t}\n\n\t:host {\n\t\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t}\n\n\t:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }\n\t:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }\n\t:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }\n\t:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }\n\t:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }\n\n\t:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }\n\t:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }\n\t:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }\n\t:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }\n\t:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }\n\n\t:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }\n';function are(...e){return function(t,n){for(let i=0,r=e.length;i<r;i++){const r=e[i](t,n);if(r)return r}return null}}const lre=function(e,t,n){if(!n||n.length<t.length)return null;let i;i=e?qW(n,t):0===n.indexOf(t);if(!i)return null;return t.length>0?[{start:0,end:t.length}]:[]}.bind(void 0,!0);function cre(e,t,n,i){if(n===e.length)return[];if(i===t.length)return null;if(e[n]===t[i]){let r=null;return(r=cre(e,t,n+1,i+1))?mre({start:i,end:i+1},r):null}return cre(e,t,n,i+1)}function ure(e){return 97<=e&&e<=122}function hre(e){return 65<=e&&e<=90}function dre(e){return 48<=e&&e<=57}function fre(e){return 32===e||9===e||10===e||13===e}const pre=new Set;function gre(e){return ure(e)||hre(e)||dre(e)}function mre(e,t){return 0===t.length?t=[e]:e.end===t[0].start?t[0].start=e.start:t.unshift(e),t}function vre(e,t){for(let n=t;n<e.length;n++){const t=e.charCodeAt(n);if(hre(t)||dre(t)||n>0&&!gre(e.charCodeAt(n-1)))return n}return e.length}function yre(e,t,n,i){if(n===e.length)return[];if(i===t.length)return null;if(e[n]!==t[i].toLowerCase())return null;{let r=null,o=i+1;for(r=yre(e,t,n+1,i+1);!r&&(o=vre(t,o))<t.length;)r=yre(e,t,n+1,o),o++;return null===r?null:mre({start:i,end:i+1},r)}}function bre(e,t){if(!t)return null;if(0===(t=t.trim()).length)return null;if(!function(e){let t=0,n=0,i=0,r=0;for(let o=0;o<e.length;o++)i=e.charCodeAt(o),hre(i)&&t++,ure(i)&&n++,fre(i)&&r++;return 0!==t&&0!==n||0!==r?t<=5:e.length<=30}(e))return null;if(t.length>60)return null;const n=function(e){let t=0,n=0,i=0,r=0,o=0;for(let s=0;s<e.length;s++)o=e.charCodeAt(s),hre(o)&&t++,ure(o)&&n++,gre(o)&&i++,dre(o)&&r++;return{upperPercent:t/e.length,lowerPercent:n/e.length,alphaPercent:i/e.length,numericPercent:r/e.length}}(t);if(!function(e){const{upperPercent:t,lowerPercent:n,alphaPercent:i,numericPercent:r}=e;return n>.2&&t<.8&&i>.6&&r<.2}(n)){if(!function(e){const{upperPercent:t,lowerPercent:n}=e;return 0===n&&t>.6}(n))return null;t=t.toLowerCase()}let i=null,r=0;for(e=e.toLowerCase();r<t.length&&null===(i=yre(e,t,0,r));)r=vre(t,r+1);return i}"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?".split("").forEach((e=>pre.add(e.charCodeAt(0))));const _re=are(lre,bre,(function(e,t){const n=t.toLowerCase().indexOf(e.toLowerCase());return-1===n?null:[{start:n,end:n+e.length}]})),wre=are(lre,bre,(function(e,t){return cre(e.toLowerCase(),t.toLowerCase(),0,0)})),Cre=new NH(1e4);function xre(e,t,n=!1){if("string"!=typeof e||"string"!=typeof t)return null;let i=Cre.get(e);i||(i=new RegExp(e.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*"),"i"),Cre.set(e,i));const r=i.exec(t);return r?[{start:r.index,end:r.index+r[0].length}]:n?wre(e,t):_re(e,t)}function kre(){const e=[],t=[];for(let n=0;n<=128;n++)t[n]=0;for(let n=0;n<=128;n++)e.push(t.slice(0));return e}function Sre(e){const t=[];for(let n=0;n<=e;n++)t[n]=0;return t}const Dre=Sre(256),Ere=Sre(256),Lre=kre(),Tre=kre(),Nre=kre();function Mre(e,t){if(t<0||t>=e.length)return!1;const n=e.codePointAt(t);switch(n){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!cH(n)}}function Are(e,t){if(t<0||t>=e.length)return!1;switch(e.charCodeAt(t)){case 32:case 9:return!0;default:return!1}}function Ire(e,t,n){return t[e]!==n[e]}var Ore,Fre;function Rre(e,t,n,i,r,o,s){const a=e.length>128?128:e.length,l=i.length>128?128:i.length;if(n>=a||o>=l||a-n>l-o)return;if(!function(e,t,n,i,r,o,s=!1){for(;t<n&&r<o;)e[t]===i[r]&&(s&&(Dre[t]=r),t+=1),r+=1;return t===n}(t,n,a,r,o,l,!0))return;!function(e,t,n,i,r,o){let s=e-1,a=t-1;for(;s>=n&&a>=i;)r[s]===o[a]&&(Ere[s]=a,s--),a--}(a,l,n,o,t,r);let c=1,u=1,h=n,d=o;const f=[!1];for(c=1,h=n;h<a;c++,h++){const s=Dre[h],p=Ere[h],g=h+1<a?Ere[h+1]:l;for(u=s-o+1,d=s;d<g;u++,d++){let a=Number.MIN_SAFE_INTEGER,g=!1;d<=p&&(a=Pre(e,t,h,n,i,r,d,l,o,0===Lre[c-1][u-1],f));let m=0;a!==Number.MAX_SAFE_INTEGER&&(g=!0,m=a+Tre[c-1][u-1]);const v=d>s,y=v?Tre[c][u-1]+(Lre[c][u-1]>0?-5:0):0,b=d>s+1&&Lre[c][u-1]>0,_=b?Tre[c][u-2]+(Lre[c][u-2]>0?-5:0):0;if(b&&(!v||_>=y)&&(!g||_>=m))Tre[c][u]=_,Nre[c][u]=3,Lre[c][u]=0;else if(v&&(!g||y>=m))Tre[c][u]=y,Nre[c][u]=2,Lre[c][u]=0;else{if(!g)throw new Error("not possible");Tre[c][u]=m,Nre[c][u]=1,Lre[c][u]=Lre[c-1][u-1]+1}}}if(!f[0]&&!s)return;c--,u--;const p=[Tre[c][u],o];let g=0,m=0;for(;c>=1;){let e=u;do{const t=Nre[c][e];if(3===t)e-=2;else{if(2!==t)break;e-=1}}while(e>=1);g>1&&t[n+c-1]===r[o+u-1]&&!Ire(e+o-1,i,r)&&g+1>Lre[c][e]&&(e=u),e===u?g++:g=1,m||(m=e),c--,u=e-1,p.push(u)}l===a&&(p[0]+=2);const v=m-a;return p[0]-=v,p}function Pre(e,t,n,i,r,o,s,a,l,c,u){if(t[n]!==o[s])return Number.MIN_SAFE_INTEGER;let h=1,d=!1;return s===n-i?h=e[n]===r[s]?7:5:!Ire(s,r,o)||0!==s&&Ire(s-1,r,o)?!Mre(o,s)||0!==s&&Mre(o,s-1)?(Mre(o,s-1)||Are(o,s-1))&&(h=5,d=!0):h=5:(h=e[n]===r[s]?7:5,d=!0),h>1&&n===i&&(u[0]=!0),d||(d=Ire(s,r,o)||Mre(o,s-1)||Are(o,s-1)),n===i?s>l&&(h-=d?3:5):h+=c?d?2:0:d?0:1,s+1===a&&(h-=d?3:5),h}(Fre=Ore||(Ore={})).Default=[-100,0],Fre.isDefault=function(e){return!e||2===e.length&&-100===e[0]&&0===e[1]};const Bre=new RegExp(`\\$\\(${k$.iconNameExpression}(?:${k$.iconModifierExpression})?\\)`,"g"),jre=new RegExp(`(\\\\)?${Bre.source}`,"g");new RegExp(`\\\\${Bre.source}`,"g");const zre=new RegExp(`(\\s)?(\\\\)?${Bre.source}(\\s)?`,"g");function Vre(e){const t=e.indexOf("$(");return-1===t?{text:e}:function(e,t){const n=[];let i="";function r(e){if(e){i+=e;for(const t of e)n.push(c)}}let o,s,a=-1,l="",c=0,u=t;const h=e.length;r(e.substr(0,t));for(;u<h;){if(o=e[u],s=e[u+1],o==="$("[0]&&s==="$("[1])a=u,r(l),l="$(",u++;else if(")"===o&&-1!==a){c+=u-a+1,a=-1,l=""}else-1!==a?/^[a-z0-9\-]$/i.test(o)?l+=o:(r(l),a=-1,l=""):r(o);u++}return r(l),{text:i,iconOffsets:n}}(e,t)}function Wre(e,t,n=!1){const{text:i,iconOffsets:r}=t;if(!r||0===r.length)return xre(e,i,n);const o=AW(i," "),s=i.length-o.length,a=xre(e,o,n);if(a)for(const l of a){const e=r[l.start+s]+s;l.start+=e,l.end+=e}return a}const Hre=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,Ure=/(&amp;)?(&amp;)([^\s&])/g,$re=C$("menu-selection",x$.check),qre=C$("menu-submenu",x$.chevronRight);var Kre,Yre;(Yre=Kre||(Kre={}))[Yre.Right=0]="Right",Yre[Yre.Left=1]="Left";class Gre extends Lte{constructor(e,t,n={}){e.classList.add("monaco-menu-container"),e.setAttribute("role","presentation");const i=document.createElement("div");i.classList.add("monaco-menu"),i.setAttribute("role","presentation"),super(i,{orientation:1,actionViewItemProvider:e=>this.doGetActionViewItem(e,n,r),context:n.context,actionRunner:n.actionRunner,ariaLabel:n.ariaLabel,focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...WR||HR?[10]:[]],keyDown:!0}}),this.menuElement=i,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new qP),this.initializeStyleSheet(e),this._register(rQ.addTarget(i)),AV(i,hW.KEY_DOWN,(e=>{new iV(e).equals(2)&&e.preventDefault()})),n.enableMnemonics&&this.menuDisposables.add(AV(i,hW.KEY_DOWN,(e=>{const t=e.key.toLocaleLowerCase();if(this.mnemonics.has(t)){dW(e,!0);const n=this.mnemonics.get(t);if(1===n.length&&(n[0]instanceof Zre&&n[0].container&&this.focusItemByElement(n[0].container),n[0].onClick(e)),n.length>1){const e=n.shift();e&&e.container&&(this.focusItemByElement(e.container),n.push(e)),this.mnemonics.set(t,n)}}}))),HR&&this._register(AV(i,hW.KEY_DOWN,(e=>{const t=new iV(e);t.equals(14)||t.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),dW(e,!0)):(t.equals(13)||t.equals(12))&&(this.focusedItem=0,this.focusPrevious(),dW(e,!0))}))),this._register(AV(this.domNode,hW.MOUSE_OUT,(e=>{JV(e.relatedTarget,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),e.stopPropagation())}))),this._register(AV(this.actionsList,hW.MOUSE_OVER,(e=>{let t=e.target;if(t&&JV(t,this.actionsList)&&t!==this.actionsList){for(;t.parentElement!==this.actionsList&&null!==t.parentElement;)t=t.parentElement;if(t.classList.contains("action-item")){const e=this.focusedItem;this.setFocusedItem(t),e!==this.focusedItem&&this.updateFocus()}}}))),this._register(rQ.addTarget(this.actionsList)),this._register(AV(this.actionsList,tQ.Tap,(e=>{let t=e.initialTarget;if(t&&JV(t,this.actionsList)&&t!==this.actionsList){for(;t.parentElement!==this.actionsList&&null!==t.parentElement;)t=t.parentElement;if(t.classList.contains("action-item")){const e=this.focusedItem;this.setFocusedItem(t),e!==this.focusedItem&&this.updateFocus()}}})));let r={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new S7(i,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const o=this.scrollableElement.getDomNode();o.style.position="",this._register(AV(i,tQ.Change,(e=>{dW(e,!0);const t=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:t-e.translationY})}))),this._register(AV(o,hW.MOUSE_UP,(e=>{e.preventDefault()}))),i.style.maxHeight=`${Math.max(10,window.innerHeight-e.getBoundingClientRect().top-35)}px`,t=t.filter((e=>{var t;return!(null===(t=n.submenuIds)||void 0===t?void 0:t.has(e.id))||(console.warn(`Found submenu cycle: ${e.id}`),!1)})),this.push(t,{icon:!0,label:!0,isMenu:!0}),e.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter((e=>!(e instanceof Jre))).forEach(((e,t,n)=>{e.updatePositionInSet(t+1,n.length)}))}initializeStyleSheet(e){nW(e)?(this.styleSheet=oW(e),this.styleSheet.textContent=Qre):(Gre.globalStyleSheet||(Gre.globalStyleSheet=oW(),Gre.globalStyleSheet.textContent=Qre),this.styleSheet=Gre.globalStyleSheet)}style(e){const t=this.getContainer(),n=e.foregroundColor?`${e.foregroundColor}`:"",i=e.backgroundColor?`${e.backgroundColor}`:"",r=e.borderColor?`1px solid ${e.borderColor}`:"",o=e.shadowColor?`0 2px 4px ${e.shadowColor}`:"";t.style.border=r,this.domNode.style.color=n,this.domNode.style.backgroundColor=i,t.style.boxShadow=o,this.viewItems&&this.viewItems.forEach((t=>{(t instanceof Xre||t instanceof Jre)&&t.style(e)}))}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(e){const t=this.focusedItem;this.setFocusedItem(e),t!==this.focusedItem&&this.updateFocus()}setFocusedItem(e){for(let t=0;t<this.actionsList.children.length;t++){if(e===this.actionsList.children[t]){this.focusedItem=t;break}}}updateFocus(e){super.updateFocus(e,!0),void 0!==this.focusedItem&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(e,t,n){if(e instanceof aJ)return new Jre(t.context,e,{icon:!0});if(e instanceof lJ){const i=new Zre(e,e.actions,n,Object.assign(Object.assign({},t),{submenuIds:new Set([...t.submenuIds||[],e.id])}));if(t.enableMnemonics){const e=i.getMnemonic();if(e&&i.isEnabled()){let t=[];this.mnemonics.has(e)&&(t=this.mnemonics.get(e)),t.push(i),this.mnemonics.set(e,t)}}return i}{const n={enableMnemonics:t.enableMnemonics,useEventAsContext:t.useEventAsContext};if(t.getKeyBinding){const i=t.getKeyBinding(e);if(i){const e=i.getLabel();e&&(n.keybinding=e)}}const i=new Xre(t.context,e,n);if(t.enableMnemonics){const e=i.getMnemonic();if(e&&i.isEnabled()){let t=[];this.mnemonics.has(e)&&(t=this.mnemonics.get(e)),t.push(i),this.mnemonics.set(e,t)}}return i}}}class Xre extends Ste{constructor(e,t,n={}){if(n.isMenu=!0,super(t,t,n),this.options=n,this.options.icon=void 0!==n.icon&&n.icon,this.options.label=void 0===n.label||n.label,this.cssClass="",this.options.label&&n.enableMnemonics){let e=this.getAction().label;if(e){let t=Hre.exec(e);t&&(this.mnemonic=(t[1]?t[1]:t[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new bV((()=>{this.element&&(this._register(AV(this.element,hW.MOUSE_UP,(e=>{if(dW(e,!0),Wz){if(new lV(e).rightButton)return;this.onClick(e)}else setTimeout((()=>{this.onClick(e)}),0)}))),this._register(AV(this.element,hW.CONTEXT_MENU,(e=>{dW(e,!0)}))))}),100),this._register(this.runOnceToEnableMouseUp)}render(e){super.render(e),this.element&&(this.container=e,this.item=gW(this.element,wW("a.action-menu-item")),this._action.id===aJ.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=gW(this.item,wW("span.menu-item-check"+$re.cssSelector)),this.check.setAttribute("role","none"),this.label=gW(this.item,wW("span.action-label")),this.options.label&&this.options.keybinding&&(gW(this.item,wW("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(e,t){this.item&&(this.item.setAttribute("aria-posinset",`${e}`),this.item.setAttribute("aria-setsize",`${t}`))}updateLabel(){var e;if(this.label&&this.options.label){TV(this.label);let t=-1===(e=this.getAction().label).indexOf("$(")?e:e.replace(zre,((e,t,n,i)=>n?e:t||i||""));if(t){const e=function(e){const t=Hre,n=t.exec(e);if(!n)return e;const i=!n[1];return e.replace(t,i?"$2$3":"").trim()}(t);this.options.enableMnemonics||(t=e),this.label.setAttribute("aria-label",e.replace(/&&/g,"&"));const n=Hre.exec(t);if(n){t=t.replace(/[<>&]/g,(function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}})),Ure.lastIndex=0;let e=Ure.exec(t);for(;e&&e[1];)e=Ure.exec(t);const i=e=>e.replace(/&amp;&amp;/g,"&amp;");e?this.label.append(AW(i(t.substr(0,e.index))," "),wW("u",{"aria-hidden":"true"},e[3]),function(e,t){if(!e||!t)return e;const n=t.length,i=e.length;if(0===n||0===i)return e;let r=i,o=-1;for(;o=e.lastIndexOf(t,r-1),-1!==o&&o+n===r;){if(0===o)return"";r=o}return e.substring(0,r)}(i(t.substr(e.index+e[0].length))," ")):this.label.innerText=i(t).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(n[1]?n[1]:n[3]).toLocaleLowerCase())}else this.label.innerText=t.replace(/&&/g,"&").trim()}}}updateTooltip(){let e=null;this.getAction().tooltip?e=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(e=this.getAction().label,this.options.keybinding&&(e=DR(0,"{0} ({1})",e,this.options.keybinding))),e&&this.item&&(this.item.title=e)}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const e=this.getAction().checked;this.item.classList.toggle("checked",!!e),void 0!==e?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",e?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const e=this.element&&this.element.classList.contains("focused"),t=e&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,n=e&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,i=e&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=t?t.toString():"",this.item.style.backgroundColor=n?n.toString():""),this.check&&(this.check.style.color=t?t.toString():""),this.container&&(this.container.style.border=i)}style(e){this.menuStyle=e,this.applyStyle()}}class Zre extends Xre{constructor(e,t,n,i){super(e,e,i),this.submenuActions=t,this.parentData=n,this.submenuOptions=i,this.mysubmenu=null,this.submenuDisposables=this._register(new qP),this.mouseOver=!1,this.expandDirection=i&&void 0!==i.expandDirection?i.expandDirection:Kre.Right,this.showScheduler=new bV((()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))}),250),this.hideScheduler=new bV((()=>{this.element&&!JV(rW(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))}),750)}render(e){super.render(e),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=gW(this.item,wW("span.submenu-indicator"+qre.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register(AV(this.element,hW.KEY_UP,(e=>{let t=new iV(e);(t.equals(17)||t.equals(3))&&(dW(e,!0),this.createSubmenu(!0))}))),this._register(AV(this.element,hW.KEY_DOWN,(e=>{let t=new iV(e);rW()===this.item&&(t.equals(17)||t.equals(3))&&dW(e,!0)}))),this._register(AV(this.element,hW.MOUSE_OVER,(e=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())}))),this._register(AV(this.element,hW.MOUSE_LEAVE,(e=>{this.mouseOver=!1}))),this._register(AV(this.element,hW.FOCUS_OUT,(e=>{this.element&&!JV(rW(),this.element)&&this.hideScheduler.schedule()}))),this._register(this.parentData.parent.onScroll((()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)}))))}updateEnabled(){}onClick(e){dW(e,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(e){if(this.parentData.submenu&&(e||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(t){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(e,t,n,i){const r={top:0,left:0};return r.left=rre(e.width,t.width,{position:i===Kre.Right?0:1,offset:n.left,size:n.width}),r.left>=n.left&&r.left<n.left+n.width&&(n.left+10+t.width<=e.width&&(r.left=n.left+10),n.top+=10,n.height=0),r.top=rre(e.height,t.height,{position:0,offset:n.top,size:0}),r.top+t.height===n.top&&r.top+n.height+t.height<=e.height&&(r.top+=n.height),r}createSubmenu(e=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=gW(this.element,wW("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const t=getComputedStyle(this.parentData.parent.domNode),n=parseFloat(t.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new Gre(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new cJ],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const i=this.element.getBoundingClientRect(),r={top:i.top-n,left:i.left,height:i.height+2*n,width:i.width},o=this.submenuContainer.getBoundingClientRect(),{top:s,left:a}=this.calculateSubmenuMenuLayout(new $V(window.innerWidth,window.innerHeight),$V.lift(o),r,this.expandDirection);this.submenuContainer.style.left=a-o.left+"px",this.submenuContainer.style.top=s-o.top+"px",this.submenuDisposables.add(AV(this.submenuContainer,hW.KEY_UP,(e=>{new iV(e).equals(15)&&(dW(e,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))}))),this.submenuDisposables.add(AV(this.submenuContainer,hW.KEY_DOWN,(e=>{new iV(e).equals(15)&&dW(e,!0)}))),this.submenuDisposables.add(this.parentData.submenu.onDidCancel((()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)}))),this.parentData.submenu.focus(e),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(e){var t;this.item&&(null===(t=this.item)||void 0===t||t.setAttribute("aria-expanded",e))}applyStyle(){if(super.applyStyle(),!this.menuStyle)return;const e=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=e?`${e}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class Jre extends Dte{style(e){this.label&&(this.label.style.borderBottomColor=e.separatorColor?`${e.separatorColor}`:"")}}let Qre=`\n.monaco-menu {\n\tfont-size: 13px;\n\n}\n\n${tre($re)}\n${tre(qre)}\n\n.monaco-menu .monaco-action-bar {\n\ttext-align: right;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.monaco-menu .monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\twidth: 100%;\n\tjustify-content: flex-end;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar.reverse .actions-container {\n\tflex-direction: row-reverse;\n}\n\n.monaco-menu .monaco-action-bar .action-item {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\ttransition: transform 50ms ease;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-menu .monaco-action-bar.animated .action-item.active {\n\ttransform: scale(1.272019649, 1.272019649); /* 1.272019649 =  */\n}\n\n.monaco-menu .monaco-action-bar .action-item .icon,\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tmargin-right: 4px;\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label,\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {\n\topacity: 0.4;\n}\n\n/* Vertical actions */\n\n.monaco-menu .monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid #bbb;\n\tpadding-top: 1px;\n\tmargin-left: .8em;\n\tmargin-right: .8em;\n}\n\n.monaco-menu .secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-menu .monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-menu .monaco-action-bar.vertical {\n\tmargin-left: 0;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tpadding: 0;\n\ttransform: none;\n\tdisplay: flex;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.active {\n\ttransform: none;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\tflex: 1 1 auto;\n\tdisplay: flex;\n\theight: 2em;\n\talign-items: center;\n\tposition: relative;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label {\n\tflex: 1 1 auto;\n\ttext-decoration: none;\n\tpadding: 0 1em;\n\tbackground: none;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .keybinding,\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tdisplay: inline-block;\n\tflex: 2 1 auto;\n\tpadding: 0 1em;\n\ttext-align: right;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {\n\tfont-size: 16px !important;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {\n\tmargin-left: auto;\n\tmargin-right: -20px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {\n\topacity: 0.4;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tmargin: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tposition: static;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {\n\tposition: absolute;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tpadding: 0.5em 0 0 0;\n\tmargin-bottom: 0.5em;\n\twidth: 100%;\n\theight: 0px !important;\n\tmargin-left: .8em !important;\n\tmargin-right: .8em !important;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {\n\tpadding: 0.7em 1em 0.1em 1em;\n\tfont-weight: bold;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:hover {\n\tcolor: inherit;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tposition: absolute;\n\tvisibility: hidden;\n\twidth: 1em;\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {\n\tvisibility: visible;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Context Menu */\n\n.context-view.monaco-menu-container {\n\toutline: 0;\n\tborder: none;\n\tanimation: fadeIn 0.083s linear;\n\t-webkit-app-region: no-drag;\n}\n\n.context-view.monaco-menu-container :focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {\n\toutline: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tborder: thin solid transparent; /* prevents jumping behaviour on hover or focus */\n}\n\n\n/* High Contrast Theming */\n:host-context(.hc-black) .context-view.monaco-menu-container {\n\tbox-shadow: none;\n}\n\n:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {\n\tbackground: none;\n}\n\n/* Vertical Action Bar Styles */\n\n.monaco-menu .monaco-action-bar.vertical {\n\tpadding: .5em 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\theight: 1.8em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),\n.monaco-menu .monaco-action-bar.vertical .keybinding {\n\tfont-size: inherit;\n\tpadding: 0 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tfont-size: inherit;\n\twidth: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tfont-size: inherit;\n\tpadding: 0.2em 0 0 0;\n\tmargin-bottom: 0.2em;\n}\n\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tfont-size: 60%;\n\tpadding: 0 1.8em;\n}\n\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n\tmask-size: 10px 10px;\n\t-webkit-mask-size: 10px 10px;\n}\n\n.monaco-menu .action-item {\n\tcursor: default;\n}\n\n/* Arrows */\n.monaco-scrollable-element > .scrollbar > .scra {\n\tcursor: pointer;\n\tfont-size: 11px !important;\n}\n\n.monaco-scrollable-element > .visible {\n\topacity: 1;\n\n\t/* Background rule added for IE9 - to allow clicks on dom node */\n\tbackground:rgba(0,0,0,0);\n\n\ttransition: opacity 100ms linear;\n}\n.monaco-scrollable-element > .invisible {\n\topacity: 0;\n\tpointer-events: none;\n}\n.monaco-scrollable-element > .invisible.fade {\n\ttransition: opacity 800ms linear;\n}\n\n/* Scrollable Content Inset Shadow */\n.monaco-scrollable-element > .shadow {\n\tposition: absolute;\n\tdisplay: none;\n}\n.monaco-scrollable-element > .shadow.top {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 3px;\n\theight: 3px;\n\twidth: 100%;\n\tbox-shadow: #DDD 0 6px 6px -6px inset;\n}\n.monaco-scrollable-element > .shadow.left {\n\tdisplay: block;\n\ttop: 3px;\n\tleft: 0;\n\theight: 100%;\n\twidth: 3px;\n\tbox-shadow: #DDD 6px 0 6px -6px inset;\n}\n.monaco-scrollable-element > .shadow.top-left-corner {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 0;\n\theight: 3px;\n\twidth: 3px;\n}\n.monaco-scrollable-element > .shadow.top.left {\n\tbox-shadow: #DDD 6px 6px 6px -6px inset;\n}\n\n/* ---------- Default Style ---------- */\n\n:host-context(.vs) .monaco-scrollable-element > .scrollbar > .slider {\n\tbackground: rgba(100, 100, 100, .4);\n}\n:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider {\n\tbackground: rgba(121, 121, 121, .4);\n}\n:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider {\n\tbackground: rgba(111, 195, 223, .6);\n}\n\n.monaco-scrollable-element > .scrollbar > .slider:hover {\n\tbackground: rgba(100, 100, 100, .7);\n}\n:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider:hover {\n\tbackground: rgba(111, 195, 223, .8);\n}\n\n.monaco-scrollable-element > .scrollbar > .slider.active {\n\tbackground: rgba(0, 0, 0, .6);\n}\n:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider.active {\n\tbackground: rgba(191, 191, 191, .4);\n}\n:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider.active {\n\tbackground: rgba(111, 195, 223, 1);\n}\n\n:host-context(.vs-dark) .monaco-scrollable-element .shadow.top {\n\tbox-shadow: none;\n}\n\n:host-context(.vs-dark) .monaco-scrollable-element .shadow.left {\n\tbox-shadow: #000 6px 0 6px -6px inset;\n}\n\n:host-context(.vs-dark) .monaco-scrollable-element .shadow.top.left {\n\tbox-shadow: #000 6px 6px 6px -6px inset;\n}\n\n:host-context(.hc-black) .monaco-scrollable-element .shadow.top {\n\tbox-shadow: none;\n}\n\n:host-context(.hc-black) .monaco-scrollable-element .shadow.left {\n\tbox-shadow: none;\n}\n\n:host-context(.hc-black) .monaco-scrollable-element .shadow.top.left {\n\tbox-shadow: none;\n}\n`;function eoe(e,t){const n=Object.create(null);for(let i in t){const r=t[i];r&&(n[i]=j3(r,e))}return n}function toe(e,t,n){function i(){const i=eoe(e.getColorTheme(),t);"function"==typeof n?n(i):n.style(i)}return i(),e.onDidColorThemeChange(i)}function noe(e,t,n){return toe(t,Object.assign(Object.assign({},ioe),n||{}),e)}const ioe={listFocusBackground:$4,listFocusForeground:q4,listFocusOutline:K4,listActiveSelectionBackground:Y4,listActiveSelectionForeground:G4,listActiveSelectionIconForeground:X4,listFocusAndSelectionBackground:Y4,listFocusAndSelectionForeground:G4,listInactiveSelectionBackground:Z4,listInactiveSelectionIconForeground:Q4,listInactiveSelectionForeground:J4,listInactiveFocusBackground:e3,listInactiveFocusOutline:t3,listHoverBackground:n3,listHoverForeground:i3,listDropBackground:r3,listSelectionOutline:A2,listHoverOutline:A2,listFilterWidgetBackground:c3,listFilterWidgetOutline:u3,listFilterWidgetNoMatchesOutline:h3,listMatchesShadow:I2,treeIndentGuidesStroke:d3,tableColumnsBorder:f3},roe={shadowColor:I2,borderColor:y3,foregroundColor:b3,backgroundColor:_3,selectionForegroundColor:w3,selectionBackgroundColor:C3,selectionBorderColor:x3,separatorColor:k3};class ooe{constructor(e,t,n,i,r){this.contextViewService=e,this.telemetryService=t,this.notificationService=n,this.keybindingService=i,this.themeService=r,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(e){this.options=e}showContextMenu(e){const t=e.getActions();if(!t.length)return;let n;this.focusToReturn=document.activeElement;let i=uW(e.domForShadowRoot)?e.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>e.getAnchor(),canRelayout:!1,anchorAlignment:e.anchorAlignment,anchorAxisAlignment:e.anchorAxisAlignment,render:i=>{let r=e.getMenuClassName?e.getMenuClassName():"";r&&(i.className+=" "+r),this.options.blockMouse&&(this.block=i.appendChild(wW(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",AV(this.block,hW.MOUSE_DOWN,(e=>e.stopPropagation())));const o=new qP,s=e.actionRunner||new sJ;var a,l;return s.onBeforeRun(this.onActionRun,this,o),s.onDidRun(this.onDidActionRun,this,o),n=new Gre(i,t,{actionViewItemProvider:e.getActionViewItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:s,getKeyBinding:e.getKeyBinding?e.getKeyBinding:e=>this.keybindingService.lookupKeybinding(e.id)}),o.add((a=n,toe(this.themeService,Object.assign(Object.assign({},roe),l),a))),n.onDidCancel((()=>this.contextViewService.hideContextView(!0)),null,o),n.onDidBlur((()=>this.contextViewService.hideContextView(!0)),null,o),o.add(AV(window,hW.BLUR,(()=>this.contextViewService.hideContextView(!0)))),o.add(AV(window,hW.MOUSE_DOWN,(e=>{if(e.defaultPrevented)return;let t=new lV(e),n=t.target;if(!t.rightButton){for(;n;){if(n===i)return;n=n.parentElement}this.contextViewService.hideContextView(!0)}}))),UP(o,n)},focus:()=>{n&&n.focus(!!e.autoSelectFirstItem)},onHide:t=>{e.onHide&&e.onHide(!!t),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},i,!!i)}onActionRun(e){this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(e){e.error&&!RP(e.error)&&this.notificationService.error(e.error)}}var soe=globalThis&&globalThis.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},aoe=globalThis&&globalThis.__param||function(e,t){return function(n,i){t(n,i,e)}};let loe=class extends KP{constructor(e,t,n,i,r){super(),this.contextMenuHandler=new ooe(n,e,t,i,r)}configure(e){this.contextMenuHandler.configure(e)}showContextMenu(e){this.contextMenuHandler.showContextMenu(e),LW.getInstance().resetKeyStatus()}};loe=soe([aoe(0,EJ),aoe(1,hZ),aoe(2,Ute),aoe(3,_ne),aoe(4,uJ)],loe);const coe=Fz("layoutService");var uoe=globalThis&&globalThis.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},hoe=globalThis&&globalThis.__param||function(e,t){return function(n,i){t(n,i,e)}};let doe=class extends KP{constructor(e){super(),this.layoutService=e,this.currentViewDisposable=KP.None,this.container=e.container,this.contextView=this._register(new ore(this.container,1)),this.layout(),this._register(e.onDidLayout((()=>this.layout())))}setContainer(e,t){this.contextView.setContainer(e,t||1)}showContextView(e,t,n){t?t!==this.container&&(this.container=t,this.setContainer(t,n?3:2)):this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(e);const i=$P((()=>{this.currentViewDisposable===i&&this.hideContextView()}));return this.currentViewDisposable=i,i}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(e){this.contextView.hide(e)}};doe=uoe([hoe(0,coe)],doe);const foe=Fz("dialogService");class poe{constructor(e){this.incoming=new Map,this.outgoing=new Map,this.data=e}}class goe{constructor(e){this._hashFn=e,this._nodes=new Map}roots(){const e=[];for(let t of this._nodes.values())0===t.outgoing.size&&e.push(t);return e}insertEdge(e,t){const n=this.lookupOrInsertNode(e),i=this.lookupOrInsertNode(t);n.outgoing.set(this._hashFn(t),i),i.incoming.set(this._hashFn(e),n)}removeNode(e){const t=this._hashFn(e);this._nodes.delete(t);for(let n of this._nodes.values())n.outgoing.delete(t),n.incoming.delete(t)}lookupOrInsertNode(e){const t=this._hashFn(e);let n=this._nodes.get(t);return n||(n=new poe(e),this._nodes.set(t,n)),n}isEmpty(){return 0===this._nodes.size}toString(){let e=[];for(let[t,n]of this._nodes)e.push(`${t}, (incoming)[${[...n.incoming.keys()].join(", ")}], (outgoing)[${[...n.outgoing.keys()].join(",")}]`);return e.join("\n")}findCycleSlow(){for(let[e,t]of this._nodes){const n=new Set([e]),i=this._findCycle(t,n);if(i)return i}}_findCycle(e,t){for(let[n,i]of e.outgoing){if(t.has(n))return[...t,n].join(" -> ");t.add(n);const e=this._findCycle(i,t);if(e)return e;t.delete(n)}}}class moe extends Error{constructor(e){var t;super("cyclic dependency between services"),this.message=null!==(t=e.findCycleSlow())&&void 0!==t?t:`UNABLE to detect cycle, dumping graph: \n${e.toString()}`}}class voe{constructor(e=new Lee,t=!1,n){this._activeInstantiations=new Set,this._services=e,this._strict=t,this._parent=n,this._services.set(Iz,this)}createChild(e){return new voe(e,this._strict,this)}invokeFunction(e,...t){let n=yoe.traceInvocation(e),i=!1;try{return e({get:(e,t)=>{if(i)throw(r="service accessor is only valid during the invocation of its target method")?new Error(`Illegal state: ${r}`):new Error("Illegal state");var r;const o=this._getOrCreateServiceInstance(e,n);if(!o&&t!==Rz)throw new Error(`[invokeFunction] unknown service '${e}'`);return o}},...t)}finally{i=!0,n.stop()}}createInstance(e,...t){let n,i;return e instanceof kK?(n=yoe.traceCreation(e.ctor),i=this._createInstance(e.ctor,e.staticArguments.concat(t),n)):(n=yoe.traceCreation(e),i=this._createInstance(e,t,n)),n.stop(),i}_createInstance(e,t=[],n){let i=Mz.getServiceDependencies(e).sort(((e,t)=>e.index-t.index)),r=[];for(const s of i){let t=this._getOrCreateServiceInstance(s.id,n);if(!t&&this._strict&&!s.optional)throw new Error(`[createInstance] ${e.name} depends on UNKNOWN service ${s.id}.`);r.push(t)}let o=i.length>0?i[0].index:t.length;if(t.length!==o){console.warn(`[createInstance] First service dependency of ${e.name} at position ${o+1} conflicts with ${t.length} static arguments`);let n=o-t.length;t=n>0?t.concat(new Array(n)):t.slice(0,o)}return new e(...[...t,...r])}_setServiceInstance(e,t){if(this._services.get(e)instanceof kK)this._services.set(e,t);else{if(!this._parent)throw new Error("illegalState - setting UNKNOWN service instance");this._parent._setServiceInstance(e,t)}}_getServiceInstanceOrDescriptor(e){let t=this._services.get(e);return!t&&this._parent?this._parent._getServiceInstanceOrDescriptor(e):t}_getOrCreateServiceInstance(e,t){let n=this._getServiceInstanceOrDescriptor(e);return n instanceof kK?this._safeCreateAndCacheServiceInstance(e,n,t.branch(e,!0)):(t.branch(e,!1),n)}_safeCreateAndCacheServiceInstance(e,t,n){if(this._activeInstantiations.has(e))throw new Error(`illegal state - RECURSIVELY instantiating service '${e}'`);this._activeInstantiations.add(e);try{return this._createAndCacheServiceInstance(e,t,n)}finally{this._activeInstantiations.delete(e)}}_createAndCacheServiceInstance(e,t,n){const i=new goe((e=>e.id.toString()));let r=0;const o=[{id:e,desc:t,_trace:n}];for(;o.length;){const t=o.pop();if(i.lookupOrInsertNode(t),r++>1e3)throw new moe(i);for(let n of Mz.getServiceDependencies(t.desc.ctor)){let r=this._getServiceInstanceOrDescriptor(n.id);if(r||n.optional||console.warn(`[createInstance] ${e} depends on ${n.id} which is NOT registered.`),r instanceof kK){const e={id:n.id,desc:r,_trace:t._trace.branch(n.id,!0)};i.insertEdge(t,e),o.push(e)}}}for(;;){const e=i.roots();if(0===e.length){if(!i.isEmpty())throw new moe(i);break}for(const{data:t}of e){if(this._getServiceInstanceOrDescriptor(t.id)instanceof kK){const e=this._createServiceInstanceWithOwner(t.id,t.desc.ctor,t.desc.staticArguments,t.desc.supportsDelayedInstantiation,t._trace);this._setServiceInstance(t.id,e)}i.removeNode(t)}}return this._getServiceInstanceOrDescriptor(e)}_createServiceInstanceWithOwner(e,t,n=[],i,r){if(this._services.get(e)instanceof kK)return this._createServiceInstance(t,n,i,r);if(this._parent)return this._parent._createServiceInstanceWithOwner(e,t,n,i,r);throw new Error(`illegalState - creating UNKNOWN service instance ${t.name}`)}_createServiceInstance(e,t=[],n,i){if(n){const n=new wV((()=>this._createInstance(e,t,i)));return new Proxy(Object.create(null),{get(e,t){if(t in e)return e[t];let i=n.value,r=i[t];return"function"!=typeof r||(r=r.bind(i),e[t]=r),r},set:(e,t,i)=>(n.value[t]=i,!0)})}return this._createInstance(e,t,i)}}class yoe{constructor(e,t){this.type=e,this.name=t,this._start=Date.now(),this._dep=[]}static traceInvocation(e){return yoe._None}static traceCreation(e){return yoe._None}branch(e,t){let n=new yoe(2,e.toString());return this._dep.push([e,t,n]),n}stop(){let e=Date.now()-this._start;yoe._totals+=e;let t=!1;let n=[`${0===this.type?"CREATE":"CALL"} ${this.name}`,`${function e(n,i){let r=[],o=new Array(n+1).join("\t");for(const[s,a,l]of i._dep)if(a&&l){t=!0,r.push(`${o}CREATES -> ${s}`);let i=e(n+1,l);i&&r.push(i)}else r.push(`${o}uses -> ${s}`);return r.join("\n")}(1,this)}`,`DONE, took ${e.toFixed(2)}ms (grand total ${yoe._totals.toFixed(2)}ms)`];(e>2||t)&&console.log(n.join("\n"))}}yoe._None=new class extends yoe{constructor(){super(-1,null)}stop(){}branch(){return this}},yoe._totals=0;const boe=Fz("labelService");class _oe{constructor(e){this.spliceables=e}splice(e,t,n){this.spliceables.forEach((i=>i.splice(e,t,n)))}}class woe extends Error{constructor(e,t){super(`ListError [${e}] ${t}`)}}function Coe(e,t){const n=[];for(let i of t){if(e.start>=i.range.end)continue;if(e.end<i.range.start)break;const t=ere.intersect(e,i.range);ere.isEmpty(t)||n.push({range:t,size:i.size})}return n}function xoe({start:e,end:t},n){return{start:e+n,end:t+n}}class koe{constructor(){this.groups=[],this._size=0}splice(e,t,n=[]){const i=n.length-t,r=Coe({start:0,end:e},this.groups),o=Coe({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map((e=>({range:xoe(e.range,i),size:e.size}))),s=n.map(((t,n)=>({range:{start:e+n,end:e+n+1},size:t.size})));this.groups=function(...e){return function(e){const t=[];let n=null;for(let i of e){const e=i.range.start,r=i.range.end,o=i.size;n&&o===n.size?n.range.end=r:(n={range:{start:e,end:r},size:o},t.push(n))}return t}(e.reduce(((e,t)=>e.concat(t)),[]))}(r,s,o),this._size=this.groups.reduce(((e,t)=>e+t.size*(t.range.end-t.range.start)),0)}get count(){const e=this.groups.length;return e?this.groups[e-1].range.end:0}get size(){return this._size}indexAt(e){if(e<0)return-1;let t=0,n=0;for(let i of this.groups){const r=i.range.end-i.range.start,o=n+r*i.size;if(e<o)return t+Math.floor((e-n)/i.size);t+=r,n=o}return t}indexAfter(e){return Math.min(this.indexAt(e)+1,this.count)}positionAt(e){if(e<0)return-1;let t=0,n=0;for(let i of this.groups){const r=i.range.end-i.range.start,o=n+r;if(e<o)return t+(e-n)*i.size;t+=r*i.size,n=o}return-1}}class Soe{constructor(e){this.renderers=e,this.cache=new Map}alloc(e){let t=this.getTemplateCache(e).pop();if(!t){const n=wW(".monaco-list-row");t={domNode:n,templateId:e,templateData:this.getRenderer(e).renderTemplate(n)}}return t}release(e){e&&this.releaseRow(e)}releaseRow(e){const{domNode:t,templateId:n}=e;t&&(t.classList.remove("scrolling"),function(e){try{e.parentElement&&e.parentElement.removeChild(e)}catch(nR){}}(t));this.getTemplateCache(n).push(e)}getTemplateCache(e){let t=this.cache.get(e);return t||(t=[],this.cache.set(e,t)),t}dispose(){this.cache.forEach(((e,t)=>{for(const n of e){this.getRenderer(t).disposeTemplate(n.templateData),n.templateData=null}})),this.cache.clear()}getRenderer(e){const t=this.renderers.get(e);if(!t)throw new Error(`No renderer found for ${e}`);return t}}var Doe=globalThis&&globalThis.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};const Eoe={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements:e=>[e],getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class Loe{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class Toe{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class Noe{constructor(){this.types=[],this.files=[]}update(e){if(e.types&&this.types.splice(0,this.types.length,...e.types),e.files){this.files.splice(0,this.files.length);for(let t=0;t<e.files.length;t++){const n=e.files.item(t);n&&(n.size||n.type)&&this.files.push(n)}}}getData(){return{types:this.types,files:this.files}}}class Moe{constructor(e){(null==e?void 0:e.getSetSize)?this.getSetSize=e.getSetSize.bind(e):this.getSetSize=(e,t,n)=>n,(null==e?void 0:e.getPosInSet)?this.getPosInSet=e.getPosInSet.bind(e):this.getPosInSet=(e,t)=>t+1,(null==e?void 0:e.getRole)?this.getRole=e.getRole.bind(e):this.getRole=e=>"listitem",(null==e?void 0:e.isChecked)?this.isChecked=e.isChecked.bind(e):this.isChecked=e=>{}}}class Aoe{constructor(e,t,n,i=Eoe){if(this.virtualDelegate=t,this.domId="list_id_"+ ++Aoe.InstanceCount,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new fV(50),this.splicing=!1,this.dragOverAnimationStopDisposable=KP.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=KP.None,this.onDragLeaveTimeout=KP.None,this.disposables=new qP,this._onDidChangeContentHeight=new nB,this._horizontalScrolling=!1,i.horizontalScrolling&&i.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new koe;for(const o of n)this.renderers.set(o.templateId,o);this.cache=this.disposables.add(new Soe(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support","boolean"!=typeof i.mouseSupport||i.mouseSupport),this._horizontalScrolling=SU(i,(e=>e.horizontalScrolling),Eoe.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=void 0===i.additionalScrollHeight?0:i.additionalScrollHeight,this.accessibilityProvider=new Moe(i.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows";const r=SU(i,(e=>e.transformOptimization),Eoe.transformOptimization);r&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(rQ.addTarget(this.rowsContainer)),this.scrollable=new m7(SU(i,(e=>e.smoothScrolling),!1)?125:0,(e=>RV(e))),this.scrollableElement=this.disposables.add(new k7(this.rowsContainer,{alwaysConsumeMouseWheel:SU(i,(e=>e.alwaysConsumeMouseWheel),Eoe.alwaysConsumeMouseWheel),horizontal:1,vertical:SU(i,(e=>e.verticalScrollMode),Eoe.verticalScrollMode),useShadows:SU(i,(e=>e.useShadows),Eoe.useShadows),mouseWheelScrollSensitivity:i.mouseWheelScrollSensitivity,fastScrollSensitivity:i.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add(AV(this.rowsContainer,tQ.Change,(e=>this.onTouchChange(e)))),this.disposables.add(AV(this.scrollableElement.getDomNode(),"scroll",(e=>e.target.scrollTop=0))),this.disposables.add(AV(this.domNode,"dragover",(e=>this.onDragOver(this.toDragEvent(e))))),this.disposables.add(AV(this.domNode,"drop",(e=>this.onDrop(this.toDragEvent(e))))),this.disposables.add(AV(this.domNode,"dragleave",(e=>this.onDragLeave(this.toDragEvent(e))))),this.disposables.add(AV(this.domNode,"dragend",(e=>this.onDragEnd(e)))),this.setRowLineHeight=SU(i,(e=>e.setRowLineHeight),Eoe.setRowLineHeight),this.setRowHeight=SU(i,(e=>e.setRowHeight),Eoe.setRowHeight),this.supportDynamicHeights=SU(i,(e=>e.supportDynamicHeights),Eoe.supportDynamicHeights),this.dnd=SU(i,(e=>e.dnd),Eoe.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(e){if(e!==this._horizontalScrolling){if(e&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=e,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const e of this.items)this.measureItemWidth(e);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:GV(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(e){void 0!==e.additionalScrollHeight&&(this.additionalScrollHeight=e.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),void 0!==e.smoothScrolling&&this.scrollable.setSmoothScrollDuration(e.smoothScrolling?125:0),void 0!==e.horizontalScrolling&&(this.horizontalScrolling=e.horizontalScrolling),void 0!==e.mouseWheelScrollSensitivity&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:e.mouseWheelScrollSensitivity}),void 0!==e.fastScrollSensitivity&&this.scrollableElement.updateOptions({fastScrollSensitivity:e.fastScrollSensitivity})}splice(e,t,n=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(e,t,n)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(e,t,n=[]){const i=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),r={start:e,end:e+t},o=ere.intersect(i,r),s=new Map;for(let _=o.start;_<o.end;_++){const e=this.items[_];if(e.dragStartDisposable.dispose(),e.row){let t=s.get(e.templateId);t||(t=[],s.set(e.templateId,t));const n=this.renderers.get(e.templateId);n&&n.disposeElement&&n.disposeElement(e.element,_,e.row.templateData,e.size),t.push(e.row)}e.row=null}const a={start:e+t,end:this.items.length},l=ere.intersect(a,i),c=ere.relativeComplement(a,i),u=n.map((e=>({id:String(this.itemId++),element:e,templateId:this.virtualDelegate.getTemplateId(e),size:this.virtualDelegate.getHeight(e),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(e),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:KP.None})));let h;0===e&&t>=this.items.length?(this.rangeMap=new koe,this.rangeMap.splice(0,0,u),h=this.items,this.items=u):(this.rangeMap.splice(e,t,u),h=this.items.splice(e,t,...u));const d=n.length-t,f=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),p=xoe(l,d),g=ere.intersect(f,p);for(let _=g.start;_<g.end;_++)this.updateItemInDOM(this.items[_],_);const m=ere.relativeComplement(p,f);for(const _ of m)for(let e=_.start;e<_.end;e++)this.removeItemFromDOM(e);const v=c.map((e=>xoe(e,d))),y=[{start:e,end:e+n.length},...v].map((e=>ere.intersect(f,e))),b=this.getNextToLastElement(y);for(const _ of y)for(let e=_.start;e<_.end;e++){const t=this.items[e],n=s.get(t.templateId),i=null==n?void 0:n.pop();this.insertItemInDOM(e,b,i)}for(const _ of s.values())for(const e of _)this.cache.release(e);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),h.map((e=>e.element))}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=RV((()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null})))}eventuallyUpdateScrollWidth(){this.horizontalScrolling?this.scrollableElementWidthDelayer.trigger((()=>this.updateScrollWidth())):this.scrollableElementWidthDelayer.cancel()}updateScrollWidth(){if(!this.horizontalScrolling)return;let e=0;for(const t of this.items)void 0!==t.width&&(e=Math.max(e,t.width));this.scrollWidth=e,this.scrollableElement.setScrollDimensions({scrollWidth:0===e?0:e+10})}rerender(){if(this.supportDynamicHeights){for(const e of this.items)e.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(e){return this.items[e].element}domElement(e){const t=this.items[e].row;return t&&t.domNode}elementHeight(e){return this.items[e].size}elementTop(e){return this.rangeMap.positionAt(e)}indexAt(e){return this.rangeMap.indexAt(e)}indexAfter(e){return this.rangeMap.indexAfter(e)}layout(e,t){let n={height:"number"==typeof e?e:XV(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,n.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(n),void 0!==t&&(this.renderWidth=t,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:"number"==typeof t?t:GV(this.domNode)})}render(e,t,n,i,r,o=!1){const s=this.getRenderRange(t,n),a=ere.relativeComplement(s,e),l=ere.relativeComplement(e,s),c=this.getNextToLastElement(a);if(o){const t=ere.intersect(e,s);for(let e=t.start;e<t.end;e++)this.updateItemInDOM(this.items[e],e)}for(const u of a)for(let e=u.start;e<u.end;e++)this.insertItemInDOM(e,c);for(const u of l)for(let e=u.start;e<u.end;e++)this.removeItemFromDOM(e);void 0!==i&&(this.rowsContainer.style.left=`-${i}px`),this.rowsContainer.style.top=`-${t}px`,this.horizontalScrolling&&void 0!==r&&(this.rowsContainer.style.width=`${Math.max(r,this.renderWidth)}px`),this.lastRenderTop=t,this.lastRenderHeight=n}insertItemInDOM(e,t,n){const i=this.items[e];i.row||(i.row=null!=n?n:this.cache.alloc(i.templateId));const r=this.accessibilityProvider.getRole(i.element)||"listitem";i.row.domNode.setAttribute("role",r);const o=this.accessibilityProvider.isChecked(i.element);void 0!==o&&i.row.domNode.setAttribute("aria-checked",String(!!o)),i.row.domNode.parentElement||(t?this.rowsContainer.insertBefore(i.row.domNode,t):this.rowsContainer.appendChild(i.row.domNode)),this.updateItemInDOM(i,e);const s=this.renderers.get(i.templateId);if(!s)throw new Error(`No renderer found for template id ${i.templateId}`);s&&s.renderElement(i.element,e,i.row.templateData,i.size);const a=this.dnd.getDragURI(i.element);i.dragStartDisposable.dispose(),i.row.domNode.draggable=!!a,a&&(i.dragStartDisposable=AV(i.row.domNode,"dragstart",(e=>this.onDragStart(i.element,a,e)))),this.horizontalScrolling&&(this.measureItemWidth(i),this.eventuallyUpdateScrollWidth())}measureItemWidth(e){if(!e.row||!e.row.domNode)return;e.row.domNode.style.width=Wz?"-moz-fit-content":"fit-content",e.width=GV(e.row.domNode);const t=window.getComputedStyle(e.row.domNode);t.paddingLeft&&(e.width+=parseFloat(t.paddingLeft)),t.paddingRight&&(e.width+=parseFloat(t.paddingRight)),e.row.domNode.style.width=""}updateItemInDOM(e,t){e.row.domNode.style.top=`${this.elementTop(t)}px`,this.setRowHeight&&(e.row.domNode.style.height=`${e.size}px`),this.setRowLineHeight&&(e.row.domNode.style.lineHeight=`${e.size}px`),e.row.domNode.setAttribute("data-index",`${t}`),e.row.domNode.setAttribute("data-last-element",t===this.length-1?"true":"false"),e.row.domNode.setAttribute("data-parity",t%2==0?"even":"odd"),e.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(e.element,t,this.length))),e.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(e.element,t))),e.row.domNode.setAttribute("id",this.getElementDomId(t)),e.row.domNode.classList.toggle("drop-target",e.dropTarget)}removeItemFromDOM(e){const t=this.items[e];if(t.dragStartDisposable.dispose(),t.row){const n=this.renderers.get(t.templateId);n&&n.disposeElement&&n.disposeElement(t.element,e,t.row.templateData,t.size),this.cache.release(t.row),t.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(e,t){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:e,reuseAnimation:t})}get scrollTop(){return this.getScrollTop()}set scrollTop(e){this.setScrollTop(e)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return eB.map(this.disposables.add(new lte(this.domNode,"click")).event,(e=>this.toMouseEvent(e)))}get onMouseDblClick(){return eB.map(this.disposables.add(new lte(this.domNode,"dblclick")).event,(e=>this.toMouseEvent(e)))}get onMouseMiddleClick(){return eB.filter(eB.map(this.disposables.add(new lte(this.domNode,"auxclick")).event,(e=>this.toMouseEvent(e))),(e=>1===e.browserEvent.button))}get onMouseDown(){return eB.map(this.disposables.add(new lte(this.domNode,"mousedown")).event,(e=>this.toMouseEvent(e)))}get onContextMenu(){return eB.any(eB.map(this.disposables.add(new lte(this.domNode,"contextmenu")).event,(e=>this.toMouseEvent(e))),eB.map(this.disposables.add(new lte(this.domNode,tQ.Contextmenu)).event,(e=>this.toGestureEvent(e))))}get onTouchStart(){return eB.map(this.disposables.add(new lte(this.domNode,"touchstart")).event,(e=>this.toTouchEvent(e)))}get onTap(){return eB.map(this.disposables.add(new lte(this.rowsContainer,tQ.Tap)).event,(e=>this.toGestureEvent(e)))}toMouseEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),n=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:n&&n.element}}toTouchEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),n=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:n&&n.element}}toGestureEvent(e){const t=this.getItemIndexFromEventTarget(e.initialTarget||null),n=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:n&&n.element}}toDragEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),n=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:n&&n.element}}onScroll(e){try{const t=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(t,e.scrollTop,e.height,e.scrollLeft,e.scrollWidth),this.supportDynamicHeights&&this._rerender(e.scrollTop,e.height,e.inSmoothScrolling)}catch(t){throw console.error("Got bad scroll event:",e),t}}onTouchChange(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY}onDragStart(e,t,n){if(!n.dataTransfer)return;const i=this.dnd.getDragElements(e);if(n.dataTransfer.effectAllowed="copyMove",n.dataTransfer.setData(Cte.TEXT,t),n.dataTransfer.setDragImage){let e;this.dnd.getDragLabel&&(e=this.dnd.getDragLabel(i,n)),void 0===e&&(e=String(i.length));const t=wW(".monaco-drag-image");t.textContent=e,document.body.appendChild(t),n.dataTransfer.setDragImage(t,-10,-10),setTimeout((()=>document.body.removeChild(t)),0)}this.currentDragData=new Loe(i),kte.CurrentDragAndDropData=new Toe(i),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,n)}onDragOver(e){if(e.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),kte.CurrentDragAndDropData&&"vscode-ui"===kte.CurrentDragAndDropData.getData())return!1;if(this.setupDragAndDropScrollTopAnimation(e.browserEvent),!e.browserEvent.dataTransfer)return!1;if(!this.currentDragData)if(kte.CurrentDragAndDropData)this.currentDragData=kte.CurrentDragAndDropData;else{if(!e.browserEvent.dataTransfer.types)return!1;this.currentDragData=new Noe}const t=this.dnd.onDragOver(this.currentDragData,e.element,e.index,e.browserEvent);if(this.canDrop="boolean"==typeof t?t:t.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;let n;if(e.browserEvent.dataTransfer.dropEffect="boolean"!=typeof t&&0===t.effect?"copy":"move",n="boolean"!=typeof t&&t.feedback?t.feedback:void 0===e.index?[-1]:[e.index],n=wY(n).filter((e=>e>=-1&&e<this.length)).sort(((e,t)=>e-t)),n=-1===n[0]?[-1]:n,i=this.currentDragFeedback,r=n,Array.isArray(i)&&Array.isArray(r)?bY(i,r):i===r)return!0;var i,r;if(this.currentDragFeedback=n,this.currentDragFeedbackDisposable.dispose(),-1===n[0])this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=$P((()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")}));else{for(const e of n){const t=this.items[e];t.dropTarget=!0,t.row&&t.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=$P((()=>{for(const e of n){const t=this.items[e];t.dropTarget=!1,t.row&&t.row.domNode.classList.remove("drop-target")}}))}return!0}onDragLeave(e){var t,n;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=mV((()=>this.clearDragOverFeedback()),100),this.currentDragData&&(null===(n=(t=this.dnd).onDragLeave)||void 0===n||n.call(t,this.currentDragData,e.element,e.index,e.browserEvent))}onDrop(e){if(!this.canDrop)return;const t=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,kte.CurrentDragAndDropData=void 0,t&&e.browserEvent.dataTransfer&&(e.browserEvent.preventDefault(),t.update(e.browserEvent.dataTransfer),this.dnd.drop(t,e.element,e.index,e.browserEvent))}onDragEnd(e){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,kte.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=KP.None}setupDragAndDropScrollTopAnimation(e){if(!this.dragOverAnimationDisposable){const e=function(e){let t=e.offsetParent,n=e.offsetTop,i=e.offsetLeft;for(;null!==(e=e.parentNode)&&e!==document.body&&e!==document.documentElement;){n-=e.scrollTop;const r=tW(e)?null:WV(e);r&&(i-="rtl"!==r.direction?e.scrollLeft:-e.scrollLeft),e===t&&(i+=UV.getBorderLeftWidth(e),n+=UV.getBorderTopWidth(e),n+=e.offsetTop,i+=e.offsetLeft,t=e.offsetParent)}return{left:i,top:n}}(this.domNode).top;this.dragOverAnimationDisposable=function(e){const t=()=>{e(),n=RV(t)};let n=RV(t);return $P((()=>n.dispose()))}(this.animateDragAndDropScrollTop.bind(this,e))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=mV((()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}),1e3),this.dragOverMouseY=e.pageY}animateDragAndDropScrollTop(e){if(void 0===this.dragOverMouseY)return;const t=this.dragOverMouseY-e,n=this.renderHeight-35;t<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(t-35))):t>n&&(this.scrollTop+=Math.min(14,Math.floor(.3*(t-n))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(e){const t=this.scrollableElement.getDomNode();let n=e;for(;n instanceof HTMLElement&&n!==this.rowsContainer&&t.contains(n);){const e=n.getAttribute("data-index");if(e){const t=Number(e);if(!isNaN(t))return t}n=n.parentElement}}getRenderRange(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}}_rerender(e,t,n){const i=this.getRenderRange(e,t);let r,o;e===this.elementTop(i.start)?(r=i.start,o=0):i.end-i.start>1&&(r=i.start+1,o=this.elementTop(r)-e);let s=0;for(;;){const a=this.getRenderRange(e,t);let l=!1;for(let e=a.start;e<a.end;e++){const t=this.probeDynamicHeight(e);0!==t&&this.rangeMap.splice(e,1,[this.items[e]]),s+=t,l=l||0!==t}if(!l){0!==s&&this.eventuallyUpdateScrollDimensions();const t=ere.relativeComplement(i,a);for(const e of t)for(let t=e.start;t<e.end;t++)this.items[t].row&&this.removeItemFromDOM(t);const l=ere.relativeComplement(a,i);for(const e of l)for(let t=e.start;t<e.end;t++){const e=t+1,n=e<this.items.length?this.items[e].row:null,i=n?n.domNode:null;this.insertItemInDOM(t,i)}for(let e=a.start;e<a.end;e++)this.items[e].row&&this.updateItemInDOM(this.items[e],e);if("number"==typeof r){const t=this.scrollable.getFutureScrollPosition().scrollTop-e,i=this.elementTop(r)-o+t;this.setScrollTop(i,n)}return void this._onDidChangeContentHeight.fire(this.contentHeight)}}}probeDynamicHeight(e){const t=this.items[e];if(this.virtualDelegate.getDynamicHeight){const e=this.virtualDelegate.getDynamicHeight(t.element);if(null!==e){const n=t.size;return t.size=e,t.lastDynamicHeightWidth=this.renderWidth,e-n}}if(!t.hasDynamicHeight||t.lastDynamicHeightWidth===this.renderWidth)return 0;if(this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(t.element))return 0;const n=t.size;if(!this.setRowHeight&&t.row){let e=t.row.domNode.offsetHeight;return t.size=e,t.lastDynamicHeightWidth=this.renderWidth,e-n}const i=this.cache.alloc(t.templateId);i.domNode.style.height="",this.rowsContainer.appendChild(i.domNode);const r=this.renderers.get(t.templateId);return r&&(r.renderElement(t.element,e,i.templateData,void 0),r.disposeElement&&r.disposeElement(t.element,e,i.templateData,void 0)),t.size=i.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(t.element,t.size),t.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(i.domNode),this.cache.release(i),t.size-n}getNextToLastElement(e){const t=e[e.length-1];if(!t)return null;const n=this.items[t.end];return n&&n.row?n.row.domNode:null}getElementDomId(e){return`${this.domId}_${e}`}dispose(){if(this.items){for(const e of this.items)if(e.row){const t=this.renderers.get(e.row.templateId);t&&(t.disposeElement&&t.disposeElement(e.element,-1,e.row.templateData,void 0),t.disposeTemplate(e.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),HP(this.disposables)}}Aoe.InstanceCount=0,Doe([eQ],Aoe.prototype,"onMouseClick",null),Doe([eQ],Aoe.prototype,"onMouseDblClick",null),Doe([eQ],Aoe.prototype,"onMouseMiddleClick",null),Doe([eQ],Aoe.prototype,"onMouseDown",null),Doe([eQ],Aoe.prototype,"onContextMenu",null),Doe([eQ],Aoe.prototype,"onTouchStart",null),Doe([eQ],Aoe.prototype,"onTap",null);var Ioe,Ooe,Foe=globalThis&&globalThis.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Roe=globalThis&&globalThis.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(nR){o(nR)}}function a(e){try{l(i.throw(e))}catch(nR){o(nR)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class Poe{constructor(e){this.trait=e,this.renderedElements=[]}get templateId(){return`template:${this.trait.trait}`}renderTemplate(e){return e}renderElement(e,t,n){const i=this.renderedElements.findIndex((e=>e.templateData===n));if(i>=0){const e=this.renderedElements[i];this.trait.unrender(n),e.index=t}else{const e={index:t,templateData:n};this.renderedElements.push(e)}this.trait.renderIndex(t,n)}splice(e,t,n){const i=[];for(const r of this.renderedElements)r.index<e?i.push(r):r.index>=e+t&&i.push({index:r.index+n-t,templateData:r.templateData});this.renderedElements=i}renderIndexes(e){for(const{index:t,templateData:n}of this.renderedElements)e.indexOf(t)>-1&&this.trait.renderIndex(t,n)}disposeTemplate(e){const t=this.renderedElements.findIndex((t=>t.templateData===e));t<0||this.renderedElements.splice(t,1)}}class Boe{constructor(e){this._trait=e,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new nB,this.onChange=this._onChange.event}get trait(){return this._trait}get renderer(){return new Poe(this)}splice(e,t,n){var i;t=Math.max(0,Math.min(t,this.length-e));const r=n.length-t,o=e+t,s=[...this.sortedIndexes.filter((t=>t<e)),...n.map(((t,n)=>t?n+e:-1)).filter((e=>-1!==e)),...this.sortedIndexes.filter((e=>e>=o)).map((e=>e+r))],a=this.length+r;if(this.sortedIndexes.length>0&&0===s.length&&a>0){const t=null!==(i=this.sortedIndexes.find((t=>t>=e)))&&void 0!==i?i:a-1;s.push(Math.min(t,a-1))}this.renderer.splice(e,t,n.length),this._set(s,s),this.length=a}renderIndex(e,t){t.classList.toggle(this._trait,this.contains(e))}unrender(e){e.classList.remove(this._trait)}set(e,t){return this._set(e,[...e].sort(tse),t)}_set(e,t,n){const i=this.indexes,r=this.sortedIndexes;this.indexes=e,this.sortedIndexes=t;const o=ese(r,e);return this.renderer.renderIndexes(o),this._onChange.fire({indexes:e,browserEvent:n}),i}get(){return this.indexes}contains(e){return function(e,t,n){let i=0,r=e.length-1;for(;i<=r;){const o=(i+r)/2|0,s=n(e[o],t);if(s<0)i=o+1;else{if(!(s>0))return o;r=o-1}}return-(i+1)}(this.sortedIndexes,e,tse)>=0}dispose(){HP(this._onChange)}}Foe([eQ],Boe.prototype,"renderer",null);class joe extends Boe{constructor(e){super("selected"),this.setAriaSelected=e}renderIndex(e,t){super.renderIndex(e,t),this.setAriaSelected&&(this.contains(e)?t.setAttribute("aria-selected","true"):t.setAttribute("aria-selected","false"))}}class zoe{constructor(e,t,n){this.trait=e,this.view=t,this.identityProvider=n}splice(e,t,n){if(!this.identityProvider)return this.trait.splice(e,t,n.map((()=>!1)));const i=this.trait.get().map((e=>this.identityProvider.getId(this.view.element(e)).toString())),r=n.map((e=>i.indexOf(this.identityProvider.getId(e).toString())>-1));this.trait.splice(e,t,r)}}function Voe(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName}function Woe(e){return!!e.classList.contains("monaco-editor")||!e.classList.contains("monaco-list")&&(!!e.parentElement&&Woe(e.parentElement))}class Hoe{constructor(e,t,n){this.list=e,this.view=t,this.disposables=new qP,this.multipleSelectionDisposables=new qP,this.onKeyDown.filter((e=>3===e.keyCode)).on(this.onEnter,this,this.disposables),this.onKeyDown.filter((e=>16===e.keyCode)).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter((e=>18===e.keyCode)).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter((e=>11===e.keyCode)).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter((e=>12===e.keyCode)).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter((e=>9===e.keyCode)).on(this.onEscape,this,this.disposables),!1!==n.multipleSelectionSupport&&this.onKeyDown.filter((e=>(WR?e.metaKey:e.ctrlKey)&&31===e.keyCode)).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return eB.chain(this.disposables.add(new lte(this.view.domNode,"keydown")).event).filter((e=>!Voe(e.target))).map((e=>new iV(e)))}updateOptions(e){void 0!==e.multipleSelectionSupport&&(this.multipleSelectionDisposables.clear(),e.multipleSelectionSupport&&this.onKeyDown.filter((e=>(WR?e.metaKey:e.ctrlKey)&&31===e.keyCode)).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent)}onUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onCtrlA(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(xY(this.list.length),e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(e){this.list.getSelection().length&&(e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}Foe([eQ],Hoe.prototype,"onKeyDown",null),(Ooe=Ioe||(Ioe={}))[Ooe.Idle=0]="Idle",Ooe[Ooe.Typing=1]="Typing";const Uoe=new class{mightProducePrintableCharacter(e){return!(e.ctrlKey||e.metaKey||e.altKey)&&(e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30||e.keyCode>=93&&e.keyCode<=102||e.keyCode>=80&&e.keyCode<=90)}};class $oe{constructor(e,t,n,i){this.list=e,this.view=t,this.keyboardNavigationLabelProvider=n,this.delegate=i,this.enabled=!1,this.state=Ioe.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new qP,this.disposables=new qP,this.updateOptions(e.options)}updateOptions(e){void 0===e.enableKeyboardNavigation||!!e.enableKeyboardNavigation?this.enable():this.disable(),void 0!==e.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation)}enable(){if(this.enabled)return;const e=eB.chain(this.enabledDisposables.add(new lte(this.view.domNode,"keydown")).event).filter((e=>!Voe(e.target))).filter((()=>this.automaticKeyboardNavigation||this.triggered)).map((e=>new iV(e))).filter((e=>this.delegate.mightProducePrintableCharacter(e))).forEach((e=>{e.stopPropagation(),e.preventDefault()})).map((e=>e.browserEvent.key)).event,t=eB.debounce(e,(()=>null),800);eB.reduce(eB.any(e,t),((e,t)=>null===t?null:(e||"")+t))(this.onInput,this,this.enabledDisposables),t(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var e;const t=this.list.getFocus();if(t.length>0&&t[0]===this.previouslyFocused){const n=null===(e=this.list.options.accessibilityProvider)||void 0===e?void 0:e.getAriaLabel(this.list.element(t[0]));n&&QZ(n)}this.previouslyFocused=-1}onInput(e){if(!e)return this.state=Ioe.Idle,void(this.triggered=!1);const t=this.list.getFocus(),n=t.length>0?t[0]:0,i=this.state===Ioe.Idle?1:0;this.state=Ioe.Typing;for(let r=0;r<this.list.length;r++){const t=(n+r+i)%this.list.length,o=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(t)),s=o&&o.toString();if(void 0===s||lre(e,s))return this.previouslyFocused=n,this.list.setFocus([t]),void this.list.reveal(t)}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class qoe{constructor(e,t){this.list=e,this.view=t,this.disposables=new qP;const n=eB.chain(this.disposables.add(new lte(t.domNode,"keydown")).event).filter((e=>!Voe(e.target))).map((e=>new iV(e)));n.filter((e=>!(2!==e.keyCode||e.ctrlKey||e.metaKey||e.shiftKey||e.altKey))).on(this.onTab,this,this.disposables)}onTab(e){if(e.target!==this.view.domNode)return;const t=this.list.getFocus();if(0===t.length)return;const n=this.view.domElement(t[0]);if(!n)return;const i=n.querySelector("[tabIndex]");if(!(i&&i instanceof HTMLElement&&-1!==i.tabIndex))return;const r=window.getComputedStyle(i);"hidden"!==r.visibility&&"none"!==r.display&&(e.preventDefault(),e.stopPropagation(),i.focus())}dispose(){this.disposables.dispose()}}function Koe(e){return WR?e.browserEvent.metaKey:e.browserEvent.ctrlKey}function Yoe(e){return e.browserEvent.shiftKey}const Goe={isSelectionSingleChangeEvent:Koe,isSelectionRangeChangeEvent:Yoe};class Xoe{constructor(e){this.list=e,this.disposables=new qP,this._onPointer=new nB,this.onPointer=this._onPointer.event,!1!==e.options.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||Goe),this.mouseSupport=void 0===e.options.mouseSupport||!!e.options.mouseSupport,this.mouseSupport&&(e.onMouseDown(this.onMouseDown,this,this.disposables),e.onContextMenu(this.onContextMenu,this,this.disposables),e.onMouseDblClick(this.onDoubleClick,this,this.disposables),e.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(rQ.addTarget(e.getHTMLElement()))),eB.any(e.onMouseClick,e.onMouseMiddleClick,e.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(e){void 0!==e.multipleSelectionSupport&&(this.multipleSelectionController=void 0,e.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||Goe))}isSelectionSingleChangeEvent(e){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionSingleChangeEvent(e)}isSelectionRangeChangeEvent(e){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionRangeChangeEvent(e)}isSelectionChangeEvent(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)}onMouseDown(e){Woe(e.browserEvent.target)||document.activeElement!==e.browserEvent.target&&this.list.domFocus()}onContextMenu(e){if(Woe(e.browserEvent.target))return;const t=void 0===e.index?[]:[e.index];this.list.setFocus(t,e.browserEvent)}onViewPointer(e){if(!this.mouseSupport)return;if(Voe(e.browserEvent.target)||Woe(e.browserEvent.target))return;const t=e.index;return void 0===t?(this.list.setFocus([],e.browserEvent),this.list.setSelection([],e.browserEvent),void this.list.setAnchor(void 0)):this.isSelectionRangeChangeEvent(e)||this.isSelectionChangeEvent(e)?this.changeSelection(e):(this.list.setFocus([t],e.browserEvent),this.list.setAnchor(t),(n=e.browserEvent)instanceof MouseEvent&&2===n.button||this.list.setSelection([t],e.browserEvent),void this._onPointer.fire(e));var n}onDoubleClick(e){if(Voe(e.browserEvent.target)||Woe(e.browserEvent.target))return;if(this.isSelectionChangeEvent(e))return;const t=this.list.getFocus();this.list.setSelection(t,e.browserEvent)}changeSelection(e){const t=e.index;let n=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(e)){if(void 0===n){const e=this.list.getFocus()[0];n=null!=e?e:t,this.list.setAnchor(n)}const i=xY(Math.min(n,t),Math.max(n,t)+1),r=this.list.getSelection(),o=function(e,t){const n=e.indexOf(t);if(-1===n)return[];const i=[];let r=n-1;for(;r>=0&&e[r]===t-(n-r);)i.push(e[r--]);i.reverse(),r=n;for(;r<e.length&&e[r]===t+(r-n);)i.push(e[r++]);return i}(ese(r,[n]),n);if(0===o.length)return;const s=ese(i,function(e,t){const n=[];let i=0,r=0;for(;i<e.length||r<t.length;)if(i>=e.length)n.push(t[r++]);else if(r>=t.length)n.push(e[i++]);else{if(e[i]===t[r]){i++,r++;continue}e[i]<t[r]?n.push(e[i++]):r++}return n}(r,o));this.list.setSelection(s,e.browserEvent),this.list.setFocus([t],e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){const n=this.list.getSelection(),i=n.filter((e=>e!==t));this.list.setFocus([t]),this.list.setAnchor(t),n.length===i.length?this.list.setSelection([...i,t],e.browserEvent):this.list.setSelection(i,e.browserEvent)}}dispose(){this.disposables.dispose()}}class Zoe{constructor(e,t){this.styleElement=e,this.selectorSuffix=t}style(e){const t=this.selectorSuffix&&`.${this.selectorSuffix}`,n=[];e.listBackground&&(e.listBackground.isOpaque()?n.push(`.monaco-list${t} .monaco-list-rows { background: ${e.listBackground}; }`):WR||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),e.listFocusBackground&&(n.push(`.monaco-list${t}:focus .monaco-list-row.focused { background-color: ${e.listFocusBackground}; }`),n.push(`.monaco-list${t}:focus .monaco-list-row.focused:hover { background-color: ${e.listFocusBackground}; }`)),e.listFocusForeground&&n.push(`.monaco-list${t}:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),e.listActiveSelectionBackground&&(n.push(`.monaco-list${t}:focus .monaco-list-row.selected { background-color: ${e.listActiveSelectionBackground}; }`),n.push(`.monaco-list${t}:focus .monaco-list-row.selected:hover { background-color: ${e.listActiveSelectionBackground}; }`)),e.listActiveSelectionForeground&&n.push(`.monaco-list${t}:focus .monaco-list-row.selected { color: ${e.listActiveSelectionForeground}; }`),e.listActiveSelectionIconForeground&&n.push(`.monaco-list${t}:focus .monaco-list-row.selected .codicon { color: ${e.listActiveSelectionIconForeground}; }`),e.listFocusAndSelectionBackground&&n.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${t}:focus .monaco-list-row.selected.focused { background-color: ${e.listFocusAndSelectionBackground}; }\n\t\t\t`),e.listFocusAndSelectionForeground&&n.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${t}:focus .monaco-list-row.selected.focused { color: ${e.listFocusAndSelectionForeground}; }\n\t\t\t`),e.listInactiveFocusForeground&&(n.push(`.monaco-list${t} .monaco-list-row.focused { color:  ${e.listInactiveFocusForeground}; }`),n.push(`.monaco-list${t} .monaco-list-row.focused:hover { color:  ${e.listInactiveFocusForeground}; }`)),e.listInactiveSelectionIconForeground&&n.push(`.monaco-list${t} .monaco-list-row.focused .codicon { color:  ${e.listInactiveSelectionIconForeground}; }`),e.listInactiveFocusBackground&&(n.push(`.monaco-list${t} .monaco-list-row.focused { background-color:  ${e.listInactiveFocusBackground}; }`),n.push(`.monaco-list${t} .monaco-list-row.focused:hover { background-color:  ${e.listInactiveFocusBackground}; }`)),e.listInactiveSelectionBackground&&(n.push(`.monaco-list${t} .monaco-list-row.selected { background-color:  ${e.listInactiveSelectionBackground}; }`),n.push(`.monaco-list${t} .monaco-list-row.selected:hover { background-color:  ${e.listInactiveSelectionBackground}; }`)),e.listInactiveSelectionForeground&&n.push(`.monaco-list${t} .monaco-list-row.selected { color: ${e.listInactiveSelectionForeground}; }`),e.listHoverBackground&&n.push(`.monaco-list${t}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${e.listHoverBackground}; }`),e.listHoverForeground&&n.push(`.monaco-list${t} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${e.listHoverForeground}; }`),e.listSelectionOutline&&n.push(`.monaco-list${t} .monaco-list-row.selected { outline: 1px dotted ${e.listSelectionOutline}; outline-offset: -1px; }`),e.listFocusOutline&&n.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${t}:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }\n\t\t\t`),e.listInactiveFocusOutline&&n.push(`.monaco-list${t} .monaco-list-row.focused { outline: 1px dotted ${e.listInactiveFocusOutline}; outline-offset: -1px; }`),e.listHoverOutline&&n.push(`.monaco-list${t} .monaco-list-row:hover { outline: 1px dashed ${e.listHoverOutline}; outline-offset: -1px; }`),e.listDropBackground&&n.push(`\n\t\t\t\t.monaco-list${t}.drop-target,\n\t\t\t\t.monaco-list${t} .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list${t} .monaco-list-row.drop-target { background-color: ${e.listDropBackground} !important; color: inherit !important; }\n\t\t\t`),e.listFilterWidgetBackground&&n.push(`.monaco-list-type-filter { background-color: ${e.listFilterWidgetBackground} }`),e.listFilterWidgetOutline&&n.push(`.monaco-list-type-filter { border: 1px solid ${e.listFilterWidgetOutline}; }`),e.listFilterWidgetNoMatchesOutline&&n.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${e.listFilterWidgetNoMatchesOutline}; }`),e.listMatchesShadow&&n.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${e.listMatchesShadow}; }`),e.tableColumnsBorder&&n.push(`\n\t\t\t\t.monaco-table:hover > .monaco-split-view2,\n\t\t\t\t.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: ${e.tableColumnsBorder};\n\t\t\t}`),this.styleElement.textContent=n.join("\n")}}const Joe={listFocusBackground:C1.fromHex("#7FB0D0"),listActiveSelectionBackground:C1.fromHex("#0E639C"),listActiveSelectionForeground:C1.fromHex("#FFFFFF"),listActiveSelectionIconForeground:C1.fromHex("#FFFFFF"),listFocusAndSelectionBackground:C1.fromHex("#094771"),listFocusAndSelectionForeground:C1.fromHex("#FFFFFF"),listInactiveSelectionBackground:C1.fromHex("#3F3F46"),listInactiveSelectionIconForeground:C1.fromHex("#FFFFFF"),listHoverBackground:C1.fromHex("#2A2D2E"),listDropBackground:C1.fromHex("#383B3D"),treeIndentGuidesStroke:C1.fromHex("#a9a9a9"),tableColumnsBorder:C1.fromHex("#cccccc").transparent(.2)},Qoe={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}}};function ese(e,t){const n=[];let i=0,r=0;for(;i<e.length||r<t.length;)if(i>=e.length)n.push(t[r++]);else if(r>=t.length)n.push(e[i++]);else{if(e[i]===t[r]){n.push(e[i]),i++,r++;continue}e[i]<t[r]?n.push(e[i++]):n.push(t[r++])}return n}const tse=(e,t)=>e-t;class nse{constructor(e,t){this._templateId=e,this.renderers=t}get templateId(){return this._templateId}renderTemplate(e){return this.renderers.map((t=>t.renderTemplate(e)))}renderElement(e,t,n,i){let r=0;for(const o of this.renderers)o.renderElement(e,t,n[r++],i)}disposeElement(e,t,n,i){let r=0;for(const o of this.renderers)o.disposeElement&&o.disposeElement(e,t,n[r],i),r+=1}disposeTemplate(e){let t=0;for(const n of this.renderers)n.disposeTemplate(e[t++])}}class ise{constructor(e){this.accessibilityProvider=e,this.templateId="a18n"}renderTemplate(e){return e}renderElement(e,t,n){const i=this.accessibilityProvider.getAriaLabel(e);i?n.setAttribute("aria-label",i):n.removeAttribute("aria-label");const r=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(e);"number"==typeof r?n.setAttribute("aria-level",`${r}`):n.removeAttribute("aria-level")}disposeTemplate(e){}}class rse{constructor(e,t){this.list=e,this.dnd=t}getDragElements(e){const t=this.list.getSelectedElements();return t.indexOf(e)>-1?t:[e]}getDragURI(e){return this.dnd.getDragURI(e)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e,t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(e,t)}onDragOver(e,t,n,i){return this.dnd.onDragOver(e,t,n,i)}onDragLeave(e,t,n,i){var r,o;null===(o=(r=this.dnd).onDragLeave)||void 0===o||o.call(r,e,t,n,i)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}drop(e,t,n,i){this.dnd.drop(e,t,n,i)}}class ose{constructor(e,t,n,i,r=Qoe){var o;this.user=e,this._options=r,this.focus=new Boe("focused"),this.anchor=new Boe("anchor"),this.eventBufferer=new oB,this._ariaLabel="",this.disposables=new qP,this._onDidDispose=new nB,this.onDidDispose=this._onDidDispose.event;const s=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?null===(o=this._options.accessibilityProvider)||void 0===o?void 0:o.getWidgetRole():"list";this.selection=new joe("listbox"!==s),xU(r,Joe,!1);const a=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=r.accessibilityProvider,this.accessibilityProvider&&(a.push(new ise(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),i=i.map((e=>new nse(e.templateId,[...a,e])));const l=Object.assign(Object.assign({},r),{dnd:r.dnd&&new rse(this,r.dnd)});if(this.view=new Aoe(t,n,i,l),this.view.domNode.setAttribute("role",s),r.styleController)this.styleController=r.styleController(this.view.domId);else{const e=oW(this.view.domNode);this.styleController=new Zoe(e,this.view.domId)}if(this.spliceable=new _oe([new zoe(this.focus,this.view,r.identityProvider),new zoe(this.selection,this.view,r.identityProvider),new zoe(this.anchor,this.view,r.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new qoe(this,this.view)),("boolean"!=typeof r.keyboardSupport||r.keyboardSupport)&&(this.keyboardController=new Hoe(this,this.view,r),this.disposables.add(this.keyboardController)),r.keyboardNavigationLabelProvider){const e=r.keyboardNavigationDelegate||Uoe;this.typeLabelController=new $oe(this,this.view,r.keyboardNavigationLabelProvider,e),this.disposables.add(this.typeLabelController)}this.mouseController=this.createMouseController(r),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),!1!==this._options.multipleSelectionSupport&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return eB.map(this.eventBufferer.wrapEvent(this.focus.onChange),(e=>this.toListEvent(e)))}get onDidChangeSelection(){return eB.map(this.eventBufferer.wrapEvent(this.selection.onChange),(e=>this.toListEvent(e)))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let e=!1;const t=eB.chain(this.disposables.add(new lte(this.view.domNode,"keydown")).event).map((e=>new iV(e))).filter((t=>e=58===t.keyCode||t.shiftKey&&68===t.keyCode)).map(cte).filter((()=>!1)).event,n=eB.chain(this.disposables.add(new lte(this.view.domNode,"keyup")).event).forEach((()=>e=!1)).map((e=>new iV(e))).filter((e=>58===e.keyCode||e.shiftKey&&68===e.keyCode)).map(cte).map((({browserEvent:e})=>{const t=this.getFocus(),n=t.length?t[0]:void 0;return{index:n,element:void 0!==n?this.view.element(n):void 0,anchor:void 0!==n?this.view.domElement(n):this.view.domNode,browserEvent:e}})).event,i=eB.chain(this.view.onContextMenu).filter((t=>!e)).map((({element:e,index:t,browserEvent:n})=>({element:e,index:t,anchor:{x:n.pageX+1,y:n.pageY},browserEvent:n}))).event;return eB.any(t,n,i)}get onKeyDown(){return this.disposables.add(new lte(this.view.domNode,"keydown")).event}get onDidFocus(){return eB.signal(this.disposables.add(new lte(this.view.domNode,"focus",!0)).event)}createMouseController(e){return new Xoe(this)}updateOptions(e={}){var t;this._options=Object.assign(Object.assign({},this._options),e),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),void 0!==this._options.multipleSelectionController&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(e),null===(t=this.keyboardController)||void 0===t||t.updateOptions(e),this.view.updateOptions(e)}get options(){return this._options}splice(e,t,n=[]){if(e<0||e>this.view.length)throw new woe(this.user,`Invalid start index: ${e}`);if(t<0)throw new woe(this.user,`Invalid delete count: ${t}`);0===t&&0===n.length||this.eventBufferer.bufferEvents((()=>this.spliceable.splice(e,t,n)))}rerender(){this.view.rerender()}element(e){return this.view.element(e)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(e){this.view.setScrollTop(e)}get ariaLabel(){return this._ariaLabel}set ariaLabel(e){this._ariaLabel=e,this.view.domNode.setAttribute("aria-label",e)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(e,t){this.view.layout(e,t)}setSelection(e,t){for(const n of e)if(n<0||n>=this.length)throw new woe(this.user,`Invalid index ${n}`);this.selection.set(e,t)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map((e=>this.view.element(e)))}setAnchor(e){if(void 0!==e){if(e<0||e>=this.length)throw new woe(this.user,`Invalid index ${e}`);this.anchor.set([e])}else this.anchor.set([])}getAnchor(){return CY(this.anchor.get(),void 0)}getAnchorElement(){const e=this.getAnchor();return void 0===e?void 0:this.element(e)}setFocus(e,t){for(const n of e)if(n<0||n>=this.length)throw new woe(this.user,`Invalid index ${n}`);this.focus.set(e,t)}focusNext(e=1,t=!1,n,i){if(0===this.length)return;const r=this.focus.get(),o=this.findNextIndex(r.length>0?r[0]+e:0,t,i);o>-1&&this.setFocus([o],n)}focusPrevious(e=1,t=!1,n,i){if(0===this.length)return;const r=this.focus.get(),o=this.findPreviousIndex(r.length>0?r[0]-e:0,t,i);o>-1&&this.setFocus([o],n)}focusNextPage(e,t){return Roe(this,void 0,void 0,(function*(){let n=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);n=0===n?0:n-1;const i=this.view.element(n),r=this.getFocusedElements()[0];if(r!==i){const i=this.findPreviousIndex(n,!1,t);i>-1&&r!==this.view.element(i)?this.setFocus([i],e):this.setFocus([n],e)}else{const i=this.view.getScrollTop();this.view.setScrollTop(i+this.view.renderHeight-this.view.elementHeight(n)),this.view.getScrollTop()!==i&&(this.setFocus([]),yield gV(0),yield this.focusNextPage(e,t))}}))}focusPreviousPage(e,t){return Roe(this,void 0,void 0,(function*(){let n;const i=this.view.getScrollTop();n=0===i?this.view.indexAt(i):this.view.indexAfter(i-1);const r=this.view.element(n),o=this.getFocusedElements()[0];if(o!==r){const i=this.findNextIndex(n,!1,t);i>-1&&o!==this.view.element(i)?this.setFocus([i],e):this.setFocus([n],e)}else{const n=i;this.view.setScrollTop(i-this.view.renderHeight),this.view.getScrollTop()!==n&&(this.setFocus([]),yield gV(0),yield this.focusPreviousPage(e,t))}}))}focusLast(e,t){if(0===this.length)return;const n=this.findPreviousIndex(this.length-1,!1,t);n>-1&&this.setFocus([n],e)}focusFirst(e,t){this.focusNth(0,e,t)}focusNth(e,t,n){if(0===this.length)return;const i=this.findNextIndex(e,!1,n);i>-1&&this.setFocus([i],t)}findNextIndex(e,t=!1,n){for(let i=0;i<this.length;i++){if(e>=this.length&&!t)return-1;if(e%=this.length,!n||n(this.element(e)))return e;e++}return-1}findPreviousIndex(e,t=!1,n){for(let i=0;i<this.length;i++){if(e<0&&!t)return-1;if(e=(this.length+e%this.length)%this.length,!n||n(this.element(e)))return e;e--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map((e=>this.view.element(e)))}reveal(e,t){if(e<0||e>=this.length)throw new woe(this.user,`Invalid index ${e}`);const n=this.view.getScrollTop(),i=this.view.elementTop(e),r=this.view.elementHeight(e);if(ZH(t)){const e=r-this.view.renderHeight;this.view.setScrollTop(e*GU(t,0,1)+i)}else{const e=i+r,t=n+this.view.renderHeight;i<n&&e>=t||(i<n||e>=t&&r>=this.view.renderHeight?this.view.setScrollTop(i):e>=t&&this.view.setScrollTop(e-this.view.renderHeight))}}getRelativeTop(e){if(e<0||e>=this.length)throw new woe(this.user,`Invalid index ${e}`);const t=this.view.getScrollTop(),n=this.view.elementTop(e),i=this.view.elementHeight(e);if(n<t||n+i>t+this.view.renderHeight)return null;const r=i-this.view.renderHeight;return Math.abs((t-n)/r)}getHTMLElement(){return this.view.domNode}style(e){this.styleController.style(e)}toListEvent({indexes:e,browserEvent:t}){return{indexes:e,elements:e.map((e=>this.view.element(e))),browserEvent:t}}_onFocusChange(){const e=this.focus.get();this.view.domNode.classList.toggle("element-focused",e.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var e;const t=this.focus.get();if(t.length>0){let n;(null===(e=this.accessibilityProvider)||void 0===e?void 0:e.getActiveDescendantId)&&(n=this.accessibilityProvider.getActiveDescendantId(this.view.element(t[0]))),this.view.domNode.setAttribute("aria-activedescendant",n||this.view.getElementDomId(t[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const e=this.selection.get();this.view.domNode.classList.toggle("selection-none",0===e.length),this.view.domNode.classList.toggle("selection-single",1===e.length),this.view.domNode.classList.toggle("selection-multiple",e.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}Foe([eQ],ose.prototype,"onDidChangeFocus",null),Foe([eQ],ose.prototype,"onDidChangeSelection",null),Foe([eQ],ose.prototype,"onContextMenu",null),Foe([eQ],ose.prototype,"onKeyDown",null),Foe([eQ],ose.prototype,"onDidFocus",null);class sse{constructor(e,t){this.renderer=e,this.modelProvider=t}get templateId(){return this.renderer.templateId}renderTemplate(e){return{data:this.renderer.renderTemplate(e),disposable:KP.None}}renderElement(e,t,n,i){if(n.disposable&&n.disposable.dispose(),!n.data)return;const r=this.modelProvider();if(r.isResolved(e))return this.renderer.renderElement(r.get(e),e,n.data,i);const o=new hB,s=r.resolve(e,o.token);n.disposable={dispose:()=>o.cancel()},this.renderer.renderPlaceholder(e,n.data),s.then((t=>this.renderer.renderElement(t,e,n.data,i)))}disposeTemplate(e){e.disposable&&(e.disposable.dispose(),e.disposable=void 0),e.data&&(this.renderer.disposeTemplate(e.data),e.data=void 0)}}class ase{constructor(e,t){this.modelProvider=e,this.accessibilityProvider=t}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(e){const t=this.modelProvider();return t.isResolved(e)?this.accessibilityProvider.getAriaLabel(t.get(e)):null}}const lse={separatorBorder:C1.transparent};class cse{constructor(e,t,n,i){this.container=e,this.view=t,this.disposable=i,this._cachedVisibleSize=void 0,"number"==typeof n?(this._size=n,this._cachedVisibleSize=void 0,e.classList.add("visible")):(this._size=0,this._cachedVisibleSize=n.cachedVisibleSize)}set size(e){this._size=e}get size(){return this._size}get visible(){return void 0===this._cachedVisibleSize}setVisible(e,t){e!==this.visible&&(e?(this.size=GU(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize="number"==typeof t?t:this.size,this.size=0),this.container.classList.toggle("visible",e),this.view.setVisible&&this.view.setVisible(e))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(e){this.container.style.pointerEvents=e?"":"none"}layout(e,t){this.layoutContainer(e),this.view.layout(this.size,e,t)}dispose(){return this.disposable.dispose(),this.view}}class use extends cse{layoutContainer(e){this.container.style.top=`${e}px`,this.container.style.height=`${this.size}px`}}class hse extends cse{layoutContainer(e){this.container.style.left=`${e}px`,this.container.style.width=`${this.size}px`}}var dse,fse,pse,gse;(fse=dse||(dse={}))[fse.Idle=0]="Idle",fse[fse.Busy=1]="Busy",(gse=pse||(pse={})).Distribute={type:"distribute"},gse.Split=function(e){return{type:"split",index:e}},gse.Invisible=function(e){return{type:"invisible",cachedVisibleSize:e}};class mse extends KP{constructor(e,t={}){var n,i;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=dse.Idle,this._onDidSashChange=this._register(new nB),this.onDidSashChange=this._onDidSashChange.event,this._onDidSashReset=this._register(new nB),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.orientation=QH(t.orientation)?0:t.orientation,this.inverseAltBehavior=!!t.inverseAltBehavior,this.proportionalLayout=!!QH(t.proportionalLayout)||!!t.proportionalLayout,this.getSashOrthogonalSize=t.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(0===this.orientation?"vertical":"horizontal"),e.appendChild(this.el),this.sashContainer=gW(this.el,wW(".sash-container")),this.viewContainer=wW(".split-view-container"),this.scrollable=new m7(125,RV),this.scrollableElement=this._register(new k7(this.viewContainer,{vertical:0===this.orientation?null!==(n=t.scrollbarVisibility)&&void 0!==n?n:1:2,horizontal:1===this.orientation?null!==(i=t.scrollbarVisibility)&&void 0!==i?i:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll((e=>{this.viewContainer.scrollTop=e.scrollTop,this.viewContainer.scrollLeft=e.scrollLeft}))),gW(this.el,this.scrollableElement.getDomNode()),this.style(t.styles||lse),t.descriptor&&(this.size=t.descriptor.size,t.descriptor.views.forEach(((e,t)=>{const n=QH(e.visible)||e.visible?e.size:{type:"invisible",cachedVisibleSize:e.size},i=e.view;this.doAddView(i,n,t,!0)})),this.contentSize=this.viewItems.reduce(((e,t)=>e+t.size),0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(e){for(const t of this.sashItems)t.sash.orthogonalStartSash=e;this._orthogonalStartSash=e}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(e){for(const t of this.sashItems)t.sash.orthogonalEndSash=e;this._orthogonalEndSash=e}get startSnappingEnabled(){return this._startSnappingEnabled}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}get endSnappingEnabled(){return this._endSnappingEnabled}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}style(e){e.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))}addView(e,t,n=this.viewItems.length,i){this.doAddView(e,t,n,i)}layout(e,t){const n=Math.max(this.size,this.contentSize);if(this.size=e,this.layoutContext=t,this.proportions)for(let i=0;i<this.viewItems.length;i++){const t=this.viewItems[i];t.size=GU(Math.round(this.proportions[i]*e),t.minimumSize,t.maximumSize)}else{const t=xY(this.viewItems.length),i=t.filter((e=>1===this.viewItems[e].priority)),r=t.filter((e=>2===this.viewItems[e].priority));this.resize(this.viewItems.length-1,e-n,void 0,i,r)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map((e=>e.size/this.contentSize)))}onSashStart({sash:e,start:t,alt:n}){for(const s of this.viewItems)s.enabled=!1;const i=this.sashItems.findIndex((t=>t.sash===e)),r=UP(AV(document.body,"keydown",(e=>o(this.sashDragState.current,e.altKey))),AV(document.body,"keyup",(()=>o(this.sashDragState.current,!1)))),o=(e,t)=>{const n=this.viewItems.map((e=>e.size));let o,s,a=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(t=!t),t){if(i===this.sashItems.length-1){const e=this.viewItems[i];a=(e.minimumSize-e.size)/2,l=(e.maximumSize-e.size)/2}else{const e=this.viewItems[i+1];a=(e.size-e.maximumSize)/2,l=(e.size-e.minimumSize)/2}}if(!t){const e=xY(i,-1),t=xY(i+1,this.viewItems.length),r=e.reduce(((e,t)=>e+(this.viewItems[t].minimumSize-n[t])),0),a=e.reduce(((e,t)=>e+(this.viewItems[t].viewMaximumSize-n[t])),0),l=0===t.length?Number.POSITIVE_INFINITY:t.reduce(((e,t)=>e+(n[t]-this.viewItems[t].minimumSize)),0),c=0===t.length?Number.NEGATIVE_INFINITY:t.reduce(((e,t)=>e+(n[t]-this.viewItems[t].viewMaximumSize)),0),u=Math.max(r,c),h=Math.min(l,a),d=this.findFirstSnapIndex(e),f=this.findFirstSnapIndex(t);if("number"==typeof d){const e=this.viewItems[d],t=Math.floor(e.viewMinimumSize/2);o={index:d,limitDelta:e.visible?u-t:u+t,size:e.size}}if("number"==typeof f){const e=this.viewItems[f],t=Math.floor(e.viewMinimumSize/2);s={index:f,limitDelta:e.visible?h+t:h-t,size:e.size}}}this.sashDragState={start:e,current:e,index:i,sizes:n,minDelta:a,maxDelta:l,alt:t,snapBefore:o,snapAfter:s,disposable:r}};o(t,n)}onSashChange({current:e}){const{index:t,start:n,sizes:i,alt:r,minDelta:o,maxDelta:s,snapBefore:a,snapAfter:l}=this.sashDragState;this.sashDragState.current=e;const c=e-n,u=this.resize(t,c,i,void 0,void 0,o,s,a,l);if(r){const e=t===this.sashItems.length-1,n=this.viewItems.map((e=>e.size)),i=e?t:t+1,r=this.viewItems[i],o=r.size-r.maximumSize,s=r.size-r.minimumSize,a=e?t-1:t+1;this.resize(a,-u,n,void 0,void 0,o,s)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions();for(const t of this.viewItems)t.enabled=!0}onViewChange(e,t){const n=this.viewItems.indexOf(e);n<0||n>=this.viewItems.length||(t=GU(t="number"==typeof t?t:e.size,e.minimumSize,e.maximumSize),this.inverseAltBehavior&&n>0?(this.resize(n-1,Math.floor((e.size-t)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=t,this.relayout([n],void 0)))}resizeView(e,t){if(this.state!==dse.Idle)throw new Error("Cant modify splitview");if(this.state=dse.Busy,e<0||e>=this.viewItems.length)return;const n=xY(this.viewItems.length).filter((t=>t!==e)),i=[...n.filter((e=>1===this.viewItems[e].priority)),e],r=n.filter((e=>2===this.viewItems[e].priority)),o=this.viewItems[e];t=GU(t=Math.round(t),o.minimumSize,Math.min(o.maximumSize,this.size)),o.size=t,this.relayout(i,r),this.state=dse.Idle}distributeViewSizes(){const e=[];let t=0;for(const s of this.viewItems)s.maximumSize-s.minimumSize>0&&(e.push(s),t+=s.size);const n=Math.floor(t/e.length);for(const s of e)s.size=GU(n,s.minimumSize,s.maximumSize);const i=xY(this.viewItems.length),r=i.filter((e=>1===this.viewItems[e].priority)),o=i.filter((e=>2===this.viewItems[e].priority));this.relayout(r,o)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}doAddView(e,t,n=this.viewItems.length,i){if(this.state!==dse.Idle)throw new Error("Cant modify splitview");this.state=dse.Busy;const r=wW(".split-view-view");n===this.viewItems.length?this.viewContainer.appendChild(r):this.viewContainer.insertBefore(r,this.viewContainer.children.item(n));const o=UP(e.onDidChange((e=>this.onViewChange(a,e))),$P((()=>this.viewContainer.removeChild(r))));let s;s="number"==typeof t?t:"split"===t.type?this.getViewSize(t.index)/2:"invisible"===t.type?{cachedVisibleSize:t.cachedVisibleSize}:e.minimumSize;const a=0===this.orientation?new use(r,e,s,o):new hse(r,e,s,o);if(this.viewItems.splice(n,0,a),this.viewItems.length>1){let e={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash};const t=0===this.orientation?new yte(this.sashContainer,{getHorizontalSashTop:e=>this.getSashPosition(e),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},e),{orientation:1})):new yte(this.sashContainer,{getVerticalSashLeft:e=>this.getSashPosition(e),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},e),{orientation:0})),i=0===this.orientation?e=>({sash:t,start:e.startY,current:e.currentY,alt:e.altKey}):e=>({sash:t,start:e.startX,current:e.currentX,alt:e.altKey}),r=UP(eB.map(t.onDidStart,i)(this.onSashStart,this),eB.map(t.onDidChange,i)(this.onSashChange,this),eB.map(t.onDidEnd,(()=>this.sashItems.findIndex((e=>e.sash===t))))(this.onSashEnd,this),t.onDidReset((()=>{const e=this.sashItems.findIndex((e=>e.sash===t)),n=xY(e,-1),i=xY(e+1,this.viewItems.length),r=this.findFirstSnapIndex(n),o=this.findFirstSnapIndex(i);("number"!=typeof r||this.viewItems[r].visible)&&("number"!=typeof o||this.viewItems[o].visible)&&this._onDidSashReset.fire(e)})),t),o={sash:t,disposable:r};this.sashItems.splice(n-1,0,o)}let l;r.appendChild(e.element),"number"!=typeof t&&"split"===t.type&&(l=[t.index]),i||this.relayout([n],l),this.state=dse.Idle,i||"number"==typeof t||"distribute"!==t.type||this.distributeViewSizes()}relayout(e,t){const n=this.viewItems.reduce(((e,t)=>e+t.size),0);this.resize(this.viewItems.length-1,this.size-n,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(e,t,n=this.viewItems.map((e=>e.size)),i,r,o=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY,a,l){if(e<0||e>=this.viewItems.length)return 0;const c=xY(e,-1),u=xY(e+1,this.viewItems.length);if(r)for(const C of r)SY(c,C),SY(u,C);if(i)for(const C of i)DY(c,C),DY(u,C);const h=c.map((e=>this.viewItems[e])),d=c.map((e=>n[e])),f=u.map((e=>this.viewItems[e])),p=u.map((e=>n[e])),g=c.reduce(((e,t)=>e+(this.viewItems[t].minimumSize-n[t])),0),m=c.reduce(((e,t)=>e+(this.viewItems[t].maximumSize-n[t])),0),v=0===u.length?Number.POSITIVE_INFINITY:u.reduce(((e,t)=>e+(n[t]-this.viewItems[t].minimumSize)),0),y=0===u.length?Number.NEGATIVE_INFINITY:u.reduce(((e,t)=>e+(n[t]-this.viewItems[t].maximumSize)),0),b=Math.max(g,y,o),_=Math.min(v,m,s);let w=!1;if(a){const e=this.viewItems[a.index],n=t>=a.limitDelta;w=n!==e.visible,e.setVisible(n,a.size)}if(!w&&l){const e=this.viewItems[l.index],n=t<l.limitDelta;w=n!==e.visible,e.setVisible(n,l.size)}if(w)return this.resize(e,t,n,i,r,o,s);for(let C=0,x=t=GU(t,b,_);C<h.length;C++){const e=h[C],t=GU(d[C]+x,e.minimumSize,e.maximumSize);x-=t-d[C],e.size=t}for(let C=0,x=t;C<f.length;C++){const e=f[C],t=GU(p[C]-x,e.minimumSize,e.maximumSize);x+=t-p[C],e.size=t}return t}distributeEmptySpace(e){const t=this.viewItems.reduce(((e,t)=>e+t.size),0);let n=this.size-t;const i=xY(this.viewItems.length-1,-1),r=i.filter((e=>1===this.viewItems[e].priority)),o=i.filter((e=>2===this.viewItems[e].priority));for(const s of o)SY(i,s);for(const s of r)DY(i,s);"number"==typeof e&&DY(i,e);for(let s=0;0!==n&&s<i.length;s++){const e=this.viewItems[i[s]],t=GU(e.size+n,e.minimumSize,e.maximumSize);n-=t-e.size,e.size=t}}layoutViews(){this.contentSize=this.viewItems.reduce(((e,t)=>e+t.size),0);let e=0;for(const t of this.viewItems)t.layout(e,this.layoutContext),e+=t.size;this.sashItems.forEach((e=>e.sash.layout())),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){0===this.orientation?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let e=!1;const t=this.viewItems.map((t=>e=t.size-t.minimumSize>0||e));e=!1;const n=this.viewItems.map((t=>e=t.maximumSize-t.size>0||e)),i=[...this.viewItems].reverse();e=!1;const r=i.map((t=>e=t.size-t.minimumSize>0||e)).reverse();e=!1;const o=i.map((t=>e=t.maximumSize-t.size>0||e)).reverse();let s=0;for(let a=0;a<this.sashItems.length;a++){const{sash:e}=this.sashItems[a];s+=this.viewItems[a].size;const i=!(t[a]&&o[a+1]),l=!(n[a]&&r[a+1]);if(i&&l){const n=xY(a,-1),i=xY(a+1,this.viewItems.length),o=this.findFirstSnapIndex(n),l=this.findFirstSnapIndex(i),c="number"==typeof o&&!this.viewItems[o].visible,u="number"==typeof l&&!this.viewItems[l].visible;c&&r[a]&&(s>0||this.startSnappingEnabled)?e.state=1:u&&t[a]&&(s<this.contentSize||this.endSnappingEnabled)?e.state=2:e.state=0}else e.state=i&&!l?1:!i&&l?2:3}}getSashPosition(e){let t=0;for(let n=0;n<this.sashItems.length;n++)if(t+=this.viewItems[n].size,this.sashItems[n].sash===e)return t;return 0}findFirstSnapIndex(e){for(const t of e){const e=this.viewItems[t];if(e.visible&&e.snap)return t}for(const t of e){const e=this.viewItems[t];if(e.visible&&e.maximumSize-e.minimumSize>0)return;if(!e.visible&&e.snap)return t}}dispose(){super.dispose(),this.viewItems.forEach((e=>e.dispose())),this.viewItems=[],this.sashItems.forEach((e=>e.disposable.dispose())),this.sashItems=[]}}var vse,yse;class bse{constructor(e,t,n){this.columns=e,this.getColumnSize=n,this.templateId=bse.TemplateId,this.renderedTemplates=new Set;const i=new Map(t.map((e=>[e.templateId,e])));this.renderers=[];for(const r of e){const e=i.get(r.templateId);if(!e)throw new Error(`Table cell renderer for template id ${r.templateId} not found.`);this.renderers.push(e)}}renderTemplate(e){const t=gW(e,wW(".monaco-table-tr")),n=[],i=[];for(let o=0;o<this.columns.length;o++){const e=this.renderers[o],r=gW(t,wW(".monaco-table-td",{"data-col-index":o}));r.style.width=`${this.getColumnSize(o)}px`,n.push(r),i.push(e.renderTemplate(r))}const r={container:e,cellContainers:n,cellTemplateData:i};return this.renderedTemplates.add(r),r}renderElement(e,t,n,i){for(let r=0;r<this.columns.length;r++){const o=this.columns[r].project(e);this.renderers[r].renderElement(o,t,n.cellTemplateData[r],i)}}disposeElement(e,t,n,i){for(let r=0;r<this.columns.length;r++){const o=this.renderers[r];if(o.disposeElement){const s=this.columns[r].project(e);o.disposeElement(s,t,n.cellTemplateData[r],i)}}}disposeTemplate(e){for(let t=0;t<this.columns.length;t++){this.renderers[t].disposeTemplate(e.cellTemplateData[t])}TV(e.container),this.renderedTemplates.delete(e)}layoutColumn(e,t){for(const{cellContainers:n}of this.renderedTemplates)n[e].style.width=`${t}px`}}bse.TemplateId="row";class _se{constructor(e,t){this.column=e,this.index=t,this._onDidLayout=new nB,this.onDidLayout=this._onDidLayout.event,this.element=wW(".monaco-table-th",{"data-col-index":t,title:e.tooltip},e.label)}get minimumSize(){var e;return null!==(e=this.column.minimumWidth)&&void 0!==e?e:120}get maximumSize(){var e;return null!==(e=this.column.maximumWidth)&&void 0!==e?e:Number.POSITIVE_INFINITY}get onDidChange(){var e;return null!==(e=this.column.onDidChangeWidthConstraints)&&void 0!==e?e:eB.None}layout(e){this._onDidLayout.fire([this.index,e])}}class wse{constructor(e,t,n,i,r,o){this.virtualDelegate=n,this.domId="table_id_"+ ++wse.InstanceCount,this.cachedHeight=0,this.domNode=gW(t,wW(`.monaco-table.${this.domId}`));const s=i.map(((e,t)=>new _se(e,t))),a={size:s.reduce(((e,t)=>e+t.column.weight),0),views:s.map((e=>({size:e.column.weight,view:e})))};this.splitview=new mse(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:a}),this.splitview.el.style.height=`${n.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${n.headerRowHeight}px`;const l=new bse(i,r,(e=>this.splitview.getViewSize(e)));var c;this.list=new ose(e,this.domNode,(c=n,{getHeight:e=>c.getHeight(e),getTemplateId:()=>bse.TemplateId}),[l],o),this.columnLayoutDisposable=eB.any(...s.map((e=>e.onDidLayout)))((([e,t])=>l.layoutColumn(e,t))),this.styleElement=oW(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(e){this.list.updateOptions(e)}splice(e,t,n=[]){this.list.splice(e,t,n)}getHTMLElement(){return this.domNode}style(e){const t=[];t.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\ttop: ${this.virtualDelegate.headerRowHeight+1}px;\n\t\t\theight: calc(100% - ${this.virtualDelegate.headerRowHeight}px);\n\t\t}`),this.styleElement.textContent=t.join("\n"),this.list.style(e)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.splitview.dispose(),this.list.dispose(),this.columnLayoutDisposable.dispose()}}wse.InstanceCount=0,(yse=vse||(vse={}))[yse.Unknown=0]="Unknown",yse[yse.Twistie=1]="Twistie",yse[yse.Element=2]="Element";class Cse extends Error{constructor(e,t){super(`TreeError [${e}] ${t}`)}}class xse{constructor(e){this.fn=e,this._map=new WeakMap}map(e){let t=this._map.get(e);return t||(t=this.fn(e),this._map.set(e,t)),t}}function kse(e){return"object"==typeof e&&"visibility"in e&&"data"in e}function Sse(e){switch(e){case!0:return 1;case!1:return 0;default:return e}}function Dse(e){return"boolean"==typeof e.collapsible}class Ese{constructor(e,t,n,i={}){this.user=e,this.list=t,this.rootRef=[],this.eventBufferer=new oB,this._onDidChangeCollapseState=new nB,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new nB,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new nB,this.onDidSplice=this._onDidSplice.event,this.collapseByDefault=void 0!==i.collapseByDefault&&i.collapseByDefault,this.filter=i.filter,this.autoExpandSingleChildren=void 0!==i.autoExpandSingleChildren&&i.autoExpandSingleChildren,this.root={parent:void 0,element:n,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(e,t,n=VP.empty(),i={}){if(0===e.length)throw new Cse(this.user,"Invalid tree location");i.diffIdentityProvider?this.spliceSmart(i.diffIdentityProvider,e,t,n,i):this.spliceSimple(e,t,n,i)}spliceSmart(e,t,n,i,r,o){var s;void 0===i&&(i=VP.empty()),void 0===o&&(o=null!==(s=r.diffDepth)&&void 0!==s?s:0);const{parentNode:a}=this.getParentNodeWithListIndex(t);if(!a.lastDiffIds)return this.spliceSimple(t,n,i,r);const l=[...i],c=t[t.length-1],u=new qK({getElements:()=>a.lastDiffIds},{getElements:()=>[...a.children.slice(0,c),...l,...a.children.slice(c+n)].map((t=>e.getId(t.element).toString()))}).ComputeDiff(!1);if(u.quitEarly)return a.lastDiffIds=void 0,this.spliceSimple(t,n,l,r);const h=t.slice(0,-1),d=(t,n,i)=>{if(o>0)for(let s=0;s<i;s++)t--,n--,this.spliceSmart(e,[...h,t,0],Number.MAX_SAFE_INTEGER,l[n].children,r,o-1)};let f=Math.min(a.children.length,c+n),p=l.length;for(const g of u.changes.sort(((e,t)=>t.originalStart-e.originalStart)))d(f,p,f-(g.originalStart+g.originalLength)),f=g.originalStart,p=g.modifiedStart-c,this.spliceSimple([...h,f],g.originalLength,VP.slice(l,p,p+g.modifiedLength),r);d(f,p,f)}spliceSimple(e,t,n=VP.empty(),{onDidCreateNode:i,onDidDeleteNode:r,diffIdentityProvider:o}){const{parentNode:s,listIndex:a,revealed:l,visible:c}=this.getParentNodeWithListIndex(e),u=[],h=VP.map(n,(e=>this.createTreeNode(e,s,s.visible?1:0,l,u,i))),d=e[e.length-1],f=s.children.length>0;let p=0;for(let C=d;C>=0&&C<s.children.length;C--){const e=s.children[C];if(e.visible){p=e.visibleChildIndex;break}}const g=[];let m=0,v=0;for(const C of h)g.push(C),v+=C.renderNodeCount,C.visible&&(C.visibleChildIndex=p+m++);const y=EY(s.children,d,t,g);o?s.lastDiffIds?EY(s.lastDiffIds,d,t,g.map((e=>o.getId(e.element).toString()))):s.lastDiffIds=s.children.map((e=>o.getId(e.element).toString())):s.lastDiffIds=void 0;let b=0;for(const C of y)C.visible&&b++;if(0!==b)for(let C=d+g.length;C<s.children.length;C++){const e=s.children[C];e.visible&&(e.visibleChildIndex-=b)}if(s.visibleChildrenCount+=m-b,l&&c){const e=y.reduce(((e,t)=>e+(t.visible?t.renderNodeCount:0)),0);this._updateAncestorsRenderNodeCount(s,v-e),this.list.splice(a,e,u)}if(y.length>0&&r){const e=t=>{r(t),t.children.forEach(e)};y.forEach(e)}const _=s.children.length>0;f!==_&&this.setCollapsible(e.slice(0,-1),_),this._onDidSplice.fire({insertedNodes:g,deletedNodes:y});let w=s;for(;w;){if(2===w.visibility){this.refilter();break}w=w.parent}}rerender(e){if(0===e.length)throw new Cse(this.user,"Invalid tree location");const{node:t,listIndex:n,revealed:i}=this.getTreeNodeWithListIndex(e);t.visible&&i&&this.list.splice(n,1,[t])}has(e){return this.hasTreeNode(e)}getListIndex(e){const{listIndex:t,visible:n,revealed:i}=this.getTreeNodeWithListIndex(e);return n&&i?t:-1}getListRenderCount(e){return this.getTreeNode(e).renderNodeCount}isCollapsible(e){return this.getTreeNode(e).collapsible}setCollapsible(e,t){const n=this.getTreeNode(e);void 0===t&&(t=!n.collapsible);const i={collapsible:t};return this.eventBufferer.bufferEvents((()=>this._setCollapseState(e,i)))}isCollapsed(e){return this.getTreeNode(e).collapsed}setCollapsed(e,t,n){const i=this.getTreeNode(e);void 0===t&&(t=!i.collapsed);const r={collapsed:t,recursive:n||!1};return this.eventBufferer.bufferEvents((()=>this._setCollapseState(e,r)))}_setCollapseState(e,t){const{node:n,listIndex:i,revealed:r}=this.getTreeNodeWithListIndex(e),o=this._setListNodeCollapseState(n,i,r,t);if(n!==this.root&&this.autoExpandSingleChildren&&o&&!Dse(t)&&n.collapsible&&!n.collapsed&&!t.recursive){let i=-1;for(let e=0;e<n.children.length;e++){if(n.children[e].visible){if(i>-1){i=-1;break}i=e}}i>-1&&this._setCollapseState([...e,i],t)}return o}_setListNodeCollapseState(e,t,n,i){const r=this._setNodeCollapseState(e,i,!1);if(!n||!e.visible||!r)return r;const o=e.renderNodeCount,s=this.updateNodeAfterCollapseChange(e),a=o-(-1===t?0:1);return this.list.splice(t+1,a,s.slice(1)),r}_setNodeCollapseState(e,t,n){let i;if(e===this.root?i=!1:(Dse(t)?(i=e.collapsible!==t.collapsible,e.collapsible=t.collapsible):e.collapsible?(i=e.collapsed!==t.collapsed,e.collapsed=t.collapsed):i=!1,i&&this._onDidChangeCollapseState.fire({node:e,deep:n})),!Dse(t)&&t.recursive)for(const r of e.children)i=this._setNodeCollapseState(r,t,!0)||i;return i}expandTo(e){this.eventBufferer.bufferEvents((()=>{let t=this.getTreeNode(e);for(;t.parent;)t=t.parent,e=e.slice(0,e.length-1),t.collapsed&&this._setCollapseState(e,{collapsed:!1,recursive:!1})}))}refilter(){const e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,e,t)}createTreeNode(e,t,n,i,r,o){const s={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:"boolean"==typeof e.collapsible?e.collapsible:void 0!==e.collapsed,collapsed:void 0===e.collapsed?this.collapseByDefault:e.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},a=this._filterNode(s,n);s.visibility=a,i&&r.push(s);const l=e.children||VP.empty(),c=i&&0!==a&&!s.collapsed,u=VP.map(l,(e=>this.createTreeNode(e,s,a,c,r,o)));let h=0,d=1;for(const f of u)s.children.push(f),d+=f.renderNodeCount,f.visible&&(f.visibleChildIndex=h++);return s.collapsible=s.collapsible||s.children.length>0,s.visibleChildrenCount=h,s.visible=2===a?h>0:1===a,s.visible?s.collapsed||(s.renderNodeCount=d):(s.renderNodeCount=0,i&&r.pop()),o&&o(s),s}updateNodeAfterCollapseChange(e){const t=e.renderNodeCount,n=[];return this._updateNodeAfterCollapseChange(e,n),this._updateAncestorsRenderNodeCount(e.parent,n.length-t),n}_updateNodeAfterCollapseChange(e,t){if(!1===e.visible)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed)for(const n of e.children)e.renderNodeCount+=this._updateNodeAfterCollapseChange(n,t);return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount}updateNodeAfterFilterChange(e){const t=e.renderNodeCount,n=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,n),this._updateAncestorsRenderNodeCount(e.parent,n.length-t),n}_updateNodeAfterFilterChange(e,t,n,i=!0){let r;if(e!==this.root){if(r=this._filterNode(e,t),0===r)return e.visible=!1,e.renderNodeCount=0,!1;i&&n.push(e)}const o=n.length;e.renderNodeCount=e===this.root?0:1;let s=!1;if(e.collapsed&&0===r)e.visibleChildrenCount=0;else{let t=0;for(const o of e.children)s=this._updateNodeAfterFilterChange(o,r,n,i&&!e.collapsed)||s,o.visible&&(o.visibleChildIndex=t++);e.visibleChildrenCount=t}return e!==this.root&&(e.visible=2===r?s:1===r,e.visibility=r),e.visible?e.collapsed||(e.renderNodeCount+=n.length-o):(e.renderNodeCount=0,i&&n.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible}_updateAncestorsRenderNodeCount(e,t){if(0!==t)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent}_filterNode(e,t){const n=this.filter?this.filter.filter(e.element,t):1;return"boolean"==typeof n?(e.filterData=void 0,n?1:0):kse(n)?(e.filterData=n.data,Sse(n.visibility)):(e.filterData=void 0,Sse(n))}hasTreeNode(e,t=this.root){if(!e||0===e.length)return!0;const[n,...i]=e;return!(n<0||n>t.children.length)&&this.hasTreeNode(i,t.children[n])}getTreeNode(e,t=this.root){if(!e||0===e.length)return t;const[n,...i]=e;if(n<0||n>t.children.length)throw new Cse(this.user,"Invalid tree location");return this.getTreeNode(i,t.children[n])}getTreeNodeWithListIndex(e){if(0===e.length)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:t,listIndex:n,revealed:i,visible:r}=this.getParentNodeWithListIndex(e),o=e[e.length-1];if(o<0||o>t.children.length)throw new Cse(this.user,"Invalid tree location");const s=t.children[o];return{node:s,listIndex:n,revealed:i,visible:r&&s.visible}}getParentNodeWithListIndex(e,t=this.root,n=0,i=!0,r=!0){const[o,...s]=e;if(o<0||o>t.children.length)throw new Cse(this.user,"Invalid tree location");for(let a=0;a<o;a++)n+=t.children[a].renderNodeCount;return i=i&&!t.collapsed,r=r&&t.visible,0===s.length?{parentNode:t,listIndex:n,revealed:i,visible:r}:this.getParentNodeWithListIndex(s,t.children[o],n+1,i,r)}getNode(e=[]){return this.getTreeNode(e)}getNodeLocation(e){const t=[];let n=e;for(;n.parent;)t.push(n.parent.children.indexOf(n)),n=n.parent;return t.reverse()}getParentNodeLocation(e){return 0===e.length?void 0:1===e.length?[]:function(e){if(0===e.length)throw new Error("Invalid tail call");return[e.slice(0,e.length-1),e[e.length-1]]}(e)[0]}}const Lse=C$("tree-item-expanded",x$.chevronDown),Tse=C$("tree-filter-on-type-on",x$.listFilter),Nse=C$("tree-filter-on-type-off",x$.listSelection),Mse=C$("tree-filter-clear",x$.close),Ase=C$("tree-item-loading",x$.loading);var Ise,Ose;class Fse extends Loe{constructor(e){super(e.elements.map((e=>e.element))),this.data=e}}function Rse(e){return e instanceof Loe?new Fse(e):e}class Pse{constructor(e,t){this.modelProvider=e,this.dnd=t,this.autoExpandDisposable=KP.None}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map((e=>e.element)),t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(Rse(e),t)}onDragOver(e,t,n,i,r=!0){const o=this.dnd.onDragOver(Rse(e),t&&t.element,n,i),s=this.autoExpandNode!==t;if(s&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),void 0===t)return o;if(s&&"boolean"!=typeof o&&o.autoExpand&&(this.autoExpandDisposable=mV((()=>{const e=this.modelProvider(),n=e.getNodeLocation(t);e.isCollapsed(n)&&e.setCollapsed(n,!1),this.autoExpandNode=void 0}),500)),"boolean"==typeof o||!o.accept||void 0===o.bubble||o.feedback){if(!r){return{accept:"boolean"==typeof o?o:o.accept,effect:"boolean"==typeof o?void 0:o.effect,feedback:[n]}}return o}if(1===o.bubble){const n=this.modelProvider(),r=n.getNodeLocation(t),o=n.getParentNodeLocation(r),s=n.getNode(o),a=o&&n.getListIndex(o);return this.onDragOver(e,s,a,i,!1)}const a=this.modelProvider(),l=a.getNodeLocation(t),c=a.getListIndex(l),u=a.getListRenderCount(l);return Object.assign(Object.assign({},o),{feedback:xY(c,c+u)})}drop(e,t,n,i){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(Rse(e),t&&t.element,n,i)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}}class Bse{constructor(e){this.delegate=e}getHeight(e){return this.delegate.getHeight(e.element)}getTemplateId(e){return this.delegate.getTemplateId(e.element)}hasDynamicHeight(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)}setDynamicHeight(e,t){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(e.element,t)}}(Ose=Ise||(Ise={})).None="none",Ose.OnHover="onHover",Ose.Always="always";class jse{constructor(e,t=[]){this._elements=t,this.onDidChange=eB.forEach(e,(e=>this._elements=e))}get elements(){return this._elements}}class zse{constructor(e,t,n,i,r={}){this.renderer=e,this.modelProvider=t,this.activeNodes=i,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=zse.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new QG,this.activeIndentNodes=new Set,this.indentGuidesDisposable=KP.None,this.disposables=new qP,this.templateId=e.templateId,this.updateOptions(r),eB.map(n,(e=>e.node))(this.onDidChangeNodeTwistieState,this,this.disposables),e.onDidChangeTwistieState&&e.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(e={}){if(void 0!==e.indent&&(this.indent=GU(e.indent,0,40)),void 0!==e.renderIndentGuides){const t=e.renderIndentGuides!==Ise.None;if(t!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=t,this.indentGuidesDisposable.dispose(),t)){const e=new qP;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,e),this.indentGuidesDisposable=e,this._onDidChangeActiveNodes(this.activeNodes.elements)}}void 0!==e.hideTwistiesOfChildlessElements&&(this.hideTwistiesOfChildlessElements=e.hideTwistiesOfChildlessElements)}renderTemplate(e){const t=gW(e,wW(".monaco-tl-row")),n=gW(t,wW(".monaco-tl-indent")),i=gW(t,wW(".monaco-tl-twistie")),r=gW(t,wW(".monaco-tl-contents")),o=this.renderer.renderTemplate(r);return{container:e,indent:n,twistie:i,indentGuidesDisposable:KP.None,templateData:o}}renderElement(e,t,n,i){"number"==typeof i&&(this.renderedNodes.set(e,{templateData:n,height:i}),this.renderedElements.set(e.element,e));const r=zse.DefaultIndent+(e.depth-1)*this.indent;n.twistie.style.paddingLeft=`${r}px`,n.indent.style.width=r+this.indent-16+"px",this.renderTwistie(e,n),"number"==typeof i&&this.renderIndentGuides(e,n),this.renderer.renderElement(e,t,n.templateData,i)}disposeElement(e,t,n,i){n.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(e,t,n.templateData,i),"number"==typeof i&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}onDidChangeTwistieState(e){const t=this.renderedElements.get(e);t&&this.onDidChangeNodeTwistieState(t)}onDidChangeNodeTwistieState(e){const t=this.renderedNodes.get(e);t&&(this.renderTwistie(e,t.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(e,t.templateData))}renderTwistie(e,t){t.twistie.classList.remove(...Lse.classNamesArray);let n=!1;this.renderer.renderTwistie&&(n=this.renderer.renderTwistie(e.element,t.twistie)),e.collapsible&&(!this.hideTwistiesOfChildlessElements||e.visibleChildrenCount>0)?(n||t.twistie.classList.add(...Lse.classNamesArray),t.twistie.classList.add("collapsible"),t.twistie.classList.toggle("collapsed",e.collapsed)):t.twistie.classList.remove("collapsible","collapsed"),e.collapsible?t.container.setAttribute("aria-expanded",String(!e.collapsed)):t.container.removeAttribute("aria-expanded")}renderIndentGuides(e,t){if(TV(t.indent),t.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const n=new qP,i=this.modelProvider();let r=e;for(;;){const e=i.getNodeLocation(r),o=i.getParentNodeLocation(e);if(!o)break;const s=i.getNode(o),a=wW(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(s)&&a.classList.add("active"),0===t.indent.childElementCount?t.indent.appendChild(a):t.indent.insertBefore(a,t.indent.firstElementChild),this.renderedIndentGuides.add(s,a),n.add($P((()=>this.renderedIndentGuides.delete(s,a)))),r=s}t.indentGuidesDisposable=n}_onDidChangeActiveNodes(e){if(!this.shouldRenderIndentGuides)return;const t=new Set,n=this.modelProvider();e.forEach((e=>{const i=n.getNodeLocation(e);try{const r=n.getParentNodeLocation(i);e.collapsible&&e.children.length>0&&!e.collapsed?t.add(e):r&&t.add(n.getNode(r))}catch(r){}})),this.activeIndentNodes.forEach((e=>{t.has(e)||this.renderedIndentGuides.forEach(e,(e=>e.classList.remove("active")))})),t.forEach((e=>{this.activeIndentNodes.has(e)||this.renderedIndentGuides.forEach(e,(e=>e.classList.add("active")))})),this.activeIndentNodes=t}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),HP(this.disposables)}}zse.DefaultIndent=8;class Vse{constructor(e,t,n){this.tree=e,this.keyboardNavigationLabelProvider=t,this._filter=n,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new qP,e.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(e){this._pattern=e,this._lowercasePattern=e.toLowerCase()}filter(e,t){if(this._filter){const n=this._filter.filter(e,t);if(this.tree.options.simpleKeyboardNavigation)return n;let i;if(i="boolean"==typeof n?n?1:0:kse(n)?Sse(n.visibility):n,0===i)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:Ore.Default,visibility:!0};const n=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),i=Array.isArray(n)?n:[n];for(const r of i){const e=r&&r.toString();if(void 0===e)return{data:Ore.Default,visibility:!0};const t=Rre(this._pattern,this._lowercasePattern,0,e,e.toLowerCase(),0,!0);if(t)return this._matchCount++,1===i.length?{data:t,visibility:!0}:{data:{label:e,score:t},visibility:!0}}return this.tree.options.filterOnType?2:{data:Ore.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){HP(this.disposables)}}class Wse{constructor(e,t,n,i,r){this.tree=e,this.view=n,this.filter=i,this.keyboardNavigationDelegate=r,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new nB,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new nB,this.enabledDisposables=new qP,this.disposables=new qP,this.domNode=wW(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,this.disposables.add(AV(this.domNode,"dragstart",(()=>this.onDragStart()))),this.messageDomNode=gW(n.getHTMLElement(),wW(".monaco-list-type-filter-message")),this.labelDomNode=gW(this.domNode,wW("span.label"));const o=gW(this.domNode,wW(".controls"));this._filterOnType=!!e.options.filterOnType,this.filterOnTypeDomNode=gW(o,wW("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),this.disposables.add(AV(this.filterOnTypeDomNode,"input",(()=>this.onDidChangeFilterOnType()))),this.clearDomNode=gW(o,wW("button.clear"+Mse.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=DR(0,"Clear"),this.keyboardNavigationEventFilter=e.options.keyboardNavigationEventFilter,t.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(e.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(e){e.simpleKeyboardNavigation?this.disable():this.enable(),void 0!==e.filterOnType&&(this._filterOnType=!!e.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),void 0!==e.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(this._enabled)return;const e=this.enabledDisposables.add(new lte(this.view.getHTMLElement(),"keydown")),t=eB.chain(e.event).filter((e=>!Voe(e.target)||e.target===this.filterOnTypeDomNode)).filter((e=>"Dead"!==e.key&&!/^Media/.test(e.key))).map((e=>new iV(e))).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter((()=>this.automaticKeyboardNavigation||this.triggered)).filter((e=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(e)&&!(18===e.keyCode||16===e.keyCode||15===e.keyCode||17===e.keyCode)||(this.pattern.length>0||this.triggered)&&(9===e.keyCode||1===e.keyCode)&&!e.altKey&&!e.ctrlKey&&!e.metaKey||1===e.keyCode&&(WR?e.altKey&&!e.metaKey:e.ctrlKey)&&!e.shiftKey)).forEach((e=>{e.stopPropagation(),e.preventDefault()})).event,n=this.enabledDisposables.add(new lte(this.clearDomNode,"click"));eB.chain(eB.any(t,n.event)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(e){"string"==typeof e?this.onInput(e):e instanceof MouseEvent||9===e.keyCode||1===e.keyCode&&(WR?e.altKey:e.ctrlKey)?this.onInput(""):1===e.keyCode?this.onInput(0===this.pattern.length?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+e.browserEvent.key)}onInput(e){const t=this.view.getHTMLElement();e&&!this.domNode.parentElement?t.append(this.domNode):!e&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=e,this._onDidChangePattern.fire(e),this.filter.pattern=e,this.tree.refilter(),e&&this.tree.focusNext(0,!0,void 0,(e=>!Ore.isDefault(e.filterData)));const n=this.tree.getFocus();if(n.length>0){const e=n[0];null===this.tree.getRelativeTop(e)&&this.tree.reveal(e,.5)}this.render(),e||(this.triggered=!1)}onDragStart(){const e=this.view.getHTMLElement(),{left:t}=qV(e),n=e.clientWidth,i=n/2,r=this.domNode.clientWidth,o=new qP;let s=this.positionClassName;const a=()=>{switch(s){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=n-r-6+"px"}},l=()=>{this.positionClassName=s,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",HP(o)};a(),this.domNode.classList.remove(s),this.domNode.classList.add("dragging"),o.add($P((()=>this.domNode.classList.remove("dragging")))),o.add(AV(document,"dragover",(e=>(e=>{e.preventDefault();const n=e.clientX-t;e.dataTransfer&&(e.dataTransfer.dropEffect="none"),s=n<i?"nw":"ne",a()})(e)))),o.add(AV(this.domNode,"dragend",(()=>l()))),kte.CurrentDragAndDropData=new xte("vscode-ui"),o.add($P((()=>kte.CurrentDragAndDropData=void 0)))}onDidSpliceModel(){this._enabled&&0!==this.pattern.length&&(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...Nse.classNamesArray),this.filterOnTypeDomNode.classList.add(...Tse.classNamesArray),this.filterOnTypeDomNode.title=DR(0,"Disable Filter on Type")):(this.filterOnTypeDomNode.classList.remove(...Tse.classNamesArray),this.filterOnTypeDomNode.classList.add(...Nse.classNamesArray),this.filterOnTypeDomNode.title=DR(0,"Enable Filter on Type"))}render(){const e=this.filter.totalCount>0&&0===this.filter.matchCount;this.pattern&&this.tree.options.filterOnType&&e?(this.messageDomNode.textContent=DR(0,"No elements found"),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",e),this.domNode.title=DR(0,"Matched {0} out of {1} elements",this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?""+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(e){return!(this.enabled&&this.pattern&&!this.filterOnType)||(this.filter.totalCount>0&&this.filter.matchCount<=1||!Ore.isDefault(e.filterData))}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),HP(this.disposables)}}function Hse(e){let t=vse.Unknown;return eW(e.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?t=vse.Twistie:eW(e.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(t=vse.Element),{browserEvent:e.browserEvent,element:e.element?e.element.element:null,target:t}}function Use(e,t){t(e),e.children.forEach((e=>Use(e,t)))}class $se{constructor(e,t){this.getFirstViewElementWithTrait=e,this.identityProvider=t,this.nodes=[],this._onDidChange=new nB,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(e,t){var n;!(null===(n=t)||void 0===n?void 0:n.__forceEvent)&&bY(this.nodes,e)||this._set(e,!1,t)}_set(e,t,n){if(this.nodes=[...e],this.elements=void 0,this._nodeSet=void 0,!t){const e=this;this._onDidChange.fire({get elements(){return e.get()},browserEvent:n})}}get(){return this.elements||(this.elements=this.nodes.map((e=>e.element))),[...this.elements]}getNodes(){return this.nodes}has(e){return this.nodeSet.has(e)}onDidModelSplice({insertedNodes:e,deletedNodes:t}){if(!this.identityProvider){const e=this.createNodeSet(),n=t=>e.delete(t);return t.forEach((e=>Use(e,n))),void this.set([...e.values()])}const n=new Set,i=e=>n.add(this.identityProvider.getId(e.element).toString());t.forEach((e=>Use(e,i)));const r=new Map,o=e=>r.set(this.identityProvider.getId(e.element).toString(),e);e.forEach((e=>Use(e,o)));const s=[];for(const a of this.nodes){const e=this.identityProvider.getId(a.element).toString();if(n.has(e)){const t=r.get(e);t&&s.push(t)}else s.push(a)}if(this.nodes.length>0&&0===s.length){const e=this.getFirstViewElementWithTrait();e&&s.push(e)}this._set(s,!0)}createNodeSet(){const e=new Set;for(const t of this.nodes)e.add(t);return e}}class qse extends Xoe{constructor(e,t){super(e),this.tree=t}onViewPointer(e){if(Voe(e.browserEvent.target)||Woe(e.browserEvent.target))return;const t=e.element;if(!t)return super.onViewPointer(e);if(this.isSelectionRangeChangeEvent(e)||this.isSelectionSingleChangeEvent(e))return super.onViewPointer(e);const n=e.browserEvent.target,i=n.classList.contains("monaco-tl-twistie")||n.classList.contains("monaco-icon-label")&&n.classList.contains("folder-icon")&&e.browserEvent.offsetX<16;let r=!1;if(r="function"==typeof this.tree.expandOnlyOnTwistieClick?this.tree.expandOnlyOnTwistieClick(t.element):!!this.tree.expandOnlyOnTwistieClick,r&&!i&&2!==e.browserEvent.detail)return super.onViewPointer(e);if(!this.tree.expandOnDoubleClick&&2===e.browserEvent.detail)return super.onViewPointer(e);if(t.collapsible){const n=this.tree.model,o=n.getNodeLocation(t),s=e.browserEvent.altKey;if(this.tree.setFocus([o]),n.setCollapsed(o,void 0,s),r&&i)return}super.onViewPointer(e)}onDoubleClick(e){!e.browserEvent.target.classList.contains("monaco-tl-twistie")&&this.tree.expandOnDoubleClick&&super.onDoubleClick(e)}}class Kse extends ose{constructor(e,t,n,i,r,o,s,a){super(e,t,n,i,a),this.focusTrait=r,this.selectionTrait=o,this.anchorTrait=s}createMouseController(e){return new qse(this,e.tree)}splice(e,t,n=[]){if(super.splice(e,t,n),0===n.length)return;const i=[],r=[];let o;n.forEach(((t,n)=>{this.focusTrait.has(t)&&i.push(e+n),this.selectionTrait.has(t)&&r.push(e+n),this.anchorTrait.has(t)&&(o=e+n)})),i.length>0&&super.setFocus(wY([...super.getFocus(),...i])),r.length>0&&super.setSelection(wY([...super.getSelection(),...r])),"number"==typeof o&&super.setAnchor(o)}setFocus(e,t,n=!1){super.setFocus(e,t),n||this.focusTrait.set(e.map((e=>this.element(e))),t)}setSelection(e,t,n=!1){super.setSelection(e,t),n||this.selectionTrait.set(e.map((e=>this.element(e))),t)}setAnchor(e,t=!1){super.setAnchor(e),t||(void 0===e?this.anchorTrait.set([]):this.anchorTrait.set([this.element(e)]))}}class Yse{constructor(e,t,n,i,r={}){this._options=r,this.eventBufferer=new oB,this.disposables=new qP,this._onWillRefilter=new nB,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new nB;const o=new Bse(n),s=new sB,a=new sB,l=new jse(a.event);this.renderers=i.map((e=>new zse(e,(()=>this.model),s.event,l,r)));for(let f of this.renderers)this.disposables.add(f);let c;var u,h;r.keyboardNavigationLabelProvider&&(c=new Vse(this,r.keyboardNavigationLabelProvider,r.filter),r=Object.assign(Object.assign({},r),{filter:c}),this.disposables.add(c)),this.focus=new $se((()=>this.view.getFocusedElements()[0]),r.identityProvider),this.selection=new $se((()=>this.view.getSelectedElements()[0]),r.identityProvider),this.anchor=new $se((()=>this.view.getAnchorElement()),r.identityProvider),this.view=new Kse(e,t,o,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},(u=()=>this.model,(h=r)&&Object.assign(Object.assign({},h),{identityProvider:h.identityProvider&&{getId:e=>h.identityProvider.getId(e.element)},dnd:h.dnd&&new Pse(u,h.dnd),multipleSelectionController:h.multipleSelectionController&&{isSelectionSingleChangeEvent:e=>h.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},e),{element:e.element})),isSelectionRangeChangeEvent:e=>h.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},e),{element:e.element}))},accessibilityProvider:h.accessibilityProvider&&Object.assign(Object.assign({},h.accessibilityProvider),{getSetSize(e){const t=u(),n=t.getNodeLocation(e),i=t.getParentNodeLocation(n);return t.getNode(i).visibleChildrenCount},getPosInSet:e=>e.visibleChildIndex+1,isChecked:h.accessibilityProvider&&h.accessibilityProvider.isChecked?e=>h.accessibilityProvider.isChecked(e.element):void 0,getRole:h.accessibilityProvider&&h.accessibilityProvider.getRole?e=>h.accessibilityProvider.getRole(e.element):()=>"treeitem",getAriaLabel:e=>h.accessibilityProvider.getAriaLabel(e.element),getWidgetAriaLabel:()=>h.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:h.accessibilityProvider&&h.accessibilityProvider.getWidgetRole?()=>h.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:h.accessibilityProvider&&h.accessibilityProvider.getAriaLevel?e=>h.accessibilityProvider.getAriaLevel(e.element):e=>e.depth,getActiveDescendantId:h.accessibilityProvider.getActiveDescendantId&&(e=>h.accessibilityProvider.getActiveDescendantId(e.element))}),keyboardNavigationLabelProvider:h.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},h.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:e=>h.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}),enableKeyboardNavigation:h.simpleKeyboardNavigation}))),{tree:this})),this.model=this.createModel(e,this.view,r),s.input=this.model.onDidChangeCollapseState;const d=eB.forEach(this.model.onDidSplice,(e=>{this.eventBufferer.bufferEvents((()=>{this.focus.onDidModelSplice(e),this.selection.onDidModelSplice(e)}))}));if(d((()=>null),null,this.disposables),a.input=eB.chain(eB.any(d,this.focus.onDidChange,this.selection.onDidChange)).debounce((()=>null),0).map((()=>{const e=new Set;for(const t of this.focus.getNodes())e.add(t);for(const t of this.selection.getNodes())e.add(t);return[...e.values()]})).event,!1!==r.keyboardSupport){const e=eB.chain(this.view.onKeyDown).filter((e=>!Voe(e.target))).map((e=>new iV(e)));e.filter((e=>15===e.keyCode)).on(this.onLeftArrow,this,this.disposables),e.filter((e=>17===e.keyCode)).on(this.onRightArrow,this,this.disposables),e.filter((e=>10===e.keyCode)).on(this.onSpace,this,this.disposables)}if(r.keyboardNavigationLabelProvider){const e=r.keyboardNavigationDelegate||Uoe;this.typeFilterController=new Wse(this,this.model,this.view,c,e),this.focusNavigationFilter=e=>this.typeFilterController.shouldAllowFocus(e),this.disposables.add(this.typeFilterController)}this.styleElement=oW(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Ise.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return eB.map(this.view.onMouseDblClick,Hse)}get onPointer(){return eB.map(this.view.onPointer,Hse)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnDoubleClick(){return void 0===this._options.expandOnDoubleClick||this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return void 0===this._options.expandOnlyOnTwistieClick||this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(e={}){this._options=Object.assign(Object.assign({},this._options),e);for(const t of this.renderers)t.updateOptions(e);this.view.updateOptions(Object.assign(Object.assign({},this._options),{enableKeyboardNavigation:this._options.simpleKeyboardNavigation})),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Ise.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(e){this.view.scrollTop=e}domFocus(){this.view.domFocus()}layout(e,t){this.view.layout(e,t)}style(e){const t=`.${this.view.domId}`,n=[];e.treeIndentGuidesStroke&&(n.push(`.monaco-list${t}:hover .monaco-tl-indent > .indent-guide, .monaco-list${t}.always .monaco-tl-indent > .indent-guide  { border-color: ${e.treeIndentGuidesStroke.transparent(.4)}; }`),n.push(`.monaco-list${t} .monaco-tl-indent > .indent-guide.active { border-color: ${e.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=n.join("\n"),this.view.style(e)}collapse(e,t=!1){return this.model.setCollapsed(e,!0,t)}expand(e,t=!1){return this.model.setCollapsed(e,!1,t)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(e,t){const n=e.map((e=>this.model.getNode(e)));this.selection.set(n,t);const i=e.map((e=>this.model.getListIndex(e))).filter((e=>e>-1));this.view.setSelection(i,t,!0)}getSelection(){return this.selection.get()}setFocus(e,t){const n=e.map((e=>this.model.getNode(e)));this.focus.set(n,t);const i=e.map((e=>this.model.getListIndex(e))).filter((e=>e>-1));this.view.setFocus(i,t,!0)}focusNext(e=1,t=!1,n,i=this.focusNavigationFilter){this.view.focusNext(e,t,n,i)}getFocus(){return this.focus.get()}reveal(e,t){this.model.expandTo(e);const n=this.model.getListIndex(e);-1!==n&&this.view.reveal(n,t)}getRelativeTop(e){const t=this.model.getListIndex(e);return-1===t?null:this.view.getRelativeTop(t)}onLeftArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const n=t[0],i=this.model.getNodeLocation(n);if(!this.model.setCollapsed(i,!0)){const e=this.model.getParentNodeLocation(i);if(!e)return;const t=this.model.getListIndex(e);this.view.reveal(t),this.view.setFocus([t])}}onRightArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const n=t[0],i=this.model.getNodeLocation(n);if(!this.model.setCollapsed(i,!1)){if(!n.children.some((e=>e.visible)))return;const[e]=this.view.getFocus(),t=e+1;this.view.reveal(t),this.view.setFocus([t])}}onSpace(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const n=t[0],i=this.model.getNodeLocation(n),r=e.browserEvent.altKey;this.model.setCollapsed(i,void 0,r)}dispose(){HP(this.disposables),this.view.dispose()}}class Gse{constructor(e,t,n={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new Ese(e,t,null,n),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,n.sorter&&(this.sorter={compare:(e,t)=>n.sorter.compare(e.element,t.element)}),this.identityProvider=n.identityProvider}setChildren(e,t=VP.empty(),n={}){const i=this.getElementLocation(e);this._setChildren(i,this.preserveCollapseState(t),n)}_setChildren(e,t=VP.empty(),n){const i=new Set,r=new Set;this.model.splice([...e,0],Number.MAX_VALUE,t,Object.assign(Object.assign({},n),{onDidCreateNode:e=>{var t;if(null===e.element)return;const o=e;if(i.add(o.element),this.nodes.set(o.element,o),this.identityProvider){const e=this.identityProvider.getId(o.element).toString();r.add(e),this.nodesByIdentity.set(e,o)}null===(t=n.onDidCreateNode)||void 0===t||t.call(n,o)},onDidDeleteNode:e=>{var t;if(null===e.element)return;const o=e;if(i.has(o.element)||this.nodes.delete(o.element),this.identityProvider){const e=this.identityProvider.getId(o.element).toString();r.has(e)||this.nodesByIdentity.delete(e)}null===(t=n.onDidDeleteNode)||void 0===t||t.call(n,o)}}))}preserveCollapseState(e=VP.empty()){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),VP.map(e,(e=>{let t=this.nodes.get(e.element);if(!t&&this.identityProvider){const n=this.identityProvider.getId(e.element).toString();t=this.nodesByIdentity.get(n)}if(!t)return Object.assign(Object.assign({},e),{children:this.preserveCollapseState(e.children)});const n="boolean"==typeof e.collapsible?e.collapsible:t.collapsible,i=void 0!==e.collapsed?e.collapsed:t.collapsed;return Object.assign(Object.assign({},e),{collapsible:n,collapsed:i,children:this.preserveCollapseState(e.children)})}))}rerender(e){const t=this.getElementLocation(e);this.model.rerender(t)}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getElementLocation(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getElementLocation(e);return this.model.getListRenderCount(t)}isCollapsible(e){const t=this.getElementLocation(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const n=this.getElementLocation(e);return this.model.setCollapsible(n,t)}isCollapsed(e){const t=this.getElementLocation(e);return this.model.isCollapsed(t)}setCollapsed(e,t,n){const i=this.getElementLocation(e);return this.model.setCollapsed(i,t,n)}expandTo(e){const t=this.getElementLocation(e);this.model.expandTo(t)}refilter(){this.model.refilter()}getNode(e=null){if(null===e)return this.model.getNode(this.model.rootRef);const t=this.nodes.get(e);if(!t)throw new Cse(this.user,`Tree element not found: ${e}`);return t}getNodeLocation(e){return e.element}getParentNodeLocation(e){if(null===e)throw new Cse(this.user,"Invalid getParentNodeLocation call");const t=this.nodes.get(e);if(!t)throw new Cse(this.user,`Tree element not found: ${e}`);const n=this.model.getNodeLocation(t),i=this.model.getParentNodeLocation(n);return this.model.getNode(i).element}getElementLocation(e){if(null===e)return[];const t=this.nodes.get(e);if(!t)throw new Cse(this.user,`Tree element not found: ${e}`);return this.model.getNodeLocation(t)}}function Xse(e){return{element:{elements:[e.element],incompressible:e.incompressible||!1},children:VP.map(VP.from(e.children),Xse),collapsible:e.collapsible,collapsed:e.collapsed}}function Zse(e){const t=[e.element],n=e.incompressible||!1;let i,r;for(;[r,i]=VP.consume(VP.from(e.children),2),1===r.length&&!r[0].incompressible;)e=r[0],t.push(e.element);return{element:{elements:t,incompressible:n},children:VP.map(VP.concat(r,i),Zse),collapsible:e.collapsible,collapsed:e.collapsed}}function Jse(e,t=0){let n;return n=t<e.element.elements.length-1?[Jse(e,t+1)]:VP.map(VP.from(e.children),(e=>Jse(e,0))),0===t&&e.element.incompressible?{element:e.element.elements[t],children:n,incompressible:!0,collapsible:e.collapsible,collapsed:e.collapsed}:{element:e.element.elements[t],children:n,collapsible:e.collapsible,collapsed:e.collapsed}}function Qse(e){return Jse(e,0)}function eae(e,t,n){return e.element===t?Object.assign(Object.assign({},e),{children:n}):Object.assign(Object.assign({},e),{children:VP.map(VP.from(e.children),(e=>eae(e,t,n)))})}class tae{constructor(e,t,n={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.model=new Gse(e,t,n),this.enabled=void 0===n.compressionEnabled||n.compressionEnabled,this.identityProvider=n.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(e,t=VP.empty(),n){const i=n.diffIdentityProvider&&(r=n.diffIdentityProvider,{getId:e=>e.elements.map((e=>r.getId(e).toString())).join("\0")});var r;if(null===e){const e=VP.map(t,this.enabled?Zse:Xse);return void this._setChildren(null,e,{diffIdentityProvider:i,diffDepth:1/0})}const o=this.nodes.get(e);if(!o)throw new Error("Unknown compressed tree node");const s=this.model.getNode(o),a=this.model.getParentNodeLocation(o),l=this.model.getNode(a),c=eae(Qse(s),e,t),u=(this.enabled?Zse:Xse)(c),h=l.children.map((e=>e===s?u:e));this._setChildren(l.element,h,{diffIdentityProvider:i,diffDepth:s.depth-l.depth})}setCompressionEnabled(e){if(e===this.enabled)return;this.enabled=e;const t=this.model.getNode().children,n=VP.map(t,Qse),i=VP.map(n,e?Zse:Xse);this._setChildren(null,i,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(e,t,n){const i=new Set;this.model.setChildren(e,t,Object.assign(Object.assign({},n),{onDidCreateNode:e=>{for(const t of e.element.elements)i.add(t),this.nodes.set(t,e.element)},onDidDeleteNode:e=>{for(const t of e.element.elements)i.has(t)||this.nodes.delete(t)}}))}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getCompressedNode(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getCompressedNode(e);return this.model.getListRenderCount(t)}getNode(e){if(void 0===e)return this.model.getNode();const t=this.getCompressedNode(e);return this.model.getNode(t)}getNodeLocation(e){const t=this.model.getNodeLocation(e);return null===t?null:t.elements[t.elements.length-1]}getParentNodeLocation(e){const t=this.getCompressedNode(e),n=this.model.getParentNodeLocation(t);return null===n?null:n.elements[n.elements.length-1]}isCollapsible(e){const t=this.getCompressedNode(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const n=this.getCompressedNode(e);return this.model.setCollapsible(n,t)}isCollapsed(e){const t=this.getCompressedNode(e);return this.model.isCollapsed(t)}setCollapsed(e,t,n){const i=this.getCompressedNode(e);return this.model.setCollapsed(i,t,n)}expandTo(e){const t=this.getCompressedNode(e);this.model.expandTo(t)}rerender(e){const t=this.getCompressedNode(e);this.model.rerender(t)}refilter(){this.model.refilter()}getCompressedNode(e){if(null===e)return null;const t=this.nodes.get(e);if(!t)throw new Cse(this.user,`Tree element not found: ${e}`);return t}}const nae=e=>e[e.length-1];class iae{constructor(e,t){this.unwrapper=e,this.node=t}get element(){return null===this.node.element?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map((e=>new iae(this.unwrapper,e)))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class rae{constructor(e,t,n={}){this.rootRef=null,this.elementMapper=n.elementMapper||nae;const i=e=>this.elementMapper(e.elements);this.nodeMapper=new xse((e=>new iae(i,e))),this.model=new tae(e,function(e,t){return{splice(n,i,r){t.splice(n,i,r.map((t=>e.map(t))))},updateElementHeight(e,n){t.updateElementHeight(e,n)}}}(this.nodeMapper,t),function(e,t){return Object.assign(Object.assign({},t),{identityProvider:t.identityProvider&&{getId:n=>t.identityProvider.getId(e(n))},sorter:t.sorter&&{compare:(e,n)=>t.sorter.compare(e.elements[0],n.elements[0])},filter:t.filter&&{filter:(n,i)=>t.filter.filter(e(n),i)}})}(i,n))}get onDidSplice(){return eB.map(this.model.onDidSplice,(({insertedNodes:e,deletedNodes:t})=>({insertedNodes:e.map((e=>this.nodeMapper.map(e))),deletedNodes:t.map((e=>this.nodeMapper.map(e)))})))}get onDidChangeCollapseState(){return eB.map(this.model.onDidChangeCollapseState,(({node:e,deep:t})=>({node:this.nodeMapper.map(e),deep:t})))}get onDidChangeRenderNodeCount(){return eB.map(this.model.onDidChangeRenderNodeCount,(e=>this.nodeMapper.map(e)))}setChildren(e,t=VP.empty(),n={}){this.model.setChildren(e,t,n)}setCompressionEnabled(e){this.model.setCompressionEnabled(e)}has(e){return this.model.has(e)}getListIndex(e){return this.model.getListIndex(e)}getListRenderCount(e){return this.model.getListRenderCount(e)}getNode(e){return this.nodeMapper.map(this.model.getNode(e))}getNodeLocation(e){return e.element}getParentNodeLocation(e){return this.model.getParentNodeLocation(e)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}setCollapsed(e,t,n){return this.model.setCollapsed(e,t,n)}expandTo(e){return this.model.expandTo(e)}rerender(e){return this.model.rerender(e)}refilter(){return this.model.refilter()}getCompressedTreeNode(e=null){return this.model.getNode(e)}}var oae=globalThis&&globalThis.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};class sae extends Yse{constructor(e,t,n,i,r={}){super(e,t,n,i,r)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(e,t=VP.empty(),n){this.model.setChildren(e,t,n)}rerender(e){void 0!==e?this.model.rerender(e):this.view.rerender()}hasElement(e){return this.model.has(e)}createModel(e,t,n){return new Gse(e,t,n)}}class aae{constructor(e,t){this._compressedTreeNodeProvider=e,this.renderer=t,this.templateId=t.templateId,t.onDidChangeTwistieState&&(this.onDidChangeTwistieState=t.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(e){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(e)}}renderElement(e,t,n,i){const r=this.compressedTreeNodeProvider.getCompressedTreeNode(e.element);1===r.element.elements.length?(n.compressedTreeNode=void 0,this.renderer.renderElement(e,t,n.data,i)):(n.compressedTreeNode=r,this.renderer.renderCompressedElements(r,t,n.data,i))}disposeElement(e,t,n,i){n.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(n.compressedTreeNode,t,n.data,i):this.renderer.disposeElement&&this.renderer.disposeElement(e,t,n.data,i)}disposeTemplate(e){this.renderer.disposeTemplate(e.data)}renderTwistie(e,t){return!!this.renderer.renderTwistie&&this.renderer.renderTwistie(e,t)}}oae([eQ],aae.prototype,"compressedTreeNodeProvider",null);class lae extends sae{constructor(e,t,n,i,r={}){const o=()=>this;super(e,t,n,i.map((e=>new aae(o,e))),function(e,t){return t&&Object.assign(Object.assign({},t),{keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(n){let i;try{i=e().getCompressedTreeNode(n)}catch(r){return t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(n)}return 1===i.element.elements.length?t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(n):t.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(i.element.elements)}}})}(o,r))}setChildren(e,t=VP.empty(),n){this.model.setChildren(e,t,n)}createModel(e,t,n){return new rae(e,t,n)}updateOptions(e={}){super.updateOptions(e),void 0!==e.compressionEnabled&&this.model.setCompressionEnabled(e.compressionEnabled)}getCompressedTreeNode(e=null){return this.model.getCompressedTreeNode(e)}}var cae=globalThis&&globalThis.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(nR){o(nR)}}function a(e){try{l(i.throw(e))}catch(nR){o(nR)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function uae(e){return Object.assign(Object.assign({},e),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function hae(e,t){return!!t.parent&&(t.parent===e||hae(e,t.parent))}class dae{constructor(e){this.node=e}get element(){return this.node.element.element}get children(){return this.node.children.map((e=>new dae(e)))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class fae{constructor(e,t,n){this.renderer=e,this.nodeMapper=t,this.onDidChangeTwistieState=n,this.renderedNodes=new Map,this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,n,i){this.renderer.renderElement(this.nodeMapper.map(e),t,n.templateData,i)}renderTwistie(e,t){return e.slow?(t.classList.add(...Ase.classNamesArray),!0):(t.classList.remove(...Ase.classNamesArray),!1)}disposeElement(e,t,n,i){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(e),t,n.templateData,i)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear()}}function pae(e){return{browserEvent:e.browserEvent,elements:e.elements.map((e=>e.element))}}function gae(e){return{browserEvent:e.browserEvent,element:e.element&&e.element.element,target:e.target}}class mae extends Loe{constructor(e){super(e.elements.map((e=>e.element))),this.data=e}}function vae(e){return e instanceof Loe?new mae(e):e}class yae{constructor(e){this.dnd=e}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map((e=>e.element)),t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(vae(e),t)}onDragOver(e,t,n,i,r=!0){return this.dnd.onDragOver(vae(e),t&&t.element,n,i)}drop(e,t,n,i){this.dnd.drop(vae(e),t&&t.element,n,i)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}}function bae(e){return e&&Object.assign(Object.assign({},e),{collapseByDefault:!0,identityProvider:e.identityProvider&&{getId:t=>e.identityProvider.getId(t.element)},dnd:e.dnd&&new yae(e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent:t=>e.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},t),{element:t.element})),isSelectionRangeChangeEvent:t=>e.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},t),{element:t.element}))},accessibilityProvider:e.accessibilityProvider&&Object.assign(Object.assign({},e.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:e.accessibilityProvider.getRole?t=>e.accessibilityProvider.getRole(t.element):()=>"treeitem",isChecked:e.accessibilityProvider.isChecked?t=>{var n;return!!(null===(n=e.accessibilityProvider)||void 0===n?void 0:n.isChecked(t.element))}:void 0,getAriaLabel:t=>e.accessibilityProvider.getAriaLabel(t.element),getWidgetAriaLabel:()=>e.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:e.accessibilityProvider.getWidgetRole?()=>e.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:e.accessibilityProvider.getAriaLevel&&(t=>e.accessibilityProvider.getAriaLevel(t.element)),getActiveDescendantId:e.accessibilityProvider.getActiveDescendantId&&(t=>e.accessibilityProvider.getActiveDescendantId(t.element))}),filter:e.filter&&{filter:(t,n)=>e.filter.filter(t.element,n)},keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},e.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:t=>e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}),sorter:void 0,expandOnlyOnTwistieClick:void 0===e.expandOnlyOnTwistieClick?void 0:"function"!=typeof e.expandOnlyOnTwistieClick?e.expandOnlyOnTwistieClick:t=>e.expandOnlyOnTwistieClick(t.element),additionalScrollHeight:e.additionalScrollHeight})}function _ae(e,t){t(e),e.children.forEach((e=>_ae(e,t)))}class wae{constructor(e,t,n,i,r,o={}){this.user=e,this.dataSource=r,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new nB,this._onDidChangeNodeSlowState=new nB,this.nodeMapper=new xse((e=>new dae(e))),this.disposables=new qP,this.identityProvider=o.identityProvider,this.autoExpandSingleChildren=void 0!==o.autoExpandSingleChildren&&o.autoExpandSingleChildren,this.sorter=o.sorter,this.collapseByDefault=o.collapseByDefault,this.tree=this.createTree(e,t,n,i,o),this.root=uae({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return eB.map(this.tree.onDidChangeFocus,pae)}get onDidChangeSelection(){return eB.map(this.tree.onDidChangeSelection,pae)}get onMouseDblClick(){return eB.map(this.tree.onMouseDblClick,gae)}get onPointer(){return eB.map(this.tree.onPointer,gae)}get onDidFocus(){return this.tree.onDidFocus}get onDidDispose(){return this.tree.onDidDispose}createTree(e,t,n,i,r){const o=new Bse(n),s=i.map((e=>new fae(e,this.nodeMapper,this._onDidChangeNodeSlowState.event))),a=bae(r)||{};return new sae(e,t,o,s,a)}updateOptions(e={}){this.tree.updateOptions(e)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(e){this.tree.scrollTop=e}domFocus(){this.tree.domFocus()}layout(e,t){this.tree.layout(e,t)}style(e){this.tree.style(e)}getInput(){return this.root.element}setInput(e,t){return cae(this,void 0,void 0,(function*(){this.refreshPromises.forEach((e=>e.cancel())),this.refreshPromises.clear(),this.root.element=e;const n=t&&{viewState:t,focus:[],selection:[]};yield this._updateChildren(e,!0,!1,n),n&&(this.tree.setFocus(n.focus),this.tree.setSelection(n.selection)),t&&"number"==typeof t.scrollTop&&(this.scrollTop=t.scrollTop)}))}_updateChildren(e=this.root.element,t=!0,n=!1,i,r){return cae(this,void 0,void 0,(function*(){if(void 0===this.root.element)throw new Cse(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield eB.toPromise(this._onDidRender.event));const o=this.getDataNode(e);if(yield this.refreshAndRenderNode(o,t,i,r),n)try{this.tree.rerender(o)}catch(s){}}))}rerender(e){if(void 0===e||e===this.root.element)return void this.tree.rerender();const t=this.getDataNode(e);this.tree.rerender(t)}collapse(e,t=!1){const n=this.getDataNode(e);return this.tree.collapse(n===this.root?null:n,t)}expand(e,t=!1){return cae(this,void 0,void 0,(function*(){if(void 0===this.root.element)throw new Cse(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield eB.toPromise(this._onDidRender.event));const n=this.getDataNode(e);if(this.tree.hasElement(n)&&!this.tree.isCollapsible(n))return!1;if(n.refreshPromise&&(yield this.root.refreshPromise,yield eB.toPromise(this._onDidRender.event)),n!==this.root&&!n.refreshPromise&&!this.tree.isCollapsed(n))return!1;const i=this.tree.expand(n===this.root?null:n,t);return n.refreshPromise&&(yield this.root.refreshPromise,yield eB.toPromise(this._onDidRender.event)),i}))}setSelection(e,t){const n=e.map((e=>this.getDataNode(e)));this.tree.setSelection(n,t)}getSelection(){return this.tree.getSelection().map((e=>e.element))}setFocus(e,t){const n=e.map((e=>this.getDataNode(e)));this.tree.setFocus(n,t)}getFocus(){return this.tree.getFocus().map((e=>e.element))}reveal(e,t){this.tree.reveal(this.getDataNode(e),t)}getDataNode(e){const t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new Cse(this.user,`Data tree node not found: ${e}`);return t}refreshAndRenderNode(e,t,n,i){return cae(this,void 0,void 0,(function*(){yield this.refreshNode(e,t,n),this.render(e,n,i)}))}refreshNode(e,t,n){return cae(this,void 0,void 0,(function*(){let i;return this.subTreeRefreshPromises.forEach(((r,o)=>{!i&&function(e,t){return e===t||hae(e,t)||hae(t,e)}(o,e)&&(i=r.then((()=>this.refreshNode(e,t,n))))})),i||this.doRefreshSubTree(e,t,n)}))}doRefreshSubTree(e,t,n){return cae(this,void 0,void 0,(function*(){let i;e.refreshPromise=new Promise((e=>i=e)),this.subTreeRefreshPromises.set(e,e.refreshPromise),e.refreshPromise.finally((()=>{e.refreshPromise=void 0,this.subTreeRefreshPromises.delete(e)}));try{const r=yield this.doRefreshNode(e,t,n);e.stale=!1,yield CV.settled(r.map((e=>this.doRefreshSubTree(e,t,n))))}finally{i()}}))}doRefreshNode(e,t,n){return cae(this,void 0,void 0,(function*(){let i;if(e.hasChildren=!!this.dataSource.hasChildren(e.element),e.hasChildren){const t=gV(800);t.then((()=>{e.slow=!0,this._onDidChangeNodeSlowState.fire(e)}),(e=>null)),i=this.doGetChildren(e).finally((()=>t.cancel()))}else i=Promise.resolve(VP.empty());try{const r=yield i;return this.setChildren(e,r,t,n)}catch(r){if(e!==this.root&&this.tree.hasElement(e)&&this.tree.collapse(e),RP(r))return[];throw r}finally{e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e))}}))}doGetChildren(e){let t=this.refreshPromises.get(e);return t||(t=hV((()=>cae(this,void 0,void 0,(function*(){const t=yield this.dataSource.getChildren(e.element);return this.processChildren(t)})))),this.refreshPromises.set(e,t),t.finally((()=>{this.refreshPromises.delete(e)})))}_onDidChangeCollapseState({node:e,deep:t}){null!==e.element&&!e.collapsed&&e.element.stale&&(t?this.collapse(e.element.element):this.refreshAndRenderNode(e.element,!1).catch(IP))}setChildren(e,t,n,i){const r=[...t];if(0===e.children.length&&0===r.length)return[];const o=new Map,s=new Map;for(const c of e.children)if(o.set(c.element,c),this.identityProvider){const e=this.tree.isCollapsed(c);s.set(c.id,{node:c,collapsed:e})}const a=[],l=r.map((t=>{const r=!!this.dataSource.hasChildren(t);if(!this.identityProvider){const n=uae({element:t,parent:e,hasChildren:r});return r&&this.collapseByDefault&&!this.collapseByDefault(t)&&(n.collapsedByDefault=!1,a.push(n)),n}const l=this.identityProvider.getId(t).toString(),c=s.get(l);if(c){const e=c.node;return o.delete(e.element),this.nodes.delete(e.element),this.nodes.set(t,e),e.element=t,e.hasChildren=r,n?c.collapsed?(e.children.forEach((e=>_ae(e,(e=>this.nodes.delete(e.element))))),e.children.splice(0,e.children.length),e.stale=!0):a.push(e):r&&this.collapseByDefault&&!this.collapseByDefault(t)&&(e.collapsedByDefault=!1,a.push(e)),e}const u=uae({element:t,parent:e,id:l,hasChildren:r});return i&&i.viewState.focus&&i.viewState.focus.indexOf(l)>-1&&i.focus.push(u),i&&i.viewState.selection&&i.viewState.selection.indexOf(l)>-1&&i.selection.push(u),i&&i.viewState.expanded&&i.viewState.expanded.indexOf(l)>-1?a.push(u):r&&this.collapseByDefault&&!this.collapseByDefault(t)&&(u.collapsedByDefault=!1,a.push(u)),u}));for(const c of o.values())_ae(c,(e=>this.nodes.delete(e.element)));for(const c of l)this.nodes.set(c.element,c);return e.children.splice(0,e.children.length,...l),e!==this.root&&this.autoExpandSingleChildren&&1===l.length&&0===a.length&&(l[0].collapsedByDefault=!1,a.push(l[0])),a}render(e,t,n){const i=e.children.map((e=>this.asTreeElement(e,t))),r=n&&Object.assign(Object.assign({},n),{diffIdentityProvider:n.diffIdentityProvider&&{getId:e=>n.diffIdentityProvider.getId(e.element)}});this.tree.setChildren(e===this.root?null:e,i,r),e!==this.root&&this.tree.setCollapsible(e,e.hasChildren),this._onDidRender.fire()}asTreeElement(e,t){if(e.stale)return{element:e,collapsible:e.hasChildren,collapsed:!0};let n;return n=!(t&&t.viewState.expanded&&e.id&&t.viewState.expanded.indexOf(e.id)>-1)&&e.collapsedByDefault,e.collapsedByDefault=void 0,{element:e,children:e.hasChildren?VP.map(e.children,(e=>this.asTreeElement(e,t))):[],collapsible:e.hasChildren,collapsed:n}}processChildren(e){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),e}dispose(){this.disposables.dispose()}}class Cae{constructor(e){this.node=e}get element(){return{elements:this.node.element.elements.map((e=>e.element)),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map((e=>new Cae(e)))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class xae{constructor(e,t,n,i){this.renderer=e,this.nodeMapper=t,this.compressibleNodeMapperProvider=n,this.onDidChangeTwistieState=i,this.renderedNodes=new Map,this.disposables=[],this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,n,i){this.renderer.renderElement(this.nodeMapper.map(e),t,n.templateData,i)}renderCompressedElements(e,t,n,i){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(e),t,n.templateData,i)}renderTwistie(e,t){return e.slow?(t.classList.add(...Ase.classNamesArray),!0):(t.classList.remove(...Ase.classNamesArray),!1)}disposeElement(e,t,n,i){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(e),t,n.templateData,i)}disposeCompressedElements(e,t,n,i){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(e),t,n.templateData,i)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=HP(this.disposables)}}class kae extends wae{constructor(e,t,n,i,r,o,s={}){super(e,t,n,r,o,s),this.compressionDelegate=i,this.compressibleNodeMapper=new xse((e=>new Cae(e))),this.filter=s.filter}createTree(e,t,n,i,r){const o=new Bse(n),s=i.map((e=>new xae(e,this.nodeMapper,(()=>this.compressibleNodeMapper),this._onDidChangeNodeSlowState.event))),a=function(e){const t=e&&bae(e);return t&&Object.assign(Object.assign({},t),{keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},t.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel:t=>e.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.map((e=>e.element)))})})}(r)||{};return new lae(e,t,o,s,a)}asTreeElement(e,t){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(e.element)},super.asTreeElement(e,t))}updateOptions(e={}){this.tree.updateOptions(e)}render(e,t){if(!this.identityProvider)return super.render(e,t);const n=e=>this.identityProvider.getId(e).toString(),i=e=>{const t=new Set;for(const i of e){const e=this.tree.getCompressedTreeNode(i===this.root?null:i);if(e.element)for(const i of e.element.elements)t.add(n(i.element))}return t},r=i(this.tree.getSelection()),o=i(this.tree.getFocus());super.render(e,t);const s=this.getSelection();let a=!1;const l=this.getFocus();let c=!1;const u=e=>{const t=e.element;if(t)for(let i=0;i<t.elements.length;i++){const e=n(t.elements[i].element),u=t.elements[t.elements.length-1].element;r.has(e)&&-1===s.indexOf(u)&&(s.push(u),a=!0),o.has(e)&&-1===l.indexOf(u)&&(l.push(u),c=!0)}e.children.forEach(u)};u(this.tree.getCompressedTreeNode(e===this.root?null:e)),a&&this.setSelection(s),c&&this.setFocus(l)}processChildren(e){return this.filter&&(e=VP.filter(e,(e=>{const t=this.filter.filter(e,1),n="boolean"==typeof(i=t)?i?1:0:kse(i)?Sse(i.visibility):Sse(i);var i;if(2===n)throw new Error("Recursive tree visibility not supported in async data compressed trees");return 1===n}))),super.processChildren(e)}}class Sae extends Yse{constructor(e,t,n,i,r,o={}){super(e,t,n,i,o),this.user=e,this.dataSource=r,this.identityProvider=o.identityProvider}createModel(e,t,n){return new Gse(e,t,n)}}new $X("isWindows",VR,DR(0,"Whether the operating system is Windows"));var Dae=globalThis&&globalThis.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Eae=globalThis&&globalThis.__param||function(e,t){return function(n,i){t(n,i,e)}};const Lae=Fz("listService");let Tae=class{constructor(e){this._themeService=e,this.disposables=new qP,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}register(e,t){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const e=new Zoe(oW(),"");this.disposables.add(noe(e,this._themeService))}if(this.lists.some((t=>t.widget===e)))throw new Error("Cannot register the same widget multiple times");const n={widget:e,extraContextKeys:t};return this.lists.push(n),e.getHTMLElement()===document.activeElement&&(this._lastFocusedWidget=e),UP(e.onDidFocus((()=>this._lastFocusedWidget=e)),$P((()=>this.lists.splice(this.lists.indexOf(n),1))),e.onDidDispose((()=>{this.lists=this.lists.filter((e=>e!==n)),this._lastFocusedWidget===e&&(this._lastFocusedWidget=void 0)})))}dispose(){this.disposables.dispose()}};Tae=Dae([Eae(0,uJ)],Tae);const Nae=new $X("listFocus",!0),Mae=new $X("listSupportsMultiselect",!0);SX.and(Nae,SX.not("inputFocus"));const Aae=new $X("listHasSelectionOrFocus",!1),Iae=new $X("listDoubleSelection",!1),Oae=new $X("listMultiSelection",!1),Fae=new $X("listSelectionNavigation",!1);function Rae(e,t){const n=e.createScoped(t.getHTMLElement());return Nae.bindTo(n),n}const Pae="workbench.list.horizontalScrolling",Bae="workbench.tree.indent",jae="workbench.list.smoothScrolling",zae="workbench.list.mouseWheelScrollSensitivity",Vae="workbench.list.fastScrollSensitivity",Wae="workbench.tree.expandMode";function Hae(e){return"alt"===e.getValue("workbench.list.multiSelectModifier")}class Uae extends KP{constructor(e){super(),this.configurationService=e,this.useAltAsMultipleSelectionModifier=Hae(e),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration((e=>{e.affectsConfiguration("workbench.list.multiSelectModifier")&&(this.useAltAsMultipleSelectionModifier=Hae(this.configurationService))})))}isSelectionSingleChangeEvent(e){return this.useAltAsMultipleSelectionModifier?e.browserEvent.altKey:Koe(e)}isSelectionRangeChangeEvent(e){return Yoe(e)}}function $ae(e,t,n){var i;const r=new qP,o=Object.assign(Object.assign({},e),{keyboardNavigationDelegate:{mightProducePrintableCharacter:e=>n.mightProducePrintableCharacter(e)},smoothScrolling:Boolean(t.getValue(jae)),mouseWheelScrollSensitivity:t.getValue(zae),fastScrollSensitivity:t.getValue(Vae),multipleSelectionController:null!==(i=e.multipleSelectionController)&&void 0!==i?i:r.add(new Uae(t))});return[o,r]}let qae=class extends ose{constructor(e,t,n,i,r,o,s,a,l,c){const u=void 0!==r.horizontalScrolling?r.horizontalScrolling:Boolean(l.getValue(Pae)),[h,d]=$ae(r,l,c);super(e,t,n,i,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},eoe(a.getColorTheme(),ioe)),h),{horizontalScrolling:u})),this.disposables.add(d),this.contextKeyService=Rae(o,this),this.themeService=a,this.listSupportsMultiSelect=Mae.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==r.multipleSelectionSupport);Fae.bindTo(this.contextKeyService).set(Boolean(r.selectionNavigation)),this.listHasSelectionOrFocus=Aae.bindTo(this.contextKeyService),this.listDoubleSelection=Iae.bindTo(this.contextKeyService),this.listMultiSelection=Oae.bindTo(this.contextKeyService),this.horizontalScrolling=r.horizontalScrolling,this._useAltAsMultipleSelectionModifier=Hae(l),this.disposables.add(this.contextKeyService),this.disposables.add(s.register(this)),r.overrideStyles&&this.updateStyles(r.overrideStyles),this.disposables.add(this.onDidChangeSelection((()=>{const e=this.getSelection(),t=this.getFocus();this.contextKeyService.bufferChangeEvents((()=>{this.listHasSelectionOrFocus.set(e.length>0||t.length>0),this.listMultiSelection.set(e.length>1),this.listDoubleSelection.set(2===e.length)}))}))),this.disposables.add(this.onDidChangeFocus((()=>{const e=this.getSelection(),t=this.getFocus();this.listHasSelectionOrFocus.set(e.length>0||t.length>0)}))),this.disposables.add(l.onDidChangeConfiguration((e=>{e.affectsConfiguration("workbench.list.multiSelectModifier")&&(this._useAltAsMultipleSelectionModifier=Hae(l));let t={};if(e.affectsConfiguration(Pae)&&void 0===this.horizontalScrolling){const e=Boolean(l.getValue(Pae));t=Object.assign(Object.assign({},t),{horizontalScrolling:e})}if(e.affectsConfiguration(jae)){const e=Boolean(l.getValue(jae));t=Object.assign(Object.assign({},t),{smoothScrolling:e})}if(e.affectsConfiguration(zae)){const e=l.getValue(zae);t=Object.assign(Object.assign({},t),{mouseWheelScrollSensitivity:e})}if(e.affectsConfiguration(Vae)){const e=l.getValue(Vae);t=Object.assign(Object.assign({},t),{fastScrollSensitivity:e})}Object.keys(t).length>0&&this.updateOptions(t)}))),this.navigator=new Xae(this,Object.assign({configurationService:l},r)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;null===(t=this._styler)||void 0===t||t.dispose(),this._styler=noe(this,this.themeService,e)}dispose(){var e;null===(e=this._styler)||void 0===e||e.dispose(),super.dispose()}};qae=Dae([Eae(5,qX),Eae(6,Lae),Eae(7,uJ),Eae(8,bK),Eae(9,_ne)],qae);let Kae=class extends class{constructor(e,t,n,i,r={}){const o=()=>this.model,s=i.map((e=>new sse(e,o)));this.list=new ose(e,t,n,s,function(e,t){return Object.assign(Object.assign({},t),{accessibilityProvider:t.accessibilityProvider&&new ase(e,t.accessibilityProvider)})}(o,r))}updateOptions(e){this.list.updateOptions(e)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return eB.map(this.list.onMouseDblClick,(({element:e,index:t,browserEvent:n})=>({element:void 0===e?void 0:this._model.get(e),index:t,browserEvent:n})))}get onPointer(){return eB.map(this.list.onPointer,(({element:e,index:t,browserEvent:n})=>({element:void 0===e?void 0:this._model.get(e),index:t,browserEvent:n})))}get onDidChangeSelection(){return eB.map(this.list.onDidChangeSelection,(({elements:e,indexes:t,browserEvent:n})=>({elements:e.map((e=>this._model.get(e))),indexes:t,browserEvent:n})))}get model(){return this._model}set model(e){this._model=e,this.list.splice(0,this.list.length,xY(e.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map((e=>this.model.get(e)))}style(e){this.list.style(e)}dispose(){this.list.dispose()}}{constructor(e,t,n,i,r,o,s,a,l,c){const u=void 0!==r.horizontalScrolling?r.horizontalScrolling:Boolean(l.getValue(Pae)),[h,d]=$ae(r,l,c);super(e,t,n,i,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},eoe(a.getColorTheme(),ioe)),h),{horizontalScrolling:u})),this.disposables=new qP,this.disposables.add(d),this.contextKeyService=Rae(o,this),this.themeService=a,this.horizontalScrolling=r.horizontalScrolling,this.listSupportsMultiSelect=Mae.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==r.multipleSelectionSupport);Fae.bindTo(this.contextKeyService).set(Boolean(r.selectionNavigation)),this._useAltAsMultipleSelectionModifier=Hae(l),this.disposables.add(this.contextKeyService),this.disposables.add(s.register(this)),r.overrideStyles&&this.updateStyles(r.overrideStyles),r.overrideStyles&&this.disposables.add(noe(this,a,r.overrideStyles)),this.disposables.add(l.onDidChangeConfiguration((e=>{e.affectsConfiguration("workbench.list.multiSelectModifier")&&(this._useAltAsMultipleSelectionModifier=Hae(l));let t={};if(e.affectsConfiguration(Pae)&&void 0===this.horizontalScrolling){const e=Boolean(l.getValue(Pae));t=Object.assign(Object.assign({},t),{horizontalScrolling:e})}if(e.affectsConfiguration(jae)){const e=Boolean(l.getValue(jae));t=Object.assign(Object.assign({},t),{smoothScrolling:e})}if(e.affectsConfiguration(zae)){const e=l.getValue(zae);t=Object.assign(Object.assign({},t),{mouseWheelScrollSensitivity:e})}if(e.affectsConfiguration(Vae)){const e=l.getValue(Vae);t=Object.assign(Object.assign({},t),{fastScrollSensitivity:e})}Object.keys(t).length>0&&this.updateOptions(t)}))),this.navigator=new Xae(this,Object.assign({configurationService:l},r)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;null===(t=this._styler)||void 0===t||t.dispose(),this._styler=noe(this,this.themeService,e)}dispose(){var e;null===(e=this._styler)||void 0===e||e.dispose(),this.disposables.dispose(),super.dispose()}};Kae=Dae([Eae(5,qX),Eae(6,Lae),Eae(7,uJ),Eae(8,bK),Eae(9,_ne)],Kae);let Yae=class extends wse{constructor(e,t,n,i,r,o,s,a,l,c,u){const h=void 0!==o.horizontalScrolling?o.horizontalScrolling:Boolean(c.getValue(Pae)),[d,f]=$ae(o,c,u);super(e,t,n,i,r,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},eoe(l.getColorTheme(),ioe)),d),{horizontalScrolling:h})),this.disposables=new qP,this.disposables.add(f),this.contextKeyService=Rae(s,this),this.themeService=l,this.listSupportsMultiSelect=Mae.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==o.multipleSelectionSupport);Fae.bindTo(this.contextKeyService).set(Boolean(o.selectionNavigation)),this.listHasSelectionOrFocus=Aae.bindTo(this.contextKeyService),this.listDoubleSelection=Iae.bindTo(this.contextKeyService),this.listMultiSelection=Oae.bindTo(this.contextKeyService),this.horizontalScrolling=o.horizontalScrolling,this._useAltAsMultipleSelectionModifier=Hae(c),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),o.overrideStyles&&this.updateStyles(o.overrideStyles),this.disposables.add(this.onDidChangeSelection((()=>{const e=this.getSelection(),t=this.getFocus();this.contextKeyService.bufferChangeEvents((()=>{this.listHasSelectionOrFocus.set(e.length>0||t.length>0),this.listMultiSelection.set(e.length>1),this.listDoubleSelection.set(2===e.length)}))}))),this.disposables.add(this.onDidChangeFocus((()=>{const e=this.getSelection(),t=this.getFocus();this.listHasSelectionOrFocus.set(e.length>0||t.length>0)}))),this.disposables.add(c.onDidChangeConfiguration((e=>{e.affectsConfiguration("workbench.list.multiSelectModifier")&&(this._useAltAsMultipleSelectionModifier=Hae(c));let t={};if(e.affectsConfiguration(Pae)&&void 0===this.horizontalScrolling){const e=Boolean(c.getValue(Pae));t=Object.assign(Object.assign({},t),{horizontalScrolling:e})}if(e.affectsConfiguration(jae)){const e=Boolean(c.getValue(jae));t=Object.assign(Object.assign({},t),{smoothScrolling:e})}if(e.affectsConfiguration(zae)){const e=c.getValue(zae);t=Object.assign(Object.assign({},t),{mouseWheelScrollSensitivity:e})}if(e.affectsConfiguration(Vae)){const e=c.getValue(Vae);t=Object.assign(Object.assign({},t),{fastScrollSensitivity:e})}Object.keys(t).length>0&&this.updateOptions(t)}))),this.navigator=new Zae(this,Object.assign({configurationService:c},o)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;null===(t=this._styler)||void 0===t||t.dispose(),this._styler=noe(this,this.themeService,e)}dispose(){var e;null===(e=this._styler)||void 0===e||e.dispose(),this.disposables.dispose(),super.dispose()}};Yae=Dae([Eae(6,qX),Eae(7,Lae),Eae(8,uJ),Eae(9,bK),Eae(10,_ne)],Yae);class Gae extends KP{constructor(e,t){var n;super(),this.widget=e,this._onDidOpen=this._register(new nB),this.onDidOpen=this._onDidOpen.event,this._register(eB.filter(this.widget.onDidChangeSelection,(e=>e.browserEvent instanceof KeyboardEvent))((e=>this.onSelectionFromKeyboard(e)))),this._register(this.widget.onPointer((e=>this.onPointer(e.element,e.browserEvent)))),this._register(this.widget.onMouseDblClick((e=>this.onMouseDblClick(e.element,e.browserEvent)))),"boolean"!=typeof(null==t?void 0:t.openOnSingleClick)&&(null==t?void 0:t.configurationService)?(this.openOnSingleClick="doubleClick"!==(null==t?void 0:t.configurationService.getValue("workbench.list.openMode")),this._register(null==t?void 0:t.configurationService.onDidChangeConfiguration((()=>{this.openOnSingleClick="doubleClick"!==(null==t?void 0:t.configurationService.getValue("workbench.list.openMode"))})))):this.openOnSingleClick=null===(n=null==t?void 0:t.openOnSingleClick)||void 0===n||n}onSelectionFromKeyboard(e){if(1!==e.elements.length)return;const t=e.browserEvent,n="boolean"!=typeof t.preserveFocus||t.preserveFocus,i="boolean"==typeof t.pinned?t.pinned:!n;this._open(this.getSelectedElement(),n,i,!1,e.browserEvent)}onPointer(e,t){if(!this.openOnSingleClick)return;if(2===t.detail)return;const n=1===t.button,i=t.ctrlKey||t.metaKey||t.altKey;this._open(e,!0,n,i,t)}onMouseDblClick(e,t){if(!t)return;const n=t.target;if(n.classList.contains("monaco-tl-twistie")||n.classList.contains("monaco-icon-label")&&n.classList.contains("folder-icon")&&t.offsetX<16)return;const i=t.ctrlKey||t.metaKey||t.altKey;this._open(e,!1,!0,i,t)}_open(e,t,n,i,r){e&&this._onDidOpen.fire({editorOptions:{preserveFocus:t,pinned:n,revealIfVisible:!0},sideBySide:i,element:e,browserEvent:r})}}class Xae extends Gae{constructor(e,t){super(e,t),this.widget=e}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Zae extends Gae{constructor(e,t){super(e,t)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Jae extends Gae{constructor(e,t){super(e,t)}getSelectedElement(){var e;return null!==(e=this.widget.getSelection()[0])&&void 0!==e?e:void 0}}function Qae(e,t){let n=!1;return i=>{if(n)return n=!1,!1;const r=t.softDispatch(i,e);return r&&r.enterChord?(n=!0,!1):(n=!1,!0)}}let ele=class extends sae{constructor(e,t,n,i,r,o,s,a,l,c,u){const{options:h,getAutomaticKeyboardNavigation:d,disposable:f}=ole(t,r,o,l,c,u);super(e,t,n,i,h),this.disposables.add(f),this.internals=new sle(this,r,d,r.overrideStyles,o,s,a,l,u),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};ele=Dae([Eae(5,qX),Eae(6,Lae),Eae(7,uJ),Eae(8,bK),Eae(9,_ne),Eae(10,Tee)],ele);let tle=class extends lae{constructor(e,t,n,i,r,o,s,a,l,c,u){const{options:h,getAutomaticKeyboardNavigation:d,disposable:f}=ole(t,r,o,l,c,u);super(e,t,n,i,h),this.disposables.add(f),this.internals=new sle(this,r,d,r.overrideStyles,o,s,a,l,u),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};tle=Dae([Eae(5,qX),Eae(6,Lae),Eae(7,uJ),Eae(8,bK),Eae(9,_ne),Eae(10,Tee)],tle);let nle=class extends Sae{constructor(e,t,n,i,r,o,s,a,l,c,u,h){const{options:d,getAutomaticKeyboardNavigation:f,disposable:p}=ole(t,o,s,c,u,h);super(e,t,n,i,r,d),this.disposables.add(p),this.internals=new sle(this,o,f,o.overrideStyles,s,a,l,c,h),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};nle=Dae([Eae(6,qX),Eae(7,Lae),Eae(8,uJ),Eae(9,bK),Eae(10,_ne),Eae(11,Tee)],nle);let ile=class extends wae{constructor(e,t,n,i,r,o,s,a,l,c,u,h){const{options:d,getAutomaticKeyboardNavigation:f,disposable:p}=ole(t,o,s,c,u,h);super(e,t,n,i,r,d),this.disposables.add(p),this.internals=new sle(this,o,f,o.overrideStyles,s,a,l,c,h),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};ile=Dae([Eae(6,qX),Eae(7,Lae),Eae(8,uJ),Eae(9,bK),Eae(10,_ne),Eae(11,Tee)],ile);let rle=class extends kae{constructor(e,t,n,i,r,o,s,a,l,c,u,h,d){const{options:f,getAutomaticKeyboardNavigation:p,disposable:g}=ole(t,s,a,u,h,d);super(e,t,n,i,r,o,f),this.disposables.add(g),this.internals=new sle(this,s,p,s.overrideStyles,a,l,c,u,d),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};function ole(e,t,n,i,r,o){var s;const a=()=>{let e=Boolean(n.getContextKeyValue("listAutomaticKeyboardNavigation"));return e&&(e=Boolean(i.getValue("workbench.list.automaticKeyboardNavigation"))),e},l=o.isScreenReaderOptimized(),c=t.simpleKeyboardNavigation||l?"simple":i.getValue("workbench.list.keyboardNavigation"),u=void 0!==t.horizontalScrolling?t.horizontalScrolling:Boolean(i.getValue(Pae)),[h,d]=$ae(t,i,r),f=t.additionalScrollHeight;return{getAutomaticKeyboardNavigation:a,disposable:d,options:Object.assign(Object.assign({keyboardSupport:!1},h),{indent:"number"==typeof i.getValue(Bae)?i.getValue(Bae):void 0,renderIndentGuides:i.getValue("workbench.tree.renderIndentGuides"),smoothScrolling:Boolean(i.getValue(jae)),automaticKeyboardNavigation:a(),simpleKeyboardNavigation:"simple"===c,filterOnType:"filter"===c,horizontalScrolling:u,keyboardNavigationEventFilter:Qae(e,r),additionalScrollHeight:f,hideTwistiesOfChildlessElements:t.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:null!==(s=t.expandOnlyOnTwistieClick)&&void 0!==s?s:"doubleClick"===i.getValue(Wae)})}}rle=Dae([Eae(7,qX),Eae(8,Lae),Eae(9,uJ),Eae(10,bK),Eae(11,_ne),Eae(12,Tee)],rle);let sle=class{constructor(e,t,n,i,r,o,s,a,l){this.tree=e,this.themeService=s,this.disposables=[],this.contextKeyService=Rae(r,e),this.listSupportsMultiSelect=Mae.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==t.multipleSelectionSupport);Fae.bindTo(this.contextKeyService).set(Boolean(t.selectionNavigation)),this.hasSelectionOrFocus=Aae.bindTo(this.contextKeyService),this.hasDoubleSelection=Iae.bindTo(this.contextKeyService),this.hasMultiSelection=Oae.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=Hae(a);const c=new Set;c.add("listAutomaticKeyboardNavigation");const u=()=>{const t=l.isScreenReaderOptimized()?"simple":a.getValue("workbench.list.keyboardNavigation");e.updateOptions({simpleKeyboardNavigation:"simple"===t,filterOnType:"filter"===t})};this.updateStyleOverrides(i),this.disposables.push(this.contextKeyService,o.register(e),e.onDidChangeSelection((()=>{const t=e.getSelection(),n=e.getFocus();this.contextKeyService.bufferChangeEvents((()=>{this.hasSelectionOrFocus.set(t.length>0||n.length>0),this.hasMultiSelection.set(t.length>1),this.hasDoubleSelection.set(2===t.length)}))})),e.onDidChangeFocus((()=>{const t=e.getSelection(),n=e.getFocus();this.hasSelectionOrFocus.set(t.length>0||n.length>0)})),a.onDidChangeConfiguration((i=>{let r={};if(i.affectsConfiguration("workbench.list.multiSelectModifier")&&(this._useAltAsMultipleSelectionModifier=Hae(a)),i.affectsConfiguration(Bae)){const e=a.getValue(Bae);r=Object.assign(Object.assign({},r),{indent:e})}if(i.affectsConfiguration("workbench.tree.renderIndentGuides")){const e=a.getValue("workbench.tree.renderIndentGuides");r=Object.assign(Object.assign({},r),{renderIndentGuides:e})}if(i.affectsConfiguration(jae)){const e=Boolean(a.getValue(jae));r=Object.assign(Object.assign({},r),{smoothScrolling:e})}if(i.affectsConfiguration("workbench.list.keyboardNavigation")&&u(),i.affectsConfiguration("workbench.list.automaticKeyboardNavigation")&&(r=Object.assign(Object.assign({},r),{automaticKeyboardNavigation:n()})),i.affectsConfiguration(Pae)&&void 0===t.horizontalScrolling){const e=Boolean(a.getValue(Pae));r=Object.assign(Object.assign({},r),{horizontalScrolling:e})}if(i.affectsConfiguration(Wae)&&void 0===t.expandOnlyOnTwistieClick&&(r=Object.assign(Object.assign({},r),{expandOnlyOnTwistieClick:"doubleClick"===a.getValue(Wae)})),i.affectsConfiguration(zae)){const e=a.getValue(zae);r=Object.assign(Object.assign({},r),{mouseWheelScrollSensitivity:e})}if(i.affectsConfiguration(Vae)){const e=a.getValue(Vae);r=Object.assign(Object.assign({},r),{fastScrollSensitivity:e})}Object.keys(r).length>0&&e.updateOptions(r)})),this.contextKeyService.onDidChangeContext((t=>{t.affectsSome(c)&&e.updateOptions({automaticKeyboardNavigation:n()})})),l.onDidChangeScreenReaderOptimized((()=>u()))),this.navigator=new Jae(e,Object.assign({configurationService:a},t)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(e){void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyleOverrides(e){HP(this.styler),this.styler=e?noe(this.tree,this.themeService,e):KP.None}dispose(){this.disposables=HP(this.disposables),HP(this.styler),this.styler=void 0}};sle=Dae([Eae(4,qX),Eae(5,Lae),Eae(6,uJ),Eae(7,bK),Eae(8,Tee)],sle);var ale,lle;rK.as(aK).registerConfiguration({id:"workbench",order:7,title:DR(0,"Workbench"),type:"object",properties:{"workbench.list.multiSelectModifier":{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[DR(0,"Maps to `Control` on Windows and Linux and to `Command` on macOS."),DR(0,"Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:DR(0,"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},"workbench.list.openMode":{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:DR(0,"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Pae]:{type:"boolean",default:!1,description:DR(0,"Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[Bae]:{type:"number",default:8,minimum:0,maximum:40,description:DR(0,"Controls tree indentation in pixels.")},"workbench.tree.renderIndentGuides":{type:"string",enum:["none","onHover","always"],default:"onHover",description:DR(0,"Controls whether the tree should render indent guides.")},[jae]:{type:"boolean",default:!1,description:DR(0,"Controls whether lists and trees have smooth scrolling.")},[zae]:{type:"number",default:1,description:DR(0,"A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[Vae]:{type:"number",default:5,description:DR(0,"Scrolling speed multiplier when pressing `Alt`.")},"workbench.list.keyboardNavigation":{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[DR(0,"Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),DR(0,"Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),DR(0,"Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:DR(0,"Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.")},"workbench.list.automaticKeyboardNavigation":{type:"boolean",default:!0,markdownDescription:DR(0,"Controls whether keyboard navigation in lists and trees is automatically triggered simply by typing. If set to `false`, keyboard navigation is only triggered when executing the `list.toggleKeyboardNavigation` command, for which you can assign a keyboard shortcut.")},[Wae]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:DR(0,"Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")}}}),function(e){e[e.Hint=1]="Hint",e[e.Info=2]="Info",e[e.Warning=4]="Warning",e[e.Error=8]="Error"}(ale||(ale={})),function(e){e.compare=function(e,t){return t-e};const t=Object.create(null);t[e.Error]=DR(0,"Error"),t[e.Warning]=DR(0,"Warning"),t[e.Info]=DR(0,"Info"),e.toString=function(e){return t[e]||""},e.fromSeverity=function(t){switch(t){case KG.Error:return e.Error;case KG.Warning:return e.Warning;case KG.Info:return e.Info;case KG.Ignore:return e.Hint}},e.toSeverity=function(t){switch(t){case e.Error:return KG.Error;case e.Warning:return KG.Warning;case e.Info:return KG.Info;case e.Hint:return KG.Ignore}}}(ale||(ale={})),function(e){const t="";function n(e,n){let i=[t];return e.source?i.push(e.source.replace("","\\")):i.push(t),e.code?"string"==typeof e.code?i.push(e.code.replace("","\\")):i.push(e.code.value.replace("","\\")):i.push(t),void 0!==e.severity&&null!==e.severity?i.push(ale.toString(e.severity)):i.push(t),e.message&&n?i.push(e.message.replace("","\\")):i.push(t),void 0!==e.startLineNumber&&null!==e.startLineNumber?i.push(e.startLineNumber.toString()):i.push(t),void 0!==e.startColumn&&null!==e.startColumn?i.push(e.startColumn.toString()):i.push(t),void 0!==e.endLineNumber&&null!==e.endLineNumber?i.push(e.endLineNumber.toString()):i.push(t),void 0!==e.endColumn&&null!==e.endColumn?i.push(e.endColumn.toString()):i.push(t),i.push(t),i.join("")}e.makeKey=function(e){return n(e,!0)},e.makeKeyOptionalMessage=n}(lle||(lle={}));const cle=Fz("markerService");class ule{constructor(){this._byResource=new LH,this._byOwner=new Map}set(e,t,n){let i=this._byResource.get(e);i||(i=new Map,this._byResource.set(e,i)),i.set(t,n);let r=this._byOwner.get(t);r||(r=new LH,this._byOwner.set(t,r)),r.set(e,n)}get(e,t){let n=this._byResource.get(e);return null==n?void 0:n.get(t)}delete(e,t){let n=!1,i=!1,r=this._byResource.get(e);r&&(n=r.delete(t));let o=this._byOwner.get(t);if(o&&(i=o.delete(e)),n!==i)throw new Error("illegal state");return n&&i}values(e){var t,n,i,r;return"string"==typeof e?null!==(n=null===(t=this._byOwner.get(e))||void 0===t?void 0:t.values())&&void 0!==n?n:VP.empty():ZB.isUri(e)?null!==(r=null===(i=this._byResource.get(e))||void 0===i?void 0:i.values())&&void 0!==r?r:VP.empty():VP.map(VP.concat(...this._byOwner.values()),(e=>e[1]))}}class hle{constructor(e){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new LH,this._service=e,this._subscription=e.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(e){for(const t of e){const e=this._data.get(t);e&&this._substract(e);const n=this._resourceStats(t);this._add(n),this._data.set(t,n)}}_resourceStats(e){const t={errors:0,warnings:0,infos:0,unknowns:0};if(e.scheme===kV.inMemory||e.scheme===kV.walkThrough||e.scheme===kV.walkThroughSnippet)return t;for(const{severity:n}of this._service.read({resource:e}))n===ale.Error?t.errors+=1:n===ale.Warning?t.warnings+=1:n===ale.Info?t.infos+=1:t.unknowns+=1;return t}_substract(e){this.errors-=e.errors,this.warnings-=e.warnings,this.infos-=e.infos,this.unknowns-=e.unknowns}_add(e){this.errors+=e.errors,this.warnings+=e.warnings,this.infos+=e.infos,this.unknowns+=e.unknowns}}class dle{constructor(){this._onMarkerChanged=new rB({delay:0,merge:dle._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new ule,this._stats=new hle(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(e,t){for(const n of t||[])this.changeOne(e,n,[])}changeOne(e,t,n){if(i=n,Array.isArray(i)&&0!==i.length){const i=[];for(const r of n){const n=dle._toMarker(e,t,r);n&&i.push(n)}this._data.set(t,e,i),this._onMarkerChanged.fire([t])}else{this._data.delete(t,e)&&this._onMarkerChanged.fire([t])}var i}static _toMarker(e,t,n){let{code:i,severity:r,message:o,source:s,startLineNumber:a,startColumn:l,endLineNumber:c,endColumn:u,relatedInformation:h,tags:d}=n;if(o)return a=a>0?a:1,l=l>0?l:1,c=c>=a?c:a,u=u>0?u:l,{resource:t,owner:e,code:i,severity:r,message:o,source:s,startLineNumber:a,startColumn:l,endLineNumber:c,endColumn:u,relatedInformation:h,tags:d}}read(e=Object.create(null)){let{owner:t,resource:n,severities:i,take:r}=e;if((!r||r<0)&&(r=-1),t&&n){const e=this._data.get(n,t);if(e){const t=[];for(const n of e)if(dle._accept(n,i)){const e=t.push(n);if(r>0&&e===r)break}return t}return[]}if(t||n){const e=this._data.values(null!=n?n:t),o=[];for(const t of e)for(const e of t)if(dle._accept(e,i)){const t=o.push(e);if(r>0&&t===r)return o}return o}{const e=[];for(let t of this._data.values())for(let n of t)if(dle._accept(n,i)){const t=e.push(n);if(r>0&&t===r)return e}return e}}static _accept(e,t){return void 0===t||(t&e.severity)===e.severity}static _merge(e){const t=new LH;for(let n of e)for(let e of n)t.set(e,!0);return Array.from(t.keys())}}var fle,ple,gle=globalThis&&globalThis.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(nR){o(nR)}}function a(e){try{l(i.throw(e))}catch(nR){o(nR)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};(ple=fle||(fle={}))[ple.None=0]="None",ple[ple.Initialized=1]="Initialized",ple[ple.Closed=2]="Closed";class mle extends KP{constructor(e,t=Object.create(null)){super(),this.database=e,this.options=t,this._onDidChangeStorage=this._register(new nB),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=fle.None,this.cache=new Map,this.flushDelayer=new pV(mle.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal((e=>this.onDidChangeItemsExternal(e))))}onDidChangeItemsExternal(e){var t,n;null===(t=e.changed)||void 0===t||t.forEach(((e,t)=>this.accept(t,e))),null===(n=e.deleted)||void 0===n||n.forEach((e=>this.accept(e,void 0)))}accept(e,t){if(this.state===fle.Closed)return;let n=!1;if(tU(t))n=this.cache.delete(e);else{this.cache.get(e)!==t&&(this.cache.set(e,t),n=!0)}n&&this._onDidChangeStorage.fire(e)}get(e,t){const n=this.cache.get(e);return tU(n)?t:n}getBoolean(e,t){const n=this.get(e);return tU(n)?t:"true"===n}getNumber(e,t){const n=this.get(e);return tU(n)?t:parseInt(n,10)}set(e,t){return gle(this,void 0,void 0,(function*(){if(this.state===fle.Closed)return;if(tU(t))return this.delete(e);const n=String(t);return this.cache.get(e)!==n?(this.cache.set(e,n),this.pendingInserts.set(e,n),this.pendingDeletes.delete(e),this._onDidChangeStorage.fire(e),this.flushDelayer.trigger((()=>this.flushPending()))):void 0}))}delete(e){return gle(this,void 0,void 0,(function*(){if(this.state===fle.Closed)return;return this.cache.delete(e)?(this.pendingDeletes.has(e)||this.pendingDeletes.add(e),this.pendingInserts.delete(e),this._onDidChangeStorage.fire(e),this.flushDelayer.trigger((()=>this.flushPending()))):void 0}))}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return gle(this,void 0,void 0,(function*(){if(!this.hasPending)return;const e={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(e).finally((()=>{var e;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)null===(e=this.whenFlushedCallbacks.pop())||void 0===e||e()}))}))}dispose(){this.flushDelayer.dispose(),super.dispose()}}mle.DEFAULT_FLUSH_DELAY=100;class vle{constructor(){this.onDidChangeItemsExternal=eB.None,this.items=new Map}updateItems(e){return gle(this,void 0,void 0,(function*(){e.insert&&e.insert.forEach(((e,t)=>this.items.set(t,e))),e.delete&&e.delete.forEach((e=>this.items.delete(e)))}))}}const yle="__$__targetStorageMarker",ble=Fz("storageService");var _le,wle;(wle=_le||(_le={}))[wle.NONE=0]="NONE",wle[wle.SHUTDOWN=1]="SHUTDOWN";class Cle extends KP{constructor(e={flushInterval:Cle.DEFAULT_FLUSH_INTERVAL}){super(),this.options=e,this._onDidChangeValue=this._register(new iB),this._onDidChangeTarget=this._register(new iB),this._onWillSaveState=this._register(new nB),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(e,t){t===yle?(0===e?this._globalKeyTargets=void 0:1===e&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:e})):this._onDidChangeValue.fire({scope:e,key:t,target:this.getKeyTargets(e)[t]})}get(e,t,n){var i;return null===(i=this.getStorage(t))||void 0===i?void 0:i.get(e,n)}getBoolean(e,t,n){var i;return null===(i=this.getStorage(t))||void 0===i?void 0:i.getBoolean(e,n)}getNumber(e,t,n){var i;return null===(i=this.getStorage(t))||void 0===i?void 0:i.getNumber(e,n)}store(e,t,n,i){tU(t)?this.remove(e,n):this.withPausedEmitters((()=>{var r;this.updateKeyTarget(e,n,i),null===(r=this.getStorage(n))||void 0===r||r.set(e,t)}))}remove(e,t){this.withPausedEmitters((()=>{var n;this.updateKeyTarget(e,t,void 0),null===(n=this.getStorage(t))||void 0===n||n.delete(e)}))}withPausedEmitters(e){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{e()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(e,t,n){var i,r;const o=this.getKeyTargets(t);"number"==typeof n?o[e]!==n&&(o[e]=n,null===(i=this.getStorage(t))||void 0===i||i.set(yle,JSON.stringify(o))):"number"==typeof o[e]&&(delete o[e],null===(r=this.getStorage(t))||void 0===r||r.set(yle,JSON.stringify(o)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(e){return 0===e?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(e){const t=this.get(yle,e);if(t)try{return JSON.parse(t)}catch(n){}return Object.create(null)}}Cle.DEFAULT_FLUSH_INTERVAL=6e4;class xle extends Cle{constructor(){super(),this.globalStorage=this._register(new mle(new vle)),this.workspaceStorage=this._register(new mle(new vle)),this._register(this.workspaceStorage.onDidChangeStorage((e=>this.emitDidChangeValue(1,e)))),this._register(this.globalStorage.onDidChangeStorage((e=>this.emitDidChangeValue(0,e))))}getStorage(e){return 0===e?this.globalStorage:this.workspaceStorage}}var kle=globalThis&&globalThis.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Sle=globalThis&&globalThis.__param||function(e,t){return function(n,i){t(n,i,e)}};let Dle=class{constructor(e){this._commandService=e}createMenu(e,t,n){return new Ele(e,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},n),this._commandService,t,this)}};Dle=kle([Sle(0,aU)],Dle);let Ele=class e{constructor(e,t,n,i,r){this._id=e,this._options=t,this._commandService=n,this._contextKeyService=i,this._menuService=r,this._disposables=new qP,this._menuGroups=[],this._contextKeys=new Set,this._build();const o=new bV((()=>{this._build(),this._onDidChange.fire(this)}),t.eventDebounceDelay);this._disposables.add(o),this._disposables.add(kJ.onDidChangeMenu((t=>{t.has(e)&&o.schedule()})));const s=this._disposables.add(new qP);this._onDidChange=new nB({onFirstListenerAdd:()=>{const e=new bV((()=>this._onDidChange.fire(this)),t.eventDebounceDelay);s.add(e),s.add(i.onDidChangeContext((t=>{t.affectsSome(this._contextKeys)&&e.schedule()})))},onLastListenerRemove:s.clear.bind(s)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const t=kJ.getMenuItems(this._id);let n;t.sort(e._compareMenuItems);for(const e of t){const t=e.group||"";n&&n[0]===t||(n=[t,[]],this._menuGroups.push(n)),n[1].push(e),this._collectContextKeys(e)}}_collectContextKeys(t){if(e._fillInKbExprKeys(t.when,this._contextKeys),wJ(t)){if(t.command.precondition&&e._fillInKbExprKeys(t.command.precondition,this._contextKeys),t.command.toggled){const n=t.command.toggled.condition||t.command.toggled;e._fillInKbExprKeys(n,this._contextKeys)}}else this._options.emitEventsForSubmenuChanges&&kJ.getMenuItems(t.submenu).forEach(this._collectContextKeys,this)}getActions(e){const t=[];for(let n of this._menuGroups){const[i,r]=n,o=[];for(const t of r)if(this._contextKeyService.contextMatchesRules(t.when)){const n=wJ(t)?new DJ(t.command,t.alt,e,this._contextKeyService,this._commandService):new SJ(t,this._menuService,this._contextKeyService,e);o.push(n)}o.length>0&&t.push([i,o])}return t}static _fillInKbExprKeys(e,t){if(e)for(let n of e.keys())t.add(n)}static _compareMenuItems(t,n){let i=t.group,r=n.group;if(i!==r){if(!i)return 1;if(!r)return-1;if("navigation"===i)return-1;if("navigation"===r)return 1;let e=i.localeCompare(r);if(0!==e)return e}let o=t.order||0,s=n.order||0;return o<s?-1:o>s?1:e._compareTitles(wJ(t)?t.command.title:t.title,wJ(n)?n.command.title:n.title)}static _compareTitles(e,t){const n="string"==typeof e?e:e.original,i="string"==typeof t?t:t.original;return n.localeCompare(i)}};Ele=kle([Sle(2,aU),Sle(3,qX),Sle(4,xJ)],Ele);var Lle=globalThis&&globalThis.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Tle=globalThis&&globalThis.__param||function(e,t){return function(n,i){t(n,i,e)}};class Nle extends KP{constructor(e){super(),this.model=e,this._markersData=new Map,this._register($P((()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()})))}update(e,t){const n=[...this._markersData.keys()];this._markersData.clear();const i=this.model.deltaDecorations(n,t);for(let r=0;r<i.length;r++)this._markersData.set(i[r],e[r]);return 0!==n.length||0!==i.length}getMarker(e){return this._markersData.get(e.id)}}let Mle=class extends KP{constructor(e,t){super(),this._markerService=t,this._onDidChangeMarker=this._register(new nB),this._markerDecorations=new LH,e.getModels().forEach((e=>this._onModelAdded(e))),this._register(e.onModelAdded(this._onModelAdded,this)),this._register(e.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach((e=>e.dispose())),this._markerDecorations.clear()}getMarker(e,t){const n=this._markerDecorations.get(e);return n&&n.getMarker(t)||null}_handleMarkerChange(e){e.forEach((e=>{const t=this._markerDecorations.get(e);t&&this._updateDecorations(t)}))}_onModelAdded(e){const t=new Nle(e);this._markerDecorations.set(e.uri,t),this._updateDecorations(t)}_onModelRemoved(e){const t=this._markerDecorations.get(e.uri);t&&(t.dispose(),this._markerDecorations.delete(e.uri)),e.uri.scheme!==kV.inMemory&&e.uri.scheme!==kV.internal&&e.uri.scheme!==kV.vscode||this._markerService&&this._markerService.read({resource:e.uri}).map((e=>e.owner)).forEach((t=>this._markerService.remove(t,[e.uri])))}_updateDecorations(e){const t=this._markerService.read({resource:e.model.uri,take:500});let n=t.map((t=>({range:this._createDecorationRange(e.model,t),options:this._createDecorationOption(t)})));e.update(t,n)&&this._onDidChangeMarker.fire(e.model)}_createDecorationRange(e,t){let n=cj.lift(t);return t.severity!==ale.Hint||this._hasMarkerTag(t,1)||this._hasMarkerTag(t,2)||(n=n.setEndPosition(n.startLineNumber,n.startColumn+2)),e.validateRange(n)}_createDecorationOption(e){let t,n,i,r,o;switch(e.severity){case ale.Hint:t=this._hasMarkerTag(e,2)?void 0:this._hasMarkerTag(e,1)?"squiggly-unnecessary":"squiggly-hint",i=0;break;case ale.Warning:t="squiggly-warning",n=fJ(u5),i=20,o={color:fJ(E3),position:OU.Inline};break;case ale.Info:t="squiggly-info",n=fJ(h5),i=10;break;case ale.Error:default:t="squiggly-error",n=fJ(c5),i=30,o={color:fJ(D3),position:OU.Inline}}return e.tags&&(-1!==e.tags.indexOf(1)&&(r="squiggly-inline-unnecessary"),-1!==e.tags.indexOf(2)&&(r="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:t,showIfCollapsed:!0,overviewRuler:{color:n,position:IU.Right},minimap:o,zIndex:i,inlineClassName:r}}_hasMarkerTag(e,t){return!!e.tags&&e.tags.indexOf(t)>=0}};Mle=Lle([Tle(0,m$),Tle(1,cle)],Mle);var Ale=globalThis&&globalThis.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Ile=globalThis&&globalThis.__param||function(e,t){return function(n,i){t(n,i,e)}};let Ole=class extends KP{constructor(e,t){super(),this._contextKeyService=e,this._configurationService=t,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new nB,this._accessibilityModeEnabledContext=Nee.bindTo(this._contextKeyService);const n=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration((e=>{e.affectsConfiguration("editor.accessibilitySupport")&&(n(),this._onDidChangeScreenReaderOptimized.fire())}))),n(),this.onDidChangeScreenReaderOptimized((()=>n()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const e=this._configurationService.getValue("editor.accessibilitySupport");return"on"===e||"auto"===e&&2===this._accessibilitySupport}getAccessibilitySupport(){return this._accessibilitySupport}};Ole=Ale([Ile(0,qX),Ile(1,bK)],Ole);var Fle=globalThis&&globalThis.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(nR){o(nR)}}function a(e){try{l(i.throw(e))}catch(nR){o(nR)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class Rle{constructor(){this.mapTextToType=new Map,this.findText=""}writeText(e,t){return Fle(this,void 0,void 0,(function*(){if(t)return void this.mapTextToType.set(t,e);try{return yield navigator.clipboard.writeText(e)}catch(r){console.error(r)}const n=document.activeElement,i=document.body.appendChild(wW("textarea",{"aria-hidden":!0}));i.style.height="1px",i.style.width="1px",i.style.position="absolute",i.value=e,i.focus(),i.select(),document.execCommand("copy"),n instanceof HTMLElement&&n.focus(),document.body.removeChild(i)}))}readText(e){return Fle(this,void 0,void 0,(function*(){if(e)return this.mapTextToType.get(e)||"";try{return yield navigator.clipboard.readText()}catch(t){return console.error(t),""}}))}readFindText(){return Fle(this,void 0,void 0,(function*(){return this.findText}))}writeFindText(e){return Fle(this,void 0,void 0,(function*(){this.findText=e}))}}var Ple=globalThis&&globalThis.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},Ble=globalThis&&globalThis.__param||function(e,t){return function(n,i){t(n,i,e)}},jle=globalThis&&globalThis.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(nR){o(nR)}}function a(e){try{l(i.throw(e))}catch(nR){o(nR)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function zle(e){return e.scheme===kV.file?e.fsPath:e.path}let Vle=0;class Wle{constructor(e,t,n,i,r,o,s){this.id=++Vle,this.type=0,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabel=t,this.strResource=n,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=i,this.groupOrder=r,this.sourceId=o,this.sourceOrder=s,this.isValid=!0}setValid(e){this.isValid=e}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Hle{constructor(e,t){this.resourceLabel=e,this.reason=t}}class Ule{constructor(){this.elements=new Map}createMessage(){const e=[],t=[];for(const[,i]of this.elements){(0===i.reason?e:t).push(i.resourceLabel)}let n=[];return e.length>0&&n.push(DR(0,"The following files have been closed and modified on disk: {0}.",e.join(", "))),t.length>0&&n.push(DR(0,"The following files have been modified in an incompatible way: {0}.",t.join(", "))),n.join("\n")}get size(){return this.elements.size}has(e){return this.elements.has(e)}set(e,t){this.elements.set(e,t)}delete(e){return this.elements.delete(e)}}class $le{constructor(e,t,n,i,r,o,s){this.id=++Vle,this.type=1,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabels=t,this.strResources=n,this.groupId=i,this.groupOrder=r,this.sourceId=o,this.sourceOrder=s,this.removedResources=null,this.invalidatedResources=null}canSplit(){return"function"==typeof this.actual.split}removeResource(e,t,n){this.removedResources||(this.removedResources=new Ule),this.removedResources.has(t)||this.removedResources.set(t,new Hle(e,n))}setValid(e,t,n){n?this.invalidatedResources&&(this.invalidatedResources.delete(t),0===this.invalidatedResources.size&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new Ule),this.invalidatedResources.has(t)||this.invalidatedResources.set(t,new Hle(e,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class qle{constructor(e,t){this.resourceLabel=e,this.strResource=t,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const e of this._past)1===e.type&&e.removeResource(this.resourceLabel,this.strResource,0);for(const e of this._future)1===e.type&&e.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let e=[];e.push(`* ${this.strResource}:`);for(let t=0;t<this._past.length;t++)e.push(`   * [UNDO] ${this._past[t]}`);for(let t=this._future.length-1;t>=0;t--)e.push(`   * [REDO] ${this._future[t]}`);return e.join("\n")}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(e,t){1===e.type?e.setValid(this.resourceLabel,this.strResource,t):e.setValid(t)}setElementsValidFlag(e,t){for(const n of this._past)t(n.actual)&&this._setElementValidFlag(n,e);for(const n of this._future)t(n.actual)&&this._setElementValidFlag(n,e)}pushElement(e){for(const t of this._future)1===t.type&&t.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(e),this.versionId++}createSnapshot(e){const t=[];for(let n=0,i=this._past.length;n<i;n++)t.push(this._past[n].id);for(let n=this._future.length-1;n>=0;n--)t.push(this._future[n].id);return new D1(e,t)}restoreSnapshot(e){const t=e.elements.length;let n=!0,i=0,r=-1;for(let s=0,a=this._past.length;s<a;s++,i++){const o=this._past[s];n&&(i>=t||o.id!==e.elements[i])&&(n=!1,r=0),n||1!==o.type||o.removeResource(this.resourceLabel,this.strResource,0)}let o=-1;for(let s=this._future.length-1;s>=0;s--,i++){const r=this._future[s];n&&(i>=t||r.id!==e.elements[i])&&(n=!1,o=s),n||1!==r.type||r.removeResource(this.resourceLabel,this.strResource,0)}-1!==r&&(this._past=this._past.slice(0,r)),-1!==o&&(this._future=this._future.slice(o+1)),this.versionId++}getElements(){const e=[],t=[];for(const n of this._past)e.push(n.actual);for(const n of this._future)t.push(n.actual);return{past:e,future:t}}getClosestPastElement(){return 0===this._past.length?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return 0===this._future.length?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(e,t){for(let n=this._past.length-1;n>=0;n--)if(this._past[n]===e){t.has(this.strResource)?this._past[n]=t.get(this.strResource):this._past.splice(n,1);break}this.versionId++}splitFutureWorkspaceElement(e,t){for(let n=this._future.length-1;n>=0;n--)if(this._future[n]===e){t.has(this.strResource)?this._future[n]=t.get(this.strResource):this._future.splice(n,1);break}this.versionId++}moveBackward(e){this._past.pop(),this._future.push(e),this.versionId++}moveForward(e){this._future.pop(),this._past.push(e),this.versionId++}}class Kle{constructor(e){this.editStacks=e,this._versionIds=[];for(let t=0,n=this.editStacks.length;t<n;t++)this._versionIds[t]=this.editStacks[t].versionId}isValid(){for(let e=0,t=this.editStacks.length;e<t;e++)if(this._versionIds[e]!==this.editStacks[e].versionId)return!1;return!0}}const Yle=new qle("","");Yle.locked=!0;let Gle=class{constructor(e,t){this._dialogService=e,this._notificationService=t,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(e){for(const t of this._uriComparisonKeyComputers)if(t[0]===e.scheme)return t[1].getComparisonKey(e);return e.toString()}_print(e){console.log("------------------------------------"),console.log(`AFTER ${e}: `);let t=[];for(const n of this._editStacks)t.push(n[1].toString());console.log(t.join("\n"))}pushElement(e,t=E1.None,n=L1.None){if(0===e.type){const i=zle(e.resource),r=this.getUriComparisonKey(e.resource);this._pushElement(new Wle(e,i,r,t.id,t.nextOrder(),n.id,n.nextOrder()))}else{const i=new Set,r=[],o=[];for(const t of e.resources){const e=zle(t),n=this.getUriComparisonKey(t);i.has(n)||(i.add(n),r.push(e),o.push(n))}1===r.length?this._pushElement(new Wle(e,r[0],o[0],t.id,t.nextOrder(),n.id,n.nextOrder())):this._pushElement(new $le(e,r,o,t.id,t.nextOrder(),n.id,n.nextOrder()))}}_pushElement(e){for(let t=0,n=e.strResources.length;t<n;t++){const n=e.resourceLabels[t],i=e.strResources[t];let r;this._editStacks.has(i)?r=this._editStacks.get(i):(r=new qle(n,i),this._editStacks.set(i,r)),r.pushElement(e)}}getLastElement(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){const e=this._editStacks.get(t);if(e.hasFutureElements())return null;const n=e.getClosestPastElement();return n?n.actual:null}return null}_splitPastWorkspaceElement(e,t){const n=e.actual.split(),i=new Map;for(const r of n){const e=zle(r.resource),t=this.getUriComparisonKey(r.resource),n=new Wle(r,e,t,0,0,0,0);i.set(n.strResource,n)}for(const r of e.strResources){if(t&&t.has(r))continue;this._editStacks.get(r).splitPastWorkspaceElement(e,i)}}_splitFutureWorkspaceElement(e,t){const n=e.actual.split(),i=new Map;for(const r of n){const e=zle(r.resource),t=this.getUriComparisonKey(r.resource),n=new Wle(r,e,t,0,0,0,0);i.set(n.strResource,n)}for(const r of e.strResources){if(t&&t.has(r))continue;this._editStacks.get(r).splitFutureWorkspaceElement(e,i)}}removeElements(e){const t="string"==typeof e?e:this.getUriComparisonKey(e);if(this._editStacks.has(t)){this._editStacks.get(t).dispose(),this._editStacks.delete(t)}}setElementsValidFlag(e,t,n){const i=this.getUriComparisonKey(e);if(this._editStacks.has(i)){this._editStacks.get(i).setElementsValidFlag(t,n)}}createSnapshot(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){return this._editStacks.get(t).createSnapshot(e)}return new D1(e,[])}restoreSnapshot(e){const t=this.getUriComparisonKey(e.resource);if(this._editStacks.has(t)){const n=this._editStacks.get(t);n.restoreSnapshot(e),n.hasPastElements()||n.hasFutureElements()||(n.dispose(),this._editStacks.delete(t))}}getElements(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){return this._editStacks.get(t).getElements()}return{past:[],future:[]}}_findClosestUndoElementWithSource(e){if(!e)return[null,null];let t=null,n=null;for(const[i,r]of this._editStacks){const o=r.getClosestPastElement();o&&(o.sourceId===e&&(!t||o.sourceOrder>t.sourceOrder)&&(t=o,n=i))}return[t,n]}canUndo(e){if(e instanceof L1){const[,t]=this._findClosestUndoElementWithSource(e.id);return!!t}const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){return this._editStacks.get(t).hasPastElements()}return!1}_onError(e,t){IP(e);for(const n of t.strResources)this.removeElements(n);this._notificationService.error(e)}_acquireLocks(e){for(const t of e.editStacks)if(t.locked)throw new Error("Cannot acquire edit stack lock");for(const t of e.editStacks)t.locked=!0;return()=>{for(const t of e.editStacks)t.locked=!1}}_safeInvokeWithLocks(e,t,n,i,r){const o=this._acquireLocks(n);let s;try{s=t()}catch(a){return o(),i.dispose(),this._onError(a,e)}return s?s.then((()=>(o(),i.dispose(),r())),(t=>(o(),i.dispose(),this._onError(t,e)))):(o(),i.dispose(),r())}_invokeWorkspacePrepare(e){return jle(this,void 0,void 0,(function*(){if(void 0===e.actual.prepareUndoRedo)return KP.None;const t=e.actual.prepareUndoRedo();return void 0===t?KP.None:t}))}_invokeResourcePrepare(e,t){if(1!==e.actual.type||void 0===e.actual.prepareUndoRedo)return t(KP.None);const n=e.actual.prepareUndoRedo();return n?"function"==typeof(i=n).dispose&&0===i.dispose.length?t(n):n.then((e=>t(e))):t(KP.None);var i}_getAffectedEditStacks(e){const t=[];for(const n of e.strResources)t.push(this._editStacks.get(n)||Yle);return new Kle(t)}_tryToSplitAndUndo(e,t,n,i){if(t.canSplit())return this._splitPastWorkspaceElement(t,n),this._notificationService.warn(i),new Xle(this._undo(e,0,!0));for(const r of t.strResources)this.removeElements(r);return this._notificationService.warn(i),new Xle}_checkWorkspaceUndo(e,t,n,i){if(t.removedResources)return this._tryToSplitAndUndo(e,t,t.removedResources,DR(0,"Could not undo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(i&&t.invalidatedResources)return this._tryToSplitAndUndo(e,t,t.invalidatedResources,DR(0,"Could not undo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const r=[];for(const s of n.editStacks)s.getClosestPastElement()!==t&&r.push(s.resourceLabel);if(r.length>0)return this._tryToSplitAndUndo(e,t,null,DR(0,"Could not undo '{0}' across all files because changes were made to {1}",t.label,r.join(", ")));const o=[];for(const s of n.editStacks)s.locked&&o.push(s.resourceLabel);return o.length>0?this._tryToSplitAndUndo(e,t,null,DR(0,"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,o.join(", "))):n.isValid()?null:this._tryToSplitAndUndo(e,t,null,DR(0,"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceUndo(e,t,n){const i=this._getAffectedEditStacks(t),r=this._checkWorkspaceUndo(e,t,i,!1);return r?r.returnValue:this._confirmAndExecuteWorkspaceUndo(e,t,i,n)}_isPartOfUndoGroup(e){if(!e.groupId)return!1;for(const[,t]of this._editStacks){const n=t.getClosestPastElement();if(n){if(n===e){const n=t.getSecondClosestPastElement();if(n&&n.groupId===e.groupId)return!0}if(n.groupId===e.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(e,t,n,i){return jle(this,void 0,void 0,(function*(){if(t.canSplit()&&!this._isPartOfUndoGroup(t)){const r=yield this._dialogService.show(KG.Info,DR(0,"Would you like to undo '{0}' across all files?",t.label),[DR(0,"Undo in {0} Files",n.editStacks.length),DR(0,"Undo this File"),DR(0,"Cancel")],{cancelId:2});if(2===r.choice)return;if(1===r.choice)return this._splitPastWorkspaceElement(t,null),this._undo(e,0,!0);const o=this._checkWorkspaceUndo(e,t,n,!1);if(o)return o.returnValue;i=!0}let r;try{r=yield this._invokeWorkspacePrepare(t)}catch(s){return this._onError(s,t)}const o=this._checkWorkspaceUndo(e,t,n,!0);if(o)return r.dispose(),o.returnValue;for(const e of n.editStacks)e.moveBackward(t);return this._safeInvokeWithLocks(t,(()=>t.actual.undo()),n,r,(()=>this._continueUndoInGroup(t.groupId,i)))}))}_resourceUndo(e,t,n){if(t.isValid){if(!e.locked)return this._invokeResourcePrepare(t,(i=>(e.moveBackward(t),this._safeInvokeWithLocks(t,(()=>t.actual.undo()),new Kle([e]),i,(()=>this._continueUndoInGroup(t.groupId,n))))));{const e=DR(0,"Could not undo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(e)}}else e.flushAllElements()}_findClosestUndoElementInGroup(e){if(!e)return[null,null];let t=null,n=null;for(const[i,r]of this._editStacks){const o=r.getClosestPastElement();o&&(o.groupId===e&&(!t||o.groupOrder>t.groupOrder)&&(t=o,n=i))}return[t,n]}_continueUndoInGroup(e,t){if(!e)return;const[,n]=this._findClosestUndoElementInGroup(e);return n?this._undo(n,0,t):void 0}undo(e){if(e instanceof L1){const[,t]=this._findClosestUndoElementWithSource(e.id);return t?this._undo(t,e.id,!1):void 0}return"string"==typeof e?this._undo(e,0,!1):this._undo(this.getUriComparisonKey(e),0,!1)}_undo(e,t=0,n){if(!this._editStacks.has(e))return;const i=this._editStacks.get(e),r=i.getClosestPastElement();if(!r)return;if(r.groupId){const[e,i]=this._findClosestUndoElementInGroup(r.groupId);if(r!==e&&i)return this._undo(i,t,n)}if((r.sourceId!==t||r.confirmBeforeUndo)&&!n)return this._confirmAndContinueUndo(e,t,r);try{return 1===r.type?this._workspaceUndo(e,r,n):this._resourceUndo(i,r,n)}finally{}}_confirmAndContinueUndo(e,t,n){return jle(this,void 0,void 0,(function*(){if(1!==(yield this._dialogService.show(KG.Info,DR(0,"Would you like to undo '{0}'?",n.label),[DR(0,"Yes"),DR(0,"Cancel")],{cancelId:1})).choice)return this._undo(e,t,!0)}))}_findClosestRedoElementWithSource(e){if(!e)return[null,null];let t=null,n=null;for(const[i,r]of this._editStacks){const o=r.getClosestFutureElement();o&&(o.sourceId===e&&(!t||o.sourceOrder<t.sourceOrder)&&(t=o,n=i))}return[t,n]}canRedo(e){if(e instanceof L1){const[,t]=this._findClosestRedoElementWithSource(e.id);return!!t}const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){return this._editStacks.get(t).hasFutureElements()}return!1}_tryToSplitAndRedo(e,t,n,i){if(t.canSplit())return this._splitFutureWorkspaceElement(t,n),this._notificationService.warn(i),new Xle(this._redo(e));for(const r of t.strResources)this.removeElements(r);return this._notificationService.warn(i),new Xle}_checkWorkspaceRedo(e,t,n,i){if(t.removedResources)return this._tryToSplitAndRedo(e,t,t.removedResources,DR(0,"Could not redo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(i&&t.invalidatedResources)return this._tryToSplitAndRedo(e,t,t.invalidatedResources,DR(0,"Could not redo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const r=[];for(const s of n.editStacks)s.getClosestFutureElement()!==t&&r.push(s.resourceLabel);if(r.length>0)return this._tryToSplitAndRedo(e,t,null,DR(0,"Could not redo '{0}' across all files because changes were made to {1}",t.label,r.join(", ")));const o=[];for(const s of n.editStacks)s.locked&&o.push(s.resourceLabel);return o.length>0?this._tryToSplitAndRedo(e,t,null,DR(0,"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,o.join(", "))):n.isValid()?null:this._tryToSplitAndRedo(e,t,null,DR(0,"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceRedo(e,t){const n=this._getAffectedEditStacks(t),i=this._checkWorkspaceRedo(e,t,n,!1);return i?i.returnValue:this._executeWorkspaceRedo(e,t,n)}_executeWorkspaceRedo(e,t,n){return jle(this,void 0,void 0,(function*(){let i;try{i=yield this._invokeWorkspacePrepare(t)}catch(o){return this._onError(o,t)}const r=this._checkWorkspaceRedo(e,t,n,!0);if(r)return i.dispose(),r.returnValue;for(const e of n.editStacks)e.moveForward(t);return this._safeInvokeWithLocks(t,(()=>t.actual.redo()),n,i,(()=>this._continueRedoInGroup(t.groupId)))}))}_resourceRedo(e,t){if(t.isValid){if(!e.locked)return this._invokeResourcePrepare(t,(n=>(e.moveForward(t),this._safeInvokeWithLocks(t,(()=>t.actual.redo()),new Kle([e]),n,(()=>this._continueRedoInGroup(t.groupId))))));{const e=DR(0,"Could not redo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(e)}}else e.flushAllElements()}_findClosestRedoElementInGroup(e){if(!e)return[null,null];let t=null,n=null;for(const[i,r]of this._editStacks){const o=r.getClosestFutureElement();o&&(o.groupId===e&&(!t||o.groupOrder<t.groupOrder)&&(t=o,n=i))}return[t,n]}_continueRedoInGroup(e){if(!e)return;const[,t]=this._findClosestRedoElementInGroup(e);return t?this._redo(t):void 0}redo(e){if(e instanceof L1){const[,t]=this._findClosestRedoElementWithSource(e.id);return t?this._redo(t):void 0}return"string"==typeof e?this._redo(e):this._redo(this.getUriComparisonKey(e))}_redo(e){if(!this._editStacks.has(e))return;const t=this._editStacks.get(e),n=t.getClosestFutureElement();if(n){if(n.groupId){const[e,t]=this._findClosestRedoElementInGroup(n.groupId);if(n!==e&&t)return this._redo(t)}try{return 1===n.type?this._workspaceRedo(e,n):this._resourceRedo(t,n)}finally{}}}};Gle=Ple([Ble(0,foe),Ble(1,hZ)],Gle);class Xle{constructor(e){this.returnValue=e}}DK(S1,Gle);const Zle=new RegExp(`(\\\\)?\\$\\((${k$.iconNameExpression}(?:${k$.iconModifierExpression})?)\\)`,"g");function Jle(e){const t=new Array;let n,i=0,r=0;for(;null!==(n=Zle.exec(e));){r=n.index||0,t.push(e.substring(i,r)),i=(n.index||0)+n[0].length;const[,o,s]=n;t.push(o?`$(${s})`:Qle({id:s}))}return i<e.length&&t.push(e.substring(i)),t}function Qle(e){const t=wW("span");return t.classList.add(...k$.asClassNameArray(e)),t}const ece={buttonBackground:C1.fromHex("#0E639C"),buttonHoverBackground:C1.fromHex("#006BB3"),buttonForeground:C1.white};class tce extends KP{constructor(e,t){super(),this._onDidClick=this._register(new nB),this.options=t||Object.create(null),xU(this.options,ece,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),e.appendChild(this._element),this._register(rQ.addTarget(this._element)),[hW.CLICK,tQ.Tap].forEach((e=>{this._register(AV(this._element,e,(e=>{this.enabled?this._onDidClick.fire(e):dW(e)})))})),this._register(AV(this._element,hW.KEY_DOWN,(e=>{const t=new iV(e);let n=!1;this.enabled&&(t.equals(3)||t.equals(10))?(this._onDidClick.fire(e),n=!0):t.equals(9)&&(this._element.blur(),n=!0),n&&dW(t,!0)}))),this._register(AV(this._element,hW.MOUSE_OVER,(e=>{this._element.classList.contains("disabled")||this.setHoverBackground()}))),this._register(AV(this._element,hW.MOUSE_OUT,(e=>{this.applyStyles()}))),this.focusTracker=this._register(pW(this._element)),this._register(this.focusTracker.onDidFocus((()=>this.setHoverBackground()))),this._register(this.focusTracker.onDidBlur((()=>this.applyStyles()))),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let e;e=this.options.secondary?this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:this.buttonHoverBackground?this.buttonHoverBackground.toString():null,e&&(this._element.style.backgroundColor=e)}style(e){this.buttonForeground=e.buttonForeground,this.buttonBackground=e.buttonBackground,this.buttonHoverBackground=e.buttonHoverBackground,this.buttonSecondaryForeground=e.buttonSecondaryForeground,this.buttonSecondaryBackground=e.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=e.buttonSecondaryHoverBackground,this.buttonBorder=e.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let e,t;this.options.secondary?(t=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",e=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(t=this.buttonForeground?this.buttonForeground.toString():"",e=this.buttonBackground?this.buttonBackground.toString():"");const n=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=t,this._element.style.backgroundColor=e,this._element.style.borderWidth=n?"1px":"",this._element.style.borderStyle=n?"solid":"",this._element.style.borderColor=n}}get element(){return this._element}set label(e){this._element.classList.add("monaco-text-button"),this.options.supportIcons?mW(this._element,...Jle(e)):this._element.textContent=e,"string"==typeof this.options.title?this._element.title=this.options.title:this.options.title&&(this._element.title=e)}set enabled(e){e?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}const nce={badgeBackground:C1.fromHex("#4D4D4D"),badgeForeground:C1.fromHex("#FFFFFF")};class ice{constructor(e,t){this.count=0,this.options=t||Object.create(null),xU(this.options,nce,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=gW(e,wW(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(e){this.count=e,this.render()}setTitleFormat(e){this.titleFormat=e,this.render()}render(){this.element.textContent=NW(this.countFormat,this.count),this.element.title=NW(this.titleFormat,this.count),this.applyStyles()}style(e){this.badgeBackground=e.badgeBackground,this.badgeForeground=e.badgeForeground,this.badgeBorder=e.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const e=this.badgeBackground?this.badgeBackground.toString():"",t=this.badgeForeground?this.badgeForeground.toString():"",n=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=e,this.element.style.color=t,this.element.style.borderWidth=n?"1px":"",this.element.style.borderStyle=n?"solid":"",this.element.style.borderColor=n}}}const rce={progressBarBackground:C1.fromHex("#0E70C0")};class oce extends KP{constructor(e,t){super(),this.options=t||Object.create(null),xU(this.options,rce,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this._register(this.showDelayedScheduler=new bV((()=>CW(this.element)),0)),this.create(e)}create(e){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),e.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove("active","infinite","discrete"),this.workedVal=0,this.totalWork=void 0}stop(){return this.doDone(!1)}doDone(e){return this.element.classList.add("done"),this.element.classList.contains("infinite")?(this.bit.style.opacity="0",e?setTimeout((()=>this.off()),200):this.off()):(this.bit.style.width="inherit",e?setTimeout((()=>this.off()),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove("discrete","done"),this.element.classList.add("active","infinite"),this}getContainer(){return this.element}style(e){this.progressBarBackground=e.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const e=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=e}}}class sce{constructor(e){this._prefix=e,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}new sce("id#");const ace={},lce=new sce("quick-input-button-icon-");function cce(e){if(!e)return;let t;const n=e.dark.toString();return ace[n]?t=ace[n]:(t=lce.nextId(),lW(`.${t}`,`background-image: ${DW(e.light||e.dark)}`),lW(`.vs-dark .${t}, .hc-black .${t}`,`background-image: ${DW(e.dark)}`),ace[n]=t),t}const uce={ctrlCmd:!1,alt:!1};var hce,dce,fce,pce;function gce(e,t={}){const n=mce(t);return yce(n,function(e,t){const n={type:1,children:[]};let i=0,r=n;const o=[],s=new vce(e);for(;!s.eos();){let e=s.next();const n="\\"===e&&0!==_ce(s.peek(),t);if(n&&(e=s.next()),!n&&bce(e,t)&&e===s.peek()){s.advance(),2===r.type&&(r=o.pop());const n=_ce(e,t);if(r.type===n||5===r.type&&6===n)r=o.pop();else{const e={type:n,children:[]};5===n&&(e.index=i,i++),r.children.push(e),o.push(r),r=e}}else if("\n"===e)2===r.type&&(r=o.pop()),r.children.push({type:8});else if(2!==r.type){const t={type:2,content:e};r.children.push(t),o.push(r),r=t}else r.content+=e}2===r.type&&(r=o.pop());return n}(e,!!t.renderCodeSegments),t.actionHandler,t.renderCodeSegments),n}function mce(e){const t=e.inline?"span":"div",n=document.createElement(t);return e.className&&(n.className=e.className),n}(dce=hce||(hce={}))[dce.Blur=1]="Blur",dce[dce.Gesture=2]="Gesture",dce[dce.Other=3]="Other",(pce=fce||(fce={}))[pce.NONE=0]="NONE",pce[pce.FIRST=1]="FIRST",pce[pce.SECOND=2]="SECOND",pce[pce.LAST=3]="LAST";class vce{constructor(e){this.source=e,this.index=0}eos(){return this.index>=this.source.length}next(){const e=this.peek();return this.advance(),e}peek(){return this.source[this.index]}advance(){this.index++}}function yce(e,t,n,i){let r;if(2===t.type)r=document.createTextNode(t.content||"");else if(3===t.type)r=document.createElement("b");else if(4===t.type)r=document.createElement("i");else if(7===t.type&&i)r=document.createElement("code");else if(5===t.type&&n){const e=document.createElement("a");e.href="#",n.disposables.add(IV(e,"click",(e=>{n.callback(String(t.index),e)}))),r=e}else 8===t.type?r=document.createElement("br"):1===t.type&&(r=e);r&&e!==r&&e.appendChild(r),r&&Array.isArray(t.children)&&t.children.forEach((e=>{yce(r,e,n,i)}))}function bce(e,t){return 0!==_ce(e,t)}function _ce(e,t){switch(e){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return t?7:0;default:return 0}}const wce=wW,Cce={inputBackground:C1.fromHex("#3C3C3C"),inputForeground:C1.fromHex("#CCCCCC"),inputValidationInfoBorder:C1.fromHex("#55AAFF"),inputValidationInfoBackground:C1.fromHex("#063B49"),inputValidationWarningBorder:C1.fromHex("#B89500"),inputValidationWarningBackground:C1.fromHex("#352A05"),inputValidationErrorBorder:C1.fromHex("#BE1100"),inputValidationErrorBackground:C1.fromHex("#5A1D1D")};class xce extends r7{constructor(e,t,n){var i;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new nB),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new nB),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=t,this.options=n||Object.create(null),xU(this.options,Cce,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=null!==(i=this.options.tooltip)&&void 0!==i?i:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=gW(e,wce(".monaco-inputbox.idle"));let r=this.options.flexibleHeight?"textarea":"input",o=gW(this.element,wce(".ibwrapper"));if(this.input=gW(o,wce(r+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,(()=>this.element.classList.add("synthetic-focus"))),this.onblur(this.input,(()=>this.element.classList.remove("synthetic-focus"))),this.options.flexibleHeight){this.maxHeight="number"==typeof this.options.flexibleMaxHeight?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=gW(o,wce("div.mirror")),this.mirror.innerText="",this.scrollableElement=new x7(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),gW(e,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll((e=>this.input.scrollTop=e.scrollTop)));const t=this._register(new lte(document,"selectionchange")),n=eB.filter(t.event,(()=>{const e=document.getSelection();return(null==e?void 0:e.anchorNode)===o}));this._register(n(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,(()=>this.onValueChange())),this.onblur(this.input,(()=>this.onBlur())),this.onfocus(this.input,(()=>this.onFocus())),this.ignoreGesture(this.input),setTimeout((()=>this.updateMirror()),0),this.options.actions&&(this.actionbar=this._register(new Lte(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(e){this.placeholder=e,this.input.setAttribute("placeholder",e)}setTooltip(e){this.tooltip=e,this.input.title=e}setAriaLabel(e){this.ariaLabel=e,e?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(e){this.input.value!==e&&(this.input.value=e,this.onValueChange())}get height(){return"number"==typeof this.cachedHeight?this.cachedHeight:ZV(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(e=null){this.input.select(),e&&(this.input.setSelectionRange(e.start,e.end),e.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return YV(this.input)}set width(e){if(this.options.flexibleHeight&&this.options.flexibleWidth){let t=0;if(this.mirror){t=(parseFloat(this.mirror.style.paddingLeft||"")||0)+(parseFloat(this.mirror.style.paddingRight||"")||0)}this.input.style.width=e-t+"px"}else this.input.style.width=e+"px";this.mirror&&(this.mirror.style.width=e+"px")}set paddingRight(e){this.options.flexibleHeight&&this.options.flexibleWidth?this.input.style.width=`calc(100% - ${e}px)`:this.input.style.paddingRight=e+"px",this.mirror&&(this.mirror.style.paddingRight=e+"px")}updateScrollDimensions(){if("number"!=typeof this.cachedContentHeight||"number"!=typeof this.cachedHeight||!this.scrollableElement)return;const e=this.cachedContentHeight,t=this.cachedHeight,n=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:e,height:t}),this.scrollableElement.setScrollPosition({scrollTop:n})}showMessage(e,t){this.message=e,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(e.type));const n=this.stylesForType(this.message.type);this.element.style.border=n.border?`1px solid ${n.border}`:"",(this.hasFocus()||t)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let e=null;return this.validation&&(e=this.validation(this.value),e?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(e)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),null==e?void 0:e.type}stylesForType(e){switch(e){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(e){switch(e){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let e,t,n=()=>e.style.width=YV(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:t=>{if(!this.message)return null;e=gW(t,wce(".monaco-inputbox-container")),n();const i={inline:!0,className:"monaco-inputbox-message"},r=this.message.formatContent?gce(this.message.content,i):function(e,t={}){const n=mce(t);return n.textContent=e,n}(this.message.content,i);r.classList.add(this.classForType(this.message.type));const o=this.stylesForType(this.message.type);return r.style.backgroundColor=o.background?o.background.toString():"",r.style.color=o.foreground?o.foreground.toString():"",r.style.border=o.border?`1px solid ${o.border}`:"",gW(e,r),null},onHide:()=>{this.state="closed"},layout:n}),t=3===this.message.type?DR(0,"Error: {0}",this.message.content):2===this.message.type?DR(0,"Warning: {0}",this.message.content):DR(0,"Info: {0}",this.message.content),QZ(t),this.state="open"}_hideMessage(){this.contextViewProvider&&("open"===this.state&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),"open"===this.state&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const e=this.value,t=10===e.charCodeAt(e.length-1)?" ":"";(e+t).replace(/\u000c/g,"")?this.mirror.textContent=e+t:this.mirror.innerText="",this.layout()}style(e){this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const e=this.inputBackground?this.inputBackground.toString():"",t=this.inputForeground?this.inputForeground.toString():"",n=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=e,this.element.style.color=t,this.input.style.backgroundColor="inherit",this.input.style.color=t,this.element.style.borderWidth=n?"1px":"",this.element.style.borderStyle=n?"solid":"",this.element.style.borderColor=n}layout(){if(!this.mirror)return;const e=this.cachedContentHeight;this.cachedContentHeight=ZV(this.mirror),e!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(e){const t=this.inputElement,n=t.selectionStart,i=t.selectionEnd,r=t.value;null!==n&&null!==i&&(this.value=r.substr(0,n)+e+r.substr(i),t.setSelectionRange(n+1,n+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}const kce=wW;class Sce extends KP{constructor(e){super(),this.parent=e,this.onKeyDown=e=>AV(this.inputBox.inputElement,hW.KEY_DOWN,(t=>{e(new iV(t))})),this.onMouseDown=e=>AV(this.inputBox.inputElement,hW.MOUSE_DOWN,(t=>{e(new lV(t))})),this.onDidChange=e=>this.inputBox.onDidChange(e),this.container=gW(this.parent,kce(".quick-input-box")),this.inputBox=this._register(new xce(this.container,void 0))}get value(){return this.inputBox.value}set value(e){this.inputBox.value=e}select(e=null){this.inputBox.select(e)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(e){this.inputBox.setPlaceHolder(e)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(e){this.inputBox.setAriaLabel(e)}get password(){return"password"===this.inputBox.inputElement.type}set password(e){this.inputBox.inputElement.type=e?"password":"text"}setAttribute(e,t){this.inputBox.inputElement.setAttribute(e,t)}removeAttribute(e){this.inputBox.inputElement.removeAttribute(e)}showDecoration(e){e===KG.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:e===KG.Info?1:e===KG.Warning?2:3,content:""})}stylesForType(e){return this.inputBox.stylesForType(e===KG.Info?1:e===KG.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(e){this.inputBox.style(e)}}class Dce{constructor(e,t){this.supportIcons=t,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label",e.appendChild(this.domNode)}get element(){return this.domNode}set(e,t=[],n="",i){e||(e=""),i&&(e=Dce.escapeNewLines(e,t)),this.didEverRender&&this.text===e&&this.title===n&&kU(this.highlights,t)||(this.text=e,this.title=n,this.highlights=t,this.render())}render(){const e=[];let t=0;for(const n of this.highlights){if(n.end===n.start)continue;if(t<n.start){const i=this.text.substring(t,n.start);e.push(wW("span",void 0,...this.supportIcons?Jle(i):[i])),t=n.end}const i=this.text.substring(n.start,n.end),r=wW("span.highlight",void 0,...this.supportIcons?Jle(i):[i]);n.extraClasses&&r.classList.add(n.extraClasses),e.push(r),t=n.end}if(t<this.text.length){const n=this.text.substring(t);e.push(wW("span",void 0,...this.supportIcons?Jle(n):[n]))}mW(this.domNode,...e),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(e,t){let n=0,i=0;return e.replace(/\r\n|\r|\n/g,((e,r)=>{i="\r\n"===e?-1:0,r+=n;for(const n of t)n.end<=r||(n.start>=r&&(n.start+=i),n.end>=r&&(n.end+=i));return n+=i,""}))}}function Ece(e){return e instanceof class{constructor(e="",t=!1){var n,i,r;if(this.value=e,"string"!=typeof this.value)throw BP("value");"boolean"==typeof t?(this.isTrusted=t,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=null!==(n=t.isTrusted)&&void 0!==n?n:void 0,this.supportThemeIcons=null!==(i=t.supportThemeIcons)&&void 0!==i&&i,this.supportHtml=null!==(r=t.supportHtml)&&void 0!==r&&r)}appendText(e,t=0){var n;return this.value+=function(e){return e.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")}(this.supportThemeIcons?(n=e,n.replace(jre,((e,t)=>t?e:`\\${e}`))):e).replace(/([ \t]+)/g,((e,t)=>"&nbsp;".repeat(t.length))).replace(/\>/gm,"\\>").replace(/\n/g,1===t?"\\\n":"\n\n"),this}appendMarkdown(e){return this.value+=e,this}appendCodeblock(e,t){return this.value+="\n```",this.value+=e,this.value+="\n",this.value+=t,this.value+="\n```\n",this}}||!(!e||"object"!=typeof e)&&!("string"!=typeof e.value||"boolean"!=typeof e.isTrusted&&void 0!==e.isTrusted||"boolean"!=typeof e.supportThemeIcons&&void 0!==e.supportThemeIcons)}var Lce=globalThis&&globalThis.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(nR){o(nR)}}function a(e){try{l(i.throw(e))}catch(nR){o(nR)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class Tce{constructor(e,t,n){this.hoverDelegate=e,this.target=t,this.fadeInAnimation=n}update(e,t){var n;return Lce(this,void 0,void 0,(function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let i;if(void 0===e||GH(e)||e instanceof HTMLElement)i=e;else if(iU(e.markdown)){this._hoverWidget||this.show(DR(0,"Loading..."),t),this._cancellationTokenSource=new hB;const n=this._cancellationTokenSource.token;if(i=yield e.markdown(n),this.isDisposed||n.isCancellationRequested)return}else i=null!==(n=e.markdown)&&void 0!==n?n:e.markdownNotSupportedFallback;this.show(i,t)}))}show(e,t){const n=this._hoverWidget;if(this.hasContent(e)){const i={content:e,target:this.target,showPointer:"element"===this.hoverDelegate.placement,hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!n};this._hoverWidget=this.hoverDelegate.showHover(i,t)}null==n||n.dispose()}hasContent(e){return!!e&&(!Ece(e)||!!e.value)}get isDisposed(){var e;return null===(e=this._hoverWidget)||void 0===e?void 0:e.isDisposed}dispose(){var e,t;null===(e=this._hoverWidget)||void 0===e||e.dispose(),null===(t=this._cancellationTokenSource)||void 0===t||t.dispose(!0),this._cancellationTokenSource=void 0}}class Nce{constructor(e){this._element=e}get element(){return this._element}set textContent(e){this.disposed||e===this._textContent||(this._textContent=e,this._element.textContent=e)}set className(e){this.disposed||e===this._className||(this._className=e,this._element.className=e)}set empty(e){this.disposed||e===this._empty||(this._empty=e,this._element.style.marginLeft=e?"0":"")}dispose(){this.disposed=!0}}class Mce extends KP{constructor(e,t){super(),this.customHovers=new Map,this.domNode=this._register(new Nce(gW(e,wW(".monaco-icon-label")))),this.labelContainer=gW(this.domNode.element,wW(".monaco-icon-label-container"));const n=gW(this.labelContainer,wW("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new Nce(gW(this.labelContainer,wW("span.monaco-icon-description-container")))),(null==t?void 0:t.supportHighlights)||(null==t?void 0:t.supportIcons)?this.nameNode=new Ice(n,!!t.supportIcons):this.nameNode=new Ace(n),(null==t?void 0:t.supportDescriptionHighlights)?this.descriptionNodeFactory=()=>new Dce(gW(this.descriptionContainer.element,wW("span.label-description")),!!t.supportIcons):this.descriptionNodeFactory=()=>this._register(new Nce(gW(this.descriptionContainer.element,wW("span.label-description")))),this.hoverDelegate=null==t?void 0:t.hoverDelegate}get element(){return this.domNode.element}setLabel(e,t,n){const i=["monaco-icon-label"];n&&(n.extraClasses&&i.push(...n.extraClasses),n.italic&&i.push("italic"),n.strikethrough&&i.push("strikethrough")),this.domNode.className=i.join(" "),this.setupHover((null==n?void 0:n.descriptionTitle)?this.labelContainer:this.element,null==n?void 0:n.title),this.nameNode.setLabel(e,n),(t||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof Dce?(this.descriptionNode.set(t||"",n?n.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,null==n?void 0:n.descriptionTitle)):(this.descriptionNode.textContent=t||"",this.setupHover(this.descriptionNode.element,(null==n?void 0:n.descriptionTitle)||""),this.descriptionNode.empty=!t))}setupHover(e,t){const n=this.customHovers.get(e);if(n&&(n.dispose(),this.customHovers.delete(e)),t)if(this.hoverDelegate){const n=function(e,t,n){let i,r;const o=(t,n)=>{var o;t&&(null==r||r.dispose(),r=void 0),n&&(null==i||i.dispose(),i=void 0),null===(o=e.onDidHideHover)||void 0===o||o.call(e)},s=(i,o,s)=>new vV((()=>Lce(this,void 0,void 0,(function*(){r&&!r.isDisposed||(r=new Tce(e,s||t,i>0),yield r.update(n,o))}))),i),a=AV(t,hW.MOUSE_OVER,(()=>{if(i)return;const n=new qP;n.add(AV(t,hW.MOUSE_LEAVE,(e=>o(!1,e.fromElement===t)),!0)),n.add(AV(t,hW.MOUSE_DOWN,(()=>o(!0,!0)),!0));const r={targetElements:[t],dispose:()=>{}};if(void 0===e.placement||"mouse"===e.placement){const e=e=>r.x=e.x+10;n.add(AV(t,hW.MOUSE_MOVE,e,!0))}n.add(s(e.delay,!1,r)),i=n}),!0);return{show:e=>{o(!1,!0),s(0,e)},hide:()=>{o(!0,!0)},update:e=>Lce(this,void 0,void 0,(function*(){n=e,yield null==r?void 0:r.update(n)})),dispose:()=>{a.dispose(),o(!0,!0)}}}(this.hoverDelegate,e,t);n&&this.customHovers.set(e,n)}else!function(e,t){GH(t)?e.title=t:(null==t?void 0:t.markdownNotSupportedFallback)?e.title=t.markdownNotSupportedFallback:e.removeAttribute("title")}(e,t);else e.removeAttribute("title")}dispose(){super.dispose();for(const e of this.customHovers.values())e.dispose();this.customHovers.clear()}}class Ace{constructor(e){this.container=e,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(this.label!==e||!kU(this.options,t))if(this.label=e,this.options=t,"string"==typeof e)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=gW(this.container,wW("a.label-name",{id:null==t?void 0:t.domId}))),this.singleLabel.textContent=e;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let n=0;n<e.length;n++){const i=e[n],r=(null==t?void 0:t.domId)&&`${null==t?void 0:t.domId}_${n}`;gW(this.container,wW("a.label-name",{id:r,"data-icon-label-count":e.length,"data-icon-label-index":n,role:"treeitem"},i)),n<e.length-1&&gW(this.container,wW("span.label-separator",void 0,(null==t?void 0:t.separator)||"/"))}}}}class Ice{constructor(e,t){this.container=e,this.supportIcons=t,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(this.label!==e||!kU(this.options,t))if(this.label=e,this.options=t,"string"==typeof e)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new Dce(gW(this.container,wW("a.label-name",{id:null==t?void 0:t.domId})),this.supportIcons)),this.singleLabel.set(e,null==t?void 0:t.matches,void 0,null==t?void 0:t.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const n=(null==t?void 0:t.separator)||"/",i=function(e,t,n){if(!n)return;let i=0;return e.map((e=>{const r={start:i,end:i+e.length},o=n.map((e=>ere.intersect(r,e))).filter((e=>!ere.isEmpty(e))).map((({start:e,end:t})=>({start:e-i,end:t-i})));return i=r.end+t.length,o}))}(e,n,null==t?void 0:t.matches);for(let r=0;r<e.length;r++){const o=e[r],s=i?i[r]:void 0,a=wW("a.label-name",{id:(null==t?void 0:t.domId)&&`${null==t?void 0:t.domId}_${r}`,"data-icon-label-count":e.length,"data-icon-label-index":r,role:"treeitem"});new Dce(gW(this.container,a),this.supportIcons).set(o,s,void 0,null==t?void 0:t.labelEscapeNewLines),r<e.length-1&&gW(a,wW("span.label-separator",void 0,n))}}}}const Oce=wW;class Fce{constructor(e,t,n){this.os=t,this.keyElements=new Set,this.options=n||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=gW(e,Oce(".monaco-keybinding")),this.didEverRender=!1,e.appendChild(this.domNode)}get element(){return this.domNode}set(e,t){this.didEverRender&&this.keybinding===e&&Fce.areSame(this.matches,t)||(this.keybinding=e,this.matches=t,this.render())}render(){if(this.clear(),this.keybinding){let[e,t]=this.keybinding.getParts();e&&this.renderPart(this.domNode,e,this.matches?this.matches.firstPart:null),t&&(gW(this.domNode,Oce("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,t,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){TV(this.domNode),this.keyElements.clear()}renderPart(e,t,n){const i=sZ.modifierLabels[this.os];t.ctrlKey&&this.renderKey(e,i.ctrlKey,Boolean(null==n?void 0:n.ctrlKey),i.separator),t.shiftKey&&this.renderKey(e,i.shiftKey,Boolean(null==n?void 0:n.shiftKey),i.separator),t.altKey&&this.renderKey(e,i.altKey,Boolean(null==n?void 0:n.altKey),i.separator),t.metaKey&&this.renderKey(e,i.metaKey,Boolean(null==n?void 0:n.metaKey),i.separator);const r=t.keyLabel;r&&this.renderKey(e,r,Boolean(null==n?void 0:n.keyCode),"")}renderKey(e,t,n,i){gW(e,this.createKeyElement(t,n?".highlight":"")),i&&gW(e,Oce("span.monaco-keybinding-key-separator",void 0,i))}renderUnbound(e){gW(e,this.createKeyElement(DR(0,"Unbound")))}createKeyElement(e,t=""){const n=Oce("span.monaco-keybinding-key"+t,void 0,e);return this.keyElements.add(n),n}style(e){this.labelBackground=e.keybindingLabelBackground,this.labelForeground=e.keybindingLabelForeground,this.labelBorder=e.keybindingLabelBorder,this.labelBottomBorder=e.keybindingLabelBottomBorder,this.labelShadow=e.keybindingLabelShadow,this.applyStyles()}applyStyles(){var e;if(this.element){for(const t of this.keyElements)this.labelBackground&&(t.style.backgroundColor=null===(e=this.labelBackground)||void 0===e?void 0:e.toString()),this.labelBorder&&(t.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(t.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(t.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(e,t){return e===t||!e&&!t||!!e&&!!t&&kU(e.firstPart,t.firstPart)&&kU(e.chordPart,t.chordPart)}}const Rce=new wV((()=>{const e=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:e,collatorIsNumeric:e.resolvedOptions().numeric}}));function Pce(e,t,n){const i=e.toLowerCase(),r=t.toLowerCase(),o=function(e,t,n){const i=e.toLowerCase(),r=t.toLowerCase(),o=i.startsWith(n),s=r.startsWith(n);if(o!==s)return o?-1:1;if(o&&s){if(i.length<r.length)return-1;if(i.length>r.length)return 1}return 0}(e,t,n);if(o)return o;const s=i.endsWith(n);if(s!==r.endsWith(n))return s?-1:1;const a=function(e,t,n=!1){const i=e||"",r=t||"",o=Rce.value.collator.compare(i,r);return Rce.value.collatorIsNumeric&&0===o&&i!==r?i<r?-1:1:o}(i,r);return 0!==a?a:i.localeCompare(r)}var Bce=globalThis&&globalThis.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},jce=globalThis&&globalThis.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(nR){o(nR)}}function a(e){try{l(i.throw(e))}catch(nR){o(nR)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const zce=wW;class Vce{constructor(e){this.hidden=!1,this._onChecked=new nB,this.onChecked=this._onChecked.event,Object.assign(this,e)}get checked(){return!!this._checked}set checked(e){e!==this._checked&&(this._checked=e,this._onChecked.fire(e))}dispose(){this._onChecked.dispose()}}class Wce{get templateId(){return Wce.ID}renderTemplate(e){const t=Object.create(null);t.toDisposeElement=[],t.toDisposeTemplate=[],t.entry=gW(e,zce(".quick-input-list-entry"));const n=gW(t.entry,zce("label.quick-input-list-label"));t.toDisposeTemplate.push(IV(n,hW.CLICK,(e=>{t.checkbox.offsetParent||e.preventDefault()}))),t.checkbox=gW(n,zce("input.quick-input-list-checkbox")),t.checkbox.type="checkbox",t.toDisposeTemplate.push(IV(t.checkbox,hW.CHANGE,(e=>{t.element.checked=t.checkbox.checked})));const i=gW(n,zce(".quick-input-list-rows")),r=gW(i,zce(".quick-input-list-row")),o=gW(i,zce(".quick-input-list-row"));t.label=new Mce(r,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const s=gW(r,zce(".quick-input-list-entry-keybinding"));t.keybinding=new Fce(s,GR);const a=gW(o,zce(".quick-input-list-label-meta"));return t.detail=new Dce(a,!0),t.separator=gW(t.entry,zce(".quick-input-list-separator")),t.actionBar=new Lte(t.entry),t.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),t.toDisposeTemplate.push(t.actionBar),t}renderElement(e,t,n){n.toDisposeElement=HP(n.toDisposeElement),n.element=e,n.checkbox.checked=e.checked,n.toDisposeElement.push(e.onChecked((e=>n.checkbox.checked=e)));const{labelHighlights:i,descriptionHighlights:r,detailHighlights:o}=e,s=Object.create(null);s.matches=i||[],s.descriptionTitle=e.saneDescription,s.descriptionMatches=r||[],s.extraClasses=e.item.iconClasses,s.italic=e.item.italic,s.strikethrough=e.item.strikethrough,n.label.setLabel(e.saneLabel,e.saneDescription,s),n.keybinding.set(e.item.keybinding),n.detail.set(e.saneDetail,o),e.separator&&e.separator.label?(n.separator.textContent=e.separator.label,n.separator.style.display=""):n.separator.style.display="none",n.entry.classList.toggle("quick-input-list-separator-border",!!e.separator),n.actionBar.clear();const a=e.item.buttons;a&&a.length?(n.actionBar.push(a.map(((t,n)=>{let i=t.iconClass||(t.iconPath?cce(t.iconPath):void 0);t.alwaysVisible&&(i=i?`${i} always-visible`:"always-visible");const r=new oJ(`id-${n}`,"",i,!0,(()=>jce(this,void 0,void 0,(function*(){e.fireButtonTriggered({button:t,item:e.item})}))));return r.tooltip=t.tooltip||"",r})),{icon:!0,label:!1}),n.entry.classList.add("has-actions")):n.entry.classList.remove("has-actions")}disposeElement(e,t,n){n.toDisposeElement=HP(n.toDisposeElement)}disposeTemplate(e){e.toDisposeElement=HP(e.toDisposeElement),e.toDisposeTemplate=HP(e.toDisposeTemplate)}}Wce.ID="listelement";class Hce{getHeight(e){return e.saneDetail?44:22}getTemplateId(e){return Wce.ID}}var Uce,$ce;($ce=Uce||(Uce={}))[$ce.First=1]="First",$ce[$ce.Second=2]="Second",$ce[$ce.Last=3]="Last",$ce[$ce.Next=4]="Next",$ce[$ce.Previous=5]="Previous",$ce[$ce.NextPage=6]="NextPage",$ce[$ce.PreviousPage=7]="PreviousPage";class qce{constructor(e,t,n){this.parent=e,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new nB,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new nB,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new nB,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new nB,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new nB,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new nB,this.onKeyDown=this._onKeyDown.event,this._onLeave=new nB,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=t,this.container=gW(this.parent,zce(".quick-input-list"));const i=new Hce,r=new Kce;this.list=n.createList("QuickInput",this.container,i,[new Wce],{identityProvider:{getId:e=>e.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:r}),this.list.getHTMLElement().id=t,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown((e=>{const t=new iV(e);switch(t.keyCode){case 10:this.toggleCheckbox();break;case 31:(WR?e.metaKey:e.ctrlKey)&&this.list.setFocus(xY(this.list.length));break;case 16:const t=this.list.getFocus();1===t.length&&0===t[0]&&this._onLeave.fire();break;case 18:const n=this.list.getFocus();1===n.length&&n[0]===this.list.length-1&&this._onLeave.fire()}this._onKeyDown.fire(t)}))),this.disposables.push(this.list.onMouseDown((e=>{2!==e.browserEvent.button&&e.browserEvent.preventDefault()}))),this.disposables.push(AV(this.container,hW.CLICK,(e=>{(e.x||e.y)&&this._onLeave.fire()}))),this.disposables.push(this.list.onMouseMiddleClick((e=>{this._onLeave.fire()}))),this.disposables.push(this.list.onContextMenu((e=>{"number"==typeof e.index&&(e.browserEvent.preventDefault(),this.list.setSelection([e.index]))}))),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return eB.map(this.list.onDidChangeFocus,(e=>e.elements.map((e=>e.item))))}get onDidChangeSelection(){return eB.map(this.list.onDidChangeSelection,(e=>({items:e.elements.map((e=>e.item)),event:e.browserEvent})))}get scrollTop(){return this.list.scrollTop}set scrollTop(e){this.list.scrollTop=e}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(e,t=!0){for(let n=0,i=e.length;n<i;n++){const i=e[n];if(!i.hidden){if(!i.checked)return!1;t=!0}}return t}getCheckedCount(){let e=0;const t=this.elements;for(let n=0,i=t.length;n<i;n++)t[n].checked&&e++;return e}getVisibleCount(){let e=0;const t=this.elements;for(let n=0,i=t.length;n<i;n++)t[n].hidden||e++;return e}setAllVisibleChecked(e){try{this._fireCheckedEvents=!1,this.elements.forEach((t=>{t.hidden||(t.checked=e)}))}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(e){this.elementDisposables=HP(this.elementDisposables);const t=e=>this.fireButtonTriggered(e);this.inputElements=e,this.elements=e.reduce(((n,i,r)=>{var o,s,a;if("separator"!==i.type){const l=r&&e[r-1],c=i.label&&i.label.replace(/\r?\n/g," "),u=i.meta&&i.meta.replace(/\r?\n/g," "),h=i.description&&i.description.replace(/\r?\n/g," "),d=i.detail&&i.detail.replace(/\r?\n/g," "),f=i.ariaLabel||[c,h,d].map((e=>{return(t=e)?t.replace(/\$\((.*?)\)/g,((e,t)=>` ${t} `)).trim():"";var t})).filter((e=>!!e)).join(", ");n.push(new Vce({index:r,item:i,saneLabel:c,saneMeta:u,saneAriaLabel:f,saneDescription:h,saneDetail:d,labelHighlights:null===(o=i.highlights)||void 0===o?void 0:o.label,descriptionHighlights:null===(s=i.highlights)||void 0===s?void 0:s.description,detailHighlights:null===(a=i.highlights)||void 0===a?void 0:a.detail,checked:!1,separator:l&&"separator"===l.type?l:void 0,fireButtonTriggered:t}))}return n}),[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map((e=>e.onChecked((()=>this.fireCheckedEvents()))))),this.elementsToIndexes=this.elements.reduce(((e,t,n)=>(e.set(t.item,n),e)),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map((e=>e.item))}setFocusedElements(e){if(this.list.setFocus(e.filter((e=>this.elementsToIndexes.has(e))).map((e=>this.elementsToIndexes.get(e)))),e.length>0){const e=this.list.getFocus()[0];"number"==typeof e&&this.list.reveal(e)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(e){this.list.setSelection(e.filter((e=>this.elementsToIndexes.has(e))).map((e=>this.elementsToIndexes.get(e))))}getCheckedElements(){return this.elements.filter((e=>e.checked)).map((e=>e.item))}setCheckedElements(e){try{this._fireCheckedEvents=!1;const t=new Set;for(const n of e)t.add(n);for(const e of this.elements)e.checked=t.has(e.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(e){this.list.getHTMLElement().style.pointerEvents=e?"":"none"}focus(e){if(!this.list.length)return;switch(e===Uce.Next&&this.list.getFocus()[0]===this.list.length-1&&(e=Uce.First),e===Uce.Previous&&0===this.list.getFocus()[0]&&(e=Uce.Last),e===Uce.Second&&this.list.length<2&&(e=Uce.First),e){case Uce.First:this.list.focusFirst();break;case Uce.Second:this.list.focusNth(1);break;case Uce.Last:this.list.focusLast();break;case Uce.Next:this.list.focusNext();break;case Uce.Previous:this.list.focusPrevious();break;case Uce.NextPage:this.list.focusNextPage();break;case Uce.PreviousPage:this.list.focusPreviousPage()}const t=this.list.getFocus()[0];"number"==typeof t&&this.list.reveal(t)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(e){this.list.getHTMLElement().style.maxHeight=e?`calc(${44*Math.floor(e/44)}px)`:"",this.list.layout()}filter(e){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if((e=e.trim())&&(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail)){let t;this.elements.forEach((n=>{const i=this.matchOnLabel?sU(Wre(e,Vre(n.saneLabel))):void 0,r=this.matchOnDescription?sU(Wre(e,Vre(n.saneDescription||""))):void 0,o=this.matchOnDetail?sU(Wre(e,Vre(n.saneDetail||""))):void 0,s=this.matchOnMeta?sU(Wre(e,Vre(n.saneMeta||""))):void 0;if(i||r||o||s?(n.labelHighlights=i,n.descriptionHighlights=r,n.detailHighlights=o,n.hidden=!1):(n.labelHighlights=void 0,n.descriptionHighlights=void 0,n.detailHighlights=void 0,n.hidden=!n.item.alwaysShow),n.separator=void 0,!this.sortByLabel){const e=n.index&&this.inputElements[n.index-1];t=e&&"separator"===e.type?e:t,t&&!n.hidden&&(n.separator=t,t=void 0)}}))}else this.elements.forEach((e=>{e.labelHighlights=void 0,e.descriptionHighlights=void 0,e.detailHighlights=void 0,e.hidden=!1;const t=e.index&&this.inputElements[e.index-1];e.separator=t&&"separator"===t.type?t:void 0}));const t=this.elements.filter((e=>!e.hidden));if(this.sortByLabel&&e){const n=e.toLowerCase();t.sort(((e,t)=>function(e,t,n){const i=e.labelHighlights||[],r=t.labelHighlights||[];if(i.length&&!r.length)return-1;if(!i.length&&r.length)return 1;if(0===i.length&&0===r.length)return 0;return Pce(e.saneLabel,t.saneLabel,n)}(e,t,n)))}return this.elementsToIndexes=t.reduce(((e,t,n)=>(e.set(t.item,n),e)),new Map),this.list.splice(0,this.list.length,t),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(t.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const e=this.list.getFocusedElements(),t=this.allVisibleChecked(e);for(const n of e)n.checked=!t}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(e){this.container.style.display=e?"":"none"}isDisplayed(){return"none"!==this.container.style.display}dispose(){this.elementDisposables=HP(this.elementDisposables),this.disposables=HP(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(e){this._onButtonTriggered.fire(e)}style(e){this.list.style(e)}}Bce([eQ],qce.prototype,"onDidChangeFocus",null),Bce([eQ],qce.prototype,"onDidChangeSelection",null);class Kce{getWidgetAriaLabel(){return DR(0,"Quick Input")}getAriaLabel(e){return e.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(){return"option"}}var Yce=globalThis&&globalThis.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(nR){o(nR)}}function a(e){try{l(i.throw(e))}catch(nR){o(nR)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const Gce=wW,Xce={iconClass:C$("quick-input-back",x$.arrowLeft).classNames,tooltip:DR(0,"Back"),handle:-1};class Zce extends KP{constructor(e){super(),this.ui=e,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=Zce.noPromptMessage,this._severity=KG.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new nB),this.onDidHideEmitter=this._register(new nB),this.onDisposeEmitter=this._register(new nB),this.visibleDisposables=this._register(new qP),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(e){this._title=e,this.update()}get description(){return this._description}set description(e){this._description=e,this.update()}get step(){return this._steps}set step(e){this._steps=e,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(e){this._totalSteps=e,this.update()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}get contextKey(){return this._contextKey}set contextKey(e){this._contextKey=e,this.update()}get busy(){return this._busy}set busy(e){this._busy=e,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(e){const t=this._ignoreFocusOut!==e&&!qR;this._ignoreFocusOut=e&&!qR,t&&this.update()}get buttons(){return this._buttons}set buttons(e){this._buttons=e,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(e){this._validationMessage=e,this.update()}get severity(){return this._severity}set severity(e){this._severity=e,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton((e=>{-1!==this.buttons.indexOf(e)&&this.onDidTriggerButtonEmitter.fire(e)}))),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(e=hce.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:e})}update(){if(!this.visible)return;const e=this.getTitle();e&&this.ui.title.textContent!==e?this.ui.title.textContent=e:e||"&nbsp;"===this.ui.title.innerHTML||(this.ui.title.innerText="");const t=this.getDescription();if(this.ui.description1.textContent!==t&&(this.ui.description1.textContent=t),this.ui.description2.textContent!==t&&(this.ui.description2.textContent=t),this.busy&&!this.busyDelay&&(this.busyDelay=new vV,this.busyDelay.setIfNotSet((()=>{this.visible&&this.ui.progressBar.infinite()}),800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const e=this.buttons.filter((e=>e===Xce));this.ui.leftActionBar.push(e.map(((e,t)=>{const n=new oJ(`id-${t}`,"",e.iconClass||cce(e.iconPath),!0,(()=>Yce(this,void 0,void 0,(function*(){this.onDidTriggerButtonEmitter.fire(e)}))));return n.tooltip=e.tooltip||"",n})),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const t=this.buttons.filter((e=>e!==Xce));this.ui.rightActionBar.push(t.map(((e,t)=>{const n=new oJ(`id-${t}`,"",e.iconClass||cce(e.iconPath),!0,(()=>Yce(this,void 0,void 0,(function*(){this.onDidTriggerButtonEmitter.fire(e)}))));return n.tooltip=e.tooltip||"",n})),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const n=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==n&&(this._lastValidationMessage=n,mW(this.ui.message,...Jle(n))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?DR(0,"{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(e){if(this.ui.inputBox.showDecoration(e),e!==KG.Ignore){const t=this.ui.inputBox.stylesForType(e);this.ui.message.style.color=t.foreground?`${t.foreground}`:"",this.ui.message.style.backgroundColor=t.background?`${t.background}`:"",this.ui.message.style.border=t.border?`1px solid ${t.border}`:"",this.ui.message.style.paddingBottom="4px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.paddingBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}Zce.noPromptMessage=DR(0,"Press 'Enter' to confirm your input or 'Escape' to cancel");class Jce extends Zce{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new nB),this.onWillAcceptEmitter=this._register(new nB),this.onDidAcceptEmitter=this._register(new nB),this.onDidCustomEmitter=this._register(new nB),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?fce.NONE:fce.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new nB),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new nB),this.onDidTriggerItemButtonEmitter=this._register(new nB),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=e=>e,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(e){this._quickNavigate=e,this.update()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e||"",this.update(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(e){this._ariaLabel=e,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(e){this.ui.list.scrollTop=e}set items(e){this._items=e,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(e){this._canSelectMany=e,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(e){this._canAcceptInBackground=e}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(e){this._matchOnDescription=e,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(e){this._matchOnDetail=e,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(e){this._matchOnLabel=e,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(e){this._sortByLabel=e,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(e){this._autoFocusOnList=e,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(e){this._keepScrollPosition=e}get itemActivation(){return this._itemActivation}set itemActivation(e){this._itemActivation=e}get activeItems(){return this._activeItems}set activeItems(e){this._activeItems=e,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(e){this._selectedItems=e,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?uce:this.ui.keyMods}set valueSelection(e){this._valueSelection=e,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(e){this._customButton=e,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(e){this._customButtonLabel=e,this.update()}get customHover(){return this._customButtonHover}set customHover(e){this._customButtonHover=e,this.update()}get ok(){return this._ok}set ok(e){this._ok=e,this.update()}get hideInput(){return!!this._hideInput}set hideInput(e){this._hideInput=e,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(Uce.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange((e=>{if(e===this.value)return;this._value=e;this.ui.list.filter(this.filterValue(this.ui.inputBox.value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(e)}))),this.visibleDisposables.add(this.ui.inputBox.onMouseDown((e=>{this.autoFocusOnList||this.ui.list.clearFocus()}))),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown((e=>{switch(e.keyCode){case 18:this.ui.list.focus(Uce.Next),this.canSelectMany&&this.ui.list.domFocus(),dW(e,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(Uce.Previous):this.ui.list.focus(Uce.Last),this.canSelectMany&&this.ui.list.domFocus(),dW(e,!0);break;case 12:this.ui.list.focus(Uce.NextPage),this.canSelectMany&&this.ui.list.domFocus(),dW(e,!0);break;case 11:this.ui.list.focus(Uce.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),dW(e,!0);break;case 17:if(!this._canAcceptInBackground)return;if(!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:!e.ctrlKey&&!e.metaKey||e.shiftKey||e.altKey||(this.ui.list.focus(Uce.First),dW(e,!0));break;case 13:!e.ctrlKey&&!e.metaKey||e.shiftKey||e.altKey||(this.ui.list.focus(Uce.Last),dW(e,!0))}}))),this.visibleDisposables.add(this.ui.onDidAccept((()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)}))),this.visibleDisposables.add(this.ui.onDidCustom((()=>{this.onDidCustomEmitter.fire()}))),this.visibleDisposables.add(this.ui.list.onDidChangeFocus((e=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&bY(e,this._activeItems,((e,t)=>e===t))||(this._activeItems=e,this.onDidChangeActiveEmitter.fire(e))}))),this.visibleDisposables.add(this.ui.list.onDidChangeSelection((({items:e,event:t})=>{this.canSelectMany?e.length&&this.ui.list.setSelectedElements([]):this.selectedItemsToConfirm!==this._selectedItems&&bY(e,this._selectedItems,((e,t)=>e===t))||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e),e.length&&this.handleAccept(t instanceof MouseEvent&&1===t.button))}))),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements((e=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&bY(e,this._selectedItems,((e,t)=>e===t))||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e)))}))),this.visibleDisposables.add(this.ui.list.onButtonTriggered((e=>this.onDidTriggerItemButtonEmitter.fire(e)))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(e){let t=!1;this.onWillAcceptEmitter.fire({veto:()=>t=!0}),t||this.onDidAcceptEmitter.fire({inBackground:e})}registerQuickNavigation(){return AV(this.ui.container,hW.KEY_UP,(e=>{if(this.canSelectMany||!this._quickNavigate)return;const t=new iV(e),n=t.keyCode;this._quickNavigate.keybindings.some((e=>{const[i,r]=e.getParts();return!r&&(i.shiftKey&&4===n?!(t.ctrlKey||t.altKey||t.metaKey):!(!i.altKey||6!==n)||(!(!i.ctrlKey||5!==n)||!(!i.metaKey||57!==n)))}))&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)}))}update(){if(!this.visible)return;const e=this.keepScrollPosition?this.scrollTop:0,t=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",t&&!this.description);const n={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!t,progressBar:!t,visibleCount:!0,count:this.canSelectMany,ok:"default"===this.ok?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(n),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");const i=this.ariaLabel||this.placeholder||Jce.DEFAULT_ARIA_LABEL;if(this.ui.inputBox.ariaLabel!==i&&(this.ui.inputBox.ariaLabel=i),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case fce.NONE:this._itemActivation=fce.FIRST;break;case fce.SECOND:this.ui.list.focus(Uce.Second),this._itemActivation=fce.FIRST;break;case fce.LAST:this.ui.list.focus(Uce.Last),this._itemActivation=fce.FIRST;break;default:this.trySelectFirst()}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),n.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(Uce.First)),this.keepScrollPosition&&(this.scrollTop=e)}}Jce.DEFAULT_ARIA_LABEL=DR(0,"Type to narrow down results.");class Qce extends KP{constructor(e){super(),this.options=e,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new nB),this.onDidCustomEmitter=this._register(new nB),this.onDidTriggerButtonEmitter=this._register(new nB),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new nB),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new nB),this.onHide=this.onHideEmitter.event,this.idPrefix=e.idPrefix,this.parentElement=e.container,this.styles=e.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const e=e=>{this.keyMods.ctrlCmd=e.ctrlKey||e.metaKey,this.keyMods.alt=e.altKey};this._register(AV(window,hW.KEY_DOWN,e,!0)),this._register(AV(window,hW.KEY_UP,e,!0)),this._register(AV(window,hW.MOUSE_DOWN,e,!0))}getUI(){if(this.ui)return this.ui;const e=gW(this.parentElement,Gce(".quick-input-widget.show-file-icons"));e.tabIndex=-1,e.style.display="none";const t=oW(e),n=gW(e,Gce(".quick-input-titlebar")),i=this._register(new Lte(n));i.domNode.classList.add("quick-input-left-action-bar");const r=gW(n,Gce(".quick-input-title")),o=this._register(new Lte(n));o.domNode.classList.add("quick-input-right-action-bar");const s=gW(e,Gce(".quick-input-description")),a=gW(e,Gce(".quick-input-header")),l=gW(a,Gce("input.quick-input-check-all"));l.type="checkbox",this._register(IV(l,hW.CHANGE,(e=>{const t=l.checked;C.setAllVisibleChecked(t)}))),this._register(AV(l,hW.CLICK,(e=>{(e.x||e.y)&&d.setFocus()})));const c=gW(a,Gce(".quick-input-description")),u=gW(a,Gce(".quick-input-and-message")),h=gW(u,Gce(".quick-input-filter")),d=this._register(new Sce(h));d.setAttribute("aria-describedby",`${this.idPrefix}message`);const f=gW(h,Gce(".quick-input-visible-count"));f.setAttribute("aria-live","polite"),f.setAttribute("aria-atomic","true");const p=new ice(f,{countFormat:DR(0,"{0} Results")}),g=gW(h,Gce(".quick-input-count"));g.setAttribute("aria-live","polite");const m=new ice(g,{countFormat:DR(0,"{0} Selected")}),v=gW(a,Gce(".quick-input-action")),y=new tce(v);y.label=DR(0,"OK"),this._register(y.onDidClick((e=>{this.onDidAcceptEmitter.fire()})));const b=gW(a,Gce(".quick-input-action")),_=new tce(b);_.label=DR(0,"Custom"),this._register(_.onDidClick((e=>{this.onDidCustomEmitter.fire()})));const w=gW(u,Gce(`#${this.idPrefix}message.quick-input-message`)),C=this._register(new qce(e,this.idPrefix+"list",this.options));this._register(C.onChangedAllVisibleChecked((e=>{l.checked=e}))),this._register(C.onChangedVisibleCount((e=>{p.setCount(e)}))),this._register(C.onChangedCheckedCount((e=>{m.setCount(e)}))),this._register(C.onLeave((()=>{setTimeout((()=>{d.setFocus(),this.controller instanceof Jce&&this.controller.canSelectMany&&C.clearFocus()}),0)}))),this._register(C.onDidChangeFocus((()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")})));const x=new oce(e);x.getContainer().classList.add("quick-input-progress");const k=pW(e);return this._register(k),this._register(AV(e,hW.FOCUS,(e=>{this.previousFocusElement=e.relatedTarget instanceof HTMLElement?e.relatedTarget:void 0}),!0)),this._register(k.onDidBlur((()=>{this.getUI().ignoreFocusOut||this.options.ignoreFocusOut()||this.hide(hce.Blur),this.previousFocusElement=void 0}))),this._register(AV(e,hW.FOCUS,(e=>{d.setFocus()}))),this._register(AV(e,hW.KEY_DOWN,(t=>{const n=new iV(t);switch(n.keyCode){case 3:dW(t,!0),this.onDidAcceptEmitter.fire();break;case 9:dW(t,!0),this.hide(hce.Gesture);break;case 2:if(!n.altKey&&!n.ctrlKey&&!n.metaKey){const i=[".action-label.codicon"];e.classList.contains("show-checkboxes")?i.push("input"):i.push("input[type=text]"),this.getUI().list.isDisplayed()&&i.push(".monaco-list");const r=e.querySelectorAll(i.join(", "));n.shiftKey&&n.target===r[0]?(dW(t,!0),r[r.length-1].focus()):n.shiftKey||n.target!==r[r.length-1]||(dW(t,!0),r[0].focus())}}}))),this.ui={container:e,styleSheet:t,leftActionBar:i,titleBar:n,title:r,description1:s,description2:c,rightActionBar:o,checkAll:l,filterContainer:h,inputBox:d,visibleCountContainer:f,visibleCount:p,countContainer:g,count:m,okContainer:v,ok:y,message:w,customButtonContainer:b,customButton:_,list:C,progressBar:x,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:e=>this.show(e),hide:()=>this.hide(),setVisibilities:e=>this.setVisibilities(e),setComboboxAccessibility:e=>this.setComboboxAccessibility(e),setEnabled:e=>this.setEnabled(e),setContextKey:e=>this.options.setContextKey(e)},this.updateStyles(),this.ui}pick(e,t={},n=lB.None){return new Promise(((i,r)=>{let o=e=>{o=i,t.onKeyMods&&t.onKeyMods(s.keyMods),i(e)};if(n.isCancellationRequested)return void o(void 0);const s=this.createQuickPick();let a;const l=[s,s.onDidAccept((()=>{if(s.canSelectMany)o(s.selectedItems.slice()),s.hide();else{const e=s.activeItems[0];e&&(o(e),s.hide())}})),s.onDidChangeActive((e=>{const n=e[0];n&&t.onDidFocus&&t.onDidFocus(n)})),s.onDidChangeSelection((e=>{if(!s.canSelectMany){const t=e[0];t&&(o(t),s.hide())}})),s.onDidTriggerItemButton((e=>t.onDidTriggerItemButton&&t.onDidTriggerItemButton(Object.assign(Object.assign({},e),{removeItem:()=>{const t=s.items.indexOf(e.item);if(-1!==t){const e=s.items.slice(),n=e.splice(t,1),i=s.activeItems.filter((e=>e!==n[0])),r=s.keepScrollPosition;s.keepScrollPosition=!0,s.items=e,i&&(s.activeItems=i),s.keepScrollPosition=r}}})))),s.onDidChangeValue((e=>{!a||e||1===s.activeItems.length&&s.activeItems[0]===a||(s.activeItems=[a])})),n.onCancellationRequested((()=>{s.hide()})),s.onDidHide((()=>{HP(l),o(void 0)}))];s.title=t.title,s.canSelectMany=!!t.canPickMany,s.placeholder=t.placeHolder,s.ignoreFocusOut=!!t.ignoreFocusLost,s.matchOnDescription=!!t.matchOnDescription,s.matchOnDetail=!!t.matchOnDetail,s.matchOnLabel=void 0===t.matchOnLabel||t.matchOnLabel,s.autoFocusOnList=void 0===t.autoFocusOnList||t.autoFocusOnList,s.quickNavigate=t.quickNavigate,s.contextKey=t.contextKey,s.busy=!0,Promise.all([e,t.activeItem]).then((([e,t])=>{a=t,s.busy=!1,s.items=e,s.canSelectMany&&(s.selectedItems=e.filter((e=>"separator"!==e.type&&e.picked))),a&&(s.activeItems=[a])})),s.show(),Promise.resolve(e).then(void 0,(e=>{r(e),s.hide()}))}))}createQuickPick(){const e=this.getUI();return new Jce(e)}show(e){const t=this.getUI();this.onShowEmitter.fire();const n=this.controller;this.controller=e,n&&n.didHide(),this.setEnabled(!0),t.leftActionBar.clear(),t.title.textContent="",t.description1.textContent="",t.description2.textContent="",t.rightActionBar.clear(),t.checkAll.checked=!1,t.inputBox.placeholder="",t.inputBox.password=!1,t.inputBox.showDecoration(KG.Ignore),t.visibleCount.setCount(0),t.count.setCount(0),mW(t.message),t.progressBar.stop(),t.list.setElements([]),t.list.matchOnDescription=!1,t.list.matchOnDetail=!1,t.list.matchOnLabel=!0,t.list.sortByLabel=!0,t.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),t.inputBox.ariaLabel="";const i=this.options.backKeybindingLabel();Xce.tooltip=i?DR(0,"Back ({0})",i):DR(0,"Back"),t.container.style.display="",this.updateLayout(),t.inputBox.setFocus()}setVisibilities(e){const t=this.getUI();t.title.style.display=e.title?"":"none",t.description1.style.display=e.description&&(e.inputBox||e.checkAll)?"":"none",t.description2.style.display=!e.description||e.inputBox||e.checkAll?"none":"",t.checkAll.style.display=e.checkAll?"":"none",t.filterContainer.style.display=e.inputBox?"":"none",t.visibleCountContainer.style.display=e.visibleCount?"":"none",t.countContainer.style.display=e.count?"":"none",t.okContainer.style.display=e.ok?"":"none",t.customButtonContainer.style.display=e.customButton?"":"none",t.message.style.display=e.message?"":"none",t.progressBar.getContainer().style.display=e.progressBar?"":"none",t.list.display(!!e.list),t.container.classList[e.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(e){if(e!==this.comboboxAccessibility){const t=this.getUI();this.comboboxAccessibility=e,this.comboboxAccessibility?(t.inputBox.setAttribute("role","combobox"),t.inputBox.setAttribute("aria-haspopup","true"),t.inputBox.setAttribute("aria-autocomplete","list"),t.inputBox.setAttribute("aria-activedescendant",t.list.getActiveDescendant()||"")):(t.inputBox.removeAttribute("role"),t.inputBox.removeAttribute("aria-haspopup"),t.inputBox.removeAttribute("aria-autocomplete"),t.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(e){if(e!==this.enabled){this.enabled=e;for(const t of this.getUI().leftActionBar.viewItems)t.getAction().enabled=e;for(const t of this.getUI().rightActionBar.viewItems)t.getAction().enabled=e;this.getUI().checkAll.disabled=!e,this.getUI().ok.enabled=e,this.getUI().list.enabled=e}}hide(e){var t;const n=this.controller;if(n){const i=!(null===(t=this.ui)||void 0===t?void 0:t.container.contains(document.activeElement));this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",i||(this.previousFocusElement&&this.previousFocusElement.offsetParent?(this.previousFocusElement.focus(),this.previousFocusElement=void 0):this.options.returnFocus()),n.didHide(e)}}layout(e,t){this.dimension=e,this.titleBarOffset=t,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const e=this.ui.container.style,t=Math.min(.62*this.dimension.width,Qce.MAX_WIDTH);e.width=t+"px",e.marginLeft="-"+t/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&.4*this.dimension.height)}}applyStyles(e){this.styles=e,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:e,quickInputBackground:t,quickInputForeground:n,contrastBorder:i,widgetShadow:r}=this.styles.widget;this.ui.titleBar.style.backgroundColor=e?e.toString():"",this.ui.container.style.backgroundColor=t?t.toString():"",this.ui.container.style.color=n?n.toString():"",this.ui.container.style.border=i?`1px solid ${i}`:"",this.ui.container.style.boxShadow=r?`0 0 8px 2px ${r}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const o=[];this.styles.list.pickerGroupBorder&&o.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&o.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(o.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&o.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&o.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&o.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&o.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&o.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),o.push("}"));const s=o.join("\n");s!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=s)}}}var eue,tue;Qce.MAX_WIDTH=600,(tue=eue||(eue={}))[tue.PRESERVE=0]="PRESERVE",tue[tue.LAST=1]="LAST";const nue="workbench.contributions.quickaccess";rK.add(nue,new class{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(e){return 0===e.prefix.length?this.defaultProvider=e:this.providers.push(e),this.providers.sort(((e,t)=>t.prefix.length-e.prefix.length)),$P((()=>{this.providers.splice(this.providers.indexOf(e),1),this.defaultProvider===e&&(this.defaultProvider=void 0)}))}getQuickAccessProviders(){return[this.defaultProvider,...this.providers].filter((e=>!!e))}getQuickAccessProvider(e){return e&&this.providers.find((t=>e.startsWith(t.prefix)))||void 0||this.defaultProvider}});const iue=Fz("quickInputService");var rue=globalThis&&globalThis.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},oue=globalThis&&globalThis.__param||function(e,t){return function(n,i){t(n,i,e)}};let sue=class extends KP{constructor(e,t){super(),this.quickInputService=e,this.instantiationService=t,this.registry=rK.as(nue),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(e="",t){this.doShowOrPick(e,!1,t)}doShowOrPick(e,t,n){var i;const[r,o]=this.getOrInstantiateProvider(e),s=this.visibleQuickAccess,a=null==s?void 0:s.descriptor;if(s&&o&&a===o)return e===o.prefix||(null==n?void 0:n.preserveValue)||(s.picker.value=e),void this.adjustValueSelection(s.picker,o,n);if(o&&!(null==n?void 0:n.preserveValue)){let t;if(s&&a&&a!==o){const e=s.value.substr(a.prefix.length);e&&(t=`${o.prefix}${e}`)}if(!t){const e=null==r?void 0:r.defaultFilterValue;e===eue.LAST?t=this.lastAcceptedPickerValues.get(o):"string"==typeof e&&(t=`${o.prefix}${e}`)}"string"==typeof t&&(e=t)}const l=new qP,c=l.add(this.quickInputService.createQuickPick());let u,h;c.value=e,this.adjustValueSelection(c,o,n),c.placeholder=null==o?void 0:o.placeholder,c.quickNavigate=null==n?void 0:n.quickNavigateConfiguration,c.hideInput=!!c.quickNavigate&&!s,("number"==typeof(null==n?void 0:n.itemActivation)||(null==n?void 0:n.quickNavigateConfiguration))&&(c.itemActivation=null!==(i=null==n?void 0:n.itemActivation)&&void 0!==i?i:fce.SECOND),c.contextKey=null==o?void 0:o.contextKey,c.filterValue=e=>e.substring(o?o.prefix.length:0),(null==o?void 0:o.placeholder)&&(c.ariaLabel=null==o?void 0:o.placeholder),t&&(u=new Promise((e=>h=e)),l.add(zP(c.onWillAccept)((e=>{e.veto(),c.hide()})))),l.add(this.registerPickerListeners(c,r,o,e));const d=l.add(new hB);return r&&l.add(r.provide(c,d.token)),zP(c.onDidHide)((()=>{0===c.selectedItems.length&&d.cancel(),l.dispose(),null==h||h(c.selectedItems)})),c.show(),t?u:void 0}adjustValueSelection(e,t,n){var i;let r;r=(null==n?void 0:n.preserveValue)?[e.value.length,e.value.length]:[null!==(i=null==t?void 0:t.prefix.length)&&void 0!==i?i:0,e.value.length],e.valueSelection=r}registerPickerListeners(e,t,n,i){const r=new qP,o=this.visibleQuickAccess={picker:e,descriptor:n,value:i};return r.add($P((()=>{o===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)}))),r.add(e.onDidChangeValue((e=>{const[n]=this.getOrInstantiateProvider(e);n!==t?this.show(e,{preserveValue:!0}):o.value=e}))),n&&r.add(e.onDidAccept((()=>{this.lastAcceptedPickerValues.set(n,e.value)}))),r}getOrInstantiateProvider(e){const t=this.registry.getQuickAccessProvider(e);if(!t)return[void 0,void 0];let n=this.mapProviderToDescriptor.get(t);return n||(n=this.instantiationService.createInstance(t.ctor),this.mapProviderToDescriptor.set(t,n)),[n,t]}};sue=rue([oue(0,iue),oue(1,Iz)],sue);var aue=globalThis&&globalThis.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},lue=globalThis&&globalThis.__param||function(e,t){return function(n,i){t(n,i,e)}};let cue=class extends yJ{constructor(e,t,n,i,r){super(n),this.instantiationService=e,this.contextKeyService=t,this.accessibilityService=i,this.layoutService=r,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(sue))),this._quickAccess}createController(e=this.layoutService,t){var n,i;const r={idPrefix:"quickInput_",container:e.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:e=>this.setContextKey(e),returnFocus:()=>e.focus(),createList:(e,t,n,i,r)=>this.instantiationService.createInstance(qae,e,t,n,i,r),styles:this.computeStyles()},o=this._register(new Qce(Object.assign(Object.assign({},r),t)));return o.layout(e.dimension,null!==(i=null===(n=e.offset)||void 0===n?void 0:n.top)&&void 0!==i?i:0),this._register(e.onDidLayout((t=>{var n,i;return o.layout(t,null!==(i=null===(n=e.offset)||void 0===n?void 0:n.top)&&void 0!==i?i:0)}))),this._register(o.onShow((()=>this.resetContextKeys()))),this._register(o.onHide((()=>this.resetContextKeys()))),o}setContextKey(e){let t;e&&(t=this.contexts.get(e),t||(t=new $X(e,!1).bindTo(this.contextKeyService),this.contexts.set(e,t))),t&&t.get()||(this.resetContextKeys(),t&&t.set(!0))}resetContextKeys(){this.contexts.forEach((e=>{e.get()&&e.reset()}))}pick(e,t={},n=lB.None){return this.controller.pick(e,t,n)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},eoe(this.theme,{quickInputBackground:_4,quickInputForeground:w4,quickInputTitleBackground:C4,contrastBorder:M2,widgetShadow:I2})),inputBox:eoe(this.theme,{inputForeground:F2,inputBackground:O2,inputBorder:R2,inputValidationInfoBackground:P2,inputValidationInfoForeground:B2,inputValidationInfoBorder:j2,inputValidationWarningBackground:z2,inputValidationWarningForeground:V2,inputValidationWarningBorder:W2,inputValidationErrorBackground:H2,inputValidationErrorForeground:U2,inputValidationErrorBorder:$2}),countBadge:eoe(this.theme,{badgeBackground:Z2,badgeForeground:J2,badgeBorder:M2}),button:eoe(this.theme,{buttonForeground:Y2,buttonBackground:G2,buttonHoverBackground:X2,buttonBorder:M2}),progressBar:eoe(this.theme,{progressBarBackground:i4}),keybindingLabel:eoe(this.theme,{keybindingLabelBackground:S4,keybindingLabelForeground:D4,keybindingLabelBorder:E4,keybindingLabelBottomBorder:L4,keybindingLabelShadow:I2}),list:eoe(this.theme,{listBackground:_4,listInactiveFocusForeground:g3,listInactiveSelectionIconForeground:m3,listInactiveFocusBackground:v3,listFocusOutline:A2,listInactiveFocusOutline:A2,pickerGroupBorder:k4,pickerGroupForeground:x4})}}};cue=aue([lue(0,Iz),lue(1,qX),lue(2,uJ),lue(3,Tee),lue(4,coe)],cue);var uue=globalThis&&globalThis.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},hue=globalThis&&globalThis.__param||function(e,t){return function(n,i){t(n,i,e)}};let due=class extends cue{constructor(e,t,n,i,r,o){super(t,n,i,r,o),this.host=void 0;const s=pue.get(e);this.host={_serviceBrand:void 0,get container(){return s.widget.getDomNode()},get dimension(){return e.getLayoutInfo()},get onDidLayout(){return e.onDidLayoutChange},focus:()=>e.focus()}}createController(){return super.createController(this.host)}};due=uue([hue(1,Iz),hue(2,qX),hue(3,uJ),hue(4,Tee),hue(5,coe)],due);let fue=class{constructor(e,t){this.instantiationService=e,this.codeEditorService=t,this.mapEditorToService=new Map}get activeService(){const e=this.codeEditorService.getFocusedCodeEditor();if(!e)throw new Error("Quick input service needs a focused editor to work.");let t=this.mapEditorToService.get(e);if(!t){const n=t=this.instantiationService.createInstance(due,e);this.mapEditorToService.set(e,t),zP(e.onDidDispose)((()=>{n.dispose(),this.mapEditorToService.delete(e)}))}return t}get quickAccess(){return this.activeService.quickAccess}pick(e,t={},n=lB.None){return this.activeService.pick(e,t,n)}createQuickPick(){return this.activeService.createQuickPick()}};fue=uue([hue(0,Iz),hue(1,Pz)],fue);class pue{constructor(e){this.editor=e,this.widget=new gue(this.editor)}static get(e){return e.getContribution(pue.ID)}dispose(){this.widget.dispose()}}pue.ID="editor.controller.quickInput";class gue{constructor(e){this.codeEditor=e,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return gue.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}var mue;gue.ID="editor.contrib.quickInputWidget",FJ(pue.ID,pue),function(e){const t=new Lee;class n{constructor(e,t){this._serviceId=e,this._factory=t,this._value=null}get id(){return this._serviceId}get(e){if(!this._value){if(e&&(this._value=e[this._serviceId.toString()]),this._value||(this._value=this._factory(e)),!this._value)throw new Error("Service "+this._serviceId+" is missing!");t.set(this._serviceId,this._value)}return this._value}}e.LazyStaticService=n;let i=[];function r(e,t){let r=new n(e,t);return i.push(r),r}e.init=function(e){let t=new Lee;for(const[i,r]of SK)t.set(i,r);for(let i in e)e.hasOwnProperty(i)&&t.set(Fz(i),e[i]);i.forEach((n=>t.set(n.id,n.get(e))));let n=new voe(t,!0);return t.set(Iz,n),[t,n]},e.instantiationService=r(Iz,(()=>new voe(t,!0)));const o=new jZ;e.configurationService=r(bK,(()=>o)),e.resourceConfigurationService=r(mY,(()=>new zZ(o))),e.resourcePropertiesService=r(vY,(()=>new VZ(o))),e.contextService=r(dZ,(()=>new HZ)),e.labelService=r(boe,(()=>new qZ)),e.telemetryService=r(EJ,(()=>new WZ)),e.dialogService=r(foe,(()=>new OZ)),e.notificationService=r(hZ,(()=>new FZ)),e.markerService=r(cle,(()=>new dle)),e.modeService=r(lq,(e=>new Gne)),e.standaloneThemeService=r(bne,(()=>new Vie)),e.logService=r(NY,(()=>new RY(new FY))),e.undoRedoService=r(S1,(t=>new Gle(e.dialogService.get(t),e.notificationService.get(t)))),e.languageConfigurationService=r(NK,(t=>new MK(e.configurationService.get(t),e.modeService.get(t)))),e.modelService=r(m$,(t=>new yie(e.configurationService.get(t),e.resourcePropertiesService.get(t),e.standaloneThemeService.get(t),e.logService.get(t),e.undoRedoService.get(t),e.modeService.get(t),e.languageConfigurationService.get(t)))),e.markerDecorationsService=r(tJ,(t=>new Mle(e.modelService.get(t),e.markerService.get(t)))),e.contextKeyService=r(qX,(t=>new Jie(e.configurationService.get(t)))),e.codeEditorService=r(Pz,(t=>new One(null,e.contextKeyService.get(t),e.standaloneThemeService.get(t)))),e.editorProgressService=r(Gte,(()=>new IZ)),e.storageService=r(ble,(()=>new xle)),e.editorWorkerService=r(aq,(t=>new VY(e.modelService.get(t),e.resourceConfigurationService.get(t),e.logService.get(t))))}(mue||(mue={}));class vue extends KP{constructor(e,t){super();const[n,i]=mue.init(t);this._serviceCollection=n,this._instantiationService=i;const r=this.get(bK),o=this.get(hZ),s=this.get(EJ),a=this.get(uJ),l=this.get(NY),c=this.get(qX);let u=(e,n)=>{let i=null;return t&&(i=t[e.toString()]),i||(i=n()),this._serviceCollection.set(e,i),i};u(Tee,(()=>new Ole(c,r))),u(Lae,(()=>new Tae(a)));let h=u(aU,(()=>new RZ(this._instantiationService))),d=u(_ne,(()=>this._register(new PZ(c,h,s,o,l,e)))),f=u(coe,(()=>new KZ(mue.codeEditorService.get(Pz),e)));u(iue,(()=>new fue(i,mue.codeEditorService.get(Pz))));let p=u(Ute,(()=>this._register(new doe(f))));u(Yte,(()=>new Rle)),u($te,(()=>{const e=new loe(s,o,p,d,a);return e.configure({blockMouse:!1}),this._register(e)})),u(xJ,(()=>new Dle(h))),u(YG,(()=>new $Z(mue.modelService.get(m$))))}get(e){let t=this._serviceCollection.get(e);if(!t)throw new Error("Missing service "+e);return t}set(e,t){this._serviceCollection.set(e,t)}has(e){return this._serviceCollection.has(e)}}function yue(e,t,n){let i=new vue(e,t),r=null;i.has(cq)||(r=new AZ(mue.modelService.get()),i.set(cq,r)),i.has(dU)||i.set(dU,new bU(i.get(Pz),i.get(aU)));let o=n(i);return r&&r.setEditor(o),o}function bue(e,t,n){return yue(e,n||{},(n=>new Vne(e,t,n,n.get(Iz),n.get(Pz),n.get(aU),n.get(qX),n.get(_ne),n.get(Ute),n.get(bne),n.get(hZ),n.get(bK),n.get(Tee),n.get(m$),n.get(lq))))}function _ue(e){return mue.codeEditorService.get().onCodeEditorAdd((t=>{e(t)}))}function wue(e,t,n){return yue(e,n||{},(n=>new Wne(e,t,n,n.get(Iz),n.get(qX),n.get(_ne),n.get(Ute),n.get(aq),n.get(Pz),n.get(bne),n.get(hZ),n.get(bK),n.get($te),n.get(Gte),n.get(Yte))))}function Cue(e,t){return new EU(e,t)}function xue(e,t,n){return Hne(mue.modelService.get(),mue.modeService.get(),e,t,n)}function kue(e,t){mue.modelService.get().setMode(e,mue.modeService.get().create(t))}function Sue(e,t,n){e&&mue.markerService.get().changeOne(t,e.uri,n)}function Due(e){return mue.markerService.get().read(e)}function Eue(e){return mue.markerService.get().onMarkerChanged(e)}function Lue(e){return mue.modelService.get().getModel(e)}function Tue(){return mue.modelService.get().getModels()}function Nue(e){return mue.modelService.get().onModelAdded(e)}function Mue(e){return mue.modelService.get().onModelRemoved(e)}function Aue(e){return mue.modelService.get().onModelModeChanged((t=>{e({model:t.model,oldLanguage:t.oldModeId})}))}function Iue(e){return function(e,t){return new YY(e,t)}(mue.modelService.get(),e)}function Oue(e,t){const n=mue.standaloneThemeService.get();return n.registerEditorContainer(e),WG.colorizeElement(n,mue.modeService.get(),e,t)}function Fue(e,t,n){return mue.standaloneThemeService.get().registerEditorContainer(document.body),WG.colorize(mue.modeService.get(),e,t,n)}function Rue(e,t,n=4){return mue.standaloneThemeService.get().registerEditorContainer(document.body),WG.colorizeModelLine(e,t,n)}function Pue(e){let t=rq.get(e);return t||{getInitialState:()=>oq,tokenize:(t,n,i,r)=>function(e,t,n,i){return new dj([new hj(i,"",e)],n)}(e,0,i,r)}}function Bue(e,t){mue.modeService.get().triggerMode(t);let n=Pue(t),i=FW(e),r=[],o=n.getInitialState();for(let s=0,a=i.length;s<a;s++){let e=i[s],t=n.tokenize(e,!0,o,0);r[s]=t.tokens,o=t.endState}return r}function jue(e,t){mue.standaloneThemeService.get().defineTheme(e,t)}function zue(e){mue.standaloneThemeService.get().setTheme(e)}function Vue(){XJ.INSTANCE.clearCache()}function Wue(e,t){return lU.registerCommand({id:e,handler:t})}function Hue(e,t){return"boolean"==typeof e?e:t}function Uue(e,t){return"string"==typeof e?e:t}function $ue(e,t=!1){t&&(e=e.map((function(e){return e.toLowerCase()})));const n=function(e){const t={};for(const n of e)t[n]=!0;return t}(e);return t?function(e){return void 0!==n[e.toLowerCase()]&&n.hasOwnProperty(e.toLowerCase())}:function(e){return void 0!==n[e]&&n.hasOwnProperty(e)}}function que(e,t){t=t.replace(/@@/g,"");let n,i=0;do{n=!1,t=t.replace(/@(\w+)/g,(function(i,r){n=!0;let o="";if("string"==typeof e[r])o=e[r];else{if(!(e[r]&&e[r]instanceof RegExp))throw void 0===e[r]?LG(e,"language definition does not contain attribute '"+r+"', used at: "+t):LG(e,"attribute reference '"+r+"' must be a string, used at: "+t);o=e[r].source}return SG(o)?"":"(?:"+o+")"})),i++}while(n&&i<5);t=t.replace(/\x01/g,"@");let r=(e.ignoreCase?"i":"")+(e.unicode?"u":"");return new RegExp(t,r)}function Kue(e,t,n,i){let r=-1,o=n,s=n.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);s&&(s[3]&&(r=parseInt(s[3]),s[2]&&(r+=100)),o=s[4]);let a,l="~",c=o;if(o&&0!==o.length?/^\w*$/.test(c)?l="==":(s=o.match(/^(@|!@|~|!~|==|!=)(.*)$/),s&&(l=s[1],c=s[2])):(l="!=",c=""),"~"!==l&&"!~"!==l||!/^(\w|\|)*$/.test(c))if("@"===l||"!@"===l){let n=e[c];if(!n)throw LG(e,"the @ match target '"+c+"' is not defined, in rule: "+t);if(!function(e,t){if(!t)return!1;if(!Array.isArray(t))return!1;for(const n of t)if(!e(n))return!1;return!0}((function(e){return"string"==typeof e}),n))throw LG(e,"the @ match target '"+c+"' must be an array of strings, in rule: "+t);let i=$ue(n,e.ignoreCase);a=function(e){return"@"===l?i(e):!i(e)}}else if("~"===l||"!~"===l)if(c.indexOf("$")<0){let t=que(e,"^"+c+"$");a=function(e){return"~"===l?t.test(e):!t.test(e)}}else a=function(t,n,i,r){return que(e,"^"+TG(e,c,n,i,r)+"$").test(t)};else if(c.indexOf("$")<0){let t=DG(e,c);a=function(e){return"=="===l?e===t:e!==t}}else{let t=DG(e,c);a=function(n,i,r,o,s){let a=TG(e,t,i,r,o);return"=="===l?n===a:n!==a}}else{let t=$ue(c.split("|"),e.ignoreCase);a=function(e){return"~"===l?t(e):!t(e)}}return-1===r?{name:n,value:i,test:function(e,t,n,i){return a(e,e,t,n,i)}}:{name:n,value:i,test:function(e,t,n,i){let o=function(e,t,n,i){if(i<0)return e;if(i<t.length)return t[i];if(i>=100){i-=100;let e=n.split(".");if(e.unshift(n),i<e.length)return e[i]}return null}(e,t,n,r);return a(o||"",e,t,n,i)}}}function Yue(e,t,n){if(n){if("string"==typeof n)return n;if(n.token||""===n.token){if("string"!=typeof n.token)throw LG(e,"a 'token' attribute must be of type string, in rule: "+t);{let i={token:n.token};if(n.token.indexOf("$")>=0&&(i.tokenSubst=!0),"string"==typeof n.bracket)if("@open"===n.bracket)i.bracket=1;else{if("@close"!==n.bracket)throw LG(e,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+t);i.bracket=-1}if(n.next){if("string"!=typeof n.next)throw LG(e,"the next state must be a string value in rule: "+t);{let r=n.next;if(!/^(@pop|@push|@popall)$/.test(r)&&("@"===r[0]&&(r=r.substr(1)),r.indexOf("$")<0&&!function(e,t){let n=t;for(;n&&n.length>0;){if(e.stateNames[n])return!0;const t=n.lastIndexOf(".");n=t<0?null:n.substr(0,t)}return!1}(e,TG(e,r,"",[],""))))throw LG(e,"the next state '"+n.next+"' is not defined in rule: "+t);i.next=r}}return"number"==typeof n.goBack&&(i.goBack=n.goBack),"string"==typeof n.switchTo&&(i.switchTo=n.switchTo),"string"==typeof n.log&&(i.log=n.log),"string"==typeof n.nextEmbedded&&(i.nextEmbedded=n.nextEmbedded,e.usesEmbedded=!0),i}}if(Array.isArray(n)){let i=[];for(let r=0,o=n.length;r<o;r++)i[r]=Yue(e,t,n[r]);return{group:i}}if(n.cases){let i=[];for(let o in n.cases)if(n.cases.hasOwnProperty(o)){const r=Yue(e,t,n.cases[o]);"@default"===o||"@"===o||""===o?i.push({test:void 0,value:r,name:o}):"@eos"===o?i.push({test:function(e,t,n,i){return i},value:r,name:o}):i.push(Kue(e,t,o,r))}const r=e.defaultToken;return{test:function(e,t,n,o){for(const r of i){if(!r.test||r.test(e,t,n,o))return r.value}return r}}}throw LG(e,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+t)}return{token:""}}class Gue{constructor(e){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=e}setRegex(e,t){let n;if("string"==typeof t)n=t;else{if(!(t instanceof RegExp))throw LG(e,"rules must start with a match string or regular expression: "+this.name);n=t.source}this.matchOnlyAtLineStart=n.length>0&&"^"===n[0],this.name=this.name+": "+n,this.regex=que(e,"^(?:"+(this.matchOnlyAtLineStart?n.substr(1):n)+")")}setAction(e,t){this.action=Yue(e,this.name,t)}}function Xue(e){See.registerLanguage(e)}function Zue(){let e=[];return e=e.concat(See.getLanguages()),e}function Jue(e){return mue.modeService.get().languageIdCodec.encodeLanguageId(e)}function Que(e,t){let n=mue.modeService.get().onDidEncounterLanguage((i=>{i===e&&(n.dispose(),t())}));return n}function ehe(e,t){const n=mue.modeService.get().validateLanguageId(e);if(!n)throw new Error(`Cannot set configuration for unknown language ${e}`);return FK.register(n,t,100)}class the{constructor(e,t){this._languageId=e,this._actual=t}getInitialState(){return this._actual.getInitialState()}tokenize(e,t,n,i){if("function"==typeof this._actual.tokenize)return nhe.adaptTokenize(this._languageId,this._actual,e,n,i);throw new Error("Not supported!")}tokenize2(e,t,n){let i=this._actual.tokenizeEncoded(e,n);return new fj(i.tokens,i.endState)}}class nhe{constructor(e,t,n,i){this._languageId=e,this._actual=t,this._modeService=n,this._standaloneThemeService=i}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(e,t,n){let i=[],r=0;for(let o=0,s=e.length;o<s;o++){const s=e[o];let a=s.startIndex;0===o?a=0:a<r&&(a=r),i[o]=new hj(a+n,s.scopes,t),r=a}return i}static adaptTokenize(e,t,n,i,r){let o,s=t.tokenize(n,i),a=nhe._toClassicTokens(s.tokens,e,r);return o=s.endState.equals(i)?i:s.endState,new dj(a,o)}tokenize(e,t,n,i){return nhe.adaptTokenize(this._languageId,this._actual,e,n,i)}_toBinaryTokens(e,t,n){const i=e.encodeLanguageId(this._languageId),r=this._standaloneThemeService.getColorTheme().tokenTheme;let o=[],s=0,a=0;for(let c=0,u=t.length;c<u;c++){const e=t[c],l=r.match(i,e.scopes);if(s>0&&o[s-1]===l)continue;let u=e.startIndex;0===c?u=0:u<a&&(u=a),o[s++]=u+n,o[s++]=l,a=u}let l=new Uint32Array(s);for(let c=0;c<s;c++)l[c]=o[c];return l}tokenize2(e,t,n,i){let r,o=this._actual.tokenize(e,n),s=this._toBinaryTokens(this._modeService.languageIdCodec,o.tokens,i);return r=o.endState.equals(n)?n:o.endState,new fj(s,r)}}function ihe(e){return e&&"function"==typeof e.then}function rhe(e){if(e){const t=[null];for(let n=1,i=e.length;n<i;n++)t[n]=C1.fromHex(e[n]);mue.standaloneThemeService.get().setColorMapOverride(t)}else mue.standaloneThemeService.get().setColorMapOverride(null)}function ohe(e,t){const n=mue.modeService.get().validateLanguageId(e);if(!n)throw new Error(`Cannot set tokens provider for unknown language ${e}`);const i=e=>function(e){return"tokenizeEncoded"in e}(e)?new the(n,e):new nhe(n,e,mue.modeService.get(),mue.standaloneThemeService.get());return ihe(t)?rq.registerPromise(e,t.then((e=>i(e)))):rq.register(e,i(t))}function she(e,t){const n=t=>function(e,t,n,i){return new BG(e,t,n,i)}(mue.modeService.get(),mue.standaloneThemeService.get(),e,function(e,t){if(!t||"object"!=typeof t)throw new Error("Monarch: expecting a language definition object");let n={};n.languageId=e,n.includeLF=Hue(t.includeLF,!1),n.noThrow=!1,n.maxStack=100,n.start="string"==typeof t.start?t.start:null,n.ignoreCase=Hue(t.ignoreCase,!1),n.unicode=Hue(t.unicode,!1),n.tokenPostfix=Uue(t.tokenPostfix,"."+n.languageId),n.defaultToken=Uue(t.defaultToken,"source"),n.usesEmbedded=!1;let i=t;function r(e,o,s){for(const a of s){let s=a.include;if(s){if("string"!=typeof s)throw LG(n,"an 'include' attribute must be a string at: "+e);if("@"===s[0]&&(s=s.substr(1)),!t.tokenizer[s])throw LG(n,"include target '"+s+"' is not defined at: "+e);r(e+"."+s,o,t.tokenizer[s])}else{const t=new Gue(e);if(Array.isArray(a)&&a.length>=1&&a.length<=3)if(t.setRegex(i,a[0]),a.length>=3)if("string"==typeof a[1])t.setAction(i,{token:a[1],next:a[2]});else{if("object"!=typeof a[1])throw LG(n,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+e);{const e=a[1];e.next=a[2],t.setAction(i,e)}}else t.setAction(i,a[1]);else{if(!a.regex)throw LG(n,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+e);a.name&&"string"==typeof a.name&&(t.name=a.name),a.matchOnlyAtStart&&(t.matchOnlyAtLineStart=Hue(a.matchOnlyAtLineStart,!1)),t.setRegex(i,a.regex),t.setAction(i,a.action)}o.push(t)}}}if(i.languageId=e,i.includeLF=n.includeLF,i.ignoreCase=n.ignoreCase,i.unicode=n.unicode,i.noThrow=n.noThrow,i.usesEmbedded=n.usesEmbedded,i.stateNames=t.tokenizer,i.defaultToken=n.defaultToken,!t.tokenizer||"object"!=typeof t.tokenizer)throw LG(n,"a language definition must define the 'tokenizer' attribute as an object");n.tokenizer=[];for(let s in t.tokenizer)if(t.tokenizer.hasOwnProperty(s)){n.start||(n.start=s);const e=t.tokenizer[s];n.tokenizer[s]=new Array,r("tokenizer."+s,n.tokenizer[s],e)}if(n.usesEmbedded=i.usesEmbedded,t.brackets){if(!Array.isArray(t.brackets))throw LG(n,"the 'brackets' attribute must be defined as an array")}else t.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];let o=[];for(let s of t.brackets){let e=s;if(e&&Array.isArray(e)&&3===e.length&&(e={token:e[2],open:e[0],close:e[1]}),e.open===e.close)throw LG(n,"open and close brackets in a 'brackets' attribute must be different: "+e.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required.");if("string"!=typeof e.open||"string"!=typeof e.token||"string"!=typeof e.close)throw LG(n,"every element in the 'brackets' array must be a '{open,close,token}' object or array");o.push({token:e.token+n.tokenPostfix,open:DG(n,e.open),close:DG(n,e.close)})}return n.brackets=o,n.noThrow=!0,n}(e,t));return ihe(t)?rq.registerPromise(e,t.then((e=>n(e)))):rq.register(e,n(t))}function ahe(e,t){return I$.register(e,t)}function lhe(e,t){return O$.register(e,t)}function che(e,t){return P$.register(e,t)}function uhe(e,t){return B$.register(e,{provideHover:(e,n,i)=>{let r=e.getWordAtPosition(n);return Promise.resolve(t.provideHover(e,n,i)).then((e=>{if(e)return!e.range&&r&&(e.range=new cj(n.lineNumber,r.startColumn,n.lineNumber,r.endColumn)),e.range||(e.range=new cj(n.lineNumber,n.column,n.lineNumber,n.column)),e}))}})}function hhe(e,t){return j$.register(e,t)}function dhe(e,t){return z$.register(e,t)}function fhe(e,t){return V$.register(e,t)}function phe(e,t){return W$.register(e,t)}function ghe(e,t){return U$.register(e,t)}function mhe(e,t){return $$.register(e,t)}function vhe(e,t){return q$.register(e,t)}function yhe(e,t,n){return Y$.register(e,{providedCodeActionKinds:null==n?void 0:n.providedCodeActionKinds,provideCodeActions:(e,n,i,r)=>{let o=mue.markerService.get().read({resource:e.uri}).filter((e=>cj.areIntersectingOrTouching(e,n)));return t.provideCodeActions(e,n,{markers:o,only:i.only},r)},resolveCodeAction:t.resolveCodeAction})}function bhe(e,t){return G$.register(e,t)}function _he(e,t){return X$.register(e,t)}function whe(e,t){return Z$.register(e,t)}function Che(e,t){return J$.register(e,t)}function xhe(e,t){return F$.register(e,t)}function khe(e,t){return Q$.register(e,t)}function She(e,t){return tq.register(e,t)}function Dhe(e,t){return H$.register(e,t)}function Ehe(e,t){return eq.register(e,t)}function Lhe(e,t){return nq.register(e,t)}function The(e,t){return iq.register(e,t)}function Nhe(e,t){return R$.register(e,t)}function Mhe(e,t){return K$.register(e,t)}class Ahe{constructor(e){this.value=e,this._lower=e.toLowerCase()}static toKey(e){return"string"==typeof e?e.toLowerCase():e._lower}}var Ihe,Ohe=globalThis&&globalThis.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(nR){o(nR)}}function a(e){try{l(i.throw(e))}catch(nR){o(nR)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class Fhe{static setFormatterSelector(e){return{dispose:Fhe._selectors.unshift(e)}}static select(e,t,n){return Ohe(this,void 0,void 0,(function*(){if(0===e.length)return;const i=VP.first(Fhe._selectors);return i?yield i(e,t,n):void 0}))}}function Rhe(e,t,n,i){return Ohe(this,void 0,void 0,(function*(){const r=function(e){const t=[],n=new Set,i=G$.ordered(e);for(const o of i)t.push(o),o.extensionId&&n.add(Ahe.toKey(o.extensionId));const r=X$.ordered(e);for(const o of r){if(o.extensionId){if(n.has(Ahe.toKey(o.extensionId)))continue;n.add(Ahe.toKey(o.extensionId))}t.push({displayName:o.displayName,extensionId:o.extensionId,provideDocumentFormattingEdits:(e,t,n)=>o.provideDocumentRangeFormattingEdits(e,e.getFullModelRange(),t,n)})}return t}(t);for(const o of r){let r=yield Promise.resolve(o.provideDocumentFormattingEdits(t,n,i)).catch(OP);if(_Y(r))return yield e.computeMoreMinimalEdits(t.uri,r)}}))}Fhe._selectors=new ZP,lU.registerCommand("_executeFormatRangeProvider",(function(e,...t){return Ohe(this,void 0,void 0,(function*(){const[n,i,r]=t;nU(ZB.isUri(n)),nU(cj.isIRange(i));const o=e.get(cq),s=e.get(aq),a=yield o.createModelReference(n);try{return function(e,t,n,i,r){return Ohe(this,void 0,void 0,(function*(){const o=X$.ordered(t);for(const s of o){let o=yield Promise.resolve(s.provideDocumentRangeFormattingEdits(t,n,i,r)).catch(OP);if(_Y(o))return yield e.computeMoreMinimalEdits(t.uri,o)}}))}(s,a.object.textEditorModel,cj.lift(i),r,lB.None)}finally{a.dispose()}}))})),lU.registerCommand("_executeFormatDocumentProvider",(function(e,...t){return Ohe(this,void 0,void 0,(function*(){const[n,i]=t;nU(ZB.isUri(n));const r=e.get(cq),o=e.get(aq),s=yield r.createModelReference(n);try{return Rhe(o,s.object.textEditorModel,i,lB.None)}finally{s.dispose()}}))})),lU.registerCommand("_executeFormatOnTypeProvider",(function(e,...t){return Ohe(this,void 0,void 0,(function*(){const[n,i,r,o]=t;nU(ZB.isUri(n)),nU(lj.isIPosition(i)),nU("string"==typeof r);const s=e.get(cq),a=e.get(aq),l=yield s.createModelReference(n);try{return function(e,t,n,i,r){const o=Z$.ordered(t);return 0===o.length||o[0].autoFormatTriggerCharacters.indexOf(i)<0?Promise.resolve(void 0):Promise.resolve(o[0].provideOnTypeFormattingEdits(t,n,i,r,lB.None)).catch(OP).then((n=>e.computeMoreMinimalEdits(t.uri,n)))}(a,l.object.textEditorModel,lj.lift(i),r,o)}finally{l.dispose()}}))})),MP.wrappingIndent.defaultValue=0,MP.glyphMargin.defaultValue=!1,MP.autoIndent.defaultValue=3,MP.overviewRulerLanes.defaultValue=2,Fhe.setFormatterSelector(((e,t,n)=>Promise.resolve(e[0])));const Phe=Nz();Phe.editor={create:bue,onDidCreateEditor:_ue,createDiffEditor:wue,createDiffNavigator:Cue,createModel:xue,setModelLanguage:kue,setModelMarkers:Sue,getModelMarkers:Due,onDidChangeMarkers:Eue,getModels:Tue,getModel:Lue,onDidCreateModel:Nue,onWillDisposeModel:Mue,onDidChangeModelLanguage:Aue,createWebWorker:Iue,colorizeElement:Oue,colorize:Fue,colorizeModelLine:Rue,tokenize:Bue,defineTheme:jue,setTheme:zue,remeasureFonts:Vue,registerCommand:Wue,AccessibilitySupport:pj,ContentWidgetPositionPreference:kj,CursorChangeReason:Dj,DefaultEndOfLine:Lj,EditorAutoIndentStrategy:Aj,EditorOption:Oj,EndOfLinePreference:Rj,EndOfLineSequence:Bj,MinimapPosition:Jj,MouseTargetType:ez,OverlayWidgetPositionPreference:nz,OverviewRulerLane:rz,RenderLineNumbersType:sz,RenderMinimap:lz,ScrollbarVisibility:dz,ScrollType:uz,TextEditorCursorBlinkingStyle:Cz,TextEditorCursorStyle:kz,TrackedRangeStickiness:Sz,WrappingIndent:Ez,ConfigurationChangedEvent:rP,BareFontInfo:NU,FontInfo:MU,TextModelResolvedOptions:PU,FindMatch:BU,EditorType:AU,EditorOptions:MP},Phe.languages={register:Xue,getLanguages:Zue,onLanguage:Que,getEncodedLanguageId:Jue,setLanguageConfiguration:ehe,setColorMap:rhe,setTokensProvider:ohe,setMonarchTokensProvider:she,registerReferenceProvider:ahe,registerRenameProvider:lhe,registerCompletionItemProvider:xhe,registerSignatureHelpProvider:che,registerHoverProvider:uhe,registerDocumentSymbolProvider:hhe,registerDocumentHighlightProvider:dhe,registerLinkedEditingRangeProvider:fhe,registerDefinitionProvider:phe,registerImplementationProvider:ghe,registerTypeDefinitionProvider:mhe,registerCodeLensProvider:vhe,registerCodeActionProvider:yhe,registerDocumentFormattingEditProvider:bhe,registerDocumentRangeFormattingEditProvider:_he,registerOnTypeFormattingEditProvider:whe,registerLinkProvider:Che,registerColorProvider:khe,registerFoldingRangeProvider:She,registerDeclarationProvider:Dhe,registerSelectionRangeProvider:Ehe,registerDocumentSemanticTokensProvider:Lhe,registerDocumentRangeSemanticTokensProvider:The,registerInlineCompletionsProvider:Nhe,registerInlayHintsProvider:Mhe,DocumentHighlightKind:Nj,CompletionItemKind:yj,CompletionItemTag:_j,CompletionItemInsertTextRule:mj,SymbolKind:yz,SymbolTag:_z,IndentAction:zj,CompletionTriggerKind:Cj,SignatureHelpTriggerKind:mz,InlayHintKind:Wj,InlineCompletionTriggerKind:Uj,FoldingRangeKind:A$};const Bhe=Phe.CancellationTokenSource,jhe=Phe.Emitter,zhe=Phe.KeyCode,Vhe=Phe.KeyMod,Whe=Phe.Position,Hhe=Phe.Range,Uhe=Phe.Selection,$he=Phe.SelectionDirection,qhe=Phe.MarkerSeverity,Khe=Phe.MarkerTag,Yhe=Phe.Uri,Ghe=Phe.Token,Xhe=Phe.editor,Zhe=Phe.languages;((null===(Ihe=BR.MonacoEnvironment)||void 0===Ihe?void 0:Ihe.globalAPI)||"function"==typeof define&&define.amd)&&(self.monaco=Phe),void 0!==self.require&&"function"==typeof self.require.config&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]});var Jhe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",CancellationTokenSource:Bhe,Emitter:jhe,KeyCode:zhe,KeyMod:Vhe,Position:Whe,Range:Hhe,Selection:Uhe,SelectionDirection:$he,MarkerSeverity:qhe,MarkerTag:Khe,Uri:Yhe,Token:Ghe,editor:Xhe,languages:Zhe});function Qhe(e,t,n,i,r,o,s,a,l,c,u,h,d,f,p){let g,m;return function(t){return e.enter(i),e.enter(r),e.consume(t),e.exit(r),v};function v(t){return 35===t?(g=s,y(t)):46===t?(g=a,y(t)):58===t||95===t||Uv(t)?(e.enter(o),e.enter(l),e.consume(t),w):p&&Qv(t)?iy(e,v,"whitespace")(t):!p&&Zv(t)?Ty(e,v)(t):T(t)}function y(t){return e.enter(o),e.enter(g),e.enter(g+"Marker"),e.consume(t),e.exit(g+"Marker"),b}function b(t){return null===t||34===t||35===t||39===t||46===t||60===t||61===t||62===t||96===t||125===t||Zv(t)?n(t):(e.enter(g+"Value"),e.consume(t),_)}function _(t){return null===t||34===t||39===t||60===t||61===t||62===t||96===t?n(t):35===t||46===t||125===t||Zv(t)?(e.exit(g+"Value"),e.exit(g),e.exit(o),v(t)):(e.consume(t),_)}function w(t){return 45===t||46===t||58===t||95===t||Kv(t)?(e.consume(t),w):(e.exit(l),p&&Qv(t)?iy(e,C,"whitespace")(t):!p&&Zv(t)?Ty(e,C)(t):C(t))}function C(t){return 61===t?(e.enter(c),e.consume(t),e.exit(c),x):(e.exit(o),v(t))}function x(t){return null===t||60===t||61===t||62===t||96===t||125===t||p&&Jv(t)?n(t):34===t||39===t?(e.enter(u),e.enter(d),e.consume(t),e.exit(d),m=t,S):p&&Qv(t)?iy(e,x,"whitespace")(t):!p&&Zv(t)?Ty(e,x)(t):(e.enter(h),e.enter(f),e.consume(t),m=void 0,k)}function k(t){return null===t||34===t||39===t||60===t||61===t||62===t||96===t?n(t):125===t||Zv(t)?(e.exit(f),e.exit(h),e.exit(o),v(t)):(e.consume(t),k)}function S(t){return t===m?(e.enter(d),e.consume(t),e.exit(d),e.exit(u),e.exit(o),L):(e.enter(h),D(t))}function D(t){return t===m?(e.exit(h),S(t)):null===t?n(t):Jv(t)?p?n(t):Ty(e,D)(t):(e.enter(f),e.consume(t),E)}function E(t){return t===m||null===t||Jv(t)?(e.exit(f),D(t)):(e.consume(t),E)}function L(e){return 125===e||Zv(e)?v(e):T(e)}function T(o){return 125===o?(e.enter(r),e.consume(o),e.exit(r),e.exit(i),t):n(o)}}function ede(e,t,n,i,r,o,s){let a=0,l=0;return function(t){return e.enter(i),e.enter(r),e.consume(t),e.exit(r),c};function c(n){return 93===n?(e.enter(r),e.consume(n),e.exit(r),e.exit(i),t):(e.enter(o),u(n))}function u(t){return null===t||a>999?n(t):93!==t||l--?Jv(t)?s?n(t):(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),u):(e.enter("chunkText",{contentType:"text"}),h(t)):d(t)}function h(t){return null===t||Jv(t)||a>999?(e.exit("chunkText"),u(t)):91===t&&++l>3?n(t):93!==t||l--?(e.consume(t),92===t?f:h):(e.exit("chunkText"),d(t))}function d(n){return e.exit(o),e.enter(r),e.consume(n),e.exit(r),e.exit(i),t}function f(t){return 91===t||92===t||93===t?(e.consume(t),a++,h):h(t)}}function tde(e,t,n,i){const r=this;return function(t){if(Uv(t))return e.enter(i),e.consume(t),o;return n(t)};function o(s){return 45===s||95===s||Kv(s)?(e.consume(s),o):(e.exit(i),45===r.previous||95===r.previous?n(s):t(s))}}const nde={tokenize:function(e,t,n){const i=this,r=i.events[i.events.length-1],o=r&&"linePrefix"===r[1].type?r[2].sliceSerialize(r[1],!0).length:0;let s,a=0;return function(t){return e.enter("directiveContainer"),e.enter("directiveContainerFence"),e.enter("directiveContainerSequence"),l(t)};function l(t){return 58===t?(e.consume(t),a++,l):a<3?n(t):(e.exit("directiveContainerSequence"),tde.call(i,e,c,n,"directiveContainerName")(t))}function c(t){return 91===t?e.attempt(ide,u,u)(t):u(t)}function u(t){return 123===t?e.attempt(rde,h,h)(t):h(t)}function h(t){return iy(e,d,"whitespace")(t)}function d(r){return e.exit("directiveContainerFence"),null===r?f(r):Jv(r)?i.interrupt?t(r):e.attempt(ode,p,f)(r):n(r)}function f(n){return e.exit("directiveContainer"),t(n)}function p(n){return null===n?(e.exit("directiveContainer"),t(n)):(e.enter("directiveContainerContent"),g(n))}function g(t){return null===t?_(t):e.attempt({tokenize:w,partial:!0},_,o?iy(e,m,"linePrefix",o+1):m)(t)}function m(t){if(null===t)return _(t);const n=e.enter("chunkDocument",{contentType:"document",previous:s});return s&&(s.next=n),s=n,v(t)}function v(t){if(null===t){const n=e.exit("chunkDocument");return i.parser.lazy[n.start.line]=!1,_(t)}return Jv(t)?e.check(ode,y,b)(t):(e.consume(t),v)}function y(t){e.consume(t);const n=e.exit("chunkDocument");return i.parser.lazy[n.start.line]=!1,g}function b(t){const n=e.exit("chunkDocument");return i.parser.lazy[n.start.line]=!1,_(t)}function _(n){return e.exit("directiveContainerContent"),e.exit("directiveContainer"),t(n)}function w(e,t,n){let i=0;return iy(e,(function(t){return e.enter("directiveContainerFence"),e.enter("directiveContainerSequence"),r(t)}),"linePrefix",4);function r(t){return 58===t?(e.consume(t),i++,r):i<a?n(t):(e.exit("directiveContainerSequence"),iy(e,o,"whitespace")(t))}function o(i){return null===i||Jv(i)?(e.exit("directiveContainerFence"),t(i)):n(i)}}},concrete:!0},ide={tokenize:function(e,t,n){return ede(e,t,n,"directiveContainerLabel","directiveContainerLabelMarker","directiveContainerLabelString",!0)},partial:!0},rde={tokenize:function(e,t,n){return Qhe(e,t,n,"directiveContainerAttributes","directiveContainerAttributesMarker","directiveContainerAttribute","directiveContainerAttributeId","directiveContainerAttributeClass","directiveContainerAttributeName","directiveContainerAttributeInitializerMarker","directiveContainerAttributeValueLiteral","directiveContainerAttributeValue","directiveContainerAttributeValueMarker","directiveContainerAttributeValueData",!0)},partial:!0},ode={tokenize:function(e,t,n){const i=this;return function(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),r};function r(e){return i.parser.lazy[i.now().line]?n(e):t(e)}},partial:!0};const sde={tokenize:function(e,t,n){const i=this;return function(t){return e.enter("directiveLeaf"),e.enter("directiveLeafSequence"),e.consume(t),r};function r(t){return 58===t?(e.consume(t),e.exit("directiveLeafSequence"),tde.call(i,e,o,n,"directiveLeafName")):n(t)}function o(t){return 91===t?e.attempt(ade,s,s)(t):s(t)}function s(t){return 123===t?e.attempt(lde,a,a)(t):a(t)}function a(t){return iy(e,l,"whitespace")(t)}function l(i){return null===i||Jv(i)?(e.exit("directiveLeaf"),t(i)):n(i)}}},ade={tokenize:function(e,t,n){return ede(e,t,n,"directiveLeafLabel","directiveLeafLabelMarker","directiveLeafLabelString",!0)},partial:!0},lde={tokenize:function(e,t,n){return Qhe(e,t,n,"directiveLeafAttributes","directiveLeafAttributesMarker","directiveLeafAttribute","directiveLeafAttributeId","directiveLeafAttributeClass","directiveLeafAttributeName","directiveLeafAttributeInitializerMarker","directiveLeafAttributeValueLiteral","directiveLeafAttributeValue","directiveLeafAttributeValueMarker","directiveLeafAttributeValueData",!0)},partial:!0};const cde={tokenize:function(e,t,n){const i=this;return function(t){return e.enter("directiveText"),e.enter("directiveTextMarker"),e.consume(t),e.exit("directiveTextMarker"),tde.call(i,e,r,n,"directiveTextName")};function r(t){return 58===t?n(t):91===t?e.attempt(ude,o,o)(t):o(t)}function o(t){return 123===t?e.attempt(hde,s,s)(t):s(t)}function s(n){return e.exit("directiveText"),t(n)}},previous:function(e){return 58!==e||"characterEscape"===this.events[this.events.length-1][1].type}},ude={tokenize:function(e,t,n){return ede(e,t,n,"directiveTextLabel","directiveTextLabelMarker","directiveTextLabelString")},partial:!0},hde={tokenize:function(e,t,n){return Qhe(e,t,n,"directiveTextAttributes","directiveTextAttributesMarker","directiveTextAttribute","directiveTextAttributeId","directiveTextAttributeClass","directiveTextAttributeName","directiveTextAttributeInitializerMarker","directiveTextAttributeValueLiteral","directiveTextAttributeValue","directiveTextAttributeValueMarker","directiveTextAttributeValueData")},partial:!0};const dde=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],fde={0:"",128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};function pde(e){const t="string"==typeof e?e.charCodeAt(0):e;return t>=48&&t<=57}function gde(e){const t="string"==typeof e?e.charCodeAt(0):e;return t>=97&&t<=102||t>=65&&t<=70||t>=48&&t<=57}function mde(e){return function(e){const t="string"==typeof e?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}(e)||pde(e)}const vde=String.fromCharCode,yde=["","Named character references must be terminated by a semicolon","Numeric character references must be terminated by a semicolon","Named character references cannot be empty","Numeric character references cannot be empty","Named character references must be known","Numeric character references cannot be disallowed","Numeric character references cannot be outside the permissible Unicode range"];function bde(e,t={}){const n="string"==typeof t.additional?t.additional.charCodeAt(0):t.additional,i=[];let r,o,s=0,a=-1,l="";t.position&&("start"in t.position||"indent"in t.position?(o=t.position.indent,r=t.position.start):r=t.position);let c,u=(r?r.line:0)||1,h=(r?r.column:0)||1,d=p();for(s--;++s<=e.length;)if(10===c&&(h=(o?o[a]:0)||1),c=e.charCodeAt(s),38===c){const r=e.charCodeAt(s+1);if(9===r||10===r||12===r||32===r||38===r||60===r||Number.isNaN(r)||n&&r===n){l+=vde(c),h++;continue}const o=s+1;let a,u=o,v=o;if(35===r){v=++u;const t=e.charCodeAt(v);88===t||120===t?(a="hexadecimal",v=++u):a="decimal"}else a="named";let y="",b="",_="";const w="named"===a?mde:"decimal"===a?pde:gde;for(v--;++v<=e.length;){const t=e.charCodeAt(v);if(!w(t))break;_+=vde(t),"named"===a&&dde.includes(_)&&(y=_,b=my(_))}let C=59===e.charCodeAt(v);if(C){v++;const e="named"===a&&my(_);e&&(y=_,b=e)}let x=1+v-o,k="";if(C||!1!==t.nonTerminated)if(_)if("named"===a){if(C&&!b)g(5,1);else if(y!==_&&(v=u+y.length,x=1+v-u,C=!1),!C){const n=y?1:3;if(t.attribute){const t=e.charCodeAt(v);61===t?(g(n,x),b=""):mde(t)?b="":g(n,x)}else g(n,x)}k=b}else{C||g(2,x);let e=Number.parseInt(_,"hexadecimal"===a?16:10);if((f=e)>=55296&&f<=57343||f>1114111)g(7,x),k=vde(65533);else if(e in fde)g(6,x),k=fde[e];else{let t="";_de(e)&&g(6,x),e>65535&&(e-=65536,t+=vde(e>>>10|55296),e=56320|1023&e),k=t+vde(e)}}else"named"!==a&&g(4,x);else;if(k){m(),d=p(),s=v-1,h+=v-o+1,i.push(k);const n=p();n.offset++,t.reference&&t.reference.call(t.referenceContext,k,{start:d,end:n},e.slice(o-1,v)),d=n}else _=e.slice(o-1,v),l+=_,h+=_.length,s=v-1}else 10===c&&(u++,a++,h=0),Number.isNaN(c)?m():(l+=vde(c),h++);var f;return i.join("");function p(){return{line:u,column:h,offset:s+((r?r.offset:0)||0)}}function g(e,n){let i;t.warning&&(i=p(),i.column+=n,i.offset+=n,t.warning.call(t.warningContext,yde[e],i,e))}function m(){l&&(i.push(l),t.text&&t.text.call(t.textContext,l,{start:d,end:p()}),l="")}}function _de(e){return e>=1&&e<=8||11===e||e>=13&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||65535==(65535&e)||65534==(65535&e)}function wde(e,t){return e=e.replace(t.subset?function(e){const t=[];let n=-1;for(;++n<e.length;)t.push(e[n].replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"));return new RegExp("(?:"+t.join("|")+")","g")}(t.subset):/["&'<>`]/g,n),t.subset||t.escapeOnly?e:e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,(function(e,n,i){return t.format(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536,i.charCodeAt(n+2),t)})).replace(/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,n);function n(e,n,i){return t.format(e.charCodeAt(0),i.charCodeAt(n+1),t)}}function Cde(e){return"&#x"+e.toString(16).toUpperCase()+";"}const xde=function(e,t,n,i){"function"==typeof t&&"function"!=typeof n&&(i=n,n=t,t=null);const r=Ub(t),o=i?-1:1;!function e(s,a,l){const c="object"==typeof s&&null!==s?s:{};let u;"string"==typeof c.type&&(u="string"==typeof c.tagName?c.tagName:"string"==typeof c.name?c.name:void 0,Object.defineProperty(h,"name",{value:"node ("+c.type+(u?"<"+u+">":"")+")"}));return h;function h(){let c,u,h,d=[];if((!t||r(s,a,l[l.length-1]||null))&&(d=function(e){if(Array.isArray(e))return e;if("number"==typeof e)return[true,e];return[e]}(n(s,l)),false===d[0]))return d;if(s.children&&"skip"!==d[0])for(u=(i?s.children.length:-1)+o,h=l.concat(s);u>-1&&u<s.children.length;){if(c=e(s.children[u],u,h)(),false===c[0])return c;u="number"==typeof c[1]?c[1]:u+o}return d}}(e,null,[])()};const kde={}.hasOwnProperty,Sde=/^[^\t\n\r "#'.<=>`}]+$/;Pde.peek=function(){return":"};const Dde={canContainEols:["textDirective"],enter:{directiveContainer:function(e){Lde.call(this,"containerDirective",e)},directiveContainerAttributes:Nde,directiveContainerLabel:function(e){this.enter({type:"paragraph",data:{directiveLabel:!0},children:[]},e)},directiveLeaf:function(e){Lde.call(this,"leafDirective",e)},directiveLeafAttributes:Nde,directiveText:function(e){Lde.call(this,"textDirective",e)},directiveTextAttributes:Nde},exit:{directiveContainer:Rde,directiveContainerAttributeClassValue:Ade,directiveContainerAttributeIdValue:Mde,directiveContainerAttributeName:Ode,directiveContainerAttributeValue:Ide,directiveContainerAttributes:Fde,directiveContainerLabel:function(e){this.exit(e)},directiveContainerName:Tde,directiveLeaf:Rde,directiveLeafAttributeClassValue:Ade,directiveLeafAttributeIdValue:Mde,directiveLeafAttributeName:Ode,directiveLeafAttributeValue:Ide,directiveLeafAttributes:Fde,directiveLeafName:Tde,directiveText:Rde,directiveTextAttributeClassValue:Ade,directiveTextAttributeIdValue:Mde,directiveTextAttributeName:Ode,directiveTextAttributeValue:Ide,directiveTextAttributes:Fde,directiveTextName:Tde}},Ede={unsafe:[{character:"\r",inConstruct:["leafDirectiveLabel","containerDirectiveLabel"]},{character:"\n",inConstruct:["leafDirectiveLabel","containerDirectiveLabel"]},{before:"[^:]",character:":",after:"[A-Za-z]",inConstruct:["phrasing"]},{atBreak:!0,character:":",after:":"}],handlers:{containerDirective:Pde,leafDirective:Pde,textDirective:Pde}};function Lde(e,t){this.enter({type:e,name:"",attributes:{},children:[]},t)}function Tde(e){this.stack[this.stack.length-1].name=this.sliceSerialize(e)}function Nde(){this.setData("directiveAttributes",[]),this.buffer()}function Mde(e){this.getData("directiveAttributes").push(["id",bde(this.sliceSerialize(e))])}function Ade(e){this.getData("directiveAttributes").push(["class",bde(this.sliceSerialize(e))])}function Ide(e){const t=this.getData("directiveAttributes");t[t.length-1][1]=bde(this.sliceSerialize(e))}function Ode(e){this.getData("directiveAttributes").push([this.sliceSerialize(e),""])}function Fde(){const e=this.getData("directiveAttributes"),t={};let n=-1;for(;++n<e.length;){const i=e[n];"class"===i[0]&&t.class?t.class+=" "+i[1]:t[i[0]]=i[1]}this.setData("directiveAttributes"),this.resume();this.stack[this.stack.length-1].attributes=t}function Rde(e){this.exit(e)}function Pde(e,t,n){const i=function(e){let t=0;"containerDirective"===e.type?(xde(e,"containerDirective",n),t+=3):t="leafDirective"===e.type?2:1;return":".repeat(t);function n(e,n){let i=n.length,r=0;for(;i--;)"containerDirective"===n[i].type&&r++;r>t&&(t=r)}}(e),r=n.enter(e.type);let o=i+(e.name||"")+function(e,t){let n=e;if("containerDirective"===e.type){const t=(e.children||[])[0];if(!Bde(t))return"";n=t}const i=t.enter("label"),r=t.enter(e.type+"Label"),o=Wb(n,t,{before:"[",after:"]"});return r(),i(),o?"["+o+"]":""}(e,n)+function(e,t){const n=Vb(t),i="textDirective"===e.type?[n]:[n,"\n","\r"],r=e.attributes||{},o=[];let s,a,l,c;for(c in r)if(kde.call(r,c)&&void 0!==r[c]&&null!==r[c]){const e=String(r[c]);if("id"===c)l=Sde.test(e)?"#"+e:u("id",e);else if("class"===c){const t=e.split(/[\t\n\r ]+/g),n=[],i=[];let r=-1;for(;++r<t.length;)(Sde.test(t[r])?i:n).push(t[r]);s=n.length>0?u("class",n.join(" ")):"",a=i.length>0?"."+i.join("."):""}else o.push(u(c,e))}s&&o.unshift(s);a&&o.unshift(a);l&&o.unshift(l);return o.length>0?"{"+o.join(" ")+"}":"";function u(e,t){return e+(t?"="+n+function(e,t){return wde(e,Object.assign({format:Cde},t))}(t,{subset:i})+n:"")}}(e,n);if("containerDirective"===e.type){const t=function(e,t){Bde((e.children||[])[0])&&(e=Object.assign({},e,{children:e.children.slice(1)}));return Db(e,t)}(e,n);t&&(o+="\n"+t),o+="\n"+i}return r(),o}function Bde(e){return Boolean(e&&"paragraph"===e.type&&e.data&&e.data.directiveLabel)}function jde(){const e=this.data();function t(t,n){(e[t]?e[t]:e[t]=[]).push(n)}t("micromarkExtensions",{text:{58:cde},flow:{58:[nde,sde]}}),t("fromMarkdownExtensions",Dde),t("toMarkdownExtensions",Ede)}export{Ox as A,Aw as B,Nw as C,bw as D,_x as E,Ni as F,Ki as G,Fi as H,Mf as I,lr as J,Vhe as K,Ai as L,er as M,Lt as N,Mx as V,Vx as a,Vs as b,qi as c,gn as d,Xhe as e,jT as f,ML as g,wR as h,pL as i,aN as j,SR as k,xR as l,Jhe as m,gS as n,Vi as o,Mw as p,xw as q,jde as r,xT as s,QL as t,dx as u,DT as v,ST as w,zT as x,VT as y,Ax as z};
